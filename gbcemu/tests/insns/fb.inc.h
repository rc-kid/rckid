    TEST(gbcemu, opcode_fb) {
        GBCEmu gbc{"", nullptr};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // FB 0000
        gbc.setState(0x96b9, 0xfba3, 0x1f60, 0x250d, 0xfc27, 0xd333, 0x0, 0x0);
        gbc.writeMem(0x96b9, { 0xfb });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xfba3, gbc.sp());
        EXPECT(0x96ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x96b9));
        // FB 0001
        gbc.setState(0x333f, 0x974e, 0x790, 0xfd93, 0x524f, 0x1807, 0x0, 0x0);
        gbc.writeMem(0x333f, { 0xfb });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x974e, gbc.sp());
        EXPECT(0x3340, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0002
        gbc.setState(0xc1e3, 0x1692, 0x2710, 0x4cb6, 0x6c02, 0xe7bb, 0x1, 0x0);
        gbc.writeMem(0xc1e3, { 0xfb });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x1692, gbc.sp());
        EXPECT(0xc1e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc1e3));
        // FB 0003
        gbc.setState(0x1296, 0xfd4f, 0x35f0, 0xe3ec, 0x57e4, 0xa1e4, 0x0, 0x0);
        gbc.writeMem(0x1296, { 0xfb });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xfd4f, gbc.sp());
        EXPECT(0x1297, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0005
        gbc.setState(0x3a2d, 0x9519, 0xd6a0, 0x1944, 0x9894, 0xd962, 0x0, 0x1);
        gbc.writeMem(0x3a2d, { 0xfb });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x9519, gbc.sp());
        EXPECT(0x3a2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0006
        gbc.setState(0xe2a0, 0x5b53, 0x5060, 0xb3d7, 0xefbb, 0x3c6b, 0x1, 0x0);
        gbc.writeMem(0xe2a0, { 0xfb });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x5b53, gbc.sp());
        EXPECT(0xe2a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe2a0));
        // FB 0007
        gbc.setState(0x4760, 0x86cc, 0x9d50, 0x34d7, 0x9e15, 0xd8bd, 0x1, 0x1);
        gbc.writeMem(0x4760, { 0xfb });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x86cc, gbc.sp());
        EXPECT(0x4761, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0008
        gbc.setState(0x2c2e, 0x357a, 0x9370, 0x643f, 0x617e, 0xb936, 0x1, 0x1);
        gbc.writeMem(0x2c2e, { 0xfb });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x357a, gbc.sp());
        EXPECT(0x2c2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 000A
        gbc.setState(0x4052, 0x6b0d, 0xf9a0, 0x97f7, 0x2abd, 0x8622, 0x1, 0x0);
        gbc.writeMem(0x4052, { 0xfb });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x6b0d, gbc.sp());
        EXPECT(0x4053, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 000B
        gbc.setState(0xe4fe, 0x553e, 0x7a10, 0xac62, 0x8bc4, 0x588b, 0x1, 0x0);
        gbc.writeMem(0xe4fe, { 0xfb });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x553e, gbc.sp());
        EXPECT(0xe4ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe4fe));
        // FB 000C
        gbc.setState(0xc5d, 0xab96, 0x1df0, 0xcb36, 0xb9fe, 0x1cec, 0x0, 0x1);
        gbc.writeMem(0xc5d, { 0xfb });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xab96, gbc.sp());
        EXPECT(0xc5e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 000D
        gbc.setState(0xe9a, 0x2d2, 0x3e20, 0xcee9, 0xde2c, 0x9d3b, 0x1, 0x1);
        gbc.writeMem(0xe9a, { 0xfb });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x2d2, gbc.sp());
        EXPECT(0xe9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 000E
        gbc.setState(0xd3f4, 0x5b1b, 0x5d10, 0x7189, 0x45d0, 0x5e5b, 0x1, 0x1);
        gbc.writeMem(0xd3f4, { 0xfb });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x5b1b, gbc.sp());
        EXPECT(0xd3f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd3f4));
        // FB 000F
        gbc.setState(0xa964, 0x74d3, 0x76e0, 0xa128, 0xb772, 0xfebd, 0x1, 0x1);
        gbc.writeMem(0xa964, { 0xfb });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x74d3, gbc.sp());
        EXPECT(0xa965, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa964));
        // FB 0010
        gbc.setState(0x59db, 0x972, 0xeec0, 0x8d54, 0x9ccd, 0x12b1, 0x0, 0x0);
        gbc.writeMem(0x59db, { 0xfb });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x972, gbc.sp());
        EXPECT(0x59dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0011
        gbc.setState(0x84c7, 0xa314, 0x6410, 0xef94, 0x88bb, 0x1d8a, 0x0, 0x1);
        gbc.writeMem(0x84c7, { 0xfb });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xa314, gbc.sp());
        EXPECT(0x84c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x84c7));
        // FB 0012
        gbc.setState(0x322e, 0x4be3, 0x2e10, 0x1028, 0xbf9f, 0x5c7f, 0x1, 0x1);
        gbc.writeMem(0x322e, { 0xfb });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x4be3, gbc.sp());
        EXPECT(0x322f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0013
        gbc.setState(0x8c8d, 0xc5aa, 0x630, 0x94b5, 0x2702, 0x37da, 0x0, 0x0);
        gbc.writeMem(0x8c8d, { 0xfb });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xc5aa, gbc.sp());
        EXPECT(0x8c8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8c8d));
        // FB 0014
        gbc.setState(0x880b, 0x242f, 0xe480, 0x78ca, 0xc46a, 0x43be, 0x0, 0x0);
        gbc.writeMem(0x880b, { 0xfb });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x242f, gbc.sp());
        EXPECT(0x880c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x880b));
        // FB 0015
        gbc.setState(0xd746, 0x5702, 0xfda0, 0xf5a8, 0x22ec, 0xb9c0, 0x0, 0x0);
        gbc.writeMem(0xd746, { 0xfb });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x5702, gbc.sp());
        EXPECT(0xd747, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd746));
        // FB 0016
        gbc.setState(0xc8e5, 0xc174, 0xe5a0, 0x80db, 0x2a52, 0x4ced, 0x0, 0x1);
        gbc.writeMem(0xc8e5, { 0xfb });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xc174, gbc.sp());
        EXPECT(0xc8e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc8e5));
        // FB 0017
        gbc.setState(0xc977, 0x9709, 0x3c70, 0x926a, 0x7bcf, 0x1358, 0x0, 0x0);
        gbc.writeMem(0xc977, { 0xfb });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x9709, gbc.sp());
        EXPECT(0xc978, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc977));
        // FB 0018
        gbc.setState(0xc6cc, 0x6891, 0xf90, 0x51c6, 0x5991, 0xe4a9, 0x1, 0x1);
        gbc.writeMem(0xc6cc, { 0xfb });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x6891, gbc.sp());
        EXPECT(0xc6cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc6cc));
        // FB 0019
        gbc.setState(0x6ac7, 0x8e05, 0xa2f0, 0xab7b, 0x453f, 0xc68c, 0x0, 0x0);
        gbc.writeMem(0x6ac7, { 0xfb });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x8e05, gbc.sp());
        EXPECT(0x6ac8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 001A
        gbc.setState(0x5768, 0xc29, 0x11d0, 0x8dae, 0xb737, 0xa1ad, 0x0, 0x0);
        gbc.writeMem(0x5768, { 0xfb });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xc29, gbc.sp());
        EXPECT(0x5769, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 001B
        gbc.setState(0xad1f, 0x59e5, 0x9340, 0x7ed8, 0xfba8, 0xc9ea, 0x0, 0x1);
        gbc.writeMem(0xad1f, { 0xfb });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x59e5, gbc.sp());
        EXPECT(0xad20, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xad1f));
        // FB 001C
        gbc.setState(0x4efb, 0x4157, 0x9050, 0x6c74, 0xdc3e, 0x89f2, 0x1, 0x0);
        gbc.writeMem(0x4efb, { 0xfb });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x4157, gbc.sp());
        EXPECT(0x4efc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 001D
        gbc.setState(0x187e, 0xf2d4, 0x3e80, 0x848b, 0x700, 0x7984, 0x0, 0x0);
        gbc.writeMem(0x187e, { 0xfb });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xf2d4, gbc.sp());
        EXPECT(0x187f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 001E
        gbc.setState(0xa650, 0x70c4, 0x6bc0, 0x8a02, 0xcf0c, 0xde55, 0x1, 0x1);
        gbc.writeMem(0xa650, { 0xfb });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x70c4, gbc.sp());
        EXPECT(0xa651, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa650));
        // FB 001F
        gbc.setState(0x87ae, 0xc360, 0xfbf0, 0xcb99, 0x85fd, 0x45ac, 0x1, 0x0);
        gbc.writeMem(0x87ae, { 0xfb });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xc360, gbc.sp());
        EXPECT(0x87af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x87ae));
        // FB 0020
        gbc.setState(0x6e79, 0xcac, 0xed90, 0x6b41, 0x5ba7, 0xb5d0, 0x1, 0x1);
        gbc.writeMem(0x6e79, { 0xfb });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xcac, gbc.sp());
        EXPECT(0x6e7a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0021
        gbc.setState(0xbe26, 0xfbd, 0xa9f0, 0x4075, 0x28f1, 0xd3eb, 0x1, 0x0);
        gbc.writeMem(0xbe26, { 0xfb });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xfbd, gbc.sp());
        EXPECT(0xbe27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbe26));
        // FB 0022
        gbc.setState(0x60c1, 0x470e, 0x9390, 0x3bc4, 0xa7bb, 0x6248, 0x1, 0x0);
        gbc.writeMem(0x60c1, { 0xfb });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x470e, gbc.sp());
        EXPECT(0x60c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0023
        gbc.setState(0x6efb, 0x1165, 0x5e0, 0xe3aa, 0xb51, 0xc848, 0x0, 0x0);
        gbc.writeMem(0x6efb, { 0xfb });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x1165, gbc.sp());
        EXPECT(0x6efc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0024
        gbc.setState(0x4d99, 0x66a6, 0xdaa0, 0xa840, 0x416c, 0x1d4d, 0x0, 0x0);
        gbc.writeMem(0x4d99, { 0xfb });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x66a6, gbc.sp());
        EXPECT(0x4d9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0025
        gbc.setState(0xd063, 0x2726, 0xc7a0, 0x5370, 0x61a8, 0xb893, 0x1, 0x0);
        gbc.writeMem(0xd063, { 0xfb });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x2726, gbc.sp());
        EXPECT(0xd064, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd063));
        // FB 0026
        gbc.setState(0x90d5, 0xedf8, 0x6390, 0xb209, 0xa33a, 0x8f98, 0x0, 0x1);
        gbc.writeMem(0x90d5, { 0xfb });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xedf8, gbc.sp());
        EXPECT(0x90d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x90d5));
        // FB 0027
        gbc.setState(0x135e, 0x985b, 0x4270, 0xc4f0, 0x98c8, 0x5cdb, 0x1, 0x0);
        gbc.writeMem(0x135e, { 0xfb });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x985b, gbc.sp());
        EXPECT(0x135f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0028
        gbc.setState(0x676f, 0xdec3, 0x290, 0xe0bb, 0x5cdc, 0x6e01, 0x0, 0x1);
        gbc.writeMem(0x676f, { 0xfb });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xdec3, gbc.sp());
        EXPECT(0x6770, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0029
        gbc.setState(0x6efe, 0x1346, 0x6d40, 0x8770, 0xfdab, 0x8c14, 0x0, 0x0);
        gbc.writeMem(0x6efe, { 0xfb });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x1346, gbc.sp());
        EXPECT(0x6eff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 002A
        gbc.setState(0x3bf9, 0x769, 0x56c0, 0xbfa1, 0xf2f7, 0x376b, 0x1, 0x1);
        gbc.writeMem(0x3bf9, { 0xfb });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x769, gbc.sp());
        EXPECT(0x3bfa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 002B
        gbc.setState(0x70a4, 0x5f53, 0x9e70, 0xfecf, 0xed40, 0x6992, 0x0, 0x0);
        gbc.writeMem(0x70a4, { 0xfb });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x5f53, gbc.sp());
        EXPECT(0x70a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 002C
        gbc.setState(0x850e, 0xa1d9, 0x8a80, 0x7dce, 0x2984, 0x8d44, 0x1, 0x1);
        gbc.writeMem(0x850e, { 0xfb });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xa1d9, gbc.sp());
        EXPECT(0x850f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x850e));
        // FB 002D
        gbc.setState(0x4e25, 0xffa0, 0xb480, 0x6ddb, 0x218c, 0x3b02, 0x0, 0x1);
        gbc.writeMem(0x4e25, { 0xfb });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xffa0, gbc.sp());
        EXPECT(0x4e26, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 002E
        gbc.setState(0xae35, 0x4aaa, 0x9100, 0xcc1a, 0x5462, 0x54db, 0x1, 0x0);
        gbc.writeMem(0xae35, { 0xfb });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x4aaa, gbc.sp());
        EXPECT(0xae36, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xae35));
        // FB 002F
        gbc.setState(0xf0f, 0xf48a, 0x2190, 0x1337, 0xae61, 0x10b1, 0x1, 0x1);
        gbc.writeMem(0xf0f, { 0xfb });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xf48a, gbc.sp());
        EXPECT(0xf10, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0030
        gbc.setState(0x8751, 0x175, 0xdb30, 0xd8c2, 0xff4a, 0x420, 0x1, 0x1);
        gbc.writeMem(0x8751, { 0xfb });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x175, gbc.sp());
        EXPECT(0x8752, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8751));
        // FB 0031
        gbc.setState(0xaabc, 0xd272, 0x6db0, 0xdef0, 0xd3e3, 0x73b0, 0x0, 0x0);
        gbc.writeMem(0xaabc, { 0xfb });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xd272, gbc.sp());
        EXPECT(0xaabd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xaabc));
        // FB 0032
        gbc.setState(0x6f78, 0x5cc4, 0xd9c0, 0x7dfe, 0xd34d, 0x4023, 0x0, 0x0);
        gbc.writeMem(0x6f78, { 0xfb });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x5cc4, gbc.sp());
        EXPECT(0x6f79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0033
        gbc.setState(0x73f6, 0xc5db, 0x6cf0, 0x1344, 0xda92, 0x6811, 0x1, 0x0);
        gbc.writeMem(0x73f6, { 0xfb });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xc5db, gbc.sp());
        EXPECT(0x73f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0034
        gbc.setState(0x57b0, 0xbfc3, 0xda50, 0x9f77, 0xe141, 0xc1cf, 0x1, 0x0);
        gbc.writeMem(0x57b0, { 0xfb });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xbfc3, gbc.sp());
        EXPECT(0x57b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0035
        gbc.setState(0x3c8e, 0xce69, 0xe160, 0x5a0b, 0xee61, 0xd20f, 0x1, 0x0);
        gbc.writeMem(0x3c8e, { 0xfb });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xce69, gbc.sp());
        EXPECT(0x3c8f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0036
        gbc.setState(0x6484, 0x9a84, 0x5230, 0xb59c, 0xc437, 0x4532, 0x0, 0x1);
        gbc.writeMem(0x6484, { 0xfb });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x9a84, gbc.sp());
        EXPECT(0x6485, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0037
        gbc.setState(0xdb36, 0xbc94, 0xc030, 0x3be1, 0x37fb, 0x6d7, 0x1, 0x0);
        gbc.writeMem(0xdb36, { 0xfb });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xbc94, gbc.sp());
        EXPECT(0xdb37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdb36));
        // FB 0038
        gbc.setState(0x796b, 0x379d, 0xeeb0, 0x5c73, 0x2989, 0x8aef, 0x0, 0x1);
        gbc.writeMem(0x796b, { 0xfb });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x379d, gbc.sp());
        EXPECT(0x796c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0039
        gbc.setState(0x3a32, 0x9844, 0x1680, 0x8b48, 0xd701, 0x448f, 0x1, 0x0);
        gbc.writeMem(0x3a32, { 0xfb });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x9844, gbc.sp());
        EXPECT(0x3a33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 003B
        gbc.setState(0x3c5c, 0xc385, 0xd880, 0xd34f, 0x3b57, 0x6a3, 0x0, 0x1);
        gbc.writeMem(0x3c5c, { 0xfb });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xc385, gbc.sp());
        EXPECT(0x3c5d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 003C
        gbc.setState(0xcf21, 0x4afb, 0x5370, 0xf104, 0x8bc6, 0xbadc, 0x1, 0x1);
        gbc.writeMem(0xcf21, { 0xfb });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x4afb, gbc.sp());
        EXPECT(0xcf22, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xcf21));
        // FB 003D
        gbc.setState(0xd49, 0xb78e, 0xf430, 0x78e7, 0x55d7, 0x1fb3, 0x0, 0x1);
        gbc.writeMem(0xd49, { 0xfb });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xb78e, gbc.sp());
        EXPECT(0xd4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 003E
        gbc.setState(0xd850, 0x24fb, 0xa410, 0xf1b9, 0x9c9f, 0x1d7a, 0x0, 0x0);
        gbc.writeMem(0xd850, { 0xfb });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x24fb, gbc.sp());
        EXPECT(0xd851, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd850));
        // FB 003F
        gbc.setState(0xecbd, 0x451b, 0x3640, 0x26b6, 0x3d04, 0xb64f, 0x0, 0x0);
        gbc.writeMem(0xecbd, { 0xfb });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x451b, gbc.sp());
        EXPECT(0xecbe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xecbd));
        // FB 0040
        gbc.setState(0x2600, 0x67ee, 0x8d20, 0xd559, 0x9821, 0xd47c, 0x0, 0x0);
        gbc.writeMem(0x2600, { 0xfb });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x67ee, gbc.sp());
        EXPECT(0x2601, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0041
        gbc.setState(0x3b50, 0xd661, 0xb9c0, 0x5736, 0x3e60, 0x9b27, 0x0, 0x1);
        gbc.writeMem(0x3b50, { 0xfb });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xd661, gbc.sp());
        EXPECT(0x3b51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0042
        gbc.setState(0x6b99, 0x3d41, 0x8cb0, 0x98ae, 0xd08e, 0xab41, 0x0, 0x0);
        gbc.writeMem(0x6b99, { 0xfb });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x3d41, gbc.sp());
        EXPECT(0x6b9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0043
        gbc.setState(0xdbfa, 0xe123, 0x1650, 0x5000, 0x745, 0xfedf, 0x0, 0x0);
        gbc.writeMem(0xdbfa, { 0xfb });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xe123, gbc.sp());
        EXPECT(0xdbfb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdbfa));
        // FB 0044
        gbc.setState(0x485d, 0x5fb, 0xcf10, 0x544b, 0xca1f, 0xa4f6, 0x0, 0x0);
        gbc.writeMem(0x485d, { 0xfb });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x5fb, gbc.sp());
        EXPECT(0x485e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0045
        gbc.setState(0xe6ac, 0x45b1, 0x3c00, 0x2bc7, 0x187b, 0xb4a1, 0x0, 0x1);
        gbc.writeMem(0xe6ac, { 0xfb });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x45b1, gbc.sp());
        EXPECT(0xe6ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe6ac));
        // FB 0046
        gbc.setState(0xc9db, 0x6577, 0x73d0, 0xd3c3, 0x7f4b, 0x5b94, 0x0, 0x1);
        gbc.writeMem(0xc9db, { 0xfb });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x6577, gbc.sp());
        EXPECT(0xc9dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc9db));
        // FB 0047
        gbc.setState(0x2ac2, 0x6709, 0xec90, 0x8d0, 0xb834, 0x3a04, 0x1, 0x1);
        gbc.writeMem(0x2ac2, { 0xfb });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x6709, gbc.sp());
        EXPECT(0x2ac3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0048
        gbc.setState(0x1db9, 0x1139, 0xa190, 0x6c19, 0x2ede, 0x9eea, 0x0, 0x0);
        gbc.writeMem(0x1db9, { 0xfb });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x1139, gbc.sp());
        EXPECT(0x1dba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0049
        gbc.setState(0xde5, 0xb614, 0x15a0, 0x8a45, 0x6a55, 0xfe3, 0x1, 0x0);
        gbc.writeMem(0xde5, { 0xfb });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xb614, gbc.sp());
        EXPECT(0xde6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 004A
        gbc.setState(0xd9ef, 0xe39, 0x3e50, 0x70d7, 0x6464, 0xe618, 0x1, 0x1);
        gbc.writeMem(0xd9ef, { 0xfb });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xe39, gbc.sp());
        EXPECT(0xd9f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd9ef));
        // FB 004B
        gbc.setState(0x197e, 0xad12, 0xb690, 0x3f9f, 0x47c3, 0xd4c4, 0x0, 0x0);
        gbc.writeMem(0x197e, { 0xfb });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xad12, gbc.sp());
        EXPECT(0x197f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 004C
        gbc.setState(0xb13b, 0xb996, 0x6d40, 0xbc21, 0x3649, 0x11d6, 0x1, 0x0);
        gbc.writeMem(0xb13b, { 0xfb });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xb996, gbc.sp());
        EXPECT(0xb13c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb13b));
        // FB 004D
        gbc.setState(0x65f6, 0x72c4, 0x43a0, 0x3cf9, 0x85f4, 0xd2c6, 0x1, 0x1);
        gbc.writeMem(0x65f6, { 0xfb });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x72c4, gbc.sp());
        EXPECT(0x65f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 004E
        gbc.setState(0x4210, 0x56d4, 0x8ab0, 0x7f5d, 0xe2c8, 0x9479, 0x0, 0x0);
        gbc.writeMem(0x4210, { 0xfb });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x56d4, gbc.sp());
        EXPECT(0x4211, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 004F
        gbc.setState(0x347b, 0x6974, 0x46a0, 0x656c, 0xd5d6, 0x3438, 0x0, 0x1);
        gbc.writeMem(0x347b, { 0xfb });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x6974, gbc.sp());
        EXPECT(0x347c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0050
        gbc.setState(0x80c0, 0xb2af, 0xdf30, 0x29ca, 0x23b9, 0xfbb8, 0x0, 0x0);
        gbc.writeMem(0x80c0, { 0xfb });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xb2af, gbc.sp());
        EXPECT(0x80c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x80c0));
        // FB 0051
        gbc.setState(0x6e64, 0xa48a, 0x3b0, 0x49e0, 0xa49a, 0x8ab0, 0x0, 0x1);
        gbc.writeMem(0x6e64, { 0xfb });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xa48a, gbc.sp());
        EXPECT(0x6e65, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0052
        gbc.setState(0xd872, 0xbcbc, 0xa320, 0xe78e, 0x1135, 0xa41f, 0x0, 0x1);
        gbc.writeMem(0xd872, { 0xfb });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xbcbc, gbc.sp());
        EXPECT(0xd873, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd872));
        // FB 0053
        gbc.setState(0xcdc, 0xe964, 0xbb70, 0x8da7, 0xd9db, 0x25d, 0x1, 0x0);
        gbc.writeMem(0xcdc, { 0xfb });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xe964, gbc.sp());
        EXPECT(0xcdd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0054
        gbc.setState(0x3125, 0xc610, 0x63f0, 0x5cef, 0x7e97, 0xf206, 0x1, 0x0);
        gbc.writeMem(0x3125, { 0xfb });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xc610, gbc.sp());
        EXPECT(0x3126, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0055
        gbc.setState(0xaea1, 0x18e2, 0x7430, 0x35ab, 0x27e5, 0xc493, 0x1, 0x0);
        gbc.writeMem(0xaea1, { 0xfb });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x18e2, gbc.sp());
        EXPECT(0xaea2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xaea1));
        // FB 0056
        gbc.setState(0x9f72, 0x4d8f, 0x5fe0, 0x72ab, 0x728e, 0xca5b, 0x1, 0x0);
        gbc.writeMem(0x9f72, { 0xfb });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x4d8f, gbc.sp());
        EXPECT(0x9f73, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9f72));
        // FB 0057
        gbc.setState(0xa5e8, 0xa3fc, 0x4b0, 0x6c30, 0xb219, 0x3633, 0x1, 0x1);
        gbc.writeMem(0xa5e8, { 0xfb });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xa3fc, gbc.sp());
        EXPECT(0xa5e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa5e8));
        // FB 0058
        gbc.setState(0x4032, 0xe20c, 0x6650, 0xacdf, 0x6d23, 0xfbd9, 0x0, 0x0);
        gbc.writeMem(0x4032, { 0xfb });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xe20c, gbc.sp());
        EXPECT(0x4033, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0059
        gbc.setState(0x94b7, 0xd12e, 0xf4a0, 0x2eb8, 0x2cf1, 0x6ee1, 0x0, 0x0);
        gbc.writeMem(0x94b7, { 0xfb });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xd12e, gbc.sp());
        EXPECT(0x94b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x94b7));
        // FB 005A
        gbc.setState(0x9ae0, 0x3f0b, 0xc100, 0xa319, 0x8fb5, 0x1268, 0x1, 0x1);
        gbc.writeMem(0x9ae0, { 0xfb });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x3f0b, gbc.sp());
        EXPECT(0x9ae1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9ae0));
        // FB 005B
        gbc.setState(0x9b28, 0xa800, 0x5c80, 0x189, 0xfa6f, 0xf241, 0x0, 0x0);
        gbc.writeMem(0x9b28, { 0xfb });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xa800, gbc.sp());
        EXPECT(0x9b29, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9b28));
        // FB 005C
        gbc.setState(0xc787, 0x641d, 0x7210, 0x17cc, 0xe5cf, 0x7e32, 0x1, 0x1);
        gbc.writeMem(0xc787, { 0xfb });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x641d, gbc.sp());
        EXPECT(0xc788, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc787));
        // FB 005D
        gbc.setState(0x22a6, 0xcd2d, 0xe620, 0xd712, 0x847f, 0x26c7, 0x1, 0x1);
        gbc.writeMem(0x22a6, { 0xfb });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xcd2d, gbc.sp());
        EXPECT(0x22a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 005E
        gbc.setState(0x79d4, 0x51e7, 0x61d0, 0xe4ee, 0x5659, 0xdbf2, 0x0, 0x0);
        gbc.writeMem(0x79d4, { 0xfb });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x51e7, gbc.sp());
        EXPECT(0x79d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 005F
        gbc.setState(0xb668, 0x2c99, 0x6110, 0x4779, 0x3b22, 0xac91, 0x1, 0x0);
        gbc.writeMem(0xb668, { 0xfb });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x2c99, gbc.sp());
        EXPECT(0xb669, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb668));
        // FB 0060
        gbc.setState(0xa696, 0x68ec, 0x860, 0xa748, 0xbd59, 0xee2b, 0x1, 0x1);
        gbc.writeMem(0xa696, { 0xfb });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x68ec, gbc.sp());
        EXPECT(0xa697, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa696));
        // FB 0061
        gbc.setState(0x7fa6, 0x6ad7, 0xefe0, 0xb7a6, 0x5991, 0xadf7, 0x1, 0x0);
        gbc.writeMem(0x7fa6, { 0xfb });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x6ad7, gbc.sp());
        EXPECT(0x7fa7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0062
        gbc.setState(0xb79b, 0xfece, 0x68a0, 0x20a1, 0x4f77, 0x3992, 0x0, 0x1);
        gbc.writeMem(0xb79b, { 0xfb });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xfece, gbc.sp());
        EXPECT(0xb79c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb79b));
        // FB 0063
        gbc.setState(0xe130, 0x473c, 0xe620, 0x9105, 0x42fc, 0xc41c, 0x1, 0x1);
        gbc.writeMem(0xe130, { 0xfb });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x473c, gbc.sp());
        EXPECT(0xe131, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe130));
        // FB 0064
        gbc.setState(0x2f6a, 0x8852, 0x81a0, 0xc9cb, 0x595c, 0x858b, 0x1, 0x1);
        gbc.writeMem(0x2f6a, { 0xfb });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x8852, gbc.sp());
        EXPECT(0x2f6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0066
        gbc.setState(0xb9b5, 0x9314, 0xcf70, 0x2c7d, 0xcd5f, 0x5594, 0x1, 0x0);
        gbc.writeMem(0xb9b5, { 0xfb });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x9314, gbc.sp());
        EXPECT(0xb9b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb9b5));
        // FB 0067
        gbc.setState(0xb4c8, 0xfd43, 0x2850, 0x6dcc, 0xab95, 0xb28a, 0x1, 0x1);
        gbc.writeMem(0xb4c8, { 0xfb });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xfd43, gbc.sp());
        EXPECT(0xb4c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb4c8));
        // FB 0068
        gbc.setState(0x5978, 0x8cc0, 0x4280, 0xb0e5, 0xa26f, 0x4bd8, 0x0, 0x0);
        gbc.writeMem(0x5978, { 0xfb });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x8cc0, gbc.sp());
        EXPECT(0x5979, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0069
        gbc.setState(0x5a0, 0x95a1, 0xf590, 0x5126, 0x8171, 0x30b0, 0x0, 0x0);
        gbc.writeMem(0x5a0, { 0xfb });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x95a1, gbc.sp());
        EXPECT(0x5a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 006A
        gbc.setState(0x197e, 0x8a17, 0xbd50, 0xabf3, 0xb1bb, 0x459c, 0x1, 0x0);
        gbc.writeMem(0x197e, { 0xfb });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x8a17, gbc.sp());
        EXPECT(0x197f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 006B
        gbc.setState(0xdcb2, 0x459e, 0x7c50, 0x6b6f, 0xd61c, 0x6102, 0x0, 0x1);
        gbc.writeMem(0xdcb2, { 0xfb });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x459e, gbc.sp());
        EXPECT(0xdcb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdcb2));
        // FB 006C
        gbc.setState(0x1e67, 0x654c, 0x640, 0x107a, 0x25d3, 0x7f91, 0x1, 0x1);
        gbc.writeMem(0x1e67, { 0xfb });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x654c, gbc.sp());
        EXPECT(0x1e68, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 006D
        gbc.setState(0x5386, 0xa700, 0xbc0, 0x940c, 0x5ecd, 0x9ddb, 0x1, 0x0);
        gbc.writeMem(0x5386, { 0xfb });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xa700, gbc.sp());
        EXPECT(0x5387, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 006E
        gbc.setState(0x10c3, 0xf871, 0x6e30, 0xbef5, 0x8db0, 0xeb58, 0x1, 0x0);
        gbc.writeMem(0x10c3, { 0xfb });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xf871, gbc.sp());
        EXPECT(0x10c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 006F
        gbc.setState(0xe903, 0x6bcc, 0x5100, 0x8a7c, 0xc0fa, 0x3df2, 0x0, 0x1);
        gbc.writeMem(0xe903, { 0xfb });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x6bcc, gbc.sp());
        EXPECT(0xe904, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe903));
        // FB 0070
        gbc.setState(0x9571, 0x642a, 0xcb0, 0x9f89, 0x1d66, 0xa041, 0x0, 0x0);
        gbc.writeMem(0x9571, { 0xfb });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x642a, gbc.sp());
        EXPECT(0x9572, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9571));
        // FB 0071
        gbc.setState(0xae3c, 0x4b22, 0x19f0, 0x393f, 0x3e31, 0x4243, 0x0, 0x1);
        gbc.writeMem(0xae3c, { 0xfb });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x4b22, gbc.sp());
        EXPECT(0xae3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xae3c));
        // FB 0073
        gbc.setState(0x244f, 0x6d79, 0x7880, 0x4312, 0xf700, 0xadf2, 0x1, 0x1);
        gbc.writeMem(0x244f, { 0xfb });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x6d79, gbc.sp());
        EXPECT(0x2450, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0074
        gbc.setState(0x4e5f, 0xfb8b, 0xd4f0, 0x12f2, 0xa787, 0x8c6d, 0x0, 0x1);
        gbc.writeMem(0x4e5f, { 0xfb });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xfb8b, gbc.sp());
        EXPECT(0x4e60, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0075
        gbc.setState(0x2df2, 0x12e4, 0x6390, 0x7109, 0xb3ef, 0x9b18, 0x0, 0x1);
        gbc.writeMem(0x2df2, { 0xfb });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x12e4, gbc.sp());
        EXPECT(0x2df3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0077
        gbc.setState(0x994b, 0xbc8, 0x29b0, 0x6e1a, 0x63c2, 0x5b51, 0x1, 0x1);
        gbc.writeMem(0x994b, { 0xfb });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xbc8, gbc.sp());
        EXPECT(0x994c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x994b));
        // FB 0079
        gbc.setState(0x9fa, 0x2fb8, 0xcfb0, 0xad3e, 0x4f1b, 0xe105, 0x0, 0x1);
        gbc.writeMem(0x9fa, { 0xfb });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x2fb8, gbc.sp());
        EXPECT(0x9fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 007A
        gbc.setState(0x9bac, 0x694f, 0xfbc0, 0x11a8, 0xd8e4, 0x4a06, 0x0, 0x0);
        gbc.writeMem(0x9bac, { 0xfb });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x694f, gbc.sp());
        EXPECT(0x9bad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9bac));
        // FB 007B
        gbc.setState(0x258d, 0x129a, 0xc790, 0x535c, 0xcbf2, 0xfa02, 0x1, 0x0);
        gbc.writeMem(0x258d, { 0xfb });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x129a, gbc.sp());
        EXPECT(0x258e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 007C
        gbc.setState(0xa6d, 0xa929, 0x8070, 0x9ac1, 0x8989, 0xb828, 0x0, 0x0);
        gbc.writeMem(0xa6d, { 0xfb });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xa929, gbc.sp());
        EXPECT(0xa6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 007D
        gbc.setState(0x8635, 0xe55d, 0xb770, 0xa959, 0xadaa, 0x1e59, 0x1, 0x0);
        gbc.writeMem(0x8635, { 0xfb });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xe55d, gbc.sp());
        EXPECT(0x8636, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8635));
        // FB 007E
        gbc.setState(0xc2e6, 0x51d9, 0x40c0, 0x59c0, 0x50d, 0xe5cd, 0x1, 0x1);
        gbc.writeMem(0xc2e6, { 0xfb });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x51d9, gbc.sp());
        EXPECT(0xc2e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc2e6));
        // FB 007F
        gbc.setState(0x9f2d, 0xbe3b, 0x45b0, 0x5bba, 0x5cf1, 0xaf69, 0x0, 0x0);
        gbc.writeMem(0x9f2d, { 0xfb });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xbe3b, gbc.sp());
        EXPECT(0x9f2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9f2d));
        // FB 0080
        gbc.setState(0xe454, 0x817d, 0xa2c0, 0xe080, 0xf0df, 0x5741, 0x0, 0x1);
        gbc.writeMem(0xe454, { 0xfb });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x817d, gbc.sp());
        EXPECT(0xe455, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe454));
        // FB 0081
        gbc.setState(0xe454, 0x53b7, 0xd050, 0x1a95, 0xb45e, 0xb7aa, 0x1, 0x1);
        gbc.writeMem(0xe454, { 0xfb });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x53b7, gbc.sp());
        EXPECT(0xe455, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe454));
        // FB 0082
        gbc.setState(0xd3b9, 0x72b0, 0x28e0, 0x3b6a, 0x18aa, 0xfc79, 0x1, 0x1);
        gbc.writeMem(0xd3b9, { 0xfb });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x72b0, gbc.sp());
        EXPECT(0xd3ba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd3b9));
        // FB 0083
        gbc.setState(0x21cf, 0xd3d8, 0x4840, 0xe904, 0x4356, 0x4c5e, 0x1, 0x0);
        gbc.writeMem(0x21cf, { 0xfb });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xd3d8, gbc.sp());
        EXPECT(0x21d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0084
        gbc.setState(0x7d89, 0x13d4, 0x3510, 0x688c, 0x117d, 0xc625, 0x0, 0x1);
        gbc.writeMem(0x7d89, { 0xfb });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x13d4, gbc.sp());
        EXPECT(0x7d8a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0085
        gbc.setState(0x821a, 0x8289, 0x9e40, 0x199d, 0x406f, 0x942c, 0x0, 0x1);
        gbc.writeMem(0x821a, { 0xfb });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x8289, gbc.sp());
        EXPECT(0x821b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x821a));
        // FB 0086
        gbc.setState(0xe69f, 0x2085, 0x8e40, 0xbb27, 0x4337, 0xd27e, 0x0, 0x0);
        gbc.writeMem(0xe69f, { 0xfb });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x2085, gbc.sp());
        EXPECT(0xe6a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe69f));
        // FB 0087
        gbc.setState(0x4124, 0xff5b, 0x6170, 0x8a6b, 0xe78, 0x52db, 0x1, 0x0);
        gbc.writeMem(0x4124, { 0xfb });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xff5b, gbc.sp());
        EXPECT(0x4125, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0088
        gbc.setState(0x3d07, 0xccce, 0xac50, 0x581c, 0xffb9, 0x6934, 0x0, 0x0);
        gbc.writeMem(0x3d07, { 0xfb });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xccce, gbc.sp());
        EXPECT(0x3d08, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0089
        gbc.setState(0xb28b, 0x333e, 0x3fd0, 0x9793, 0xf657, 0xba0, 0x0, 0x1);
        gbc.writeMem(0xb28b, { 0xfb });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x333e, gbc.sp());
        EXPECT(0xb28c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb28b));
        // FB 008A
        gbc.setState(0x1723, 0x7484, 0xa3a0, 0xa0bb, 0xb362, 0x82ee, 0x1, 0x0);
        gbc.writeMem(0x1723, { 0xfb });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x7484, gbc.sp());
        EXPECT(0x1724, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 008B
        gbc.setState(0x8fa3, 0x3cd0, 0xcd30, 0xc04, 0x7a5, 0x34c5, 0x0, 0x0);
        gbc.writeMem(0x8fa3, { 0xfb });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x3cd0, gbc.sp());
        EXPECT(0x8fa4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8fa3));
        // FB 008C
        gbc.setState(0xcbb4, 0xd87a, 0x7fc0, 0x8f56, 0xfd91, 0x588f, 0x1, 0x0);
        gbc.writeMem(0xcbb4, { 0xfb });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xd87a, gbc.sp());
        EXPECT(0xcbb5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xcbb4));
        // FB 008D
        gbc.setState(0x1439, 0x1739, 0x3b50, 0x5748, 0x5ba4, 0x39d8, 0x1, 0x0);
        gbc.writeMem(0x1439, { 0xfb });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x1739, gbc.sp());
        EXPECT(0x143a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 008E
        gbc.setState(0x370a, 0xc826, 0xef90, 0x773e, 0xfe7b, 0xe48e, 0x1, 0x1);
        gbc.writeMem(0x370a, { 0xfb });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xc826, gbc.sp());
        EXPECT(0x370b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 008F
        gbc.setState(0x5cd, 0x717, 0x15d0, 0x754e, 0xe36b, 0xcbc8, 0x1, 0x1);
        gbc.writeMem(0x5cd, { 0xfb });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x717, gbc.sp());
        EXPECT(0x5ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0090
        gbc.setState(0xca01, 0xa0af, 0x2a00, 0x60f3, 0xfc4c, 0x3562, 0x1, 0x0);
        gbc.writeMem(0xca01, { 0xfb });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xa0af, gbc.sp());
        EXPECT(0xca02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xca01));
        // FB 0091
        gbc.setState(0x7984, 0x8366, 0xba00, 0xc675, 0x3046, 0x3cd0, 0x0, 0x1);
        gbc.writeMem(0x7984, { 0xfb });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x8366, gbc.sp());
        EXPECT(0x7985, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0092
        gbc.setState(0xb625, 0xa66d, 0x7d10, 0xe7c3, 0xd8ef, 0xd9a5, 0x1, 0x0);
        gbc.writeMem(0xb625, { 0xfb });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xa66d, gbc.sp());
        EXPECT(0xb626, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb625));
        // FB 0093
        gbc.setState(0x58a7, 0xed48, 0x39c0, 0x7a3b, 0x9808, 0x43cf, 0x1, 0x1);
        gbc.writeMem(0x58a7, { 0xfb });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xed48, gbc.sp());
        EXPECT(0x58a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0094
        gbc.setState(0x486b, 0x4db8, 0x90f0, 0x8ccd, 0x6b40, 0xeb42, 0x1, 0x0);
        gbc.writeMem(0x486b, { 0xfb });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x4db8, gbc.sp());
        EXPECT(0x486c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0096
        gbc.setState(0xe5e3, 0x3db5, 0xbda0, 0x36f5, 0x5772, 0x947e, 0x0, 0x1);
        gbc.writeMem(0xe5e3, { 0xfb });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x3db5, gbc.sp());
        EXPECT(0xe5e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe5e3));
        // FB 0097
        gbc.setState(0xa217, 0x4bc3, 0x700, 0x2439, 0x8dbb, 0xd042, 0x0, 0x1);
        gbc.writeMem(0xa217, { 0xfb });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x4bc3, gbc.sp());
        EXPECT(0xa218, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa217));
        // FB 0098
        gbc.setState(0xfff, 0x80fc, 0x76b0, 0x51a8, 0x6023, 0x59b4, 0x0, 0x0);
        gbc.writeMem(0xfff, { 0xfb });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x80fc, gbc.sp());
        EXPECT(0x1000, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0099
        gbc.setState(0x4c9f, 0x1963, 0x8020, 0x1c8b, 0x8e91, 0xbfa2, 0x0, 0x1);
        gbc.writeMem(0x4c9f, { 0xfb });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x1963, gbc.sp());
        EXPECT(0x4ca0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 009B
        gbc.setState(0x59fb, 0x86a2, 0x320, 0xb681, 0xb21d, 0x894a, 0x0, 0x1);
        gbc.writeMem(0x59fb, { 0xfb });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x86a2, gbc.sp());
        EXPECT(0x59fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 009C
        gbc.setState(0x8cdb, 0x4614, 0x44e0, 0xeb27, 0xd58d, 0x9f91, 0x0, 0x1);
        gbc.writeMem(0x8cdb, { 0xfb });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x4614, gbc.sp());
        EXPECT(0x8cdc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8cdb));
        // FB 009D
        gbc.setState(0x41d0, 0xc9da, 0x7e30, 0xcc8a, 0x22dd, 0x90ce, 0x0, 0x0);
        gbc.writeMem(0x41d0, { 0xfb });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xc9da, gbc.sp());
        EXPECT(0x41d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 009E
        gbc.setState(0xcd08, 0xf282, 0x5570, 0x2dce, 0xc663, 0xaa5e, 0x0, 0x1);
        gbc.writeMem(0xcd08, { 0xfb });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xf282, gbc.sp());
        EXPECT(0xcd09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xcd08));
        // FB 009F
        gbc.setState(0xa3e1, 0x5fb, 0x55e0, 0x251d, 0x588a, 0xca26, 0x1, 0x1);
        gbc.writeMem(0xa3e1, { 0xfb });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x5fb, gbc.sp());
        EXPECT(0xa3e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa3e1));
        // FB 00A0
        gbc.setState(0xa0c5, 0xb75, 0x80d0, 0xc977, 0x779e, 0xb84, 0x1, 0x0);
        gbc.writeMem(0xa0c5, { 0xfb });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xb75, gbc.sp());
        EXPECT(0xa0c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa0c5));
        // FB 00A1
        gbc.setState(0x309a, 0x99f7, 0x3420, 0x2873, 0x64d1, 0x2114, 0x0, 0x1);
        gbc.writeMem(0x309a, { 0xfb });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x99f7, gbc.sp());
        EXPECT(0x309b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00A2
        gbc.setState(0x9ae5, 0x1735, 0x5f0, 0x1099, 0x10a7, 0x4e5c, 0x1, 0x1);
        gbc.writeMem(0x9ae5, { 0xfb });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x1735, gbc.sp());
        EXPECT(0x9ae6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9ae5));
        // FB 00A3
        gbc.setState(0xb925, 0xfeaa, 0x6510, 0x27f, 0x3563, 0x5bf6, 0x0, 0x1);
        gbc.writeMem(0xb925, { 0xfb });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xfeaa, gbc.sp());
        EXPECT(0xb926, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb925));
        // FB 00A4
        gbc.setState(0x61e4, 0x8a65, 0x97c0, 0x7504, 0x1392, 0xee8d, 0x1, 0x0);
        gbc.writeMem(0x61e4, { 0xfb });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x8a65, gbc.sp());
        EXPECT(0x61e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00A5
        gbc.setState(0x48b0, 0x26ba, 0xe1a0, 0x87e9, 0x9f00, 0xcdae, 0x0, 0x1);
        gbc.writeMem(0x48b0, { 0xfb });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x26ba, gbc.sp());
        EXPECT(0x48b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00A6
        gbc.setState(0xd52f, 0x8a55, 0x59d0, 0xee58, 0x4f9c, 0xaaca, 0x0, 0x1);
        gbc.writeMem(0xd52f, { 0xfb });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x8a55, gbc.sp());
        EXPECT(0xd530, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd52f));
        // FB 00A7
        gbc.setState(0xb798, 0x7a22, 0x45b0, 0x6680, 0x9d72, 0x6d9f, 0x1, 0x0);
        gbc.writeMem(0xb798, { 0xfb });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x7a22, gbc.sp());
        EXPECT(0xb799, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb798));
        // FB 00A8
        gbc.setState(0xdaac, 0x3ecf, 0x6c20, 0x39ab, 0x12e8, 0xac17, 0x1, 0x0);
        gbc.writeMem(0xdaac, { 0xfb });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x3ecf, gbc.sp());
        EXPECT(0xdaad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdaac));
        // FB 00A9
        gbc.setState(0x3de3, 0xe71, 0x30, 0x17fc, 0x8020, 0x9e48, 0x0, 0x0);
        gbc.writeMem(0x3de3, { 0xfb });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xe71, gbc.sp());
        EXPECT(0x3de4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00AA
        gbc.setState(0x706b, 0x630a, 0x6a20, 0x37bd, 0x2fc0, 0x465, 0x0, 0x1);
        gbc.writeMem(0x706b, { 0xfb });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x630a, gbc.sp());
        EXPECT(0x706c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00AB
        gbc.setState(0x7a54, 0xf8af, 0x1ca0, 0x8710, 0x40e0, 0x32a6, 0x0, 0x1);
        gbc.writeMem(0x7a54, { 0xfb });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xf8af, gbc.sp());
        EXPECT(0x7a55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00AC
        gbc.setState(0x7a0c, 0x4130, 0x8920, 0x7e27, 0x2bba, 0xc970, 0x0, 0x0);
        gbc.writeMem(0x7a0c, { 0xfb });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x4130, gbc.sp());
        EXPECT(0x7a0d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00AE
        gbc.setState(0xc5d8, 0xe285, 0xa220, 0xf22e, 0x86d8, 0x4794, 0x0, 0x0);
        gbc.writeMem(0xc5d8, { 0xfb });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xe285, gbc.sp());
        EXPECT(0xc5d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc5d8));
        // FB 00AF
        gbc.setState(0x294f, 0x1c9c, 0xcde0, 0x36bb, 0xb8bb, 0x5eb7, 0x0, 0x0);
        gbc.writeMem(0x294f, { 0xfb });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x1c9c, gbc.sp());
        EXPECT(0x2950, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00B0
        gbc.setState(0x5483, 0xe402, 0x9150, 0xd783, 0xb8aa, 0xa4f3, 0x1, 0x0);
        gbc.writeMem(0x5483, { 0xfb });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xe402, gbc.sp());
        EXPECT(0x5484, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00B1
        gbc.setState(0xb0b7, 0x3c98, 0x6510, 0x42b0, 0x6f3c, 0x63af, 0x0, 0x0);
        gbc.writeMem(0xb0b7, { 0xfb });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x3c98, gbc.sp());
        EXPECT(0xb0b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb0b7));
        // FB 00B2
        gbc.setState(0xe511, 0xec75, 0x5320, 0x5f9f, 0xa283, 0xa875, 0x1, 0x0);
        gbc.writeMem(0xe511, { 0xfb });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xec75, gbc.sp());
        EXPECT(0xe512, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe511));
        // FB 00B3
        gbc.setState(0xe94f, 0x8f20, 0xe730, 0xf235, 0x2b47, 0x38cf, 0x0, 0x0);
        gbc.writeMem(0xe94f, { 0xfb });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x8f20, gbc.sp());
        EXPECT(0xe950, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe94f));
        // FB 00B4
        gbc.setState(0xa19, 0xaa35, 0xf300, 0x95d, 0x5708, 0x787, 0x1, 0x0);
        gbc.writeMem(0xa19, { 0xfb });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xaa35, gbc.sp());
        EXPECT(0xa1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00B5
        gbc.setState(0xc069, 0x420e, 0x4a60, 0xb5ee, 0x468d, 0xf556, 0x0, 0x1);
        gbc.writeMem(0xc069, { 0xfb });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x420e, gbc.sp());
        EXPECT(0xc06a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc069));
        // FB 00B6
        gbc.setState(0x9f02, 0x3bed, 0xc580, 0x83ee, 0xe16e, 0x112b, 0x0, 0x1);
        gbc.writeMem(0x9f02, { 0xfb });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x3bed, gbc.sp());
        EXPECT(0x9f03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9f02));
        // FB 00B7
        gbc.setState(0xd552, 0x3531, 0xfea0, 0x7b8c, 0xa5e0, 0x44e1, 0x0, 0x1);
        gbc.writeMem(0xd552, { 0xfb });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x3531, gbc.sp());
        EXPECT(0xd553, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd552));
        // FB 00B8
        gbc.setState(0xb9a, 0xc448, 0x3dd0, 0xe941, 0x6fd9, 0xe7f1, 0x1, 0x0);
        gbc.writeMem(0xb9a, { 0xfb });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xc448, gbc.sp());
        EXPECT(0xb9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00B9
        gbc.setState(0x8d9a, 0x9d5b, 0xfb0, 0xc288, 0xee26, 0xe949, 0x1, 0x1);
        gbc.writeMem(0x8d9a, { 0xfb });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x9d5b, gbc.sp());
        EXPECT(0x8d9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8d9a));
        // FB 00BA
        gbc.setState(0xcc05, 0x38bb, 0xe920, 0x58f6, 0x2dbb, 0x1c18, 0x0, 0x0);
        gbc.writeMem(0xcc05, { 0xfb });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x38bb, gbc.sp());
        EXPECT(0xcc06, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xcc05));
        // FB 00BB
        gbc.setState(0x9d68, 0x2aae, 0x7d0, 0xeb6a, 0xfcbe, 0xdbb1, 0x1, 0x1);
        gbc.writeMem(0x9d68, { 0xfb });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x2aae, gbc.sp());
        EXPECT(0x9d69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9d68));
        // FB 00BD
        gbc.setState(0xb713, 0x40a, 0x1a00, 0xdc00, 0xf9e3, 0xd3bf, 0x0, 0x1);
        gbc.writeMem(0xb713, { 0xfb });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x40a, gbc.sp());
        EXPECT(0xb714, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb713));
        // FB 00BE
        gbc.setState(0xb30f, 0xbc4a, 0xcd40, 0x4e70, 0x4f7d, 0x2dbe, 0x0, 0x0);
        gbc.writeMem(0xb30f, { 0xfb });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xbc4a, gbc.sp());
        EXPECT(0xb310, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb30f));
        // FB 00BF
        gbc.setState(0x6c6d, 0x8b9c, 0x6330, 0x5060, 0xe072, 0xb55c, 0x1, 0x0);
        gbc.writeMem(0x6c6d, { 0xfb });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x8b9c, gbc.sp());
        EXPECT(0x6c6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00C0
        gbc.setState(0xa750, 0xe35e, 0xb220, 0x6106, 0x437c, 0xc5b, 0x1, 0x1);
        gbc.writeMem(0xa750, { 0xfb });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xe35e, gbc.sp());
        EXPECT(0xa751, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa750));
        // FB 00C1
        gbc.setState(0x5c0, 0x5283, 0x5c0, 0xa4eb, 0x2d60, 0x3d96, 0x1, 0x1);
        gbc.writeMem(0x5c0, { 0xfb });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x5283, gbc.sp());
        EXPECT(0x5c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00C2
        gbc.setState(0x7fb8, 0xa1ce, 0x2570, 0xf98c, 0xdc08, 0x587b, 0x0, 0x0);
        gbc.writeMem(0x7fb8, { 0xfb });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xa1ce, gbc.sp());
        EXPECT(0x7fb9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00C3
        gbc.setState(0xa1a3, 0xb755, 0x6750, 0xf6ea, 0x54dc, 0x1dcf, 0x0, 0x0);
        gbc.writeMem(0xa1a3, { 0xfb });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xb755, gbc.sp());
        EXPECT(0xa1a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa1a3));
        // FB 00C4
        gbc.setState(0x181d, 0x5286, 0xfb20, 0xfc71, 0x5c32, 0x834e, 0x0, 0x1);
        gbc.writeMem(0x181d, { 0xfb });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x5286, gbc.sp());
        EXPECT(0x181e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00C5
        gbc.setState(0xa1eb, 0xf25a, 0xf7f0, 0xdeee, 0x6eb4, 0xcc81, 0x0, 0x0);
        gbc.writeMem(0xa1eb, { 0xfb });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xf25a, gbc.sp());
        EXPECT(0xa1ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa1eb));
        // FB 00C6
        gbc.setState(0xd1e4, 0x4f1a, 0x820, 0x6ddb, 0xf054, 0xf4b9, 0x0, 0x0);
        gbc.writeMem(0xd1e4, { 0xfb });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x4f1a, gbc.sp());
        EXPECT(0xd1e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd1e4));
        // FB 00C8
        gbc.setState(0x9a3c, 0x4188, 0x73e0, 0x6749, 0xb720, 0x17ae, 0x0, 0x1);
        gbc.writeMem(0x9a3c, { 0xfb });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x4188, gbc.sp());
        EXPECT(0x9a3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9a3c));
        // FB 00C9
        gbc.setState(0x202, 0x862d, 0xd7f0, 0x6d94, 0xe5a5, 0x2a1b, 0x0, 0x1);
        gbc.writeMem(0x202, { 0xfb });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x862d, gbc.sp());
        EXPECT(0x203, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00CA
        gbc.setState(0xeeb6, 0xdc21, 0x6ee0, 0x199f, 0x7f17, 0x9f5, 0x1, 0x1);
        gbc.writeMem(0xeeb6, { 0xfb });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xdc21, gbc.sp());
        EXPECT(0xeeb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xeeb6));
        // FB 00CB
        gbc.setState(0x39c9, 0xb98, 0xb1c0, 0x3113, 0x1484, 0xe42a, 0x0, 0x1);
        gbc.writeMem(0x39c9, { 0xfb });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xb98, gbc.sp());
        EXPECT(0x39ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00CC
        gbc.setState(0x6f3f, 0x93ef, 0x7400, 0x8280, 0xcd16, 0x2c9d, 0x0, 0x1);
        gbc.writeMem(0x6f3f, { 0xfb });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x93ef, gbc.sp());
        EXPECT(0x6f40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00CD
        gbc.setState(0x4a1a, 0x1e2f, 0x5330, 0x8abb, 0x6747, 0xdf01, 0x1, 0x0);
        gbc.writeMem(0x4a1a, { 0xfb });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x1e2f, gbc.sp());
        EXPECT(0x4a1b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00CE
        gbc.setState(0x84a0, 0xbf4, 0x3890, 0x7ac2, 0x7d5f, 0x95db, 0x0, 0x0);
        gbc.writeMem(0x84a0, { 0xfb });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xbf4, gbc.sp());
        EXPECT(0x84a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x84a0));
        // FB 00CF
        gbc.setState(0xda00, 0x2592, 0xc2e0, 0x576c, 0x629e, 0x8dcd, 0x1, 0x1);
        gbc.writeMem(0xda00, { 0xfb });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x2592, gbc.sp());
        EXPECT(0xda01, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xda00));
        // FB 00D0
        gbc.setState(0xcdf8, 0xb409, 0xff90, 0x9032, 0x114c, 0x6fe0, 0x1, 0x1);
        gbc.writeMem(0xcdf8, { 0xfb });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xb409, gbc.sp());
        EXPECT(0xcdf9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xcdf8));
        // FB 00D2
        gbc.setState(0x7e7a, 0x99cf, 0xfa00, 0xcf86, 0xe78c, 0xfc69, 0x0, 0x1);
        gbc.writeMem(0x7e7a, { 0xfb });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x99cf, gbc.sp());
        EXPECT(0x7e7b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00D3
        gbc.setState(0x21e1, 0xe88, 0x2d80, 0x999c, 0x6e7f, 0xf288, 0x1, 0x0);
        gbc.writeMem(0x21e1, { 0xfb });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xe88, gbc.sp());
        EXPECT(0x21e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00D4
        gbc.setState(0x2077, 0x4c5c, 0xabb0, 0x6d31, 0x55fe, 0xd24c, 0x1, 0x0);
        gbc.writeMem(0x2077, { 0xfb });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x4c5c, gbc.sp());
        EXPECT(0x2078, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00D5
        gbc.setState(0x3a76, 0x1e16, 0x7540, 0x46d5, 0x499d, 0x8cf6, 0x1, 0x0);
        gbc.writeMem(0x3a76, { 0xfb });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x1e16, gbc.sp());
        EXPECT(0x3a77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00D6
        gbc.setState(0x3485, 0x4a40, 0x7d60, 0xd413, 0xedeb, 0x6cc4, 0x0, 0x0);
        gbc.writeMem(0x3485, { 0xfb });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x4a40, gbc.sp());
        EXPECT(0x3486, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00D7
        gbc.setState(0xa4e8, 0x3830, 0x2f10, 0xb063, 0x4673, 0xa512, 0x1, 0x1);
        gbc.writeMem(0xa4e8, { 0xfb });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x3830, gbc.sp());
        EXPECT(0xa4e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa4e8));
        // FB 00D8
        gbc.setState(0x4c50, 0xbd5b, 0x3920, 0x5356, 0xdec7, 0x997c, 0x0, 0x0);
        gbc.writeMem(0x4c50, { 0xfb });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xbd5b, gbc.sp());
        EXPECT(0x4c51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00D9
        gbc.setState(0x3239, 0xbd6f, 0xa380, 0x2e75, 0xb5ea, 0xdc54, 0x1, 0x0);
        gbc.writeMem(0x3239, { 0xfb });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xbd6f, gbc.sp());
        EXPECT(0x323a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00DA
        gbc.setState(0x68c1, 0x1f12, 0xd450, 0x7cbb, 0x2390, 0x4109, 0x1, 0x0);
        gbc.writeMem(0x68c1, { 0xfb });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x1f12, gbc.sp());
        EXPECT(0x68c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00DB
        gbc.setState(0x8844, 0x923c, 0x8750, 0x29e2, 0x584f, 0x7016, 0x1, 0x1);
        gbc.writeMem(0x8844, { 0xfb });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x923c, gbc.sp());
        EXPECT(0x8845, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8844));
        // FB 00DC
        gbc.setState(0x5b48, 0x469, 0xe320, 0x1339, 0x1a4, 0xf6d8, 0x0, 0x0);
        gbc.writeMem(0x5b48, { 0xfb });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x469, gbc.sp());
        EXPECT(0x5b49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00DD
        gbc.setState(0x8eb3, 0x6d9d, 0x9b80, 0x3c32, 0x2db9, 0xb35b, 0x0, 0x0);
        gbc.writeMem(0x8eb3, { 0xfb });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x6d9d, gbc.sp());
        EXPECT(0x8eb4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8eb3));
        // FB 00DE
        gbc.setState(0x45e7, 0xc7a3, 0xb6f0, 0xaba8, 0x2940, 0x3f87, 0x1, 0x1);
        gbc.writeMem(0x45e7, { 0xfb });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xc7a3, gbc.sp());
        EXPECT(0x45e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00DF
        gbc.setState(0x879, 0x72e, 0xb5b0, 0x55d8, 0x9a0d, 0x6aab, 0x0, 0x0);
        gbc.writeMem(0x879, { 0xfb });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x72e, gbc.sp());
        EXPECT(0x87a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00E0
        gbc.setState(0xd6d7, 0xd57c, 0xb3e0, 0xfbbd, 0x5922, 0x8514, 0x0, 0x1);
        gbc.writeMem(0xd6d7, { 0xfb });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xd57c, gbc.sp());
        EXPECT(0xd6d8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd6d7));
        // FB 00E1
        gbc.setState(0xba75, 0x250e, 0xe460, 0xec25, 0x14c2, 0xb507, 0x1, 0x1);
        gbc.writeMem(0xba75, { 0xfb });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x250e, gbc.sp());
        EXPECT(0xba76, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xba75));
        // FB 00E2
        gbc.setState(0xa9da, 0x6419, 0xc6e0, 0x829d, 0x1246, 0xca81, 0x0, 0x1);
        gbc.writeMem(0xa9da, { 0xfb });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x6419, gbc.sp());
        EXPECT(0xa9db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa9da));
        // FB 00E3
        gbc.setState(0xc2dd, 0x2802, 0xcf50, 0x5c85, 0xeaa, 0x9542, 0x1, 0x0);
        gbc.writeMem(0xc2dd, { 0xfb });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x2802, gbc.sp());
        EXPECT(0xc2de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc2dd));
        // FB 00E4
        gbc.setState(0xecb9, 0x45e3, 0xc800, 0x5dff, 0x727a, 0x683c, 0x0, 0x0);
        gbc.writeMem(0xecb9, { 0xfb });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x45e3, gbc.sp());
        EXPECT(0xecba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xecb9));
        // FB 00E5
        gbc.setState(0xa47b, 0x12ed, 0xec10, 0x615d, 0xec04, 0xa845, 0x0, 0x0);
        gbc.writeMem(0xa47b, { 0xfb });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x12ed, gbc.sp());
        EXPECT(0xa47c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa47b));
        // FB 00E6
        gbc.setState(0x62de, 0xa876, 0xf3b0, 0x77d, 0x5f85, 0xffc5, 0x0, 0x1);
        gbc.writeMem(0x62de, { 0xfb });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xa876, gbc.sp());
        EXPECT(0x62df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00E8
        gbc.setState(0x69c7, 0x8e21, 0x6890, 0x16c0, 0xdae0, 0xadff, 0x0, 0x0);
        gbc.writeMem(0x69c7, { 0xfb });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x8e21, gbc.sp());
        EXPECT(0x69c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00E9
        gbc.setState(0xedf7, 0xbdca, 0x7060, 0x795b, 0xcaa0, 0xf31c, 0x1, 0x0);
        gbc.writeMem(0xedf7, { 0xfb });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xbdca, gbc.sp());
        EXPECT(0xedf8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xedf7));
        // FB 00EA
        gbc.setState(0x2b1d, 0xa3d5, 0xc850, 0xd9b7, 0xe25, 0x5cb5, 0x0, 0x0);
        gbc.writeMem(0x2b1d, { 0xfb });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xa3d5, gbc.sp());
        EXPECT(0x2b1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00EB
        gbc.setState(0xe517, 0xb261, 0x330, 0x1b01, 0xc356, 0x9066, 0x0, 0x1);
        gbc.writeMem(0xe517, { 0xfb });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xb261, gbc.sp());
        EXPECT(0xe518, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe517));
        // FB 00EC
        gbc.setState(0x8220, 0xbc3b, 0x79b0, 0x3f16, 0x4aa7, 0xea3f, 0x1, 0x0);
        gbc.writeMem(0x8220, { 0xfb });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xbc3b, gbc.sp());
        EXPECT(0x8221, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8220));
        // FB 00EE
        gbc.setState(0x624d, 0x3cc5, 0x83a0, 0x1a47, 0xf571, 0x72c6, 0x0, 0x0);
        gbc.writeMem(0x624d, { 0xfb });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x3cc5, gbc.sp());
        EXPECT(0x624e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00EF
        gbc.setState(0xe2bc, 0x25c8, 0x6020, 0x5545, 0x5a5, 0x5e01, 0x0, 0x0);
        gbc.writeMem(0xe2bc, { 0xfb });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x25c8, gbc.sp());
        EXPECT(0xe2bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe2bc));
        // FB 00F0
        gbc.setState(0xca29, 0xfb8a, 0x780, 0x3250, 0x2ed1, 0xc867, 0x0, 0x0);
        gbc.writeMem(0xca29, { 0xfb });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xfb8a, gbc.sp());
        EXPECT(0xca2a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xca29));
        // FB 00F1
        gbc.setState(0x7d2b, 0xd1f7, 0x9990, 0xab10, 0xc571, 0x3003, 0x1, 0x0);
        gbc.writeMem(0x7d2b, { 0xfb });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xd1f7, gbc.sp());
        EXPECT(0x7d2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00F2
        gbc.setState(0x84d2, 0x5101, 0xd310, 0x3674, 0x69bf, 0xa6a1, 0x1, 0x1);
        gbc.writeMem(0x84d2, { 0xfb });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x5101, gbc.sp());
        EXPECT(0x84d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x84d2));
        // FB 00F3
        gbc.setState(0xcdfd, 0x6a25, 0xd8c0, 0xc7b8, 0x7946, 0xfea6, 0x0, 0x0);
        gbc.writeMem(0xcdfd, { 0xfb });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x6a25, gbc.sp());
        EXPECT(0xcdfe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xcdfd));
        // FB 00F4
        gbc.setState(0x3974, 0x24c2, 0x90, 0x231b, 0x6e65, 0x41ca, 0x1, 0x1);
        gbc.writeMem(0x3974, { 0xfb });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x24c2, gbc.sp());
        EXPECT(0x3975, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00F5
        gbc.setState(0xd596, 0x9a54, 0x6310, 0xdd7a, 0x3ed8, 0x59d4, 0x0, 0x0);
        gbc.writeMem(0xd596, { 0xfb });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x9a54, gbc.sp());
        EXPECT(0xd597, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd596));
        // FB 00F6
        gbc.setState(0x9c2e, 0x7d94, 0x1240, 0x7c4f, 0x4408, 0xc46d, 0x1, 0x1);
        gbc.writeMem(0x9c2e, { 0xfb });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x7d94, gbc.sp());
        EXPECT(0x9c2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9c2e));
        // FB 00F7
        gbc.setState(0x2d75, 0xc8f9, 0xb2e0, 0x582e, 0x6207, 0x785a, 0x0, 0x0);
        gbc.writeMem(0x2d75, { 0xfb });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xc8f9, gbc.sp());
        EXPECT(0x2d76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 00F8
        gbc.setState(0x4b2b, 0x39bd, 0x69d0, 0xdec2, 0xfea4, 0xef4, 0x1, 0x1);
        gbc.writeMem(0x4b2b, { 0xfb });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x39bd, gbc.sp());
        EXPECT(0x4b2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00F9
        gbc.setState(0x555c, 0xf51b, 0x5230, 0xd17e, 0xf00d, 0x5a8d, 0x1, 0x0);
        gbc.writeMem(0x555c, { 0xfb });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xf51b, gbc.sp());
        EXPECT(0x555d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 00FA
        gbc.setState(0xca98, 0x5a3e, 0x6e10, 0xa06a, 0xa699, 0xb4a1, 0x0, 0x1);
        gbc.writeMem(0xca98, { 0xfb });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x5a3e, gbc.sp());
        EXPECT(0xca99, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xca98));
        // FB 00FB
        gbc.setState(0xa155, 0xd2a1, 0xdee0, 0x1074, 0x1b76, 0x89fa, 0x0, 0x1);
        gbc.writeMem(0xa155, { 0xfb });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xd2a1, gbc.sp());
        EXPECT(0xa156, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa155));
        // FB 00FC
        gbc.setState(0x8d05, 0xd4ab, 0xbd60, 0x9148, 0xd595, 0x99d8, 0x1, 0x1);
        gbc.writeMem(0x8d05, { 0xfb });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xd4ab, gbc.sp());
        EXPECT(0x8d06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8d05));
        // FB 00FD
        gbc.setState(0xef1b, 0xc45b, 0x7840, 0x500a, 0x2647, 0xcf7f, 0x1, 0x0);
        gbc.writeMem(0xef1b, { 0xfb });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xc45b, gbc.sp());
        EXPECT(0xef1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xef1b));
        // FB 0100
        gbc.setState(0x4820, 0xfb79, 0x6a00, 0x8c8c, 0x7784, 0xf4d, 0x1, 0x1);
        gbc.writeMem(0x4820, { 0xfb });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xfb79, gbc.sp());
        EXPECT(0x4821, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0101
        gbc.setState(0x9af2, 0x88a8, 0xfd80, 0x6dc4, 0x9b4f, 0x2cae, 0x1, 0x1);
        gbc.writeMem(0x9af2, { 0xfb });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x88a8, gbc.sp());
        EXPECT(0x9af3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9af2));
        // FB 0102
        gbc.setState(0xc05a, 0xbbb9, 0x8b90, 0x2ab4, 0x8d1c, 0x8440, 0x1, 0x0);
        gbc.writeMem(0xc05a, { 0xfb });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xbbb9, gbc.sp());
        EXPECT(0xc05b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc05a));
        // FB 0103
        gbc.setState(0x9278, 0x57b8, 0xaa30, 0x1231, 0x5939, 0x64de, 0x1, 0x1);
        gbc.writeMem(0x9278, { 0xfb });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x57b8, gbc.sp());
        EXPECT(0x9279, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9278));
        // FB 0104
        gbc.setState(0x97f4, 0x113e, 0x1cb0, 0x1cad, 0xf163, 0x7ac, 0x0, 0x1);
        gbc.writeMem(0x97f4, { 0xfb });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x113e, gbc.sp());
        EXPECT(0x97f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x97f4));
        // FB 0105
        gbc.setState(0x80a9, 0x808f, 0x5c70, 0x3550, 0x52ed, 0x6ad4, 0x1, 0x0);
        gbc.writeMem(0x80a9, { 0xfb });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x808f, gbc.sp());
        EXPECT(0x80aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x80a9));
        // FB 0106
        gbc.setState(0x592a, 0x9fd6, 0x43d0, 0xbdbc, 0x3f5f, 0x5ac8, 0x1, 0x1);
        gbc.writeMem(0x592a, { 0xfb });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x9fd6, gbc.sp());
        EXPECT(0x592b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0107
        gbc.setState(0x586a, 0x33e, 0x6130, 0x5132, 0xb00d, 0x94ac, 0x0, 0x1);
        gbc.writeMem(0x586a, { 0xfb });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x33e, gbc.sp());
        EXPECT(0x586b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0108
        gbc.setState(0xb4d1, 0x2c79, 0xe400, 0xff1f, 0xee43, 0xb2c8, 0x0, 0x1);
        gbc.writeMem(0xb4d1, { 0xfb });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x2c79, gbc.sp());
        EXPECT(0xb4d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb4d1));
        // FB 0109
        gbc.setState(0xccc6, 0x33ba, 0x81a0, 0xb32, 0x2c3e, 0x7f58, 0x0, 0x1);
        gbc.writeMem(0xccc6, { 0xfb });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x33ba, gbc.sp());
        EXPECT(0xccc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xccc6));
        // FB 010A
        gbc.setState(0x4cd1, 0x96f6, 0xe670, 0x39f, 0xc10c, 0x2f6, 0x0, 0x1);
        gbc.writeMem(0x4cd1, { 0xfb });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x96f6, gbc.sp());
        EXPECT(0x4cd2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 010B
        gbc.setState(0x3d7d, 0x2bd9, 0x9cd0, 0x8a2d, 0xf3cd, 0xa602, 0x0, 0x1);
        gbc.writeMem(0x3d7d, { 0xfb });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x2bd9, gbc.sp());
        EXPECT(0x3d7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 010C
        gbc.setState(0xb6e1, 0xb1c4, 0xe340, 0xb64c, 0x9dee, 0xf50a, 0x0, 0x1);
        gbc.writeMem(0xb6e1, { 0xfb });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xb1c4, gbc.sp());
        EXPECT(0xb6e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb6e1));
        // FB 010D
        gbc.setState(0x2469, 0xab2d, 0xbf10, 0x95e4, 0x25d3, 0x2621, 0x1, 0x1);
        gbc.writeMem(0x2469, { 0xfb });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xab2d, gbc.sp());
        EXPECT(0x246a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 010F
        gbc.setState(0xacd9, 0x8333, 0x3de0, 0x1bd4, 0x86fe, 0xb0b8, 0x1, 0x0);
        gbc.writeMem(0xacd9, { 0xfb });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x8333, gbc.sp());
        EXPECT(0xacda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xacd9));
        // FB 0110
        gbc.setState(0x2fc5, 0xbb1f, 0x8960, 0x93f, 0x6945, 0xe6d9, 0x0, 0x1);
        gbc.writeMem(0x2fc5, { 0xfb });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xbb1f, gbc.sp());
        EXPECT(0x2fc6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0111
        gbc.setState(0x2dc1, 0x36ef, 0xd1a0, 0xb7b5, 0x6c1c, 0x1a57, 0x0, 0x1);
        gbc.writeMem(0x2dc1, { 0xfb });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x36ef, gbc.sp());
        EXPECT(0x2dc2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0112
        gbc.setState(0x2c42, 0x7e2c, 0xcea0, 0x834a, 0x43ef, 0x84a2, 0x0, 0x1);
        gbc.writeMem(0x2c42, { 0xfb });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x7e2c, gbc.sp());
        EXPECT(0x2c43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0113
        gbc.setState(0x58c, 0x7e9c, 0xc1a0, 0xc054, 0x5f30, 0xc391, 0x1, 0x0);
        gbc.writeMem(0x58c, { 0xfb });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x7e9c, gbc.sp());
        EXPECT(0x58d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0114
        gbc.setState(0x69f3, 0x53a5, 0x4380, 0x9460, 0x7ac5, 0xa3a1, 0x1, 0x1);
        gbc.writeMem(0x69f3, { 0xfb });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x53a5, gbc.sp());
        EXPECT(0x69f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0115
        gbc.setState(0x7040, 0x505f, 0x5fb0, 0xbafc, 0x5759, 0xefc7, 0x1, 0x0);
        gbc.writeMem(0x7040, { 0xfb });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x505f, gbc.sp());
        EXPECT(0x7041, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0116
        gbc.setState(0x2b7a, 0xd153, 0x7760, 0x1cce, 0x3479, 0xae3c, 0x1, 0x1);
        gbc.writeMem(0x2b7a, { 0xfb });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xd153, gbc.sp());
        EXPECT(0x2b7b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0117
        gbc.setState(0xead9, 0x5dbf, 0xba50, 0x6a33, 0x9d77, 0xc89c, 0x0, 0x0);
        gbc.writeMem(0xead9, { 0xfb });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x5dbf, gbc.sp());
        EXPECT(0xeada, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xead9));
        // FB 0118
        gbc.setState(0x51ba, 0x6d06, 0xfb10, 0x50e6, 0x58b6, 0xe148, 0x1, 0x0);
        gbc.writeMem(0x51ba, { 0xfb });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x6d06, gbc.sp());
        EXPECT(0x51bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0119
        gbc.setState(0x44c9, 0xa7db, 0xd9f0, 0xb816, 0xd230, 0x7b35, 0x0, 0x0);
        gbc.writeMem(0x44c9, { 0xfb });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xa7db, gbc.sp());
        EXPECT(0x44ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 011A
        gbc.setState(0xa774, 0x3338, 0xae80, 0x99d3, 0xfef1, 0x7430, 0x1, 0x1);
        gbc.writeMem(0xa774, { 0xfb });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x3338, gbc.sp());
        EXPECT(0xa775, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa774));
        // FB 011B
        gbc.setState(0x6368, 0x2621, 0x59f0, 0x50f9, 0xd7f1, 0xa34f, 0x0, 0x0);
        gbc.writeMem(0x6368, { 0xfb });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x2621, gbc.sp());
        EXPECT(0x6369, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 011E
        gbc.setState(0x40c2, 0x34cf, 0x94c0, 0xe48e, 0xa8da, 0x9c98, 0x1, 0x0);
        gbc.writeMem(0x40c2, { 0xfb });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x34cf, gbc.sp());
        EXPECT(0x40c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0120
        gbc.setState(0x2e6a, 0x2fa8, 0x7940, 0xa970, 0x977e, 0xcfba, 0x1, 0x0);
        gbc.writeMem(0x2e6a, { 0xfb });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x2fa8, gbc.sp());
        EXPECT(0x2e6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0121
        gbc.setState(0xcb12, 0x75f1, 0xb830, 0xbd14, 0x8254, 0x452, 0x1, 0x1);
        gbc.writeMem(0xcb12, { 0xfb });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x75f1, gbc.sp());
        EXPECT(0xcb13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xcb12));
        // FB 0122
        gbc.setState(0x2f96, 0xdabd, 0x3e40, 0xa744, 0x82a5, 0xa4c, 0x1, 0x0);
        gbc.writeMem(0x2f96, { 0xfb });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xdabd, gbc.sp());
        EXPECT(0x2f97, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0123
        gbc.setState(0xd2a6, 0xf08c, 0xc7d0, 0x5cd8, 0x7d36, 0x37e3, 0x0, 0x1);
        gbc.writeMem(0xd2a6, { 0xfb });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xf08c, gbc.sp());
        EXPECT(0xd2a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd2a6));
        // FB 0125
        gbc.setState(0x837f, 0x64b2, 0xd150, 0x7b0f, 0xa109, 0xa3a0, 0x0, 0x0);
        gbc.writeMem(0x837f, { 0xfb });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x64b2, gbc.sp());
        EXPECT(0x8380, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x837f));
        // FB 0126
        gbc.setState(0x34d0, 0xaaed, 0xbc10, 0xb3ce, 0x78bb, 0x1025, 0x1, 0x1);
        gbc.writeMem(0x34d0, { 0xfb });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xaaed, gbc.sp());
        EXPECT(0x34d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0127
        gbc.setState(0xd07d, 0xa850, 0xb5d0, 0x70d5, 0xd634, 0xf278, 0x0, 0x1);
        gbc.writeMem(0xd07d, { 0xfb });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xa850, gbc.sp());
        EXPECT(0xd07e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd07d));
        // FB 0128
        gbc.setState(0xd50b, 0x7c21, 0xdec0, 0x85c, 0x76da, 0xf832, 0x0, 0x0);
        gbc.writeMem(0xd50b, { 0xfb });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x7c21, gbc.sp());
        EXPECT(0xd50c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd50b));
        // FB 0129
        gbc.setState(0xdf06, 0x9807, 0x9b0, 0x3869, 0x6e8d, 0xf40, 0x0, 0x1);
        gbc.writeMem(0xdf06, { 0xfb });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x9807, gbc.sp());
        EXPECT(0xdf07, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdf06));
        // FB 012A
        gbc.setState(0xbf1b, 0x5d8a, 0x4420, 0x73fe, 0xee21, 0xcfab, 0x1, 0x1);
        gbc.writeMem(0xbf1b, { 0xfb });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x5d8a, gbc.sp());
        EXPECT(0xbf1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbf1b));
        // FB 012B
        gbc.setState(0x45b4, 0x4ead, 0x1200, 0x64fa, 0x5202, 0x6d69, 0x1, 0x0);
        gbc.writeMem(0x45b4, { 0xfb });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x4ead, gbc.sp());
        EXPECT(0x45b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 012C
        gbc.setState(0x671a, 0x3669, 0x5900, 0x98ef, 0xa972, 0xa66e, 0x0, 0x0);
        gbc.writeMem(0x671a, { 0xfb });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x3669, gbc.sp());
        EXPECT(0x671b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 012D
        gbc.setState(0x7430, 0x897, 0x73b0, 0xca51, 0x2d0, 0xaf19, 0x1, 0x1);
        gbc.writeMem(0x7430, { 0xfb });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x897, gbc.sp());
        EXPECT(0x7431, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 012E
        gbc.setState(0x2ba2, 0x9e5, 0x39c0, 0x800a, 0x151a, 0x7f99, 0x1, 0x1);
        gbc.writeMem(0x2ba2, { 0xfb });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x9e5, gbc.sp());
        EXPECT(0x2ba3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 012F
        gbc.setState(0x9b06, 0xe91f, 0x9b20, 0x61db, 0x7ec6, 0x28d6, 0x1, 0x1);
        gbc.writeMem(0x9b06, { 0xfb });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xe91f, gbc.sp());
        EXPECT(0x9b07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9b06));
        // FB 0132
        gbc.setState(0xde95, 0x819b, 0x3a0, 0xb8d1, 0x6ff2, 0xe47d, 0x0, 0x1);
        gbc.writeMem(0xde95, { 0xfb });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x819b, gbc.sp());
        EXPECT(0xde96, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xde95));
        // FB 0133
        gbc.setState(0x9161, 0x1c16, 0x29c0, 0xa020, 0x1c4b, 0x40a4, 0x0, 0x0);
        gbc.writeMem(0x9161, { 0xfb });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x1c16, gbc.sp());
        EXPECT(0x9162, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9161));
        // FB 0134
        gbc.setState(0xa29, 0x4c5a, 0xc9f0, 0xcab7, 0x6cc7, 0xedc9, 0x1, 0x0);
        gbc.writeMem(0xa29, { 0xfb });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x4c5a, gbc.sp());
        EXPECT(0xa2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0135
        gbc.setState(0xd402, 0xa6a3, 0xcdb0, 0x9341, 0x5bf3, 0xea3a, 0x1, 0x1);
        gbc.writeMem(0xd402, { 0xfb });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xa6a3, gbc.sp());
        EXPECT(0xd403, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd402));
        // FB 0136
        gbc.setState(0x88fd, 0xc46b, 0xbc90, 0x767b, 0x5d3f, 0xd0c7, 0x0, 0x0);
        gbc.writeMem(0x88fd, { 0xfb });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xc46b, gbc.sp());
        EXPECT(0x88fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x88fd));
        // FB 0137
        gbc.setState(0x762, 0x8a8c, 0xb380, 0xd80d, 0x304e, 0xacf8, 0x0, 0x0);
        gbc.writeMem(0x762, { 0xfb });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x8a8c, gbc.sp());
        EXPECT(0x763, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0138
        gbc.setState(0x96c7, 0x65de, 0x1fa0, 0x9c4f, 0x4409, 0xac92, 0x1, 0x0);
        gbc.writeMem(0x96c7, { 0xfb });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x65de, gbc.sp());
        EXPECT(0x96c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x96c7));
        // FB 0139
        gbc.setState(0x9d76, 0x98cd, 0x1b0, 0xf406, 0xeaea, 0x6e7f, 0x0, 0x0);
        gbc.writeMem(0x9d76, { 0xfb });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x98cd, gbc.sp());
        EXPECT(0x9d77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9d76));
        // FB 013A
        gbc.setState(0x1ef2, 0x47eb, 0xea60, 0xbb39, 0x6342, 0xf286, 0x1, 0x1);
        gbc.writeMem(0x1ef2, { 0xfb });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x47eb, gbc.sp());
        EXPECT(0x1ef3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 013B
        gbc.setState(0x1e94, 0x94ac, 0x7ff0, 0x298b, 0xc97, 0xef95, 0x1, 0x1);
        gbc.writeMem(0x1e94, { 0xfb });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x94ac, gbc.sp());
        EXPECT(0x1e95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 013C
        gbc.setState(0x6989, 0x8780, 0x5280, 0xf255, 0x38bb, 0xd060, 0x0, 0x1);
        gbc.writeMem(0x6989, { 0xfb });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x8780, gbc.sp());
        EXPECT(0x698a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 013D
        gbc.setState(0xc4c7, 0xda2f, 0x7e60, 0xb7d4, 0xe41d, 0x6ed7, 0x0, 0x0);
        gbc.writeMem(0xc4c7, { 0xfb });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xda2f, gbc.sp());
        EXPECT(0xc4c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc4c7));
        // FB 013E
        gbc.setState(0x1552, 0xea83, 0xff00, 0x6d39, 0xfe00, 0x173e, 0x0, 0x1);
        gbc.writeMem(0x1552, { 0xfb });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xea83, gbc.sp());
        EXPECT(0x1553, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 013F
        gbc.setState(0x72b9, 0x8edc, 0x180, 0x3cc3, 0x1402, 0x1ca, 0x0, 0x0);
        gbc.writeMem(0x72b9, { 0xfb });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x8edc, gbc.sp());
        EXPECT(0x72ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0140
        gbc.setState(0x33c8, 0x9b0f, 0x5d90, 0xaec3, 0x96e6, 0x7f72, 0x0, 0x1);
        gbc.writeMem(0x33c8, { 0xfb });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x9b0f, gbc.sp());
        EXPECT(0x33c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0142
        gbc.setState(0x453b, 0x5720, 0x8170, 0x484a, 0xd2f0, 0x41b5, 0x0, 0x1);
        gbc.writeMem(0x453b, { 0xfb });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x5720, gbc.sp());
        EXPECT(0x453c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0143
        gbc.setState(0xda32, 0xb08a, 0xb30, 0xb2dc, 0x5bea, 0x3d6f, 0x0, 0x0);
        gbc.writeMem(0xda32, { 0xfb });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xb08a, gbc.sp());
        EXPECT(0xda33, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xda32));
        // FB 0144
        gbc.setState(0xd80d, 0x8d39, 0x7330, 0xfbb5, 0x4ffd, 0xcf46, 0x0, 0x0);
        gbc.writeMem(0xd80d, { 0xfb });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x8d39, gbc.sp());
        EXPECT(0xd80e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd80d));
        // FB 0145
        gbc.setState(0x87a7, 0x88f1, 0xf2c0, 0x2b43, 0x62d3, 0xef7, 0x0, 0x0);
        gbc.writeMem(0x87a7, { 0xfb });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x88f1, gbc.sp());
        EXPECT(0x87a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x87a7));
        // FB 0146
        gbc.setState(0x8408, 0x35e8, 0xf9b0, 0x4e49, 0x1416, 0xedc4, 0x0, 0x1);
        gbc.writeMem(0x8408, { 0xfb });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x35e8, gbc.sp());
        EXPECT(0x8409, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8408));
        // FB 0147
        gbc.setState(0xb3f3, 0x7564, 0x4680, 0x10e9, 0x9c3e, 0xe03f, 0x1, 0x1);
        gbc.writeMem(0xb3f3, { 0xfb });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x7564, gbc.sp());
        EXPECT(0xb3f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb3f3));
        // FB 0148
        gbc.setState(0x2587, 0xc746, 0x2f0, 0xa536, 0x5fec, 0xd896, 0x1, 0x0);
        gbc.writeMem(0x2587, { 0xfb });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xc746, gbc.sp());
        EXPECT(0x2588, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0149
        gbc.setState(0xe3ab, 0x9e86, 0x8290, 0x4a3e, 0x75b5, 0x2e9, 0x0, 0x0);
        gbc.writeMem(0xe3ab, { 0xfb });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x9e86, gbc.sp());
        EXPECT(0xe3ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe3ab));
        // FB 014A
        gbc.setState(0x3a85, 0x9fca, 0x1360, 0xafb2, 0xaf1a, 0x77ed, 0x1, 0x0);
        gbc.writeMem(0x3a85, { 0xfb });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x9fca, gbc.sp());
        EXPECT(0x3a86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 014B
        gbc.setState(0x81b4, 0xea05, 0x11b0, 0x6301, 0xe9ea, 0xf94f, 0x1, 0x1);
        gbc.writeMem(0x81b4, { 0xfb });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xea05, gbc.sp());
        EXPECT(0x81b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x81b4));
        // FB 014C
        gbc.setState(0xd9dd, 0x118d, 0x9e0, 0xf1fb, 0x832f, 0xb256, 0x1, 0x1);
        gbc.writeMem(0xd9dd, { 0xfb });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x118d, gbc.sp());
        EXPECT(0xd9de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd9dd));
        // FB 014D
        gbc.setState(0x265c, 0x1514, 0x2bf0, 0xa6ae, 0x2151, 0xe4a0, 0x0, 0x0);
        gbc.writeMem(0x265c, { 0xfb });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x1514, gbc.sp());
        EXPECT(0x265d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 014E
        gbc.setState(0xe9c4, 0x4d0e, 0x3460, 0xaf5d, 0xd6eb, 0xb3fb, 0x1, 0x1);
        gbc.writeMem(0xe9c4, { 0xfb });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x4d0e, gbc.sp());
        EXPECT(0xe9c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe9c4));
        // FB 014F
        gbc.setState(0x1824, 0xebbb, 0xf600, 0xe1f6, 0x7b44, 0xed9a, 0x1, 0x0);
        gbc.writeMem(0x1824, { 0xfb });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xebbb, gbc.sp());
        EXPECT(0x1825, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0150
        gbc.setState(0x4024, 0xa301, 0xb8e0, 0x7f74, 0x8c5, 0x8f5, 0x1, 0x0);
        gbc.writeMem(0x4024, { 0xfb });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xa301, gbc.sp());
        EXPECT(0x4025, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0151
        gbc.setState(0x3e40, 0x65ed, 0x7350, 0xa1b8, 0xcd11, 0xe82e, 0x0, 0x1);
        gbc.writeMem(0x3e40, { 0xfb });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x65ed, gbc.sp());
        EXPECT(0x3e41, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0152
        gbc.setState(0x4e09, 0x23c9, 0x2f70, 0xbd27, 0x9bc6, 0x1ac8, 0x1, 0x1);
        gbc.writeMem(0x4e09, { 0xfb });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x23c9, gbc.sp());
        EXPECT(0x4e0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0153
        gbc.setState(0xd8a8, 0x57c4, 0x58d0, 0x1d9f, 0x5b21, 0x4269, 0x1, 0x1);
        gbc.writeMem(0xd8a8, { 0xfb });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x57c4, gbc.sp());
        EXPECT(0xd8a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd8a8));
        // FB 0155
        gbc.setState(0x41b8, 0xe803, 0xbf0, 0xb6d1, 0xd45e, 0xe979, 0x0, 0x1);
        gbc.writeMem(0x41b8, { 0xfb });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xe803, gbc.sp());
        EXPECT(0x41b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0156
        gbc.setState(0xd6cb, 0x725, 0x9460, 0xfedd, 0xeb2f, 0xd1, 0x1, 0x1);
        gbc.writeMem(0xd6cb, { 0xfb });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x725, gbc.sp());
        EXPECT(0xd6cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd6cb));
        // FB 0157
        gbc.setState(0xa837, 0xeb2, 0x8990, 0xf305, 0x2794, 0x39e8, 0x0, 0x0);
        gbc.writeMem(0xa837, { 0xfb });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xeb2, gbc.sp());
        EXPECT(0xa838, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa837));
        // FB 0159
        gbc.setState(0x78f2, 0xae42, 0x4ca0, 0xe6aa, 0x400, 0x99cc, 0x1, 0x0);
        gbc.writeMem(0x78f2, { 0xfb });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xae42, gbc.sp());
        EXPECT(0x78f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 015A
        gbc.setState(0x7cfc, 0x65e5, 0x5f50, 0x984f, 0xb989, 0x523f, 0x1, 0x1);
        gbc.writeMem(0x7cfc, { 0xfb });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x65e5, gbc.sp());
        EXPECT(0x7cfd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 015C
        gbc.setState(0x93e5, 0x5159, 0x4350, 0xca33, 0x96ce, 0xe8bf, 0x1, 0x0);
        gbc.writeMem(0x93e5, { 0xfb });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x5159, gbc.sp());
        EXPECT(0x93e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x93e5));
        // FB 015D
        gbc.setState(0x42ba, 0x6cf6, 0x52b0, 0x3b44, 0x73a4, 0x8461, 0x1, 0x0);
        gbc.writeMem(0x42ba, { 0xfb });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x6cf6, gbc.sp());
        EXPECT(0x42bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 015E
        gbc.setState(0x1c75, 0xe168, 0x24a0, 0xcae4, 0x82ec, 0x460c, 0x1, 0x0);
        gbc.writeMem(0x1c75, { 0xfb });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xe168, gbc.sp());
        EXPECT(0x1c76, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 015F
        gbc.setState(0x1334, 0xda41, 0x3b20, 0x537f, 0xfbf4, 0xb33b, 0x0, 0x1);
        gbc.writeMem(0x1334, { 0xfb });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xda41, gbc.sp());
        EXPECT(0x1335, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0160
        gbc.setState(0xe1d8, 0x7966, 0x8cd0, 0x6ee3, 0x1ec, 0x65bf, 0x1, 0x1);
        gbc.writeMem(0xe1d8, { 0xfb });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x7966, gbc.sp());
        EXPECT(0xe1d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe1d8));
        // FB 0161
        gbc.setState(0x287a, 0x78d6, 0x1850, 0x9e7a, 0x5a03, 0x36e9, 0x1, 0x0);
        gbc.writeMem(0x287a, { 0xfb });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x78d6, gbc.sp());
        EXPECT(0x287b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0162
        gbc.setState(0xa22, 0x3431, 0x2290, 0xe1bd, 0x1545, 0xfc8e, 0x0, 0x0);
        gbc.writeMem(0xa22, { 0xfb });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x3431, gbc.sp());
        EXPECT(0xa23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0163
        gbc.setState(0x2d87, 0xd964, 0xbb10, 0x9aef, 0xddfc, 0x54a2, 0x0, 0x1);
        gbc.writeMem(0x2d87, { 0xfb });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xd964, gbc.sp());
        EXPECT(0x2d88, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0164
        gbc.setState(0xa825, 0x4165, 0xd3a0, 0xfe94, 0xe2fa, 0xd07f, 0x0, 0x0);
        gbc.writeMem(0xa825, { 0xfb });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x4165, gbc.sp());
        EXPECT(0xa826, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa825));
        // FB 0165
        gbc.setState(0xd577, 0xf36b, 0xa350, 0xe06e, 0x8d89, 0x4b4d, 0x0, 0x0);
        gbc.writeMem(0xd577, { 0xfb });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xf36b, gbc.sp());
        EXPECT(0xd578, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd577));
        // FB 0166
        gbc.setState(0xe7fc, 0x4baf, 0xb5e0, 0xfc3a, 0x2b6c, 0x7a13, 0x0, 0x1);
        gbc.writeMem(0xe7fc, { 0xfb });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x4baf, gbc.sp());
        EXPECT(0xe7fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe7fc));
        // FB 0168
        gbc.setState(0x89c2, 0xfb18, 0xd410, 0x84d3, 0x1ea5, 0xf261, 0x1, 0x1);
        gbc.writeMem(0x89c2, { 0xfb });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xfb18, gbc.sp());
        EXPECT(0x89c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x89c2));
        // FB 0169
        gbc.setState(0x6d41, 0x56b6, 0xd770, 0x1de1, 0x3e7f, 0x8ff2, 0x0, 0x0);
        gbc.writeMem(0x6d41, { 0xfb });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x56b6, gbc.sp());
        EXPECT(0x6d42, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 016A
        gbc.setState(0x344, 0x34af, 0x3700, 0x8572, 0x8f55, 0x9bb9, 0x1, 0x0);
        gbc.writeMem(0x344, { 0xfb });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x34af, gbc.sp());
        EXPECT(0x345, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 016B
        gbc.setState(0x9c13, 0xcf6c, 0x6a60, 0xde62, 0x8c94, 0xaf15, 0x1, 0x0);
        gbc.writeMem(0x9c13, { 0xfb });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xcf6c, gbc.sp());
        EXPECT(0x9c14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9c13));
        // FB 016C
        gbc.setState(0xbbb0, 0xbeb9, 0xc4c0, 0x4a81, 0x6b94, 0xde20, 0x1, 0x1);
        gbc.writeMem(0xbbb0, { 0xfb });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xbeb9, gbc.sp());
        EXPECT(0xbbb1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbbb0));
        // FB 016D
        gbc.setState(0x161, 0xd64e, 0x2650, 0xb38b, 0x1f45, 0xb38f, 0x0, 0x0);
        gbc.writeMem(0x161, { 0xfb });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xd64e, gbc.sp());
        EXPECT(0x162, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 016E
        gbc.setState(0xec11, 0x9876, 0xd200, 0xec64, 0x4041, 0xf6c0, 0x1, 0x1);
        gbc.writeMem(0xec11, { 0xfb });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x9876, gbc.sp());
        EXPECT(0xec12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xec11));
        // FB 016F
        gbc.setState(0xa25, 0xc547, 0xf3c0, 0x9e52, 0x2f58, 0xf0b4, 0x0, 0x0);
        gbc.writeMem(0xa25, { 0xfb });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xc547, gbc.sp());
        EXPECT(0xa26, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0170
        gbc.setState(0xb26b, 0x8392, 0x67c0, 0xdfbe, 0xd894, 0xf0e1, 0x0, 0x0);
        gbc.writeMem(0xb26b, { 0xfb });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x8392, gbc.sp());
        EXPECT(0xb26c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb26b));
        // FB 0171
        gbc.setState(0x142d, 0x7ee9, 0x30b0, 0x6c48, 0x49ee, 0x37a6, 0x1, 0x1);
        gbc.writeMem(0x142d, { 0xfb });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x7ee9, gbc.sp());
        EXPECT(0x142e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0172
        gbc.setState(0x86ec, 0x2e3a, 0x4a40, 0x3e5d, 0x236b, 0xd9bd, 0x1, 0x0);
        gbc.writeMem(0x86ec, { 0xfb });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x2e3a, gbc.sp());
        EXPECT(0x86ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x86ec));
        // FB 0173
        gbc.setState(0xdbe4, 0x432, 0x2ca0, 0xa8b6, 0x5236, 0x47c6, 0x0, 0x0);
        gbc.writeMem(0xdbe4, { 0xfb });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x432, gbc.sp());
        EXPECT(0xdbe5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdbe4));
        // FB 0174
        gbc.setState(0x5984, 0xab0e, 0xae50, 0xc317, 0x8c80, 0xbb55, 0x1, 0x1);
        gbc.writeMem(0x5984, { 0xfb });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xab0e, gbc.sp());
        EXPECT(0x5985, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0175
        gbc.setState(0x6b85, 0xd63c, 0x74c0, 0xc8c3, 0x9b76, 0x7079, 0x1, 0x0);
        gbc.writeMem(0x6b85, { 0xfb });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xd63c, gbc.sp());
        EXPECT(0x6b86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0176
        gbc.setState(0x25df, 0x262a, 0x5d80, 0x248f, 0xe11c, 0xaf72, 0x1, 0x0);
        gbc.writeMem(0x25df, { 0xfb });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x262a, gbc.sp());
        EXPECT(0x25e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0177
        gbc.setState(0xe506, 0xe1d3, 0x4760, 0x3ad2, 0x2e34, 0xcff1, 0x0, 0x0);
        gbc.writeMem(0xe506, { 0xfb });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xe1d3, gbc.sp());
        EXPECT(0xe507, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe506));
        // FB 0178
        gbc.setState(0x7cd, 0xb466, 0x4500, 0x132, 0x8216, 0xecde, 0x0, 0x1);
        gbc.writeMem(0x7cd, { 0xfb });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xb466, gbc.sp());
        EXPECT(0x7ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0179
        gbc.setState(0xde1e, 0x992, 0xbd10, 0x9e63, 0x1494, 0x1933, 0x1, 0x0);
        gbc.writeMem(0xde1e, { 0xfb });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x992, gbc.sp());
        EXPECT(0xde1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xde1e));
        // FB 017A
        gbc.setState(0xa180, 0xf9df, 0x5930, 0xa6f9, 0xc2e0, 0xd7d5, 0x1, 0x0);
        gbc.writeMem(0xa180, { 0xfb });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xf9df, gbc.sp());
        EXPECT(0xa181, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa180));
        // FB 017B
        gbc.setState(0xd042, 0x9b70, 0x9970, 0x42a9, 0x2f3b, 0x4523, 0x0, 0x1);
        gbc.writeMem(0xd042, { 0xfb });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x9b70, gbc.sp());
        EXPECT(0xd043, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd042));
        // FB 017C
        gbc.setState(0x1324, 0x7f87, 0x530, 0xd0f6, 0x2c14, 0xceaf, 0x1, 0x1);
        gbc.writeMem(0x1324, { 0xfb });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x7f87, gbc.sp());
        EXPECT(0x1325, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 017D
        gbc.setState(0x5c90, 0xbf1a, 0xdcf0, 0x8d79, 0x686e, 0xfc2d, 0x1, 0x1);
        gbc.writeMem(0x5c90, { 0xfb });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xbf1a, gbc.sp());
        EXPECT(0x5c91, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 017E
        gbc.setState(0x994d, 0xeeb1, 0x5fb0, 0xa022, 0x5d38, 0xf09b, 0x0, 0x1);
        gbc.writeMem(0x994d, { 0xfb });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xeeb1, gbc.sp());
        EXPECT(0x994e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x994d));
        // FB 017F
        gbc.setState(0x707d, 0x4949, 0xed0, 0xb743, 0xd64f, 0x1bdc, 0x1, 0x0);
        gbc.writeMem(0x707d, { 0xfb });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x4949, gbc.sp());
        EXPECT(0x707e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0180
        gbc.setState(0xdd04, 0x3fca, 0xcd10, 0x382d, 0x6a45, 0x2b71, 0x1, 0x0);
        gbc.writeMem(0xdd04, { 0xfb });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x3fca, gbc.sp());
        EXPECT(0xdd05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdd04));
        // FB 0181
        gbc.setState(0x1de2, 0x50f9, 0xf290, 0x5b96, 0x21c, 0xdd47, 0x0, 0x1);
        gbc.writeMem(0x1de2, { 0xfb });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x50f9, gbc.sp());
        EXPECT(0x1de3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0182
        gbc.setState(0xa2b4, 0x47bd, 0x1ec0, 0x50a4, 0x60ee, 0xe3eb, 0x1, 0x0);
        gbc.writeMem(0xa2b4, { 0xfb });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x47bd, gbc.sp());
        EXPECT(0xa2b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa2b4));
        // FB 0183
        gbc.setState(0x53ad, 0x283f, 0xb1b0, 0x8002, 0x27fb, 0xb2df, 0x1, 0x0);
        gbc.writeMem(0x53ad, { 0xfb });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x283f, gbc.sp());
        EXPECT(0x53ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0185
        gbc.setState(0x4c36, 0xedec, 0xa740, 0x13b4, 0xa97, 0x43c2, 0x0, 0x1);
        gbc.writeMem(0x4c36, { 0xfb });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xedec, gbc.sp());
        EXPECT(0x4c37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0186
        gbc.setState(0x96c9, 0xddee, 0xf110, 0xdc13, 0x3017, 0xb785, 0x0, 0x0);
        gbc.writeMem(0x96c9, { 0xfb });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xddee, gbc.sp());
        EXPECT(0x96ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x96c9));
        // FB 0187
        gbc.setState(0xa6e3, 0x9ddf, 0xf6b0, 0x6a63, 0x6fca, 0x7f2a, 0x1, 0x0);
        gbc.writeMem(0xa6e3, { 0xfb });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x9ddf, gbc.sp());
        EXPECT(0xa6e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa6e3));
        // FB 0188
        gbc.setState(0x2471, 0x49e, 0x34c0, 0xe43f, 0xfbdb, 0xb81b, 0x0, 0x0);
        gbc.writeMem(0x2471, { 0xfb });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x49e, gbc.sp());
        EXPECT(0x2472, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0189
        gbc.setState(0x3acc, 0xec5a, 0x81a0, 0xdc54, 0xb9ad, 0x8972, 0x0, 0x1);
        gbc.writeMem(0x3acc, { 0xfb });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xec5a, gbc.sp());
        EXPECT(0x3acd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 018A
        gbc.setState(0x7287, 0x767d, 0x3400, 0x4255, 0x6a32, 0xb0ae, 0x0, 0x0);
        gbc.writeMem(0x7287, { 0xfb });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x767d, gbc.sp());
        EXPECT(0x7288, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 018B
        gbc.setState(0xa3e0, 0xc1ff, 0xcb90, 0x7d4f, 0xe469, 0x5358, 0x1, 0x0);
        gbc.writeMem(0xa3e0, { 0xfb });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xc1ff, gbc.sp());
        EXPECT(0xa3e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa3e0));
        // FB 018C
        gbc.setState(0xed5b, 0x879c, 0x3b50, 0x22e2, 0xcb44, 0x82e2, 0x0, 0x1);
        gbc.writeMem(0xed5b, { 0xfb });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x879c, gbc.sp());
        EXPECT(0xed5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xed5b));
        // FB 018D
        gbc.setState(0x9b3f, 0x8bd0, 0xe010, 0xf219, 0xb0a0, 0xe769, 0x1, 0x1);
        gbc.writeMem(0x9b3f, { 0xfb });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x8bd0, gbc.sp());
        EXPECT(0x9b40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9b3f));
        // FB 018E
        gbc.setState(0x9192, 0x8395, 0xffd0, 0xb4e9, 0x69ee, 0x60a3, 0x0, 0x1);
        gbc.writeMem(0x9192, { 0xfb });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x8395, gbc.sp());
        EXPECT(0x9193, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9192));
        // FB 018F
        gbc.setState(0x4a8d, 0x2ee0, 0xb0f0, 0xa97c, 0xec1a, 0xf838, 0x0, 0x0);
        gbc.writeMem(0x4a8d, { 0xfb });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x2ee0, gbc.sp());
        EXPECT(0x4a8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0191
        gbc.setState(0xd413, 0xd309, 0x60c0, 0xd56c, 0xf915, 0x80a5, 0x1, 0x0);
        gbc.writeMem(0xd413, { 0xfb });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xd309, gbc.sp());
        EXPECT(0xd414, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd413));
        // FB 0192
        gbc.setState(0xe760, 0x14b6, 0x1f20, 0x9926, 0xeeba, 0xbc7e, 0x1, 0x1);
        gbc.writeMem(0xe760, { 0xfb });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x14b6, gbc.sp());
        EXPECT(0xe761, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe760));
        // FB 0193
        gbc.setState(0x4331, 0x971d, 0xa850, 0x444b, 0x611f, 0xb96d, 0x0, 0x0);
        gbc.writeMem(0x4331, { 0xfb });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x971d, gbc.sp());
        EXPECT(0x4332, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0194
        gbc.setState(0xbbac, 0xe764, 0xc580, 0x2720, 0xb549, 0x346, 0x0, 0x0);
        gbc.writeMem(0xbbac, { 0xfb });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xe764, gbc.sp());
        EXPECT(0xbbad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbbac));
        // FB 0195
        gbc.setState(0x3fda, 0xafb7, 0x2700, 0x9386, 0x74a1, 0x791a, 0x0, 0x1);
        gbc.writeMem(0x3fda, { 0xfb });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xafb7, gbc.sp());
        EXPECT(0x3fdb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0197
        gbc.setState(0x444e, 0x4177, 0x7050, 0x6064, 0x6fe3, 0xed29, 0x0, 0x1);
        gbc.writeMem(0x444e, { 0xfb });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x4177, gbc.sp());
        EXPECT(0x444f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0198
        gbc.setState(0xef0b, 0xe931, 0xb280, 0x3970, 0x86af, 0xefbb, 0x0, 0x0);
        gbc.writeMem(0xef0b, { 0xfb });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xe931, gbc.sp());
        EXPECT(0xef0c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xef0b));
        // FB 0199
        gbc.setState(0xa852, 0xc016, 0xbcb0, 0x8678, 0x7001, 0x7734, 0x0, 0x1);
        gbc.writeMem(0xa852, { 0xfb });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xc016, gbc.sp());
        EXPECT(0xa853, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa852));
        // FB 019A
        gbc.setState(0xe8a7, 0x93c0, 0xb3f0, 0x946, 0x6440, 0x941d, 0x0, 0x0);
        gbc.writeMem(0xe8a7, { 0xfb });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x93c0, gbc.sp());
        EXPECT(0xe8a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe8a7));
        // FB 019B
        gbc.setState(0x1a36, 0xd143, 0x8ce0, 0xe1da, 0xbae9, 0x6f0f, 0x1, 0x1);
        gbc.writeMem(0x1a36, { 0xfb });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xd143, gbc.sp());
        EXPECT(0x1a37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 019C
        gbc.setState(0x915b, 0xe043, 0x89f0, 0x1d28, 0x9949, 0xa1ed, 0x1, 0x1);
        gbc.writeMem(0x915b, { 0xfb });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xe043, gbc.sp());
        EXPECT(0x915c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x915b));
        // FB 019D
        gbc.setState(0x7c6b, 0x8380, 0x1ab0, 0x1478, 0x7696, 0xf3, 0x1, 0x0);
        gbc.writeMem(0x7c6b, { 0xfb });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x8380, gbc.sp());
        EXPECT(0x7c6c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 019E
        gbc.setState(0xd03e, 0xceb7, 0xca30, 0xe927, 0x2fd1, 0x3bc, 0x1, 0x1);
        gbc.writeMem(0xd03e, { 0xfb });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xceb7, gbc.sp());
        EXPECT(0xd03f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd03e));
        // FB 01A0
        gbc.setState(0x80b7, 0xdead, 0xc920, 0xf498, 0x602e, 0x88c5, 0x0, 0x0);
        gbc.writeMem(0x80b7, { 0xfb });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xdead, gbc.sp());
        EXPECT(0x80b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x80b7));
        // FB 01A1
        gbc.setState(0xabfa, 0x12ea, 0xcf50, 0x6873, 0xaef2, 0xf80a, 0x1, 0x0);
        gbc.writeMem(0xabfa, { 0xfb });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x12ea, gbc.sp());
        EXPECT(0xabfb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xabfa));
        // FB 01A2
        gbc.setState(0x3b, 0x6260, 0xa1b0, 0xe092, 0x5f56, 0x111e, 0x0, 0x0);
        gbc.writeMem(0x3b, { 0xfb });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x6260, gbc.sp());
        EXPECT(0x3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01A3
        gbc.setState(0x4963, 0x8357, 0x2340, 0x13fd, 0xad7d, 0x69e6, 0x1, 0x1);
        gbc.writeMem(0x4963, { 0xfb });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x8357, gbc.sp());
        EXPECT(0x4964, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01A4
        gbc.setState(0xb079, 0xd842, 0xe0a0, 0x62cb, 0xe6f4, 0x1b39, 0x1, 0x1);
        gbc.writeMem(0xb079, { 0xfb });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xd842, gbc.sp());
        EXPECT(0xb07a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb079));
        // FB 01A5
        gbc.setState(0x4f31, 0x1637, 0x8f50, 0x2724, 0x4bc6, 0xfa52, 0x1, 0x1);
        gbc.writeMem(0x4f31, { 0xfb });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x1637, gbc.sp());
        EXPECT(0x4f32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01A6
        gbc.setState(0x999, 0xf28b, 0xb4a0, 0xc5a9, 0xf056, 0xd46e, 0x1, 0x1);
        gbc.writeMem(0x999, { 0xfb });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xf28b, gbc.sp());
        EXPECT(0x99a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01A7
        gbc.setState(0x99fe, 0xa2c0, 0x50f0, 0x9aae, 0x44ab, 0x26a, 0x1, 0x1);
        gbc.writeMem(0x99fe, { 0xfb });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xa2c0, gbc.sp());
        EXPECT(0x99ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x99fe));
        // FB 01A8
        gbc.setState(0xd003, 0xaf65, 0xc290, 0xbec9, 0x13ad, 0x9531, 0x0, 0x0);
        gbc.writeMem(0xd003, { 0xfb });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xaf65, gbc.sp());
        EXPECT(0xd004, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd003));
        // FB 01A9
        gbc.setState(0x893, 0xc884, 0x5530, 0xa015, 0xb187, 0x9d80, 0x1, 0x0);
        gbc.writeMem(0x893, { 0xfb });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xc884, gbc.sp());
        EXPECT(0x894, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01AA
        gbc.setState(0x9202, 0xef33, 0x7ec0, 0xd0ce, 0x90ec, 0xf9f8, 0x0, 0x0);
        gbc.writeMem(0x9202, { 0xfb });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xef33, gbc.sp());
        EXPECT(0x9203, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9202));
        // FB 01AB
        gbc.setState(0x49a3, 0x2045, 0x4f90, 0x503f, 0x931a, 0x69d0, 0x0, 0x0);
        gbc.writeMem(0x49a3, { 0xfb });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x2045, gbc.sp());
        EXPECT(0x49a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01AC
        gbc.setState(0x24a3, 0x845f, 0x8bb0, 0xfb0b, 0xdb96, 0xab0f, 0x1, 0x0);
        gbc.writeMem(0x24a3, { 0xfb });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x845f, gbc.sp());
        EXPECT(0x24a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01AD
        gbc.setState(0x4cb9, 0x9328, 0x5310, 0x8a9f, 0x738b, 0x5834, 0x0, 0x0);
        gbc.writeMem(0x4cb9, { 0xfb });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x9328, gbc.sp());
        EXPECT(0x4cba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01AE
        gbc.setState(0x5188, 0x9316, 0xe5e0, 0x9d62, 0x3b7c, 0x3bec, 0x0, 0x1);
        gbc.writeMem(0x5188, { 0xfb });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x9316, gbc.sp());
        EXPECT(0x5189, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01AF
        gbc.setState(0xe450, 0x1333, 0x31c0, 0x3ec6, 0x1dbd, 0xb5cc, 0x0, 0x1);
        gbc.writeMem(0xe450, { 0xfb });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x1333, gbc.sp());
        EXPECT(0xe451, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe450));
        // FB 01B0
        gbc.setState(0x9df6, 0xefdf, 0xa600, 0x9551, 0x2047, 0xaf44, 0x1, 0x1);
        gbc.writeMem(0x9df6, { 0xfb });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xefdf, gbc.sp());
        EXPECT(0x9df7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9df6));
        // FB 01B1
        gbc.setState(0x7942, 0xfb5a, 0x4100, 0x9367, 0x99e3, 0x80d0, 0x1, 0x1);
        gbc.writeMem(0x7942, { 0xfb });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xfb5a, gbc.sp());
        EXPECT(0x7943, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01B2
        gbc.setState(0xf66, 0x3d55, 0xf830, 0xb022, 0x61d6, 0x2337, 0x0, 0x1);
        gbc.writeMem(0xf66, { 0xfb });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x3d55, gbc.sp());
        EXPECT(0xf67, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01B3
        gbc.setState(0xd836, 0x9443, 0x11d0, 0xc25a, 0xb36, 0x5562, 0x1, 0x0);
        gbc.writeMem(0xd836, { 0xfb });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x9443, gbc.sp());
        EXPECT(0xd837, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd836));
        // FB 01B4
        gbc.setState(0x403f, 0x50fa, 0x4910, 0xb91, 0x54a0, 0xc203, 0x1, 0x0);
        gbc.writeMem(0x403f, { 0xfb });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x50fa, gbc.sp());
        EXPECT(0x4040, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01B6
        gbc.setState(0x1027, 0x67ba, 0x36d0, 0xd93a, 0x36df, 0x2e77, 0x0, 0x0);
        gbc.writeMem(0x1027, { 0xfb });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x67ba, gbc.sp());
        EXPECT(0x1028, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01B7
        gbc.setState(0x6e3e, 0xaeca, 0x9870, 0xb9bf, 0xd619, 0xb45a, 0x0, 0x1);
        gbc.writeMem(0x6e3e, { 0xfb });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xaeca, gbc.sp());
        EXPECT(0x6e3f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01B8
        gbc.setState(0xbd41, 0xd22, 0x8d30, 0x4f54, 0x532e, 0x12a8, 0x0, 0x0);
        gbc.writeMem(0xbd41, { 0xfb });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xd22, gbc.sp());
        EXPECT(0xbd42, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbd41));
        // FB 01B9
        gbc.setState(0xa2b8, 0xa417, 0x8c60, 0x2110, 0xf9fa, 0xd107, 0x0, 0x1);
        gbc.writeMem(0xa2b8, { 0xfb });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xa417, gbc.sp());
        EXPECT(0xa2b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa2b8));
        // FB 01BA
        gbc.setState(0x9c1f, 0xa6c6, 0xa140, 0xcab3, 0x3263, 0x7ffd, 0x0, 0x0);
        gbc.writeMem(0x9c1f, { 0xfb });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xa6c6, gbc.sp());
        EXPECT(0x9c20, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9c1f));
        // FB 01BB
        gbc.setState(0x7e9d, 0xb769, 0x9120, 0xf3d, 0xc87b, 0xd756, 0x0, 0x0);
        gbc.writeMem(0x7e9d, { 0xfb });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xb769, gbc.sp());
        EXPECT(0x7e9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01BC
        gbc.setState(0x5fad, 0x61b4, 0x48c0, 0x571e, 0x4c80, 0xa23d, 0x1, 0x1);
        gbc.writeMem(0x5fad, { 0xfb });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x61b4, gbc.sp());
        EXPECT(0x5fae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01BD
        gbc.setState(0x2cb7, 0xef4, 0xb9f0, 0x86d3, 0x7f7c, 0xce8a, 0x0, 0x1);
        gbc.writeMem(0x2cb7, { 0xfb });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xef4, gbc.sp());
        EXPECT(0x2cb8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01BF
        gbc.setState(0xbf85, 0x1ce1, 0xce10, 0xf109, 0x16c1, 0xbf0e, 0x0, 0x1);
        gbc.writeMem(0xbf85, { 0xfb });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x1ce1, gbc.sp());
        EXPECT(0xbf86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbf85));
        // FB 01C0
        gbc.setState(0xa6d7, 0x2103, 0x7570, 0x2c51, 0xf05, 0x4986, 0x0, 0x1);
        gbc.writeMem(0xa6d7, { 0xfb });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x2103, gbc.sp());
        EXPECT(0xa6d8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa6d7));
        // FB 01C1
        gbc.setState(0x5220, 0x6bf9, 0x1a70, 0xc44d, 0xbd67, 0x7e05, 0x1, 0x0);
        gbc.writeMem(0x5220, { 0xfb });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x6bf9, gbc.sp());
        EXPECT(0x5221, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01C2
        gbc.setState(0xb287, 0xda77, 0x9c60, 0xbba6, 0x19c4, 0xcb05, 0x1, 0x0);
        gbc.writeMem(0xb287, { 0xfb });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xda77, gbc.sp());
        EXPECT(0xb288, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb287));
        // FB 01C3
        gbc.setState(0x46e5, 0xd024, 0x1f30, 0xf27f, 0x7cd7, 0x6313, 0x1, 0x1);
        gbc.writeMem(0x46e5, { 0xfb });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xd024, gbc.sp());
        EXPECT(0x46e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01C4
        gbc.setState(0x5fcc, 0x8a67, 0x6070, 0x56de, 0x3807, 0x9276, 0x1, 0x0);
        gbc.writeMem(0x5fcc, { 0xfb });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x8a67, gbc.sp());
        EXPECT(0x5fcd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01C5
        gbc.setState(0xa899, 0x830d, 0x36a0, 0x9234, 0x2616, 0xdb46, 0x1, 0x0);
        gbc.writeMem(0xa899, { 0xfb });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x830d, gbc.sp());
        EXPECT(0xa89a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa899));
        // FB 01C6
        gbc.setState(0xa618, 0xf5d7, 0xb770, 0x9071, 0x44da, 0xc971, 0x0, 0x1);
        gbc.writeMem(0xa618, { 0xfb });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xf5d7, gbc.sp());
        EXPECT(0xa619, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa618));
        // FB 01C7
        gbc.setState(0x6d5e, 0x3908, 0x3890, 0xd1e4, 0xdcd, 0x3032, 0x0, 0x1);
        gbc.writeMem(0x6d5e, { 0xfb });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x3908, gbc.sp());
        EXPECT(0x6d5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01C8
        gbc.setState(0xa54a, 0x7b26, 0xee40, 0xbe88, 0xa6be, 0x9d61, 0x1, 0x0);
        gbc.writeMem(0xa54a, { 0xfb });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x7b26, gbc.sp());
        EXPECT(0xa54b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa54a));
        // FB 01C9
        gbc.setState(0xa10a, 0x43f0, 0x640, 0x4c9e, 0x8e71, 0x575e, 0x0, 0x0);
        gbc.writeMem(0xa10a, { 0xfb });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x43f0, gbc.sp());
        EXPECT(0xa10b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa10a));
        // FB 01CA
        gbc.setState(0x61bd, 0xb9b3, 0xbd90, 0x1b2a, 0x5827, 0x835f, 0x0, 0x1);
        gbc.writeMem(0x61bd, { 0xfb });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xb9b3, gbc.sp());
        EXPECT(0x61be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01CB
        gbc.setState(0xdbd, 0x49c6, 0x8d20, 0x3065, 0xeb72, 0x438a, 0x1, 0x0);
        gbc.writeMem(0xdbd, { 0xfb });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x49c6, gbc.sp());
        EXPECT(0xdbe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01CC
        gbc.setState(0x9384, 0xaead, 0x93a0, 0xa41b, 0xe5a4, 0xec5b, 0x1, 0x1);
        gbc.writeMem(0x9384, { 0xfb });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xaead, gbc.sp());
        EXPECT(0x9385, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9384));
        // FB 01CD
        gbc.setState(0x2129, 0xee10, 0xd8a0, 0x8990, 0xf708, 0xbac, 0x1, 0x0);
        gbc.writeMem(0x2129, { 0xfb });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xee10, gbc.sp());
        EXPECT(0x212a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01CE
        gbc.setState(0xd2f4, 0x8cf2, 0x8d60, 0x6511, 0x3113, 0xf925, 0x0, 0x1);
        gbc.writeMem(0xd2f4, { 0xfb });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x8cf2, gbc.sp());
        EXPECT(0xd2f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd2f4));
        // FB 01CF
        gbc.setState(0x3228, 0x437a, 0xdc50, 0x50ea, 0xc98a, 0xc7ba, 0x0, 0x0);
        gbc.writeMem(0x3228, { 0xfb });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x437a, gbc.sp());
        EXPECT(0x3229, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01D0
        gbc.setState(0xdc31, 0xef5e, 0xd970, 0x91bf, 0x7b4e, 0xdd64, 0x1, 0x1);
        gbc.writeMem(0xdc31, { 0xfb });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xef5e, gbc.sp());
        EXPECT(0xdc32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdc31));
        // FB 01D1
        gbc.setState(0x3658, 0x852f, 0x9d90, 0xa35c, 0x727e, 0x9cf8, 0x0, 0x0);
        gbc.writeMem(0x3658, { 0xfb });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x852f, gbc.sp());
        EXPECT(0x3659, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01D2
        gbc.setState(0x2af9, 0xdc6, 0xebc0, 0x72bf, 0x190c, 0x6b37, 0x1, 0x0);
        gbc.writeMem(0x2af9, { 0xfb });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xdc6, gbc.sp());
        EXPECT(0x2afa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01D3
        gbc.setState(0x8e3e, 0x930c, 0x35e0, 0x102b, 0xf65a, 0xbf0b, 0x0, 0x1);
        gbc.writeMem(0x8e3e, { 0xfb });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x930c, gbc.sp());
        EXPECT(0x8e3f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8e3e));
        // FB 01D4
        gbc.setState(0x7156, 0x1ccf, 0x3a00, 0x1ea6, 0x8191, 0x6095, 0x1, 0x1);
        gbc.writeMem(0x7156, { 0xfb });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x1ccf, gbc.sp());
        EXPECT(0x7157, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01D5
        gbc.setState(0x4701, 0x4992, 0x130, 0xc2a, 0xbc2d, 0x5e56, 0x1, 0x1);
        gbc.writeMem(0x4701, { 0xfb });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x4992, gbc.sp());
        EXPECT(0x4702, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01D6
        gbc.setState(0x1e62, 0x9a70, 0xfbc0, 0xd6c3, 0xcf5a, 0x14a6, 0x1, 0x1);
        gbc.writeMem(0x1e62, { 0xfb });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x9a70, gbc.sp());
        EXPECT(0x1e63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01D7
        gbc.setState(0x12a6, 0x6764, 0xd4f0, 0x5eaa, 0x1f2f, 0x32dc, 0x1, 0x0);
        gbc.writeMem(0x12a6, { 0xfb });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x6764, gbc.sp());
        EXPECT(0x12a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01D8
        gbc.setState(0x45e3, 0x3574, 0x8bc0, 0xcd65, 0xe741, 0x68c2, 0x1, 0x0);
        gbc.writeMem(0x45e3, { 0xfb });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x3574, gbc.sp());
        EXPECT(0x45e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01D9
        gbc.setState(0x655c, 0x7254, 0xf310, 0x6102, 0x6063, 0x8a15, 0x1, 0x0);
        gbc.writeMem(0x655c, { 0xfb });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x7254, gbc.sp());
        EXPECT(0x655d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01DA
        gbc.setState(0x3d5e, 0xaaea, 0xa30, 0x119e, 0x192d, 0x826d, 0x0, 0x1);
        gbc.writeMem(0x3d5e, { 0xfb });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xaaea, gbc.sp());
        EXPECT(0x3d5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01DB
        gbc.setState(0xb936, 0xe25d, 0x5460, 0xc863, 0xf3e5, 0xa140, 0x1, 0x0);
        gbc.writeMem(0xb936, { 0xfb });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xe25d, gbc.sp());
        EXPECT(0xb937, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb936));
        // FB 01DC
        gbc.setState(0x112b, 0x8f17, 0xe480, 0x696a, 0x1a4c, 0xc96a, 0x1, 0x0);
        gbc.writeMem(0x112b, { 0xfb });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x8f17, gbc.sp());
        EXPECT(0x112c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01DE
        gbc.setState(0xd4b8, 0xa83a, 0xcbb0, 0x1ca5, 0x733f, 0x57f7, 0x0, 0x0);
        gbc.writeMem(0xd4b8, { 0xfb });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xa83a, gbc.sp());
        EXPECT(0xd4b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd4b8));
        // FB 01DF
        gbc.setState(0x44cf, 0xf988, 0x2b40, 0x141c, 0x20ab, 0xc816, 0x0, 0x1);
        gbc.writeMem(0x44cf, { 0xfb });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xf988, gbc.sp());
        EXPECT(0x44d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01E0
        gbc.setState(0xc4e9, 0x5a76, 0x31d0, 0x67f, 0x9a8e, 0x6464, 0x1, 0x0);
        gbc.writeMem(0xc4e9, { 0xfb });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x5a76, gbc.sp());
        EXPECT(0xc4ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc4e9));
        // FB 01E2
        gbc.setState(0x8b, 0x9cb5, 0x6c40, 0xc0ae, 0x4c31, 0xbb94, 0x0, 0x0);
        gbc.writeMem(0x8b, { 0xfb });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x9cb5, gbc.sp());
        EXPECT(0x8c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01E3
        gbc.setState(0x1297, 0x1712, 0x8e70, 0x8262, 0x275f, 0xf922, 0x0, 0x0);
        gbc.writeMem(0x1297, { 0xfb });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x1712, gbc.sp());
        EXPECT(0x1298, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01E4
        gbc.setState(0x3a73, 0x1a35, 0xe0, 0x85d9, 0xf33b, 0xf735, 0x0, 0x0);
        gbc.writeMem(0x3a73, { 0xfb });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x1a35, gbc.sp());
        EXPECT(0x3a74, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01E5
        gbc.setState(0x2fe3, 0x922a, 0xb9b0, 0xe2c8, 0x67a2, 0xb81f, 0x1, 0x1);
        gbc.writeMem(0x2fe3, { 0xfb });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x922a, gbc.sp());
        EXPECT(0x2fe4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01E6
        gbc.setState(0x6dc4, 0xc148, 0xb8b0, 0x6ab7, 0xff18, 0x4327, 0x0, 0x0);
        gbc.writeMem(0x6dc4, { 0xfb });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xc148, gbc.sp());
        EXPECT(0x6dc5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01E8
        gbc.setState(0x3ccd, 0x447c, 0x24d0, 0xd357, 0x11e7, 0xeacc, 0x0, 0x1);
        gbc.writeMem(0x3ccd, { 0xfb });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x447c, gbc.sp());
        EXPECT(0x3cce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01E9
        gbc.setState(0x58b2, 0xca9c, 0x5c40, 0x2048, 0x8964, 0xa2d3, 0x0, 0x1);
        gbc.writeMem(0x58b2, { 0xfb });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xca9c, gbc.sp());
        EXPECT(0x58b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01EA
        gbc.setState(0x3014, 0x9f49, 0xa50, 0x3477, 0x1a9f, 0x16d1, 0x1, 0x1);
        gbc.writeMem(0x3014, { 0xfb });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x9f49, gbc.sp());
        EXPECT(0x3015, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01EB
        gbc.setState(0x59d6, 0x898b, 0x4da0, 0xb28e, 0xdc2b, 0x3765, 0x1, 0x0);
        gbc.writeMem(0x59d6, { 0xfb });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x898b, gbc.sp());
        EXPECT(0x59d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01EC
        gbc.setState(0xaedb, 0x44fe, 0xd4d0, 0xc04, 0x4985, 0xde1e, 0x0, 0x0);
        gbc.writeMem(0xaedb, { 0xfb });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x44fe, gbc.sp());
        EXPECT(0xaedc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xaedb));
        // FB 01ED
        gbc.setState(0x2643, 0x2328, 0x8580, 0x30cb, 0x8d38, 0xe313, 0x1, 0x0);
        gbc.writeMem(0x2643, { 0xfb });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x2328, gbc.sp());
        EXPECT(0x2644, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01EE
        gbc.setState(0xbb2a, 0xb06a, 0x5c80, 0x1812, 0xc333, 0xe91, 0x1, 0x0);
        gbc.writeMem(0xbb2a, { 0xfb });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xb06a, gbc.sp());
        EXPECT(0xbb2b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbb2a));
        // FB 01EF
        gbc.setState(0x56dd, 0x2a7b, 0x9a90, 0x1284, 0xf672, 0x3632, 0x0, 0x0);
        gbc.writeMem(0x56dd, { 0xfb });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x2a7b, gbc.sp());
        EXPECT(0x56de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01F1
        gbc.setState(0x2530, 0xca0b, 0x5ba0, 0x652f, 0x818, 0x26e6, 0x0, 0x1);
        gbc.writeMem(0x2530, { 0xfb });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xca0b, gbc.sp());
        EXPECT(0x2531, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01F2
        gbc.setState(0x9dfe, 0x687d, 0x9370, 0x618, 0xcef, 0xf85f, 0x0, 0x0);
        gbc.writeMem(0x9dfe, { 0xfb });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x687d, gbc.sp());
        EXPECT(0x9dff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9dfe));
        // FB 01F3
        gbc.setState(0x7d2a, 0xe663, 0xc160, 0xc96f, 0xbe45, 0x8602, 0x1, 0x1);
        gbc.writeMem(0x7d2a, { 0xfb });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xe663, gbc.sp());
        EXPECT(0x7d2b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01F4
        gbc.setState(0xdfcd, 0x827b, 0x3960, 0x303e, 0x406, 0x9a4f, 0x1, 0x0);
        gbc.writeMem(0xdfcd, { 0xfb });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x827b, gbc.sp());
        EXPECT(0xdfce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdfcd));
        // FB 01F5
        gbc.setState(0x2935, 0x6ea1, 0x47f0, 0x41e2, 0x48e3, 0x232f, 0x0, 0x0);
        gbc.writeMem(0x2935, { 0xfb });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x6ea1, gbc.sp());
        EXPECT(0x2936, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01F6
        gbc.setState(0xac55, 0x6c01, 0x2290, 0xcb4f, 0x44ac, 0x2e31, 0x0, 0x1);
        gbc.writeMem(0xac55, { 0xfb });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x6c01, gbc.sp());
        EXPECT(0xac56, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xac55));
        // FB 01F8
        gbc.setState(0x6bf6, 0x37c2, 0x25c0, 0xa5e8, 0xbf60, 0x93a3, 0x1, 0x1);
        gbc.writeMem(0x6bf6, { 0xfb });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x37c2, gbc.sp());
        EXPECT(0x6bf7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01F9
        gbc.setState(0x5151, 0x2644, 0x20b0, 0x866d, 0x5581, 0x1d3e, 0x1, 0x1);
        gbc.writeMem(0x5151, { 0xfb });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x2644, gbc.sp());
        EXPECT(0x5152, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 01FA
        gbc.setState(0xd41a, 0x87cd, 0x7cc0, 0xe2bc, 0xf243, 0x7d50, 0x0, 0x0);
        gbc.writeMem(0xd41a, { 0xfb });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x87cd, gbc.sp());
        EXPECT(0xd41b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd41a));
        // FB 01FB
        gbc.setState(0xda5d, 0xa945, 0xbb80, 0xf88e, 0x7730, 0x64ae, 0x0, 0x0);
        gbc.writeMem(0xda5d, { 0xfb });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xa945, gbc.sp());
        EXPECT(0xda5e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xda5d));
        // FB 01FC
        gbc.setState(0x5b93, 0x8196, 0x7140, 0x6c6a, 0xfd95, 0xe13a, 0x0, 0x1);
        gbc.writeMem(0x5b93, { 0xfb });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x8196, gbc.sp());
        EXPECT(0x5b94, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 01FE
        gbc.setState(0xc2ec, 0xadcf, 0x9b70, 0x7f00, 0xada0, 0x6ba, 0x0, 0x1);
        gbc.writeMem(0xc2ec, { 0xfb });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xadcf, gbc.sp());
        EXPECT(0xc2ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc2ec));
        // FB 01FF
        gbc.setState(0xebed, 0x96d0, 0xae00, 0x3ccb, 0xd6bb, 0x854a, 0x0, 0x0);
        gbc.writeMem(0xebed, { 0xfb });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x96d0, gbc.sp());
        EXPECT(0xebee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xebed));
        // FB 0200
        gbc.setState(0x60d, 0xb88d, 0xb740, 0xf01c, 0x1c9c, 0x226a, 0x0, 0x1);
        gbc.writeMem(0x60d, { 0xfb });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xb88d, gbc.sp());
        EXPECT(0x60e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0201
        gbc.setState(0x613c, 0xcc3a, 0x3330, 0xd424, 0xd5a8, 0x1d1b, 0x0, 0x1);
        gbc.writeMem(0x613c, { 0xfb });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xcc3a, gbc.sp());
        EXPECT(0x613d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0202
        gbc.setState(0xb866, 0xd3ee, 0x5810, 0x2365, 0xb71e, 0xaa96, 0x1, 0x0);
        gbc.writeMem(0xb866, { 0xfb });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xd3ee, gbc.sp());
        EXPECT(0xb867, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb866));
        // FB 0203
        gbc.setState(0x4b6b, 0xfb5f, 0x5ce0, 0xa182, 0x1888, 0x77e3, 0x1, 0x0);
        gbc.writeMem(0x4b6b, { 0xfb });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xfb5f, gbc.sp());
        EXPECT(0x4b6c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0204
        gbc.setState(0x45ab, 0x4ba, 0x68d0, 0x9ac8, 0x359d, 0xaa40, 0x0, 0x1);
        gbc.writeMem(0x45ab, { 0xfb });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x4ba, gbc.sp());
        EXPECT(0x45ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0206
        gbc.setState(0xe808, 0x4bfa, 0x5360, 0x51e7, 0xef17, 0x3f9d, 0x0, 0x0);
        gbc.writeMem(0xe808, { 0xfb });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x4bfa, gbc.sp());
        EXPECT(0xe809, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe808));
        // FB 0207
        gbc.setState(0x59d9, 0xc95f, 0x4a80, 0xdb35, 0xfe7c, 0x9762, 0x0, 0x0);
        gbc.writeMem(0x59d9, { 0xfb });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xc95f, gbc.sp());
        EXPECT(0x59da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0208
        gbc.setState(0xc4b6, 0x83e3, 0x32c0, 0x50e3, 0x680f, 0xea01, 0x0, 0x0);
        gbc.writeMem(0xc4b6, { 0xfb });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x83e3, gbc.sp());
        EXPECT(0xc4b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc4b6));
        // FB 0209
        gbc.setState(0x7650, 0x439b, 0x54f0, 0xefdb, 0x228d, 0xec07, 0x1, 0x1);
        gbc.writeMem(0x7650, { 0xfb });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x439b, gbc.sp());
        EXPECT(0x7651, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 020A
        gbc.setState(0x7f5d, 0x9809, 0xa340, 0xad05, 0x4cd2, 0x4bcd, 0x0, 0x0);
        gbc.writeMem(0x7f5d, { 0xfb });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x9809, gbc.sp());
        EXPECT(0x7f5e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 020B
        gbc.setState(0x344d, 0x76ca, 0xff0, 0xcdd5, 0xac3d, 0x246e, 0x1, 0x1);
        gbc.writeMem(0x344d, { 0xfb });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x76ca, gbc.sp());
        EXPECT(0x344e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 020C
        gbc.setState(0x4e67, 0x220b, 0xa00, 0x8cb7, 0xfa94, 0x8e2a, 0x1, 0x0);
        gbc.writeMem(0x4e67, { 0xfb });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x220b, gbc.sp());
        EXPECT(0x4e68, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 020D
        gbc.setState(0x9332, 0xc0b5, 0xfd40, 0x9b23, 0x61f8, 0x4b13, 0x1, 0x1);
        gbc.writeMem(0x9332, { 0xfb });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xc0b5, gbc.sp());
        EXPECT(0x9333, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9332));
        // FB 020E
        gbc.setState(0x33f9, 0x258d, 0xd9a0, 0x3b07, 0xc390, 0x5d5b, 0x1, 0x1);
        gbc.writeMem(0x33f9, { 0xfb });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x258d, gbc.sp());
        EXPECT(0x33fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0210
        gbc.setState(0x9580, 0x70f1, 0x6440, 0xef75, 0x812a, 0x52b7, 0x1, 0x0);
        gbc.writeMem(0x9580, { 0xfb });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x70f1, gbc.sp());
        EXPECT(0x9581, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9580));
        // FB 0211
        gbc.setState(0xc749, 0xd60d, 0x8f10, 0xd39b, 0xd804, 0x380b, 0x1, 0x1);
        gbc.writeMem(0xc749, { 0xfb });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xd60d, gbc.sp());
        EXPECT(0xc74a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc749));
        // FB 0212
        gbc.setState(0xe37e, 0xd018, 0x450, 0xa0a8, 0x23bd, 0xa132, 0x1, 0x1);
        gbc.writeMem(0xe37e, { 0xfb });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xd018, gbc.sp());
        EXPECT(0xe37f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe37e));
        // FB 0213
        gbc.setState(0x16a2, 0x398b, 0xf2d0, 0x3531, 0xb04e, 0x58c7, 0x1, 0x0);
        gbc.writeMem(0x16a2, { 0xfb });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x398b, gbc.sp());
        EXPECT(0x16a3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0214
        gbc.setState(0xab57, 0x5797, 0xe7e0, 0x2504, 0x5956, 0x2432, 0x0, 0x0);
        gbc.writeMem(0xab57, { 0xfb });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x5797, gbc.sp());
        EXPECT(0xab58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xab57));
        // FB 0215
        gbc.setState(0x22ac, 0x6a1, 0x4f90, 0xbc15, 0x9e12, 0x6284, 0x0, 0x0);
        gbc.writeMem(0x22ac, { 0xfb });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x6a1, gbc.sp());
        EXPECT(0x22ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0216
        gbc.setState(0x326, 0x5f, 0x3120, 0x66c3, 0x224a, 0xe4e5, 0x0, 0x0);
        gbc.writeMem(0x326, { 0xfb });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x5f, gbc.sp());
        EXPECT(0x327, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0217
        gbc.setState(0xe98e, 0xa477, 0xf310, 0x3a79, 0x8821, 0x8f37, 0x1, 0x0);
        gbc.writeMem(0xe98e, { 0xfb });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xa477, gbc.sp());
        EXPECT(0xe98f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe98e));
        // FB 0218
        gbc.setState(0xfb8, 0xd9c6, 0x8d00, 0xd7fd, 0x4328, 0x93a2, 0x1, 0x1);
        gbc.writeMem(0xfb8, { 0xfb });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xd9c6, gbc.sp());
        EXPECT(0xfb9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0219
        gbc.setState(0xddf5, 0x5c4a, 0x8de0, 0xdff3, 0x9a34, 0x861, 0x0, 0x0);
        gbc.writeMem(0xddf5, { 0xfb });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x5c4a, gbc.sp());
        EXPECT(0xddf6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xddf5));
        // FB 021A
        gbc.setState(0x5213, 0xaf0d, 0xbb90, 0x7ce8, 0xbbad, 0x4fac, 0x1, 0x1);
        gbc.writeMem(0x5213, { 0xfb });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xaf0d, gbc.sp());
        EXPECT(0x5214, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 021B
        gbc.setState(0x88b3, 0x4247, 0x7860, 0x97a2, 0x5be, 0xb805, 0x1, 0x0);
        gbc.writeMem(0x88b3, { 0xfb });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x4247, gbc.sp());
        EXPECT(0x88b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x88b3));
        // FB 021C
        gbc.setState(0xd721, 0x4f9c, 0x24b0, 0xabcd, 0x6a9, 0x830a, 0x0, 0x0);
        gbc.writeMem(0xd721, { 0xfb });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x4f9c, gbc.sp());
        EXPECT(0xd722, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd721));
        // FB 021D
        gbc.setState(0xbb5f, 0xca9d, 0x3130, 0x83f2, 0x98d8, 0x1882, 0x1, 0x0);
        gbc.writeMem(0xbb5f, { 0xfb });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xca9d, gbc.sp());
        EXPECT(0xbb60, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbb5f));
        // FB 021E
        gbc.setState(0xaf2, 0x8963, 0xea50, 0xed9f, 0x1ab, 0x9648, 0x1, 0x0);
        gbc.writeMem(0xaf2, { 0xfb });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x8963, gbc.sp());
        EXPECT(0xaf3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 021F
        gbc.setState(0x1a8e, 0x7aa7, 0x6b80, 0x2839, 0x56d, 0x87c, 0x1, 0x1);
        gbc.writeMem(0x1a8e, { 0xfb });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x7aa7, gbc.sp());
        EXPECT(0x1a8f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0220
        gbc.setState(0x3fdd, 0x6bf, 0x73a0, 0x9f27, 0xc12d, 0x5767, 0x0, 0x0);
        gbc.writeMem(0x3fdd, { 0xfb });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x6bf, gbc.sp());
        EXPECT(0x3fde, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0221
        gbc.setState(0x3c22, 0x83f4, 0x300, 0x9600, 0x34fe, 0x8681, 0x0, 0x1);
        gbc.writeMem(0x3c22, { 0xfb });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x83f4, gbc.sp());
        EXPECT(0x3c23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0222
        gbc.setState(0xe305, 0x43f, 0xb4a0, 0x7384, 0x99f2, 0x5953, 0x1, 0x1);
        gbc.writeMem(0xe305, { 0xfb });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x43f, gbc.sp());
        EXPECT(0xe306, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe305));
        // FB 0223
        gbc.setState(0x97e1, 0xd048, 0x1ef0, 0x6dd1, 0x4677, 0xaa14, 0x0, 0x1);
        gbc.writeMem(0x97e1, { 0xfb });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xd048, gbc.sp());
        EXPECT(0x97e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x97e1));
        // FB 0224
        gbc.setState(0x7176, 0x98e9, 0xf0c0, 0xc950, 0x2bd7, 0x8945, 0x0, 0x1);
        gbc.writeMem(0x7176, { 0xfb });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x98e9, gbc.sp());
        EXPECT(0x7177, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0225
        gbc.setState(0xc650, 0xc7ae, 0xdc10, 0x9049, 0x971a, 0x61f1, 0x0, 0x1);
        gbc.writeMem(0xc650, { 0xfb });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xc7ae, gbc.sp());
        EXPECT(0xc651, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc650));
        // FB 0227
        gbc.setState(0x2b7b, 0xb1a6, 0x4600, 0x1e2f, 0x6d89, 0xba37, 0x1, 0x1);
        gbc.writeMem(0x2b7b, { 0xfb });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xb1a6, gbc.sp());
        EXPECT(0x2b7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0228
        gbc.setState(0x83f0, 0xd6a5, 0xcc20, 0x1f4a, 0xaa28, 0xaafc, 0x1, 0x0);
        gbc.writeMem(0x83f0, { 0xfb });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xd6a5, gbc.sp());
        EXPECT(0x83f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x83f0));
        // FB 0229
        gbc.setState(0x28b2, 0x4046, 0x2480, 0xb00d, 0xb501, 0x2c3f, 0x0, 0x0);
        gbc.writeMem(0x28b2, { 0xfb });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x4046, gbc.sp());
        EXPECT(0x28b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 022A
        gbc.setState(0xdd06, 0x4338, 0x1430, 0x7b6, 0x2870, 0xceff, 0x1, 0x0);
        gbc.writeMem(0xdd06, { 0xfb });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x4338, gbc.sp());
        EXPECT(0xdd07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdd06));
        // FB 022B
        gbc.setState(0xc8a7, 0x5e76, 0xded0, 0xfc3f, 0xd5f6, 0x7c62, 0x0, 0x0);
        gbc.writeMem(0xc8a7, { 0xfb });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x5e76, gbc.sp());
        EXPECT(0xc8a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc8a7));
        // FB 022C
        gbc.setState(0xb06c, 0xb804, 0x6f30, 0xb178, 0x318e, 0x378f, 0x0, 0x0);
        gbc.writeMem(0xb06c, { 0xfb });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xb804, gbc.sp());
        EXPECT(0xb06d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb06c));
        // FB 022D
        gbc.setState(0xdd3f, 0x2838, 0x9080, 0x5653, 0x798a, 0x82f, 0x0, 0x1);
        gbc.writeMem(0xdd3f, { 0xfb });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x2838, gbc.sp());
        EXPECT(0xdd40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdd3f));
        // FB 022E
        gbc.setState(0xd76a, 0x5381, 0xf2f0, 0xf3dc, 0x25ac, 0xae06, 0x1, 0x0);
        gbc.writeMem(0xd76a, { 0xfb });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x5381, gbc.sp());
        EXPECT(0xd76b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd76a));
        // FB 022F
        gbc.setState(0x20a7, 0xf6e3, 0x1690, 0x68f3, 0x6a45, 0xc90e, 0x0, 0x0);
        gbc.writeMem(0x20a7, { 0xfb });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xf6e3, gbc.sp());
        EXPECT(0x20a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0230
        gbc.setState(0xda8d, 0x628e, 0xa110, 0xfc0a, 0xdeb0, 0x5b3e, 0x1, 0x0);
        gbc.writeMem(0xda8d, { 0xfb });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x628e, gbc.sp());
        EXPECT(0xda8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xda8d));
        // FB 0231
        gbc.setState(0x9be4, 0xa8a4, 0x3050, 0xb429, 0x16f0, 0x756a, 0x0, 0x0);
        gbc.writeMem(0x9be4, { 0xfb });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xa8a4, gbc.sp());
        EXPECT(0x9be5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9be4));
        // FB 0232
        gbc.setState(0x49fd, 0x6fb7, 0x7fd0, 0x2dc3, 0x2cfd, 0x53e, 0x1, 0x0);
        gbc.writeMem(0x49fd, { 0xfb });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x6fb7, gbc.sp());
        EXPECT(0x49fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0233
        gbc.setState(0x47b7, 0x629c, 0xcdf0, 0xc19e, 0xecd3, 0x5737, 0x1, 0x1);
        gbc.writeMem(0x47b7, { 0xfb });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x629c, gbc.sp());
        EXPECT(0x47b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0234
        gbc.setState(0x79ed, 0x5435, 0x1530, 0x8298, 0xfaf4, 0x3e38, 0x1, 0x1);
        gbc.writeMem(0x79ed, { 0xfb });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x5435, gbc.sp());
        EXPECT(0x79ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0235
        gbc.setState(0x48a7, 0x4728, 0x7360, 0x5dc6, 0x3058, 0x7224, 0x0, 0x0);
        gbc.writeMem(0x48a7, { 0xfb });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x4728, gbc.sp());
        EXPECT(0x48a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0236
        gbc.setState(0xa50d, 0x4cd8, 0x7f0, 0xafa8, 0x203, 0x9c7a, 0x0, 0x1);
        gbc.writeMem(0xa50d, { 0xfb });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x4cd8, gbc.sp());
        EXPECT(0xa50e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa50d));
        // FB 0237
        gbc.setState(0x87e8, 0xce59, 0x380, 0xd3bd, 0xc823, 0xa1a2, 0x0, 0x0);
        gbc.writeMem(0x87e8, { 0xfb });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xce59, gbc.sp());
        EXPECT(0x87e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x87e8));
        // FB 0238
        gbc.setState(0x43f8, 0xa984, 0x5d70, 0x57f3, 0x562f, 0x73a1, 0x1, 0x1);
        gbc.writeMem(0x43f8, { 0xfb });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xa984, gbc.sp());
        EXPECT(0x43f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0239
        gbc.setState(0xebb, 0x55e9, 0x3aa0, 0x447c, 0x5442, 0x2814, 0x1, 0x1);
        gbc.writeMem(0xebb, { 0xfb });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x55e9, gbc.sp());
        EXPECT(0xebc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 023A
        gbc.setState(0xbc81, 0xab11, 0x61d0, 0x135, 0x2a65, 0x7e38, 0x0, 0x1);
        gbc.writeMem(0xbc81, { 0xfb });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xab11, gbc.sp());
        EXPECT(0xbc82, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbc81));
        // FB 023C
        gbc.setState(0x988b, 0xdedd, 0xf4b0, 0x8c59, 0xc116, 0xcef0, 0x0, 0x0);
        gbc.writeMem(0x988b, { 0xfb });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xdedd, gbc.sp());
        EXPECT(0x988c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x988b));
        // FB 023D
        gbc.setState(0x6404, 0x14a, 0x26f0, 0xbe1e, 0xff95, 0x49e2, 0x1, 0x1);
        gbc.writeMem(0x6404, { 0xfb });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x14a, gbc.sp());
        EXPECT(0x6405, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 023E
        gbc.setState(0x3da3, 0xa992, 0x8460, 0x63b0, 0x5fc6, 0x793b, 0x1, 0x0);
        gbc.writeMem(0x3da3, { 0xfb });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xa992, gbc.sp());
        EXPECT(0x3da4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 023F
        gbc.setState(0x4c8b, 0x8e4e, 0xe590, 0x8fa2, 0xd9c1, 0xf9a, 0x1, 0x0);
        gbc.writeMem(0x4c8b, { 0xfb });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x8e4e, gbc.sp());
        EXPECT(0x4c8c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0241
        gbc.setState(0x751e, 0x6e7f, 0x4850, 0x345f, 0x69dc, 0x82d, 0x0, 0x1);
        gbc.writeMem(0x751e, { 0xfb });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x6e7f, gbc.sp());
        EXPECT(0x751f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0242
        gbc.setState(0x4c8a, 0xf4b4, 0x19b0, 0x5afd, 0x52a2, 0xaa79, 0x1, 0x1);
        gbc.writeMem(0x4c8a, { 0xfb });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xf4b4, gbc.sp());
        EXPECT(0x4c8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0243
        gbc.setState(0x2936, 0x8f44, 0x3f20, 0x72b2, 0xeb92, 0x4e, 0x0, 0x1);
        gbc.writeMem(0x2936, { 0xfb });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x8f44, gbc.sp());
        EXPECT(0x2937, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0244
        gbc.setState(0x5440, 0xe986, 0x5360, 0x33a4, 0x4060, 0x7c49, 0x0, 0x0);
        gbc.writeMem(0x5440, { 0xfb });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xe986, gbc.sp());
        EXPECT(0x5441, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0245
        gbc.setState(0x9626, 0xf621, 0x63e0, 0xf4fb, 0x1e4e, 0x6c55, 0x1, 0x0);
        gbc.writeMem(0x9626, { 0xfb });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xf621, gbc.sp());
        EXPECT(0x9627, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9626));
        // FB 0246
        gbc.setState(0xa91e, 0x9ac5, 0x1bf0, 0xabc1, 0x3906, 0x1fe5, 0x0, 0x0);
        gbc.writeMem(0xa91e, { 0xfb });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x9ac5, gbc.sp());
        EXPECT(0xa91f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa91e));
        // FB 0247
        gbc.setState(0x3410, 0x7fba, 0x310, 0x1424, 0xbd08, 0x944a, 0x1, 0x0);
        gbc.writeMem(0x3410, { 0xfb });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x7fba, gbc.sp());
        EXPECT(0x3411, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0248
        gbc.setState(0x3f23, 0x640e, 0x22f0, 0x884e, 0x9268, 0x8fb9, 0x0, 0x0);
        gbc.writeMem(0x3f23, { 0xfb });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x640e, gbc.sp());
        EXPECT(0x3f24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0249
        gbc.setState(0xa11c, 0xe3f3, 0x8920, 0x411d, 0xa7ba, 0xc0ef, 0x1, 0x0);
        gbc.writeMem(0xa11c, { 0xfb });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xe3f3, gbc.sp());
        EXPECT(0xa11d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa11c));
        // FB 024A
        gbc.setState(0x5f5b, 0x5249, 0x7a20, 0x3876, 0x41df, 0x7abe, 0x0, 0x0);
        gbc.writeMem(0x5f5b, { 0xfb });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x5249, gbc.sp());
        EXPECT(0x5f5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 024B
        gbc.setState(0xbe02, 0x39a2, 0xca10, 0x88ff, 0x143f, 0x57ff, 0x0, 0x0);
        gbc.writeMem(0xbe02, { 0xfb });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x39a2, gbc.sp());
        EXPECT(0xbe03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbe02));
        // FB 024C
        gbc.setState(0xea39, 0x91ab, 0x4950, 0x1197, 0x2f4c, 0x4ee0, 0x1, 0x0);
        gbc.writeMem(0xea39, { 0xfb });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x91ab, gbc.sp());
        EXPECT(0xea3a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xea39));
        // FB 024D
        gbc.setState(0x91ba, 0x21fd, 0x9520, 0xe1d4, 0x9a0f, 0x55db, 0x0, 0x1);
        gbc.writeMem(0x91ba, { 0xfb });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x21fd, gbc.sp());
        EXPECT(0x91bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x91ba));
        // FB 024E
        gbc.setState(0xb845, 0xb070, 0xd6c0, 0x4498, 0x9e16, 0xf7, 0x0, 0x1);
        gbc.writeMem(0xb845, { 0xfb });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xb070, gbc.sp());
        EXPECT(0xb846, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb845));
        // FB 024F
        gbc.setState(0x85f0, 0xe887, 0x2ec0, 0x49e4, 0x4e22, 0x673, 0x0, 0x0);
        gbc.writeMem(0x85f0, { 0xfb });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xe887, gbc.sp());
        EXPECT(0x85f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x85f0));
        // FB 0250
        gbc.setState(0xde06, 0xf719, 0x6bf0, 0x7e2, 0x6233, 0x5b54, 0x0, 0x0);
        gbc.writeMem(0xde06, { 0xfb });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xf719, gbc.sp());
        EXPECT(0xde07, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xde06));
        // FB 0251
        gbc.setState(0x811a, 0x6307, 0x7130, 0x46f6, 0xf4e1, 0x9349, 0x0, 0x0);
        gbc.writeMem(0x811a, { 0xfb });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x6307, gbc.sp());
        EXPECT(0x811b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x811a));
        // FB 0252
        gbc.setState(0x3fc8, 0xe001, 0xb950, 0xfb68, 0xbd8d, 0x2bed, 0x1, 0x1);
        gbc.writeMem(0x3fc8, { 0xfb });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xe001, gbc.sp());
        EXPECT(0x3fc9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0253
        gbc.setState(0xda1f, 0x741e, 0x7f00, 0x76cc, 0xc381, 0xb53, 0x1, 0x0);
        gbc.writeMem(0xda1f, { 0xfb });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x741e, gbc.sp());
        EXPECT(0xda20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xda1f));
        // FB 0254
        gbc.setState(0x11e4, 0x3edf, 0x1c80, 0x9065, 0x4175, 0x58c0, 0x1, 0x1);
        gbc.writeMem(0x11e4, { 0xfb });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x3edf, gbc.sp());
        EXPECT(0x11e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0255
        gbc.setState(0xcb65, 0x4c1e, 0x80a0, 0xd43, 0xa01e, 0x48e, 0x1, 0x0);
        gbc.writeMem(0xcb65, { 0xfb });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x4c1e, gbc.sp());
        EXPECT(0xcb66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xcb65));
        // FB 0256
        gbc.setState(0x49ff, 0x7f71, 0x4d70, 0x142d, 0xcd88, 0x35f, 0x0, 0x0);
        gbc.writeMem(0x49ff, { 0xfb });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x7f71, gbc.sp());
        EXPECT(0x4a00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0257
        gbc.setState(0x653d, 0xa4c1, 0x45f0, 0x5732, 0x98d1, 0xc1c9, 0x0, 0x1);
        gbc.writeMem(0x653d, { 0xfb });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xa4c1, gbc.sp());
        EXPECT(0x653e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0258
        gbc.setState(0xe4f1, 0xe4ec, 0x7940, 0x5ecd, 0xcf58, 0x453f, 0x1, 0x0);
        gbc.writeMem(0xe4f1, { 0xfb });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xe4ec, gbc.sp());
        EXPECT(0xe4f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe4f1));
        // FB 0259
        gbc.setState(0xe841, 0xafb1, 0x3070, 0x9ab7, 0xd22a, 0x6b04, 0x1, 0x1);
        gbc.writeMem(0xe841, { 0xfb });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xafb1, gbc.sp());
        EXPECT(0xe842, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe841));
        // FB 025A
        gbc.setState(0x8c84, 0xc6e2, 0xf260, 0xd058, 0xd019, 0x6cfc, 0x0, 0x0);
        gbc.writeMem(0x8c84, { 0xfb });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xc6e2, gbc.sp());
        EXPECT(0x8c85, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8c84));
        // FB 025B
        gbc.setState(0xc867, 0x2c16, 0xb3a0, 0xb217, 0x896d, 0x4e00, 0x1, 0x1);
        gbc.writeMem(0xc867, { 0xfb });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x2c16, gbc.sp());
        EXPECT(0xc868, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc867));
        // FB 025C
        gbc.setState(0x1404, 0xfc4b, 0xa580, 0x770c, 0x3d92, 0x336a, 0x0, 0x0);
        gbc.writeMem(0x1404, { 0xfb });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xfc4b, gbc.sp());
        EXPECT(0x1405, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 025D
        gbc.setState(0xba97, 0x7f08, 0xb8f0, 0x1df4, 0xef1d, 0x40c8, 0x0, 0x0);
        gbc.writeMem(0xba97, { 0xfb });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x7f08, gbc.sp());
        EXPECT(0xba98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xba97));
        // FB 025E
        gbc.setState(0x2432, 0x8490, 0x630, 0xeecb, 0xd16d, 0xa39a, 0x1, 0x1);
        gbc.writeMem(0x2432, { 0xfb });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x8490, gbc.sp());
        EXPECT(0x2433, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 025F
        gbc.setState(0x339d, 0x4ad9, 0x4640, 0x2b84, 0x80ad, 0xdad4, 0x1, 0x1);
        gbc.writeMem(0x339d, { 0xfb });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x4ad9, gbc.sp());
        EXPECT(0x339e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0260
        gbc.setState(0xbbfc, 0x65f5, 0xaec0, 0x92f9, 0x9a0a, 0xca2f, 0x1, 0x0);
        gbc.writeMem(0xbbfc, { 0xfb });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x65f5, gbc.sp());
        EXPECT(0xbbfd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbbfc));
        // FB 0262
        gbc.setState(0x1ea6, 0x1571, 0x8530, 0xc1f, 0x83, 0x5082, 0x1, 0x1);
        gbc.writeMem(0x1ea6, { 0xfb });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x1571, gbc.sp());
        EXPECT(0x1ea7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0263
        gbc.setState(0x237, 0xa109, 0xf110, 0xf1de, 0xe7fc, 0x21aa, 0x0, 0x1);
        gbc.writeMem(0x237, { 0xfb });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xa109, gbc.sp());
        EXPECT(0x238, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0264
        gbc.setState(0xd4b, 0x1899, 0x4ed0, 0x9867, 0x8685, 0x40cc, 0x0, 0x0);
        gbc.writeMem(0xd4b, { 0xfb });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x1899, gbc.sp());
        EXPECT(0xd4c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0265
        gbc.setState(0x8204, 0x420f, 0xba80, 0x627f, 0x2c89, 0x1d22, 0x1, 0x0);
        gbc.writeMem(0x8204, { 0xfb });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x420f, gbc.sp());
        EXPECT(0x8205, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8204));
        // FB 0266
        gbc.setState(0xe309, 0x711f, 0xdd30, 0xe10e, 0xcc4f, 0x3129, 0x1, 0x1);
        gbc.writeMem(0xe309, { 0xfb });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x711f, gbc.sp());
        EXPECT(0xe30a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe309));
        // FB 0267
        gbc.setState(0x67c7, 0x863d, 0xd900, 0xf122, 0xfdb8, 0x5253, 0x0, 0x0);
        gbc.writeMem(0x67c7, { 0xfb });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x863d, gbc.sp());
        EXPECT(0x67c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0268
        gbc.setState(0x8bf9, 0x95b5, 0xf430, 0x48d7, 0x7d53, 0xddda, 0x1, 0x0);
        gbc.writeMem(0x8bf9, { 0xfb });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x95b5, gbc.sp());
        EXPECT(0x8bfa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8bf9));
        // FB 0269
        gbc.setState(0x4fa6, 0x6339, 0x50c0, 0x89e5, 0xb88d, 0xbdeb, 0x0, 0x1);
        gbc.writeMem(0x4fa6, { 0xfb });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x6339, gbc.sp());
        EXPECT(0x4fa7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 026A
        gbc.setState(0x851e, 0xa436, 0x620, 0xe574, 0x865b, 0x2280, 0x0, 0x1);
        gbc.writeMem(0x851e, { 0xfb });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xa436, gbc.sp());
        EXPECT(0x851f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x851e));
        // FB 026B
        gbc.setState(0x1a97, 0x828c, 0x2e10, 0x65fa, 0x16b4, 0x99c0, 0x0, 0x1);
        gbc.writeMem(0x1a97, { 0xfb });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x828c, gbc.sp());
        EXPECT(0x1a98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 026C
        gbc.setState(0x4f7a, 0xd9be, 0x6150, 0x28d7, 0x782c, 0xb352, 0x1, 0x0);
        gbc.writeMem(0x4f7a, { 0xfb });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xd9be, gbc.sp());
        EXPECT(0x4f7b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 026D
        gbc.setState(0x83b2, 0x29c3, 0x3420, 0xc951, 0x94b5, 0x8e14, 0x0, 0x1);
        gbc.writeMem(0x83b2, { 0xfb });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x29c3, gbc.sp());
        EXPECT(0x83b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x83b2));
        // FB 026E
        gbc.setState(0x9bde, 0xd12d, 0x7220, 0x1338, 0x696b, 0x443c, 0x1, 0x1);
        gbc.writeMem(0x9bde, { 0xfb });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xd12d, gbc.sp());
        EXPECT(0x9bdf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9bde));
        // FB 026F
        gbc.setState(0x1559, 0x7741, 0xd510, 0x7011, 0xa7c5, 0x13e, 0x0, 0x1);
        gbc.writeMem(0x1559, { 0xfb });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x7741, gbc.sp());
        EXPECT(0x155a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0270
        gbc.setState(0x83a1, 0x66b4, 0x5fd0, 0xb004, 0xe5fd, 0x2ba9, 0x1, 0x0);
        gbc.writeMem(0x83a1, { 0xfb });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x66b4, gbc.sp());
        EXPECT(0x83a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x83a1));
        // FB 0271
        gbc.setState(0x26e4, 0xb910, 0x3ee0, 0x8756, 0x2101, 0xd0c2, 0x1, 0x1);
        gbc.writeMem(0x26e4, { 0xfb });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xb910, gbc.sp());
        EXPECT(0x26e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0272
        gbc.setState(0xbb1e, 0xf8f9, 0x4720, 0x864e, 0xf962, 0x97ee, 0x0, 0x1);
        gbc.writeMem(0xbb1e, { 0xfb });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xf8f9, gbc.sp());
        EXPECT(0xbb1f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbb1e));
        // FB 0273
        gbc.setState(0xd240, 0xccc9, 0x4080, 0x625, 0xe8d1, 0xd475, 0x1, 0x1);
        gbc.writeMem(0xd240, { 0xfb });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xccc9, gbc.sp());
        EXPECT(0xd241, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd240));
        // FB 0274
        gbc.setState(0xa134, 0xa1c6, 0x4d50, 0x18be, 0xd957, 0xe78e, 0x0, 0x1);
        gbc.writeMem(0xa134, { 0xfb });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xa1c6, gbc.sp());
        EXPECT(0xa135, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa134));
        // FB 0275
        gbc.setState(0xd525, 0xcdf4, 0xeb0, 0x6958, 0xa91b, 0x7825, 0x0, 0x1);
        gbc.writeMem(0xd525, { 0xfb });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xcdf4, gbc.sp());
        EXPECT(0xd526, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd525));
        // FB 0277
        gbc.setState(0xb1e4, 0x1c3d, 0x9a40, 0x174f, 0xf4bb, 0xad95, 0x0, 0x1);
        gbc.writeMem(0xb1e4, { 0xfb });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x1c3d, gbc.sp());
        EXPECT(0xb1e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb1e4));
        // FB 0278
        gbc.setState(0x505b, 0x1ffd, 0x8690, 0x32e8, 0x13ca, 0xe0f9, 0x0, 0x1);
        gbc.writeMem(0x505b, { 0xfb });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x1ffd, gbc.sp());
        EXPECT(0x505c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0279
        gbc.setState(0x9223, 0x448c, 0xe740, 0xdfd2, 0xa898, 0x9abf, 0x0, 0x1);
        gbc.writeMem(0x9223, { 0xfb });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x448c, gbc.sp());
        EXPECT(0x9224, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9223));
        // FB 027A
        gbc.setState(0xc311, 0xd2a7, 0x67a0, 0xb41e, 0x2e27, 0xa18d, 0x0, 0x0);
        gbc.writeMem(0xc311, { 0xfb });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xd2a7, gbc.sp());
        EXPECT(0xc312, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc311));
        // FB 027B
        gbc.setState(0x372, 0x406a, 0xeef0, 0xec16, 0xf347, 0xef0a, 0x0, 0x1);
        gbc.writeMem(0x372, { 0xfb });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x406a, gbc.sp());
        EXPECT(0x373, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 027C
        gbc.setState(0x8d6a, 0x213, 0x290, 0x60ba, 0x2525, 0x3327, 0x0, 0x1);
        gbc.writeMem(0x8d6a, { 0xfb });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x213, gbc.sp());
        EXPECT(0x8d6b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8d6a));
        // FB 027D
        gbc.setState(0xdfd5, 0x6ce5, 0xafc0, 0xdc7, 0x53db, 0x165c, 0x0, 0x0);
        gbc.writeMem(0xdfd5, { 0xfb });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x6ce5, gbc.sp());
        EXPECT(0xdfd6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdfd5));
        // FB 027F
        gbc.setState(0xa96f, 0xd7a, 0xb880, 0x6ad6, 0x3e5e, 0x68a3, 0x0, 0x1);
        gbc.writeMem(0xa96f, { 0xfb });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xd7a, gbc.sp());
        EXPECT(0xa970, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa96f));
        // FB 0280
        gbc.setState(0x3188, 0x1b0a, 0xe080, 0x7d90, 0xaf71, 0x6b, 0x0, 0x0);
        gbc.writeMem(0x3188, { 0xfb });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x1b0a, gbc.sp());
        EXPECT(0x3189, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0282
        gbc.setState(0x9452, 0x8bc2, 0xa820, 0x8499, 0x15de, 0x4cf9, 0x1, 0x0);
        gbc.writeMem(0x9452, { 0xfb });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x8bc2, gbc.sp());
        EXPECT(0x9453, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9452));
        // FB 0283
        gbc.setState(0x10cd, 0x629f, 0xd0c0, 0xc45, 0x2fd9, 0xd910, 0x0, 0x0);
        gbc.writeMem(0x10cd, { 0xfb });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x629f, gbc.sp());
        EXPECT(0x10ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0284
        gbc.setState(0xb49c, 0x1597, 0xf7e0, 0x88d9, 0x6a54, 0x28c6, 0x1, 0x1);
        gbc.writeMem(0xb49c, { 0xfb });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x1597, gbc.sp());
        EXPECT(0xb49d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb49c));
        // FB 0285
        gbc.setState(0xac7e, 0x50a2, 0x6190, 0x84db, 0xda4e, 0x9843, 0x0, 0x1);
        gbc.writeMem(0xac7e, { 0xfb });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x50a2, gbc.sp());
        EXPECT(0xac7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xac7e));
        // FB 0286
        gbc.setState(0x5555, 0xe089, 0x9a80, 0xd0ff, 0x83c4, 0xb989, 0x1, 0x1);
        gbc.writeMem(0x5555, { 0xfb });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xe089, gbc.sp());
        EXPECT(0x5556, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0287
        gbc.setState(0x6bf6, 0xfffa, 0xd8d0, 0xf965, 0x6033, 0x5c67, 0x1, 0x0);
        gbc.writeMem(0x6bf6, { 0xfb });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xfffa, gbc.sp());
        EXPECT(0x6bf7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0288
        gbc.setState(0xb799, 0x7242, 0xcc30, 0x9abf, 0xa1fe, 0x5041, 0x1, 0x0);
        gbc.writeMem(0xb799, { 0xfb });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x7242, gbc.sp());
        EXPECT(0xb79a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb799));
        // FB 0289
        gbc.setState(0xd8e7, 0x2a56, 0x9190, 0xa369, 0xa1f3, 0x19d8, 0x1, 0x1);
        gbc.writeMem(0xd8e7, { 0xfb });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x2a56, gbc.sp());
        EXPECT(0xd8e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd8e7));
        // FB 028A
        gbc.setState(0x922e, 0xe51c, 0xd110, 0x1aaa, 0xfecd, 0x6628, 0x1, 0x1);
        gbc.writeMem(0x922e, { 0xfb });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xe51c, gbc.sp());
        EXPECT(0x922f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x922e));
        // FB 028B
        gbc.setState(0x8597, 0xfc7d, 0xb440, 0x8120, 0x7c29, 0x59b1, 0x1, 0x1);
        gbc.writeMem(0x8597, { 0xfb });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xfc7d, gbc.sp());
        EXPECT(0x8598, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8597));
        // FB 028C
        gbc.setState(0xd8a6, 0xd231, 0x95f0, 0xffcf, 0x2895, 0xa2c8, 0x0, 0x0);
        gbc.writeMem(0xd8a6, { 0xfb });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xd231, gbc.sp());
        EXPECT(0xd8a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd8a6));
        // FB 028E
        gbc.setState(0x14c, 0x273a, 0xc8d0, 0x11e2, 0x3d50, 0xb45a, 0x0, 0x1);
        gbc.writeMem(0x14c, { 0xfb });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x273a, gbc.sp());
        EXPECT(0x14d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 028F
        gbc.setState(0x4fb8, 0x59ec, 0xbaa0, 0xe391, 0xc24b, 0x7b5e, 0x0, 0x1);
        gbc.writeMem(0x4fb8, { 0xfb });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x59ec, gbc.sp());
        EXPECT(0x4fb9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0290
        gbc.setState(0xc06b, 0xfa0, 0x5b80, 0xcfd, 0xaee8, 0xa476, 0x0, 0x1);
        gbc.writeMem(0xc06b, { 0xfb });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xfa0, gbc.sp());
        EXPECT(0xc06c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc06b));
        // FB 0292
        gbc.setState(0xc113, 0x152d, 0x7910, 0xa0d9, 0xe108, 0xcac6, 0x1, 0x0);
        gbc.writeMem(0xc113, { 0xfb });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x152d, gbc.sp());
        EXPECT(0xc114, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc113));
        // FB 0293
        gbc.setState(0x4e92, 0x784, 0xc3b0, 0x6988, 0xf5fd, 0x9120, 0x0, 0x1);
        gbc.writeMem(0x4e92, { 0xfb });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x784, gbc.sp());
        EXPECT(0x4e93, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0294
        gbc.setState(0xdae9, 0x4cc4, 0xcb90, 0xa18b, 0xb8b4, 0x308b, 0x0, 0x0);
        gbc.writeMem(0xdae9, { 0xfb });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x4cc4, gbc.sp());
        EXPECT(0xdaea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdae9));
        // FB 0295
        gbc.setState(0x2dcb, 0x8445, 0xd9c0, 0x9675, 0x3b95, 0x6e0a, 0x0, 0x0);
        gbc.writeMem(0x2dcb, { 0xfb });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x8445, gbc.sp());
        EXPECT(0x2dcc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0296
        gbc.setState(0x2b03, 0x9c3, 0x64c0, 0x569c, 0xb0f1, 0x7913, 0x0, 0x0);
        gbc.writeMem(0x2b03, { 0xfb });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x9c3, gbc.sp());
        EXPECT(0x2b04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0297
        gbc.setState(0xbf3f, 0x2631, 0xe4a0, 0x7642, 0xf7d4, 0xd7d2, 0x1, 0x1);
        gbc.writeMem(0xbf3f, { 0xfb });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x2631, gbc.sp());
        EXPECT(0xbf40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbf3f));
        // FB 0298
        gbc.setState(0x9808, 0xbf30, 0x1e0, 0xd61f, 0xfc10, 0x79a0, 0x0, 0x1);
        gbc.writeMem(0x9808, { 0xfb });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xbf30, gbc.sp());
        EXPECT(0x9809, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9808));
        // FB 0299
        gbc.setState(0xa238, 0x2f1e, 0x64c0, 0x6eeb, 0xa9d1, 0xda, 0x1, 0x0);
        gbc.writeMem(0xa238, { 0xfb });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x2f1e, gbc.sp());
        EXPECT(0xa239, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa238));
        // FB 029B
        gbc.setState(0x81e0, 0xa730, 0x8de0, 0x5dfb, 0x1c1d, 0xc006, 0x0, 0x0);
        gbc.writeMem(0x81e0, { 0xfb });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xa730, gbc.sp());
        EXPECT(0x81e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x81e0));
        // FB 029D
        gbc.setState(0xb1fa, 0x13f3, 0x6f70, 0x6c38, 0x8a9c, 0xd083, 0x1, 0x1);
        gbc.writeMem(0xb1fa, { 0xfb });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x13f3, gbc.sp());
        EXPECT(0xb1fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb1fa));
        // FB 029E
        gbc.setState(0x44c1, 0x4445, 0x45f0, 0x4388, 0x9087, 0x141b, 0x0, 0x1);
        gbc.writeMem(0x44c1, { 0xfb });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x4445, gbc.sp());
        EXPECT(0x44c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 029F
        gbc.setState(0xaf54, 0xdcd8, 0x80b0, 0x6a69, 0x54b9, 0xb8f9, 0x0, 0x1);
        gbc.writeMem(0xaf54, { 0xfb });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xdcd8, gbc.sp());
        EXPECT(0xaf55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xaf54));
        // FB 02A0
        gbc.setState(0x8670, 0x79d1, 0xd8f0, 0xb0ea, 0x1f4b, 0x3bdd, 0x1, 0x1);
        gbc.writeMem(0x8670, { 0xfb });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x79d1, gbc.sp());
        EXPECT(0x8671, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8670));
        // FB 02A1
        gbc.setState(0x5f8b, 0x1e77, 0x4ce0, 0xb0c7, 0x683a, 0x5659, 0x0, 0x1);
        gbc.writeMem(0x5f8b, { 0xfb });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x1e77, gbc.sp());
        EXPECT(0x5f8c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02A2
        gbc.setState(0x798e, 0x81b4, 0x5d30, 0x8073, 0x72f7, 0xe6cb, 0x0, 0x0);
        gbc.writeMem(0x798e, { 0xfb });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x81b4, gbc.sp());
        EXPECT(0x798f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02A3
        gbc.setState(0x8402, 0xa3a2, 0xb6e0, 0xd430, 0xb54f, 0xf71d, 0x1, 0x1);
        gbc.writeMem(0x8402, { 0xfb });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xa3a2, gbc.sp());
        EXPECT(0x8403, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8402));
        // FB 02A4
        gbc.setState(0x5518, 0x944e, 0x2f70, 0xe44a, 0x8cf7, 0x791f, 0x0, 0x0);
        gbc.writeMem(0x5518, { 0xfb });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x944e, gbc.sp());
        EXPECT(0x5519, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02A5
        gbc.setState(0x42da, 0xe4ac, 0xc930, 0x1ad2, 0x3cf4, 0x3408, 0x1, 0x0);
        gbc.writeMem(0x42da, { 0xfb });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xe4ac, gbc.sp());
        EXPECT(0x42db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02A6
        gbc.setState(0xc579, 0x6956, 0xc460, 0x970b, 0xfe8a, 0x2f3d, 0x1, 0x0);
        gbc.writeMem(0xc579, { 0xfb });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x6956, gbc.sp());
        EXPECT(0xc57a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc579));
        // FB 02A7
        gbc.setState(0x1cfd, 0xd39, 0x4020, 0xcb68, 0xad9e, 0xa9af, 0x1, 0x0);
        gbc.writeMem(0x1cfd, { 0xfb });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xd39, gbc.sp());
        EXPECT(0x1cfe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02A8
        gbc.setState(0xb16a, 0x9a17, 0x9370, 0xe60c, 0xc539, 0x225b, 0x0, 0x0);
        gbc.writeMem(0xb16a, { 0xfb });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x9a17, gbc.sp());
        EXPECT(0xb16b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb16a));
        // FB 02A9
        gbc.setState(0x1666, 0x352e, 0x1290, 0xc979, 0xbfdb, 0x4348, 0x1, 0x0);
        gbc.writeMem(0x1666, { 0xfb });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x352e, gbc.sp());
        EXPECT(0x1667, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02AA
        gbc.setState(0x2130, 0x8d12, 0xc820, 0x56c8, 0xa2ef, 0xb394, 0x1, 0x1);
        gbc.writeMem(0x2130, { 0xfb });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x8d12, gbc.sp());
        EXPECT(0x2131, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02AC
        gbc.setState(0x2e66, 0x47d5, 0x4080, 0xc746, 0xe82f, 0xf2e4, 0x0, 0x0);
        gbc.writeMem(0x2e66, { 0xfb });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x47d5, gbc.sp());
        EXPECT(0x2e67, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02AD
        gbc.setState(0x582a, 0xa3c8, 0xcc80, 0x4dcf, 0xcfce, 0xec95, 0x0, 0x0);
        gbc.writeMem(0x582a, { 0xfb });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xa3c8, gbc.sp());
        EXPECT(0x582b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02AE
        gbc.setState(0xec3a, 0xa3b5, 0x3620, 0xc25c, 0xd0c0, 0xe04c, 0x0, 0x0);
        gbc.writeMem(0xec3a, { 0xfb });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xa3b5, gbc.sp());
        EXPECT(0xec3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xec3a));
        // FB 02AF
        gbc.setState(0x24c2, 0xaa63, 0x5310, 0x14b5, 0xffd, 0x466, 0x1, 0x1);
        gbc.writeMem(0x24c2, { 0xfb });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xaa63, gbc.sp());
        EXPECT(0x24c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02B0
        gbc.setState(0x5bbb, 0xd93a, 0x68a0, 0xfa31, 0xc5aa, 0x7de4, 0x1, 0x0);
        gbc.writeMem(0x5bbb, { 0xfb });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xd93a, gbc.sp());
        EXPECT(0x5bbc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02B1
        gbc.setState(0xa4bb, 0x3b62, 0xd810, 0x1b71, 0x5a97, 0xd701, 0x1, 0x0);
        gbc.writeMem(0xa4bb, { 0xfb });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x3b62, gbc.sp());
        EXPECT(0xa4bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa4bb));
        // FB 02B2
        gbc.setState(0x1eb9, 0x1fe7, 0x7b70, 0x69b4, 0x1245, 0x11d7, 0x1, 0x1);
        gbc.writeMem(0x1eb9, { 0xfb });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x1fe7, gbc.sp());
        EXPECT(0x1eba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02B3
        gbc.setState(0x5031, 0xbd5a, 0x5910, 0x91ad, 0x69e2, 0xba7b, 0x0, 0x1);
        gbc.writeMem(0x5031, { 0xfb });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xbd5a, gbc.sp());
        EXPECT(0x5032, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02B4
        gbc.setState(0x781a, 0x4a7c, 0x63b0, 0xa470, 0x39fd, 0x4285, 0x1, 0x1);
        gbc.writeMem(0x781a, { 0xfb });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x4a7c, gbc.sp());
        EXPECT(0x781b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02B5
        gbc.setState(0xed8f, 0xdc28, 0x81c0, 0xad85, 0xd5c, 0x9eb3, 0x1, 0x1);
        gbc.writeMem(0xed8f, { 0xfb });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xdc28, gbc.sp());
        EXPECT(0xed90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xed8f));
        // FB 02B6
        gbc.setState(0xa3ee, 0xd9b4, 0x7010, 0x8665, 0xc451, 0xd8f5, 0x1, 0x1);
        gbc.writeMem(0xa3ee, { 0xfb });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xd9b4, gbc.sp());
        EXPECT(0xa3ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa3ee));
        // FB 02B7
        gbc.setState(0x5331, 0x5d69, 0x6de0, 0x7a0a, 0x50c6, 0xd, 0x0, 0x1);
        gbc.writeMem(0x5331, { 0xfb });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x5d69, gbc.sp());
        EXPECT(0x5332, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02B9
        gbc.setState(0x302d, 0x3af4, 0x8f0, 0xed2f, 0x77c5, 0x54df, 0x0, 0x1);
        gbc.writeMem(0x302d, { 0xfb });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x3af4, gbc.sp());
        EXPECT(0x302e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02BA
        gbc.setState(0x6e3d, 0x92b4, 0xd0f0, 0xf263, 0x8378, 0xbea7, 0x0, 0x0);
        gbc.writeMem(0x6e3d, { 0xfb });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x92b4, gbc.sp());
        EXPECT(0x6e3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02BB
        gbc.setState(0x32c7, 0xc72d, 0xc990, 0x46ce, 0x87dc, 0xfcd6, 0x0, 0x1);
        gbc.writeMem(0x32c7, { 0xfb });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xc72d, gbc.sp());
        EXPECT(0x32c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02BC
        gbc.setState(0xde37, 0x348c, 0x9b90, 0x1346, 0xecec, 0x8fea, 0x1, 0x0);
        gbc.writeMem(0xde37, { 0xfb });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x348c, gbc.sp());
        EXPECT(0xde38, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xde37));
        // FB 02BD
        gbc.setState(0x29da, 0xcb6d, 0xbb50, 0x1784, 0x1278, 0x4694, 0x0, 0x1);
        gbc.writeMem(0x29da, { 0xfb });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xcb6d, gbc.sp());
        EXPECT(0x29db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02BE
        gbc.setState(0x516e, 0xad00, 0xe830, 0x31ff, 0x62d9, 0x1327, 0x1, 0x0);
        gbc.writeMem(0x516e, { 0xfb });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xad00, gbc.sp());
        EXPECT(0x516f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02BF
        gbc.setState(0xdd11, 0x2bb2, 0x7a0, 0xcd30, 0x4add, 0x7d2b, 0x0, 0x1);
        gbc.writeMem(0xdd11, { 0xfb });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x2bb2, gbc.sp());
        EXPECT(0xdd12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdd11));
        // FB 02C0
        gbc.setState(0x423d, 0x15b4, 0x3850, 0x2d02, 0x5dcd, 0xd09b, 0x1, 0x1);
        gbc.writeMem(0x423d, { 0xfb });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x15b4, gbc.sp());
        EXPECT(0x423e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02C1
        gbc.setState(0xd424, 0x419a, 0x7a0, 0x9143, 0xae89, 0x59af, 0x0, 0x1);
        gbc.writeMem(0xd424, { 0xfb });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x419a, gbc.sp());
        EXPECT(0xd425, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd424));
        // FB 02C2
        gbc.setState(0xd1d3, 0x6d34, 0xf80, 0x99d4, 0xf2f1, 0x3b3, 0x0, 0x1);
        gbc.writeMem(0xd1d3, { 0xfb });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x6d34, gbc.sp());
        EXPECT(0xd1d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd1d3));
        // FB 02C3
        gbc.setState(0x69e9, 0xbeff, 0x6d40, 0x5db2, 0x7b1e, 0x778a, 0x1, 0x0);
        gbc.writeMem(0x69e9, { 0xfb });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xbeff, gbc.sp());
        EXPECT(0x69ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02C4
        gbc.setState(0x2c3b, 0xfdb4, 0x3a60, 0x45f6, 0xd6ed, 0xd9dc, 0x1, 0x1);
        gbc.writeMem(0x2c3b, { 0xfb });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xfdb4, gbc.sp());
        EXPECT(0x2c3c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02C5
        gbc.setState(0xc611, 0xaea0, 0x3ea0, 0xd0e0, 0xda3d, 0x80c4, 0x1, 0x0);
        gbc.writeMem(0xc611, { 0xfb });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xaea0, gbc.sp());
        EXPECT(0xc612, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc611));
        // FB 02C6
        gbc.setState(0x453c, 0x3e79, 0x6580, 0x68a8, 0xf6b3, 0x368a, 0x1, 0x0);
        gbc.writeMem(0x453c, { 0xfb });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x3e79, gbc.sp());
        EXPECT(0x453d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02C7
        gbc.setState(0x1634, 0x51ef, 0x9190, 0x2aa3, 0x334d, 0x8559, 0x0, 0x0);
        gbc.writeMem(0x1634, { 0xfb });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x51ef, gbc.sp());
        EXPECT(0x1635, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02C8
        gbc.setState(0x8fa0, 0xf6ff, 0x1e90, 0x1537, 0xd74, 0x32d4, 0x1, 0x0);
        gbc.writeMem(0x8fa0, { 0xfb });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xf6ff, gbc.sp());
        EXPECT(0x8fa1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8fa0));
        // FB 02C9
        gbc.setState(0x7a94, 0xa96d, 0x1420, 0x3eaf, 0x98e, 0x5f38, 0x1, 0x0);
        gbc.writeMem(0x7a94, { 0xfb });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xa96d, gbc.sp());
        EXPECT(0x7a95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02CA
        gbc.setState(0xc2d4, 0xe761, 0xd1e0, 0xd292, 0x3d59, 0xdb4e, 0x0, 0x0);
        gbc.writeMem(0xc2d4, { 0xfb });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xe761, gbc.sp());
        EXPECT(0xc2d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc2d4));
        // FB 02CB
        gbc.setState(0x80dd, 0xb77e, 0x46b0, 0x993, 0xca91, 0x2a32, 0x0, 0x0);
        gbc.writeMem(0x80dd, { 0xfb });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xb77e, gbc.sp());
        EXPECT(0x80de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x80dd));
        // FB 02CC
        gbc.setState(0xeb83, 0x8a30, 0x9160, 0x4e95, 0xc31d, 0x4cea, 0x0, 0x0);
        gbc.writeMem(0xeb83, { 0xfb });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x8a30, gbc.sp());
        EXPECT(0xeb84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xeb83));
        // FB 02CD
        gbc.setState(0xc0b0, 0xb706, 0x1510, 0x5a83, 0xb198, 0x53fb, 0x0, 0x1);
        gbc.writeMem(0xc0b0, { 0xfb });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xb706, gbc.sp());
        EXPECT(0xc0b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc0b0));
        // FB 02CE
        gbc.setState(0x5afd, 0xdbc3, 0xfa90, 0x78ce, 0xc1fc, 0xa148, 0x1, 0x0);
        gbc.writeMem(0x5afd, { 0xfb });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xdbc3, gbc.sp());
        EXPECT(0x5afe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02CF
        gbc.setState(0x7554, 0xf148, 0xfb40, 0x9e28, 0xbecc, 0xa77a, 0x0, 0x1);
        gbc.writeMem(0x7554, { 0xfb });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xf148, gbc.sp());
        EXPECT(0x7555, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02D0
        gbc.setState(0xb0a1, 0x8366, 0xf910, 0x29cc, 0x9cc0, 0xf130, 0x0, 0x0);
        gbc.writeMem(0xb0a1, { 0xfb });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x8366, gbc.sp());
        EXPECT(0xb0a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb0a1));
        // FB 02D1
        gbc.setState(0x58b5, 0xb25, 0x9b20, 0xea8e, 0xe2a0, 0x69f5, 0x1, 0x1);
        gbc.writeMem(0x58b5, { 0xfb });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xb25, gbc.sp());
        EXPECT(0x58b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02D2
        gbc.setState(0xb118, 0xf6d4, 0x9e60, 0xd980, 0xd8e6, 0xbe93, 0x0, 0x1);
        gbc.writeMem(0xb118, { 0xfb });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xf6d4, gbc.sp());
        EXPECT(0xb119, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb118));
        // FB 02D4
        gbc.setState(0x51e, 0x9202, 0x3020, 0x1a6, 0xc982, 0x9937, 0x0, 0x1);
        gbc.writeMem(0x51e, { 0xfb });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x9202, gbc.sp());
        EXPECT(0x51f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02D5
        gbc.setState(0xd933, 0x7f03, 0x8f80, 0x3133, 0x21ea, 0xd773, 0x1, 0x1);
        gbc.writeMem(0xd933, { 0xfb });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x7f03, gbc.sp());
        EXPECT(0xd934, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd933));
        // FB 02D7
        gbc.setState(0x75df, 0xbd98, 0x3e60, 0xaeec, 0x3375, 0x464, 0x1, 0x1);
        gbc.writeMem(0x75df, { 0xfb });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xbd98, gbc.sp());
        EXPECT(0x75e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02D8
        gbc.setState(0x1400, 0xc33a, 0xdb90, 0x658a, 0x5531, 0x6048, 0x0, 0x1);
        gbc.writeMem(0x1400, { 0xfb });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xc33a, gbc.sp());
        EXPECT(0x1401, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02D9
        gbc.setState(0x1517, 0xbc6e, 0x9510, 0x2b75, 0xdf23, 0x33d7, 0x1, 0x1);
        gbc.writeMem(0x1517, { 0xfb });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xbc6e, gbc.sp());
        EXPECT(0x1518, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02DB
        gbc.setState(0x8d10, 0x3d87, 0xe700, 0x3932, 0x986, 0x1d9e, 0x0, 0x0);
        gbc.writeMem(0x8d10, { 0xfb });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x3d87, gbc.sp());
        EXPECT(0x8d11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8d10));
        // FB 02DC
        gbc.setState(0x3080, 0xe0e8, 0xae40, 0x3428, 0x47ad, 0xe554, 0x0, 0x0);
        gbc.writeMem(0x3080, { 0xfb });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xe0e8, gbc.sp());
        EXPECT(0x3081, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02DD
        gbc.setState(0x8bb8, 0x20e3, 0x2730, 0xfb82, 0x67af, 0x9a8b, 0x1, 0x0);
        gbc.writeMem(0x8bb8, { 0xfb });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x20e3, gbc.sp());
        EXPECT(0x8bb9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8bb8));
        // FB 02DE
        gbc.setState(0x328, 0x79b0, 0xb1d0, 0x4f9c, 0x918f, 0x7016, 0x1, 0x0);
        gbc.writeMem(0x328, { 0xfb });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x79b0, gbc.sp());
        EXPECT(0x329, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02DF
        gbc.setState(0x1429, 0xbce, 0xe200, 0x26f3, 0x47ac, 0xb029, 0x1, 0x1);
        gbc.writeMem(0x1429, { 0xfb });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xbce, gbc.sp());
        EXPECT(0x142a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02E0
        gbc.setState(0x3197, 0xb9fb, 0xb4d0, 0x10fc, 0xdb65, 0x1c4b, 0x0, 0x1);
        gbc.writeMem(0x3197, { 0xfb });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xb9fb, gbc.sp());
        EXPECT(0x3198, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02E1
        gbc.setState(0x9d63, 0x9f86, 0xcef0, 0xec31, 0x6d6f, 0xb964, 0x0, 0x1);
        gbc.writeMem(0x9d63, { 0xfb });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x9f86, gbc.sp());
        EXPECT(0x9d64, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9d63));
        // FB 02E2
        gbc.setState(0x9158, 0xdbf9, 0xae0, 0x7f4e, 0x59e, 0xa5a5, 0x0, 0x0);
        gbc.writeMem(0x9158, { 0xfb });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xdbf9, gbc.sp());
        EXPECT(0x9159, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9158));
        // FB 02E3
        gbc.setState(0x90e7, 0x62e5, 0xae40, 0xabe7, 0xe9b0, 0xcd36, 0x0, 0x0);
        gbc.writeMem(0x90e7, { 0xfb });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x62e5, gbc.sp());
        EXPECT(0x90e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x90e7));
        // FB 02E5
        gbc.setState(0x6943, 0x40c6, 0x8580, 0xcbdc, 0xdf2c, 0x1514, 0x1, 0x0);
        gbc.writeMem(0x6943, { 0xfb });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x40c6, gbc.sp());
        EXPECT(0x6944, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02E6
        gbc.setState(0xd827, 0x4035, 0xf400, 0xdf3d, 0x2959, 0xb032, 0x0, 0x0);
        gbc.writeMem(0xd827, { 0xfb });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x4035, gbc.sp());
        EXPECT(0xd828, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd827));
        // FB 02E7
        gbc.setState(0x17ac, 0x861f, 0x2d50, 0xca1f, 0xa40a, 0x2895, 0x0, 0x0);
        gbc.writeMem(0x17ac, { 0xfb });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x861f, gbc.sp());
        EXPECT(0x17ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02E8
        gbc.setState(0x7001, 0x716f, 0x5930, 0xa550, 0x3f1c, 0xda60, 0x1, 0x1);
        gbc.writeMem(0x7001, { 0xfb });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x716f, gbc.sp());
        EXPECT(0x7002, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02E9
        gbc.setState(0x109a, 0xe575, 0xf850, 0xdfcf, 0x766f, 0x1cf2, 0x1, 0x1);
        gbc.writeMem(0x109a, { 0xfb });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xe575, gbc.sp());
        EXPECT(0x109b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02EA
        gbc.setState(0x7b00, 0xcc2d, 0xb0, 0x92c4, 0x3b05, 0xaac9, 0x0, 0x0);
        gbc.writeMem(0x7b00, { 0xfb });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xcc2d, gbc.sp());
        EXPECT(0x7b01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02EB
        gbc.setState(0x5d13, 0x16b3, 0x6160, 0x78ec, 0x5928, 0x6579, 0x0, 0x0);
        gbc.writeMem(0x5d13, { 0xfb });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x16b3, gbc.sp());
        EXPECT(0x5d14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02EC
        gbc.setState(0x62ec, 0x181f, 0x9920, 0x89fc, 0x48, 0x4603, 0x0, 0x0);
        gbc.writeMem(0x62ec, { 0xfb });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x181f, gbc.sp());
        EXPECT(0x62ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02ED
        gbc.setState(0xd9e5, 0x9690, 0xad00, 0x3044, 0x2edb, 0xf682, 0x0, 0x1);
        gbc.writeMem(0xd9e5, { 0xfb });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x9690, gbc.sp());
        EXPECT(0xd9e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd9e5));
        // FB 02EE
        gbc.setState(0x50c9, 0x939, 0x8f0, 0x839c, 0x1706, 0xa336, 0x0, 0x1);
        gbc.writeMem(0x50c9, { 0xfb });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x939, gbc.sp());
        EXPECT(0x50ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02EF
        gbc.setState(0x420, 0x429c, 0x34f0, 0x93f6, 0x2ff7, 0x1a60, 0x1, 0x0);
        gbc.writeMem(0x420, { 0xfb });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x429c, gbc.sp());
        EXPECT(0x421, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02F0
        gbc.setState(0x452, 0x7a9e, 0xda10, 0x8482, 0xcffd, 0x6bae, 0x1, 0x1);
        gbc.writeMem(0x452, { 0xfb });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x7a9e, gbc.sp());
        EXPECT(0x453, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02F1
        gbc.setState(0x3205, 0xd048, 0x9690, 0xa587, 0x5b89, 0xaf3f, 0x0, 0x1);
        gbc.writeMem(0x3205, { 0xfb });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xd048, gbc.sp());
        EXPECT(0x3206, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02F2
        gbc.setState(0x2c12, 0xa596, 0xc620, 0x1ec, 0x3be6, 0xa321, 0x0, 0x1);
        gbc.writeMem(0x2c12, { 0xfb });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xa596, gbc.sp());
        EXPECT(0x2c13, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02F3
        gbc.setState(0xdfcb, 0x1337, 0xeb00, 0x1481, 0x4906, 0x1d3c, 0x1, 0x0);
        gbc.writeMem(0xdfcb, { 0xfb });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x1337, gbc.sp());
        EXPECT(0xdfcc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdfcb));
        // FB 02F4
        gbc.setState(0x9c06, 0xb6ae, 0x3d20, 0x8476, 0x9f30, 0xefeb, 0x0, 0x1);
        gbc.writeMem(0x9c06, { 0xfb });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xb6ae, gbc.sp());
        EXPECT(0x9c07, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9c06));
        // FB 02F5
        gbc.setState(0x91da, 0x646f, 0x4230, 0x60c9, 0xc73, 0xbede, 0x0, 0x1);
        gbc.writeMem(0x91da, { 0xfb });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x646f, gbc.sp());
        EXPECT(0x91db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x91da));
        // FB 02F6
        gbc.setState(0x1016, 0x7070, 0x2f20, 0x99de, 0xbb04, 0xd4b0, 0x1, 0x0);
        gbc.writeMem(0x1016, { 0xfb });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x7070, gbc.sp());
        EXPECT(0x1017, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02F7
        gbc.setState(0xe709, 0xa7c3, 0xac90, 0x21c1, 0xd0ae, 0xd7ef, 0x1, 0x1);
        gbc.writeMem(0xe709, { 0xfb });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xa7c3, gbc.sp());
        EXPECT(0xe70a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe709));
        // FB 02F8
        gbc.setState(0xbeef, 0xe673, 0x80c0, 0xc714, 0x521, 0x4381, 0x1, 0x0);
        gbc.writeMem(0xbeef, { 0xfb });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xe673, gbc.sp());
        EXPECT(0xbef0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbeef));
        // FB 02F9
        gbc.setState(0x4115, 0xb49b, 0xba30, 0x6fb6, 0xc02, 0x9e44, 0x1, 0x1);
        gbc.writeMem(0x4115, { 0xfb });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xb49b, gbc.sp());
        EXPECT(0x4116, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02FA
        gbc.setState(0xaf9d, 0xcf59, 0x54f0, 0x5138, 0xf05c, 0xfba3, 0x0, 0x1);
        gbc.writeMem(0xaf9d, { 0xfb });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xcf59, gbc.sp());
        EXPECT(0xaf9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xaf9d));
        // FB 02FB
        gbc.setState(0x5d7f, 0x67aa, 0xe3c0, 0x5e17, 0x70fa, 0x3ef7, 0x0, 0x1);
        gbc.writeMem(0x5d7f, { 0xfb });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x67aa, gbc.sp());
        EXPECT(0x5d80, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 02FC
        gbc.setState(0x2a1c, 0x2b4d, 0x3d30, 0xb3c2, 0xd582, 0xd8a6, 0x0, 0x0);
        gbc.writeMem(0x2a1c, { 0xfb });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x2b4d, gbc.sp());
        EXPECT(0x2a1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02FD
        gbc.setState(0x6ca0, 0xa896, 0xccd0, 0x3b02, 0xbd15, 0xbd06, 0x0, 0x1);
        gbc.writeMem(0x6ca0, { 0xfb });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xa896, gbc.sp());
        EXPECT(0x6ca1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 02FE
        gbc.setState(0xb5bd, 0x8326, 0xfb80, 0x3cb4, 0x3a49, 0x9969, 0x1, 0x0);
        gbc.writeMem(0xb5bd, { 0xfb });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x8326, gbc.sp());
        EXPECT(0xb5be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb5bd));
        // FB 02FF
        gbc.setState(0xd66e, 0x7a0d, 0xa0d0, 0x9b5, 0xc0d0, 0xe2f, 0x1, 0x0);
        gbc.writeMem(0xd66e, { 0xfb });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x7a0d, gbc.sp());
        EXPECT(0xd66f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd66e));
        // FB 0300
        gbc.setState(0x9519, 0xd3ec, 0x9210, 0xf46b, 0x168c, 0x6f52, 0x1, 0x0);
        gbc.writeMem(0x9519, { 0xfb });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xd3ec, gbc.sp());
        EXPECT(0x951a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9519));
        // FB 0301
        gbc.setState(0xe32b, 0xc3d3, 0xce10, 0x762b, 0xa58f, 0xba34, 0x1, 0x1);
        gbc.writeMem(0xe32b, { 0xfb });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xc3d3, gbc.sp());
        EXPECT(0xe32c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe32b));
        // FB 0302
        gbc.setState(0xb313, 0xd90e, 0xab60, 0xbacd, 0xf1a6, 0x8321, 0x1, 0x0);
        gbc.writeMem(0xb313, { 0xfb });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xd90e, gbc.sp());
        EXPECT(0xb314, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb313));
        // FB 0303
        gbc.setState(0xcac4, 0x3226, 0x9ab0, 0x5931, 0xc699, 0xe024, 0x0, 0x0);
        gbc.writeMem(0xcac4, { 0xfb });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x3226, gbc.sp());
        EXPECT(0xcac5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xcac4));
        // FB 0304
        gbc.setState(0xdf6b, 0x7b4f, 0x2aa0, 0x70ac, 0x996e, 0x70f0, 0x0, 0x1);
        gbc.writeMem(0xdf6b, { 0xfb });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x7b4f, gbc.sp());
        EXPECT(0xdf6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdf6b));
        // FB 0305
        gbc.setState(0xb052, 0x3cf9, 0xa140, 0x84cc, 0x2e18, 0x77c2, 0x1, 0x1);
        gbc.writeMem(0xb052, { 0xfb });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x3cf9, gbc.sp());
        EXPECT(0xb053, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb052));
        // FB 0306
        gbc.setState(0x1f4f, 0x155f, 0x5250, 0xd465, 0x9146, 0x4ab, 0x1, 0x1);
        gbc.writeMem(0x1f4f, { 0xfb });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x155f, gbc.sp());
        EXPECT(0x1f50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0307
        gbc.setState(0xe135, 0x2fed, 0xb20, 0x6af, 0x6a2, 0x9f66, 0x1, 0x0);
        gbc.writeMem(0xe135, { 0xfb });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x2fed, gbc.sp());
        EXPECT(0xe136, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe135));
        // FB 0308
        gbc.setState(0x2426, 0xea7e, 0x3df0, 0x8c30, 0x235f, 0x7114, 0x1, 0x1);
        gbc.writeMem(0x2426, { 0xfb });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xea7e, gbc.sp());
        EXPECT(0x2427, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0309
        gbc.setState(0xc846, 0xab56, 0x6dd0, 0xcc35, 0xb5e9, 0xd8ce, 0x0, 0x0);
        gbc.writeMem(0xc846, { 0xfb });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xab56, gbc.sp());
        EXPECT(0xc847, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc846));
        // FB 030A
        gbc.setState(0xe688, 0x72b5, 0xa140, 0xf028, 0xd019, 0x3933, 0x1, 0x0);
        gbc.writeMem(0xe688, { 0xfb });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x72b5, gbc.sp());
        EXPECT(0xe689, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe688));
        // FB 030C
        gbc.setState(0x27b, 0xbee9, 0x1fd0, 0x97d1, 0x5fa3, 0xe7d6, 0x0, 0x1);
        gbc.writeMem(0x27b, { 0xfb });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xbee9, gbc.sp());
        EXPECT(0x27c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 030D
        gbc.setState(0x5bd6, 0x4325, 0xa0c0, 0x775d, 0xa465, 0x7877, 0x1, 0x1);
        gbc.writeMem(0x5bd6, { 0xfb });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x4325, gbc.sp());
        EXPECT(0x5bd7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 030E
        gbc.setState(0xe0e1, 0x5cf3, 0x89e0, 0xcbc4, 0x99ce, 0x8c6b, 0x1, 0x0);
        gbc.writeMem(0xe0e1, { 0xfb });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x5cf3, gbc.sp());
        EXPECT(0xe0e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe0e1));
        // FB 0310
        gbc.setState(0x8210, 0x2231, 0x50d0, 0x5196, 0x5301, 0xc252, 0x0, 0x0);
        gbc.writeMem(0x8210, { 0xfb });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x2231, gbc.sp());
        EXPECT(0x8211, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8210));
        // FB 0311
        gbc.setState(0x2d48, 0xf3d6, 0xc1e0, 0x3e46, 0x80a8, 0x6b75, 0x0, 0x0);
        gbc.writeMem(0x2d48, { 0xfb });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xf3d6, gbc.sp());
        EXPECT(0x2d49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0312
        gbc.setState(0x84f8, 0x5dbd, 0xed60, 0xfe14, 0x89c0, 0xf38e, 0x0, 0x1);
        gbc.writeMem(0x84f8, { 0xfb });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x5dbd, gbc.sp());
        EXPECT(0x84f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x84f8));
        // FB 0313
        gbc.setState(0x790b, 0xbae1, 0x4e80, 0xc44a, 0xf6c4, 0x814a, 0x0, 0x1);
        gbc.writeMem(0x790b, { 0xfb });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xbae1, gbc.sp());
        EXPECT(0x790c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0314
        gbc.setState(0xbff0, 0xe5ad, 0x4b50, 0xbf9d, 0xc048, 0x69ca, 0x1, 0x1);
        gbc.writeMem(0xbff0, { 0xfb });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xe5ad, gbc.sp());
        EXPECT(0xbff1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbff0));
        // FB 0315
        gbc.setState(0x200e, 0xc07, 0x8c0, 0xdf11, 0xfd94, 0x1129, 0x0, 0x1);
        gbc.writeMem(0x200e, { 0xfb });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xc07, gbc.sp());
        EXPECT(0x200f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0316
        gbc.setState(0x13c2, 0xb952, 0xa680, 0xc682, 0x3984, 0x2e93, 0x0, 0x0);
        gbc.writeMem(0x13c2, { 0xfb });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xb952, gbc.sp());
        EXPECT(0x13c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0317
        gbc.setState(0xca65, 0x7876, 0xd430, 0xd2e1, 0x51eb, 0xa686, 0x1, 0x0);
        gbc.writeMem(0xca65, { 0xfb });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x7876, gbc.sp());
        EXPECT(0xca66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xca65));
        // FB 0318
        gbc.setState(0xa413, 0x62d0, 0x4f50, 0x606b, 0x14d, 0xc279, 0x0, 0x1);
        gbc.writeMem(0xa413, { 0xfb });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x62d0, gbc.sp());
        EXPECT(0xa414, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa413));
        // FB 0319
        gbc.setState(0x2dd9, 0xe551, 0xa640, 0xe066, 0xceb2, 0xe1ab, 0x1, 0x0);
        gbc.writeMem(0x2dd9, { 0xfb });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xe551, gbc.sp());
        EXPECT(0x2dda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 031A
        gbc.setState(0xed34, 0x8506, 0x2d80, 0x91b9, 0xc5e, 0x8e51, 0x1, 0x0);
        gbc.writeMem(0xed34, { 0xfb });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x8506, gbc.sp());
        EXPECT(0xed35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xed34));
        // FB 031B
        gbc.setState(0x6bea, 0xc38a, 0x8ab0, 0xf61, 0x1a5f, 0x7bae, 0x0, 0x0);
        gbc.writeMem(0x6bea, { 0xfb });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xc38a, gbc.sp());
        EXPECT(0x6beb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 031C
        gbc.setState(0xd26b, 0x7b84, 0xa230, 0xc1a3, 0x1176, 0x894c, 0x1, 0x1);
        gbc.writeMem(0xd26b, { 0xfb });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x7b84, gbc.sp());
        EXPECT(0xd26c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd26b));
        // FB 031D
        gbc.setState(0x51a3, 0x51fd, 0x2490, 0x2914, 0x24c1, 0xcb7a, 0x0, 0x0);
        gbc.writeMem(0x51a3, { 0xfb });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x51fd, gbc.sp());
        EXPECT(0x51a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 031E
        gbc.setState(0x854d, 0xcfe8, 0x2340, 0xfc54, 0x5173, 0x7afb, 0x1, 0x0);
        gbc.writeMem(0x854d, { 0xfb });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xcfe8, gbc.sp());
        EXPECT(0x854e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x854d));
        // FB 031F
        gbc.setState(0x9a34, 0x2f3f, 0x5b70, 0x3b85, 0xaa21, 0xf027, 0x1, 0x1);
        gbc.writeMem(0x9a34, { 0xfb });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x2f3f, gbc.sp());
        EXPECT(0x9a35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9a34));
        // FB 0320
        gbc.setState(0x8a3b, 0x4ed8, 0x3b50, 0xa7ab, 0x89b7, 0x559b, 0x0, 0x0);
        gbc.writeMem(0x8a3b, { 0xfb });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x4ed8, gbc.sp());
        EXPECT(0x8a3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8a3b));
        // FB 0321
        gbc.setState(0x3a02, 0x1ed5, 0xcd00, 0x9538, 0xe5bc, 0xbb76, 0x1, 0x1);
        gbc.writeMem(0x3a02, { 0xfb });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x1ed5, gbc.sp());
        EXPECT(0x3a03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0322
        gbc.setState(0x5ab8, 0xde80, 0x2210, 0x9bbe, 0xc11e, 0x4dd1, 0x0, 0x0);
        gbc.writeMem(0x5ab8, { 0xfb });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xde80, gbc.sp());
        EXPECT(0x5ab9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0323
        gbc.setState(0x734a, 0x38a6, 0xc330, 0x6334, 0x3622, 0xcced, 0x1, 0x0);
        gbc.writeMem(0x734a, { 0xfb });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x38a6, gbc.sp());
        EXPECT(0x734b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0324
        gbc.setState(0x290b, 0x9ac7, 0x41c0, 0xeb36, 0xd436, 0xce1b, 0x0, 0x0);
        gbc.writeMem(0x290b, { 0xfb });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x9ac7, gbc.sp());
        EXPECT(0x290c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0325
        gbc.setState(0x9f2e, 0xf41e, 0x3d80, 0xf7ea, 0x6bf6, 0x526c, 0x1, 0x1);
        gbc.writeMem(0x9f2e, { 0xfb });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xf41e, gbc.sp());
        EXPECT(0x9f2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9f2e));
        // FB 0326
        gbc.setState(0x6b7d, 0x78be, 0x8ae0, 0x3191, 0x9f54, 0x8a, 0x1, 0x1);
        gbc.writeMem(0x6b7d, { 0xfb });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x78be, gbc.sp());
        EXPECT(0x6b7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0327
        gbc.setState(0x7344, 0xbdf9, 0xe520, 0x9507, 0x23f4, 0x72ab, 0x1, 0x0);
        gbc.writeMem(0x7344, { 0xfb });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xbdf9, gbc.sp());
        EXPECT(0x7345, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0328
        gbc.setState(0x9693, 0xd930, 0xded0, 0xf49d, 0x9daa, 0xf4d7, 0x0, 0x1);
        gbc.writeMem(0x9693, { 0xfb });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xd930, gbc.sp());
        EXPECT(0x9694, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9693));
        // FB 0329
        gbc.setState(0x6105, 0x5977, 0xc820, 0xcbe5, 0xf426, 0x505b, 0x0, 0x0);
        gbc.writeMem(0x6105, { 0xfb });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x5977, gbc.sp());
        EXPECT(0x6106, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 032A
        gbc.setState(0x69fa, 0xc428, 0x1390, 0x91de, 0xae9d, 0xa884, 0x1, 0x1);
        gbc.writeMem(0x69fa, { 0xfb });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xc428, gbc.sp());
        EXPECT(0x69fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 032B
        gbc.setState(0x2a, 0x989d, 0x55b0, 0x2c98, 0xec03, 0xc53, 0x0, 0x0);
        gbc.writeMem(0x2a, { 0xfb });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x989d, gbc.sp());
        EXPECT(0x2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 032C
        gbc.setState(0x51ca, 0x245d, 0x1700, 0x99c, 0xce49, 0x270, 0x1, 0x1);
        gbc.writeMem(0x51ca, { 0xfb });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x245d, gbc.sp());
        EXPECT(0x51cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 032D
        gbc.setState(0x6032, 0x8ed7, 0x8c60, 0xdb5, 0x4469, 0xb1de, 0x1, 0x0);
        gbc.writeMem(0x6032, { 0xfb });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x8ed7, gbc.sp());
        EXPECT(0x6033, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 032E
        gbc.setState(0xa7a1, 0x51d, 0xdcf0, 0xf8b5, 0xe7aa, 0xada, 0x0, 0x0);
        gbc.writeMem(0xa7a1, { 0xfb });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x51d, gbc.sp());
        EXPECT(0xa7a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa7a1));
        // FB 032F
        gbc.setState(0xd345, 0x899b, 0xb220, 0x98bb, 0x9e4c, 0x309c, 0x0, 0x1);
        gbc.writeMem(0xd345, { 0xfb });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x899b, gbc.sp());
        EXPECT(0xd346, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd345));
        // FB 0330
        gbc.setState(0xaae0, 0xf7c6, 0x9eb0, 0x355d, 0xea39, 0x9b4c, 0x1, 0x1);
        gbc.writeMem(0xaae0, { 0xfb });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xf7c6, gbc.sp());
        EXPECT(0xaae1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xaae0));
        // FB 0331
        gbc.setState(0x7207, 0x3695, 0x12a0, 0x134, 0xe2f6, 0x2582, 0x0, 0x0);
        gbc.writeMem(0x7207, { 0xfb });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x3695, gbc.sp());
        EXPECT(0x7208, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0333
        gbc.setState(0xc669, 0xd542, 0xd7c0, 0x6210, 0x5151, 0xee36, 0x1, 0x1);
        gbc.writeMem(0xc669, { 0xfb });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xd542, gbc.sp());
        EXPECT(0xc66a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc669));
        // FB 0334
        gbc.setState(0x28a3, 0x907f, 0xc440, 0x397c, 0x9868, 0x236, 0x1, 0x1);
        gbc.writeMem(0x28a3, { 0xfb });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x907f, gbc.sp());
        EXPECT(0x28a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0335
        gbc.setState(0x3d86, 0x85f, 0xfa50, 0x931c, 0x318e, 0x1088, 0x1, 0x0);
        gbc.writeMem(0x3d86, { 0xfb });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x85f, gbc.sp());
        EXPECT(0x3d87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0336
        gbc.setState(0xd08b, 0x4519, 0x1850, 0x38c5, 0x3d63, 0x7b19, 0x1, 0x0);
        gbc.writeMem(0xd08b, { 0xfb });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x4519, gbc.sp());
        EXPECT(0xd08c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd08b));
        // FB 0337
        gbc.setState(0x7ccd, 0x7a51, 0x1d20, 0x6853, 0x8d9a, 0x5f87, 0x1, 0x1);
        gbc.writeMem(0x7ccd, { 0xfb });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x7a51, gbc.sp());
        EXPECT(0x7cce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0338
        gbc.setState(0x13d5, 0x2d60, 0x3430, 0x2aef, 0xcec5, 0x7ccc, 0x1, 0x0);
        gbc.writeMem(0x13d5, { 0xfb });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x2d60, gbc.sp());
        EXPECT(0x13d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0339
        gbc.setState(0x13a1, 0x8c1f, 0xe090, 0xbb58, 0xcfb2, 0x9f2d, 0x1, 0x1);
        gbc.writeMem(0x13a1, { 0xfb });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x8c1f, gbc.sp());
        EXPECT(0x13a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 033A
        gbc.setState(0xdd11, 0x34e3, 0xbad0, 0xe846, 0x10f9, 0x715, 0x1, 0x1);
        gbc.writeMem(0xdd11, { 0xfb });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x34e3, gbc.sp());
        EXPECT(0xdd12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdd11));
        // FB 033B
        gbc.setState(0xc17d, 0x3715, 0x2200, 0xb22a, 0x1861, 0x212c, 0x1, 0x0);
        gbc.writeMem(0xc17d, { 0xfb });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x3715, gbc.sp());
        EXPECT(0xc17e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc17d));
        // FB 033C
        gbc.setState(0xc3ff, 0x8628, 0xa070, 0x8bdc, 0xcde9, 0xe884, 0x1, 0x0);
        gbc.writeMem(0xc3ff, { 0xfb });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x8628, gbc.sp());
        EXPECT(0xc400, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc3ff));
        // FB 033D
        gbc.setState(0x7a34, 0x5f4, 0x1390, 0xcccf, 0x553e, 0xc18e, 0x0, 0x1);
        gbc.writeMem(0x7a34, { 0xfb });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x5f4, gbc.sp());
        EXPECT(0x7a35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 033E
        gbc.setState(0xe4bf, 0x2c38, 0x80d0, 0x6b20, 0x5c83, 0x453a, 0x0, 0x1);
        gbc.writeMem(0xe4bf, { 0xfb });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x2c38, gbc.sp());
        EXPECT(0xe4c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe4bf));
        // FB 033F
        gbc.setState(0x46c4, 0x4207, 0xc4d0, 0xbe90, 0x24ff, 0x5000, 0x0, 0x0);
        gbc.writeMem(0x46c4, { 0xfb });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x4207, gbc.sp());
        EXPECT(0x46c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0340
        gbc.setState(0x8db4, 0xe9b0, 0x89e0, 0x3539, 0xeff2, 0x6fa7, 0x0, 0x1);
        gbc.writeMem(0x8db4, { 0xfb });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xe9b0, gbc.sp());
        EXPECT(0x8db5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8db4));
        // FB 0341
        gbc.setState(0x4b41, 0xf6bc, 0x4f50, 0x6bc6, 0xc58f, 0x6010, 0x1, 0x1);
        gbc.writeMem(0x4b41, { 0xfb });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xf6bc, gbc.sp());
        EXPECT(0x4b42, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0342
        gbc.setState(0x7088, 0x66f1, 0xd660, 0xe62c, 0x5aed, 0x6fa2, 0x1, 0x1);
        gbc.writeMem(0x7088, { 0xfb });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x66f1, gbc.sp());
        EXPECT(0x7089, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0344
        gbc.setState(0x8081, 0x9856, 0x8c40, 0x1f69, 0xfed5, 0x7740, 0x1, 0x1);
        gbc.writeMem(0x8081, { 0xfb });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x9856, gbc.sp());
        EXPECT(0x8082, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8081));
        // FB 0345
        gbc.setState(0x6c97, 0xa7fc, 0x8400, 0xab2a, 0x5a07, 0xf377, 0x1, 0x0);
        gbc.writeMem(0x6c97, { 0xfb });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xa7fc, gbc.sp());
        EXPECT(0x6c98, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0346
        gbc.setState(0xccae, 0x4890, 0xfc40, 0xf602, 0x356e, 0xbbd9, 0x0, 0x0);
        gbc.writeMem(0xccae, { 0xfb });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x4890, gbc.sp());
        EXPECT(0xccaf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xccae));
        // FB 0347
        gbc.setState(0xe3f8, 0x59e4, 0x9d90, 0x1429, 0x7d80, 0x5f9f, 0x1, 0x0);
        gbc.writeMem(0xe3f8, { 0xfb });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x59e4, gbc.sp());
        EXPECT(0xe3f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe3f8));
        // FB 0348
        gbc.setState(0x7dee, 0x3764, 0x1200, 0x446b, 0x641a, 0x51ec, 0x1, 0x0);
        gbc.writeMem(0x7dee, { 0xfb });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x3764, gbc.sp());
        EXPECT(0x7def, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0349
        gbc.setState(0x85d5, 0x631, 0xa450, 0x5f88, 0x7e36, 0x4d99, 0x0, 0x0);
        gbc.writeMem(0x85d5, { 0xfb });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x631, gbc.sp());
        EXPECT(0x85d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x85d5));
        // FB 034A
        gbc.setState(0x9d5d, 0xeae8, 0xa5e0, 0x274b, 0xc7e1, 0x86f4, 0x1, 0x0);
        gbc.writeMem(0x9d5d, { 0xfb });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xeae8, gbc.sp());
        EXPECT(0x9d5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9d5d));
        // FB 034B
        gbc.setState(0x4ed7, 0x9bdc, 0x7ab0, 0xca92, 0x420d, 0xd8dc, 0x1, 0x1);
        gbc.writeMem(0x4ed7, { 0xfb });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x9bdc, gbc.sp());
        EXPECT(0x4ed8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 034C
        gbc.setState(0xb481, 0x6cbe, 0xa2f0, 0xd58e, 0xb9da, 0xb148, 0x1, 0x0);
        gbc.writeMem(0xb481, { 0xfb });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x6cbe, gbc.sp());
        EXPECT(0xb482, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb481));
        // FB 034D
        gbc.setState(0xa8b7, 0x3aaf, 0xd2e0, 0x1a3f, 0xc8dc, 0x3c02, 0x1, 0x0);
        gbc.writeMem(0xa8b7, { 0xfb });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x3aaf, gbc.sp());
        EXPECT(0xa8b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa8b7));
        // FB 034F
        gbc.setState(0x2bce, 0x919d, 0x8930, 0x4cbc, 0x7516, 0xf30e, 0x0, 0x0);
        gbc.writeMem(0x2bce, { 0xfb });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x919d, gbc.sp());
        EXPECT(0x2bcf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0350
        gbc.setState(0x1e6c, 0xa3e8, 0x6d40, 0x29cb, 0xeb93, 0x39bf, 0x1, 0x1);
        gbc.writeMem(0x1e6c, { 0xfb });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xa3e8, gbc.sp());
        EXPECT(0x1e6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0351
        gbc.setState(0x496e, 0xb264, 0xd8e0, 0x421b, 0x2ca, 0xca85, 0x0, 0x1);
        gbc.writeMem(0x496e, { 0xfb });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xb264, gbc.sp());
        EXPECT(0x496f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0352
        gbc.setState(0x6121, 0x2f2d, 0xe50, 0xde38, 0x6550, 0xd714, 0x1, 0x0);
        gbc.writeMem(0x6121, { 0xfb });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x2f2d, gbc.sp());
        EXPECT(0x6122, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0353
        gbc.setState(0x7f43, 0xdd85, 0x8d0, 0xe7a6, 0xe0d9, 0x3173, 0x0, 0x1);
        gbc.writeMem(0x7f43, { 0xfb });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xdd85, gbc.sp());
        EXPECT(0x7f44, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0354
        gbc.setState(0x229f, 0xa896, 0x5820, 0xe0e8, 0x7e14, 0xefe9, 0x0, 0x0);
        gbc.writeMem(0x229f, { 0xfb });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xa896, gbc.sp());
        EXPECT(0x22a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0355
        gbc.setState(0xe588, 0xed2a, 0xfcf0, 0x58b3, 0xa735, 0x972a, 0x0, 0x0);
        gbc.writeMem(0xe588, { 0xfb });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xed2a, gbc.sp());
        EXPECT(0xe589, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe588));
        // FB 0356
        gbc.setState(0x6cd7, 0xce4b, 0x2470, 0x6177, 0xfc9b, 0x9ce7, 0x0, 0x0);
        gbc.writeMem(0x6cd7, { 0xfb });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xce4b, gbc.sp());
        EXPECT(0x6cd8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0357
        gbc.setState(0x3093, 0x4f2e, 0xd810, 0x7146, 0x190e, 0x6e83, 0x1, 0x1);
        gbc.writeMem(0x3093, { 0xfb });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x4f2e, gbc.sp());
        EXPECT(0x3094, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0359
        gbc.setState(0xe855, 0xbf1, 0xbd40, 0x6cac, 0x9847, 0x427c, 0x1, 0x1);
        gbc.writeMem(0xe855, { 0xfb });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xbf1, gbc.sp());
        EXPECT(0xe856, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe855));
        // FB 035A
        gbc.setState(0xbb7e, 0xfe1b, 0xb010, 0x631f, 0xc063, 0x4ca, 0x0, 0x1);
        gbc.writeMem(0xbb7e, { 0xfb });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xfe1b, gbc.sp());
        EXPECT(0xbb7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xbb7e));
        // FB 035C
        gbc.setState(0x5771, 0xb2d9, 0x3b80, 0x87a8, 0xc175, 0x2d70, 0x0, 0x1);
        gbc.writeMem(0x5771, { 0xfb });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xb2d9, gbc.sp());
        EXPECT(0x5772, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 035D
        gbc.setState(0x8130, 0x56c1, 0x1b50, 0x11e, 0x38f9, 0x8653, 0x1, 0x0);
        gbc.writeMem(0x8130, { 0xfb });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x56c1, gbc.sp());
        EXPECT(0x8131, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8130));
        // FB 035E
        gbc.setState(0x13c4, 0x6a, 0xde50, 0x6935, 0x2013, 0x625d, 0x1, 0x0);
        gbc.writeMem(0x13c4, { 0xfb });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x6a, gbc.sp());
        EXPECT(0x13c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 035F
        gbc.setState(0xc2db, 0xf5ff, 0x3110, 0x5a52, 0x92a, 0xea69, 0x1, 0x0);
        gbc.writeMem(0xc2db, { 0xfb });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xf5ff, gbc.sp());
        EXPECT(0xc2dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc2db));
        // FB 0360
        gbc.setState(0x88ea, 0x812d, 0xbf60, 0x2b77, 0x469a, 0xbb3, 0x1, 0x1);
        gbc.writeMem(0x88ea, { 0xfb });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x812d, gbc.sp());
        EXPECT(0x88eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x88ea));
        // FB 0361
        gbc.setState(0xdf5e, 0xaa54, 0xe1a0, 0xdebb, 0x7600, 0x8320, 0x1, 0x1);
        gbc.writeMem(0xdf5e, { 0xfb });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xaa54, gbc.sp());
        EXPECT(0xdf5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xdf5e));
        // FB 0362
        gbc.setState(0x41c5, 0x6b21, 0x6810, 0x6ab0, 0x42ab, 0xad0, 0x0, 0x1);
        gbc.writeMem(0x41c5, { 0xfb });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x6b21, gbc.sp());
        EXPECT(0x41c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0363
        gbc.setState(0x6d8f, 0x11ce, 0x55c0, 0xeaeb, 0x6fa9, 0x227c, 0x1, 0x0);
        gbc.writeMem(0x6d8f, { 0xfb });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x11ce, gbc.sp());
        EXPECT(0x6d90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0364
        gbc.setState(0x4daa, 0x1993, 0xc540, 0x1bc0, 0x9f37, 0xec47, 0x0, 0x1);
        gbc.writeMem(0x4daa, { 0xfb });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x1993, gbc.sp());
        EXPECT(0x4dab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0365
        gbc.setState(0x325f, 0x6405, 0x61a0, 0x6be0, 0x4258, 0xc8ef, 0x0, 0x0);
        gbc.writeMem(0x325f, { 0xfb });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x6405, gbc.sp());
        EXPECT(0x3260, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0367
        gbc.setState(0xe69d, 0xb6a7, 0x7de0, 0x1190, 0x3a09, 0x870a, 0x0, 0x1);
        gbc.writeMem(0xe69d, { 0xfb });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xb6a7, gbc.sp());
        EXPECT(0xe69e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe69d));
        // FB 0369
        gbc.setState(0x7fdb, 0xe48c, 0x3c90, 0x8912, 0xfb8, 0x87c5, 0x0, 0x1);
        gbc.writeMem(0x7fdb, { 0xfb });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xe48c, gbc.sp());
        EXPECT(0x7fdc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 036A
        gbc.setState(0x5fbc, 0xb6fd, 0x9c10, 0xd4ee, 0xccd3, 0x424a, 0x1, 0x0);
        gbc.writeMem(0x5fbc, { 0xfb });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xb6fd, gbc.sp());
        EXPECT(0x5fbd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 036B
        gbc.setState(0xc8b7, 0xdd51, 0x48a0, 0x394, 0x91fc, 0xe3ef, 0x0, 0x1);
        gbc.writeMem(0xc8b7, { 0xfb });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xdd51, gbc.sp());
        EXPECT(0xc8b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc8b7));
        // FB 036C
        gbc.setState(0x1d12, 0xa80b, 0xddd0, 0x1677, 0x9ae1, 0x9c4b, 0x0, 0x1);
        gbc.writeMem(0x1d12, { 0xfb });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xa80b, gbc.sp());
        EXPECT(0x1d13, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 036D
        gbc.setState(0x1ddd, 0x8d14, 0x9940, 0x5d7d, 0xa970, 0xcfe8, 0x0, 0x1);
        gbc.writeMem(0x1ddd, { 0xfb });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x8d14, gbc.sp());
        EXPECT(0x1dde, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 036E
        gbc.setState(0xb013, 0xaf79, 0x8d30, 0x5d1, 0xfa38, 0x536a, 0x1, 0x1);
        gbc.writeMem(0xb013, { 0xfb });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xaf79, gbc.sp());
        EXPECT(0xb014, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb013));
        // FB 0370
        gbc.setState(0x5048, 0xac79, 0x8f80, 0x2f8f, 0xeeea, 0x8b5, 0x1, 0x0);
        gbc.writeMem(0x5048, { 0xfb });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xac79, gbc.sp());
        EXPECT(0x5049, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0371
        gbc.setState(0x9c4d, 0x8854, 0xb740, 0xe3c, 0x8b6e, 0x7dbe, 0x0, 0x1);
        gbc.writeMem(0x9c4d, { 0xfb });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x8854, gbc.sp());
        EXPECT(0x9c4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9c4d));
        // FB 0372
        gbc.setState(0x5a4c, 0xf65, 0x9ff0, 0x9282, 0x3566, 0x644a, 0x0, 0x1);
        gbc.writeMem(0x5a4c, { 0xfb });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xf65, gbc.sp());
        EXPECT(0x5a4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0373
        gbc.setState(0x42b7, 0xb3f9, 0x4f0, 0x8b77, 0xbe61, 0x8cd1, 0x1, 0x0);
        gbc.writeMem(0x42b7, { 0xfb });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xb3f9, gbc.sp());
        EXPECT(0x42b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0374
        gbc.setState(0x9b9e, 0xe71e, 0x4cf0, 0x37bb, 0x8d21, 0xb45f, 0x1, 0x1);
        gbc.writeMem(0x9b9e, { 0xfb });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xe71e, gbc.sp());
        EXPECT(0x9b9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9b9e));
        // FB 0375
        gbc.setState(0x48ba, 0xacdb, 0x40b0, 0xf5a7, 0xcc53, 0x93f5, 0x1, 0x0);
        gbc.writeMem(0x48ba, { 0xfb });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xacdb, gbc.sp());
        EXPECT(0x48bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0376
        gbc.setState(0xaf2c, 0x4c07, 0x4440, 0xe50e, 0x697b, 0x730e, 0x0, 0x1);
        gbc.writeMem(0xaf2c, { 0xfb });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x4c07, gbc.sp());
        EXPECT(0xaf2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xaf2c));
        // FB 0377
        gbc.setState(0x2e2, 0x37ad, 0xd320, 0x9820, 0x896a, 0x98f2, 0x0, 0x0);
        gbc.writeMem(0x2e2, { 0xfb });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x37ad, gbc.sp());
        EXPECT(0x2e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0378
        gbc.setState(0x89aa, 0x6bd6, 0xf560, 0xe3f4, 0x797d, 0x83c9, 0x1, 0x0);
        gbc.writeMem(0x89aa, { 0xfb });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x6bd6, gbc.sp());
        EXPECT(0x89ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x89aa));
        // FB 037A
        gbc.setState(0x9e5, 0xe691, 0x9800, 0xea94, 0x4945, 0xe31d, 0x1, 0x1);
        gbc.writeMem(0x9e5, { 0xfb });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xe691, gbc.sp());
        EXPECT(0x9e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 037B
        gbc.setState(0x1ebb, 0x2fd7, 0x8870, 0x9719, 0x2f01, 0x856a, 0x1, 0x0);
        gbc.writeMem(0x1ebb, { 0xfb });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x2fd7, gbc.sp());
        EXPECT(0x1ebc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 037C
        gbc.setState(0x8564, 0xe6ed, 0xaa0, 0xa8e8, 0x68d5, 0xc62f, 0x1, 0x0);
        gbc.writeMem(0x8564, { 0xfb });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xe6ed, gbc.sp());
        EXPECT(0x8565, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8564));
        // FB 037D
        gbc.setState(0x9fa2, 0xb96f, 0xe730, 0x54bf, 0xab81, 0x666a, 0x0, 0x1);
        gbc.writeMem(0x9fa2, { 0xfb });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xb96f, gbc.sp());
        EXPECT(0x9fa3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9fa2));
        // FB 037E
        gbc.setState(0x3d06, 0x1b5, 0xa450, 0x93b0, 0x9e6d, 0xd425, 0x1, 0x0);
        gbc.writeMem(0x3d06, { 0xfb });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x1b5, gbc.sp());
        EXPECT(0x3d07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 037F
        gbc.setState(0xe317, 0x62f8, 0xcfc0, 0x358c, 0x7577, 0x4bf1, 0x1, 0x1);
        gbc.writeMem(0xe317, { 0xfb });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x62f8, gbc.sp());
        EXPECT(0xe318, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe317));
        // FB 0380
        gbc.setState(0x790a, 0x4bdc, 0x46d0, 0x1bef, 0x8b6, 0x5cf0, 0x0, 0x1);
        gbc.writeMem(0x790a, { 0xfb });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x4bdc, gbc.sp());
        EXPECT(0x790b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0381
        gbc.setState(0xda51, 0x19a7, 0xc60, 0xc68f, 0x6aff, 0xe3c4, 0x1, 0x0);
        gbc.writeMem(0xda51, { 0xfb });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x19a7, gbc.sp());
        EXPECT(0xda52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xda51));
        // FB 0382
        gbc.setState(0x9194, 0xcd83, 0x1f90, 0x7e33, 0x6cb5, 0x9bf2, 0x1, 0x0);
        gbc.writeMem(0x9194, { 0xfb });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xcd83, gbc.sp());
        EXPECT(0x9195, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9194));
        // FB 0383
        gbc.setState(0xa1d9, 0x9fe, 0x2090, 0x1e85, 0xfdd3, 0x7526, 0x1, 0x1);
        gbc.writeMem(0xa1d9, { 0xfb });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x9fe, gbc.sp());
        EXPECT(0xa1da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa1d9));
        // FB 0384
        gbc.setState(0xb9e2, 0x7c93, 0x8d40, 0x6f48, 0x44b4, 0x645e, 0x1, 0x1);
        gbc.writeMem(0xb9e2, { 0xfb });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x7c93, gbc.sp());
        EXPECT(0xb9e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb9e2));
        // FB 0385
        gbc.setState(0x9d9b, 0x6155, 0x220, 0x119, 0xd701, 0x28a2, 0x0, 0x0);
        gbc.writeMem(0x9d9b, { 0xfb });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x6155, gbc.sp());
        EXPECT(0x9d9c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9d9b));
        // FB 0386
        gbc.setState(0x723b, 0xf5fd, 0x3650, 0xcab, 0x3a50, 0x2828, 0x1, 0x0);
        gbc.writeMem(0x723b, { 0xfb });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xf5fd, gbc.sp());
        EXPECT(0x723c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0387
        gbc.setState(0x83d8, 0xc5c0, 0x3e60, 0xf511, 0xdd10, 0x3ac5, 0x1, 0x1);
        gbc.writeMem(0x83d8, { 0xfb });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xc5c0, gbc.sp());
        EXPECT(0x83d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x83d8));
        // FB 0388
        gbc.setState(0xeca, 0xa0f9, 0xe9c0, 0x2619, 0x5a1c, 0x6091, 0x0, 0x1);
        gbc.writeMem(0xeca, { 0xfb });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xa0f9, gbc.sp());
        EXPECT(0xecb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 0389
        gbc.setState(0xb1b7, 0x993b, 0x3390, 0x4173, 0x1314, 0xfea6, 0x0, 0x0);
        gbc.writeMem(0xb1b7, { 0xfb });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x993b, gbc.sp());
        EXPECT(0xb1b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb1b7));
        // FB 038A
        gbc.setState(0xcdc2, 0xfd9d, 0x45f0, 0xfdd1, 0x1556, 0x8def, 0x1, 0x0);
        gbc.writeMem(0xcdc2, { 0xfb });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xfd9d, gbc.sp());
        EXPECT(0xcdc3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xcdc2));
        // FB 038B
        gbc.setState(0x528e, 0x714d, 0xe030, 0x5332, 0xebae, 0xc75, 0x0, 0x0);
        gbc.writeMem(0x528e, { 0xfb });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x714d, gbc.sp());
        EXPECT(0x528f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 038C
        gbc.setState(0x4a10, 0xb6a1, 0x7960, 0x7f2a, 0x74f1, 0xca59, 0x0, 0x0);
        gbc.writeMem(0x4a10, { 0xfb });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xb6a1, gbc.sp());
        EXPECT(0x4a11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 038D
        gbc.setState(0x28fc, 0xe231, 0xf610, 0xb9c6, 0xe1c0, 0x53e2, 0x1, 0x0);
        gbc.writeMem(0x28fc, { 0xfb });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xe231, gbc.sp());
        EXPECT(0x28fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 038E
        gbc.setState(0xe825, 0x2e40, 0xd4e0, 0x7dd1, 0x4664, 0xdc25, 0x0, 0x1);
        gbc.writeMem(0xe825, { 0xfb });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x2e40, gbc.sp());
        EXPECT(0xe826, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe825));
        // FB 038F
        gbc.setState(0xa56c, 0xed61, 0xf880, 0xd179, 0x910d, 0xd4f7, 0x0, 0x0);
        gbc.writeMem(0xa56c, { 0xfb });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xed61, gbc.sp());
        EXPECT(0xa56d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa56c));
        // FB 0390
        gbc.setState(0x8a3f, 0x7c03, 0x5810, 0x6d6c, 0xc69d, 0xf92c, 0x0, 0x0);
        gbc.writeMem(0x8a3f, { 0xfb });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x7c03, gbc.sp());
        EXPECT(0x8a40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8a3f));
        // FB 0391
        gbc.setState(0xd13a, 0xb4a0, 0x480, 0xba4b, 0x777f, 0x48b1, 0x0, 0x1);
        gbc.writeMem(0xd13a, { 0xfb });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xb4a0, gbc.sp());
        EXPECT(0xd13b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd13a));
        // FB 0392
        gbc.setState(0x2dee, 0xc5a3, 0x9cd0, 0x3010, 0x9c77, 0xa487, 0x1, 0x0);
        gbc.writeMem(0x2dee, { 0xfb });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xc5a3, gbc.sp());
        EXPECT(0x2def, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0394
        gbc.setState(0x4579, 0xee51, 0x8250, 0x2ba8, 0x4ba5, 0x5015, 0x1, 0x1);
        gbc.writeMem(0x4579, { 0xfb });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xee51, gbc.sp());
        EXPECT(0x457a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0395
        gbc.setState(0x5bc7, 0x585, 0xa9b0, 0x81eb, 0x2376, 0xca0e, 0x1, 0x0);
        gbc.writeMem(0x5bc7, { 0xfb });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x585, gbc.sp());
        EXPECT(0x5bc8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 0396
        gbc.setState(0xd713, 0xde3c, 0x15d0, 0xd7e9, 0x1b82, 0x4fb5, 0x1, 0x0);
        gbc.writeMem(0xd713, { 0xfb });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xde3c, gbc.sp());
        EXPECT(0xd714, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd713));
        // FB 0397
        gbc.setState(0x8ac8, 0x2ac9, 0x4bd0, 0xde06, 0x102e, 0x7485, 0x0, 0x1);
        gbc.writeMem(0x8ac8, { 0xfb });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x2ac9, gbc.sp());
        EXPECT(0x8ac9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8ac8));
        // FB 0398
        gbc.setState(0xc6b3, 0xc17c, 0x22b0, 0xf5c0, 0x2014, 0x105d, 0x1, 0x1);
        gbc.writeMem(0xc6b3, { 0xfb });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xc17c, gbc.sp());
        EXPECT(0xc6b4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc6b3));
        // FB 0399
        gbc.setState(0x33c1, 0x921c, 0x8e00, 0x7c3b, 0xb790, 0xd014, 0x0, 0x1);
        gbc.writeMem(0x33c1, { 0xfb });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x921c, gbc.sp());
        EXPECT(0x33c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 039A
        gbc.setState(0xf30, 0x61a1, 0xdb10, 0x2071, 0x5357, 0x27da, 0x0, 0x0);
        gbc.writeMem(0xf30, { 0xfb });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x61a1, gbc.sp());
        EXPECT(0xf31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 039C
        gbc.setState(0xa1fc, 0xb7c6, 0x3f20, 0x42ea, 0x9306, 0x7ab3, 0x0, 0x0);
        gbc.writeMem(0xa1fc, { 0xfb });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xb7c6, gbc.sp());
        EXPECT(0xa1fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa1fc));
        // FB 039D
        gbc.setState(0xad2c, 0x1510, 0xb120, 0x3518, 0xc4bf, 0xe766, 0x1, 0x1);
        gbc.writeMem(0xad2c, { 0xfb });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x1510, gbc.sp());
        EXPECT(0xad2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xad2c));
        // FB 039E
        gbc.setState(0x8407, 0xc54d, 0xeda0, 0x2bef, 0x9ad4, 0x5b9c, 0x0, 0x0);
        gbc.writeMem(0x8407, { 0xfb });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xc54d, gbc.sp());
        EXPECT(0x8408, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8407));
        // FB 039F
        gbc.setState(0xe409, 0xb04, 0xf30, 0x30ff, 0x2bb7, 0x646b, 0x0, 0x0);
        gbc.writeMem(0xe409, { 0xfb });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xb04, gbc.sp());
        EXPECT(0xe40a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe409));
        // FB 03A0
        gbc.setState(0x96cc, 0x5bb, 0x3bf0, 0x2058, 0x91a7, 0x68e8, 0x0, 0x1);
        gbc.writeMem(0x96cc, { 0xfb });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x5bb, gbc.sp());
        EXPECT(0x96cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x96cc));
        // FB 03A1
        gbc.setState(0x96ff, 0x8b31, 0x4440, 0x4953, 0xd328, 0x8c4a, 0x1, 0x1);
        gbc.writeMem(0x96ff, { 0xfb });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x8b31, gbc.sp());
        EXPECT(0x9700, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x96ff));
        // FB 03A2
        gbc.setState(0x29b7, 0xbc16, 0xc390, 0x634e, 0x25a8, 0x44bd, 0x0, 0x0);
        gbc.writeMem(0x29b7, { 0xfb });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xbc16, gbc.sp());
        EXPECT(0x29b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03A3
        gbc.setState(0x3595, 0x55d4, 0xbdf0, 0xad30, 0xbc2a, 0x650a, 0x1, 0x0);
        gbc.writeMem(0x3595, { 0xfb });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x55d4, gbc.sp());
        EXPECT(0x3596, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03A4
        gbc.setState(0x4f, 0x8c25, 0x3ab0, 0x344b, 0x9443, 0xcb4, 0x1, 0x0);
        gbc.writeMem(0x4f, { 0xfb });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x8c25, gbc.sp());
        EXPECT(0x50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03A5
        gbc.setState(0xded6, 0x3acd, 0x940, 0x426d, 0x5a2a, 0x2118, 0x1, 0x1);
        gbc.writeMem(0xded6, { 0xfb });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x3acd, gbc.sp());
        EXPECT(0xded7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xded6));
        // FB 03A6
        gbc.setState(0x1332, 0x66c8, 0x8340, 0x3d3a, 0xbcad, 0x1210, 0x1, 0x0);
        gbc.writeMem(0x1332, { 0xfb });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x66c8, gbc.sp());
        EXPECT(0x1333, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03A7
        gbc.setState(0xe686, 0x6a70, 0x4b00, 0xf371, 0xc7e2, 0x55e0, 0x0, 0x1);
        gbc.writeMem(0xe686, { 0xfb });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x6a70, gbc.sp());
        EXPECT(0xe687, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe686));
        // FB 03A8
        gbc.setState(0x1735, 0x1394, 0x2070, 0xfee5, 0x28d8, 0xb137, 0x1, 0x1);
        gbc.writeMem(0x1735, { 0xfb });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x1394, gbc.sp());
        EXPECT(0x1736, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03AB
        gbc.setState(0x3768, 0x63ba, 0x6760, 0x122e, 0xa630, 0x16d7, 0x1, 0x0);
        gbc.writeMem(0x3768, { 0xfb });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x63ba, gbc.sp());
        EXPECT(0x3769, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03AC
        gbc.setState(0x9c6e, 0xcaa7, 0x8280, 0xc900, 0xd498, 0x2ee, 0x0, 0x1);
        gbc.writeMem(0x9c6e, { 0xfb });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xcaa7, gbc.sp());
        EXPECT(0x9c6f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9c6e));
        // FB 03AD
        gbc.setState(0x6de4, 0x555d, 0x9640, 0x6ac6, 0x3dbc, 0xb155, 0x1, 0x0);
        gbc.writeMem(0x6de4, { 0xfb });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x555d, gbc.sp());
        EXPECT(0x6de5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03AE
        gbc.setState(0xeb72, 0x73fa, 0x1510, 0x99ec, 0xfa, 0x40ee, 0x0, 0x1);
        gbc.writeMem(0xeb72, { 0xfb });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x73fa, gbc.sp());
        EXPECT(0xeb73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xeb72));
        // FB 03AF
        gbc.setState(0x9d5d, 0x1a02, 0xc430, 0x7aae, 0x84af, 0xf7dd, 0x0, 0x0);
        gbc.writeMem(0x9d5d, { 0xfb });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x1a02, gbc.sp());
        EXPECT(0x9d5e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x9d5d));
        // FB 03B0
        gbc.setState(0x411a, 0x2471, 0x96b0, 0x7104, 0xf811, 0xcfe5, 0x0, 0x1);
        gbc.writeMem(0x411a, { 0xfb });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x2471, gbc.sp());
        EXPECT(0x411b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03B1
        gbc.setState(0xe3eb, 0xa4bd, 0x4050, 0x8570, 0xe42, 0x3da, 0x1, 0x0);
        gbc.writeMem(0xe3eb, { 0xfb });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xa4bd, gbc.sp());
        EXPECT(0xe3ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe3eb));
        // FB 03B2
        gbc.setState(0x21c2, 0x2220, 0x6bf0, 0x7564, 0x8c93, 0x2ffa, 0x0, 0x1);
        gbc.writeMem(0x21c2, { 0xfb });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x2220, gbc.sp());
        EXPECT(0x21c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03B3
        gbc.setState(0x93c0, 0x9e00, 0x9a40, 0xa205, 0x46db, 0xcac3, 0x0, 0x0);
        gbc.writeMem(0x93c0, { 0xfb });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x9e00, gbc.sp());
        EXPECT(0x93c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x93c0));
        // FB 03B4
        gbc.setState(0x5c6, 0x5ab7, 0x2630, 0x8302, 0xe189, 0xe93d, 0x0, 0x0);
        gbc.writeMem(0x5c6, { 0xfb });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x5ab7, gbc.sp());
        EXPECT(0x5c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03B5
        gbc.setState(0xc84c, 0x1c0f, 0x60c0, 0xd187, 0x522a, 0x16a1, 0x0, 0x1);
        gbc.writeMem(0xc84c, { 0xfb });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x1c0f, gbc.sp());
        EXPECT(0xc84d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc84c));
        // FB 03B6
        gbc.setState(0xebc, 0x8776, 0xcf10, 0xa6dc, 0xbd5a, 0xbcd4, 0x0, 0x1);
        gbc.writeMem(0xebc, { 0xfb });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x8776, gbc.sp());
        EXPECT(0xebd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03B7
        gbc.setState(0x7950, 0x1969, 0x8250, 0x7938, 0x65bf, 0x8ab5, 0x0, 0x0);
        gbc.writeMem(0x7950, { 0xfb });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x1969, gbc.sp());
        EXPECT(0x7951, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03B8
        gbc.setState(0x92c1, 0x6ffa, 0x9ed0, 0xe80f, 0xcecf, 0x9a12, 0x0, 0x1);
        gbc.writeMem(0x92c1, { 0xfb });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x6ffa, gbc.sp());
        EXPECT(0x92c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x92c1));
        // FB 03B9
        gbc.setState(0x5047, 0x9488, 0xbfc0, 0xa03b, 0x6922, 0x3309, 0x1, 0x0);
        gbc.writeMem(0x5047, { 0xfb });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x9488, gbc.sp());
        EXPECT(0x5048, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03BA
        gbc.setState(0xc9f0, 0x3c97, 0xf0, 0xa7e1, 0x35d8, 0x3b0a, 0x1, 0x1);
        gbc.writeMem(0xc9f0, { 0xfb });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x3c97, gbc.sp());
        EXPECT(0xc9f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xc9f0));
        // FB 03BB
        gbc.setState(0xef2, 0xba76, 0x3b10, 0x68be, 0x6d1b, 0xbd0b, 0x1, 0x0);
        gbc.writeMem(0xef2, { 0xfb });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xba76, gbc.sp());
        EXPECT(0xef3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03BC
        gbc.setState(0x2ea, 0x284e, 0x4e20, 0x18e8, 0xa99e, 0x2e7a, 0x0, 0x0);
        gbc.writeMem(0x2ea, { 0xfb });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x284e, gbc.sp());
        EXPECT(0x2eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03BD
        gbc.setState(0x597f, 0xd73a, 0x6cb0, 0xfd3c, 0xb2af, 0x43fc, 0x1, 0x0);
        gbc.writeMem(0x597f, { 0xfb });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xd73a, gbc.sp());
        EXPECT(0x5980, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03BE
        gbc.setState(0x5c79, 0x927b, 0xa470, 0x6521, 0x4803, 0xba45, 0x0, 0x0);
        gbc.writeMem(0x5c79, { 0xfb });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x927b, gbc.sp());
        EXPECT(0x5c7a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03BF
        gbc.setState(0x77a9, 0x9e21, 0xb900, 0xb7c5, 0xc3f2, 0xa7f8, 0x0, 0x1);
        gbc.writeMem(0x77a9, { 0xfb });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x9e21, gbc.sp());
        EXPECT(0x77aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03C0
        gbc.setState(0xa2ac, 0xa999, 0xaf70, 0xd875, 0x7b00, 0xceea, 0x0, 0x0);
        gbc.writeMem(0xa2ac, { 0xfb });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xa999, gbc.sp());
        EXPECT(0xa2ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa2ac));
        // FB 03C1
        gbc.setState(0x2382, 0x300e, 0x8600, 0xcdc9, 0xa09, 0x56a0, 0x1, 0x1);
        gbc.writeMem(0x2382, { 0xfb });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x300e, gbc.sp());
        EXPECT(0x2383, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03C2
        gbc.setState(0xa661, 0x8892, 0xd090, 0x9ffd, 0xf1e5, 0x97d3, 0x1, 0x1);
        gbc.writeMem(0xa661, { 0xfb });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x8892, gbc.sp());
        EXPECT(0xa662, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa661));
        // FB 03C3
        gbc.setState(0x3bb, 0xd5e1, 0x82f0, 0xe2fb, 0xc521, 0x14cb, 0x0, 0x1);
        gbc.writeMem(0x3bb, { 0xfb });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xd5e1, gbc.sp());
        EXPECT(0x3bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03C4
        gbc.setState(0x4528, 0x64ed, 0x4fd0, 0xe540, 0xe6ed, 0x9ed1, 0x1, 0x0);
        gbc.writeMem(0x4528, { 0xfb });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x64ed, gbc.sp());
        EXPECT(0x4529, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03C5
        gbc.setState(0x33f9, 0x2db1, 0x7650, 0x55d8, 0xd9c5, 0x627a, 0x0, 0x1);
        gbc.writeMem(0x33f9, { 0xfb });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x2db1, gbc.sp());
        EXPECT(0x33fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03C6
        gbc.setState(0xeff6, 0x7189, 0x1590, 0x9ab1, 0x8eb5, 0x11da, 0x0, 0x0);
        gbc.writeMem(0xeff6, { 0xfb });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x7189, gbc.sp());
        EXPECT(0xeff7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xeff6));
        // FB 03C7
        gbc.setState(0xa5e, 0x4b2e, 0x8870, 0x9af1, 0x354e, 0x914f, 0x0, 0x1);
        gbc.writeMem(0xa5e, { 0xfb });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x4b2e, gbc.sp());
        EXPECT(0xa5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03C8
        gbc.setState(0xa8d0, 0xf2de, 0x48a0, 0xe5ff, 0xfeb1, 0xf773, 0x1, 0x0);
        gbc.writeMem(0xa8d0, { 0xfb });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xf2de, gbc.sp());
        EXPECT(0xa8d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa8d0));
        // FB 03C9
        gbc.setState(0xa8a8, 0x8c9c, 0x1840, 0xb71b, 0x4feb, 0x3d8a, 0x1, 0x1);
        gbc.writeMem(0xa8a8, { 0xfb });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x8c9c, gbc.sp());
        EXPECT(0xa8a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa8a8));
        // FB 03CA
        gbc.setState(0x2654, 0xf2c1, 0xa4e0, 0x19cc, 0x33bc, 0x18b0, 0x0, 0x0);
        gbc.writeMem(0x2654, { 0xfb });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xf2c1, gbc.sp());
        EXPECT(0x2655, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03CB
        gbc.setState(0x590c, 0x2200, 0x2990, 0x7989, 0x18, 0x2f0b, 0x0, 0x1);
        gbc.writeMem(0x590c, { 0xfb });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x2200, gbc.sp());
        EXPECT(0x590d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03CC
        gbc.setState(0xb177, 0x1462, 0x8670, 0xdc99, 0x4dc3, 0x60ab, 0x1, 0x1);
        gbc.writeMem(0xb177, { 0xfb });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x1462, gbc.sp());
        EXPECT(0xb178, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb177));
        // FB 03CD
        gbc.setState(0xa74f, 0xdbe8, 0x2ac0, 0x58e9, 0x33e8, 0xd78b, 0x0, 0x0);
        gbc.writeMem(0xa74f, { 0xfb });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xdbe8, gbc.sp());
        EXPECT(0xa750, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa74f));
        // FB 03CE
        gbc.setState(0xe83e, 0x2f99, 0xc9a0, 0x474d, 0x1484, 0xf4e5, 0x0, 0x1);
        gbc.writeMem(0xe83e, { 0xfb });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x2f99, gbc.sp());
        EXPECT(0xe83f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe83e));
        // FB 03CF
        gbc.setState(0x1aea, 0x2093, 0xd90, 0x5d1e, 0x5d05, 0x87e3, 0x1, 0x1);
        gbc.writeMem(0x1aea, { 0xfb });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x2093, gbc.sp());
        EXPECT(0x1aeb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03D0
        gbc.setState(0x51c3, 0x37d7, 0xbe10, 0x73f7, 0x3e8b, 0xeae5, 0x0, 0x1);
        gbc.writeMem(0x51c3, { 0xfb });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x37d7, gbc.sp());
        EXPECT(0x51c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03D1
        gbc.setState(0x4b91, 0xadd6, 0xd1e0, 0xb2b6, 0x5082, 0xb3ed, 0x0, 0x0);
        gbc.writeMem(0x4b91, { 0xfb });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xadd6, gbc.sp());
        EXPECT(0x4b92, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03D2
        gbc.setState(0x2892, 0x4ac, 0x59e0, 0x6ce2, 0xd6d4, 0xaee5, 0x0, 0x0);
        gbc.writeMem(0x2892, { 0xfb });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x4ac, gbc.sp());
        EXPECT(0x2893, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03D3
        gbc.setState(0x22ec, 0xbb7c, 0xca40, 0xca71, 0x3f24, 0x89e0, 0x0, 0x0);
        gbc.writeMem(0x22ec, { 0xfb });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xbb7c, gbc.sp());
        EXPECT(0x22ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03D4
        gbc.setState(0x8b7c, 0x5451, 0xcc10, 0xc2db, 0xab65, 0x2b0e, 0x0, 0x0);
        gbc.writeMem(0x8b7c, { 0xfb });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x5451, gbc.sp());
        EXPECT(0x8b7d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8b7c));
        // FB 03D5
        gbc.setState(0xa0ac, 0x8972, 0x1250, 0xa0df, 0x6946, 0xe9ae, 0x0, 0x0);
        gbc.writeMem(0xa0ac, { 0xfb });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x8972, gbc.sp());
        EXPECT(0xa0ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xa0ac));
        // FB 03D6
        gbc.setState(0xd247, 0xa00b, 0x3dc0, 0x5035, 0xe78e, 0x15b4, 0x1, 0x1);
        gbc.writeMem(0xd247, { 0xfb });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xa00b, gbc.sp());
        EXPECT(0xd248, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xd247));
        // FB 03D7
        gbc.setState(0xa5c, 0x3470, 0xccf0, 0xe7b2, 0xde33, 0xa4b0, 0x0, 0x0);
        gbc.writeMem(0xa5c, { 0xfb });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x3470, gbc.sp());
        EXPECT(0xa5d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03D8
        gbc.setState(0xe79a, 0xac54, 0xa700, 0xc60, 0x43d3, 0xc41, 0x1, 0x0);
        gbc.writeMem(0xe79a, { 0xfb });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xac54, gbc.sp());
        EXPECT(0xe79b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe79a));
        // FB 03D9
        gbc.setState(0x4ea8, 0x6ca4, 0x160, 0xd646, 0x302e, 0x66c, 0x1, 0x1);
        gbc.writeMem(0x4ea8, { 0xfb });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x6ca4, gbc.sp());
        EXPECT(0x4ea9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03DA
        gbc.setState(0x787e, 0x165, 0x9700, 0x1ab4, 0x2d91, 0x1ace, 0x1, 0x0);
        gbc.writeMem(0x787e, { 0xfb });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x165, gbc.sp());
        EXPECT(0x787f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03DB
        gbc.setState(0xcfd5, 0x28dd, 0x7180, 0x64b8, 0xb23a, 0x9b15, 0x1, 0x1);
        gbc.writeMem(0xcfd5, { 0xfb });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x28dd, gbc.sp());
        EXPECT(0xcfd6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xcfd5));
        // FB 03DC
        gbc.setState(0x2fab, 0x5849, 0xad60, 0x1c64, 0x69d9, 0x3c5a, 0x1, 0x1);
        gbc.writeMem(0x2fab, { 0xfb });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x5849, gbc.sp());
        EXPECT(0x2fac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03DD
        gbc.setState(0x1bf7, 0xad6b, 0x5ef0, 0xc7eb, 0xc45, 0x18aa, 0x1, 0x0);
        gbc.writeMem(0x1bf7, { 0xfb });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xad6b, gbc.sp());
        EXPECT(0x1bf8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03DE
        gbc.setState(0x1641, 0x182d, 0x4740, 0x2e8c, 0x2c24, 0xc354, 0x1, 0x0);
        gbc.writeMem(0x1641, { 0xfb });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x182d, gbc.sp());
        EXPECT(0x1642, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03DF
        gbc.setState(0x6ebf, 0x5c96, 0xd600, 0x9555, 0x23b3, 0xab28, 0x1, 0x0);
        gbc.writeMem(0x6ebf, { 0xfb });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x5c96, gbc.sp());
        EXPECT(0x6ec0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03E0
        gbc.setState(0x178c, 0x9b2d, 0xaf30, 0x63a0, 0x83c7, 0xe52a, 0x0, 0x1);
        gbc.writeMem(0x178c, { 0xfb });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x9b2d, gbc.sp());
        EXPECT(0x178d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // FB 03E1
        gbc.setState(0xb197, 0xb954, 0xf1a0, 0xa885, 0x3e8a, 0x5a5f, 0x1, 0x1);
        gbc.writeMem(0xb197, { 0xfb });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xb954, gbc.sp());
        EXPECT(0xb198, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xb197));
        // FB 03E2
        gbc.setState(0xe6ee, 0x1153, 0x8d10, 0xca06, 0xe8e3, 0x5434, 0x0, 0x0);
        gbc.writeMem(0xe6ee, { 0xfb });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x1153, gbc.sp());
        EXPECT(0xe6ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xe6ee));
        // FB 03E3
        gbc.setState(0xcfca, 0xb64b, 0xe800, 0x643c, 0x2095, 0xe4ee, 0x1, 0x0);
        gbc.writeMem(0xcfca, { 0xfb });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xb64b, gbc.sp());
        EXPECT(0xcfcb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0xcfca));
        // FB 03E4
        gbc.setState(0x318, 0x2842, 0x3be0, 0x886d, 0x20fe, 0x609d, 0x1, 0x0);
        gbc.writeMem(0x318, { 0xfb });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x2842, gbc.sp());
        EXPECT(0x319, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // FB 03E5
        gbc.setState(0x87c2, 0x4882, 0x9150, 0xe15e, 0x97c1, 0x698e, 0x0, 0x0);
        gbc.writeMem(0x87c2, { 0xfb });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x4882, gbc.sp());
        EXPECT(0x87c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x87c2));
        // FB 03E6
        gbc.setState(0x8f55, 0x353, 0xfde0, 0x36ef, 0x8b10, 0x4690, 0x1, 0x1);
        gbc.writeMem(0x8f55, { 0xfb });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x353, gbc.sp());
        EXPECT(0x8f56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xfb, gbc.readMem(0x8f55));
        // FB 03E7
        gbc.setState(0x2100, 0xe88f, 0xa990, 0xec2f, 0x956d, 0xee5, 0x1, 0x1);
        gbc.writeMem(0x2100, { 0xfb });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xe88f, gbc.sp());
        EXPECT(0x2101, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
    }
