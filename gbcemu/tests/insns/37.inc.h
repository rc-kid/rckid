    TEST(gbcemu, opcode_37) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 37 0000
        gbc.setState(0x462c, 0x7368, 0x2720, 0x5ad, 0x33e8, 0x7c1a, 0x0, 0x0);
        gbc.writeMem(0x462c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x7368);
        EXPECT(gbc.pc(), 0x462d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0001
        gbc.setState(0x7041, 0xffa7, 0xcb10, 0xb0a8, 0xca01, 0xb751, 0x1, 0x0);
        gbc.writeMem(0x7041, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xffa7);
        EXPECT(gbc.pc(), 0x7042);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0002
        gbc.setState(0x1068, 0xadb9, 0x4880, 0x175d, 0x9f4c, 0xb54, 0x0, 0x1);
        gbc.writeMem(0x1068, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xadb9);
        EXPECT(gbc.pc(), 0x1069);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0003
        gbc.setState(0xf57, 0x55ba, 0xda50, 0xbf98, 0x88a7, 0xfbff, 0x0, 0x1);
        gbc.writeMem(0xf57, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x55ba);
        EXPECT(gbc.pc(), 0xf58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0004
        gbc.setState(0xd6db, 0x26b5, 0xb570, 0x2014, 0xc80c, 0xebed, 0x0, 0x0);
        gbc.writeMem(0xd6db, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x26b5);
        EXPECT(gbc.pc(), 0xd6dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6db), 0x37);
        // 37 0005
        gbc.setState(0x3c8b, 0x5d84, 0xb810, 0xc6d4, 0x6280, 0x7116, 0x0, 0x0);
        gbc.writeMem(0x3c8b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x5d84);
        EXPECT(gbc.pc(), 0x3c8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0006
        gbc.setState(0x7c7d, 0x74e9, 0x9150, 0x6ede, 0x61ac, 0x7072, 0x1, 0x1);
        gbc.writeMem(0x7c7d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x74e9);
        EXPECT(gbc.pc(), 0x7c7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0007
        gbc.setState(0x2091, 0x6b28, 0x6e60, 0xe01f, 0x1e81, 0xe821, 0x0, 0x0);
        gbc.writeMem(0x2091, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x6b28);
        EXPECT(gbc.pc(), 0x2092);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0008
        gbc.setState(0xc35c, 0xfdae, 0x4670, 0x9b1b, 0x7706, 0x80d0, 0x0, 0x1);
        gbc.writeMem(0xc35c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xfdae);
        EXPECT(gbc.pc(), 0xc35d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc35c), 0x37);
        // 37 0009
        gbc.setState(0xc959, 0x4232, 0xd7a0, 0x7715, 0x8ad0, 0xcf4d, 0x1, 0x0);
        gbc.writeMem(0xc959, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x4232);
        EXPECT(gbc.pc(), 0xc95a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc959), 0x37);
        // 37 000A
        gbc.setState(0x1ee7, 0xba35, 0x6790, 0x493d, 0xcbb6, 0x1818, 0x0, 0x1);
        gbc.writeMem(0x1ee7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xba35);
        EXPECT(gbc.pc(), 0x1ee8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 000B
        gbc.setState(0x70b8, 0xc445, 0x150, 0x29b8, 0xa84d, 0xb536, 0x0, 0x0);
        gbc.writeMem(0x70b8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xc445);
        EXPECT(gbc.pc(), 0x70b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 000C
        gbc.setState(0x18ff, 0x82e2, 0xf2c0, 0x8d55, 0xdedc, 0xbf1e, 0x0, 0x1);
        gbc.writeMem(0x18ff, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x82e2);
        EXPECT(gbc.pc(), 0x1900);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 000D
        gbc.setState(0x31b6, 0xfb1c, 0xc860, 0xa1e8, 0x1eb2, 0x5f5, 0x1, 0x0);
        gbc.writeMem(0x31b6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xfb1c);
        EXPECT(gbc.pc(), 0x31b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 000E
        gbc.setState(0x28ec, 0x66c9, 0x14b0, 0x3ea2, 0xc688, 0x3bc8, 0x0, 0x0);
        gbc.writeMem(0x28ec, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x66c9);
        EXPECT(gbc.pc(), 0x28ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 000F
        gbc.setState(0x3873, 0x8991, 0x5250, 0x86aa, 0x4445, 0xbea2, 0x1, 0x0);
        gbc.writeMem(0x3873, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x8991);
        EXPECT(gbc.pc(), 0x3874);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0010
        gbc.setState(0xc11c, 0xd698, 0xd9e0, 0x2c5e, 0xb627, 0x19a8, 0x0, 0x1);
        gbc.writeMem(0xc11c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xd698);
        EXPECT(gbc.pc(), 0xc11d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc11c), 0x37);
        // 37 0011
        gbc.setState(0xa32d, 0x42b7, 0x98c0, 0x87cc, 0x25ff, 0x1cd, 0x1, 0x0);
        gbc.writeMem(0xa32d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x42b7);
        EXPECT(gbc.pc(), 0xa32e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa32d), 0x37);
        // 37 0012
        gbc.setState(0xe372, 0xdc47, 0xbf60, 0x194a, 0x2b79, 0xdd62, 0x0, 0x0);
        gbc.writeMem(0xe372, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xdc47);
        EXPECT(gbc.pc(), 0xe373);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe372), 0x37);
        // 37 0013
        gbc.setState(0x77d2, 0xe4c3, 0x8ee0, 0x849a, 0x4ac8, 0xeff8, 0x1, 0x1);
        gbc.writeMem(0x77d2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xe4c3);
        EXPECT(gbc.pc(), 0x77d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0014
        gbc.setState(0xedc0, 0x13e5, 0x86a0, 0x8c2e, 0xfb0e, 0xfd93, 0x1, 0x1);
        gbc.writeMem(0xedc0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x13e5);
        EXPECT(gbc.pc(), 0xedc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedc0), 0x37);
        // 37 0015
        gbc.setState(0x2d66, 0x1407, 0x8d10, 0xe482, 0x2405, 0x3bf9, 0x0, 0x0);
        gbc.writeMem(0x2d66, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x1407);
        EXPECT(gbc.pc(), 0x2d67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0016
        gbc.setState(0x7ed6, 0x7ea8, 0x51f0, 0x9cd7, 0xa5ee, 0x17df, 0x0, 0x0);
        gbc.writeMem(0x7ed6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x7ea8);
        EXPECT(gbc.pc(), 0x7ed7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0017
        gbc.setState(0x4552, 0xea99, 0x2f60, 0xe437, 0xb1a6, 0x2deb, 0x1, 0x1);
        gbc.writeMem(0x4552, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xea99);
        EXPECT(gbc.pc(), 0x4553);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0018
        gbc.setState(0x42e5, 0xc6b2, 0xf8b0, 0xfb4b, 0xceaf, 0x538a, 0x1, 0x0);
        gbc.writeMem(0x42e5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xc6b2);
        EXPECT(gbc.pc(), 0x42e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0019
        gbc.setState(0xa45a, 0x3fb5, 0x9190, 0xca00, 0xeead, 0xe640, 0x0, 0x1);
        gbc.writeMem(0xa45a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x3fb5);
        EXPECT(gbc.pc(), 0xa45b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa45a), 0x37);
        // 37 001A
        gbc.setState(0x8df5, 0xe205, 0x2470, 0xe5bb, 0x34f1, 0x5b0f, 0x1, 0x1);
        gbc.writeMem(0x8df5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xe205);
        EXPECT(gbc.pc(), 0x8df6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8df5), 0x37);
        // 37 001B
        gbc.setState(0x4bfc, 0xa262, 0x52f0, 0x8213, 0x58c, 0xeb5e, 0x0, 0x1);
        gbc.writeMem(0x4bfc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xa262);
        EXPECT(gbc.pc(), 0x4bfd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 001C
        gbc.setState(0xd1e, 0x413f, 0xc0, 0x6ddc, 0x91f4, 0xc289, 0x1, 0x0);
        gbc.writeMem(0xd1e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x413f);
        EXPECT(gbc.pc(), 0xd1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 001D
        gbc.setState(0xb5d5, 0x9495, 0x9160, 0xa9d4, 0x582d, 0x1a9d, 0x0, 0x0);
        gbc.writeMem(0xb5d5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x9495);
        EXPECT(gbc.pc(), 0xb5d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5d5), 0x37);
        // 37 001E
        gbc.setState(0x9be9, 0x705e, 0x3c00, 0x6601, 0xa668, 0x8288, 0x1, 0x1);
        gbc.writeMem(0x9be9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x705e);
        EXPECT(gbc.pc(), 0x9bea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9be9), 0x37);
        // 37 001F
        gbc.setState(0xec5, 0x4acb, 0xb1c0, 0x6a94, 0x2b28, 0x4134, 0x1, 0x0);
        gbc.writeMem(0xec5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x4acb);
        EXPECT(gbc.pc(), 0xec6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0020
        gbc.setState(0xeac3, 0xad9c, 0x3630, 0x5156, 0xc01e, 0x9673, 0x0, 0x1);
        gbc.writeMem(0xeac3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xad9c);
        EXPECT(gbc.pc(), 0xeac4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeac3), 0x37);
        // 37 0021
        gbc.setState(0xc9d3, 0x2c97, 0x9e90, 0x4095, 0x8ce3, 0xeb58, 0x1, 0x0);
        gbc.writeMem(0xc9d3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x2c97);
        EXPECT(gbc.pc(), 0xc9d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9d3), 0x37);
        // 37 0022
        gbc.setState(0x837b, 0x25d6, 0x6070, 0x2eb7, 0x993a, 0x525b, 0x1, 0x0);
        gbc.writeMem(0x837b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x25d6);
        EXPECT(gbc.pc(), 0x837c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x837b), 0x37);
        // 37 0023
        gbc.setState(0x7f8a, 0xb16f, 0x6070, 0x8bf4, 0x784b, 0xdb01, 0x1, 0x0);
        gbc.writeMem(0x7f8a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xb16f);
        EXPECT(gbc.pc(), 0x7f8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0024
        gbc.setState(0x3429, 0x43fc, 0x7be0, 0xa007, 0x9ffc, 0x9c2c, 0x0, 0x1);
        gbc.writeMem(0x3429, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x43fc);
        EXPECT(gbc.pc(), 0x342a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0025
        gbc.setState(0x9fe8, 0x6790, 0xdf00, 0xa39d, 0xeda3, 0x71d1, 0x1, 0x0);
        gbc.writeMem(0x9fe8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x6790);
        EXPECT(gbc.pc(), 0x9fe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fe8), 0x37);
        // 37 0026
        gbc.setState(0x3690, 0x93a4, 0xef40, 0x530b, 0x5b0a, 0x6928, 0x0, 0x1);
        gbc.writeMem(0x3690, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x93a4);
        EXPECT(gbc.pc(), 0x3691);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0027
        gbc.setState(0x89e9, 0x27a1, 0xe40, 0xd2b4, 0x3dd1, 0xb3fe, 0x1, 0x1);
        gbc.writeMem(0x89e9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x27a1);
        EXPECT(gbc.pc(), 0x89ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89e9), 0x37);
        // 37 0028
        gbc.setState(0xe803, 0x961f, 0x4ff0, 0x8bea, 0x95bf, 0xa3c2, 0x1, 0x1);
        gbc.writeMem(0xe803, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x961f);
        EXPECT(gbc.pc(), 0xe804);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe803), 0x37);
        // 37 0029
        gbc.setState(0x74d2, 0xd60f, 0xeab0, 0xc113, 0xdd24, 0x64b4, 0x1, 0x0);
        gbc.writeMem(0x74d2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xd60f);
        EXPECT(gbc.pc(), 0x74d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 002A
        gbc.setState(0x5af0, 0x8946, 0xd430, 0x7033, 0x4150, 0x10b, 0x1, 0x1);
        gbc.writeMem(0x5af0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x8946);
        EXPECT(gbc.pc(), 0x5af1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 002B
        gbc.setState(0xda7f, 0x27d4, 0xd4f0, 0x7392, 0x6bf5, 0x2831, 0x0, 0x1);
        gbc.writeMem(0xda7f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x27d4);
        EXPECT(gbc.pc(), 0xda80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda7f), 0x37);
        // 37 002C
        gbc.setState(0xbd86, 0xfd29, 0xe730, 0x1415, 0x9920, 0x1411, 0x0, 0x1);
        gbc.writeMem(0xbd86, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xfd29);
        EXPECT(gbc.pc(), 0xbd87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd86), 0x37);
        // 37 002D
        gbc.setState(0xe8d3, 0xca40, 0x50c0, 0xe0a5, 0x2576, 0x7e5c, 0x1, 0x1);
        gbc.writeMem(0xe8d3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xca40);
        EXPECT(gbc.pc(), 0xe8d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8d3), 0x37);
        // 37 002E
        gbc.setState(0x4b98, 0x3055, 0xc110, 0xbeb0, 0xae88, 0x4175, 0x1, 0x1);
        gbc.writeMem(0x4b98, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x3055);
        EXPECT(gbc.pc(), 0x4b99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 002F
        gbc.setState(0x7d5e, 0xdf26, 0xe4f0, 0x539f, 0x5ab, 0x20cd, 0x1, 0x0);
        gbc.writeMem(0x7d5e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xdf26);
        EXPECT(gbc.pc(), 0x7d5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0030
        gbc.setState(0x1310, 0x75d4, 0x9760, 0xd870, 0x6956, 0xf139, 0x0, 0x0);
        gbc.writeMem(0x1310, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x75d4);
        EXPECT(gbc.pc(), 0x1311);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0031
        gbc.setState(0xab34, 0xee87, 0xedf0, 0xb2c0, 0x124f, 0x620a, 0x1, 0x0);
        gbc.writeMem(0xab34, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xee87);
        EXPECT(gbc.pc(), 0xab35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab34), 0x37);
        // 37 0032
        gbc.setState(0xbf16, 0x48dd, 0x17b0, 0x6ff8, 0x88a7, 0x1c81, 0x1, 0x0);
        gbc.writeMem(0xbf16, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x48dd);
        EXPECT(gbc.pc(), 0xbf17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf16), 0x37);
        // 37 0033
        gbc.setState(0x34cf, 0x3d03, 0x93d0, 0xc4a3, 0x605a, 0xdb1c, 0x1, 0x0);
        gbc.writeMem(0x34cf, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x3d03);
        EXPECT(gbc.pc(), 0x34d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0034
        gbc.setState(0xd2d7, 0xcfda, 0x4f00, 0x3eda, 0x9d64, 0x1de6, 0x1, 0x0);
        gbc.writeMem(0xd2d7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xcfda);
        EXPECT(gbc.pc(), 0xd2d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2d7), 0x37);
        // 37 0035
        gbc.setState(0xe3dc, 0x6f12, 0x58f0, 0xe6b4, 0xd315, 0xc344, 0x0, 0x1);
        gbc.writeMem(0xe3dc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x6f12);
        EXPECT(gbc.pc(), 0xe3dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3dc), 0x37);
        // 37 0036
        gbc.setState(0x82b9, 0xbd6d, 0x7ba0, 0x8e74, 0x5b6e, 0x1534, 0x0, 0x0);
        gbc.writeMem(0x82b9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xbd6d);
        EXPECT(gbc.pc(), 0x82ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82b9), 0x37);
        // 37 0037
        gbc.setState(0x8242, 0x4c5b, 0xfba0, 0x9e86, 0xae59, 0x8ebb, 0x0, 0x1);
        gbc.writeMem(0x8242, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x4c5b);
        EXPECT(gbc.pc(), 0x8243);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8242), 0x37);
        // 37 0038
        gbc.setState(0x2650, 0x1227, 0x6400, 0xa18c, 0x9411, 0xba0f, 0x0, 0x1);
        gbc.writeMem(0x2650, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x1227);
        EXPECT(gbc.pc(), 0x2651);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0039
        gbc.setState(0xe68e, 0x27d1, 0x71d0, 0xf9b0, 0x5422, 0xce17, 0x0, 0x1);
        gbc.writeMem(0xe68e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x27d1);
        EXPECT(gbc.pc(), 0xe68f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe68e), 0x37);
        // 37 003A
        gbc.setState(0x9897, 0x50a2, 0x22e0, 0x5823, 0xb378, 0x6b04, 0x1, 0x0);
        gbc.writeMem(0x9897, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x50a2);
        EXPECT(gbc.pc(), 0x9898);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9897), 0x37);
        // 37 003B
        gbc.setState(0x615, 0xf9a3, 0x3f90, 0x6b69, 0xf9cd, 0x3225, 0x1, 0x0);
        gbc.writeMem(0x615, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xf9a3);
        EXPECT(gbc.pc(), 0x616);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 003C
        gbc.setState(0x2c6c, 0x872d, 0xcb20, 0x4ee3, 0xaba0, 0x4274, 0x0, 0x1);
        gbc.writeMem(0x2c6c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x872d);
        EXPECT(gbc.pc(), 0x2c6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 003D
        gbc.setState(0x1036, 0xd151, 0x490, 0x419a, 0xd89a, 0x95fd, 0x0, 0x0);
        gbc.writeMem(0x1036, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xd151);
        EXPECT(gbc.pc(), 0x1037);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 003E
        gbc.setState(0x7ae6, 0xa2a0, 0xb390, 0x3100, 0x2ef4, 0x10f9, 0x1, 0x0);
        gbc.writeMem(0x7ae6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xa2a0);
        EXPECT(gbc.pc(), 0x7ae7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 003F
        gbc.setState(0x7829, 0xb228, 0x1e90, 0x4c8c, 0x4119, 0x419c, 0x0, 0x0);
        gbc.writeMem(0x7829, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xb228);
        EXPECT(gbc.pc(), 0x782a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0040
        gbc.setState(0xdd70, 0xe531, 0x50, 0x9fe9, 0xed2f, 0xc02, 0x0, 0x0);
        gbc.writeMem(0xdd70, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xe531);
        EXPECT(gbc.pc(), 0xdd71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd70), 0x37);
        // 37 0041
        gbc.setState(0x3df7, 0x26c4, 0xcf50, 0x25e1, 0x2cee, 0x3ede, 0x0, 0x0);
        gbc.writeMem(0x3df7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x26c4);
        EXPECT(gbc.pc(), 0x3df8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0042
        gbc.setState(0x1d02, 0x679a, 0x6790, 0x4312, 0xbfbe, 0xa464, 0x0, 0x0);
        gbc.writeMem(0x1d02, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x679a);
        EXPECT(gbc.pc(), 0x1d03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0043
        gbc.setState(0x1316, 0xa47, 0x2ae0, 0x8cd6, 0xa1c7, 0xdca2, 0x1, 0x0);
        gbc.writeMem(0x1316, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xa47);
        EXPECT(gbc.pc(), 0x1317);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0044
        gbc.setState(0xd0b0, 0x70cc, 0x4ce0, 0x17ed, 0xde33, 0x997c, 0x0, 0x1);
        gbc.writeMem(0xd0b0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x70cc);
        EXPECT(gbc.pc(), 0xd0b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0b0), 0x37);
        // 37 0045
        gbc.setState(0x8b36, 0xbc9d, 0x3bc0, 0x88b6, 0x7b3c, 0x1a5a, 0x1, 0x0);
        gbc.writeMem(0x8b36, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xbc9d);
        EXPECT(gbc.pc(), 0x8b37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b36), 0x37);
        // 37 0046
        gbc.setState(0x9da1, 0x2a0d, 0x2b00, 0x5758, 0xc3eb, 0xf770, 0x0, 0x0);
        gbc.writeMem(0x9da1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x2a0d);
        EXPECT(gbc.pc(), 0x9da2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9da1), 0x37);
        // 37 0047
        gbc.setState(0x96e1, 0x6475, 0xd400, 0x8cd2, 0xa646, 0xafd0, 0x0, 0x0);
        gbc.writeMem(0x96e1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x6475);
        EXPECT(gbc.pc(), 0x96e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96e1), 0x37);
        // 37 0048
        gbc.setState(0xcbf5, 0x7f1b, 0x6200, 0xedf7, 0xc4d4, 0xe8d0, 0x0, 0x1);
        gbc.writeMem(0xcbf5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x7f1b);
        EXPECT(gbc.pc(), 0xcbf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbf5), 0x37);
        // 37 0049
        gbc.setState(0x9c90, 0xbc43, 0xee20, 0x3357, 0x2724, 0xc309, 0x0, 0x0);
        gbc.writeMem(0x9c90, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xbc43);
        EXPECT(gbc.pc(), 0x9c91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c90), 0x37);
        // 37 004A
        gbc.setState(0x8e50, 0x7c87, 0x89c0, 0x9696, 0x54cf, 0xb9f5, 0x0, 0x1);
        gbc.writeMem(0x8e50, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x7c87);
        EXPECT(gbc.pc(), 0x8e51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e50), 0x37);
        // 37 004B
        gbc.setState(0xddf8, 0xece9, 0xeed0, 0x1def, 0x70d6, 0x90ca, 0x1, 0x1);
        gbc.writeMem(0xddf8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xece9);
        EXPECT(gbc.pc(), 0xddf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddf8), 0x37);
        // 37 004D
        gbc.setState(0xa969, 0xc902, 0xcf60, 0xdf19, 0x53f5, 0xa169, 0x0, 0x1);
        gbc.writeMem(0xa969, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xc902);
        EXPECT(gbc.pc(), 0xa96a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa969), 0x37);
        // 37 004F
        gbc.setState(0x2bbe, 0x7ef1, 0xfd30, 0x6cdb, 0x247f, 0x4106, 0x0, 0x0);
        gbc.writeMem(0x2bbe, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x7ef1);
        EXPECT(gbc.pc(), 0x2bbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0050
        gbc.setState(0x458f, 0x88a5, 0x8ac0, 0x1c2e, 0xb716, 0x81dc, 0x1, 0x0);
        gbc.writeMem(0x458f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x88a5);
        EXPECT(gbc.pc(), 0x4590);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0051
        gbc.setState(0xc2cd, 0x1c1b, 0xfb40, 0xeb92, 0x71eb, 0x3c8a, 0x0, 0x1);
        gbc.writeMem(0xc2cd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x1c1b);
        EXPECT(gbc.pc(), 0xc2ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2cd), 0x37);
        // 37 0052
        gbc.setState(0x92d5, 0xbb63, 0x4a80, 0x9f04, 0xdeed, 0x6a0d, 0x1, 0x1);
        gbc.writeMem(0x92d5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xbb63);
        EXPECT(gbc.pc(), 0x92d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92d5), 0x37);
        // 37 0053
        gbc.setState(0x35ef, 0x5db9, 0x7c40, 0x8b30, 0xfddc, 0xfc2, 0x0, 0x1);
        gbc.writeMem(0x35ef, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x5db9);
        EXPECT(gbc.pc(), 0x35f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0054
        gbc.setState(0x727e, 0x9ce, 0xb7c0, 0x950b, 0x6223, 0x5ecf, 0x0, 0x0);
        gbc.writeMem(0x727e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x9ce);
        EXPECT(gbc.pc(), 0x727f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0055
        gbc.setState(0x1f70, 0x9e92, 0x1240, 0x9b4, 0x8b05, 0x1647, 0x0, 0x1);
        gbc.writeMem(0x1f70, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x9e92);
        EXPECT(gbc.pc(), 0x1f71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0056
        gbc.setState(0x81df, 0xb90d, 0xcf70, 0x3100, 0x93d, 0x952a, 0x1, 0x1);
        gbc.writeMem(0x81df, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xb90d);
        EXPECT(gbc.pc(), 0x81e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81df), 0x37);
        // 37 0058
        gbc.setState(0x2081, 0x56be, 0x2bc0, 0x95d0, 0x3158, 0x2611, 0x1, 0x0);
        gbc.writeMem(0x2081, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x56be);
        EXPECT(gbc.pc(), 0x2082);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0059
        gbc.setState(0x3a0, 0xedc, 0x4380, 0x26eb, 0xad01, 0xff3b, 0x0, 0x0);
        gbc.writeMem(0x3a0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xedc);
        EXPECT(gbc.pc(), 0x3a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 005A
        gbc.setState(0xb26f, 0x9014, 0xb650, 0x94e1, 0xac20, 0xbabe, 0x1, 0x0);
        gbc.writeMem(0xb26f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x9014);
        EXPECT(gbc.pc(), 0xb270);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb26f), 0x37);
        // 37 005B
        gbc.setState(0x82be, 0x2bf7, 0x57d0, 0x60ca, 0x21f4, 0x3639, 0x1, 0x1);
        gbc.writeMem(0x82be, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x2bf7);
        EXPECT(gbc.pc(), 0x82bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82be), 0x37);
        // 37 005C
        gbc.setState(0xb3bf, 0xe28f, 0xb550, 0xbf97, 0x260d, 0x13e, 0x1, 0x0);
        gbc.writeMem(0xb3bf, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xe28f);
        EXPECT(gbc.pc(), 0xb3c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3bf), 0x37);
        // 37 005D
        gbc.setState(0xcce3, 0x57ee, 0x1970, 0x5397, 0x8825, 0xec12, 0x0, 0x0);
        gbc.writeMem(0xcce3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x57ee);
        EXPECT(gbc.pc(), 0xcce4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcce3), 0x37);
        // 37 005E
        gbc.setState(0x77ae, 0xa6c7, 0xf520, 0x4115, 0x9ffd, 0x1227, 0x1, 0x1);
        gbc.writeMem(0x77ae, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xa6c7);
        EXPECT(gbc.pc(), 0x77af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 005F
        gbc.setState(0x9841, 0xc143, 0x71e0, 0x4b3d, 0x3896, 0xcea5, 0x1, 0x0);
        gbc.writeMem(0x9841, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xc143);
        EXPECT(gbc.pc(), 0x9842);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9841), 0x37);
        // 37 0060
        gbc.setState(0x266e, 0xb60c, 0x4820, 0x2bdf, 0xefdd, 0x56b5, 0x1, 0x1);
        gbc.writeMem(0x266e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xb60c);
        EXPECT(gbc.pc(), 0x266f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0061
        gbc.setState(0xd83b, 0x72aa, 0x94a0, 0x20e3, 0xca6d, 0xab91, 0x0, 0x0);
        gbc.writeMem(0xd83b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x72aa);
        EXPECT(gbc.pc(), 0xd83c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd83b), 0x37);
        // 37 0062
        gbc.setState(0x1120, 0x5845, 0xd080, 0x7587, 0x5540, 0x6638, 0x1, 0x1);
        gbc.writeMem(0x1120, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x5845);
        EXPECT(gbc.pc(), 0x1121);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0063
        gbc.setState(0xa51a, 0x350a, 0xbb00, 0xffd2, 0x5178, 0xd00c, 0x0, 0x0);
        gbc.writeMem(0xa51a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x350a);
        EXPECT(gbc.pc(), 0xa51b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa51a), 0x37);
        // 37 0064
        gbc.setState(0xc849, 0xc996, 0x65b0, 0x51da, 0x2667, 0xf03b, 0x1, 0x0);
        gbc.writeMem(0xc849, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc996);
        EXPECT(gbc.pc(), 0xc84a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc849), 0x37);
        // 37 0065
        gbc.setState(0xdb7e, 0x8b19, 0x5900, 0x74c5, 0xad6a, 0xa235, 0x1, 0x1);
        gbc.writeMem(0xdb7e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x8b19);
        EXPECT(gbc.pc(), 0xdb7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb7e), 0x37);
        // 37 0066
        gbc.setState(0x9c1f, 0x4c74, 0x1e20, 0x124f, 0x3f03, 0x6a85, 0x1, 0x1);
        gbc.writeMem(0x9c1f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x4c74);
        EXPECT(gbc.pc(), 0x9c20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c1f), 0x37);
        // 37 0067
        gbc.setState(0x99d, 0x2080, 0x1e0, 0xddd1, 0x9ecc, 0xe2a6, 0x1, 0x1);
        gbc.writeMem(0x99d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x2080);
        EXPECT(gbc.pc(), 0x99e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0068
        gbc.setState(0x8703, 0xb37c, 0x77e0, 0xefd, 0x61d4, 0x61b6, 0x0, 0x0);
        gbc.writeMem(0x8703, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xb37c);
        EXPECT(gbc.pc(), 0x8704);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8703), 0x37);
        // 37 0069
        gbc.setState(0xbfec, 0x1052, 0x3810, 0x4e14, 0x56e4, 0x20f4, 0x0, 0x0);
        gbc.writeMem(0xbfec, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x1052);
        EXPECT(gbc.pc(), 0xbfed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfec), 0x37);
        // 37 006A
        gbc.setState(0xedc7, 0x4dc1, 0x9f30, 0x9c77, 0x165b, 0xe6f9, 0x1, 0x1);
        gbc.writeMem(0xedc7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x4dc1);
        EXPECT(gbc.pc(), 0xedc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedc7), 0x37);
        // 37 006B
        gbc.setState(0x8984, 0x7672, 0x7b10, 0x6caf, 0x44ea, 0xa36b, 0x0, 0x0);
        gbc.writeMem(0x8984, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x7672);
        EXPECT(gbc.pc(), 0x8985);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8984), 0x37);
        // 37 006C
        gbc.setState(0x54d5, 0xd6dd, 0xf770, 0x4041, 0xa51e, 0xf959, 0x1, 0x1);
        gbc.writeMem(0x54d5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd6dd);
        EXPECT(gbc.pc(), 0x54d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 006D
        gbc.setState(0xb803, 0x1180, 0x6350, 0x1a90, 0x73af, 0x65dd, 0x0, 0x1);
        gbc.writeMem(0xb803, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x1180);
        EXPECT(gbc.pc(), 0xb804);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb803), 0x37);
        // 37 006E
        gbc.setState(0x9926, 0x956, 0xf930, 0x3261, 0xb802, 0x1a56, 0x1, 0x1);
        gbc.writeMem(0x9926, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x956);
        EXPECT(gbc.pc(), 0x9927);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9926), 0x37);
        // 37 006F
        gbc.setState(0x289c, 0xda63, 0x6ad0, 0xdd96, 0xa6ac, 0x5866, 0x1, 0x0);
        gbc.writeMem(0x289c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xda63);
        EXPECT(gbc.pc(), 0x289d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0070
        gbc.setState(0xd5e6, 0x7944, 0x6820, 0xb08d, 0xd686, 0x1b3e, 0x0, 0x1);
        gbc.writeMem(0xd5e6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x7944);
        EXPECT(gbc.pc(), 0xd5e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5e6), 0x37);
        // 37 0071
        gbc.setState(0x5a9d, 0x1ef4, 0x1e90, 0x9f5c, 0x97f1, 0x52a7, 0x0, 0x0);
        gbc.writeMem(0x5a9d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x1ef4);
        EXPECT(gbc.pc(), 0x5a9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0072
        gbc.setState(0x2c57, 0x4885, 0x2890, 0x2352, 0xde61, 0x9715, 0x1, 0x0);
        gbc.writeMem(0x2c57, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x4885);
        EXPECT(gbc.pc(), 0x2c58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0073
        gbc.setState(0x1247, 0x3d67, 0x2390, 0x6e3f, 0xf555, 0xc8ce, 0x0, 0x0);
        gbc.writeMem(0x1247, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x3d67);
        EXPECT(gbc.pc(), 0x1248);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0074
        gbc.setState(0x3516, 0xa5a0, 0x9ae0, 0x122f, 0xce07, 0x53df, 0x0, 0x1);
        gbc.writeMem(0x3516, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xa5a0);
        EXPECT(gbc.pc(), 0x3517);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0075
        gbc.setState(0x6e67, 0x2fa0, 0x1cb0, 0xeb1d, 0x56cc, 0xdeb, 0x0, 0x0);
        gbc.writeMem(0x6e67, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x2fa0);
        EXPECT(gbc.pc(), 0x6e68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0076
        gbc.setState(0x9c14, 0x849e, 0xa930, 0x690d, 0xa394, 0x2358, 0x1, 0x1);
        gbc.writeMem(0x9c14, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x849e);
        EXPECT(gbc.pc(), 0x9c15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c14), 0x37);
        // 37 0077
        gbc.setState(0x30b0, 0xe52c, 0x29f0, 0x9dba, 0x6b37, 0xc43, 0x1, 0x0);
        gbc.writeMem(0x30b0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe52c);
        EXPECT(gbc.pc(), 0x30b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0078
        gbc.setState(0xe139, 0xf5a2, 0x9700, 0x2df5, 0xdfc6, 0xf5ef, 0x0, 0x1);
        gbc.writeMem(0xe139, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xf5a2);
        EXPECT(gbc.pc(), 0xe13a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe139), 0x37);
        // 37 0079
        gbc.setState(0x93ab, 0x3925, 0xdcf0, 0x1b89, 0x6f02, 0x5d64, 0x1, 0x0);
        gbc.writeMem(0x93ab, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x3925);
        EXPECT(gbc.pc(), 0x93ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93ab), 0x37);
        // 37 007A
        gbc.setState(0x7be3, 0xf818, 0xad70, 0x2079, 0xe7ed, 0xf2ad, 0x1, 0x0);
        gbc.writeMem(0x7be3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xf818);
        EXPECT(gbc.pc(), 0x7be4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 007B
        gbc.setState(0xc78e, 0xc772, 0x3420, 0x5a0a, 0x9011, 0x8137, 0x1, 0x1);
        gbc.writeMem(0xc78e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xc772);
        EXPECT(gbc.pc(), 0xc78f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc78e), 0x37);
        // 37 007C
        gbc.setState(0x1033, 0x7ee4, 0xaec0, 0xef5, 0x88bf, 0x882f, 0x0, 0x1);
        gbc.writeMem(0x1033, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x7ee4);
        EXPECT(gbc.pc(), 0x1034);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 007D
        gbc.setState(0xd608, 0x8e4a, 0xa890, 0x2b7d, 0xf921, 0xbac2, 0x0, 0x1);
        gbc.writeMem(0xd608, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x8e4a);
        EXPECT(gbc.pc(), 0xd609);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd608), 0x37);
        // 37 007E
        gbc.setState(0x9fdc, 0x53a4, 0xc7e0, 0x9f82, 0x5de6, 0x927a, 0x1, 0x0);
        gbc.writeMem(0x9fdc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x53a4);
        EXPECT(gbc.pc(), 0x9fdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fdc), 0x37);
        // 37 007F
        gbc.setState(0x7b9a, 0xba2a, 0xc4c0, 0x15c7, 0xc380, 0x983f, 0x1, 0x1);
        gbc.writeMem(0x7b9a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xba2a);
        EXPECT(gbc.pc(), 0x7b9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0080
        gbc.setState(0xdafb, 0xaa0a, 0xcb10, 0x74ce, 0x2511, 0xdf1c, 0x0, 0x1);
        gbc.writeMem(0xdafb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xaa0a);
        EXPECT(gbc.pc(), 0xdafc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdafb), 0x37);
        // 37 0081
        gbc.setState(0x7f58, 0xab06, 0xc830, 0xc8f1, 0xdea, 0x91b2, 0x0, 0x1);
        gbc.writeMem(0x7f58, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xab06);
        EXPECT(gbc.pc(), 0x7f59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0082
        gbc.setState(0xa90b, 0xd99, 0x92b0, 0x7154, 0xb26e, 0xd31a, 0x1, 0x1);
        gbc.writeMem(0xa90b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xd99);
        EXPECT(gbc.pc(), 0xa90c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa90b), 0x37);
        // 37 0083
        gbc.setState(0x648b, 0x31d0, 0x5a80, 0xd0d7, 0x5838, 0x69d, 0x1, 0x1);
        gbc.writeMem(0x648b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x31d0);
        EXPECT(gbc.pc(), 0x648c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0084
        gbc.setState(0xe4d4, 0x865d, 0xb170, 0x2b3f, 0x13be, 0xfaed, 0x1, 0x0);
        gbc.writeMem(0xe4d4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x865d);
        EXPECT(gbc.pc(), 0xe4d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4d4), 0x37);
        // 37 0085
        gbc.setState(0x8bb7, 0x6a15, 0xd9f0, 0x3e29, 0x812e, 0x1d67, 0x1, 0x0);
        gbc.writeMem(0x8bb7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x6a15);
        EXPECT(gbc.pc(), 0x8bb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bb7), 0x37);
        // 37 0086
        gbc.setState(0xaec5, 0x7e4b, 0x5240, 0xd39b, 0x4d1, 0xaeba, 0x1, 0x1);
        gbc.writeMem(0xaec5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x7e4b);
        EXPECT(gbc.pc(), 0xaec6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaec5), 0x37);
        // 37 0087
        gbc.setState(0xed1e, 0xb021, 0x4fc0, 0x58e4, 0xbb, 0x48a6, 0x1, 0x0);
        gbc.writeMem(0xed1e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xb021);
        EXPECT(gbc.pc(), 0xed1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed1e), 0x37);
        // 37 0088
        gbc.setState(0x1abb, 0x68bf, 0x6400, 0x4da, 0x8d17, 0xc598, 0x0, 0x0);
        gbc.writeMem(0x1abb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x68bf);
        EXPECT(gbc.pc(), 0x1abc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0089
        gbc.setState(0xd303, 0xe3b1, 0x6be0, 0xcb11, 0x9042, 0x3dcc, 0x1, 0x0);
        gbc.writeMem(0xd303, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xe3b1);
        EXPECT(gbc.pc(), 0xd304);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd303), 0x37);
        // 37 008A
        gbc.setState(0x675f, 0x5551, 0x6380, 0x943f, 0x1210, 0xe850, 0x1, 0x0);
        gbc.writeMem(0x675f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x5551);
        EXPECT(gbc.pc(), 0x6760);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 008B
        gbc.setState(0x1d2d, 0x8fbf, 0x6c50, 0x8de, 0x8a32, 0xf0ed, 0x1, 0x0);
        gbc.writeMem(0x1d2d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x8fbf);
        EXPECT(gbc.pc(), 0x1d2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 008D
        gbc.setState(0x6d83, 0x186f, 0x3030, 0xab57, 0x4366, 0x4287, 0x0, 0x1);
        gbc.writeMem(0x6d83, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x186f);
        EXPECT(gbc.pc(), 0x6d84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 008E
        gbc.setState(0xef21, 0x9b98, 0xc800, 0xaf8d, 0xdb10, 0x4647, 0x1, 0x1);
        gbc.writeMem(0xef21, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x9b98);
        EXPECT(gbc.pc(), 0xef22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef21), 0x37);
        // 37 008F
        gbc.setState(0x5d8d, 0xa717, 0xd320, 0xedb9, 0x9063, 0x8aa1, 0x0, 0x0);
        gbc.writeMem(0x5d8d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xa717);
        EXPECT(gbc.pc(), 0x5d8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0090
        gbc.setState(0xb281, 0xcad6, 0x6f10, 0x470, 0xcaa4, 0xbc3c, 0x1, 0x1);
        gbc.writeMem(0xb281, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xcad6);
        EXPECT(gbc.pc(), 0xb282);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb281), 0x37);
        // 37 0091
        gbc.setState(0xd326, 0xdc0a, 0xdaf0, 0x3411, 0x9f41, 0x5aab, 0x1, 0x1);
        gbc.writeMem(0xd326, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xdc0a);
        EXPECT(gbc.pc(), 0xd327);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd326), 0x37);
        // 37 0092
        gbc.setState(0xc704, 0xc693, 0x510, 0xefb6, 0x8b7a, 0xabe9, 0x0, 0x1);
        gbc.writeMem(0xc704, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xc693);
        EXPECT(gbc.pc(), 0xc705);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc704), 0x37);
        // 37 0093
        gbc.setState(0xe383, 0x2bb8, 0x78c0, 0xb55f, 0xa403, 0xcee7, 0x1, 0x0);
        gbc.writeMem(0xe383, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x2bb8);
        EXPECT(gbc.pc(), 0xe384);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe383), 0x37);
        // 37 0094
        gbc.setState(0x4c54, 0xb8d5, 0x7040, 0x2bad, 0x24a2, 0xcc09, 0x0, 0x0);
        gbc.writeMem(0x4c54, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xb8d5);
        EXPECT(gbc.pc(), 0x4c55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0095
        gbc.setState(0x154f, 0x251c, 0x5390, 0x31a3, 0x653b, 0xc17b, 0x1, 0x0);
        gbc.writeMem(0x154f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x251c);
        EXPECT(gbc.pc(), 0x1550);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0096
        gbc.setState(0x4a21, 0x8ebb, 0x98d0, 0x1cc4, 0xd42d, 0x7fa7, 0x1, 0x1);
        gbc.writeMem(0x4a21, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x8ebb);
        EXPECT(gbc.pc(), 0x4a22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0098
        gbc.setState(0xb58a, 0xc9b8, 0x870, 0xc988, 0x2918, 0xef6f, 0x1, 0x1);
        gbc.writeMem(0xb58a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xc9b8);
        EXPECT(gbc.pc(), 0xb58b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb58a), 0x37);
        // 37 0099
        gbc.setState(0x7233, 0x6d15, 0xd270, 0xc47c, 0xb4c6, 0x3a55, 0x0, 0x0);
        gbc.writeMem(0x7233, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x6d15);
        EXPECT(gbc.pc(), 0x7234);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 009A
        gbc.setState(0xedcf, 0x9249, 0x4040, 0x48de, 0xf6d1, 0xad38, 0x1, 0x1);
        gbc.writeMem(0xedcf, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x9249);
        EXPECT(gbc.pc(), 0xedd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedcf), 0x37);
        // 37 009B
        gbc.setState(0xed22, 0x19f3, 0x4a40, 0x97c9, 0x6931, 0xed63, 0x1, 0x1);
        gbc.writeMem(0xed22, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x19f3);
        EXPECT(gbc.pc(), 0xed23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed22), 0x37);
        // 37 009D
        gbc.setState(0x1317, 0xb8e3, 0x5e90, 0xf2b0, 0xb47c, 0xb7e4, 0x1, 0x0);
        gbc.writeMem(0x1317, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xb8e3);
        EXPECT(gbc.pc(), 0x1318);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 009E
        gbc.setState(0x4005, 0xe7cc, 0xaab0, 0x4027, 0xb697, 0xa2b2, 0x0, 0x0);
        gbc.writeMem(0x4005, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xe7cc);
        EXPECT(gbc.pc(), 0x4006);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 009F
        gbc.setState(0xbdd6, 0x2815, 0x9e90, 0x58c1, 0xe84d, 0xf4dc, 0x0, 0x0);
        gbc.writeMem(0xbdd6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x2815);
        EXPECT(gbc.pc(), 0xbdd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdd6), 0x37);
        // 37 00A0
        gbc.setState(0xcd16, 0xe582, 0x9490, 0xa0ba, 0x7a54, 0xcb7e, 0x0, 0x1);
        gbc.writeMem(0xcd16, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xe582);
        EXPECT(gbc.pc(), 0xcd17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd16), 0x37);
        // 37 00A1
        gbc.setState(0xed3d, 0x56fa, 0x37e0, 0x3cd, 0xc374, 0x9c1e, 0x0, 0x1);
        gbc.writeMem(0xed3d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x56fa);
        EXPECT(gbc.pc(), 0xed3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed3d), 0x37);
        // 37 00A2
        gbc.setState(0xcc55, 0xd512, 0xc6f0, 0xe7f, 0xad19, 0x1327, 0x1, 0x0);
        gbc.writeMem(0xcc55, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xd512);
        EXPECT(gbc.pc(), 0xcc56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc55), 0x37);
        // 37 00A3
        gbc.setState(0x57e4, 0x7214, 0x360, 0x1bab, 0x84fa, 0xcf84, 0x0, 0x1);
        gbc.writeMem(0x57e4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x7214);
        EXPECT(gbc.pc(), 0x57e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00A4
        gbc.setState(0xe2d2, 0x10fa, 0xd0, 0xf957, 0xe81d, 0xb471, 0x0, 0x0);
        gbc.writeMem(0xe2d2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x10fa);
        EXPECT(gbc.pc(), 0xe2d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2d2), 0x37);
        // 37 00A5
        gbc.setState(0xdb2e, 0x3682, 0xf780, 0x77a6, 0xbf40, 0x93e6, 0x1, 0x0);
        gbc.writeMem(0xdb2e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x3682);
        EXPECT(gbc.pc(), 0xdb2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb2e), 0x37);
        // 37 00A6
        gbc.setState(0xef31, 0x115c, 0xcce0, 0x9098, 0xf78c, 0xb470, 0x0, 0x1);
        gbc.writeMem(0xef31, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x115c);
        EXPECT(gbc.pc(), 0xef32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef31), 0x37);
        // 37 00A8
        gbc.setState(0xdaa, 0x1118, 0x5760, 0x55ae, 0xf1b4, 0x8947, 0x1, 0x0);
        gbc.writeMem(0xdaa, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x1118);
        EXPECT(gbc.pc(), 0xdab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00A9
        gbc.setState(0xb61f, 0x13f9, 0x5c30, 0x46f5, 0xe935, 0x6414, 0x1, 0x1);
        gbc.writeMem(0xb61f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x13f9);
        EXPECT(gbc.pc(), 0xb620);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb61f), 0x37);
        // 37 00AA
        gbc.setState(0x5c48, 0x3a1a, 0x1640, 0x208d, 0xa450, 0x529, 0x1, 0x1);
        gbc.writeMem(0x5c48, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x3a1a);
        EXPECT(gbc.pc(), 0x5c49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00AB
        gbc.setState(0x6c6, 0x11d4, 0x8dc0, 0xcc28, 0x7f8c, 0x15f7, 0x1, 0x0);
        gbc.writeMem(0x6c6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x11d4);
        EXPECT(gbc.pc(), 0x6c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00AC
        gbc.setState(0x270c, 0x4ed8, 0xbd10, 0xf15a, 0xe05f, 0xd08d, 0x0, 0x1);
        gbc.writeMem(0x270c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x4ed8);
        EXPECT(gbc.pc(), 0x270d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00AE
        gbc.setState(0x9d05, 0xa9a7, 0x1f0, 0xd226, 0xa688, 0xd0b6, 0x1, 0x1);
        gbc.writeMem(0x9d05, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xa9a7);
        EXPECT(gbc.pc(), 0x9d06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d05), 0x37);
        // 37 00AF
        gbc.setState(0xdeaf, 0xb0e5, 0xcc40, 0x5c6d, 0x7a0d, 0xbf18, 0x1, 0x1);
        gbc.writeMem(0xdeaf, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xb0e5);
        EXPECT(gbc.pc(), 0xdeb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdeaf), 0x37);
        // 37 00B0
        gbc.setState(0xef62, 0x37c2, 0x81c0, 0xf502, 0x3e6d, 0x2967, 0x1, 0x0);
        gbc.writeMem(0xef62, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x37c2);
        EXPECT(gbc.pc(), 0xef63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef62), 0x37);
        // 37 00B1
        gbc.setState(0x882c, 0xc07b, 0x5400, 0xec16, 0x7b39, 0x2e88, 0x0, 0x0);
        gbc.writeMem(0x882c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xc07b);
        EXPECT(gbc.pc(), 0x882d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x882c), 0x37);
        // 37 00B3
        gbc.setState(0x7214, 0x2bb5, 0xd2a0, 0x53a5, 0x3b82, 0x3df3, 0x0, 0x0);
        gbc.writeMem(0x7214, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x2bb5);
        EXPECT(gbc.pc(), 0x7215);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00B4
        gbc.setState(0xcee, 0x929e, 0x2fb0, 0x6067, 0x371, 0xc318, 0x0, 0x0);
        gbc.writeMem(0xcee, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x929e);
        EXPECT(gbc.pc(), 0xcef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00B5
        gbc.setState(0x8abe, 0x34b4, 0xed10, 0x6ed4, 0x175d, 0x3087, 0x1, 0x1);
        gbc.writeMem(0x8abe, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x34b4);
        EXPECT(gbc.pc(), 0x8abf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8abe), 0x37);
        // 37 00B7
        gbc.setState(0x3ac6, 0x3e54, 0x4d30, 0xad78, 0x107a, 0xcbdc, 0x1, 0x1);
        gbc.writeMem(0x3ac6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x3e54);
        EXPECT(gbc.pc(), 0x3ac7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00B8
        gbc.setState(0xc625, 0x5499, 0x5300, 0xf1c5, 0x8ea4, 0x31f7, 0x1, 0x0);
        gbc.writeMem(0xc625, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x5499);
        EXPECT(gbc.pc(), 0xc626);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc625), 0x37);
        // 37 00B9
        gbc.setState(0xda17, 0x84f8, 0x8280, 0xa742, 0xee22, 0x1906, 0x1, 0x1);
        gbc.writeMem(0xda17, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x84f8);
        EXPECT(gbc.pc(), 0xda18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda17), 0x37);
        // 37 00BA
        gbc.setState(0x1579, 0x9457, 0xdef0, 0x9e27, 0xad83, 0x536b, 0x1, 0x1);
        gbc.writeMem(0x1579, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x9457);
        EXPECT(gbc.pc(), 0x157a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00BB
        gbc.setState(0x2f00, 0xb4a2, 0x26f0, 0x187f, 0xc1e0, 0x42a6, 0x1, 0x0);
        gbc.writeMem(0x2f00, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xb4a2);
        EXPECT(gbc.pc(), 0x2f01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00BD
        gbc.setState(0x5d8f, 0x2db6, 0x9a40, 0x2bec, 0x2ae8, 0x5add, 0x1, 0x0);
        gbc.writeMem(0x5d8f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x2db6);
        EXPECT(gbc.pc(), 0x5d90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00BE
        gbc.setState(0x6fd2, 0xe735, 0x9280, 0xf0f0, 0x6061, 0x28d8, 0x0, 0x0);
        gbc.writeMem(0x6fd2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xe735);
        EXPECT(gbc.pc(), 0x6fd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00BF
        gbc.setState(0xbbc, 0xaf8b, 0x9720, 0x829e, 0x7c33, 0xff94, 0x0, 0x1);
        gbc.writeMem(0xbbc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xaf8b);
        EXPECT(gbc.pc(), 0xbbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00C1
        gbc.setState(0x6ed2, 0x28f3, 0x1400, 0x180f, 0x6e4e, 0xc476, 0x1, 0x0);
        gbc.writeMem(0x6ed2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x28f3);
        EXPECT(gbc.pc(), 0x6ed3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00C2
        gbc.setState(0x7039, 0x2b65, 0x9e0, 0x12ac, 0xf65f, 0x8c0a, 0x0, 0x1);
        gbc.writeMem(0x7039, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x2b65);
        EXPECT(gbc.pc(), 0x703a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00C3
        gbc.setState(0x663f, 0x323d, 0xb520, 0xa645, 0xaa3d, 0x5be1, 0x1, 0x1);
        gbc.writeMem(0x663f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x323d);
        EXPECT(gbc.pc(), 0x6640);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00C4
        gbc.setState(0xb6d4, 0x889f, 0x9a0, 0x12ad, 0xac0, 0xf9d0, 0x0, 0x0);
        gbc.writeMem(0xb6d4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x889f);
        EXPECT(gbc.pc(), 0xb6d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6d4), 0x37);
        // 37 00C6
        gbc.setState(0x693c, 0x15d1, 0x99c0, 0x76ec, 0x4d31, 0x9368, 0x0, 0x1);
        gbc.writeMem(0x693c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x15d1);
        EXPECT(gbc.pc(), 0x693d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00C7
        gbc.setState(0x95d6, 0x278, 0x8fb0, 0xfc65, 0x5214, 0xf6d5, 0x0, 0x1);
        gbc.writeMem(0x95d6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x278);
        EXPECT(gbc.pc(), 0x95d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95d6), 0x37);
        // 37 00C8
        gbc.setState(0x2e74, 0x9b26, 0xba00, 0x20fa, 0x5272, 0xa590, 0x0, 0x1);
        gbc.writeMem(0x2e74, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x9b26);
        EXPECT(gbc.pc(), 0x2e75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00C9
        gbc.setState(0x766, 0x4e37, 0x71a0, 0x6caa, 0x13d7, 0x67cf, 0x0, 0x1);
        gbc.writeMem(0x766, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x4e37);
        EXPECT(gbc.pc(), 0x767);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00CA
        gbc.setState(0xebe9, 0x49e1, 0x9a0, 0xc004, 0x1732, 0xd022, 0x1, 0x0);
        gbc.writeMem(0xebe9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x49e1);
        EXPECT(gbc.pc(), 0xebea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebe9), 0x37);
        // 37 00CB
        gbc.setState(0x89cb, 0x7f3c, 0x6840, 0x64ec, 0x9c5a, 0x1e13, 0x0, 0x0);
        gbc.writeMem(0x89cb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x7f3c);
        EXPECT(gbc.pc(), 0x89cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89cb), 0x37);
        // 37 00CC
        gbc.setState(0x2df9, 0xf134, 0x16e0, 0xfd90, 0x903f, 0x3439, 0x1, 0x0);
        gbc.writeMem(0x2df9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xf134);
        EXPECT(gbc.pc(), 0x2dfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00CD
        gbc.setState(0x86ec, 0x3e56, 0x7bb0, 0xdd58, 0x3c34, 0xea23, 0x0, 0x1);
        gbc.writeMem(0x86ec, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x3e56);
        EXPECT(gbc.pc(), 0x86ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86ec), 0x37);
        // 37 00CE
        gbc.setState(0x8fdf, 0xf20f, 0xc880, 0x5bc3, 0x84d2, 0xc577, 0x0, 0x1);
        gbc.writeMem(0x8fdf, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xf20f);
        EXPECT(gbc.pc(), 0x8fe0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fdf), 0x37);
        // 37 00CF
        gbc.setState(0xe8a0, 0x8095, 0xfd10, 0x877e, 0x70ce, 0x9905, 0x0, 0x0);
        gbc.writeMem(0xe8a0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x8095);
        EXPECT(gbc.pc(), 0xe8a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8a0), 0x37);
        // 37 00D0
        gbc.setState(0x1bf4, 0x3e96, 0x3980, 0x7bf0, 0xa680, 0xf9a2, 0x0, 0x1);
        gbc.writeMem(0x1bf4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x3e96);
        EXPECT(gbc.pc(), 0x1bf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00D1
        gbc.setState(0x336c, 0xd917, 0x8380, 0x2e1f, 0xfa54, 0x2694, 0x0, 0x0);
        gbc.writeMem(0x336c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xd917);
        EXPECT(gbc.pc(), 0x336d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00D2
        gbc.setState(0xb05e, 0x92e1, 0xf8c0, 0x92c, 0xa3d6, 0x1132, 0x1, 0x1);
        gbc.writeMem(0xb05e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x92e1);
        EXPECT(gbc.pc(), 0xb05f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb05e), 0x37);
        // 37 00D3
        gbc.setState(0xdbd8, 0xd284, 0xe1c0, 0xd9e4, 0x9d1b, 0x669c, 0x1, 0x0);
        gbc.writeMem(0xdbd8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xd284);
        EXPECT(gbc.pc(), 0xdbd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbd8), 0x37);
        // 37 00D4
        gbc.setState(0x823f, 0xeeeb, 0xc5a0, 0x29bc, 0xfc90, 0x2691, 0x0, 0x0);
        gbc.writeMem(0x823f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xeeeb);
        EXPECT(gbc.pc(), 0x8240);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x823f), 0x37);
        // 37 00D5
        gbc.setState(0xb0e5, 0x8950, 0x9b90, 0xc3d3, 0xbe87, 0xed2, 0x0, 0x1);
        gbc.writeMem(0xb0e5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x8950);
        EXPECT(gbc.pc(), 0xb0e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0e5), 0x37);
        // 37 00D6
        gbc.setState(0x67f0, 0x8272, 0xd3e0, 0x8d11, 0xfea2, 0x9769, 0x1, 0x0);
        gbc.writeMem(0x67f0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x8272);
        EXPECT(gbc.pc(), 0x67f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00D8
        gbc.setState(0xef26, 0x3e49, 0x25c0, 0xf850, 0x69a5, 0xd90d, 0x0, 0x0);
        gbc.writeMem(0xef26, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x3e49);
        EXPECT(gbc.pc(), 0xef27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef26), 0x37);
        // 37 00D9
        gbc.setState(0x24aa, 0x5c86, 0x8180, 0x8482, 0x9a01, 0x6499, 0x0, 0x1);
        gbc.writeMem(0x24aa, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x5c86);
        EXPECT(gbc.pc(), 0x24ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00DA
        gbc.setState(0xd7c9, 0xf437, 0xafb0, 0x38b7, 0x5e8b, 0x4b21, 0x1, 0x1);
        gbc.writeMem(0xd7c9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xf437);
        EXPECT(gbc.pc(), 0xd7ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7c9), 0x37);
        // 37 00DB
        gbc.setState(0x4800, 0xd4bd, 0xc020, 0xbbf1, 0x3c9e, 0xe4f2, 0x1, 0x1);
        gbc.writeMem(0x4800, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xd4bd);
        EXPECT(gbc.pc(), 0x4801);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00DC
        gbc.setState(0xc641, 0x6327, 0xd850, 0x8235, 0x76f7, 0x35a3, 0x0, 0x0);
        gbc.writeMem(0xc641, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x6327);
        EXPECT(gbc.pc(), 0xc642);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc641), 0x37);
        // 37 00DD
        gbc.setState(0x94ea, 0xcc0, 0xaf90, 0x76, 0x5af2, 0x17cd, 0x0, 0x1);
        gbc.writeMem(0x94ea, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xcc0);
        EXPECT(gbc.pc(), 0x94eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94ea), 0x37);
        // 37 00DE
        gbc.setState(0x95af, 0x4726, 0xf320, 0x874f, 0x6631, 0xd2f8, 0x1, 0x1);
        gbc.writeMem(0x95af, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x4726);
        EXPECT(gbc.pc(), 0x95b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95af), 0x37);
        // 37 00DF
        gbc.setState(0x669b, 0x471a, 0x6050, 0xed22, 0x410a, 0x25bb, 0x0, 0x1);
        gbc.writeMem(0x669b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x471a);
        EXPECT(gbc.pc(), 0x669c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00E1
        gbc.setState(0x5ca8, 0x1a08, 0x4380, 0x5a0b, 0x884f, 0x9216, 0x1, 0x1);
        gbc.writeMem(0x5ca8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x1a08);
        EXPECT(gbc.pc(), 0x5ca9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00E2
        gbc.setState(0x9fbb, 0x2f10, 0x6e40, 0x5ac8, 0xa896, 0x5b79, 0x0, 0x0);
        gbc.writeMem(0x9fbb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x2f10);
        EXPECT(gbc.pc(), 0x9fbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fbb), 0x37);
        // 37 00E3
        gbc.setState(0x74f6, 0xfd34, 0x7480, 0x904d, 0xb09a, 0xd905, 0x1, 0x0);
        gbc.writeMem(0x74f6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xfd34);
        EXPECT(gbc.pc(), 0x74f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00E4
        gbc.setState(0x53bd, 0x3c04, 0xd520, 0x15f6, 0x24e3, 0xbaf, 0x0, 0x0);
        gbc.writeMem(0x53bd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x3c04);
        EXPECT(gbc.pc(), 0x53be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00E5
        gbc.setState(0x8547, 0xb243, 0x4a00, 0x4ad6, 0xbd39, 0x23bc, 0x1, 0x1);
        gbc.writeMem(0x8547, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb243);
        EXPECT(gbc.pc(), 0x8548);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8547), 0x37);
        // 37 00E6
        gbc.setState(0x4547, 0x52cb, 0xa440, 0xff57, 0x9f0b, 0xce65, 0x0, 0x0);
        gbc.writeMem(0x4547, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x52cb);
        EXPECT(gbc.pc(), 0x4548);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00E7
        gbc.setState(0x6cb9, 0xed72, 0xdc0, 0x6541, 0xeff, 0x7111, 0x0, 0x1);
        gbc.writeMem(0x6cb9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xed72);
        EXPECT(gbc.pc(), 0x6cba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00E8
        gbc.setState(0xdce1, 0x12ab, 0x30a0, 0xbbe3, 0xec2f, 0x9e3f, 0x1, 0x1);
        gbc.writeMem(0xdce1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x12ab);
        EXPECT(gbc.pc(), 0xdce2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdce1), 0x37);
        // 37 00E9
        gbc.setState(0x9297, 0xa97d, 0xbb20, 0x947c, 0x4f37, 0xb56f, 0x0, 0x0);
        gbc.writeMem(0x9297, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa97d);
        EXPECT(gbc.pc(), 0x9298);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9297), 0x37);
        // 37 00EB
        gbc.setState(0x13d0, 0x1284, 0xb3e0, 0x3419, 0x1a53, 0xa2d8, 0x0, 0x0);
        gbc.writeMem(0x13d0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x1284);
        EXPECT(gbc.pc(), 0x13d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00EC
        gbc.setState(0x150f, 0x6414, 0x6940, 0x64f2, 0xcb6e, 0xbcb4, 0x0, 0x0);
        gbc.writeMem(0x150f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x6414);
        EXPECT(gbc.pc(), 0x1510);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00ED
        gbc.setState(0xc6d8, 0x6ef9, 0xcb30, 0x4fb4, 0x22f8, 0x5dd8, 0x1, 0x1);
        gbc.writeMem(0xc6d8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x6ef9);
        EXPECT(gbc.pc(), 0xc6d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6d8), 0x37);
        // 37 00EE
        gbc.setState(0xe50d, 0xb05f, 0xa60, 0x67d6, 0x828a, 0xff57, 0x0, 0x0);
        gbc.writeMem(0xe50d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xb05f);
        EXPECT(gbc.pc(), 0xe50e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe50d), 0x37);
        // 37 00EF
        gbc.setState(0x56cc, 0xebb6, 0x9a30, 0xefc7, 0xfe41, 0xdca2, 0x0, 0x1);
        gbc.writeMem(0x56cc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xebb6);
        EXPECT(gbc.pc(), 0x56cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00F0
        gbc.setState(0x890c, 0x9abb, 0x8fc0, 0xb160, 0x3f7b, 0x4dba, 0x0, 0x0);
        gbc.writeMem(0x890c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x9abb);
        EXPECT(gbc.pc(), 0x890d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x890c), 0x37);
        // 37 00F1
        gbc.setState(0xce07, 0x93fb, 0xa450, 0xd32d, 0x21e9, 0xf35b, 0x0, 0x0);
        gbc.writeMem(0xce07, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x93fb);
        EXPECT(gbc.pc(), 0xce08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce07), 0x37);
        // 37 00F2
        gbc.setState(0x4ff5, 0x40cb, 0x9090, 0x32e6, 0x9f0e, 0x1ad7, 0x0, 0x1);
        gbc.writeMem(0x4ff5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x40cb);
        EXPECT(gbc.pc(), 0x4ff6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00F3
        gbc.setState(0x77b4, 0x9b96, 0x370, 0xdc42, 0xead8, 0x74b, 0x1, 0x1);
        gbc.writeMem(0x77b4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x9b96);
        EXPECT(gbc.pc(), 0x77b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00F4
        gbc.setState(0xee24, 0x447d, 0x7870, 0x25cc, 0x287, 0x9753, 0x1, 0x0);
        gbc.writeMem(0xee24, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x447d);
        EXPECT(gbc.pc(), 0xee25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee24), 0x37);
        // 37 00F5
        gbc.setState(0xaf40, 0xad1c, 0xc650, 0xb26b, 0xd175, 0x9a3, 0x1, 0x1);
        gbc.writeMem(0xaf40, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xad1c);
        EXPECT(gbc.pc(), 0xaf41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf40), 0x37);
        // 37 00F6
        gbc.setState(0x1854, 0xbc6c, 0xb410, 0xfa1b, 0x46eb, 0x702f, 0x1, 0x0);
        gbc.writeMem(0x1854, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xbc6c);
        EXPECT(gbc.pc(), 0x1855);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00F7
        gbc.setState(0x1ec9, 0xf60c, 0x7dc0, 0xad13, 0x9cf3, 0x2a7c, 0x0, 0x1);
        gbc.writeMem(0x1ec9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xf60c);
        EXPECT(gbc.pc(), 0x1eca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00F8
        gbc.setState(0x4aa7, 0xda58, 0x1230, 0xd4cb, 0x5154, 0x1458, 0x1, 0x0);
        gbc.writeMem(0x4aa7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xda58);
        EXPECT(gbc.pc(), 0x4aa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00F9
        gbc.setState(0xeda6, 0x862a, 0xb990, 0x21f9, 0x67ec, 0xd0ef, 0x0, 0x0);
        gbc.writeMem(0xeda6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x862a);
        EXPECT(gbc.pc(), 0xeda7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeda6), 0x37);
        // 37 00FA
        gbc.setState(0x78c9, 0x2fee, 0xdab0, 0x54f1, 0xe791, 0x887d, 0x1, 0x0);
        gbc.writeMem(0x78c9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x2fee);
        EXPECT(gbc.pc(), 0x78ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00FB
        gbc.setState(0x2e80, 0x46d2, 0xacb0, 0xfd4b, 0x7b21, 0x721, 0x0, 0x0);
        gbc.writeMem(0x2e80, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x46d2);
        EXPECT(gbc.pc(), 0x2e81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00FC
        gbc.setState(0x9ef2, 0x2b46, 0x2d0, 0xa872, 0xddf4, 0xf652, 0x0, 0x1);
        gbc.writeMem(0x9ef2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x2b46);
        EXPECT(gbc.pc(), 0x9ef3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ef2), 0x37);
        // 37 00FD
        gbc.setState(0x4f2, 0xb06, 0x85a0, 0x520f, 0xebee, 0x4a86, 0x1, 0x1);
        gbc.writeMem(0x4f2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xb06);
        EXPECT(gbc.pc(), 0x4f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 00FE
        gbc.setState(0x8141, 0x3775, 0x6280, 0xce5e, 0xae22, 0xeb27, 0x0, 0x0);
        gbc.writeMem(0x8141, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x3775);
        EXPECT(gbc.pc(), 0x8142);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8141), 0x37);
        // 37 00FF
        gbc.setState(0xccd0, 0x7b5, 0xe620, 0x13df, 0x4670, 0x4684, 0x0, 0x1);
        gbc.writeMem(0xccd0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x7b5);
        EXPECT(gbc.pc(), 0xccd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccd0), 0x37);
        // 37 0100
        gbc.setState(0x9c0a, 0xfc53, 0xeb00, 0x31f9, 0xd3f7, 0xbb11, 0x1, 0x0);
        gbc.writeMem(0x9c0a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xfc53);
        EXPECT(gbc.pc(), 0x9c0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c0a), 0x37);
        // 37 0101
        gbc.setState(0xe718, 0x9ef4, 0x80a0, 0x48d, 0x6498, 0x209f, 0x1, 0x1);
        gbc.writeMem(0xe718, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x9ef4);
        EXPECT(gbc.pc(), 0xe719);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe718), 0x37);
        // 37 0102
        gbc.setState(0x23b4, 0x2e40, 0xbc80, 0x4baa, 0xcf05, 0x4720, 0x1, 0x0);
        gbc.writeMem(0x23b4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x2e40);
        EXPECT(gbc.pc(), 0x23b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0103
        gbc.setState(0x744d, 0xbd46, 0x2960, 0xe5b7, 0x4a8c, 0xd2d8, 0x1, 0x0);
        gbc.writeMem(0x744d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xbd46);
        EXPECT(gbc.pc(), 0x744e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0104
        gbc.setState(0xe8fb, 0x73a8, 0x3860, 0x1019, 0xecbc, 0x46a4, 0x0, 0x0);
        gbc.writeMem(0xe8fb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x73a8);
        EXPECT(gbc.pc(), 0xe8fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8fb), 0x37);
        // 37 0105
        gbc.setState(0xae10, 0xcd29, 0xa1c0, 0x94c1, 0xcc1, 0xdfd3, 0x0, 0x1);
        gbc.writeMem(0xae10, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xcd29);
        EXPECT(gbc.pc(), 0xae11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae10), 0x37);
        // 37 0106
        gbc.setState(0x47d0, 0x7d6, 0xfa60, 0x4185, 0x9b26, 0xce11, 0x0, 0x0);
        gbc.writeMem(0x47d0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7d6);
        EXPECT(gbc.pc(), 0x47d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0107
        gbc.setState(0xe65e, 0x3364, 0x34d0, 0xd1b4, 0x9f55, 0xb100, 0x1, 0x1);
        gbc.writeMem(0xe65e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x3364);
        EXPECT(gbc.pc(), 0xe65f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe65e), 0x37);
        // 37 0108
        gbc.setState(0xc55c, 0x528b, 0x2530, 0xda18, 0x9d5a, 0x77c7, 0x1, 0x1);
        gbc.writeMem(0xc55c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x528b);
        EXPECT(gbc.pc(), 0xc55d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc55c), 0x37);
        // 37 0109
        gbc.setState(0x2f0d, 0x220b, 0x2a40, 0xcda5, 0x7823, 0xfa24, 0x0, 0x1);
        gbc.writeMem(0x2f0d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x220b);
        EXPECT(gbc.pc(), 0x2f0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 010A
        gbc.setState(0x1d97, 0xc63c, 0xac60, 0x1792, 0xef3e, 0x7fb3, 0x1, 0x0);
        gbc.writeMem(0x1d97, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc63c);
        EXPECT(gbc.pc(), 0x1d98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 010C
        gbc.setState(0xca0a, 0x9233, 0x3620, 0x26cb, 0x2955, 0x734d, 0x0, 0x0);
        gbc.writeMem(0xca0a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x9233);
        EXPECT(gbc.pc(), 0xca0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca0a), 0x37);
        // 37 010D
        gbc.setState(0x852e, 0x5b9f, 0xe5c0, 0x83c0, 0xd75b, 0x26e6, 0x0, 0x1);
        gbc.writeMem(0x852e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x5b9f);
        EXPECT(gbc.pc(), 0x852f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x852e), 0x37);
        // 37 010E
        gbc.setState(0x3dc5, 0x42c, 0xea30, 0x68d0, 0xeb2b, 0xa16b, 0x0, 0x0);
        gbc.writeMem(0x3dc5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x42c);
        EXPECT(gbc.pc(), 0x3dc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0110
        gbc.setState(0xd436, 0x9b25, 0x45b0, 0x85eb, 0x2412, 0x9d7d, 0x0, 0x1);
        gbc.writeMem(0xd436, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x9b25);
        EXPECT(gbc.pc(), 0xd437);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd436), 0x37);
        // 37 0111
        gbc.setState(0xa99, 0x12a2, 0x27f0, 0x9ed6, 0xefa4, 0x632d, 0x1, 0x1);
        gbc.writeMem(0xa99, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x12a2);
        EXPECT(gbc.pc(), 0xa9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0112
        gbc.setState(0x4a02, 0x6227, 0x18a0, 0xf66f, 0x6ccb, 0xdac2, 0x1, 0x1);
        gbc.writeMem(0x4a02, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x6227);
        EXPECT(gbc.pc(), 0x4a03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0113
        gbc.setState(0x91, 0xbfb7, 0xe790, 0xa908, 0x4f5d, 0xd240, 0x0, 0x1);
        gbc.writeMem(0x91, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xbfb7);
        EXPECT(gbc.pc(), 0x92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0115
        gbc.setState(0xdca0, 0x1933, 0x6c30, 0x7afb, 0x3ee6, 0x5db7, 0x1, 0x1);
        gbc.writeMem(0xdca0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x1933);
        EXPECT(gbc.pc(), 0xdca1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdca0), 0x37);
        // 37 0116
        gbc.setState(0xb613, 0x4cfc, 0x9180, 0x8b9f, 0xe32a, 0xe941, 0x0, 0x1);
        gbc.writeMem(0xb613, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x4cfc);
        EXPECT(gbc.pc(), 0xb614);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb613), 0x37);
        // 37 0117
        gbc.setState(0x2, 0xc7c0, 0x92c0, 0x7c5c, 0x3c9c, 0x57ee, 0x0, 0x0);
        gbc.writeMem(0x2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xc7c0);
        EXPECT(gbc.pc(), 0x3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0118
        gbc.setState(0x243a, 0xfaf, 0x8c0, 0x80ad, 0xc9a9, 0xf60c, 0x1, 0x1);
        gbc.writeMem(0x243a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xfaf);
        EXPECT(gbc.pc(), 0x243b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0119
        gbc.setState(0x45ff, 0xcd64, 0xc720, 0xf1c, 0x101d, 0xeb47, 0x1, 0x0);
        gbc.writeMem(0x45ff, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xcd64);
        EXPECT(gbc.pc(), 0x4600);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 011A
        gbc.setState(0x8794, 0xc1d8, 0x9d60, 0x2d81, 0x2068, 0x287d, 0x0, 0x0);
        gbc.writeMem(0x8794, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc1d8);
        EXPECT(gbc.pc(), 0x8795);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8794), 0x37);
        // 37 011C
        gbc.setState(0x7ea7, 0xe529, 0x5c10, 0x17e3, 0x6a97, 0x7c04, 0x0, 0x1);
        gbc.writeMem(0x7ea7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xe529);
        EXPECT(gbc.pc(), 0x7ea8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 011D
        gbc.setState(0x6ed3, 0x9df2, 0x1d50, 0xd685, 0xb9c, 0xef04, 0x1, 0x0);
        gbc.writeMem(0x6ed3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x9df2);
        EXPECT(gbc.pc(), 0x6ed4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 011E
        gbc.setState(0x2399, 0x83e9, 0x7900, 0x11c7, 0xd144, 0xc2d9, 0x1, 0x1);
        gbc.writeMem(0x2399, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x83e9);
        EXPECT(gbc.pc(), 0x239a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 011F
        gbc.setState(0x426f, 0x8dd7, 0xaf00, 0xa5c9, 0xe203, 0x9f71, 0x1, 0x0);
        gbc.writeMem(0x426f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x8dd7);
        EXPECT(gbc.pc(), 0x4270);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0120
        gbc.setState(0x94b, 0x949e, 0xb6f0, 0x94c7, 0x3f9b, 0x174f, 0x0, 0x1);
        gbc.writeMem(0x94b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x949e);
        EXPECT(gbc.pc(), 0x94c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0121
        gbc.setState(0xd830, 0xd9af, 0x9e00, 0x2df0, 0xac7f, 0x5fbc, 0x0, 0x1);
        gbc.writeMem(0xd830, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd9af);
        EXPECT(gbc.pc(), 0xd831);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd830), 0x37);
        // 37 0122
        gbc.setState(0x3db1, 0x726, 0xbc10, 0x99cd, 0x50ae, 0x56b2, 0x1, 0x1);
        gbc.writeMem(0x3db1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x726);
        EXPECT(gbc.pc(), 0x3db2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0123
        gbc.setState(0x766b, 0x46a, 0xb780, 0x44e3, 0x973a, 0xc61c, 0x0, 0x1);
        gbc.writeMem(0x766b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x46a);
        EXPECT(gbc.pc(), 0x766c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0124
        gbc.setState(0x6c8f, 0x4b28, 0xc760, 0x9850, 0x6689, 0xd225, 0x0, 0x0);
        gbc.writeMem(0x6c8f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x4b28);
        EXPECT(gbc.pc(), 0x6c90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0125
        gbc.setState(0x4eb6, 0xa8d, 0xf980, 0x1cc3, 0x3bab, 0x28e4, 0x1, 0x1);
        gbc.writeMem(0x4eb6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xa8d);
        EXPECT(gbc.pc(), 0x4eb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0126
        gbc.setState(0x935b, 0xcef6, 0x30c0, 0xd890, 0x6a9e, 0x90, 0x0, 0x1);
        gbc.writeMem(0x935b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xcef6);
        EXPECT(gbc.pc(), 0x935c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x935b), 0x37);
        // 37 0127
        gbc.setState(0xcce3, 0xed30, 0x7900, 0xe89, 0x6b8a, 0x10fd, 0x1, 0x0);
        gbc.writeMem(0xcce3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xed30);
        EXPECT(gbc.pc(), 0xcce4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcce3), 0x37);
        // 37 0128
        gbc.setState(0x358c, 0x7bf, 0x4510, 0x2b86, 0x5c4d, 0x3e7, 0x1, 0x1);
        gbc.writeMem(0x358c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x7bf);
        EXPECT(gbc.pc(), 0x358d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0129
        gbc.setState(0x4aaf, 0x1841, 0xaaf0, 0xc7a8, 0x679c, 0x75a5, 0x1, 0x1);
        gbc.writeMem(0x4aaf, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x1841);
        EXPECT(gbc.pc(), 0x4ab0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 012A
        gbc.setState(0xc04c, 0xd9ee, 0x4310, 0x51dc, 0x956c, 0xd113, 0x1, 0x1);
        gbc.writeMem(0xc04c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xd9ee);
        EXPECT(gbc.pc(), 0xc04d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc04c), 0x37);
        // 37 012C
        gbc.setState(0x2e05, 0x1436, 0x3c00, 0xda80, 0xeb16, 0x39e4, 0x0, 0x1);
        gbc.writeMem(0x2e05, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x1436);
        EXPECT(gbc.pc(), 0x2e06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 012D
        gbc.setState(0x590c, 0x84d9, 0x47d0, 0x4f96, 0xd02c, 0x7459, 0x1, 0x1);
        gbc.writeMem(0x590c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x84d9);
        EXPECT(gbc.pc(), 0x590d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 012E
        gbc.setState(0x1358, 0xe3c0, 0xbf80, 0x57c6, 0xc9a9, 0xf86c, 0x1, 0x1);
        gbc.writeMem(0x1358, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xe3c0);
        EXPECT(gbc.pc(), 0x1359);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 012F
        gbc.setState(0xb7f9, 0xa5c, 0x4180, 0x4561, 0x375d, 0x3277, 0x1, 0x1);
        gbc.writeMem(0xb7f9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xa5c);
        EXPECT(gbc.pc(), 0xb7fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7f9), 0x37);
        // 37 0130
        gbc.setState(0xe8ec, 0xfa29, 0x8840, 0xbea1, 0xad57, 0x10fe, 0x1, 0x0);
        gbc.writeMem(0xe8ec, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xfa29);
        EXPECT(gbc.pc(), 0xe8ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8ec), 0x37);
        // 37 0131
        gbc.setState(0x7a55, 0x5e08, 0x9ac0, 0x256f, 0x1792, 0x5ec9, 0x1, 0x0);
        gbc.writeMem(0x7a55, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x5e08);
        EXPECT(gbc.pc(), 0x7a56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0132
        gbc.setState(0xefe1, 0xeb22, 0xa890, 0xe242, 0x2499, 0x42b7, 0x0, 0x0);
        gbc.writeMem(0xefe1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xeb22);
        EXPECT(gbc.pc(), 0xefe2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefe1), 0x37);
        // 37 0133
        gbc.setState(0x19a8, 0x7865, 0x18b0, 0xfdd, 0xa93d, 0xc702, 0x1, 0x0);
        gbc.writeMem(0x19a8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x7865);
        EXPECT(gbc.pc(), 0x19a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0134
        gbc.setState(0x1e22, 0x8c6e, 0xde70, 0xf9e7, 0x9867, 0x97b4, 0x0, 0x1);
        gbc.writeMem(0x1e22, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x8c6e);
        EXPECT(gbc.pc(), 0x1e23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0135
        gbc.setState(0x136a, 0x27e0, 0xbbe0, 0x2d89, 0xad37, 0x8398, 0x0, 0x1);
        gbc.writeMem(0x136a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x27e0);
        EXPECT(gbc.pc(), 0x136b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0136
        gbc.setState(0x9a5e, 0xcbf5, 0x5c80, 0xda41, 0xf600, 0x1a6d, 0x1, 0x0);
        gbc.writeMem(0x9a5e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xcbf5);
        EXPECT(gbc.pc(), 0x9a5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a5e), 0x37);
        // 37 0137
        gbc.setState(0xe63d, 0x614c, 0x2aa0, 0xd34b, 0xa172, 0x161d, 0x0, 0x1);
        gbc.writeMem(0xe63d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x614c);
        EXPECT(gbc.pc(), 0xe63e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe63d), 0x37);
        // 37 0138
        gbc.setState(0xefd, 0x7d1, 0xc220, 0xbe79, 0xbbcf, 0x9d66, 0x0, 0x1);
        gbc.writeMem(0xefd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x7d1);
        EXPECT(gbc.pc(), 0xefe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0139
        gbc.setState(0x4de1, 0xa697, 0x6c60, 0x27c6, 0x9e5b, 0xb05d, 0x0, 0x1);
        gbc.writeMem(0x4de1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xa697);
        EXPECT(gbc.pc(), 0x4de2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 013A
        gbc.setState(0x83c8, 0x34a8, 0x20e0, 0x89a7, 0xa3b7, 0xffd5, 0x1, 0x0);
        gbc.writeMem(0x83c8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x34a8);
        EXPECT(gbc.pc(), 0x83c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83c8), 0x37);
        // 37 013B
        gbc.setState(0x9ee7, 0x6b59, 0x8960, 0xb0a5, 0x295, 0xd36c, 0x0, 0x0);
        gbc.writeMem(0x9ee7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x6b59);
        EXPECT(gbc.pc(), 0x9ee8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ee7), 0x37);
        // 37 013C
        gbc.setState(0x25b4, 0xe0d6, 0x3800, 0x3409, 0x28ef, 0x26a7, 0x0, 0x0);
        gbc.writeMem(0x25b4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xe0d6);
        EXPECT(gbc.pc(), 0x25b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 013D
        gbc.setState(0xe36a, 0x982b, 0x4c10, 0x1fab, 0xfa49, 0xf8ed, 0x1, 0x1);
        gbc.writeMem(0xe36a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x982b);
        EXPECT(gbc.pc(), 0xe36b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe36a), 0x37);
        // 37 013E
        gbc.setState(0xa05e, 0x20e2, 0x5d0, 0xe486, 0xc6df, 0xd804, 0x0, 0x1);
        gbc.writeMem(0xa05e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x20e2);
        EXPECT(gbc.pc(), 0xa05f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa05e), 0x37);
        // 37 013F
        gbc.setState(0xbc8, 0x954, 0xe7f0, 0x16f4, 0x658f, 0x9cda, 0x0, 0x1);
        gbc.writeMem(0xbc8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x954);
        EXPECT(gbc.pc(), 0xbc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0140
        gbc.setState(0x92e9, 0x1662, 0x2ee0, 0xff43, 0x1658, 0xc02e, 0x1, 0x0);
        gbc.writeMem(0x92e9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x1662);
        EXPECT(gbc.pc(), 0x92ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92e9), 0x37);
        // 37 0141
        gbc.setState(0x2ee2, 0x8b1a, 0x7530, 0x10b3, 0xad36, 0x6a58, 0x1, 0x1);
        gbc.writeMem(0x2ee2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x8b1a);
        EXPECT(gbc.pc(), 0x2ee3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0142
        gbc.setState(0xbe0, 0x4b2f, 0x2b90, 0x2083, 0xddbd, 0xfd75, 0x0, 0x1);
        gbc.writeMem(0xbe0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x4b2f);
        EXPECT(gbc.pc(), 0xbe1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0143
        gbc.setState(0xe3ec, 0xebfd, 0x9e90, 0xb3fc, 0x73a8, 0x79a9, 0x0, 0x1);
        gbc.writeMem(0xe3ec, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xebfd);
        EXPECT(gbc.pc(), 0xe3ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3ec), 0x37);
        // 37 0144
        gbc.setState(0x7540, 0xf52b, 0x2590, 0xe3cb, 0x3d71, 0x58cd, 0x1, 0x1);
        gbc.writeMem(0x7540, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf52b);
        EXPECT(gbc.pc(), 0x7541);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0145
        gbc.setState(0x7e8c, 0x6bc, 0xafd0, 0x67ad, 0xff8f, 0xf2d5, 0x1, 0x1);
        gbc.writeMem(0x7e8c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x6bc);
        EXPECT(gbc.pc(), 0x7e8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0146
        gbc.setState(0x1aec, 0x54f0, 0x5970, 0x9e14, 0x5774, 0xedd, 0x1, 0x1);
        gbc.writeMem(0x1aec, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x54f0);
        EXPECT(gbc.pc(), 0x1aed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0147
        gbc.setState(0x3c72, 0x172d, 0x4200, 0x7ccc, 0xd13a, 0xd703, 0x1, 0x1);
        gbc.writeMem(0x3c72, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x172d);
        EXPECT(gbc.pc(), 0x3c73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0148
        gbc.setState(0x1bd5, 0x5fd7, 0x2870, 0x929, 0x29b8, 0xde88, 0x1, 0x0);
        gbc.writeMem(0x1bd5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x5fd7);
        EXPECT(gbc.pc(), 0x1bd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0149
        gbc.setState(0x4697, 0xc2ce, 0xb0, 0xf16b, 0x13f8, 0x57f4, 0x0, 0x0);
        gbc.writeMem(0x4697, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xc2ce);
        EXPECT(gbc.pc(), 0x4698);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 014A
        gbc.setState(0x22b1, 0xd8b0, 0xaa60, 0x4c15, 0x74a2, 0xfec1, 0x1, 0x1);
        gbc.writeMem(0x22b1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xd8b0);
        EXPECT(gbc.pc(), 0x22b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 014B
        gbc.setState(0x1792, 0xe2eb, 0xee50, 0xefd1, 0xb428, 0x2ed1, 0x1, 0x0);
        gbc.writeMem(0x1792, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xe2eb);
        EXPECT(gbc.pc(), 0x1793);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 014C
        gbc.setState(0x2db9, 0xde3, 0xfd10, 0x56d0, 0x42db, 0x7df8, 0x0, 0x0);
        gbc.writeMem(0x2db9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xde3);
        EXPECT(gbc.pc(), 0x2dba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 014D
        gbc.setState(0x5006, 0xfb72, 0x590, 0x7934, 0x81e4, 0x6c14, 0x1, 0x1);
        gbc.writeMem(0x5006, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xfb72);
        EXPECT(gbc.pc(), 0x5007);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 014E
        gbc.setState(0xde55, 0xe906, 0x6d70, 0x47df, 0x4142, 0x4b61, 0x0, 0x0);
        gbc.writeMem(0xde55, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xe906);
        EXPECT(gbc.pc(), 0xde56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde55), 0x37);
        // 37 014F
        gbc.setState(0xc89e, 0xc1f4, 0x8560, 0x1ac0, 0x10d0, 0xca36, 0x1, 0x0);
        gbc.writeMem(0xc89e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xc1f4);
        EXPECT(gbc.pc(), 0xc89f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc89e), 0x37);
        // 37 0150
        gbc.setState(0xe034, 0x50ba, 0x4c20, 0xa710, 0xb3b6, 0xec28, 0x0, 0x1);
        gbc.writeMem(0xe034, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x50ba);
        EXPECT(gbc.pc(), 0xe035);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe034), 0x37);
        // 37 0151
        gbc.setState(0xe639, 0x4229, 0x44e0, 0xda5b, 0x43dd, 0xb69b, 0x1, 0x0);
        gbc.writeMem(0xe639, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x4229);
        EXPECT(gbc.pc(), 0xe63a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe639), 0x37);
        // 37 0153
        gbc.setState(0x3f49, 0xcfff, 0x99c0, 0x2c11, 0x48d7, 0x4cf6, 0x0, 0x0);
        gbc.writeMem(0x3f49, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xcfff);
        EXPECT(gbc.pc(), 0x3f4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0154
        gbc.setState(0x7fe4, 0xf5c7, 0xdc70, 0xdc81, 0x5b13, 0x5d9, 0x1, 0x1);
        gbc.writeMem(0x7fe4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xf5c7);
        EXPECT(gbc.pc(), 0x7fe5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0155
        gbc.setState(0x8086, 0x72cb, 0x1060, 0xabc6, 0x4a9b, 0x2074, 0x1, 0x0);
        gbc.writeMem(0x8086, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x72cb);
        EXPECT(gbc.pc(), 0x8087);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8086), 0x37);
        // 37 0157
        gbc.setState(0x52d3, 0x1cd8, 0x7400, 0xff11, 0xd12f, 0xa75d, 0x0, 0x0);
        gbc.writeMem(0x52d3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x1cd8);
        EXPECT(gbc.pc(), 0x52d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0158
        gbc.setState(0x7ddd, 0x5c82, 0x5e0, 0xb6f, 0xb415, 0xdf76, 0x0, 0x0);
        gbc.writeMem(0x7ddd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x5c82);
        EXPECT(gbc.pc(), 0x7dde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0159
        gbc.setState(0x1e9c, 0x6297, 0x94c0, 0x1777, 0xfcaf, 0xf775, 0x1, 0x0);
        gbc.writeMem(0x1e9c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x6297);
        EXPECT(gbc.pc(), 0x1e9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 015A
        gbc.setState(0x5f7d, 0xf2bf, 0xd2c0, 0x32cd, 0x7017, 0x2a0c, 0x0, 0x0);
        gbc.writeMem(0x5f7d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xf2bf);
        EXPECT(gbc.pc(), 0x5f7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 015B
        gbc.setState(0x98b4, 0xd06, 0xc560, 0xe7f6, 0xac74, 0x3459, 0x1, 0x0);
        gbc.writeMem(0x98b4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd06);
        EXPECT(gbc.pc(), 0x98b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98b4), 0x37);
        // 37 015C
        gbc.setState(0x4f21, 0xe3c, 0x87c0, 0x45a3, 0x79d8, 0xc278, 0x0, 0x0);
        gbc.writeMem(0x4f21, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xe3c);
        EXPECT(gbc.pc(), 0x4f22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 015D
        gbc.setState(0xe163, 0x96e5, 0x46b0, 0xa9c2, 0xaa99, 0xe546, 0x1, 0x1);
        gbc.writeMem(0xe163, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x96e5);
        EXPECT(gbc.pc(), 0xe164);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe163), 0x37);
        // 37 015E
        gbc.setState(0x7fad, 0xabb1, 0xe710, 0x7d6f, 0x4e35, 0x4ea1, 0x0, 0x1);
        gbc.writeMem(0x7fad, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xabb1);
        EXPECT(gbc.pc(), 0x7fae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 015F
        gbc.setState(0xded9, 0x635e, 0xb2b0, 0x9ef7, 0xbe63, 0xfd4b, 0x0, 0x0);
        gbc.writeMem(0xded9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x635e);
        EXPECT(gbc.pc(), 0xdeda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xded9), 0x37);
        // 37 0160
        gbc.setState(0x6f93, 0xd7dc, 0xe380, 0x9fc7, 0x9770, 0xf85e, 0x1, 0x1);
        gbc.writeMem(0x6f93, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xd7dc);
        EXPECT(gbc.pc(), 0x6f94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0161
        gbc.setState(0x6263, 0x422b, 0xacf0, 0x37e6, 0xdf2a, 0xcf00, 0x1, 0x0);
        gbc.writeMem(0x6263, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x422b);
        EXPECT(gbc.pc(), 0x6264);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0162
        gbc.setState(0xc886, 0x2f82, 0xc440, 0x4c90, 0x430a, 0xbe41, 0x1, 0x1);
        gbc.writeMem(0xc886, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x2f82);
        EXPECT(gbc.pc(), 0xc887);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc886), 0x37);
        // 37 0163
        gbc.setState(0xde82, 0x69b2, 0x1d20, 0x5753, 0x9233, 0x5fda, 0x0, 0x0);
        gbc.writeMem(0xde82, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x69b2);
        EXPECT(gbc.pc(), 0xde83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde82), 0x37);
        // 37 0164
        gbc.setState(0xe5bb, 0x4193, 0x8d90, 0x286f, 0xdc06, 0x197f, 0x1, 0x0);
        gbc.writeMem(0xe5bb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x4193);
        EXPECT(gbc.pc(), 0xe5bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5bb), 0x37);
        // 37 0165
        gbc.setState(0x3726, 0xef54, 0xd2a0, 0x94dd, 0x63f6, 0x2194, 0x1, 0x1);
        gbc.writeMem(0x3726, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xef54);
        EXPECT(gbc.pc(), 0x3727);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0166
        gbc.setState(0x9d7e, 0x8451, 0xb640, 0x124, 0x1e35, 0x5448, 0x0, 0x0);
        gbc.writeMem(0x9d7e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x8451);
        EXPECT(gbc.pc(), 0x9d7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d7e), 0x37);
        // 37 0167
        gbc.setState(0xd97c, 0xf124, 0x1930, 0xfd50, 0x48b9, 0xa5e6, 0x1, 0x0);
        gbc.writeMem(0xd97c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xf124);
        EXPECT(gbc.pc(), 0xd97d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd97c), 0x37);
        // 37 0168
        gbc.setState(0x5be4, 0x1f9f, 0x8fe0, 0xd7bf, 0xd284, 0x2291, 0x1, 0x1);
        gbc.writeMem(0x5be4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x1f9f);
        EXPECT(gbc.pc(), 0x5be5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 016A
        gbc.setState(0xa969, 0x1353, 0xcd30, 0xf706, 0x93ed, 0x66b1, 0x0, 0x0);
        gbc.writeMem(0xa969, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x1353);
        EXPECT(gbc.pc(), 0xa96a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa969), 0x37);
        // 37 016B
        gbc.setState(0x7fb4, 0xdab, 0x6710, 0xac9d, 0x4e1, 0xc0b1, 0x1, 0x0);
        gbc.writeMem(0x7fb4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xdab);
        EXPECT(gbc.pc(), 0x7fb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 016C
        gbc.setState(0xab61, 0x19d6, 0x10b0, 0x5c91, 0x6987, 0xca83, 0x0, 0x1);
        gbc.writeMem(0xab61, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x19d6);
        EXPECT(gbc.pc(), 0xab62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab61), 0x37);
        // 37 016D
        gbc.setState(0x8e86, 0x2be7, 0x3690, 0xe054, 0x31cd, 0xbf62, 0x0, 0x1);
        gbc.writeMem(0x8e86, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x2be7);
        EXPECT(gbc.pc(), 0x8e87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e86), 0x37);
        // 37 016E
        gbc.setState(0xc6d3, 0xf698, 0x9310, 0xb16a, 0x3eb7, 0x3e7c, 0x1, 0x0);
        gbc.writeMem(0xc6d3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xf698);
        EXPECT(gbc.pc(), 0xc6d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6d3), 0x37);
        // 37 016F
        gbc.setState(0x3345, 0xe943, 0x2420, 0xaab8, 0x330, 0x80f2, 0x0, 0x0);
        gbc.writeMem(0x3345, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xe943);
        EXPECT(gbc.pc(), 0x3346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0170
        gbc.setState(0x92e9, 0x251d, 0x3340, 0xdf5c, 0x8e26, 0x33d9, 0x1, 0x1);
        gbc.writeMem(0x92e9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x251d);
        EXPECT(gbc.pc(), 0x92ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92e9), 0x37);
        // 37 0171
        gbc.setState(0xc970, 0x4b7, 0xce30, 0xa2a5, 0xa55e, 0x3b37, 0x0, 0x1);
        gbc.writeMem(0xc970, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x4b7);
        EXPECT(gbc.pc(), 0xc971);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc970), 0x37);
        // 37 0172
        gbc.setState(0x373a, 0x7ea2, 0x7110, 0xf630, 0xd409, 0xaae7, 0x1, 0x1);
        gbc.writeMem(0x373a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x7ea2);
        EXPECT(gbc.pc(), 0x373b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0173
        gbc.setState(0xc671, 0x2ffe, 0xb80, 0x2730, 0x8628, 0x6bcb, 0x1, 0x0);
        gbc.writeMem(0xc671, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x2ffe);
        EXPECT(gbc.pc(), 0xc672);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc671), 0x37);
        // 37 0174
        gbc.setState(0x611a, 0x6133, 0x4aa0, 0x3a67, 0x1416, 0x98a, 0x0, 0x1);
        gbc.writeMem(0x611a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x6133);
        EXPECT(gbc.pc(), 0x611b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0175
        gbc.setState(0xcdff, 0x2366, 0x1b0, 0x9026, 0x3d04, 0xb000, 0x0, 0x0);
        gbc.writeMem(0xcdff, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x2366);
        EXPECT(gbc.pc(), 0xce00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdff), 0x37);
        // 37 0176
        gbc.setState(0x4709, 0x510c, 0x8d70, 0x23db, 0x51f7, 0x513e, 0x1, 0x1);
        gbc.writeMem(0x4709, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x510c);
        EXPECT(gbc.pc(), 0x470a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0177
        gbc.setState(0x7e27, 0xf4ba, 0x6f90, 0x938f, 0x8fd5, 0x7cee, 0x1, 0x0);
        gbc.writeMem(0x7e27, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xf4ba);
        EXPECT(gbc.pc(), 0x7e28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0178
        gbc.setState(0x8f2, 0x2918, 0x2840, 0x9dcd, 0xfbe1, 0x1141, 0x1, 0x0);
        gbc.writeMem(0x8f2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x2918);
        EXPECT(gbc.pc(), 0x8f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0179
        gbc.setState(0xb7d, 0xf4fa, 0xde20, 0x2d89, 0x56fa, 0xc58b, 0x1, 0x0);
        gbc.writeMem(0xb7d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xf4fa);
        EXPECT(gbc.pc(), 0xb7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 017A
        gbc.setState(0xd2a7, 0xae8c, 0xfc90, 0x276f, 0x34fc, 0xfc7f, 0x0, 0x1);
        gbc.writeMem(0xd2a7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xae8c);
        EXPECT(gbc.pc(), 0xd2a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2a7), 0x37);
        // 37 017B
        gbc.setState(0x6378, 0xcb00, 0xe170, 0x8751, 0xa771, 0xa4a9, 0x1, 0x0);
        gbc.writeMem(0x6378, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xcb00);
        EXPECT(gbc.pc(), 0x6379);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 017C
        gbc.setState(0x8538, 0x8b36, 0x59f0, 0x574f, 0x145d, 0x119f, 0x1, 0x0);
        gbc.writeMem(0x8538, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x8b36);
        EXPECT(gbc.pc(), 0x8539);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8538), 0x37);
        // 37 017D
        gbc.setState(0xa387, 0xae93, 0xe940, 0xef51, 0x223d, 0x16d3, 0x1, 0x1);
        gbc.writeMem(0xa387, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xae93);
        EXPECT(gbc.pc(), 0xa388);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa387), 0x37);
        // 37 017E
        gbc.setState(0x2456, 0xd656, 0xf2d0, 0xe19b, 0xc387, 0x227a, 0x0, 0x0);
        gbc.writeMem(0x2456, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xd656);
        EXPECT(gbc.pc(), 0x2457);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 017F
        gbc.setState(0xe720, 0xd78f, 0x2980, 0xc2b8, 0x22fe, 0x998c, 0x1, 0x1);
        gbc.writeMem(0xe720, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xd78f);
        EXPECT(gbc.pc(), 0xe721);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe720), 0x37);
        // 37 0180
        gbc.setState(0x753d, 0x332c, 0x5110, 0x312f, 0xabc5, 0xf90, 0x1, 0x0);
        gbc.writeMem(0x753d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x332c);
        EXPECT(gbc.pc(), 0x753e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0181
        gbc.setState(0x98d5, 0x624f, 0xa300, 0x1726, 0x7dc5, 0x7a3e, 0x0, 0x0);
        gbc.writeMem(0x98d5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x624f);
        EXPECT(gbc.pc(), 0x98d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98d5), 0x37);
        // 37 0182
        gbc.setState(0x1846, 0x6511, 0xb740, 0xe8c, 0xb885, 0x622f, 0x1, 0x0);
        gbc.writeMem(0x1846, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x6511);
        EXPECT(gbc.pc(), 0x1847);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0183
        gbc.setState(0xfbd, 0x6923, 0x6800, 0xe796, 0x83a0, 0x6881, 0x1, 0x0);
        gbc.writeMem(0xfbd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x6923);
        EXPECT(gbc.pc(), 0xfbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0184
        gbc.setState(0x4ac5, 0x49eb, 0xa6b0, 0x19fe, 0xf712, 0x29bb, 0x1, 0x1);
        gbc.writeMem(0x4ac5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x49eb);
        EXPECT(gbc.pc(), 0x4ac6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0186
        gbc.setState(0xefe, 0x90f4, 0x54d0, 0x261c, 0xc097, 0x5f5d, 0x0, 0x0);
        gbc.writeMem(0xefe, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x90f4);
        EXPECT(gbc.pc(), 0xeff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0188
        gbc.setState(0x454c, 0x70, 0x6f40, 0xca48, 0xe442, 0x1cd6, 0x1, 0x0);
        gbc.writeMem(0x454c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x70);
        EXPECT(gbc.pc(), 0x454d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0189
        gbc.setState(0x2bb8, 0x5e02, 0x2320, 0x958d, 0x7a66, 0xa931, 0x0, 0x0);
        gbc.writeMem(0x2bb8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x5e02);
        EXPECT(gbc.pc(), 0x2bb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 018A
        gbc.setState(0xc587, 0x4c79, 0xe450, 0x3e2b, 0xb1f0, 0xc52d, 0x1, 0x0);
        gbc.writeMem(0xc587, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x4c79);
        EXPECT(gbc.pc(), 0xc588);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc587), 0x37);
        // 37 018B
        gbc.setState(0xb4bf, 0x85d2, 0x59e0, 0xe88c, 0x76db, 0xc3b9, 0x1, 0x1);
        gbc.writeMem(0xb4bf, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x85d2);
        EXPECT(gbc.pc(), 0xb4c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4bf), 0x37);
        // 37 018C
        gbc.setState(0xd55a, 0xbc3d, 0x9090, 0x1de4, 0x1a3d, 0xfe6b, 0x1, 0x1);
        gbc.writeMem(0xd55a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xbc3d);
        EXPECT(gbc.pc(), 0xd55b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd55a), 0x37);
        // 37 018D
        gbc.setState(0x20f1, 0x15f0, 0xa860, 0x8f37, 0x1b71, 0x130a, 0x0, 0x0);
        gbc.writeMem(0x20f1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x15f0);
        EXPECT(gbc.pc(), 0x20f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 018E
        gbc.setState(0x872a, 0x3965, 0xffb0, 0xfa4a, 0xcade, 0xea10, 0x0, 0x1);
        gbc.writeMem(0x872a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x3965);
        EXPECT(gbc.pc(), 0x872b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x872a), 0x37);
        // 37 0190
        gbc.setState(0xe336, 0xfe96, 0xc30, 0x9dae, 0x6e43, 0xea3e, 0x1, 0x0);
        gbc.writeMem(0xe336, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xfe96);
        EXPECT(gbc.pc(), 0xe337);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe336), 0x37);
        // 37 0191
        gbc.setState(0x4322, 0x7e72, 0xb980, 0x265e, 0x1176, 0x1484, 0x1, 0x0);
        gbc.writeMem(0x4322, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x7e72);
        EXPECT(gbc.pc(), 0x4323);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0192
        gbc.setState(0xd46c, 0xbe6c, 0x7610, 0xcf79, 0xda62, 0x323e, 0x1, 0x0);
        gbc.writeMem(0xd46c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xbe6c);
        EXPECT(gbc.pc(), 0xd46d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd46c), 0x37);
        // 37 0193
        gbc.setState(0xce2b, 0xd46a, 0x77a0, 0xafe9, 0xf585, 0x4842, 0x0, 0x0);
        gbc.writeMem(0xce2b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xd46a);
        EXPECT(gbc.pc(), 0xce2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce2b), 0x37);
        // 37 0194
        gbc.setState(0x4ea2, 0x87c4, 0x6fc0, 0x897, 0xd1bf, 0x8d0, 0x1, 0x1);
        gbc.writeMem(0x4ea2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x87c4);
        EXPECT(gbc.pc(), 0x4ea3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0195
        gbc.setState(0xe553, 0x433, 0xa10, 0xf215, 0x7923, 0xd39d, 0x0, 0x1);
        gbc.writeMem(0xe553, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x433);
        EXPECT(gbc.pc(), 0xe554);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe553), 0x37);
        // 37 0196
        gbc.setState(0xe56f, 0x13a9, 0x4ea0, 0x8b5e, 0x7c27, 0xc780, 0x0, 0x1);
        gbc.writeMem(0xe56f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x13a9);
        EXPECT(gbc.pc(), 0xe570);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe56f), 0x37);
        // 37 0197
        gbc.setState(0xe0ad, 0x689a, 0xa1a0, 0x3a07, 0x23c3, 0x8e86, 0x0, 0x0);
        gbc.writeMem(0xe0ad, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x689a);
        EXPECT(gbc.pc(), 0xe0ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0ad), 0x37);
        // 37 0198
        gbc.setState(0x6dbe, 0xb34, 0xded0, 0x4c98, 0x5031, 0xbad2, 0x1, 0x0);
        gbc.writeMem(0x6dbe, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xb34);
        EXPECT(gbc.pc(), 0x6dbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0199
        gbc.setState(0x6a7d, 0xf1ad, 0xd9a0, 0x490d, 0x6213, 0x2815, 0x0, 0x0);
        gbc.writeMem(0x6a7d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xf1ad);
        EXPECT(gbc.pc(), 0x6a7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 019A
        gbc.setState(0x8e10, 0xc7f1, 0x8d80, 0x896c, 0xf58c, 0x3153, 0x0, 0x1);
        gbc.writeMem(0x8e10, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xc7f1);
        EXPECT(gbc.pc(), 0x8e11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e10), 0x37);
        // 37 019B
        gbc.setState(0xb90f, 0xb30c, 0xb250, 0x2c5b, 0x6da7, 0x3507, 0x0, 0x0);
        gbc.writeMem(0xb90f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xb30c);
        EXPECT(gbc.pc(), 0xb910);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb90f), 0x37);
        // 37 019D
        gbc.setState(0x7f12, 0xc115, 0x6a70, 0x5156, 0x32e7, 0x6f20, 0x1, 0x0);
        gbc.writeMem(0x7f12, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xc115);
        EXPECT(gbc.pc(), 0x7f13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 019E
        gbc.setState(0x4a24, 0x1068, 0x5b20, 0xf12c, 0xe68a, 0xc098, 0x0, 0x1);
        gbc.writeMem(0x4a24, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x1068);
        EXPECT(gbc.pc(), 0x4a25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 019F
        gbc.setState(0x395f, 0x7846, 0x2930, 0x43f1, 0x9f0a, 0x945d, 0x1, 0x0);
        gbc.writeMem(0x395f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x7846);
        EXPECT(gbc.pc(), 0x3960);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01A0
        gbc.setState(0x33cb, 0x256b, 0x1c50, 0xe15a, 0xfd9, 0xe500, 0x0, 0x0);
        gbc.writeMem(0x33cb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x256b);
        EXPECT(gbc.pc(), 0x33cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01A1
        gbc.setState(0x2561, 0x7262, 0xd060, 0xa9c5, 0x55a, 0x1d89, 0x0, 0x1);
        gbc.writeMem(0x2561, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x7262);
        EXPECT(gbc.pc(), 0x2562);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01A2
        gbc.setState(0xb39c, 0xb209, 0x9b60, 0x183d, 0x32e4, 0xe6b1, 0x1, 0x1);
        gbc.writeMem(0xb39c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xb209);
        EXPECT(gbc.pc(), 0xb39d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb39c), 0x37);
        // 37 01A3
        gbc.setState(0xe8cc, 0x62c0, 0xb030, 0x49a4, 0x82dd, 0x84d5, 0x1, 0x1);
        gbc.writeMem(0xe8cc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x62c0);
        EXPECT(gbc.pc(), 0xe8cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8cc), 0x37);
        // 37 01A4
        gbc.setState(0xed20, 0xd8da, 0x55b0, 0x8992, 0x20a1, 0x3ed6, 0x1, 0x1);
        gbc.writeMem(0xed20, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xd8da);
        EXPECT(gbc.pc(), 0xed21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed20), 0x37);
        // 37 01A5
        gbc.setState(0x2984, 0x2e00, 0x8320, 0xe502, 0xbac7, 0xc086, 0x1, 0x1);
        gbc.writeMem(0x2984, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2e00);
        EXPECT(gbc.pc(), 0x2985);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01A6
        gbc.setState(0xef41, 0xc25f, 0x93c0, 0x3303, 0x1460, 0xbb97, 0x1, 0x0);
        gbc.writeMem(0xef41, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xc25f);
        EXPECT(gbc.pc(), 0xef42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef41), 0x37);
        // 37 01A7
        gbc.setState(0x8198, 0x803b, 0xbe20, 0xe57d, 0xf356, 0xf792, 0x0, 0x1);
        gbc.writeMem(0x8198, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x803b);
        EXPECT(gbc.pc(), 0x8199);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8198), 0x37);
        // 37 01A8
        gbc.setState(0x4a51, 0x3852, 0x4f60, 0xe85b, 0xb627, 0x3d36, 0x0, 0x1);
        gbc.writeMem(0x4a51, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x3852);
        EXPECT(gbc.pc(), 0x4a52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01A9
        gbc.setState(0x3a2d, 0x4a2f, 0x1940, 0x4d7a, 0xb985, 0x4246, 0x1, 0x0);
        gbc.writeMem(0x3a2d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4a2f);
        EXPECT(gbc.pc(), 0x3a2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01AA
        gbc.setState(0x90dd, 0xbe89, 0x2110, 0x2c32, 0xc569, 0x170, 0x0, 0x1);
        gbc.writeMem(0x90dd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xbe89);
        EXPECT(gbc.pc(), 0x90de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90dd), 0x37);
        // 37 01AB
        gbc.setState(0x49d8, 0x483f, 0x4140, 0x392c, 0x95dd, 0xaa29, 0x0, 0x0);
        gbc.writeMem(0x49d8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x483f);
        EXPECT(gbc.pc(), 0x49d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01AC
        gbc.setState(0x79b4, 0xad2, 0x3360, 0x241e, 0x3578, 0x580d, 0x1, 0x0);
        gbc.writeMem(0x79b4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xad2);
        EXPECT(gbc.pc(), 0x79b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01AD
        gbc.setState(0xd047, 0x12e4, 0x8380, 0x4779, 0x358f, 0x92e1, 0x1, 0x0);
        gbc.writeMem(0xd047, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x12e4);
        EXPECT(gbc.pc(), 0xd048);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd047), 0x37);
        // 37 01AE
        gbc.setState(0x8ac1, 0xe36f, 0xe650, 0x546d, 0x3af7, 0xb169, 0x0, 0x1);
        gbc.writeMem(0x8ac1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xe36f);
        EXPECT(gbc.pc(), 0x8ac2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ac1), 0x37);
        // 37 01AF
        gbc.setState(0x6aee, 0x82d6, 0x4260, 0x1314, 0xcb83, 0xe5ab, 0x1, 0x1);
        gbc.writeMem(0x6aee, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x82d6);
        EXPECT(gbc.pc(), 0x6aef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01B0
        gbc.setState(0x70d0, 0xe678, 0x8ce0, 0x6014, 0x34c6, 0x7203, 0x0, 0x0);
        gbc.writeMem(0x70d0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xe678);
        EXPECT(gbc.pc(), 0x70d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01B1
        gbc.setState(0x5f1a, 0xf957, 0xa60, 0xd911, 0x6ee0, 0x844b, 0x1, 0x1);
        gbc.writeMem(0x5f1a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xf957);
        EXPECT(gbc.pc(), 0x5f1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01B2
        gbc.setState(0x8322, 0x6ecf, 0xf5c0, 0x3356, 0x6106, 0xcb37, 0x1, 0x1);
        gbc.writeMem(0x8322, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x6ecf);
        EXPECT(gbc.pc(), 0x8323);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8322), 0x37);
        // 37 01B3
        gbc.setState(0x9bb6, 0x8225, 0x6bc0, 0x58d6, 0x6371, 0x68ba, 0x0, 0x1);
        gbc.writeMem(0x9bb6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x8225);
        EXPECT(gbc.pc(), 0x9bb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bb6), 0x37);
        // 37 01B4
        gbc.setState(0x4c22, 0x4d6b, 0x6510, 0xe55d, 0x9fb9, 0x1391, 0x0, 0x1);
        gbc.writeMem(0x4c22, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4d6b);
        EXPECT(gbc.pc(), 0x4c23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01B5
        gbc.setState(0xb848, 0x1d94, 0x2ae0, 0x7492, 0x64d7, 0xb287, 0x0, 0x1);
        gbc.writeMem(0xb848, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x1d94);
        EXPECT(gbc.pc(), 0xb849);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb848), 0x37);
        // 37 01B6
        gbc.setState(0x9d4c, 0xf9fc, 0xa5e0, 0xdda3, 0x4fd0, 0xa5d, 0x0, 0x0);
        gbc.writeMem(0x9d4c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xf9fc);
        EXPECT(gbc.pc(), 0x9d4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d4c), 0x37);
        // 37 01B7
        gbc.setState(0xa56e, 0xccd0, 0xd830, 0xcf1b, 0xde45, 0x5c22, 0x1, 0x0);
        gbc.writeMem(0xa56e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xccd0);
        EXPECT(gbc.pc(), 0xa56f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa56e), 0x37);
        // 37 01B8
        gbc.setState(0xcacd, 0xe20f, 0x8e00, 0x5d2f, 0x4ce8, 0x7ec5, 0x0, 0x1);
        gbc.writeMem(0xcacd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe20f);
        EXPECT(gbc.pc(), 0xcace);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcacd), 0x37);
        // 37 01B9
        gbc.setState(0x41b6, 0xa896, 0xe930, 0x95ab, 0x929f, 0xeee7, 0x1, 0x0);
        gbc.writeMem(0x41b6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa896);
        EXPECT(gbc.pc(), 0x41b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01BA
        gbc.setState(0x105c, 0x3920, 0x5d70, 0x9763, 0xad5f, 0x15c5, 0x0, 0x0);
        gbc.writeMem(0x105c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x3920);
        EXPECT(gbc.pc(), 0x105d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01BB
        gbc.setState(0x6f18, 0x2ac8, 0xa2f0, 0xc02c, 0xb36e, 0x704d, 0x1, 0x1);
        gbc.writeMem(0x6f18, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x2ac8);
        EXPECT(gbc.pc(), 0x6f19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01BC
        gbc.setState(0x394, 0xa542, 0x130, 0x5a59, 0x2f8b, 0x54b6, 0x1, 0x1);
        gbc.writeMem(0x394, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xa542);
        EXPECT(gbc.pc(), 0x395);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01BD
        gbc.setState(0xace4, 0x441e, 0x3d50, 0xa2f1, 0x82d3, 0x1bfb, 0x0, 0x1);
        gbc.writeMem(0xace4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x441e);
        EXPECT(gbc.pc(), 0xace5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xace4), 0x37);
        // 37 01BE
        gbc.setState(0xdc7b, 0xbde6, 0xb9f0, 0x9393, 0x484b, 0x397, 0x0, 0x1);
        gbc.writeMem(0xdc7b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xbde6);
        EXPECT(gbc.pc(), 0xdc7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc7b), 0x37);
        // 37 01BF
        gbc.setState(0x653a, 0x3ac2, 0xae00, 0xcd08, 0x4f85, 0xe80d, 0x1, 0x1);
        gbc.writeMem(0x653a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x3ac2);
        EXPECT(gbc.pc(), 0x653b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01C0
        gbc.setState(0x4784, 0x89d4, 0x4bb0, 0x23cc, 0x5114, 0xe5cb, 0x1, 0x1);
        gbc.writeMem(0x4784, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x89d4);
        EXPECT(gbc.pc(), 0x4785);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01C1
        gbc.setState(0x9958, 0xfe86, 0xebc0, 0xac29, 0xfba5, 0xf2d6, 0x1, 0x1);
        gbc.writeMem(0x9958, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xfe86);
        EXPECT(gbc.pc(), 0x9959);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9958), 0x37);
        // 37 01C2
        gbc.setState(0x17d5, 0x8100, 0xf3a0, 0x62c7, 0x9ae4, 0x6ff5, 0x1, 0x1);
        gbc.writeMem(0x17d5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x8100);
        EXPECT(gbc.pc(), 0x17d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01C3
        gbc.setState(0xbc28, 0x4b4c, 0x58e0, 0x62c, 0xb284, 0x9566, 0x1, 0x1);
        gbc.writeMem(0xbc28, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x4b4c);
        EXPECT(gbc.pc(), 0xbc29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc28), 0x37);
        // 37 01C4
        gbc.setState(0x2989, 0x60a, 0x1620, 0x2e4c, 0xf410, 0xc8fd, 0x1, 0x0);
        gbc.writeMem(0x2989, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x60a);
        EXPECT(gbc.pc(), 0x298a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01C5
        gbc.setState(0x8f5e, 0xf081, 0x21f0, 0x9522, 0xd7ed, 0x636b, 0x1, 0x1);
        gbc.writeMem(0x8f5e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xf081);
        EXPECT(gbc.pc(), 0x8f5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f5e), 0x37);
        // 37 01C6
        gbc.setState(0xe89b, 0xd186, 0x5620, 0xbe4a, 0x2d91, 0x3506, 0x0, 0x0);
        gbc.writeMem(0xe89b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xd186);
        EXPECT(gbc.pc(), 0xe89c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe89b), 0x37);
        // 37 01C7
        gbc.setState(0x56dc, 0xab4f, 0x8300, 0x6494, 0x682, 0x6d69, 0x0, 0x1);
        gbc.writeMem(0x56dc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xab4f);
        EXPECT(gbc.pc(), 0x56dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01C8
        gbc.setState(0xbd53, 0xbb15, 0xa170, 0xde82, 0x80fe, 0x6718, 0x1, 0x1);
        gbc.writeMem(0xbd53, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xbb15);
        EXPECT(gbc.pc(), 0xbd54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd53), 0x37);
        // 37 01C9
        gbc.setState(0x528b, 0xf4ba, 0xbb10, 0xe681, 0x841, 0x6374, 0x0, 0x1);
        gbc.writeMem(0x528b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xf4ba);
        EXPECT(gbc.pc(), 0x528c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01CA
        gbc.setState(0xdb72, 0x9df8, 0xbfc0, 0xa269, 0xbdcb, 0x51ea, 0x1, 0x1);
        gbc.writeMem(0xdb72, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x9df8);
        EXPECT(gbc.pc(), 0xdb73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb72), 0x37);
        // 37 01CB
        gbc.setState(0xb34e, 0x6403, 0x24c0, 0x1762, 0x8514, 0xa925, 0x0, 0x1);
        gbc.writeMem(0xb34e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x6403);
        EXPECT(gbc.pc(), 0xb34f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb34e), 0x37);
        // 37 01CC
        gbc.setState(0x88a3, 0x8b2b, 0xe3c0, 0x8704, 0x4d, 0xb53c, 0x0, 0x1);
        gbc.writeMem(0x88a3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x8b2b);
        EXPECT(gbc.pc(), 0x88a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88a3), 0x37);
        // 37 01CD
        gbc.setState(0xa3e9, 0x8aca, 0x3e0, 0xf4fc, 0x8cf1, 0x60a, 0x1, 0x1);
        gbc.writeMem(0xa3e9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x8aca);
        EXPECT(gbc.pc(), 0xa3ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3e9), 0x37);
        // 37 01CE
        gbc.setState(0x9717, 0xdf57, 0x5420, 0xa39a, 0x43f9, 0x41ac, 0x1, 0x0);
        gbc.writeMem(0x9717, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xdf57);
        EXPECT(gbc.pc(), 0x9718);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9717), 0x37);
        // 37 01CF
        gbc.setState(0x6c03, 0xe59, 0x6990, 0x573c, 0x31d1, 0x7ab9, 0x0, 0x1);
        gbc.writeMem(0x6c03, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xe59);
        EXPECT(gbc.pc(), 0x6c04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01D0
        gbc.setState(0x31e8, 0x203, 0x8ab0, 0xef1a, 0xe8e3, 0x635f, 0x0, 0x0);
        gbc.writeMem(0x31e8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x203);
        EXPECT(gbc.pc(), 0x31e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01D1
        gbc.setState(0x1506, 0x30c7, 0x6d10, 0xff01, 0x7b8, 0xea0d, 0x1, 0x1);
        gbc.writeMem(0x1506, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x30c7);
        EXPECT(gbc.pc(), 0x1507);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01D2
        gbc.setState(0xb8d2, 0xb545, 0xd120, 0x8041, 0xaa61, 0x57f0, 0x0, 0x0);
        gbc.writeMem(0xb8d2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xb545);
        EXPECT(gbc.pc(), 0xb8d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8d2), 0x37);
        // 37 01D3
        gbc.setState(0x58ed, 0x2cdd, 0x3d40, 0x397c, 0x3605, 0xcdcc, 0x0, 0x1);
        gbc.writeMem(0x58ed, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x2cdd);
        EXPECT(gbc.pc(), 0x58ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01D4
        gbc.setState(0xe68a, 0xcb3c, 0x8170, 0x4842, 0x1ac8, 0xdd6b, 0x1, 0x0);
        gbc.writeMem(0xe68a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xcb3c);
        EXPECT(gbc.pc(), 0xe68b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe68a), 0x37);
        // 37 01D5
        gbc.setState(0xa250, 0xdee3, 0x7430, 0x8d3c, 0x5aaf, 0xaa31, 0x1, 0x1);
        gbc.writeMem(0xa250, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xdee3);
        EXPECT(gbc.pc(), 0xa251);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa250), 0x37);
        // 37 01D6
        gbc.setState(0xc013, 0x3cfd, 0x6330, 0x24a, 0xc253, 0x9bb1, 0x0, 0x0);
        gbc.writeMem(0xc013, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x3cfd);
        EXPECT(gbc.pc(), 0xc014);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc013), 0x37);
        // 37 01D7
        gbc.setState(0x33b6, 0x928c, 0x3b00, 0x88a3, 0x9d41, 0x3f75, 0x1, 0x0);
        gbc.writeMem(0x33b6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x928c);
        EXPECT(gbc.pc(), 0x33b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01D8
        gbc.setState(0x31f7, 0xfbe9, 0x2680, 0xadcc, 0x9f9a, 0xb3ba, 0x0, 0x1);
        gbc.writeMem(0x31f7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xfbe9);
        EXPECT(gbc.pc(), 0x31f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01D9
        gbc.setState(0x1f13, 0x14e, 0x1640, 0x4c22, 0xca4a, 0xe697, 0x0, 0x0);
        gbc.writeMem(0x1f13, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x14e);
        EXPECT(gbc.pc(), 0x1f14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01DA
        gbc.setState(0x83ab, 0x5502, 0x3a80, 0xd645, 0xf167, 0x496a, 0x0, 0x1);
        gbc.writeMem(0x83ab, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x5502);
        EXPECT(gbc.pc(), 0x83ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83ab), 0x37);
        // 37 01DB
        gbc.setState(0x1046, 0x699, 0x9d70, 0x40cb, 0x3c7, 0x4cc, 0x0, 0x0);
        gbc.writeMem(0x1046, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x699);
        EXPECT(gbc.pc(), 0x1047);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01DC
        gbc.setState(0x7395, 0xdd29, 0xd5e0, 0x43a9, 0xdee2, 0x13a1, 0x1, 0x1);
        gbc.writeMem(0x7395, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xdd29);
        EXPECT(gbc.pc(), 0x7396);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01DD
        gbc.setState(0x5333, 0x9041, 0x2230, 0xbc76, 0xd552, 0x34dd, 0x0, 0x0);
        gbc.writeMem(0x5333, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x9041);
        EXPECT(gbc.pc(), 0x5334);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01DF
        gbc.setState(0x5ffa, 0x1c9c, 0x210, 0x9cb5, 0xaf18, 0x8b70, 0x0, 0x0);
        gbc.writeMem(0x5ffa, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x1c9c);
        EXPECT(gbc.pc(), 0x5ffb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01E1
        gbc.setState(0x594f, 0x322f, 0xc870, 0x48fb, 0x3a3f, 0x832a, 0x1, 0x0);
        gbc.writeMem(0x594f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x322f);
        EXPECT(gbc.pc(), 0x5950);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01E2
        gbc.setState(0xbdf4, 0xe83c, 0x49a0, 0x582, 0xc170, 0x27c8, 0x1, 0x1);
        gbc.writeMem(0xbdf4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xe83c);
        EXPECT(gbc.pc(), 0xbdf5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdf4), 0x37);
        // 37 01E3
        gbc.setState(0x9dba, 0xc524, 0x7d80, 0x9515, 0x1fd0, 0x7d12, 0x1, 0x1);
        gbc.writeMem(0x9dba, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xc524);
        EXPECT(gbc.pc(), 0x9dbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dba), 0x37);
        // 37 01E4
        gbc.setState(0xd19f, 0xdfa6, 0x6170, 0x54d0, 0xaf3c, 0x200d, 0x1, 0x1);
        gbc.writeMem(0xd19f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xdfa6);
        EXPECT(gbc.pc(), 0xd1a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd19f), 0x37);
        // 37 01E5
        gbc.setState(0x90bf, 0xf0bd, 0x8b90, 0xb855, 0x92cb, 0x321d, 0x1, 0x0);
        gbc.writeMem(0x90bf, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xf0bd);
        EXPECT(gbc.pc(), 0x90c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90bf), 0x37);
        // 37 01E6
        gbc.setState(0x8d34, 0xdd51, 0xb660, 0xbaa9, 0x30b0, 0xd115, 0x0, 0x0);
        gbc.writeMem(0x8d34, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xdd51);
        EXPECT(gbc.pc(), 0x8d35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d34), 0x37);
        // 37 01E7
        gbc.setState(0xba29, 0xc75e, 0xc450, 0xe49c, 0x7777, 0xe7e9, 0x0, 0x1);
        gbc.writeMem(0xba29, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xc75e);
        EXPECT(gbc.pc(), 0xba2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba29), 0x37);
        // 37 01E8
        gbc.setState(0xeaab, 0x9f55, 0x8220, 0x6c7e, 0xbfc2, 0x479a, 0x0, 0x0);
        gbc.writeMem(0xeaab, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x9f55);
        EXPECT(gbc.pc(), 0xeaac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeaab), 0x37);
        // 37 01E9
        gbc.setState(0x98da, 0x5c47, 0xc690, 0xe7bd, 0x8911, 0xa2b8, 0x0, 0x0);
        gbc.writeMem(0x98da, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x5c47);
        EXPECT(gbc.pc(), 0x98db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98da), 0x37);
        // 37 01EB
        gbc.setState(0x23a8, 0x3026, 0x78e0, 0xc6b1, 0x143a, 0x190b, 0x0, 0x1);
        gbc.writeMem(0x23a8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x3026);
        EXPECT(gbc.pc(), 0x23a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01EC
        gbc.setState(0xa6df, 0xd4c7, 0xd750, 0xd70e, 0x5d04, 0x92ad, 0x0, 0x0);
        gbc.writeMem(0xa6df, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xd4c7);
        EXPECT(gbc.pc(), 0xa6e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6df), 0x37);
        // 37 01ED
        gbc.setState(0x84e1, 0x71ae, 0x5740, 0x13a3, 0xacb6, 0x96ab, 0x1, 0x1);
        gbc.writeMem(0x84e1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x71ae);
        EXPECT(gbc.pc(), 0x84e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84e1), 0x37);
        // 37 01EE
        gbc.setState(0xff, 0x6459, 0xd420, 0x46fc, 0x12a7, 0xcf1, 0x1, 0x0);
        gbc.writeMem(0xff, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x6459);
        EXPECT(gbc.pc(), 0x100);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01EF
        gbc.setState(0xa76f, 0xe4c7, 0xff0, 0x2f99, 0x7530, 0x36cf, 0x0, 0x1);
        gbc.writeMem(0xa76f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xe4c7);
        EXPECT(gbc.pc(), 0xa770);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa76f), 0x37);
        // 37 01F0
        gbc.setState(0x9fa, 0xce49, 0x2800, 0x809e, 0x5886, 0x2b14, 0x0, 0x0);
        gbc.writeMem(0x9fa, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xce49);
        EXPECT(gbc.pc(), 0x9fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01F1
        gbc.setState(0xeea4, 0x160c, 0x7e80, 0x922a, 0x1d31, 0x6ebc, 0x0, 0x1);
        gbc.writeMem(0xeea4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x160c);
        EXPECT(gbc.pc(), 0xeea5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeea4), 0x37);
        // 37 01F3
        gbc.setState(0xe7ea, 0xd5ed, 0xcdc0, 0x2f29, 0x52a3, 0x7877, 0x1, 0x1);
        gbc.writeMem(0xe7ea, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xd5ed);
        EXPECT(gbc.pc(), 0xe7eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7ea), 0x37);
        // 37 01F4
        gbc.setState(0xe6cd, 0x682, 0x83c0, 0x9799, 0xc163, 0x239a, 0x0, 0x1);
        gbc.writeMem(0xe6cd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x682);
        EXPECT(gbc.pc(), 0xe6ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6cd), 0x37);
        // 37 01F5
        gbc.setState(0x8de6, 0xcf1a, 0xf310, 0x459f, 0xf131, 0x8fb4, 0x1, 0x1);
        gbc.writeMem(0x8de6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xcf1a);
        EXPECT(gbc.pc(), 0x8de7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8de6), 0x37);
        // 37 01F6
        gbc.setState(0xe28c, 0x6c22, 0xab80, 0x118, 0xd52b, 0x4020, 0x0, 0x1);
        gbc.writeMem(0xe28c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x6c22);
        EXPECT(gbc.pc(), 0xe28d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe28c), 0x37);
        // 37 01F7
        gbc.setState(0xd626, 0x2fd0, 0xe850, 0x48a6, 0x8add, 0x45e2, 0x1, 0x1);
        gbc.writeMem(0xd626, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x2fd0);
        EXPECT(gbc.pc(), 0xd627);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd626), 0x37);
        // 37 01F8
        gbc.setState(0x3ae2, 0x495b, 0xd620, 0x3566, 0x8faa, 0x672, 0x1, 0x1);
        gbc.writeMem(0x3ae2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x495b);
        EXPECT(gbc.pc(), 0x3ae3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01F9
        gbc.setState(0xa752, 0x708f, 0x83b0, 0x32ff, 0x74d0, 0xf718, 0x1, 0x1);
        gbc.writeMem(0xa752, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x708f);
        EXPECT(gbc.pc(), 0xa753);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa752), 0x37);
        // 37 01FA
        gbc.setState(0x9ad6, 0xda37, 0xeb10, 0xbb0a, 0x1d84, 0x9be0, 0x0, 0x0);
        gbc.writeMem(0x9ad6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xda37);
        EXPECT(gbc.pc(), 0x9ad7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ad6), 0x37);
        // 37 01FB
        gbc.setState(0x2bd3, 0xddf7, 0x1c50, 0x84e2, 0x6dcc, 0x57e6, 0x0, 0x0);
        gbc.writeMem(0x2bd3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xddf7);
        EXPECT(gbc.pc(), 0x2bd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01FC
        gbc.setState(0x8c6, 0x2aa3, 0xd680, 0xb549, 0x8c2a, 0x8b5d, 0x1, 0x1);
        gbc.writeMem(0x8c6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x2aa3);
        EXPECT(gbc.pc(), 0x8c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01FD
        gbc.setState(0x3823, 0x48d, 0x92e0, 0x44f0, 0x6b83, 0xf21, 0x0, 0x0);
        gbc.writeMem(0x3823, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x48d);
        EXPECT(gbc.pc(), 0x3824);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 01FE
        gbc.setState(0x9edc, 0x7c49, 0x33a0, 0x2f4f, 0x6e25, 0xd616, 0x0, 0x0);
        gbc.writeMem(0x9edc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x7c49);
        EXPECT(gbc.pc(), 0x9edd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9edc), 0x37);
        // 37 01FF
        gbc.setState(0x1389, 0x1aac, 0x7b00, 0x52ab, 0xb7ef, 0x9cca, 0x0, 0x1);
        gbc.writeMem(0x1389, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x1aac);
        EXPECT(gbc.pc(), 0x138a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0200
        gbc.setState(0xd5cb, 0xcb76, 0xc910, 0xd0cb, 0x5454, 0x498b, 0x0, 0x0);
        gbc.writeMem(0xd5cb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xcb76);
        EXPECT(gbc.pc(), 0xd5cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5cb), 0x37);
        // 37 0201
        gbc.setState(0xbf5d, 0xc43d, 0x69f0, 0xebdf, 0x58cd, 0xd87c, 0x1, 0x0);
        gbc.writeMem(0xbf5d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xc43d);
        EXPECT(gbc.pc(), 0xbf5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf5d), 0x37);
        // 37 0202
        gbc.setState(0xe8dc, 0xe1c4, 0xa960, 0x55d6, 0xb47b, 0xc92e, 0x0, 0x1);
        gbc.writeMem(0xe8dc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xe1c4);
        EXPECT(gbc.pc(), 0xe8dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8dc), 0x37);
        // 37 0203
        gbc.setState(0x1629, 0x51c1, 0x5080, 0x2f10, 0x3274, 0xd57a, 0x0, 0x1);
        gbc.writeMem(0x1629, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x51c1);
        EXPECT(gbc.pc(), 0x162a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0204
        gbc.setState(0x2d05, 0xd90f, 0xa4b0, 0xf50e, 0x27a7, 0x7af0, 0x1, 0x0);
        gbc.writeMem(0x2d05, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xd90f);
        EXPECT(gbc.pc(), 0x2d06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0205
        gbc.setState(0x4cec, 0xca54, 0x3bd0, 0xe5cb, 0xfffb, 0x7da8, 0x1, 0x1);
        gbc.writeMem(0x4cec, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xca54);
        EXPECT(gbc.pc(), 0x4ced);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0206
        gbc.setState(0x1f98, 0x601a, 0xef30, 0x6720, 0x8679, 0xfdbb, 0x1, 0x1);
        gbc.writeMem(0x1f98, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x601a);
        EXPECT(gbc.pc(), 0x1f99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0207
        gbc.setState(0xda52, 0xb77, 0x9e80, 0xfeae, 0xfe78, 0xae81, 0x1, 0x0);
        gbc.writeMem(0xda52, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xb77);
        EXPECT(gbc.pc(), 0xda53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda52), 0x37);
        // 37 0208
        gbc.setState(0x5d7e, 0x6d8e, 0x9ba0, 0xc7ad, 0xbefb, 0xb7cb, 0x0, 0x0);
        gbc.writeMem(0x5d7e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x6d8e);
        EXPECT(gbc.pc(), 0x5d7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0209
        gbc.setState(0x1c59, 0xd366, 0x8ae0, 0x1283, 0xba54, 0xfd6f, 0x1, 0x0);
        gbc.writeMem(0x1c59, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xd366);
        EXPECT(gbc.pc(), 0x1c5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 020A
        gbc.setState(0x38ef, 0xdf51, 0xe5f0, 0x86bc, 0xa856, 0x8bec, 0x1, 0x1);
        gbc.writeMem(0x38ef, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xdf51);
        EXPECT(gbc.pc(), 0x38f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 020B
        gbc.setState(0xda, 0xd3c1, 0xe4f0, 0x890f, 0xf7e4, 0xce34, 0x1, 0x1);
        gbc.writeMem(0xda, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xd3c1);
        EXPECT(gbc.pc(), 0xdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 020C
        gbc.setState(0xa933, 0xa444, 0x4300, 0xe150, 0xae0d, 0x3c1b, 0x0, 0x0);
        gbc.writeMem(0xa933, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xa444);
        EXPECT(gbc.pc(), 0xa934);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa933), 0x37);
        // 37 020D
        gbc.setState(0xa093, 0x71, 0xb270, 0x2264, 0x3f71, 0x70b6, 0x0, 0x1);
        gbc.writeMem(0xa093, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x71);
        EXPECT(gbc.pc(), 0xa094);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa093), 0x37);
        // 37 020E
        gbc.setState(0x2a67, 0x709c, 0xb870, 0x3799, 0x2d37, 0x3ea6, 0x0, 0x1);
        gbc.writeMem(0x2a67, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x709c);
        EXPECT(gbc.pc(), 0x2a68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 020F
        gbc.setState(0x66de, 0xefc9, 0x0, 0xd874, 0x4c8d, 0xb2d9, 0x0, 0x0);
        gbc.writeMem(0x66de, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xefc9);
        EXPECT(gbc.pc(), 0x66df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0210
        gbc.setState(0xe8f, 0x469, 0x8540, 0x1f2b, 0x2af8, 0x7a, 0x1, 0x0);
        gbc.writeMem(0xe8f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x469);
        EXPECT(gbc.pc(), 0xe90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0211
        gbc.setState(0xcf10, 0x4ea, 0x5210, 0xd0fc, 0x999, 0x5fb5, 0x1, 0x0);
        gbc.writeMem(0xcf10, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x4ea);
        EXPECT(gbc.pc(), 0xcf11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf10), 0x37);
        // 37 0212
        gbc.setState(0xaa55, 0x1134, 0x1780, 0x746d, 0x6aac, 0x3233, 0x1, 0x1);
        gbc.writeMem(0xaa55, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x1134);
        EXPECT(gbc.pc(), 0xaa56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa55), 0x37);
        // 37 0213
        gbc.setState(0x736f, 0x6e8f, 0x8de0, 0x854e, 0x52d0, 0x4cca, 0x1, 0x0);
        gbc.writeMem(0x736f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x6e8f);
        EXPECT(gbc.pc(), 0x7370);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0214
        gbc.setState(0x2c71, 0xb3c, 0x9c50, 0x891e, 0x212, 0xbc56, 0x1, 0x1);
        gbc.writeMem(0x2c71, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xb3c);
        EXPECT(gbc.pc(), 0x2c72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0215
        gbc.setState(0x14d1, 0xf152, 0xd5c0, 0x7f04, 0x9bb3, 0x1bc7, 0x0, 0x0);
        gbc.writeMem(0x14d1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xf152);
        EXPECT(gbc.pc(), 0x14d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0216
        gbc.setState(0x69d4, 0xd0ea, 0x20c0, 0x153a, 0x7ce0, 0x8f00, 0x1, 0x1);
        gbc.writeMem(0x69d4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xd0ea);
        EXPECT(gbc.pc(), 0x69d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0217
        gbc.setState(0x9f4c, 0x4a69, 0xa6a0, 0x163e, 0x8645, 0xb90, 0x0, 0x1);
        gbc.writeMem(0x9f4c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x4a69);
        EXPECT(gbc.pc(), 0x9f4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f4c), 0x37);
        // 37 0218
        gbc.setState(0x9910, 0x9f6e, 0x1c80, 0x1772, 0xdeb4, 0x6b0e, 0x0, 0x1);
        gbc.writeMem(0x9910, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x9f6e);
        EXPECT(gbc.pc(), 0x9911);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9910), 0x37);
        // 37 0219
        gbc.setState(0x424c, 0xbaa3, 0x9e20, 0xbda4, 0xf1f7, 0x5097, 0x0, 0x0);
        gbc.writeMem(0x424c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xbaa3);
        EXPECT(gbc.pc(), 0x424d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 021A
        gbc.setState(0x9a07, 0x6b87, 0x7940, 0xd9bf, 0xbca8, 0xb441, 0x1, 0x1);
        gbc.writeMem(0x9a07, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x6b87);
        EXPECT(gbc.pc(), 0x9a08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a07), 0x37);
        // 37 021B
        gbc.setState(0xb9e7, 0x7cb8, 0xc7a0, 0x950, 0x57f2, 0xebec, 0x0, 0x0);
        gbc.writeMem(0xb9e7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x7cb8);
        EXPECT(gbc.pc(), 0xb9e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9e7), 0x37);
        // 37 021C
        gbc.setState(0x9d27, 0x268c, 0xa480, 0xbc6d, 0x3c8d, 0x6287, 0x1, 0x0);
        gbc.writeMem(0x9d27, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x268c);
        EXPECT(gbc.pc(), 0x9d28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d27), 0x37);
        // 37 021D
        gbc.setState(0x2064, 0x8ed4, 0x4430, 0x7558, 0x3ff8, 0x59a5, 0x0, 0x1);
        gbc.writeMem(0x2064, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x8ed4);
        EXPECT(gbc.pc(), 0x2065);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 021F
        gbc.setState(0x1a3, 0x2cbe, 0xd650, 0xbee2, 0x1ff3, 0x7750, 0x1, 0x1);
        gbc.writeMem(0x1a3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x2cbe);
        EXPECT(gbc.pc(), 0x1a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0221
        gbc.setState(0x3e43, 0x27a0, 0xb100, 0x1db1, 0x5d6a, 0x7576, 0x1, 0x1);
        gbc.writeMem(0x3e43, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x27a0);
        EXPECT(gbc.pc(), 0x3e44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0222
        gbc.setState(0x14de, 0xcbe5, 0x5310, 0x65d7, 0xc574, 0x21a1, 0x0, 0x1);
        gbc.writeMem(0x14de, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xcbe5);
        EXPECT(gbc.pc(), 0x14df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0223
        gbc.setState(0x75ce, 0x9f12, 0x83e0, 0xe099, 0x8de1, 0x5be7, 0x0, 0x0);
        gbc.writeMem(0x75ce, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9f12);
        EXPECT(gbc.pc(), 0x75cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0224
        gbc.setState(0xdd3f, 0x8538, 0x7250, 0x891b, 0x8a38, 0x8d76, 0x0, 0x0);
        gbc.writeMem(0xdd3f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x8538);
        EXPECT(gbc.pc(), 0xdd40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd3f), 0x37);
        // 37 0225
        gbc.setState(0xc5a1, 0x115e, 0x65e0, 0x380c, 0xddb5, 0x57bf, 0x1, 0x1);
        gbc.writeMem(0xc5a1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x115e);
        EXPECT(gbc.pc(), 0xc5a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5a1), 0x37);
        // 37 0226
        gbc.setState(0x87db, 0x1ddb, 0x7600, 0xfc34, 0xf288, 0x8e1, 0x1, 0x0);
        gbc.writeMem(0x87db, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x1ddb);
        EXPECT(gbc.pc(), 0x87dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87db), 0x37);
        // 37 0227
        gbc.setState(0x10f5, 0xea68, 0x24d0, 0xf474, 0x344c, 0x668b, 0x0, 0x0);
        gbc.writeMem(0x10f5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xea68);
        EXPECT(gbc.pc(), 0x10f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0228
        gbc.setState(0xa0d9, 0x27cc, 0x77f0, 0x2a46, 0x7329, 0xafd6, 0x0, 0x0);
        gbc.writeMem(0xa0d9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x27cc);
        EXPECT(gbc.pc(), 0xa0da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0d9), 0x37);
        // 37 022A
        gbc.setState(0xa37c, 0xd5e2, 0x5fc0, 0xff63, 0x3b56, 0x9096, 0x0, 0x1);
        gbc.writeMem(0xa37c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xd5e2);
        EXPECT(gbc.pc(), 0xa37d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa37c), 0x37);
        // 37 022B
        gbc.setState(0x90d, 0x3cc6, 0xda90, 0x2cf8, 0x83f0, 0x6219, 0x1, 0x0);
        gbc.writeMem(0x90d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x3cc6);
        EXPECT(gbc.pc(), 0x90e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 022C
        gbc.setState(0x10af, 0x93b6, 0x520, 0x7b28, 0x1de2, 0x488f, 0x1, 0x1);
        gbc.writeMem(0x10af, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x93b6);
        EXPECT(gbc.pc(), 0x10b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 022D
        gbc.setState(0x205f, 0x3f64, 0xe510, 0xd2e8, 0xfe76, 0x9f2, 0x1, 0x1);
        gbc.writeMem(0x205f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x3f64);
        EXPECT(gbc.pc(), 0x2060);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 022F
        gbc.setState(0xb2d2, 0xc5ae, 0xf990, 0xc3fe, 0xdcb6, 0x443, 0x1, 0x1);
        gbc.writeMem(0xb2d2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xc5ae);
        EXPECT(gbc.pc(), 0xb2d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2d2), 0x37);
        // 37 0230
        gbc.setState(0x3db8, 0x5ed2, 0xdd90, 0xd366, 0xca03, 0x3396, 0x0, 0x1);
        gbc.writeMem(0x3db8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x5ed2);
        EXPECT(gbc.pc(), 0x3db9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0231
        gbc.setState(0x2e28, 0x74bd, 0xf400, 0xe3f1, 0xfd3b, 0x8a40, 0x1, 0x0);
        gbc.writeMem(0x2e28, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x74bd);
        EXPECT(gbc.pc(), 0x2e29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0232
        gbc.setState(0x3f0, 0xd901, 0x3950, 0xeba9, 0x64a6, 0x167, 0x1, 0x0);
        gbc.writeMem(0x3f0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xd901);
        EXPECT(gbc.pc(), 0x3f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0233
        gbc.setState(0x7077, 0x341f, 0x96d0, 0x97ab, 0x8958, 0x6abe, 0x0, 0x0);
        gbc.writeMem(0x7077, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x341f);
        EXPECT(gbc.pc(), 0x7078);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0234
        gbc.setState(0x5c87, 0x666b, 0x940, 0xc037, 0x251a, 0xfadd, 0x0, 0x0);
        gbc.writeMem(0x5c87, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x666b);
        EXPECT(gbc.pc(), 0x5c88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0235
        gbc.setState(0xba8, 0xe139, 0x8a50, 0x1753, 0xb656, 0x938d, 0x0, 0x0);
        gbc.writeMem(0xba8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xe139);
        EXPECT(gbc.pc(), 0xba9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0236
        gbc.setState(0x70cb, 0x13da, 0x9f70, 0x14cc, 0xf956, 0x71f5, 0x0, 0x0);
        gbc.writeMem(0x70cb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x13da);
        EXPECT(gbc.pc(), 0x70cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0237
        gbc.setState(0x30a8, 0x27ed, 0x1d00, 0x4c76, 0x9169, 0x3425, 0x1, 0x0);
        gbc.writeMem(0x30a8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x27ed);
        EXPECT(gbc.pc(), 0x30a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0238
        gbc.setState(0x5ad3, 0x18a4, 0x440, 0x4b66, 0xbd29, 0xb696, 0x0, 0x0);
        gbc.writeMem(0x5ad3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x18a4);
        EXPECT(gbc.pc(), 0x5ad4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0239
        gbc.setState(0x2826, 0x46d7, 0xcfa0, 0xf0d0, 0x1a30, 0xa18d, 0x0, 0x0);
        gbc.writeMem(0x2826, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x46d7);
        EXPECT(gbc.pc(), 0x2827);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 023A
        gbc.setState(0x43b9, 0x6868, 0x8640, 0xac9, 0x3de1, 0xcbe6, 0x1, 0x1);
        gbc.writeMem(0x43b9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x6868);
        EXPECT(gbc.pc(), 0x43ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 023B
        gbc.setState(0xc4a1, 0x8686, 0xc6b0, 0xac9a, 0xfc2c, 0x6164, 0x1, 0x1);
        gbc.writeMem(0xc4a1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x8686);
        EXPECT(gbc.pc(), 0xc4a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4a1), 0x37);
        // 37 023C
        gbc.setState(0x4234, 0xafec, 0x260, 0xb9ed, 0xa897, 0xab9e, 0x0, 0x1);
        gbc.writeMem(0x4234, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xafec);
        EXPECT(gbc.pc(), 0x4235);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 023D
        gbc.setState(0x6b0e, 0xe210, 0x130, 0x3cf, 0x5faa, 0xaa9a, 0x0, 0x1);
        gbc.writeMem(0x6b0e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xe210);
        EXPECT(gbc.pc(), 0x6b0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 023F
        gbc.setState(0xe08, 0xdb75, 0x50d0, 0xb443, 0x82c3, 0x20aa, 0x0, 0x1);
        gbc.writeMem(0xe08, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xdb75);
        EXPECT(gbc.pc(), 0xe09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0240
        gbc.setState(0xcb10, 0x38c6, 0xa8a0, 0x6f15, 0x29ef, 0x26e1, 0x0, 0x0);
        gbc.writeMem(0xcb10, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x38c6);
        EXPECT(gbc.pc(), 0xcb11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb10), 0x37);
        // 37 0241
        gbc.setState(0x1825, 0xe0f0, 0xc340, 0x7db7, 0xa5c, 0x2de3, 0x0, 0x0);
        gbc.writeMem(0x1825, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xe0f0);
        EXPECT(gbc.pc(), 0x1826);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0242
        gbc.setState(0x11f4, 0x9919, 0xf530, 0x61c3, 0x5e36, 0xa404, 0x1, 0x0);
        gbc.writeMem(0x11f4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x9919);
        EXPECT(gbc.pc(), 0x11f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0243
        gbc.setState(0x20f7, 0x2b4b, 0x340, 0x38c2, 0x83cb, 0x7686, 0x1, 0x1);
        gbc.writeMem(0x20f7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2b4b);
        EXPECT(gbc.pc(), 0x20f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0244
        gbc.setState(0xe608, 0xa74e, 0xc080, 0x5f99, 0x4ff8, 0x8567, 0x1, 0x1);
        gbc.writeMem(0xe608, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xa74e);
        EXPECT(gbc.pc(), 0xe609);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe608), 0x37);
        // 37 0245
        gbc.setState(0xce10, 0x4a9e, 0x5450, 0x150, 0x40ee, 0x71a, 0x1, 0x0);
        gbc.writeMem(0xce10, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x4a9e);
        EXPECT(gbc.pc(), 0xce11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce10), 0x37);
        // 37 0246
        gbc.setState(0x7a4, 0xcb3c, 0xec80, 0x1a00, 0xa5ed, 0x2013, 0x0, 0x0);
        gbc.writeMem(0x7a4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xcb3c);
        EXPECT(gbc.pc(), 0x7a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0247
        gbc.setState(0x580f, 0x629b, 0xe250, 0xdf5f, 0xdcad, 0xce74, 0x0, 0x0);
        gbc.writeMem(0x580f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x629b);
        EXPECT(gbc.pc(), 0x5810);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0248
        gbc.setState(0x53fd, 0xe626, 0x4920, 0x177a, 0xcf89, 0x285b, 0x0, 0x1);
        gbc.writeMem(0x53fd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xe626);
        EXPECT(gbc.pc(), 0x53fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0249
        gbc.setState(0xc036, 0x4e2e, 0x7440, 0xa054, 0x6b7b, 0x13a1, 0x1, 0x1);
        gbc.writeMem(0xc036, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x4e2e);
        EXPECT(gbc.pc(), 0xc037);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc036), 0x37);
        // 37 024A
        gbc.setState(0x22b1, 0xa70, 0x34f0, 0x1b81, 0x5b39, 0x23e8, 0x1, 0x0);
        gbc.writeMem(0x22b1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xa70);
        EXPECT(gbc.pc(), 0x22b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 024B
        gbc.setState(0x1cce, 0xdd33, 0x9180, 0x2219, 0xa443, 0x5eed, 0x0, 0x1);
        gbc.writeMem(0x1cce, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xdd33);
        EXPECT(gbc.pc(), 0x1ccf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 024C
        gbc.setState(0x9dd9, 0x4715, 0xf170, 0xac5, 0xa108, 0x9708, 0x0, 0x1);
        gbc.writeMem(0x9dd9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x4715);
        EXPECT(gbc.pc(), 0x9dda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dd9), 0x37);
        // 37 024D
        gbc.setState(0x3d49, 0xc7cb, 0x9060, 0x13d5, 0x8317, 0x57e2, 0x0, 0x1);
        gbc.writeMem(0x3d49, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xc7cb);
        EXPECT(gbc.pc(), 0x3d4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 024E
        gbc.setState(0x6641, 0xdf26, 0x2dd0, 0xdc57, 0xff7, 0x2002, 0x1, 0x0);
        gbc.writeMem(0x6641, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xdf26);
        EXPECT(gbc.pc(), 0x6642);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 024F
        gbc.setState(0x102, 0x6eca, 0xb740, 0x57f6, 0x793a, 0x2de1, 0x0, 0x1);
        gbc.writeMem(0x102, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x6eca);
        EXPECT(gbc.pc(), 0x103);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0250
        gbc.setState(0x8c06, 0x2120, 0x2c40, 0x57bc, 0x71ec, 0xb90d, 0x1, 0x0);
        gbc.writeMem(0x8c06, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x2120);
        EXPECT(gbc.pc(), 0x8c07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c06), 0x37);
        // 37 0251
        gbc.setState(0x372, 0x34c4, 0x92b0, 0x31ee, 0x1c01, 0xd201, 0x0, 0x0);
        gbc.writeMem(0x372, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x34c4);
        EXPECT(gbc.pc(), 0x373);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0252
        gbc.setState(0x6a1d, 0x5682, 0x7c40, 0xa181, 0xd79d, 0x3424, 0x0, 0x0);
        gbc.writeMem(0x6a1d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x5682);
        EXPECT(gbc.pc(), 0x6a1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0253
        gbc.setState(0xba8c, 0x3514, 0xd730, 0xfa76, 0x526a, 0x2784, 0x1, 0x0);
        gbc.writeMem(0xba8c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x3514);
        EXPECT(gbc.pc(), 0xba8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba8c), 0x37);
        // 37 0254
        gbc.setState(0xa731, 0xc6dc, 0x13d0, 0xcd1, 0x4c44, 0xbeed, 0x1, 0x0);
        gbc.writeMem(0xa731, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xc6dc);
        EXPECT(gbc.pc(), 0xa732);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa731), 0x37);
        // 37 0255
        gbc.setState(0xae61, 0x6718, 0xce40, 0x8705, 0x6596, 0x90d1, 0x0, 0x1);
        gbc.writeMem(0xae61, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x6718);
        EXPECT(gbc.pc(), 0xae62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae61), 0x37);
        // 37 0256
        gbc.setState(0xab1b, 0x2d66, 0xa480, 0x2915, 0xffb0, 0xd630, 0x1, 0x1);
        gbc.writeMem(0xab1b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x2d66);
        EXPECT(gbc.pc(), 0xab1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab1b), 0x37);
        // 37 0257
        gbc.setState(0x7f53, 0xc259, 0xd6e0, 0xf1b9, 0x61f4, 0xf2b3, 0x1, 0x0);
        gbc.writeMem(0x7f53, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc259);
        EXPECT(gbc.pc(), 0x7f54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0258
        gbc.setState(0xe661, 0xdc0b, 0x3a0, 0xd6aa, 0x8909, 0xa320, 0x1, 0x1);
        gbc.writeMem(0xe661, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xdc0b);
        EXPECT(gbc.pc(), 0xe662);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe661), 0x37);
        // 37 0259
        gbc.setState(0xcab2, 0xdf24, 0xfcb0, 0x52c0, 0x4d54, 0xc50a, 0x0, 0x0);
        gbc.writeMem(0xcab2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xdf24);
        EXPECT(gbc.pc(), 0xcab3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcab2), 0x37);
        // 37 025A
        gbc.setState(0xd692, 0xd6c0, 0xf4f0, 0x272d, 0x4992, 0x6172, 0x1, 0x0);
        gbc.writeMem(0xd692, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd6c0);
        EXPECT(gbc.pc(), 0xd693);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd692), 0x37);
        // 37 025B
        gbc.setState(0x4a27, 0x9b42, 0xd280, 0xd87d, 0x92c0, 0x2099, 0x0, 0x0);
        gbc.writeMem(0x4a27, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x9b42);
        EXPECT(gbc.pc(), 0x4a28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 025C
        gbc.setState(0x652e, 0x158b, 0x7640, 0xc714, 0x9e7b, 0xefa9, 0x0, 0x1);
        gbc.writeMem(0x652e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x158b);
        EXPECT(gbc.pc(), 0x652f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 025D
        gbc.setState(0x7374, 0x1206, 0xe280, 0xc34d, 0x5c88, 0xfc1b, 0x1, 0x1);
        gbc.writeMem(0x7374, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x1206);
        EXPECT(gbc.pc(), 0x7375);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 025E
        gbc.setState(0x2dc6, 0x7f89, 0xc230, 0x5e3e, 0x2b00, 0x3c63, 0x1, 0x1);
        gbc.writeMem(0x2dc6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x7f89);
        EXPECT(gbc.pc(), 0x2dc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 025F
        gbc.setState(0x1d64, 0x9b6c, 0xdab0, 0xcd5, 0x5737, 0xda08, 0x1, 0x1);
        gbc.writeMem(0x1d64, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x9b6c);
        EXPECT(gbc.pc(), 0x1d65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0260
        gbc.setState(0x9beb, 0x385b, 0x620, 0x1292, 0x4d18, 0xfb3, 0x1, 0x1);
        gbc.writeMem(0x9beb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x385b);
        EXPECT(gbc.pc(), 0x9bec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9beb), 0x37);
        // 37 0261
        gbc.setState(0xcab6, 0x1e39, 0xeaa0, 0x7f9, 0xa742, 0x90f3, 0x0, 0x0);
        gbc.writeMem(0xcab6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x1e39);
        EXPECT(gbc.pc(), 0xcab7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcab6), 0x37);
        // 37 0262
        gbc.setState(0xbc8c, 0x5788, 0x7f30, 0xd2d6, 0xdf18, 0x6f7a, 0x1, 0x0);
        gbc.writeMem(0xbc8c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x5788);
        EXPECT(gbc.pc(), 0xbc8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc8c), 0x37);
        // 37 0263
        gbc.setState(0x2816, 0xa02f, 0xfb10, 0x45f9, 0xd9b, 0x228b, 0x1, 0x1);
        gbc.writeMem(0x2816, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xa02f);
        EXPECT(gbc.pc(), 0x2817);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0264
        gbc.setState(0x403f, 0x1b38, 0xd540, 0xf8ba, 0x6c74, 0xb1, 0x0, 0x1);
        gbc.writeMem(0x403f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x1b38);
        EXPECT(gbc.pc(), 0x4040);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0265
        gbc.setState(0x6f60, 0x992a, 0x7db0, 0xf512, 0xccbe, 0xae4c, 0x1, 0x0);
        gbc.writeMem(0x6f60, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x992a);
        EXPECT(gbc.pc(), 0x6f61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0266
        gbc.setState(0x1415, 0xee5d, 0x4550, 0x8140, 0x5345, 0x9b26, 0x0, 0x0);
        gbc.writeMem(0x1415, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xee5d);
        EXPECT(gbc.pc(), 0x1416);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0267
        gbc.setState(0xaddd, 0x151b, 0x8520, 0x752c, 0x5478, 0xc2ce, 0x0, 0x1);
        gbc.writeMem(0xaddd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x151b);
        EXPECT(gbc.pc(), 0xadde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaddd), 0x37);
        // 37 0268
        gbc.setState(0x309d, 0xf0, 0x3650, 0x7b69, 0x505b, 0xa7c1, 0x0, 0x0);
        gbc.writeMem(0x309d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xf0);
        EXPECT(gbc.pc(), 0x309e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0269
        gbc.setState(0xad3b, 0x49fa, 0x2830, 0xadc5, 0xfb8, 0xb404, 0x0, 0x1);
        gbc.writeMem(0xad3b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x49fa);
        EXPECT(gbc.pc(), 0xad3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad3b), 0x37);
        // 37 026A
        gbc.setState(0xa60f, 0x22bb, 0x34f0, 0xa3b0, 0xe6c, 0x6fb8, 0x0, 0x1);
        gbc.writeMem(0xa60f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x22bb);
        EXPECT(gbc.pc(), 0xa610);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa60f), 0x37);
        // 37 026B
        gbc.setState(0xd678, 0x88c, 0x5e0, 0xc5b5, 0x8b22, 0x5be4, 0x1, 0x1);
        gbc.writeMem(0xd678, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x88c);
        EXPECT(gbc.pc(), 0xd679);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd678), 0x37);
        // 37 026C
        gbc.setState(0x76ff, 0xbace, 0x3260, 0x2618, 0x3742, 0xe4e, 0x1, 0x0);
        gbc.writeMem(0x76ff, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xbace);
        EXPECT(gbc.pc(), 0x7700);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 026D
        gbc.setState(0x66f0, 0xa97f, 0x94a0, 0xebfb, 0x167f, 0x2e7f, 0x0, 0x0);
        gbc.writeMem(0x66f0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xa97f);
        EXPECT(gbc.pc(), 0x66f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 026E
        gbc.setState(0xa353, 0xa142, 0x6910, 0x8596, 0xe76c, 0xb78d, 0x0, 0x0);
        gbc.writeMem(0xa353, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xa142);
        EXPECT(gbc.pc(), 0xa354);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa353), 0x37);
        // 37 026F
        gbc.setState(0x70ec, 0xf6a9, 0x1f30, 0x634d, 0x1441, 0x90d0, 0x0, 0x0);
        gbc.writeMem(0x70ec, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xf6a9);
        EXPECT(gbc.pc(), 0x70ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0270
        gbc.setState(0x57af, 0xa987, 0x6950, 0xe9a5, 0x9b1d, 0xdd09, 0x1, 0x0);
        gbc.writeMem(0x57af, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xa987);
        EXPECT(gbc.pc(), 0x57b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0271
        gbc.setState(0x11c9, 0xa78b, 0xf1d0, 0xfd41, 0xd134, 0xdcc4, 0x1, 0x0);
        gbc.writeMem(0x11c9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xa78b);
        EXPECT(gbc.pc(), 0x11ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0272
        gbc.setState(0x78a5, 0x31c9, 0x7f30, 0x4982, 0xb8f3, 0x6a13, 0x1, 0x1);
        gbc.writeMem(0x78a5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x31c9);
        EXPECT(gbc.pc(), 0x78a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0273
        gbc.setState(0x41ed, 0xdcfa, 0x4040, 0x662d, 0x1f6e, 0x87a7, 0x0, 0x0);
        gbc.writeMem(0x41ed, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xdcfa);
        EXPECT(gbc.pc(), 0x41ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0274
        gbc.setState(0x9d, 0xc605, 0x51c0, 0x205b, 0x6cfc, 0xf786, 0x1, 0x1);
        gbc.writeMem(0x9d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xc605);
        EXPECT(gbc.pc(), 0x9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0275
        gbc.setState(0x1546, 0xad5e, 0x8200, 0x1ea2, 0x397b, 0xb82c, 0x1, 0x1);
        gbc.writeMem(0x1546, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xad5e);
        EXPECT(gbc.pc(), 0x1547);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0277
        gbc.setState(0x9ad0, 0x50f, 0x9a60, 0x8eaf, 0x8bbb, 0xdb95, 0x0, 0x0);
        gbc.writeMem(0x9ad0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x50f);
        EXPECT(gbc.pc(), 0x9ad1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ad0), 0x37);
        // 37 0278
        gbc.setState(0x65cb, 0xdb54, 0xaeb0, 0x4401, 0xac0e, 0x5b96, 0x0, 0x0);
        gbc.writeMem(0x65cb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xdb54);
        EXPECT(gbc.pc(), 0x65cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0279
        gbc.setState(0xe683, 0x73fb, 0x74e0, 0xbeb6, 0x639c, 0xc389, 0x1, 0x0);
        gbc.writeMem(0xe683, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x73fb);
        EXPECT(gbc.pc(), 0xe684);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe683), 0x37);
        // 37 027A
        gbc.setState(0x7fe2, 0x1c01, 0x4140, 0x4365, 0xe1df, 0x2bb9, 0x1, 0x0);
        gbc.writeMem(0x7fe2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x1c01);
        EXPECT(gbc.pc(), 0x7fe3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 027B
        gbc.setState(0xa0b, 0xc37b, 0xc6f0, 0x5fc1, 0xbc5d, 0xc6bd, 0x0, 0x1);
        gbc.writeMem(0xa0b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xc37b);
        EXPECT(gbc.pc(), 0xa0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 027C
        gbc.setState(0x678f, 0xfe15, 0x1bc0, 0xdf01, 0x205e, 0x9c79, 0x1, 0x1);
        gbc.writeMem(0x678f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xfe15);
        EXPECT(gbc.pc(), 0x6790);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 027D
        gbc.setState(0xb937, 0x21a5, 0x70a0, 0x6e2e, 0x1d5a, 0x8353, 0x1, 0x0);
        gbc.writeMem(0xb937, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x21a5);
        EXPECT(gbc.pc(), 0xb938);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb937), 0x37);
        // 37 027E
        gbc.setState(0x37e6, 0x157a, 0x1e90, 0x9e2c, 0xf3bf, 0xaef6, 0x1, 0x0);
        gbc.writeMem(0x37e6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x157a);
        EXPECT(gbc.pc(), 0x37e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 027F
        gbc.setState(0xa762, 0xfc63, 0xc2a0, 0xf320, 0x9c01, 0x9beb, 0x0, 0x1);
        gbc.writeMem(0xa762, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xfc63);
        EXPECT(gbc.pc(), 0xa763);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa762), 0x37);
        // 37 0280
        gbc.setState(0x3a52, 0xe909, 0xb7a0, 0xe83b, 0x336b, 0x3ded, 0x0, 0x1);
        gbc.writeMem(0x3a52, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xe909);
        EXPECT(gbc.pc(), 0x3a53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0281
        gbc.setState(0xd48d, 0xfa15, 0xbdd0, 0xa0c1, 0x5710, 0x2d87, 0x0, 0x0);
        gbc.writeMem(0xd48d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xfa15);
        EXPECT(gbc.pc(), 0xd48e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd48d), 0x37);
        // 37 0282
        gbc.setState(0xbf1a, 0x3256, 0x60f0, 0xecab, 0xc99f, 0x3528, 0x0, 0x0);
        gbc.writeMem(0xbf1a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x3256);
        EXPECT(gbc.pc(), 0xbf1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf1a), 0x37);
        // 37 0283
        gbc.setState(0xd3d, 0x6c4a, 0xabd0, 0x52e6, 0x5b3d, 0x30e9, 0x0, 0x1);
        gbc.writeMem(0xd3d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x6c4a);
        EXPECT(gbc.pc(), 0xd3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0284
        gbc.setState(0xc50d, 0x10e4, 0x2040, 0x2cce, 0x9044, 0xe70, 0x1, 0x1);
        gbc.writeMem(0xc50d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x10e4);
        EXPECT(gbc.pc(), 0xc50e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc50d), 0x37);
        // 37 0285
        gbc.setState(0xddb3, 0x460a, 0x4a40, 0x3fa9, 0x999d, 0x927b, 0x1, 0x0);
        gbc.writeMem(0xddb3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x460a);
        EXPECT(gbc.pc(), 0xddb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddb3), 0x37);
        // 37 0286
        gbc.setState(0x572e, 0x1cd6, 0x2a90, 0xae9a, 0x1101, 0x5a0f, 0x0, 0x0);
        gbc.writeMem(0x572e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x1cd6);
        EXPECT(gbc.pc(), 0x572f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0287
        gbc.setState(0xbdf9, 0xf98a, 0x9570, 0xc10d, 0xfe89, 0x273, 0x0, 0x0);
        gbc.writeMem(0xbdf9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xf98a);
        EXPECT(gbc.pc(), 0xbdfa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbdf9), 0x37);
        // 37 0288
        gbc.setState(0x82e0, 0x7acf, 0x4bb0, 0xe36e, 0xbdcc, 0x414c, 0x0, 0x1);
        gbc.writeMem(0x82e0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x7acf);
        EXPECT(gbc.pc(), 0x82e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82e0), 0x37);
        // 37 028A
        gbc.setState(0x5b60, 0xaa72, 0xfce0, 0xd94, 0xe4f0, 0x890e, 0x1, 0x0);
        gbc.writeMem(0x5b60, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xaa72);
        EXPECT(gbc.pc(), 0x5b61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 028B
        gbc.setState(0x3934, 0xc263, 0xda50, 0x4db, 0x92b7, 0xb10e, 0x0, 0x1);
        gbc.writeMem(0x3934, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xc263);
        EXPECT(gbc.pc(), 0x3935);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 028C
        gbc.setState(0x5bd5, 0xd43f, 0x5440, 0xf1cc, 0xd8bd, 0xa99d, 0x0, 0x0);
        gbc.writeMem(0x5bd5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xd43f);
        EXPECT(gbc.pc(), 0x5bd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 028D
        gbc.setState(0x8fb6, 0xf2bd, 0xc900, 0x383a, 0xdf4a, 0x3c1d, 0x1, 0x1);
        gbc.writeMem(0x8fb6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xf2bd);
        EXPECT(gbc.pc(), 0x8fb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fb6), 0x37);
        // 37 028E
        gbc.setState(0x9e53, 0xa315, 0x3f70, 0x7dd9, 0xb38b, 0xd7f8, 0x0, 0x1);
        gbc.writeMem(0x9e53, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xa315);
        EXPECT(gbc.pc(), 0x9e54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e53), 0x37);
        // 37 028F
        gbc.setState(0x694, 0x5d40, 0xb760, 0x9712, 0x13d9, 0xdeb1, 0x0, 0x1);
        gbc.writeMem(0x694, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x5d40);
        EXPECT(gbc.pc(), 0x695);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0290
        gbc.setState(0x29d2, 0x1bae, 0x84a0, 0x875, 0x24c, 0x618c, 0x1, 0x1);
        gbc.writeMem(0x29d2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x1bae);
        EXPECT(gbc.pc(), 0x29d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0292
        gbc.setState(0xbcd7, 0x503b, 0x4440, 0xbcea, 0xce85, 0x9819, 0x1, 0x1);
        gbc.writeMem(0xbcd7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x503b);
        EXPECT(gbc.pc(), 0xbcd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcd7), 0x37);
        // 37 0293
        gbc.setState(0x838e, 0x8e0c, 0x5b60, 0x97fd, 0xdce6, 0xc2b1, 0x0, 0x1);
        gbc.writeMem(0x838e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x8e0c);
        EXPECT(gbc.pc(), 0x838f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x838e), 0x37);
        // 37 0295
        gbc.setState(0xce0e, 0x5e7c, 0x44f0, 0xbafe, 0x8535, 0xd79c, 0x1, 0x0);
        gbc.writeMem(0xce0e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x5e7c);
        EXPECT(gbc.pc(), 0xce0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce0e), 0x37);
        // 37 0296
        gbc.setState(0x3a66, 0x69f1, 0x5eb0, 0x42ab, 0xd0be, 0x1493, 0x1, 0x0);
        gbc.writeMem(0x3a66, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x69f1);
        EXPECT(gbc.pc(), 0x3a67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0298
        gbc.setState(0x7cc3, 0x3592, 0x64f0, 0xd833, 0x9fe9, 0x54f1, 0x1, 0x1);
        gbc.writeMem(0x7cc3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x3592);
        EXPECT(gbc.pc(), 0x7cc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0299
        gbc.setState(0x9166, 0x9695, 0xc4c0, 0x269c, 0xc8eb, 0x6f36, 0x1, 0x0);
        gbc.writeMem(0x9166, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x9695);
        EXPECT(gbc.pc(), 0x9167);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9166), 0x37);
        // 37 029A
        gbc.setState(0xe588, 0x2880, 0x25d0, 0xcac7, 0x83ef, 0xaaff, 0x0, 0x1);
        gbc.writeMem(0xe588, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2880);
        EXPECT(gbc.pc(), 0xe589);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe588), 0x37);
        // 37 029B
        gbc.setState(0x6374, 0xfab, 0xdd90, 0x546, 0xe4af, 0xde67, 0x0, 0x0);
        gbc.writeMem(0x6374, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xfab);
        EXPECT(gbc.pc(), 0x6375);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 029C
        gbc.setState(0x5e4, 0x8e4a, 0xbbe0, 0x92ce, 0x6796, 0xfb18, 0x1, 0x1);
        gbc.writeMem(0x5e4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x8e4a);
        EXPECT(gbc.pc(), 0x5e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 029D
        gbc.setState(0xb942, 0xb2ba, 0x76a0, 0x1022, 0x24ed, 0xab29, 0x0, 0x1);
        gbc.writeMem(0xb942, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xb2ba);
        EXPECT(gbc.pc(), 0xb943);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb942), 0x37);
        // 37 029E
        gbc.setState(0x7b31, 0x6ffb, 0x6060, 0x1ae5, 0x4c11, 0x9716, 0x0, 0x0);
        gbc.writeMem(0x7b31, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x6ffb);
        EXPECT(gbc.pc(), 0x7b32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 029F
        gbc.setState(0x8081, 0x367c, 0xd070, 0x8fe3, 0x712a, 0x4b57, 0x0, 0x0);
        gbc.writeMem(0x8081, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x367c);
        EXPECT(gbc.pc(), 0x8082);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8081), 0x37);
        // 37 02A0
        gbc.setState(0xeee, 0xc536, 0x3bc0, 0xcc1f, 0xf6e8, 0x74fb, 0x1, 0x0);
        gbc.writeMem(0xeee, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xc536);
        EXPECT(gbc.pc(), 0xeef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02A1
        gbc.setState(0x810b, 0xa8fb, 0x8470, 0x9a02, 0x300b, 0x2bc6, 0x1, 0x1);
        gbc.writeMem(0x810b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xa8fb);
        EXPECT(gbc.pc(), 0x810c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x810b), 0x37);
        // 37 02A2
        gbc.setState(0x621a, 0x4731, 0x4ce0, 0x6172, 0x689, 0x5191, 0x0, 0x1);
        gbc.writeMem(0x621a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4731);
        EXPECT(gbc.pc(), 0x621b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02A3
        gbc.setState(0xf05, 0xcc5d, 0xfeb0, 0xe079, 0xfc3c, 0x525, 0x1, 0x0);
        gbc.writeMem(0xf05, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xcc5d);
        EXPECT(gbc.pc(), 0xf06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02A4
        gbc.setState(0x7242, 0x5595, 0x2b70, 0x1c00, 0xf3fb, 0x7364, 0x0, 0x1);
        gbc.writeMem(0x7242, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x5595);
        EXPECT(gbc.pc(), 0x7243);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02A5
        gbc.setState(0x437b, 0x2087, 0xf1e0, 0xe7c9, 0xf460, 0xbd8d, 0x1, 0x1);
        gbc.writeMem(0x437b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x2087);
        EXPECT(gbc.pc(), 0x437c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02A6
        gbc.setState(0x461b, 0xa110, 0x43c0, 0xf946, 0x1513, 0x830b, 0x0, 0x0);
        gbc.writeMem(0x461b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xa110);
        EXPECT(gbc.pc(), 0x461c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02A7
        gbc.setState(0xbc88, 0xd304, 0xc070, 0xb5e3, 0xe730, 0x2380, 0x0, 0x0);
        gbc.writeMem(0xbc88, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xd304);
        EXPECT(gbc.pc(), 0xbc89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc88), 0x37);
        // 37 02A8
        gbc.setState(0xceab, 0xd9da, 0x87a0, 0x83fa, 0xc77f, 0xa456, 0x1, 0x1);
        gbc.writeMem(0xceab, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xd9da);
        EXPECT(gbc.pc(), 0xceac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xceab), 0x37);
        // 37 02A9
        gbc.setState(0x4987, 0x9c65, 0xbdc0, 0x6484, 0xb74b, 0xc03e, 0x1, 0x0);
        gbc.writeMem(0x4987, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x9c65);
        EXPECT(gbc.pc(), 0x4988);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02AA
        gbc.setState(0x911f, 0xb4c7, 0xeaf0, 0x613b, 0x377, 0x8a05, 0x1, 0x1);
        gbc.writeMem(0x911f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xb4c7);
        EXPECT(gbc.pc(), 0x9120);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x911f), 0x37);
        // 37 02AB
        gbc.setState(0xeea4, 0xec8e, 0x98d0, 0x6470, 0x92d0, 0x66bf, 0x1, 0x1);
        gbc.writeMem(0xeea4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xec8e);
        EXPECT(gbc.pc(), 0xeea5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeea4), 0x37);
        // 37 02AC
        gbc.setState(0x6151, 0xac89, 0xb400, 0x4ccc, 0xf36, 0x3d1e, 0x0, 0x0);
        gbc.writeMem(0x6151, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xac89);
        EXPECT(gbc.pc(), 0x6152);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02AD
        gbc.setState(0x9f7, 0xad39, 0xb5b0, 0x1ebe, 0x14d5, 0xd253, 0x0, 0x1);
        gbc.writeMem(0x9f7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xad39);
        EXPECT(gbc.pc(), 0x9f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02AF
        gbc.setState(0x3686, 0x2bca, 0x2600, 0x86d8, 0x9341, 0x5032, 0x1, 0x1);
        gbc.writeMem(0x3686, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2bca);
        EXPECT(gbc.pc(), 0x3687);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02B0
        gbc.setState(0xb7a4, 0x2b77, 0xd210, 0xd9bc, 0x2aec, 0xf6ef, 0x1, 0x1);
        gbc.writeMem(0xb7a4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x2b77);
        EXPECT(gbc.pc(), 0xb7a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7a4), 0x37);
        // 37 02B1
        gbc.setState(0xf6, 0xc330, 0xa670, 0xb19b, 0x53a9, 0x5e76, 0x1, 0x1);
        gbc.writeMem(0xf6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xc330);
        EXPECT(gbc.pc(), 0xf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02B2
        gbc.setState(0x92c2, 0xdce5, 0x4720, 0xedb4, 0x6048, 0xeefd, 0x1, 0x0);
        gbc.writeMem(0x92c2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xdce5);
        EXPECT(gbc.pc(), 0x92c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92c2), 0x37);
        // 37 02B3
        gbc.setState(0xc2e, 0x268b, 0x4110, 0xb4d8, 0x14a3, 0xede0, 0x1, 0x1);
        gbc.writeMem(0xc2e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x268b);
        EXPECT(gbc.pc(), 0xc2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02B4
        gbc.setState(0xd6be, 0x8404, 0xcb30, 0xec03, 0xb40d, 0xb9fd, 0x0, 0x1);
        gbc.writeMem(0xd6be, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x8404);
        EXPECT(gbc.pc(), 0xd6bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6be), 0x37);
        // 37 02B5
        gbc.setState(0x7aae, 0xfcb7, 0x9050, 0x4ce8, 0x9b1f, 0x77fe, 0x0, 0x0);
        gbc.writeMem(0x7aae, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xfcb7);
        EXPECT(gbc.pc(), 0x7aaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02B8
        gbc.setState(0x277, 0x39b, 0x7980, 0x72f6, 0x9bf2, 0xbbe6, 0x1, 0x1);
        gbc.writeMem(0x277, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x39b);
        EXPECT(gbc.pc(), 0x278);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02B9
        gbc.setState(0x12a0, 0xcede, 0x7750, 0x19ad, 0xd8cf, 0x685d, 0x1, 0x1);
        gbc.writeMem(0x12a0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xcede);
        EXPECT(gbc.pc(), 0x12a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02BA
        gbc.setState(0xc789, 0xee03, 0x2af0, 0x3ef9, 0xb177, 0x2b00, 0x1, 0x0);
        gbc.writeMem(0xc789, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xee03);
        EXPECT(gbc.pc(), 0xc78a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc789), 0x37);
        // 37 02BC
        gbc.setState(0xe955, 0x4317, 0x9ce0, 0x990f, 0xeb54, 0xc50f, 0x0, 0x1);
        gbc.writeMem(0xe955, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x4317);
        EXPECT(gbc.pc(), 0xe956);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe955), 0x37);
        // 37 02BD
        gbc.setState(0x49a8, 0xdb01, 0x1a50, 0x2620, 0x240a, 0x68d9, 0x1, 0x0);
        gbc.writeMem(0x49a8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xdb01);
        EXPECT(gbc.pc(), 0x49a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02BE
        gbc.setState(0x1092, 0x6034, 0x25e0, 0xa90a, 0x7e07, 0x76a, 0x0, 0x1);
        gbc.writeMem(0x1092, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x6034);
        EXPECT(gbc.pc(), 0x1093);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02BF
        gbc.setState(0xb474, 0xf669, 0xca00, 0xb1ed, 0x4256, 0x6c8f, 0x0, 0x1);
        gbc.writeMem(0xb474, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf669);
        EXPECT(gbc.pc(), 0xb475);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb474), 0x37);
        // 37 02C0
        gbc.setState(0xe570, 0x67ee, 0xfc0, 0x4543, 0x21, 0x323d, 0x1, 0x1);
        gbc.writeMem(0xe570, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x67ee);
        EXPECT(gbc.pc(), 0xe571);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe570), 0x37);
        // 37 02C1
        gbc.setState(0x9837, 0xffd3, 0x2a70, 0x4298, 0x3880, 0x192a, 0x0, 0x0);
        gbc.writeMem(0x9837, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xffd3);
        EXPECT(gbc.pc(), 0x9838);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9837), 0x37);
        // 37 02C2
        gbc.setState(0x5f7c, 0x3531, 0x7530, 0xee34, 0x547e, 0x68cb, 0x0, 0x0);
        gbc.writeMem(0x5f7c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x3531);
        EXPECT(gbc.pc(), 0x5f7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02C3
        gbc.setState(0x976c, 0xc2cd, 0x16e0, 0xd2b4, 0xdf12, 0xe162, 0x1, 0x0);
        gbc.writeMem(0x976c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xc2cd);
        EXPECT(gbc.pc(), 0x976d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x976c), 0x37);
        // 37 02C4
        gbc.setState(0xe3b8, 0xd491, 0xd8f0, 0xe9f7, 0xfa76, 0x6d20, 0x0, 0x1);
        gbc.writeMem(0xe3b8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd491);
        EXPECT(gbc.pc(), 0xe3b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3b8), 0x37);
        // 37 02C5
        gbc.setState(0x7375, 0x12c2, 0x5560, 0x6ea4, 0x2b49, 0xd778, 0x1, 0x0);
        gbc.writeMem(0x7375, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x12c2);
        EXPECT(gbc.pc(), 0x7376);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02C6
        gbc.setState(0x4ed6, 0x82be, 0xfdc0, 0xcea6, 0xac91, 0xade8, 0x0, 0x1);
        gbc.writeMem(0x4ed6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x82be);
        EXPECT(gbc.pc(), 0x4ed7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02C7
        gbc.setState(0xad3a, 0x58c5, 0xab40, 0x6a12, 0xb253, 0x3eed, 0x1, 0x1);
        gbc.writeMem(0xad3a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x58c5);
        EXPECT(gbc.pc(), 0xad3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad3a), 0x37);
        // 37 02C9
        gbc.setState(0x1bc3, 0xcdc5, 0xefc0, 0x3d9a, 0x7acf, 0x88de, 0x0, 0x1);
        gbc.writeMem(0x1bc3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xcdc5);
        EXPECT(gbc.pc(), 0x1bc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02CA
        gbc.setState(0x45b5, 0x5f6d, 0xc290, 0xd50b, 0x6931, 0x7bfd, 0x0, 0x1);
        gbc.writeMem(0x45b5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x5f6d);
        EXPECT(gbc.pc(), 0x45b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02CB
        gbc.setState(0x2166, 0xb6e8, 0x750, 0xf44f, 0xe7d1, 0xc5f2, 0x0, 0x1);
        gbc.writeMem(0x2166, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xb6e8);
        EXPECT(gbc.pc(), 0x2167);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02CC
        gbc.setState(0x7960, 0x725d, 0x6a90, 0x331c, 0x575, 0x63ed, 0x1, 0x0);
        gbc.writeMem(0x7960, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x725d);
        EXPECT(gbc.pc(), 0x7961);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02CD
        gbc.setState(0xe86d, 0x69ca, 0x2420, 0x2fc, 0xb30, 0xe8a6, 0x0, 0x1);
        gbc.writeMem(0xe86d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x69ca);
        EXPECT(gbc.pc(), 0xe86e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe86d), 0x37);
        // 37 02CE
        gbc.setState(0xa3e, 0x1d65, 0x7260, 0x3cac, 0xd0fe, 0x15b7, 0x1, 0x1);
        gbc.writeMem(0xa3e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x1d65);
        EXPECT(gbc.pc(), 0xa3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02CF
        gbc.setState(0x6dcb, 0x1d56, 0x9400, 0xbd11, 0x7e2d, 0x2a8, 0x0, 0x1);
        gbc.writeMem(0x6dcb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x1d56);
        EXPECT(gbc.pc(), 0x6dcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02D0
        gbc.setState(0x714b, 0x2f41, 0xae60, 0xc749, 0x2ff2, 0x2cff, 0x0, 0x1);
        gbc.writeMem(0x714b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2f41);
        EXPECT(gbc.pc(), 0x714c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02D1
        gbc.setState(0x583, 0xe0c0, 0x56b0, 0xe3bb, 0x42, 0xa57d, 0x0, 0x1);
        gbc.writeMem(0x583, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xe0c0);
        EXPECT(gbc.pc(), 0x584);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02D2
        gbc.setState(0x324b, 0xf4b6, 0x1c00, 0xffb4, 0x14bd, 0x9ef3, 0x0, 0x1);
        gbc.writeMem(0x324b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xf4b6);
        EXPECT(gbc.pc(), 0x324c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02D3
        gbc.setState(0x2262, 0x9, 0xc060, 0x50d0, 0x359, 0x96e1, 0x0, 0x1);
        gbc.writeMem(0x2262, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x9);
        EXPECT(gbc.pc(), 0x2263);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02D4
        gbc.setState(0x3323, 0x9123, 0x33f0, 0xd761, 0x28ed, 0x5543, 0x0, 0x1);
        gbc.writeMem(0x3323, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x9123);
        EXPECT(gbc.pc(), 0x3324);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02D5
        gbc.setState(0xe89b, 0x2ebe, 0x7e70, 0x6025, 0xccda, 0xc41, 0x0, 0x0);
        gbc.writeMem(0xe89b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x2ebe);
        EXPECT(gbc.pc(), 0xe89c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe89b), 0x37);
        // 37 02D6
        gbc.setState(0xcfdd, 0xe700, 0xcad0, 0x6705, 0xb93a, 0x8566, 0x0, 0x1);
        gbc.writeMem(0xcfdd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xe700);
        EXPECT(gbc.pc(), 0xcfde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfdd), 0x37);
        // 37 02D8
        gbc.setState(0x2037, 0x5654, 0xeee0, 0xa13e, 0x42a4, 0x88c6, 0x0, 0x0);
        gbc.writeMem(0x2037, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x5654);
        EXPECT(gbc.pc(), 0x2038);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02D9
        gbc.setState(0x23c, 0x6b25, 0x4850, 0x5b23, 0x5976, 0xc6f, 0x1, 0x1);
        gbc.writeMem(0x23c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x6b25);
        EXPECT(gbc.pc(), 0x23d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02DA
        gbc.setState(0x525f, 0xee06, 0xd4f0, 0x751f, 0x8a7e, 0x6753, 0x1, 0x1);
        gbc.writeMem(0x525f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xee06);
        EXPECT(gbc.pc(), 0x5260);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02DC
        gbc.setState(0xac33, 0xfcfe, 0xa3b0, 0xcf29, 0xbbf6, 0xa0ed, 0x0, 0x1);
        gbc.writeMem(0xac33, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xfcfe);
        EXPECT(gbc.pc(), 0xac34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac33), 0x37);
        // 37 02DD
        gbc.setState(0x9438, 0x733c, 0x67b0, 0x5122, 0xa374, 0xd4f9, 0x1, 0x1);
        gbc.writeMem(0x9438, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x733c);
        EXPECT(gbc.pc(), 0x9439);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9438), 0x37);
        // 37 02DE
        gbc.setState(0x1bcd, 0xb493, 0xc430, 0xe290, 0xec9, 0xa9d0, 0x0, 0x0);
        gbc.writeMem(0x1bcd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xb493);
        EXPECT(gbc.pc(), 0x1bce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02DF
        gbc.setState(0x74c7, 0x9d1a, 0xedc0, 0x461, 0x466, 0x3468, 0x1, 0x1);
        gbc.writeMem(0x74c7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x9d1a);
        EXPECT(gbc.pc(), 0x74c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02E0
        gbc.setState(0x414b, 0xf295, 0x5460, 0x6126, 0xd5da, 0xbd4e, 0x1, 0x0);
        gbc.writeMem(0x414b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xf295);
        EXPECT(gbc.pc(), 0x414c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02E1
        gbc.setState(0x9aeb, 0x4af9, 0xc5c0, 0x4666, 0x1838, 0xf844, 0x0, 0x0);
        gbc.writeMem(0x9aeb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x4af9);
        EXPECT(gbc.pc(), 0x9aec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9aeb), 0x37);
        // 37 02E2
        gbc.setState(0xf7, 0x1f1c, 0x4dd0, 0x62a1, 0xc53, 0xa86f, 0x0, 0x1);
        gbc.writeMem(0xf7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x1f1c);
        EXPECT(gbc.pc(), 0xf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02E3
        gbc.setState(0x96c7, 0xe7b1, 0x90d0, 0x46c6, 0xa31e, 0x2014, 0x0, 0x1);
        gbc.writeMem(0x96c7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xe7b1);
        EXPECT(gbc.pc(), 0x96c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96c7), 0x37);
        // 37 02E4
        gbc.setState(0xd31b, 0xff07, 0xa9b0, 0x506a, 0x422, 0xa2d4, 0x1, 0x0);
        gbc.writeMem(0xd31b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xff07);
        EXPECT(gbc.pc(), 0xd31c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd31b), 0x37);
        // 37 02E5
        gbc.setState(0xcfb2, 0x5fa8, 0xc9e0, 0x976, 0x88fc, 0xcd21, 0x0, 0x0);
        gbc.writeMem(0xcfb2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x5fa8);
        EXPECT(gbc.pc(), 0xcfb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfb2), 0x37);
        // 37 02E6
        gbc.setState(0x6ab9, 0xdcc3, 0xd3c0, 0xd36f, 0x82a2, 0xf4cc, 0x1, 0x1);
        gbc.writeMem(0x6ab9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xdcc3);
        EXPECT(gbc.pc(), 0x6aba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02E7
        gbc.setState(0x7833, 0x3668, 0xc650, 0xe0b5, 0xfbb8, 0x9a4e, 0x1, 0x0);
        gbc.writeMem(0x7833, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x3668);
        EXPECT(gbc.pc(), 0x7834);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02E8
        gbc.setState(0xccce, 0x4e1b, 0x3490, 0x7c99, 0x5f78, 0xf960, 0x1, 0x0);
        gbc.writeMem(0xccce, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x4e1b);
        EXPECT(gbc.pc(), 0xcccf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccce), 0x37);
        // 37 02E9
        gbc.setState(0xb04f, 0x1dcb, 0x6040, 0xf27e, 0x50f3, 0xbe1a, 0x1, 0x0);
        gbc.writeMem(0xb04f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x1dcb);
        EXPECT(gbc.pc(), 0xb050);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb04f), 0x37);
        // 37 02EA
        gbc.setState(0xc424, 0x3e1a, 0x8bb0, 0x625d, 0xfec3, 0x3b97, 0x0, 0x1);
        gbc.writeMem(0xc424, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x3e1a);
        EXPECT(gbc.pc(), 0xc425);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc424), 0x37);
        // 37 02EC
        gbc.setState(0x6abb, 0x154c, 0xf50, 0x5ee8, 0x8f14, 0x8331, 0x0, 0x1);
        gbc.writeMem(0x6abb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x154c);
        EXPECT(gbc.pc(), 0x6abc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02ED
        gbc.setState(0xee2e, 0x6e97, 0x7200, 0x71b1, 0x8853, 0x480a, 0x0, 0x0);
        gbc.writeMem(0xee2e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x6e97);
        EXPECT(gbc.pc(), 0xee2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee2e), 0x37);
        // 37 02EE
        gbc.setState(0xa185, 0x2a7f, 0xf600, 0x34db, 0xf695, 0x4848, 0x0, 0x0);
        gbc.writeMem(0xa185, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x2a7f);
        EXPECT(gbc.pc(), 0xa186);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa185), 0x37);
        // 37 02EF
        gbc.setState(0x6016, 0xe89c, 0xd980, 0x98d8, 0x6b4f, 0x69a2, 0x1, 0x1);
        gbc.writeMem(0x6016, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xe89c);
        EXPECT(gbc.pc(), 0x6017);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02F0
        gbc.setState(0x3cd8, 0xff64, 0x6e50, 0xd3bb, 0x8134, 0x1fe8, 0x1, 0x1);
        gbc.writeMem(0x3cd8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xff64);
        EXPECT(gbc.pc(), 0x3cd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02F1
        gbc.setState(0xaa3e, 0xfb59, 0xbe0, 0x96c1, 0x5a5c, 0x52ad, 0x1, 0x1);
        gbc.writeMem(0xaa3e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xfb59);
        EXPECT(gbc.pc(), 0xaa3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa3e), 0x37);
        // 37 02F2
        gbc.setState(0x387d, 0x2a22, 0x3080, 0x2dae, 0xabc2, 0xb49, 0x1, 0x0);
        gbc.writeMem(0x387d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x2a22);
        EXPECT(gbc.pc(), 0x387e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02F3
        gbc.setState(0xa995, 0x5f26, 0x23f0, 0x5ebe, 0x7ce8, 0x302, 0x0, 0x0);
        gbc.writeMem(0xa995, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x5f26);
        EXPECT(gbc.pc(), 0xa996);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa995), 0x37);
        // 37 02F4
        gbc.setState(0x719, 0xb5f8, 0x3fe0, 0x6ffc, 0xa768, 0x5b2f, 0x0, 0x1);
        gbc.writeMem(0x719, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xb5f8);
        EXPECT(gbc.pc(), 0x71a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02F5
        gbc.setState(0xce0b, 0xcb50, 0xaf90, 0xbe92, 0x9b9b, 0xbbe4, 0x0, 0x1);
        gbc.writeMem(0xce0b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xcb50);
        EXPECT(gbc.pc(), 0xce0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce0b), 0x37);
        // 37 02F6
        gbc.setState(0x41df, 0x4ab6, 0x9b0, 0x20df, 0x8fe9, 0xca57, 0x1, 0x1);
        gbc.writeMem(0x41df, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x4ab6);
        EXPECT(gbc.pc(), 0x41e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02F7
        gbc.setState(0xe08f, 0xb6de, 0xd5d0, 0x1744, 0x90df, 0x855c, 0x1, 0x1);
        gbc.writeMem(0xe08f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xb6de);
        EXPECT(gbc.pc(), 0xe090);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe08f), 0x37);
        // 37 02F8
        gbc.setState(0xe398, 0xbc, 0x1320, 0xea1, 0x3749, 0xe3e0, 0x1, 0x1);
        gbc.writeMem(0xe398, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xbc);
        EXPECT(gbc.pc(), 0xe399);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe398), 0x37);
        // 37 02FB
        gbc.setState(0x6151, 0xf053, 0x1a70, 0x5185, 0x740, 0xf2c7, 0x0, 0x0);
        gbc.writeMem(0x6151, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xf053);
        EXPECT(gbc.pc(), 0x6152);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02FC
        gbc.setState(0x9fc, 0x7798, 0xf5e0, 0x17b3, 0xd20d, 0x8991, 0x0, 0x1);
        gbc.writeMem(0x9fc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x7798);
        EXPECT(gbc.pc(), 0x9fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 02FD
        gbc.setState(0xd57a, 0xc8a8, 0x1590, 0x5b1a, 0x7aa2, 0x9cf6, 0x1, 0x1);
        gbc.writeMem(0xd57a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xc8a8);
        EXPECT(gbc.pc(), 0xd57b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd57a), 0x37);
        // 37 02FE
        gbc.setState(0xa7f5, 0x6406, 0x9e70, 0x1b0c, 0x330a, 0x821c, 0x1, 0x1);
        gbc.writeMem(0xa7f5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6406);
        EXPECT(gbc.pc(), 0xa7f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7f5), 0x37);
        // 37 02FF
        gbc.setState(0xa5cb, 0x33b3, 0x8c10, 0x59dd, 0xfbc2, 0x11b8, 0x1, 0x0);
        gbc.writeMem(0xa5cb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x33b3);
        EXPECT(gbc.pc(), 0xa5cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5cb), 0x37);
        // 37 0300
        gbc.setState(0x563f, 0xecff, 0x78b0, 0x11f2, 0x623b, 0x68f5, 0x1, 0x0);
        gbc.writeMem(0x563f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xecff);
        EXPECT(gbc.pc(), 0x5640);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0301
        gbc.setState(0xe69e, 0x1d4b, 0xc350, 0x9a47, 0x74fa, 0x3d09, 0x1, 0x0);
        gbc.writeMem(0xe69e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x1d4b);
        EXPECT(gbc.pc(), 0xe69f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe69e), 0x37);
        // 37 0302
        gbc.setState(0x9a2b, 0xb89e, 0x98a0, 0x8cb0, 0x689a, 0xce36, 0x1, 0x0);
        gbc.writeMem(0x9a2b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xb89e);
        EXPECT(gbc.pc(), 0x9a2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a2b), 0x37);
        // 37 0303
        gbc.setState(0x990c, 0x12d9, 0x1e90, 0xd30, 0x961, 0xd9cf, 0x0, 0x0);
        gbc.writeMem(0x990c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x12d9);
        EXPECT(gbc.pc(), 0x990d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x990c), 0x37);
        // 37 0304
        gbc.setState(0x3e26, 0x1b08, 0x41d0, 0x955d, 0xdc60, 0xb369, 0x0, 0x0);
        gbc.writeMem(0x3e26, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x1b08);
        EXPECT(gbc.pc(), 0x3e27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0305
        gbc.setState(0xda67, 0x2788, 0xb5b0, 0x27b2, 0x74ff, 0x48b4, 0x1, 0x1);
        gbc.writeMem(0xda67, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x2788);
        EXPECT(gbc.pc(), 0xda68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda67), 0x37);
        // 37 0306
        gbc.setState(0x678f, 0x97cf, 0x1f70, 0xca7e, 0x3f70, 0x358d, 0x1, 0x1);
        gbc.writeMem(0x678f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x97cf);
        EXPECT(gbc.pc(), 0x6790);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0307
        gbc.setState(0x1dcb, 0x69b7, 0x15f0, 0x243b, 0xb669, 0x6a24, 0x1, 0x0);
        gbc.writeMem(0x1dcb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x69b7);
        EXPECT(gbc.pc(), 0x1dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0308
        gbc.setState(0x3f4d, 0xea31, 0xc110, 0x5ccb, 0x6472, 0x59b6, 0x0, 0x0);
        gbc.writeMem(0x3f4d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xea31);
        EXPECT(gbc.pc(), 0x3f4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0309
        gbc.setState(0x80e1, 0xe7b3, 0x6180, 0x9498, 0x7d34, 0x5b07, 0x0, 0x1);
        gbc.writeMem(0x80e1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xe7b3);
        EXPECT(gbc.pc(), 0x80e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80e1), 0x37);
        // 37 030A
        gbc.setState(0xde18, 0xb9b4, 0x4960, 0x2ddf, 0xd3d8, 0x57e7, 0x1, 0x0);
        gbc.writeMem(0xde18, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xb9b4);
        EXPECT(gbc.pc(), 0xde19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde18), 0x37);
        // 37 030B
        gbc.setState(0xad2f, 0xad35, 0x4440, 0x458, 0xd713, 0x6a88, 0x1, 0x0);
        gbc.writeMem(0xad2f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xad35);
        EXPECT(gbc.pc(), 0xad30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad2f), 0x37);
        // 37 030C
        gbc.setState(0xbd11, 0x118f, 0xa980, 0xd80f, 0xf8f3, 0xf29e, 0x0, 0x0);
        gbc.writeMem(0xbd11, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x118f);
        EXPECT(gbc.pc(), 0xbd12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd11), 0x37);
        // 37 030D
        gbc.setState(0x9616, 0xefbd, 0x2900, 0xa278, 0xaa56, 0xb304, 0x0, 0x0);
        gbc.writeMem(0x9616, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xefbd);
        EXPECT(gbc.pc(), 0x9617);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9616), 0x37);
        // 37 030E
        gbc.setState(0x8580, 0x4af7, 0xa280, 0x9425, 0x943f, 0x25ff, 0x1, 0x1);
        gbc.writeMem(0x8580, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x4af7);
        EXPECT(gbc.pc(), 0x8581);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8580), 0x37);
        // 37 0310
        gbc.setState(0x2157, 0x9979, 0xe360, 0xed68, 0x1134, 0x4f1e, 0x0, 0x0);
        gbc.writeMem(0x2157, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x9979);
        EXPECT(gbc.pc(), 0x2158);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0311
        gbc.setState(0xae19, 0x68ca, 0xf7a0, 0x239, 0x9ff3, 0x73f3, 0x0, 0x0);
        gbc.writeMem(0xae19, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x68ca);
        EXPECT(gbc.pc(), 0xae1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae19), 0x37);
        // 37 0312
        gbc.setState(0x9ca0, 0x9f94, 0xbb50, 0x1f0a, 0xd5b2, 0x4335, 0x0, 0x0);
        gbc.writeMem(0x9ca0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x9f94);
        EXPECT(gbc.pc(), 0x9ca1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ca0), 0x37);
        // 37 0313
        gbc.setState(0x7094, 0xe486, 0xdc40, 0x1145, 0x36a6, 0x23bc, 0x1, 0x0);
        gbc.writeMem(0x7094, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xe486);
        EXPECT(gbc.pc(), 0x7095);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0314
        gbc.setState(0x850d, 0x1c3e, 0x2ea0, 0x68ba, 0xbd4f, 0xa60a, 0x1, 0x1);
        gbc.writeMem(0x850d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x1c3e);
        EXPECT(gbc.pc(), 0x850e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x850d), 0x37);
        // 37 0315
        gbc.setState(0x6759, 0x1ca9, 0x1270, 0xca6c, 0x50b1, 0xd0c, 0x0, 0x0);
        gbc.writeMem(0x6759, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x1ca9);
        EXPECT(gbc.pc(), 0x675a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0316
        gbc.setState(0xd29, 0x7553, 0x7be0, 0xa7c4, 0x782a, 0xf4b9, 0x0, 0x1);
        gbc.writeMem(0xd29, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x7553);
        EXPECT(gbc.pc(), 0xd2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0317
        gbc.setState(0xe3a1, 0xca86, 0x8bb0, 0xc35d, 0x2663, 0x515d, 0x0, 0x0);
        gbc.writeMem(0xe3a1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xca86);
        EXPECT(gbc.pc(), 0xe3a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3a1), 0x37);
        // 37 0318
        gbc.setState(0xc521, 0x21ce, 0x7950, 0xdf3b, 0x5a35, 0x613c, 0x1, 0x0);
        gbc.writeMem(0xc521, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x21ce);
        EXPECT(gbc.pc(), 0xc522);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc521), 0x37);
        // 37 031A
        gbc.setState(0xd60a, 0x6cc4, 0xb6b0, 0x7fe5, 0x4b46, 0xb6bb, 0x0, 0x1);
        gbc.writeMem(0xd60a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x6cc4);
        EXPECT(gbc.pc(), 0xd60b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd60a), 0x37);
        // 37 031B
        gbc.setState(0x1e68, 0x296d, 0x9c00, 0x4c40, 0x2a9a, 0x8974, 0x1, 0x0);
        gbc.writeMem(0x1e68, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x296d);
        EXPECT(gbc.pc(), 0x1e69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 031C
        gbc.setState(0xdb81, 0xea51, 0x9e30, 0xa0c1, 0xfb93, 0xb4d, 0x1, 0x0);
        gbc.writeMem(0xdb81, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xea51);
        EXPECT(gbc.pc(), 0xdb82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb81), 0x37);
        // 37 031D
        gbc.setState(0x7daa, 0xbe15, 0xa7e0, 0xb4cd, 0x958c, 0x50f7, 0x1, 0x1);
        gbc.writeMem(0x7daa, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xbe15);
        EXPECT(gbc.pc(), 0x7dab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 031E
        gbc.setState(0x6e95, 0xfaf5, 0xcdb0, 0x66f6, 0xdd0b, 0xbbb6, 0x1, 0x1);
        gbc.writeMem(0x6e95, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xfaf5);
        EXPECT(gbc.pc(), 0x6e96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 031F
        gbc.setState(0x2811, 0xd09e, 0x2920, 0x9cf4, 0x886f, 0x68bc, 0x1, 0x0);
        gbc.writeMem(0x2811, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd09e);
        EXPECT(gbc.pc(), 0x2812);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0320
        gbc.setState(0x7efa, 0xf5bd, 0xa1b0, 0xfcb7, 0x938, 0x2a92, 0x1, 0x1);
        gbc.writeMem(0x7efa, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xf5bd);
        EXPECT(gbc.pc(), 0x7efb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0321
        gbc.setState(0xd82e, 0x371a, 0x2c70, 0x6b82, 0x2d00, 0xb714, 0x0, 0x0);
        gbc.writeMem(0xd82e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x371a);
        EXPECT(gbc.pc(), 0xd82f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd82e), 0x37);
        // 37 0322
        gbc.setState(0x6888, 0xa0a6, 0xba0, 0xda8e, 0x651, 0x29ad, 0x1, 0x1);
        gbc.writeMem(0x6888, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xa0a6);
        EXPECT(gbc.pc(), 0x6889);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0323
        gbc.setState(0x32a0, 0xd7bb, 0x18d0, 0xeeee, 0xb932, 0x8eb4, 0x1, 0x1);
        gbc.writeMem(0x32a0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xd7bb);
        EXPECT(gbc.pc(), 0x32a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0324
        gbc.setState(0xeec6, 0x2efa, 0x5450, 0xf106, 0xe3c5, 0xa0b3, 0x1, 0x0);
        gbc.writeMem(0xeec6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x2efa);
        EXPECT(gbc.pc(), 0xeec7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeec6), 0x37);
        // 37 0325
        gbc.setState(0x149e, 0xb3ac, 0x2990, 0x5b97, 0xe31f, 0x9266, 0x0, 0x1);
        gbc.writeMem(0x149e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xb3ac);
        EXPECT(gbc.pc(), 0x149f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0326
        gbc.setState(0x45ff, 0xa9fd, 0x2a70, 0x544f, 0x3eb3, 0xa566, 0x1, 0x0);
        gbc.writeMem(0x45ff, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xa9fd);
        EXPECT(gbc.pc(), 0x4600);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0327
        gbc.setState(0xa0d, 0xec59, 0x6e70, 0xc823, 0x787c, 0x585, 0x1, 0x1);
        gbc.writeMem(0xa0d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xec59);
        EXPECT(gbc.pc(), 0xa0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0328
        gbc.setState(0x810e, 0xb4f3, 0x3710, 0xb4b, 0x8ad7, 0xaa2d, 0x0, 0x0);
        gbc.writeMem(0x810e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xb4f3);
        EXPECT(gbc.pc(), 0x810f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x810e), 0x37);
        // 37 0329
        gbc.setState(0x62, 0x2d1f, 0xd8a0, 0x4d1, 0x4f7f, 0x5ca2, 0x1, 0x1);
        gbc.writeMem(0x62, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x2d1f);
        EXPECT(gbc.pc(), 0x63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 032A
        gbc.setState(0xdcfb, 0x837a, 0xebc0, 0x3a66, 0x9851, 0xfdda, 0x1, 0x0);
        gbc.writeMem(0xdcfb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x837a);
        EXPECT(gbc.pc(), 0xdcfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcfb), 0x37);
        // 37 032B
        gbc.setState(0x96e8, 0x2d40, 0xdab0, 0x9595, 0xebe8, 0x963e, 0x1, 0x0);
        gbc.writeMem(0x96e8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x2d40);
        EXPECT(gbc.pc(), 0x96e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96e8), 0x37);
        // 37 032C
        gbc.setState(0x23ff, 0x3171, 0x4800, 0x85de, 0xc967, 0x81a2, 0x0, 0x1);
        gbc.writeMem(0x23ff, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x3171);
        EXPECT(gbc.pc(), 0x2400);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 032D
        gbc.setState(0xafaf, 0x6735, 0x1f50, 0xfd97, 0xcea6, 0x7476, 0x1, 0x1);
        gbc.writeMem(0xafaf, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x6735);
        EXPECT(gbc.pc(), 0xafb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xafaf), 0x37);
        // 37 032E
        gbc.setState(0x5641, 0x8c51, 0xd6d0, 0x12b7, 0x9427, 0xa43b, 0x0, 0x0);
        gbc.writeMem(0x5641, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x8c51);
        EXPECT(gbc.pc(), 0x5642);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 032F
        gbc.setState(0x6390, 0x71ac, 0xc3e0, 0xbd44, 0xeb00, 0xd7b, 0x1, 0x0);
        gbc.writeMem(0x6390, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x71ac);
        EXPECT(gbc.pc(), 0x6391);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0330
        gbc.setState(0x8089, 0x559a, 0xf5a0, 0xcb6f, 0xe5ec, 0x390b, 0x0, 0x1);
        gbc.writeMem(0x8089, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x559a);
        EXPECT(gbc.pc(), 0x808a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8089), 0x37);
        // 37 0332
        gbc.setState(0xc2b2, 0xdfb2, 0x3e0, 0x96a0, 0x8786, 0xe5f0, 0x1, 0x1);
        gbc.writeMem(0xc2b2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xdfb2);
        EXPECT(gbc.pc(), 0xc2b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2b2), 0x37);
        // 37 0333
        gbc.setState(0xac80, 0xc76d, 0x4080, 0x7d47, 0x60a1, 0xa832, 0x0, 0x0);
        gbc.writeMem(0xac80, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xc76d);
        EXPECT(gbc.pc(), 0xac81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac80), 0x37);
        // 37 0334
        gbc.setState(0x60f1, 0xdcaa, 0x6d90, 0x8bb9, 0xf580, 0xe128, 0x0, 0x1);
        gbc.writeMem(0x60f1, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xdcaa);
        EXPECT(gbc.pc(), 0x60f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0335
        gbc.setState(0x430c, 0xc08c, 0x3cd0, 0x7a62, 0xf61, 0x6491, 0x1, 0x0);
        gbc.writeMem(0x430c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xc08c);
        EXPECT(gbc.pc(), 0x430d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0336
        gbc.setState(0xdb7e, 0x6470, 0x5f80, 0x1cc0, 0xc6ce, 0x6bc, 0x1, 0x1);
        gbc.writeMem(0xdb7e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x6470);
        EXPECT(gbc.pc(), 0xdb7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb7e), 0x37);
        // 37 0337
        gbc.setState(0xac3, 0xd335, 0xe8d0, 0xead5, 0xa0ff, 0xca16, 0x0, 0x1);
        gbc.writeMem(0xac3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xd335);
        EXPECT(gbc.pc(), 0xac4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0338
        gbc.setState(0xbbbd, 0x6d48, 0xb40, 0x7bbd, 0x50e0, 0xec2e, 0x0, 0x1);
        gbc.writeMem(0xbbbd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x6d48);
        EXPECT(gbc.pc(), 0xbbbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbbd), 0x37);
        // 37 0339
        gbc.setState(0x56ea, 0xa316, 0xb740, 0x97fa, 0x19e, 0x99b2, 0x0, 0x1);
        gbc.writeMem(0x56ea, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xa316);
        EXPECT(gbc.pc(), 0x56eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 033A
        gbc.setState(0x6333, 0x1507, 0xcd90, 0xe4c4, 0x131b, 0xdbc3, 0x0, 0x1);
        gbc.writeMem(0x6333, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x1507);
        EXPECT(gbc.pc(), 0x6334);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 033B
        gbc.setState(0xd6ca, 0x8a65, 0x4600, 0x9441, 0x5b1b, 0xf934, 0x1, 0x1);
        gbc.writeMem(0xd6ca, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x8a65);
        EXPECT(gbc.pc(), 0xd6cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6ca), 0x37);
        // 37 033C
        gbc.setState(0xb306, 0x45d1, 0x4040, 0x1c89, 0x405e, 0x4096, 0x1, 0x1);
        gbc.writeMem(0xb306, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x45d1);
        EXPECT(gbc.pc(), 0xb307);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb306), 0x37);
        // 37 033D
        gbc.setState(0x1370, 0x3a6b, 0xee10, 0xf3fd, 0x6d49, 0xd0c9, 0x0, 0x0);
        gbc.writeMem(0x1370, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x3a6b);
        EXPECT(gbc.pc(), 0x1371);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 033E
        gbc.setState(0xb8af, 0x3184, 0xa340, 0xe9fb, 0xbae6, 0x1022, 0x1, 0x1);
        gbc.writeMem(0xb8af, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x3184);
        EXPECT(gbc.pc(), 0xb8b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8af), 0x37);
        // 37 033F
        gbc.setState(0xc154, 0x72a4, 0xb290, 0xe26a, 0x8686, 0x5508, 0x0, 0x0);
        gbc.writeMem(0xc154, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x72a4);
        EXPECT(gbc.pc(), 0xc155);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc154), 0x37);
        // 37 0341
        gbc.setState(0xcde0, 0xf4e3, 0xb530, 0x5897, 0x5872, 0x8cec, 0x0, 0x0);
        gbc.writeMem(0xcde0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xf4e3);
        EXPECT(gbc.pc(), 0xcde1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcde0), 0x37);
        // 37 0342
        gbc.setState(0x15d7, 0xba3a, 0x1880, 0x86e9, 0xe612, 0xe029, 0x1, 0x0);
        gbc.writeMem(0x15d7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xba3a);
        EXPECT(gbc.pc(), 0x15d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0343
        gbc.setState(0xd29e, 0xa8ae, 0xd220, 0x7613, 0xe00e, 0xb3d3, 0x1, 0x1);
        gbc.writeMem(0xd29e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xa8ae);
        EXPECT(gbc.pc(), 0xd29f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd29e), 0x37);
        // 37 0344
        gbc.setState(0x3990, 0x7b84, 0xdb20, 0x12de, 0x965c, 0xcc47, 0x1, 0x0);
        gbc.writeMem(0x3990, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x7b84);
        EXPECT(gbc.pc(), 0x3991);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0345
        gbc.setState(0x9917, 0x8263, 0xc610, 0x1d4c, 0x3749, 0x9ae3, 0x0, 0x1);
        gbc.writeMem(0x9917, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x8263);
        EXPECT(gbc.pc(), 0x9918);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9917), 0x37);
        // 37 0346
        gbc.setState(0x4eae, 0x3dad, 0x3310, 0xb488, 0x2fe1, 0xe23d, 0x0, 0x1);
        gbc.writeMem(0x4eae, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x3dad);
        EXPECT(gbc.pc(), 0x4eaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0348
        gbc.setState(0x30ba, 0xa9a5, 0xa960, 0x543c, 0x32ce, 0x9e18, 0x1, 0x1);
        gbc.writeMem(0x30ba, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xa9a5);
        EXPECT(gbc.pc(), 0x30bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0349
        gbc.setState(0x175e, 0x82f9, 0x6690, 0xd958, 0xc558, 0x948c, 0x0, 0x1);
        gbc.writeMem(0x175e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x82f9);
        EXPECT(gbc.pc(), 0x175f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 034A
        gbc.setState(0x2d3b, 0x9516, 0xf950, 0x4577, 0x8663, 0x13ea, 0x1, 0x0);
        gbc.writeMem(0x2d3b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x9516);
        EXPECT(gbc.pc(), 0x2d3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 034B
        gbc.setState(0x7edc, 0xc33a, 0xc2b0, 0xaeb8, 0xb97b, 0x8159, 0x1, 0x1);
        gbc.writeMem(0x7edc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xc33a);
        EXPECT(gbc.pc(), 0x7edd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 034C
        gbc.setState(0x1407, 0x448c, 0x2df0, 0x87b2, 0x6c5f, 0x3b06, 0x1, 0x0);
        gbc.writeMem(0x1407, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x448c);
        EXPECT(gbc.pc(), 0x1408);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 034D
        gbc.setState(0xb9ab, 0xe2c2, 0xc300, 0x5449, 0x866b, 0x899e, 0x0, 0x1);
        gbc.writeMem(0xb9ab, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xe2c2);
        EXPECT(gbc.pc(), 0xb9ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9ab), 0x37);
        // 37 034E
        gbc.setState(0x9067, 0x973b, 0x5600, 0xe4ee, 0xff67, 0x71d4, 0x0, 0x0);
        gbc.writeMem(0x9067, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x973b);
        EXPECT(gbc.pc(), 0x9068);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9067), 0x37);
        // 37 034F
        gbc.setState(0xcb2c, 0x564e, 0x2b20, 0xbf9b, 0x84d9, 0x6438, 0x1, 0x0);
        gbc.writeMem(0xcb2c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x564e);
        EXPECT(gbc.pc(), 0xcb2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb2c), 0x37);
        // 37 0350
        gbc.setState(0x6833, 0xbda2, 0x1060, 0x43da, 0xf467, 0x8ced, 0x1, 0x0);
        gbc.writeMem(0x6833, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xbda2);
        EXPECT(gbc.pc(), 0x6834);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0351
        gbc.setState(0xd41e, 0xbca4, 0x76b0, 0xe050, 0xf19b, 0x1602, 0x1, 0x0);
        gbc.writeMem(0xd41e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xbca4);
        EXPECT(gbc.pc(), 0xd41f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd41e), 0x37);
        // 37 0352
        gbc.setState(0xa33e, 0x4867, 0x1210, 0xcb5, 0x391b, 0x2179, 0x1, 0x0);
        gbc.writeMem(0xa33e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x4867);
        EXPECT(gbc.pc(), 0xa33f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa33e), 0x37);
        // 37 0353
        gbc.setState(0x1938, 0x2aa4, 0xee40, 0x6d66, 0x3933, 0x99c8, 0x1, 0x1);
        gbc.writeMem(0x1938, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x2aa4);
        EXPECT(gbc.pc(), 0x1939);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0354
        gbc.setState(0xd57e, 0x97e5, 0x350, 0xf69a, 0x8d94, 0x39d7, 0x0, 0x0);
        gbc.writeMem(0xd57e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x97e5);
        EXPECT(gbc.pc(), 0xd57f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd57e), 0x37);
        // 37 0355
        gbc.setState(0x5d0f, 0x57ee, 0xbcc0, 0xf4ab, 0xc4b8, 0xb06d, 0x1, 0x1);
        gbc.writeMem(0x5d0f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x57ee);
        EXPECT(gbc.pc(), 0x5d10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0356
        gbc.setState(0x6b0b, 0x4528, 0xce80, 0xd8ab, 0x5000, 0x7b88, 0x1, 0x0);
        gbc.writeMem(0x6b0b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x4528);
        EXPECT(gbc.pc(), 0x6b0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0357
        gbc.setState(0x33ae, 0x4eca, 0x32a0, 0x44aa, 0x55b5, 0x9ec7, 0x0, 0x1);
        gbc.writeMem(0x33ae, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x4eca);
        EXPECT(gbc.pc(), 0x33af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0358
        gbc.setState(0x9b44, 0x3b16, 0x7ba0, 0x4aa, 0x9c7e, 0x7836, 0x1, 0x0);
        gbc.writeMem(0x9b44, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x3b16);
        EXPECT(gbc.pc(), 0x9b45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b44), 0x37);
        // 37 0359
        gbc.setState(0xaba, 0xaae, 0xc760, 0x3d34, 0xb4ea, 0xa98e, 0x1, 0x0);
        gbc.writeMem(0xaba, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xaae);
        EXPECT(gbc.pc(), 0xabb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 035A
        gbc.setState(0x48f0, 0x1d61, 0x8a80, 0x5c75, 0x280c, 0x8c33, 0x1, 0x1);
        gbc.writeMem(0x48f0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x1d61);
        EXPECT(gbc.pc(), 0x48f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 035B
        gbc.setState(0x81f4, 0x81a4, 0x7b90, 0x41f3, 0x7677, 0x83a5, 0x1, 0x1);
        gbc.writeMem(0x81f4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x81a4);
        EXPECT(gbc.pc(), 0x81f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81f4), 0x37);
        // 37 035C
        gbc.setState(0xb99b, 0xdad7, 0x62c0, 0xa8f6, 0xbc8c, 0xe78, 0x1, 0x1);
        gbc.writeMem(0xb99b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xdad7);
        EXPECT(gbc.pc(), 0xb99c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb99b), 0x37);
        // 37 035E
        gbc.setState(0xad08, 0x605, 0x95e0, 0x6074, 0xd16d, 0x927, 0x1, 0x1);
        gbc.writeMem(0xad08, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x605);
        EXPECT(gbc.pc(), 0xad09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad08), 0x37);
        // 37 035F
        gbc.setState(0x1fe7, 0x1a4c, 0xf1a0, 0x4ee0, 0x8836, 0xa791, 0x0, 0x1);
        gbc.writeMem(0x1fe7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x1a4c);
        EXPECT(gbc.pc(), 0x1fe8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0360
        gbc.setState(0x30c7, 0xf2e1, 0x5f0, 0xf03e, 0x5895, 0x218, 0x1, 0x1);
        gbc.writeMem(0x30c7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xf2e1);
        EXPECT(gbc.pc(), 0x30c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0361
        gbc.setState(0x8466, 0x181a, 0x79f0, 0x662c, 0xa2f4, 0xc624, 0x0, 0x0);
        gbc.writeMem(0x8466, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x181a);
        EXPECT(gbc.pc(), 0x8467);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8466), 0x37);
        // 37 0362
        gbc.setState(0x8811, 0xb23, 0xc5e0, 0xe2cb, 0x4b8d, 0x8e38, 0x1, 0x1);
        gbc.writeMem(0x8811, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xb23);
        EXPECT(gbc.pc(), 0x8812);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8811), 0x37);
        // 37 0363
        gbc.setState(0x7c33, 0xefa1, 0x5c60, 0xfc67, 0xf83e, 0xa78c, 0x1, 0x0);
        gbc.writeMem(0x7c33, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xefa1);
        EXPECT(gbc.pc(), 0x7c34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0364
        gbc.setState(0x1250, 0x6a9a, 0x4780, 0xb09f, 0x1bea, 0x4983, 0x0, 0x1);
        gbc.writeMem(0x1250, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x6a9a);
        EXPECT(gbc.pc(), 0x1251);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0365
        gbc.setState(0xe726, 0xc8cb, 0x4be0, 0xe239, 0xeb5b, 0x901f, 0x0, 0x1);
        gbc.writeMem(0xe726, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xc8cb);
        EXPECT(gbc.pc(), 0xe727);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe726), 0x37);
        // 37 0366
        gbc.setState(0xe755, 0x3db2, 0x7110, 0x966e, 0xb919, 0xec98, 0x1, 0x0);
        gbc.writeMem(0xe755, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x3db2);
        EXPECT(gbc.pc(), 0xe756);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe755), 0x37);
        // 37 0367
        gbc.setState(0x9265, 0x73a1, 0xdf20, 0x8e00, 0x816f, 0x9f4b, 0x0, 0x0);
        gbc.writeMem(0x9265, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x73a1);
        EXPECT(gbc.pc(), 0x9266);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9265), 0x37);
        // 37 0368
        gbc.setState(0x7571, 0x5320, 0xe0c0, 0x3295, 0x198e, 0xcf40, 0x0, 0x0);
        gbc.writeMem(0x7571, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x5320);
        EXPECT(gbc.pc(), 0x7572);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0369
        gbc.setState(0xbea6, 0xad8b, 0xe9c0, 0x586d, 0x7618, 0xdaa9, 0x0, 0x1);
        gbc.writeMem(0xbea6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xad8b);
        EXPECT(gbc.pc(), 0xbea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbea6), 0x37);
        // 37 036A
        gbc.setState(0x90d, 0xe109, 0xb150, 0x8b85, 0x941c, 0xa03f, 0x1, 0x0);
        gbc.writeMem(0x90d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe109);
        EXPECT(gbc.pc(), 0x90e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 036B
        gbc.setState(0x3c42, 0x486f, 0x19d0, 0xfde2, 0x863, 0x4ae2, 0x0, 0x1);
        gbc.writeMem(0x3c42, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x486f);
        EXPECT(gbc.pc(), 0x3c43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 036C
        gbc.setState(0x7606, 0xa8d8, 0x9470, 0xd543, 0xe1c9, 0x914f, 0x1, 0x0);
        gbc.writeMem(0x7606, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xa8d8);
        EXPECT(gbc.pc(), 0x7607);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 036D
        gbc.setState(0x509e, 0x878, 0xc40, 0x58a6, 0xda97, 0x574e, 0x0, 0x1);
        gbc.writeMem(0x509e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x878);
        EXPECT(gbc.pc(), 0x509f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0370
        gbc.setState(0x516b, 0xbf96, 0xb780, 0xfad1, 0xf92b, 0x22b7, 0x0, 0x0);
        gbc.writeMem(0x516b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xbf96);
        EXPECT(gbc.pc(), 0x516c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0371
        gbc.setState(0x3683, 0x434c, 0xd220, 0x6285, 0xbab3, 0xd4f8, 0x1, 0x1);
        gbc.writeMem(0x3683, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x434c);
        EXPECT(gbc.pc(), 0x3684);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0372
        gbc.setState(0x945b, 0xc667, 0x390, 0x7615, 0xd0a9, 0xd3c7, 0x1, 0x1);
        gbc.writeMem(0x945b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xc667);
        EXPECT(gbc.pc(), 0x945c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x945b), 0x37);
        // 37 0373
        gbc.setState(0xc60d, 0xa4da, 0xeb50, 0x6941, 0xa91b, 0x12b, 0x1, 0x0);
        gbc.writeMem(0xc60d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xa4da);
        EXPECT(gbc.pc(), 0xc60e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc60d), 0x37);
        // 37 0374
        gbc.setState(0x3f4a, 0x4391, 0x1190, 0x683d, 0xd4d1, 0xc047, 0x1, 0x1);
        gbc.writeMem(0x3f4a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x4391);
        EXPECT(gbc.pc(), 0x3f4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0375
        gbc.setState(0x78af, 0x9f75, 0xacb0, 0x6ee8, 0xf262, 0x3f06, 0x0, 0x0);
        gbc.writeMem(0x78af, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x9f75);
        EXPECT(gbc.pc(), 0x78b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0377
        gbc.setState(0x7620, 0xebca, 0xb6a0, 0x716e, 0x7166, 0x8c29, 0x0, 0x0);
        gbc.writeMem(0x7620, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xebca);
        EXPECT(gbc.pc(), 0x7621);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0378
        gbc.setState(0x2a30, 0x232b, 0x2d70, 0x79c, 0x2e20, 0x43f9, 0x1, 0x1);
        gbc.writeMem(0x2a30, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x232b);
        EXPECT(gbc.pc(), 0x2a31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0379
        gbc.setState(0x6c87, 0x5e22, 0x7ae0, 0xb370, 0xfcee, 0xf0e6, 0x1, 0x1);
        gbc.writeMem(0x6c87, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x5e22);
        EXPECT(gbc.pc(), 0x6c88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 037A
        gbc.setState(0x533, 0xc053, 0xc0c0, 0x8a5c, 0x6326, 0xeaad, 0x1, 0x0);
        gbc.writeMem(0x533, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xc053);
        EXPECT(gbc.pc(), 0x534);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 037B
        gbc.setState(0xe750, 0x10b7, 0xcaa0, 0xd164, 0x4610, 0x21d5, 0x0, 0x0);
        gbc.writeMem(0xe750, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x10b7);
        EXPECT(gbc.pc(), 0xe751);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe750), 0x37);
        // 37 037C
        gbc.setState(0x27e0, 0x171b, 0x3700, 0xd220, 0xe5f7, 0xc424, 0x0, 0x0);
        gbc.writeMem(0x27e0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x171b);
        EXPECT(gbc.pc(), 0x27e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 037D
        gbc.setState(0xb3a7, 0x9ebc, 0x83d0, 0xec7a, 0x7af2, 0xb8c5, 0x1, 0x0);
        gbc.writeMem(0xb3a7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x9ebc);
        EXPECT(gbc.pc(), 0xb3a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3a7), 0x37);
        // 37 037E
        gbc.setState(0xdcd5, 0x996d, 0x1b00, 0x66c8, 0xb667, 0xc71c, 0x0, 0x1);
        gbc.writeMem(0xdcd5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x996d);
        EXPECT(gbc.pc(), 0xdcd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcd5), 0x37);
        // 37 037F
        gbc.setState(0x55aa, 0xc729, 0xa850, 0x79f7, 0xee35, 0xb3ec, 0x0, 0x1);
        gbc.writeMem(0x55aa, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xc729);
        EXPECT(gbc.pc(), 0x55ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0380
        gbc.setState(0x942, 0xcbc0, 0x4a90, 0x1d74, 0xf909, 0x6b12, 0x0, 0x0);
        gbc.writeMem(0x942, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xcbc0);
        EXPECT(gbc.pc(), 0x943);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0381
        gbc.setState(0x44cf, 0x57df, 0x7d90, 0x1d7c, 0x15e9, 0xed93, 0x0, 0x0);
        gbc.writeMem(0x44cf, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x57df);
        EXPECT(gbc.pc(), 0x44d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0382
        gbc.setState(0x6bbb, 0x42ee, 0xc070, 0x1259, 0xe674, 0xeab, 0x0, 0x1);
        gbc.writeMem(0x6bbb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x42ee);
        EXPECT(gbc.pc(), 0x6bbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0383
        gbc.setState(0x1e86, 0xc32, 0x5cd0, 0x2138, 0x4058, 0x14c6, 0x0, 0x1);
        gbc.writeMem(0x1e86, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc32);
        EXPECT(gbc.pc(), 0x1e87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0384
        gbc.setState(0x640f, 0x6e1, 0x6190, 0xf794, 0x520a, 0x25ec, 0x1, 0x1);
        gbc.writeMem(0x640f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x6e1);
        EXPECT(gbc.pc(), 0x6410);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0385
        gbc.setState(0xbffd, 0xf5d9, 0x6280, 0x15f0, 0x91ac, 0xda2e, 0x1, 0x0);
        gbc.writeMem(0xbffd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xf5d9);
        EXPECT(gbc.pc(), 0xbffe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbffd), 0x37);
        // 37 0386
        gbc.setState(0x6920, 0x3dfd, 0xa2c0, 0x6e3a, 0xa7ae, 0xfb54, 0x0, 0x0);
        gbc.writeMem(0x6920, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x3dfd);
        EXPECT(gbc.pc(), 0x6921);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0387
        gbc.setState(0xcfc0, 0x2f4a, 0xfc0, 0xf50d, 0xbba6, 0xbb71, 0x1, 0x0);
        gbc.writeMem(0xcfc0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x2f4a);
        EXPECT(gbc.pc(), 0xcfc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfc0), 0x37);
        // 37 0388
        gbc.setState(0xed73, 0xc7fe, 0x2620, 0xc590, 0x114c, 0xa0dd, 0x0, 0x1);
        gbc.writeMem(0xed73, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xc7fe);
        EXPECT(gbc.pc(), 0xed74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed73), 0x37);
        // 37 0389
        gbc.setState(0x1db4, 0x6841, 0x7ac0, 0x561e, 0x83e0, 0xd569, 0x0, 0x1);
        gbc.writeMem(0x1db4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x6841);
        EXPECT(gbc.pc(), 0x1db5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 038A
        gbc.setState(0x306, 0xe744, 0x2f80, 0x7f16, 0x6b18, 0x57d7, 0x0, 0x1);
        gbc.writeMem(0x306, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xe744);
        EXPECT(gbc.pc(), 0x307);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 038B
        gbc.setState(0x6e23, 0x983, 0xb0a0, 0xccd4, 0x912b, 0xb89d, 0x1, 0x0);
        gbc.writeMem(0x6e23, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x983);
        EXPECT(gbc.pc(), 0x6e24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 038C
        gbc.setState(0x5d57, 0x1b63, 0xd3a0, 0xd1fb, 0x25bd, 0x4da6, 0x1, 0x1);
        gbc.writeMem(0x5d57, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x1b63);
        EXPECT(gbc.pc(), 0x5d58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 038D
        gbc.setState(0x50f6, 0xf5c, 0x3fa0, 0xfca5, 0x9ece, 0xcbff, 0x1, 0x0);
        gbc.writeMem(0x50f6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xf5c);
        EXPECT(gbc.pc(), 0x50f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 038E
        gbc.setState(0xaaa5, 0xbcfd, 0xe0d0, 0x58f8, 0xb402, 0xed88, 0x0, 0x1);
        gbc.writeMem(0xaaa5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xbcfd);
        EXPECT(gbc.pc(), 0xaaa6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaa5), 0x37);
        // 37 038F
        gbc.setState(0x93ff, 0x564f, 0xa000, 0xadad, 0x8823, 0xe74f, 0x0, 0x0);
        gbc.writeMem(0x93ff, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x564f);
        EXPECT(gbc.pc(), 0x9400);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93ff), 0x37);
        // 37 0390
        gbc.setState(0x7e9d, 0xe25a, 0xcb60, 0x9778, 0x1d0b, 0x6125, 0x0, 0x1);
        gbc.writeMem(0x7e9d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xe25a);
        EXPECT(gbc.pc(), 0x7e9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0391
        gbc.setState(0x8777, 0xa4fa, 0xd6f0, 0xb511, 0x53b2, 0xcf79, 0x1, 0x1);
        gbc.writeMem(0x8777, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xa4fa);
        EXPECT(gbc.pc(), 0x8778);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8777), 0x37);
        // 37 0392
        gbc.setState(0x2b96, 0xa8a9, 0x99f0, 0x38ee, 0x42d8, 0x8ce5, 0x0, 0x1);
        gbc.writeMem(0x2b96, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xa8a9);
        EXPECT(gbc.pc(), 0x2b97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0393
        gbc.setState(0x7590, 0x4a27, 0x34e0, 0xa82d, 0x6c1d, 0x167b, 0x1, 0x0);
        gbc.writeMem(0x7590, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x4a27);
        EXPECT(gbc.pc(), 0x7591);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0395
        gbc.setState(0xeac9, 0x3d5, 0x5b60, 0x815e, 0x8be2, 0xcb78, 0x1, 0x0);
        gbc.writeMem(0xeac9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x3d5);
        EXPECT(gbc.pc(), 0xeaca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeac9), 0x37);
        // 37 0396
        gbc.setState(0xa92b, 0xead2, 0xcb50, 0x271c, 0x9ab6, 0x8127, 0x1, 0x1);
        gbc.writeMem(0xa92b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xead2);
        EXPECT(gbc.pc(), 0xa92c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa92b), 0x37);
        // 37 0397
        gbc.setState(0x9a0f, 0x3713, 0x51d0, 0x6b3d, 0xab2, 0x5aae, 0x0, 0x0);
        gbc.writeMem(0x9a0f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x3713);
        EXPECT(gbc.pc(), 0x9a10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a0f), 0x37);
        // 37 0398
        gbc.setState(0x16a9, 0x6bdd, 0xb500, 0x7900, 0xc213, 0xf2b6, 0x0, 0x0);
        gbc.writeMem(0x16a9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x6bdd);
        EXPECT(gbc.pc(), 0x16aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 0399
        gbc.setState(0xeffd, 0x95c6, 0xa250, 0x1c8b, 0xeda6, 0x62d0, 0x0, 0x0);
        gbc.writeMem(0xeffd, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x95c6);
        EXPECT(gbc.pc(), 0xeffe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeffd), 0x37);
        // 37 039A
        gbc.setState(0xc85d, 0xeaa8, 0xbe80, 0x128e, 0xd8d2, 0x28a5, 0x0, 0x1);
        gbc.writeMem(0xc85d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xeaa8);
        EXPECT(gbc.pc(), 0xc85e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc85d), 0x37);
        // 37 039B
        gbc.setState(0xc37a, 0x75ac, 0x36d0, 0x37e0, 0xad64, 0x68ff, 0x1, 0x1);
        gbc.writeMem(0xc37a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x75ac);
        EXPECT(gbc.pc(), 0xc37b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc37a), 0x37);
        // 37 039C
        gbc.setState(0x4951, 0x446f, 0xbd80, 0x3b72, 0x9286, 0x10c6, 0x0, 0x0);
        gbc.writeMem(0x4951, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x446f);
        EXPECT(gbc.pc(), 0x4952);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 039D
        gbc.setState(0x1313, 0xb0d0, 0xa3e0, 0xd199, 0xaf1, 0x3a53, 0x0, 0x1);
        gbc.writeMem(0x1313, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xb0d0);
        EXPECT(gbc.pc(), 0x1314);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 039E
        gbc.setState(0x5e4b, 0x596a, 0x58e0, 0x9c4f, 0x89f5, 0x5636, 0x1, 0x0);
        gbc.writeMem(0x5e4b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x596a);
        EXPECT(gbc.pc(), 0x5e4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 039F
        gbc.setState(0x10df, 0x4881, 0xbb10, 0x28a0, 0x7cc9, 0x12ee, 0x1, 0x0);
        gbc.writeMem(0x10df, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x4881);
        EXPECT(gbc.pc(), 0x10e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03A0
        gbc.setState(0x417, 0x6d52, 0x6d40, 0x1682, 0x18c9, 0xbf21, 0x1, 0x0);
        gbc.writeMem(0x417, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x6d52);
        EXPECT(gbc.pc(), 0x418);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03A1
        gbc.setState(0x9103, 0x369d, 0xc430, 0xfa9, 0x657f, 0x235c, 0x0, 0x0);
        gbc.writeMem(0x9103, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x369d);
        EXPECT(gbc.pc(), 0x9104);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9103), 0x37);
        // 37 03A2
        gbc.setState(0xb2dc, 0x4682, 0xa300, 0xd751, 0x891, 0xb612, 0x1, 0x1);
        gbc.writeMem(0xb2dc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x4682);
        EXPECT(gbc.pc(), 0xb2dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2dc), 0x37);
        // 37 03A3
        gbc.setState(0xaed8, 0xe5a3, 0x550, 0xf4be, 0x1c3b, 0x82ed, 0x0, 0x0);
        gbc.writeMem(0xaed8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xe5a3);
        EXPECT(gbc.pc(), 0xaed9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaed8), 0x37);
        // 37 03A4
        gbc.setState(0x4262, 0x9d32, 0xa2c0, 0xeeda, 0x95b8, 0x988f, 0x1, 0x1);
        gbc.writeMem(0x4262, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x9d32);
        EXPECT(gbc.pc(), 0x4263);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03A5
        gbc.setState(0x4708, 0xa43b, 0xe5d0, 0xc913, 0x49b7, 0xede, 0x1, 0x0);
        gbc.writeMem(0x4708, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xa43b);
        EXPECT(gbc.pc(), 0x4709);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03A6
        gbc.setState(0x49e6, 0xda93, 0xcc00, 0xdf22, 0x9163, 0x5edb, 0x0, 0x0);
        gbc.writeMem(0x49e6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xda93);
        EXPECT(gbc.pc(), 0x49e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03A7
        gbc.setState(0x9754, 0x1b58, 0x11a0, 0xa921, 0x36fb, 0x63fe, 0x1, 0x0);
        gbc.writeMem(0x9754, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x1b58);
        EXPECT(gbc.pc(), 0x9755);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9754), 0x37);
        // 37 03A8
        gbc.setState(0x48bb, 0xceef, 0x6e90, 0x4f11, 0xa132, 0x6304, 0x0, 0x0);
        gbc.writeMem(0x48bb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xceef);
        EXPECT(gbc.pc(), 0x48bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03A9
        gbc.setState(0x6d16, 0xe2e4, 0xf250, 0xeed2, 0xc957, 0x92b3, 0x0, 0x1);
        gbc.writeMem(0x6d16, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xe2e4);
        EXPECT(gbc.pc(), 0x6d17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03AA
        gbc.setState(0xb288, 0x1467, 0xf40, 0x9151, 0xa79f, 0x3d4a, 0x1, 0x1);
        gbc.writeMem(0xb288, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x1467);
        EXPECT(gbc.pc(), 0xb289);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb288), 0x37);
        // 37 03AB
        gbc.setState(0xd594, 0x2844, 0x7020, 0x4008, 0x145c, 0xd450, 0x1, 0x0);
        gbc.writeMem(0xd594, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x2844);
        EXPECT(gbc.pc(), 0xd595);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd594), 0x37);
        // 37 03AC
        gbc.setState(0xdbba, 0x2e51, 0x4b70, 0x8b87, 0x5069, 0x9801, 0x1, 0x0);
        gbc.writeMem(0xdbba, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x2e51);
        EXPECT(gbc.pc(), 0xdbbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbba), 0x37);
        // 37 03AD
        gbc.setState(0x4e69, 0xa3b6, 0x4c00, 0xbe8d, 0x6ac3, 0xd38e, 0x0, 0x0);
        gbc.writeMem(0x4e69, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa3b6);
        EXPECT(gbc.pc(), 0x4e6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03AE
        gbc.setState(0xa285, 0xae76, 0x2730, 0x9deb, 0x9c89, 0xbcec, 0x0, 0x0);
        gbc.writeMem(0xa285, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xae76);
        EXPECT(gbc.pc(), 0xa286);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa285), 0x37);
        // 37 03AF
        gbc.setState(0xb249, 0x22e0, 0x38f0, 0x2efd, 0x55b8, 0x3040, 0x0, 0x1);
        gbc.writeMem(0xb249, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x22e0);
        EXPECT(gbc.pc(), 0xb24a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb249), 0x37);
        // 37 03B0
        gbc.setState(0xbe21, 0x6607, 0x75c0, 0x7ed6, 0x9eac, 0xf1a6, 0x0, 0x0);
        gbc.writeMem(0xbe21, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x6607);
        EXPECT(gbc.pc(), 0xbe22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe21), 0x37);
        // 37 03B1
        gbc.setState(0x46c8, 0xf780, 0x9120, 0xfb1, 0xbe75, 0xf50d, 0x1, 0x1);
        gbc.writeMem(0x46c8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xf780);
        EXPECT(gbc.pc(), 0x46c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03B2
        gbc.setState(0xa687, 0x3436, 0x2f40, 0xc770, 0xba0b, 0x8b8f, 0x1, 0x0);
        gbc.writeMem(0xa687, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x3436);
        EXPECT(gbc.pc(), 0xa688);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa687), 0x37);
        // 37 03B3
        gbc.setState(0xb96a, 0xee40, 0xb980, 0x4d37, 0x1ae9, 0xa455, 0x0, 0x1);
        gbc.writeMem(0xb96a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xee40);
        EXPECT(gbc.pc(), 0xb96b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb96a), 0x37);
        // 37 03B4
        gbc.setState(0x967e, 0xef2b, 0x2a90, 0xac03, 0x4be3, 0x3847, 0x1, 0x0);
        gbc.writeMem(0x967e, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xef2b);
        EXPECT(gbc.pc(), 0x967f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x967e), 0x37);
        // 37 03B5
        gbc.setState(0x9490, 0x6115, 0xe880, 0xec8d, 0x8ce3, 0xbdde, 0x1, 0x1);
        gbc.writeMem(0x9490, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6115);
        EXPECT(gbc.pc(), 0x9491);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9490), 0x37);
        // 37 03B6
        gbc.setState(0x7c38, 0x532b, 0x4150, 0x918d, 0xe1de, 0x2dd5, 0x0, 0x1);
        gbc.writeMem(0x7c38, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x532b);
        EXPECT(gbc.pc(), 0x7c39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03B7
        gbc.setState(0x364d, 0x63e0, 0x56f0, 0x8c3e, 0xe240, 0x317b, 0x1, 0x1);
        gbc.writeMem(0x364d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x63e0);
        EXPECT(gbc.pc(), 0x364e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03B8
        gbc.setState(0x318d, 0xc39b, 0xae00, 0x8c1b, 0x6eb8, 0x2877, 0x0, 0x0);
        gbc.writeMem(0x318d, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xc39b);
        EXPECT(gbc.pc(), 0x318e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03B9
        gbc.setState(0x5390, 0xe17, 0xdf20, 0x3b67, 0x38b7, 0x43ad, 0x1, 0x0);
        gbc.writeMem(0x5390, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xe17);
        EXPECT(gbc.pc(), 0x5391);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03BA
        gbc.setState(0xbab3, 0x4656, 0x7970, 0x7900, 0xed8, 0xfbe0, 0x1, 0x1);
        gbc.writeMem(0xbab3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x4656);
        EXPECT(gbc.pc(), 0xbab4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbab3), 0x37);
        // 37 03BB
        gbc.setState(0xe409, 0xe519, 0x8aa0, 0xbd45, 0x911d, 0x90fd, 0x0, 0x0);
        gbc.writeMem(0xe409, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xe519);
        EXPECT(gbc.pc(), 0xe40a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe409), 0x37);
        // 37 03BC
        gbc.setState(0x5c90, 0x6f38, 0x91d0, 0x4edd, 0xa36e, 0x1bdd, 0x1, 0x1);
        gbc.writeMem(0x5c90, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x6f38);
        EXPECT(gbc.pc(), 0x5c91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03BD
        gbc.setState(0xea14, 0xe404, 0xb050, 0xb3a, 0xaae3, 0xe6f, 0x1, 0x0);
        gbc.writeMem(0xea14, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xe404);
        EXPECT(gbc.pc(), 0xea15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea14), 0x37);
        // 37 03BE
        gbc.setState(0x159b, 0x4b0d, 0xfdd0, 0x70c7, 0xb671, 0x7707, 0x0, 0x0);
        gbc.writeMem(0x159b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x4b0d);
        EXPECT(gbc.pc(), 0x159c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03BF
        gbc.setState(0x7e04, 0x6b48, 0xeca0, 0xf3e0, 0xfd2f, 0xa9ec, 0x1, 0x0);
        gbc.writeMem(0x7e04, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x6b48);
        EXPECT(gbc.pc(), 0x7e05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03C0
        gbc.setState(0x9cde, 0x7750, 0xebf0, 0x4c60, 0x3ea0, 0xbc0e, 0x1, 0x0);
        gbc.writeMem(0x9cde, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x7750);
        EXPECT(gbc.pc(), 0x9cdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cde), 0x37);
        // 37 03C1
        gbc.setState(0x6d72, 0x27f1, 0xa120, 0x9027, 0x707f, 0xc5ed, 0x0, 0x0);
        gbc.writeMem(0x6d72, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x27f1);
        EXPECT(gbc.pc(), 0x6d73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03C2
        gbc.setState(0xa9a5, 0xd34c, 0x2460, 0x8f4c, 0x37d7, 0xeea3, 0x1, 0x0);
        gbc.writeMem(0xa9a5, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xd34c);
        EXPECT(gbc.pc(), 0xa9a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9a5), 0x37);
        // 37 03C3
        gbc.setState(0xea41, 0xc518, 0x8800, 0x43d8, 0x86a0, 0xec93, 0x1, 0x0);
        gbc.writeMem(0xea41, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xc518);
        EXPECT(gbc.pc(), 0xea42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea41), 0x37);
        // 37 03C4
        gbc.setState(0x7b83, 0x8920, 0x53a0, 0xb60f, 0xda1, 0xfc8e, 0x0, 0x0);
        gbc.writeMem(0x7b83, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x8920);
        EXPECT(gbc.pc(), 0x7b84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03C5
        gbc.setState(0x9cb6, 0x38e7, 0xca40, 0xdf65, 0xb09b, 0xfab5, 0x0, 0x1);
        gbc.writeMem(0x9cb6, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x38e7);
        EXPECT(gbc.pc(), 0x9cb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cb6), 0x37);
        // 37 03C6
        gbc.setState(0xc, 0x2e90, 0xa0d0, 0x4cd6, 0x57df, 0xbb80, 0x0, 0x0);
        gbc.writeMem(0xc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x2e90);
        EXPECT(gbc.pc(), 0xd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03C7
        gbc.setState(0x4c39, 0x7cfa, 0xd750, 0xb5b2, 0x93de, 0xe97e, 0x0, 0x1);
        gbc.writeMem(0x4c39, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x7cfa);
        EXPECT(gbc.pc(), 0x4c3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03C8
        gbc.setState(0xdb4a, 0x8e32, 0x9430, 0xb338, 0xeb90, 0x41d2, 0x0, 0x1);
        gbc.writeMem(0xdb4a, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x8e32);
        EXPECT(gbc.pc(), 0xdb4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb4a), 0x37);
        // 37 03C9
        gbc.setState(0x9814, 0x73c1, 0xc540, 0x2fb5, 0xa3f5, 0xf8e0, 0x1, 0x0);
        gbc.writeMem(0x9814, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x73c1);
        EXPECT(gbc.pc(), 0x9815);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9814), 0x37);
        // 37 03CA
        gbc.setState(0xabc9, 0x2f5c, 0x40a0, 0xf12a, 0x114f, 0x8017, 0x0, 0x1);
        gbc.writeMem(0xabc9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x2f5c);
        EXPECT(gbc.pc(), 0xabca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabc9), 0x37);
        // 37 03CC
        gbc.setState(0x3b4c, 0xe0b, 0xa420, 0x8335, 0x7ff5, 0x28fd, 0x0, 0x0);
        gbc.writeMem(0x3b4c, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xe0b);
        EXPECT(gbc.pc(), 0x3b4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03CD
        gbc.setState(0x3e27, 0x6eec, 0xa340, 0x9aab, 0xfe2f, 0xdd8f, 0x1, 0x0);
        gbc.writeMem(0x3e27, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x6eec);
        EXPECT(gbc.pc(), 0x3e28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03CE
        gbc.setState(0xeab4, 0x231f, 0xd910, 0x6afc, 0x4b89, 0xb4f, 0x0, 0x0);
        gbc.writeMem(0xeab4, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x231f);
        EXPECT(gbc.pc(), 0xeab5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeab4), 0x37);
        // 37 03CF
        gbc.setState(0xa1ee, 0xd51c, 0xcba0, 0xde70, 0xd527, 0xc81c, 0x1, 0x0);
        gbc.writeMem(0xa1ee, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xd51c);
        EXPECT(gbc.pc(), 0xa1ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1ee), 0x37);
        // 37 03D0
        gbc.setState(0x27cc, 0x98cf, 0xdfd0, 0xfe8e, 0x12e1, 0x5d8b, 0x0, 0x0);
        gbc.writeMem(0x27cc, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x98cf);
        EXPECT(gbc.pc(), 0x27cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03D1
        gbc.setState(0x23fb, 0x9275, 0x3300, 0x6246, 0xf431, 0x4160, 0x1, 0x1);
        gbc.writeMem(0x23fb, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x9275);
        EXPECT(gbc.pc(), 0x23fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03D2
        gbc.setState(0xa4d7, 0x3234, 0xc0d0, 0x4e51, 0xd204, 0xff3c, 0x1, 0x0);
        gbc.writeMem(0xa4d7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x3234);
        EXPECT(gbc.pc(), 0xa4d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4d7), 0x37);
        // 37 03D3
        gbc.setState(0x301f, 0x8cdb, 0xf0d0, 0x27a7, 0x1e70, 0x5530, 0x1, 0x0);
        gbc.writeMem(0x301f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x8cdb);
        EXPECT(gbc.pc(), 0x3020);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03D4
        gbc.setState(0x9667, 0x315b, 0x7440, 0x262b, 0x186e, 0x4c18, 0x0, 0x0);
        gbc.writeMem(0x9667, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x315b);
        EXPECT(gbc.pc(), 0x9668);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9667), 0x37);
        // 37 03D5
        gbc.setState(0x9dc9, 0xbf38, 0x8db0, 0xafc7, 0x74e0, 0xd031, 0x1, 0x0);
        gbc.writeMem(0x9dc9, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xbf38);
        EXPECT(gbc.pc(), 0x9dca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dc9), 0x37);
        // 37 03D6
        gbc.setState(0x4d11, 0x33b6, 0xc6e0, 0xc806, 0x6c5c, 0x59d5, 0x1, 0x1);
        gbc.writeMem(0x4d11, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x33b6);
        EXPECT(gbc.pc(), 0x4d12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03D7
        gbc.setState(0xbb37, 0x6c58, 0x3460, 0x4372, 0x89f9, 0x83c5, 0x1, 0x1);
        gbc.writeMem(0xbb37, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6c58);
        EXPECT(gbc.pc(), 0xbb38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb37), 0x37);
        // 37 03D8
        gbc.setState(0x45ce, 0x5344, 0x6b80, 0x1740, 0x7640, 0x1869, 0x1, 0x1);
        gbc.writeMem(0x45ce, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x5344);
        EXPECT(gbc.pc(), 0x45cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03D9
        gbc.setState(0x4fe7, 0xbae, 0x67c0, 0xee66, 0x72af, 0x73fe, 0x1, 0x0);
        gbc.writeMem(0x4fe7, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xbae);
        EXPECT(gbc.pc(), 0x4fe8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03DA
        gbc.setState(0x0, 0x2022, 0x1100, 0x95b5, 0x694e, 0xb715, 0x0, 0x0);
        gbc.writeMem(0x0, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x2022);
        EXPECT(gbc.pc(), 0x1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03DC
        gbc.setState(0x95a8, 0x6582, 0x8db0, 0x47cf, 0x1f57, 0xc4d5, 0x0, 0x0);
        gbc.writeMem(0x95a8, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x6582);
        EXPECT(gbc.pc(), 0x95a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x95a8), 0x37);
        // 37 03DD
        gbc.setState(0x4354, 0xbeb6, 0xb9f0, 0xfe0b, 0x41fa, 0x81bc, 0x1, 0x1);
        gbc.writeMem(0x4354, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xbeb6);
        EXPECT(gbc.pc(), 0x4355);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03DF
        gbc.setState(0x341f, 0x9ce9, 0xc210, 0xd604, 0xb1f0, 0xec0e, 0x0, 0x1);
        gbc.writeMem(0x341f, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x9ce9);
        EXPECT(gbc.pc(), 0x3420);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03E0
        gbc.setState(0x5bc3, 0xf85e, 0xbf80, 0x66c4, 0x8395, 0xb7f1, 0x1, 0x1);
        gbc.writeMem(0x5bc3, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xf85e);
        EXPECT(gbc.pc(), 0x5bc4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03E1
        gbc.setState(0x6777, 0x5751, 0x55e0, 0xe783, 0x5731, 0xe05c, 0x0, 0x1);
        gbc.writeMem(0x6777, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x5751);
        EXPECT(gbc.pc(), 0x6778);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03E2
        gbc.setState(0x9ea2, 0x52ff, 0xa860, 0xbb47, 0x9d41, 0x3b68, 0x1, 0x1);
        gbc.writeMem(0x9ea2, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x52ff);
        EXPECT(gbc.pc(), 0x9ea3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ea2), 0x37);
        // 37 03E3
        gbc.setState(0xb9b, 0xa8c, 0xcf30, 0xe4d1, 0xaa39, 0x5f2d, 0x1, 0x1);
        gbc.writeMem(0xb9b, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xa8c);
        EXPECT(gbc.pc(), 0xb9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03E4
        gbc.setState(0xad24, 0x7196, 0x91b0, 0xe930, 0x46ae, 0xfb4e, 0x0, 0x1);
        gbc.writeMem(0xad24, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x7196);
        EXPECT(gbc.pc(), 0xad25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad24), 0x37);
        // 37 03E5
        gbc.setState(0x2a52, 0xbd6b, 0x4670, 0x963d, 0x9d06, 0xc49c, 0x1, 0x1);
        gbc.writeMem(0x2a52, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xbd6b);
        EXPECT(gbc.pc(), 0x2a53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 37 03E6
        gbc.setState(0xef17, 0x5dbd, 0xf8b0, 0x100d, 0xc9ae, 0x992e, 0x0, 0x1);
        gbc.writeMem(0xef17, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x5dbd);
        EXPECT(gbc.pc(), 0xef18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef17), 0x37);
        // 37 03E7
        gbc.setState(0x9c21, 0x5103, 0xfd60, 0x222e, 0x6c16, 0x2eba, 0x1, 0x1);
        gbc.writeMem(0x9c21, { 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x5103);
        EXPECT(gbc.pc(), 0x9c22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c21), 0x37);
    }
