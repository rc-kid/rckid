    TEST(gbcemu, opcode_41) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 41 0000
        gbc.setState(0x2675, 0xc5d3, 0xb9a0, 0x9765, 0xbb48, 0x75f9, 0x1, 0x0);
        gbc.writeMem(0x2675, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xc5d3);
        EXPECT(gbc.pc(), 0x2676);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0001
        gbc.setState(0x920e, 0x894d, 0x9bf0, 0xec17, 0x8ba0, 0xf6e8, 0x1, 0x0);
        gbc.writeMem(0x920e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x894d);
        EXPECT(gbc.pc(), 0x920f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x920e), 0x41);
        // 41 0002
        gbc.setState(0x1248, 0xd34d, 0xa7f0, 0xf091, 0x925c, 0x6e58, 0x0, 0x1);
        gbc.writeMem(0x1248, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xd34d);
        EXPECT(gbc.pc(), 0x1249);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0003
        gbc.setState(0x2806, 0x6290, 0x3f10, 0x2557, 0xa4b4, 0x624e, 0x1, 0x1);
        gbc.writeMem(0x2806, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x6290);
        EXPECT(gbc.pc(), 0x2807);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0004
        gbc.setState(0xeeee, 0xed47, 0x23a0, 0x13e0, 0xf89b, 0x40b1, 0x1, 0x0);
        gbc.writeMem(0xeeee, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xed47);
        EXPECT(gbc.pc(), 0xeeef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeeee), 0x41);
        // 41 0005
        gbc.setState(0x67df, 0x46b2, 0xe470, 0xfed6, 0x813, 0x5c4b, 0x0, 0x1);
        gbc.writeMem(0x67df, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x46b2);
        EXPECT(gbc.pc(), 0x67e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0006
        gbc.setState(0x1b2e, 0x62a7, 0x31a0, 0x1c11, 0x7d76, 0xcc9a, 0x0, 0x0);
        gbc.writeMem(0x1b2e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x62a7);
        EXPECT(gbc.pc(), 0x1b2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0007
        gbc.setState(0xd3f5, 0x3a29, 0x85b0, 0x4fdd, 0xdd6f, 0x940e, 0x1, 0x1);
        gbc.writeMem(0xd3f5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x3a29);
        EXPECT(gbc.pc(), 0xd3f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3f5), 0x41);
        // 41 0008
        gbc.setState(0x20f7, 0xb8da, 0x50c0, 0x9cfe, 0x6016, 0x36c5, 0x1, 0x0);
        gbc.writeMem(0x20f7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xb8da);
        EXPECT(gbc.pc(), 0x20f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 000A
        gbc.setState(0xaf5d, 0xc6dd, 0x5600, 0xd050, 0x9a76, 0xed59, 0x1, 0x0);
        gbc.writeMem(0xaf5d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xc6dd);
        EXPECT(gbc.pc(), 0xaf5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf5d), 0x41);
        // 41 000B
        gbc.setState(0x7092, 0xf287, 0xcd40, 0x7243, 0x781c, 0x41f5, 0x0, 0x1);
        gbc.writeMem(0x7092, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xf287);
        EXPECT(gbc.pc(), 0x7093);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 000C
        gbc.setState(0xc2a9, 0x28d4, 0xa040, 0x2035, 0x9b8c, 0xdc55, 0x0, 0x1);
        gbc.writeMem(0xc2a9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x28d4);
        EXPECT(gbc.pc(), 0xc2aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2a9), 0x41);
        // 41 000D
        gbc.setState(0xe47d, 0xb2e6, 0xb9b0, 0xec6f, 0x3556, 0xc35b, 0x0, 0x1);
        gbc.writeMem(0xe47d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xb2e6);
        EXPECT(gbc.pc(), 0xe47e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe47d), 0x41);
        // 41 000E
        gbc.setState(0x8831, 0x91c8, 0xb720, 0xfecc, 0x349c, 0x718a, 0x1, 0x1);
        gbc.writeMem(0x8831, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x91c8);
        EXPECT(gbc.pc(), 0x8832);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8831), 0x41);
        // 41 0010
        gbc.setState(0x4d36, 0x5fa5, 0x4ec0, 0xcd0b, 0x852d, 0xc0c1, 0x1, 0x1);
        gbc.writeMem(0x4d36, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x5fa5);
        EXPECT(gbc.pc(), 0x4d37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0011
        gbc.setState(0xc3f8, 0xe395, 0xee60, 0x7892, 0xcb77, 0x515c, 0x0, 0x0);
        gbc.writeMem(0xc3f8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xe395);
        EXPECT(gbc.pc(), 0xc3f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3f8), 0x41);
        // 41 0012
        gbc.setState(0xd13e, 0x6b72, 0x2780, 0x5b25, 0xd15c, 0x7601, 0x1, 0x0);
        gbc.writeMem(0xd13e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x6b72);
        EXPECT(gbc.pc(), 0xd13f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd13e), 0x41);
        // 41 0013
        gbc.setState(0xa602, 0x3256, 0x6270, 0x3f6b, 0x7530, 0xef0e, 0x0, 0x1);
        gbc.writeMem(0xa602, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x3256);
        EXPECT(gbc.pc(), 0xa603);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa602), 0x41);
        // 41 0015
        gbc.setState(0xb543, 0x7f26, 0x6fc0, 0x4f4d, 0x3dea, 0x5e3e, 0x0, 0x0);
        gbc.writeMem(0xb543, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x7f26);
        EXPECT(gbc.pc(), 0xb544);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb543), 0x41);
        // 41 0016
        gbc.setState(0x4dc2, 0x9178, 0xfac0, 0x5771, 0x27af, 0xbeb0, 0x1, 0x1);
        gbc.writeMem(0x4dc2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x9178);
        EXPECT(gbc.pc(), 0x4dc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0017
        gbc.setState(0x66df, 0x7ea7, 0x47c0, 0x20b6, 0xacca, 0x611e, 0x1, 0x1);
        gbc.writeMem(0x66df, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x7ea7);
        EXPECT(gbc.pc(), 0x66e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0018
        gbc.setState(0xa6b, 0xb660, 0xd0e0, 0x27a3, 0x1f8d, 0x2330, 0x1, 0x0);
        gbc.writeMem(0xa6b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xb660);
        EXPECT(gbc.pc(), 0xa6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0019
        gbc.setState(0x7813, 0x755a, 0x1f30, 0x1367, 0x415a, 0x6870, 0x1, 0x1);
        gbc.writeMem(0x7813, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x755a);
        EXPECT(gbc.pc(), 0x7814);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 001A
        gbc.setState(0x1ae6, 0x5129, 0x45c0, 0x6275, 0x1338, 0xcfea, 0x1, 0x1);
        gbc.writeMem(0x1ae6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x5129);
        EXPECT(gbc.pc(), 0x1ae7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 001B
        gbc.setState(0x72a8, 0xccf2, 0xb980, 0x88ac, 0xd377, 0xb3c4, 0x0, 0x0);
        gbc.writeMem(0x72a8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xccf2);
        EXPECT(gbc.pc(), 0x72a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 001C
        gbc.setState(0x2395, 0xbcd8, 0x69a0, 0x9c2a, 0xfd77, 0x442a, 0x1, 0x1);
        gbc.writeMem(0x2395, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xbcd8);
        EXPECT(gbc.pc(), 0x2396);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 001E
        gbc.setState(0x6e71, 0x38d8, 0x64e0, 0x882f, 0x805d, 0xf787, 0x0, 0x0);
        gbc.writeMem(0x6e71, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x38d8);
        EXPECT(gbc.pc(), 0x6e72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 001F
        gbc.setState(0xae8c, 0x7446, 0xa3b0, 0x3d15, 0x515, 0x7e9, 0x1, 0x1);
        gbc.writeMem(0xae8c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x7446);
        EXPECT(gbc.pc(), 0xae8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae8c), 0x41);
        // 41 0020
        gbc.setState(0xd385, 0x165c, 0x87e0, 0xca28, 0x7f24, 0x44d, 0x1, 0x1);
        gbc.writeMem(0xd385, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x165c);
        EXPECT(gbc.pc(), 0xd386);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd385), 0x41);
        // 41 0021
        gbc.setState(0x5e6b, 0xe2a4, 0x37e0, 0xd18a, 0xd7df, 0x659, 0x0, 0x0);
        gbc.writeMem(0x5e6b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xe2a4);
        EXPECT(gbc.pc(), 0x5e6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0022
        gbc.setState(0x68f3, 0xb781, 0xb0d0, 0xbc83, 0xc54c, 0x9a28, 0x1, 0x0);
        gbc.writeMem(0x68f3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb781);
        EXPECT(gbc.pc(), 0x68f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0023
        gbc.setState(0xb537, 0x231e, 0x3cb0, 0x3a3f, 0x2732, 0x47d1, 0x0, 0x1);
        gbc.writeMem(0xb537, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x231e);
        EXPECT(gbc.pc(), 0xb538);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb537), 0x41);
        // 41 0024
        gbc.setState(0x2e7d, 0xe002, 0xccd0, 0x7ad1, 0x2072, 0xf026, 0x1, 0x1);
        gbc.writeMem(0x2e7d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xe002);
        EXPECT(gbc.pc(), 0x2e7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0025
        gbc.setState(0x77b5, 0x2c5a, 0x83c0, 0x181f, 0x194d, 0xd79f, 0x1, 0x1);
        gbc.writeMem(0x77b5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x2c5a);
        EXPECT(gbc.pc(), 0x77b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0026
        gbc.setState(0x67a6, 0xd8a, 0xce40, 0x84aa, 0xe87c, 0x4d52, 0x1, 0x0);
        gbc.writeMem(0x67a6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xd8a);
        EXPECT(gbc.pc(), 0x67a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0027
        gbc.setState(0xc4a9, 0x1e43, 0x4f0, 0xa5f8, 0x3468, 0x9b5f, 0x1, 0x0);
        gbc.writeMem(0xc4a9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x1e43);
        EXPECT(gbc.pc(), 0xc4aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4a9), 0x41);
        // 41 0028
        gbc.setState(0x60be, 0x2874, 0xbb80, 0x8a03, 0x12dc, 0xc2f0, 0x1, 0x1);
        gbc.writeMem(0x60be, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x2874);
        EXPECT(gbc.pc(), 0x60bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0029
        gbc.setState(0x6f5f, 0x3730, 0xde00, 0x167b, 0xac54, 0xf893, 0x0, 0x0);
        gbc.writeMem(0x6f5f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x3730);
        EXPECT(gbc.pc(), 0x6f60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 002A
        gbc.setState(0x86a9, 0x6f25, 0xdc90, 0x6e56, 0x69da, 0xae7f, 0x0, 0x0);
        gbc.writeMem(0x86a9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x6f25);
        EXPECT(gbc.pc(), 0x86aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86a9), 0x41);
        // 41 002B
        gbc.setState(0x4020, 0xa30c, 0xd020, 0x41e8, 0x5358, 0x348c, 0x0, 0x1);
        gbc.writeMem(0x4020, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xa30c);
        EXPECT(gbc.pc(), 0x4021);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 002C
        gbc.setState(0xe759, 0xc310, 0xa720, 0xba4b, 0x68fc, 0x2181, 0x0, 0x0);
        gbc.writeMem(0xe759, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xc310);
        EXPECT(gbc.pc(), 0xe75a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe759), 0x41);
        // 41 002E
        gbc.setState(0x6cbc, 0x9250, 0x2e0, 0x5000, 0xa5ca, 0x7641, 0x0, 0x1);
        gbc.writeMem(0x6cbc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x9250);
        EXPECT(gbc.pc(), 0x6cbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 002F
        gbc.setState(0xcb8a, 0x607e, 0x5460, 0x9b1e, 0x2d18, 0x9dd6, 0x0, 0x1);
        gbc.writeMem(0xcb8a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x607e);
        EXPECT(gbc.pc(), 0xcb8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb8a), 0x41);
        // 41 0030
        gbc.setState(0x54a6, 0xd8ae, 0xfb0, 0xea4e, 0xa4cb, 0xd364, 0x1, 0x1);
        gbc.writeMem(0x54a6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xd8ae);
        EXPECT(gbc.pc(), 0x54a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0031
        gbc.setState(0xbc7f, 0x31ef, 0x4b30, 0x10f6, 0x8246, 0xfb0e, 0x1, 0x1);
        gbc.writeMem(0xbc7f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x31ef);
        EXPECT(gbc.pc(), 0xbc80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc7f), 0x41);
        // 41 0032
        gbc.setState(0x784, 0xd639, 0xfc00, 0xcac7, 0xde1d, 0x403a, 0x0, 0x0);
        gbc.writeMem(0x784, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xd639);
        EXPECT(gbc.pc(), 0x785);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0033
        gbc.setState(0xec05, 0xc1fc, 0xb940, 0x48c6, 0xc9ba, 0xefb0, 0x1, 0x1);
        gbc.writeMem(0xec05, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xc1fc);
        EXPECT(gbc.pc(), 0xec06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec05), 0x41);
        // 41 0034
        gbc.setState(0x2f8, 0x3449, 0xbf60, 0x9155, 0x5b21, 0xcc90, 0x1, 0x0);
        gbc.writeMem(0x2f8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x3449);
        EXPECT(gbc.pc(), 0x2f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0035
        gbc.setState(0x2149, 0x4e5e, 0xf0f0, 0x4371, 0xae88, 0xa7ee, 0x0, 0x1);
        gbc.writeMem(0x2149, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x4e5e);
        EXPECT(gbc.pc(), 0x214a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0036
        gbc.setState(0x182d, 0xaf18, 0x5c0, 0x1281, 0xcffb, 0x7ab8, 0x1, 0x0);
        gbc.writeMem(0x182d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xaf18);
        EXPECT(gbc.pc(), 0x182e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0037
        gbc.setState(0xb5ee, 0x9de8, 0x800, 0x128f, 0x9da1, 0x6543, 0x1, 0x1);
        gbc.writeMem(0xb5ee, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x9de8);
        EXPECT(gbc.pc(), 0xb5ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5ee), 0x41);
        // 41 0038
        gbc.setState(0x458d, 0x73db, 0x24a0, 0x7000, 0xd72c, 0x3dcc, 0x1, 0x0);
        gbc.writeMem(0x458d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x73db);
        EXPECT(gbc.pc(), 0x458e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0039
        gbc.setState(0x3343, 0xe9c2, 0x7d40, 0xa83c, 0xa39a, 0x503d, 0x0, 0x1);
        gbc.writeMem(0x3343, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xe9c2);
        EXPECT(gbc.pc(), 0x3344);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 003A
        gbc.setState(0x30c6, 0xadc5, 0x5ea0, 0x2f00, 0x4ce0, 0x96ec, 0x0, 0x0);
        gbc.writeMem(0x30c6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xadc5);
        EXPECT(gbc.pc(), 0x30c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 003B
        gbc.setState(0xec0f, 0x8b2, 0xb520, 0x629, 0x469e, 0x186b, 0x0, 0x0);
        gbc.writeMem(0xec0f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x8b2);
        EXPECT(gbc.pc(), 0xec10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec0f), 0x41);
        // 41 003C
        gbc.setState(0x3705, 0xf1b3, 0x7a90, 0x3a26, 0xdf9a, 0x884, 0x0, 0x0);
        gbc.writeMem(0x3705, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xf1b3);
        EXPECT(gbc.pc(), 0x3706);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 003D
        gbc.setState(0x57df, 0x8d1c, 0xb0d0, 0x140, 0xcd0a, 0x8d8d, 0x0, 0x1);
        gbc.writeMem(0x57df, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x8d1c);
        EXPECT(gbc.pc(), 0x57e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 003E
        gbc.setState(0x8aeb, 0xc48e, 0xd960, 0xbfef, 0x374e, 0x83db, 0x0, 0x1);
        gbc.writeMem(0x8aeb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xc48e);
        EXPECT(gbc.pc(), 0x8aec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8aeb), 0x41);
        // 41 003F
        gbc.setState(0x87c7, 0x192d, 0x1400, 0xbd01, 0xbea2, 0x110a, 0x1, 0x1);
        gbc.writeMem(0x87c7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x192d);
        EXPECT(gbc.pc(), 0x87c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87c7), 0x41);
        // 41 0040
        gbc.setState(0x7ad6, 0x21c0, 0x3810, 0x6bf0, 0x7670, 0x9147, 0x1, 0x0);
        gbc.writeMem(0x7ad6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x21c0);
        EXPECT(gbc.pc(), 0x7ad7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0041
        gbc.setState(0x1d8, 0xc13b, 0xc480, 0xd93, 0xa30, 0xc71, 0x0, 0x0);
        gbc.writeMem(0x1d8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xc13b);
        EXPECT(gbc.pc(), 0x1d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0042
        gbc.setState(0xeecb, 0x3a04, 0x2610, 0x657, 0xcb21, 0xd605, 0x1, 0x1);
        gbc.writeMem(0xeecb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x3a04);
        EXPECT(gbc.pc(), 0xeecc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeecb), 0x41);
        // 41 0043
        gbc.setState(0xcdbc, 0x592e, 0x24e0, 0xfc5e, 0x8532, 0x33, 0x1, 0x1);
        gbc.writeMem(0xcdbc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x592e);
        EXPECT(gbc.pc(), 0xcdbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdbc), 0x41);
        // 41 0044
        gbc.setState(0xbffe, 0x5fff, 0xe2b0, 0xc3e0, 0x1d9e, 0x5353, 0x0, 0x0);
        gbc.writeMem(0xbffe, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x5fff);
        EXPECT(gbc.pc(), 0xbfff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbffe), 0x41);
        // 41 0045
        gbc.setState(0x2571, 0xf9ac, 0x6f80, 0xe24, 0x4c55, 0x20e1, 0x0, 0x0);
        gbc.writeMem(0x2571, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xf9ac);
        EXPECT(gbc.pc(), 0x2572);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0046
        gbc.setState(0x4d21, 0x6286, 0x4710, 0x2c37, 0xe19, 0xe30f, 0x0, 0x0);
        gbc.writeMem(0x4d21, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x6286);
        EXPECT(gbc.pc(), 0x4d22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0047
        gbc.setState(0x29f9, 0x3236, 0xc870, 0x42e8, 0x2a18, 0x6d58, 0x1, 0x1);
        gbc.writeMem(0x29f9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x3236);
        EXPECT(gbc.pc(), 0x29fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0048
        gbc.setState(0xd723, 0x3fa9, 0x18c0, 0x1068, 0x4b67, 0x6ba2, 0x0, 0x1);
        gbc.writeMem(0xd723, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x3fa9);
        EXPECT(gbc.pc(), 0xd724);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd723), 0x41);
        // 41 0049
        gbc.setState(0xa22a, 0x7322, 0x14c0, 0x1b25, 0xbf59, 0xd29d, 0x1, 0x0);
        gbc.writeMem(0xa22a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x7322);
        EXPECT(gbc.pc(), 0xa22b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa22a), 0x41);
        // 41 004A
        gbc.setState(0x8e98, 0x7da0, 0xf930, 0xc588, 0x8bcc, 0x1be5, 0x1, 0x1);
        gbc.writeMem(0x8e98, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x7da0);
        EXPECT(gbc.pc(), 0x8e99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e98), 0x41);
        // 41 004B
        gbc.setState(0x2452, 0x8019, 0xfe20, 0x749d, 0xb1a, 0x4fb1, 0x1, 0x0);
        gbc.writeMem(0x2452, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x8019);
        EXPECT(gbc.pc(), 0x2453);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 004D
        gbc.setState(0x7985, 0xe2f0, 0xdd0, 0xd6f6, 0x6e3c, 0xdee, 0x0, 0x1);
        gbc.writeMem(0x7985, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xe2f0);
        EXPECT(gbc.pc(), 0x7986);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 004E
        gbc.setState(0x2722, 0xc908, 0x4dc0, 0xdef6, 0x918d, 0xc417, 0x1, 0x0);
        gbc.writeMem(0x2722, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xc908);
        EXPECT(gbc.pc(), 0x2723);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 004F
        gbc.setState(0x415c, 0xe211, 0xe10, 0x3607, 0x4640, 0x9686, 0x0, 0x1);
        gbc.writeMem(0x415c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xe211);
        EXPECT(gbc.pc(), 0x415d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0050
        gbc.setState(0x499e, 0x7632, 0xe500, 0x89c9, 0xcd36, 0xa6e9, 0x1, 0x1);
        gbc.writeMem(0x499e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x7632);
        EXPECT(gbc.pc(), 0x499f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0051
        gbc.setState(0x2c6f, 0x7eae, 0x18a0, 0x5656, 0x2a37, 0x6a38, 0x1, 0x1);
        gbc.writeMem(0x2c6f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x7eae);
        EXPECT(gbc.pc(), 0x2c70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0052
        gbc.setState(0x8940, 0xe1e, 0x9a0, 0x11, 0x95bb, 0xd52c, 0x1, 0x0);
        gbc.writeMem(0x8940, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xe1e);
        EXPECT(gbc.pc(), 0x8941);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8940), 0x41);
        // 41 0054
        gbc.setState(0xc6a6, 0x7bf6, 0x1220, 0x9497, 0xb0ba, 0x3cba, 0x0, 0x1);
        gbc.writeMem(0xc6a6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x7bf6);
        EXPECT(gbc.pc(), 0xc6a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6a6), 0x41);
        // 41 0055
        gbc.setState(0x7a66, 0xf2db, 0xdfa0, 0xbdf3, 0x9fe0, 0xdf48, 0x0, 0x1);
        gbc.writeMem(0x7a66, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xf2db);
        EXPECT(gbc.pc(), 0x7a67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0056
        gbc.setState(0x93ab, 0xaad7, 0x4870, 0xa2b3, 0x95cc, 0xcfe4, 0x1, 0x0);
        gbc.writeMem(0x93ab, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xaad7);
        EXPECT(gbc.pc(), 0x93ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93ab), 0x41);
        // 41 0057
        gbc.setState(0xef51, 0x362c, 0x850, 0xeac9, 0x6c1d, 0xca91, 0x0, 0x0);
        gbc.writeMem(0xef51, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x362c);
        EXPECT(gbc.pc(), 0xef52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef51), 0x41);
        // 41 0058
        gbc.setState(0x7994, 0x14c, 0xc120, 0xcfd1, 0xb217, 0x16da, 0x0, 0x1);
        gbc.writeMem(0x7994, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x14c);
        EXPECT(gbc.pc(), 0x7995);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0059
        gbc.setState(0xa194, 0x51e8, 0xaad0, 0xb24b, 0xc3cd, 0x7fb2, 0x0, 0x0);
        gbc.writeMem(0xa194, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x51e8);
        EXPECT(gbc.pc(), 0xa195);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa194), 0x41);
        // 41 005A
        gbc.setState(0xaf84, 0x7816, 0x5780, 0xd03d, 0xbbd5, 0x975e, 0x1, 0x0);
        gbc.writeMem(0xaf84, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x7816);
        EXPECT(gbc.pc(), 0xaf85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf84), 0x41);
        // 41 005B
        gbc.setState(0x6456, 0xf50b, 0xf640, 0x3316, 0xdc5a, 0x2eee, 0x1, 0x1);
        gbc.writeMem(0x6456, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xf50b);
        EXPECT(gbc.pc(), 0x6457);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 005C
        gbc.setState(0x42ca, 0xd1d7, 0x9480, 0x8be5, 0xee5c, 0xa0de, 0x1, 0x1);
        gbc.writeMem(0x42ca, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xd1d7);
        EXPECT(gbc.pc(), 0x42cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 005D
        gbc.setState(0xc500, 0xed9b, 0x40, 0x607c, 0xda2f, 0x1485, 0x1, 0x0);
        gbc.writeMem(0xc500, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xed9b);
        EXPECT(gbc.pc(), 0xc501);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc500), 0x41);
        // 41 005E
        gbc.setState(0xba45, 0xed21, 0x90, 0x1b03, 0x585a, 0xf9c2, 0x1, 0x0);
        gbc.writeMem(0xba45, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xed21);
        EXPECT(gbc.pc(), 0xba46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba45), 0x41);
        // 41 0061
        gbc.setState(0xb759, 0x2b7b, 0xff80, 0xde79, 0xe5e7, 0x967, 0x0, 0x1);
        gbc.writeMem(0xb759, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x2b7b);
        EXPECT(gbc.pc(), 0xb75a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb759), 0x41);
        // 41 0062
        gbc.setState(0x95e3, 0x5261, 0x9bc0, 0x6d2, 0xe10c, 0x6bdb, 0x1, 0x0);
        gbc.writeMem(0x95e3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x5261);
        EXPECT(gbc.pc(), 0x95e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95e3), 0x41);
        // 41 0063
        gbc.setState(0x41b9, 0xbfd7, 0x1550, 0x44df, 0xc943, 0x3156, 0x1, 0x0);
        gbc.writeMem(0x41b9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xbfd7);
        EXPECT(gbc.pc(), 0x41ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0064
        gbc.setState(0x4cec, 0xfeb7, 0xdaf0, 0x65fb, 0xe67, 0xd02b, 0x1, 0x1);
        gbc.writeMem(0x4cec, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xfeb7);
        EXPECT(gbc.pc(), 0x4ced);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0065
        gbc.setState(0x3ee4, 0x3a95, 0x2fe0, 0x9073, 0x9d1e, 0x8509, 0x0, 0x1);
        gbc.writeMem(0x3ee4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x3a95);
        EXPECT(gbc.pc(), 0x3ee5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0066
        gbc.setState(0xc6d0, 0x64c8, 0x4550, 0x7369, 0xe8e5, 0xcd5e, 0x1, 0x1);
        gbc.writeMem(0xc6d0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x64c8);
        EXPECT(gbc.pc(), 0xc6d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6d0), 0x41);
        // 41 0068
        gbc.setState(0x7ea1, 0x7168, 0x6310, 0x48a7, 0xdad9, 0x31ff, 0x1, 0x1);
        gbc.writeMem(0x7ea1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x7168);
        EXPECT(gbc.pc(), 0x7ea2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0069
        gbc.setState(0x5971, 0x4bcf, 0x5780, 0x6de9, 0x103f, 0xe1af, 0x1, 0x0);
        gbc.writeMem(0x5971, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4bcf);
        EXPECT(gbc.pc(), 0x5972);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 006A
        gbc.setState(0x25d8, 0xd985, 0xa3c0, 0x5696, 0x98d8, 0xdd1e, 0x0, 0x1);
        gbc.writeMem(0x25d8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xd985);
        EXPECT(gbc.pc(), 0x25d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 006B
        gbc.setState(0xd11d, 0x8755, 0x2400, 0x9e6e, 0x19f3, 0xcdbf, 0x0, 0x0);
        gbc.writeMem(0xd11d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x8755);
        EXPECT(gbc.pc(), 0xd11e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd11d), 0x41);
        // 41 006C
        gbc.setState(0x226a, 0xe56b, 0xba20, 0x94, 0xfcd6, 0xe283, 0x0, 0x1);
        gbc.writeMem(0x226a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xe56b);
        EXPECT(gbc.pc(), 0x226b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 006D
        gbc.setState(0x237b, 0x4350, 0xb460, 0x8c86, 0x4472, 0xad25, 0x0, 0x0);
        gbc.writeMem(0x237b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x4350);
        EXPECT(gbc.pc(), 0x237c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 006E
        gbc.setState(0x216, 0xaed1, 0x4ea0, 0x526e, 0x7e7a, 0x7d54, 0x0, 0x0);
        gbc.writeMem(0x216, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xaed1);
        EXPECT(gbc.pc(), 0x217);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 006F
        gbc.setState(0x7b81, 0x506f, 0xc490, 0xb7cc, 0x2180, 0x7cbf, 0x0, 0x1);
        gbc.writeMem(0x7b81, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x506f);
        EXPECT(gbc.pc(), 0x7b82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0070
        gbc.setState(0xac2f, 0xfb3b, 0x4c60, 0x7070, 0x5e93, 0x5884, 0x1, 0x1);
        gbc.writeMem(0xac2f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xfb3b);
        EXPECT(gbc.pc(), 0xac30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac2f), 0x41);
        // 41 0071
        gbc.setState(0xb5f, 0x80be, 0xbf60, 0x4f70, 0x646f, 0x411e, 0x1, 0x1);
        gbc.writeMem(0xb5f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x80be);
        EXPECT(gbc.pc(), 0xb60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0072
        gbc.setState(0x3c1c, 0x13f2, 0xfd20, 0x262c, 0x9b31, 0xe10b, 0x0, 0x1);
        gbc.writeMem(0x3c1c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x13f2);
        EXPECT(gbc.pc(), 0x3c1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0073
        gbc.setState(0xaa4c, 0xc415, 0x6be0, 0x70f3, 0x1eb9, 0xebac, 0x0, 0x0);
        gbc.writeMem(0xaa4c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc415);
        EXPECT(gbc.pc(), 0xaa4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa4c), 0x41);
        // 41 0074
        gbc.setState(0x922f, 0x799d, 0x63e0, 0x9509, 0xbc, 0x326, 0x1, 0x0);
        gbc.writeMem(0x922f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x799d);
        EXPECT(gbc.pc(), 0x9230);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x922f), 0x41);
        // 41 0075
        gbc.setState(0xa416, 0xa35a, 0xa2f0, 0x7596, 0x372c, 0x6e96, 0x0, 0x1);
        gbc.writeMem(0xa416, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xa35a);
        EXPECT(gbc.pc(), 0xa417);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa416), 0x41);
        // 41 0076
        gbc.setState(0x86b2, 0xb6ec, 0xad10, 0xee7f, 0x5eb1, 0x649c, 0x0, 0x0);
        gbc.writeMem(0x86b2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xb6ec);
        EXPECT(gbc.pc(), 0x86b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86b2), 0x41);
        // 41 0077
        gbc.setState(0xb64a, 0x2a9b, 0xa5b0, 0xa5d2, 0xc3f9, 0x1901, 0x1, 0x1);
        gbc.writeMem(0xb64a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x2a9b);
        EXPECT(gbc.pc(), 0xb64b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb64a), 0x41);
        // 41 0078
        gbc.setState(0xde33, 0xd381, 0x7600, 0xdd63, 0x813f, 0x287f, 0x1, 0x1);
        gbc.writeMem(0xde33, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xd381);
        EXPECT(gbc.pc(), 0xde34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde33), 0x41);
        // 41 0079
        gbc.setState(0x87f0, 0x8880, 0xa740, 0x7c92, 0x636c, 0xb4e2, 0x0, 0x0);
        gbc.writeMem(0x87f0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8880);
        EXPECT(gbc.pc(), 0x87f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87f0), 0x41);
        // 41 007A
        gbc.setState(0xde5d, 0xbd65, 0xefa0, 0xdd14, 0xf5fb, 0x9090, 0x0, 0x0);
        gbc.writeMem(0xde5d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xbd65);
        EXPECT(gbc.pc(), 0xde5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde5d), 0x41);
        // 41 007B
        gbc.setState(0x76a3, 0xc7eb, 0xb7d0, 0xcf01, 0x91f4, 0x7b86, 0x1, 0x1);
        gbc.writeMem(0x76a3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xc7eb);
        EXPECT(gbc.pc(), 0x76a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 007C
        gbc.setState(0x67bc, 0x2596, 0xd560, 0xb5b1, 0x19a6, 0xfbe6, 0x1, 0x0);
        gbc.writeMem(0x67bc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x2596);
        EXPECT(gbc.pc(), 0x67bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 007D
        gbc.setState(0xde22, 0xd803, 0x2c60, 0x8c8e, 0x8d55, 0x9490, 0x1, 0x1);
        gbc.writeMem(0xde22, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xd803);
        EXPECT(gbc.pc(), 0xde23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde22), 0x41);
        // 41 007E
        gbc.setState(0x2600, 0x6cc, 0xdd60, 0x8960, 0xec85, 0xb4a2, 0x1, 0x0);
        gbc.writeMem(0x2600, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x6cc);
        EXPECT(gbc.pc(), 0x2601);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 007F
        gbc.setState(0x5588, 0x3bbc, 0xd610, 0x4143, 0xa61, 0x4896, 0x1, 0x1);
        gbc.writeMem(0x5588, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3bbc);
        EXPECT(gbc.pc(), 0x5589);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0080
        gbc.setState(0x9364, 0x83a8, 0x6450, 0xb187, 0xa985, 0xc2f8, 0x0, 0x0);
        gbc.writeMem(0x9364, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x83a8);
        EXPECT(gbc.pc(), 0x9365);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9364), 0x41);
        // 41 0081
        gbc.setState(0xb3ac, 0x8549, 0xb2a0, 0xda44, 0x5c4f, 0x368d, 0x0, 0x1);
        gbc.writeMem(0xb3ac, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x8549);
        EXPECT(gbc.pc(), 0xb3ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3ac), 0x41);
        // 41 0082
        gbc.setState(0x232a, 0x8f30, 0x1bf0, 0x1789, 0xcb1f, 0xd441, 0x1, 0x0);
        gbc.writeMem(0x232a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x8f30);
        EXPECT(gbc.pc(), 0x232b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0084
        gbc.setState(0xaba0, 0x4ff7, 0x8660, 0x77c8, 0x77f6, 0xd1ca, 0x0, 0x0);
        gbc.writeMem(0xaba0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x4ff7);
        EXPECT(gbc.pc(), 0xaba1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaba0), 0x41);
        // 41 0085
        gbc.setState(0x8b38, 0xe863, 0x4390, 0xf381, 0xc39e, 0xb2d5, 0x1, 0x0);
        gbc.writeMem(0x8b38, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xe863);
        EXPECT(gbc.pc(), 0x8b39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b38), 0x41);
        // 41 0086
        gbc.setState(0x6156, 0xf2f4, 0x4810, 0x4604, 0x3f3, 0x80ca, 0x1, 0x1);
        gbc.writeMem(0x6156, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xf2f4);
        EXPECT(gbc.pc(), 0x6157);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0087
        gbc.setState(0x4c45, 0x6de9, 0x1500, 0x20b2, 0x8e2c, 0x86db, 0x1, 0x0);
        gbc.writeMem(0x4c45, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x6de9);
        EXPECT(gbc.pc(), 0x4c46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0088
        gbc.setState(0x6049, 0xe7c0, 0x4990, 0x363e, 0x2aad, 0x4bb, 0x0, 0x0);
        gbc.writeMem(0x6049, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xe7c0);
        EXPECT(gbc.pc(), 0x604a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0089
        gbc.setState(0x85a2, 0x6440, 0x7e30, 0xcb3f, 0x628e, 0x89ba, 0x0, 0x0);
        gbc.writeMem(0x85a2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x6440);
        EXPECT(gbc.pc(), 0x85a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85a2), 0x41);
        // 41 008A
        gbc.setState(0x9960, 0x34a7, 0xb880, 0x5571, 0x5461, 0x26d7, 0x1, 0x1);
        gbc.writeMem(0x9960, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x34a7);
        EXPECT(gbc.pc(), 0x9961);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9960), 0x41);
        // 41 008B
        gbc.setState(0x306a, 0x91da, 0x7db0, 0xb606, 0xd64, 0xf338, 0x0, 0x1);
        gbc.writeMem(0x306a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x91da);
        EXPECT(gbc.pc(), 0x306b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 008C
        gbc.setState(0xbb77, 0xe2b9, 0x6230, 0x1264, 0xa85e, 0x6703, 0x0, 0x0);
        gbc.writeMem(0xbb77, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xe2b9);
        EXPECT(gbc.pc(), 0xbb78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb77), 0x41);
        // 41 008D
        gbc.setState(0x3e27, 0xc1d4, 0xc880, 0x699d, 0x49c1, 0x5a17, 0x1, 0x0);
        gbc.writeMem(0x3e27, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xc1d4);
        EXPECT(gbc.pc(), 0x3e28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 008E
        gbc.setState(0x385b, 0x2555, 0xe8b0, 0x3987, 0x696d, 0xcc44, 0x0, 0x1);
        gbc.writeMem(0x385b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x2555);
        EXPECT(gbc.pc(), 0x385c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 008F
        gbc.setState(0xbd72, 0x78c1, 0x1550, 0xd209, 0xb466, 0x4f3f, 0x1, 0x0);
        gbc.writeMem(0xbd72, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x78c1);
        EXPECT(gbc.pc(), 0xbd73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd72), 0x41);
        // 41 0090
        gbc.setState(0x1b7e, 0x1585, 0x8230, 0xad90, 0x5e75, 0x7786, 0x1, 0x1);
        gbc.writeMem(0x1b7e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x1585);
        EXPECT(gbc.pc(), 0x1b7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0091
        gbc.setState(0x1fa4, 0xec6e, 0xb800, 0x5991, 0xa21d, 0x8b4a, 0x0, 0x0);
        gbc.writeMem(0x1fa4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xec6e);
        EXPECT(gbc.pc(), 0x1fa5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0092
        gbc.setState(0x663d, 0x90cc, 0x2710, 0xbc8a, 0x194c, 0xbe72, 0x1, 0x1);
        gbc.writeMem(0x663d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x90cc);
        EXPECT(gbc.pc(), 0x663e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0093
        gbc.setState(0xf1b, 0x19e7, 0xf430, 0x945f, 0xa004, 0x3970, 0x1, 0x0);
        gbc.writeMem(0xf1b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x19e7);
        EXPECT(gbc.pc(), 0xf1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0094
        gbc.setState(0xd607, 0xfe6b, 0xe50, 0x7939, 0x663e, 0x79f9, 0x0, 0x0);
        gbc.writeMem(0xd607, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xfe6b);
        EXPECT(gbc.pc(), 0xd608);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd607), 0x41);
        // 41 0095
        gbc.setState(0x5a93, 0x199, 0x81f0, 0x59e1, 0xa1ff, 0x4e8c, 0x0, 0x1);
        gbc.writeMem(0x5a93, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x199);
        EXPECT(gbc.pc(), 0x5a94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0096
        gbc.setState(0xd2e4, 0xc945, 0x4ca0, 0xc5c5, 0x1f3f, 0x5990, 0x0, 0x1);
        gbc.writeMem(0xd2e4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xc945);
        EXPECT(gbc.pc(), 0xd2e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2e4), 0x41);
        // 41 0097
        gbc.setState(0x2d1c, 0x396f, 0xd3d0, 0xbcd, 0x8a18, 0x2a06, 0x1, 0x1);
        gbc.writeMem(0x2d1c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x396f);
        EXPECT(gbc.pc(), 0x2d1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0098
        gbc.setState(0x124e, 0x6449, 0xbf20, 0xd95c, 0x1290, 0x3505, 0x1, 0x0);
        gbc.writeMem(0x124e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x6449);
        EXPECT(gbc.pc(), 0x124f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0099
        gbc.setState(0xb114, 0x1662, 0xc9f0, 0xf720, 0x7311, 0xbfb6, 0x1, 0x0);
        gbc.writeMem(0xb114, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x1662);
        EXPECT(gbc.pc(), 0xb115);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb114), 0x41);
        // 41 009A
        gbc.setState(0xaf71, 0x564, 0x13d0, 0xf040, 0xe558, 0xbfa2, 0x0, 0x0);
        gbc.writeMem(0xaf71, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x564);
        EXPECT(gbc.pc(), 0xaf72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf71), 0x41);
        // 41 009B
        gbc.setState(0xcdd3, 0x4bc1, 0x4610, 0x602, 0x787, 0xacde, 0x0, 0x0);
        gbc.writeMem(0xcdd3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x4bc1);
        EXPECT(gbc.pc(), 0xcdd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdd3), 0x41);
        // 41 009C
        gbc.setState(0xcb6b, 0xccb7, 0xb1e0, 0x14ca, 0x1abc, 0xb455, 0x0, 0x1);
        gbc.writeMem(0xcb6b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xccb7);
        EXPECT(gbc.pc(), 0xcb6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb6b), 0x41);
        // 41 009D
        gbc.setState(0x4cca, 0x8318, 0xaf00, 0x37b3, 0xfa54, 0xef87, 0x1, 0x0);
        gbc.writeMem(0x4cca, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x8318);
        EXPECT(gbc.pc(), 0x4ccb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 009E
        gbc.setState(0x5d7f, 0x781d, 0xf030, 0x21e4, 0xb0ff, 0xa569, 0x1, 0x1);
        gbc.writeMem(0x5d7f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x781d);
        EXPECT(gbc.pc(), 0x5d80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 009F
        gbc.setState(0xe85e, 0xbc56, 0x4e60, 0xe4c, 0x7c56, 0x94b8, 0x0, 0x1);
        gbc.writeMem(0xe85e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xbc56);
        EXPECT(gbc.pc(), 0xe85f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe85e), 0x41);
        // 41 00A0
        gbc.setState(0xc64b, 0xb0e8, 0x8fe0, 0xb37d, 0xd0fb, 0x4a79, 0x0, 0x0);
        gbc.writeMem(0xc64b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xb0e8);
        EXPECT(gbc.pc(), 0xc64c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc64b), 0x41);
        // 41 00A1
        gbc.setState(0x223e, 0xe0fa, 0xb900, 0x6103, 0xca78, 0xb6e2, 0x1, 0x1);
        gbc.writeMem(0x223e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xe0fa);
        EXPECT(gbc.pc(), 0x223f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00A2
        gbc.setState(0xc5e3, 0x4632, 0x6ed0, 0xf6d6, 0xcda0, 0xf134, 0x1, 0x0);
        gbc.writeMem(0xc5e3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x4632);
        EXPECT(gbc.pc(), 0xc5e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5e3), 0x41);
        // 41 00A3
        gbc.setState(0xdc7e, 0x4fe, 0x2350, 0x5b31, 0x473, 0x8dbe, 0x1, 0x1);
        gbc.writeMem(0xdc7e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x4fe);
        EXPECT(gbc.pc(), 0xdc7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc7e), 0x41);
        // 41 00A4
        gbc.setState(0x8b51, 0x90df, 0x7750, 0x3863, 0xd3a2, 0x4f5b, 0x1, 0x0);
        gbc.writeMem(0x8b51, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x90df);
        EXPECT(gbc.pc(), 0x8b52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b51), 0x41);
        // 41 00A5
        gbc.setState(0xcbd5, 0x8af3, 0xfef0, 0xc812, 0x20f2, 0x399, 0x0, 0x0);
        gbc.writeMem(0xcbd5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x8af3);
        EXPECT(gbc.pc(), 0xcbd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbd5), 0x41);
        // 41 00A6
        gbc.setState(0x723f, 0xf2dc, 0x7560, 0x931a, 0xad42, 0xe570, 0x0, 0x0);
        gbc.writeMem(0x723f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xf2dc);
        EXPECT(gbc.pc(), 0x7240);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00A7
        gbc.setState(0x94a7, 0xc582, 0x8d70, 0x7574, 0x7196, 0x6634, 0x1, 0x1);
        gbc.writeMem(0x94a7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xc582);
        EXPECT(gbc.pc(), 0x94a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94a7), 0x41);
        // 41 00A9
        gbc.setState(0x1209, 0xc7a4, 0x76c0, 0x7823, 0xb9c0, 0x7bc0, 0x0, 0x1);
        gbc.writeMem(0x1209, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xc7a4);
        EXPECT(gbc.pc(), 0x120a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00AA
        gbc.setState(0xbd2f, 0x8037, 0x7070, 0xbb1d, 0x5800, 0xeb4c, 0x0, 0x1);
        gbc.writeMem(0xbd2f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x8037);
        EXPECT(gbc.pc(), 0xbd30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd2f), 0x41);
        // 41 00AB
        gbc.setState(0x8ff9, 0xfb3, 0x64c0, 0x2e0d, 0x5ad3, 0x3d1c, 0x1, 0x0);
        gbc.writeMem(0x8ff9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xfb3);
        EXPECT(gbc.pc(), 0x8ffa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ff9), 0x41);
        // 41 00AC
        gbc.setState(0x119c, 0xe271, 0x87d0, 0xd4da, 0x4861, 0xb581, 0x1, 0x0);
        gbc.writeMem(0x119c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xe271);
        EXPECT(gbc.pc(), 0x119d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 00AD
        gbc.setState(0xb1e6, 0xf162, 0x97e0, 0x8163, 0x5491, 0x746d, 0x1, 0x0);
        gbc.writeMem(0xb1e6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xf162);
        EXPECT(gbc.pc(), 0xb1e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1e6), 0x41);
        // 41 00AE
        gbc.setState(0x5268, 0x9bf3, 0x40e0, 0x6b97, 0xc621, 0xd992, 0x1, 0x0);
        gbc.writeMem(0x5268, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x9bf3);
        EXPECT(gbc.pc(), 0x5269);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00B0
        gbc.setState(0x1388, 0x6792, 0x3ba0, 0x8ea8, 0x3dfb, 0x4a36, 0x0, 0x0);
        gbc.writeMem(0x1388, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x6792);
        EXPECT(gbc.pc(), 0x1389);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00B1
        gbc.setState(0x61f7, 0x31bc, 0x2540, 0xf775, 0x7ee7, 0xa18f, 0x0, 0x0);
        gbc.writeMem(0x61f7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x31bc);
        EXPECT(gbc.pc(), 0x61f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00B2
        gbc.setState(0x83bd, 0x4fcc, 0x6e70, 0xe02f, 0x145e, 0xa5e3, 0x0, 0x1);
        gbc.writeMem(0x83bd, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x4fcc);
        EXPECT(gbc.pc(), 0x83be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83bd), 0x41);
        // 41 00B3
        gbc.setState(0x4363, 0xfedd, 0x9730, 0xc775, 0x2e4d, 0x87a2, 0x1, 0x0);
        gbc.writeMem(0x4363, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xfedd);
        EXPECT(gbc.pc(), 0x4364);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00B4
        gbc.setState(0xbde, 0xc028, 0xb520, 0x7116, 0xac79, 0xb022, 0x0, 0x1);
        gbc.writeMem(0xbde, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xc028);
        EXPECT(gbc.pc(), 0xbdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00B5
        gbc.setState(0x8166, 0xd9f5, 0x9720, 0x33fe, 0x36e6, 0xd63f, 0x1, 0x0);
        gbc.writeMem(0x8166, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xd9f5);
        EXPECT(gbc.pc(), 0x8167);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8166), 0x41);
        // 41 00B6
        gbc.setState(0x9e20, 0x96d2, 0x5830, 0xa02, 0xa74b, 0x5ff0, 0x1, 0x1);
        gbc.writeMem(0x9e20, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x96d2);
        EXPECT(gbc.pc(), 0x9e21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e20), 0x41);
        // 41 00B8
        gbc.setState(0x8c09, 0xe056, 0x64f0, 0xca5b, 0x9d73, 0xb2b1, 0x0, 0x0);
        gbc.writeMem(0x8c09, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xe056);
        EXPECT(gbc.pc(), 0x8c0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c09), 0x41);
        // 41 00B9
        gbc.setState(0xbeea, 0x3277, 0xecb0, 0x6508, 0x3e5, 0x6215, 0x1, 0x0);
        gbc.writeMem(0xbeea, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x3277);
        EXPECT(gbc.pc(), 0xbeeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbeea), 0x41);
        // 41 00BB
        gbc.setState(0x4c36, 0xd20f, 0x1380, 0x1998, 0x1444, 0x1131, 0x0, 0x0);
        gbc.writeMem(0x4c36, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xd20f);
        EXPECT(gbc.pc(), 0x4c37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00BC
        gbc.setState(0x1618, 0xc615, 0x3a70, 0xb769, 0x260c, 0x22f1, 0x0, 0x0);
        gbc.writeMem(0x1618, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xc615);
        EXPECT(gbc.pc(), 0x1619);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00BD
        gbc.setState(0x104f, 0x8cf0, 0x6f40, 0x7dac, 0x468d, 0xbce7, 0x0, 0x0);
        gbc.writeMem(0x104f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x8cf0);
        EXPECT(gbc.pc(), 0x1050);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00BE
        gbc.setState(0xa400, 0x80e5, 0xc10, 0x96a3, 0xb3b5, 0x4df2, 0x0, 0x0);
        gbc.writeMem(0xa400, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x80e5);
        EXPECT(gbc.pc(), 0xa401);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa400), 0x41);
        // 41 00BF
        gbc.setState(0x734f, 0x7015, 0x45f0, 0xbb87, 0x3be9, 0xc5b3, 0x0, 0x1);
        gbc.writeMem(0x734f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x7015);
        EXPECT(gbc.pc(), 0x7350);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00C0
        gbc.setState(0x4060, 0xc930, 0xbaa0, 0x11cb, 0x4e15, 0xce98, 0x0, 0x1);
        gbc.writeMem(0x4060, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xc930);
        EXPECT(gbc.pc(), 0x4061);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00C1
        gbc.setState(0x3a07, 0xac2, 0xa930, 0x4c11, 0x2efe, 0xb00f, 0x1, 0x0);
        gbc.writeMem(0x3a07, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xac2);
        EXPECT(gbc.pc(), 0x3a08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00C2
        gbc.setState(0x1a1c, 0x107e, 0x7ff0, 0xf385, 0xbbed, 0x4557, 0x1, 0x1);
        gbc.writeMem(0x1a1c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x107e);
        EXPECT(gbc.pc(), 0x1a1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00C3
        gbc.setState(0x3d84, 0x12b0, 0x46b0, 0x9194, 0x4b91, 0x9b9c, 0x0, 0x0);
        gbc.writeMem(0x3d84, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x12b0);
        EXPECT(gbc.pc(), 0x3d85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00C4
        gbc.setState(0xb40, 0x88a6, 0x1870, 0x3469, 0x238e, 0x8d0c, 0x0, 0x1);
        gbc.writeMem(0xb40, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x88a6);
        EXPECT(gbc.pc(), 0xb41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00C5
        gbc.setState(0x236c, 0x3706, 0xe5b0, 0x382e, 0xa25a, 0xbd24, 0x1, 0x0);
        gbc.writeMem(0x236c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x3706);
        EXPECT(gbc.pc(), 0x236d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00C6
        gbc.setState(0x651a, 0xc3a3, 0x930, 0x9c5f, 0x1f0e, 0x9776, 0x0, 0x1);
        gbc.writeMem(0x651a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xc3a3);
        EXPECT(gbc.pc(), 0x651b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00C7
        gbc.setState(0x984d, 0x71ee, 0x11d0, 0xe8cd, 0xf292, 0xe21b, 0x1, 0x0);
        gbc.writeMem(0x984d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x71ee);
        EXPECT(gbc.pc(), 0x984e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x984d), 0x41);
        // 41 00C8
        gbc.setState(0x1dcb, 0x76d3, 0x3670, 0x23bd, 0x869, 0x9fa6, 0x1, 0x1);
        gbc.writeMem(0x1dcb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x76d3);
        EXPECT(gbc.pc(), 0x1dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00C9
        gbc.setState(0x7789, 0x2f3c, 0xe9b0, 0x3ade, 0xf4ee, 0x66dd, 0x1, 0x1);
        gbc.writeMem(0x7789, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x2f3c);
        EXPECT(gbc.pc(), 0x778a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00CA
        gbc.setState(0x7b1a, 0x8a40, 0xa2e0, 0x76bd, 0xf79e, 0xdfa6, 0x1, 0x1);
        gbc.writeMem(0x7b1a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x8a40);
        EXPECT(gbc.pc(), 0x7b1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00CB
        gbc.setState(0x17d0, 0x589a, 0xf9c0, 0xeccc, 0x2ee8, 0xe8d2, 0x0, 0x0);
        gbc.writeMem(0x17d0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x589a);
        EXPECT(gbc.pc(), 0x17d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00CC
        gbc.setState(0xd2f1, 0xc1ac, 0x5aa0, 0x1113, 0x105f, 0xc7, 0x1, 0x1);
        gbc.writeMem(0xd2f1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xc1ac);
        EXPECT(gbc.pc(), 0xd2f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2f1), 0x41);
        // 41 00CD
        gbc.setState(0x7d38, 0x9e6f, 0x7f80, 0xfcf, 0xd85c, 0xb4f6, 0x0, 0x0);
        gbc.writeMem(0x7d38, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x9e6f);
        EXPECT(gbc.pc(), 0x7d39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00CE
        gbc.setState(0xd564, 0xa2c6, 0x2d00, 0x29f8, 0xf732, 0xa998, 0x1, 0x1);
        gbc.writeMem(0xd564, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xa2c6);
        EXPECT(gbc.pc(), 0xd565);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd564), 0x41);
        // 41 00CF
        gbc.setState(0x3c6c, 0xde71, 0x69a0, 0xdefd, 0x124a, 0x183d, 0x0, 0x1);
        gbc.writeMem(0x3c6c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xde71);
        EXPECT(gbc.pc(), 0x3c6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00D0
        gbc.setState(0x895b, 0x4162, 0x8de0, 0xc407, 0xec42, 0x913b, 0x0, 0x0);
        gbc.writeMem(0x895b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x4162);
        EXPECT(gbc.pc(), 0x895c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x895b), 0x41);
        // 41 00D1
        gbc.setState(0x124b, 0x8320, 0x5740, 0x8f7f, 0xd500, 0xbfcc, 0x1, 0x1);
        gbc.writeMem(0x124b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x8320);
        EXPECT(gbc.pc(), 0x124c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00D2
        gbc.setState(0x9e46, 0x7100, 0x4ff0, 0x7b56, 0xc5d2, 0xeb08, 0x0, 0x1);
        gbc.writeMem(0x9e46, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x7100);
        EXPECT(gbc.pc(), 0x9e47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e46), 0x41);
        // 41 00D3
        gbc.setState(0x3d2c, 0xde56, 0xa8f0, 0x15e2, 0x1d6d, 0xfcd8, 0x1, 0x0);
        gbc.writeMem(0x3d2c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xde56);
        EXPECT(gbc.pc(), 0x3d2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00D4
        gbc.setState(0x73c8, 0x38ec, 0x8190, 0xc89c, 0x8a8, 0x22bb, 0x0, 0x1);
        gbc.writeMem(0x73c8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x38ec);
        EXPECT(gbc.pc(), 0x73c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 00D5
        gbc.setState(0x453e, 0x5e00, 0x7450, 0x3be9, 0xd7de, 0x75f8, 0x0, 0x1);
        gbc.writeMem(0x453e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x5e00);
        EXPECT(gbc.pc(), 0x453f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 00D6
        gbc.setState(0x8b82, 0xb726, 0x26c0, 0xb307, 0x67b6, 0x6eaa, 0x0, 0x1);
        gbc.writeMem(0x8b82, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xb726);
        EXPECT(gbc.pc(), 0x8b83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b82), 0x41);
        // 41 00D7
        gbc.setState(0x23ee, 0xcc78, 0x98f0, 0x5fe3, 0x1749, 0x9c9, 0x1, 0x1);
        gbc.writeMem(0x23ee, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xcc78);
        EXPECT(gbc.pc(), 0x23ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00D8
        gbc.setState(0x89a0, 0xe29c, 0x2470, 0x6596, 0xd3a2, 0x8cd1, 0x0, 0x1);
        gbc.writeMem(0x89a0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xe29c);
        EXPECT(gbc.pc(), 0x89a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89a0), 0x41);
        // 41 00D9
        gbc.setState(0x399c, 0x6fcc, 0xe420, 0x4e2b, 0xc4ff, 0x2070, 0x1, 0x1);
        gbc.writeMem(0x399c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x6fcc);
        EXPECT(gbc.pc(), 0x399d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00DA
        gbc.setState(0xa207, 0xd040, 0x6220, 0xd534, 0x6a55, 0xb4f3, 0x1, 0x1);
        gbc.writeMem(0xa207, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xd040);
        EXPECT(gbc.pc(), 0xa208);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa207), 0x41);
        // 41 00DB
        gbc.setState(0x7fd4, 0x4b0, 0xd60, 0xc9c1, 0x81e9, 0x750d, 0x0, 0x0);
        gbc.writeMem(0x7fd4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x4b0);
        EXPECT(gbc.pc(), 0x7fd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00DC
        gbc.setState(0x9a7e, 0x2a5, 0xa210, 0xeac0, 0x4656, 0xd101, 0x1, 0x0);
        gbc.writeMem(0x9a7e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x2a5);
        EXPECT(gbc.pc(), 0x9a7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a7e), 0x41);
        // 41 00DD
        gbc.setState(0x80c6, 0xea64, 0x4f10, 0x2e1a, 0xbd67, 0x3cc1, 0x1, 0x1);
        gbc.writeMem(0x80c6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xea64);
        EXPECT(gbc.pc(), 0x80c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80c6), 0x41);
        // 41 00DE
        gbc.setState(0x34bd, 0x9845, 0xad30, 0x632d, 0xa043, 0xc787, 0x1, 0x0);
        gbc.writeMem(0x34bd, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x9845);
        EXPECT(gbc.pc(), 0x34be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00DF
        gbc.setState(0x9f00, 0x776e, 0x7820, 0x9316, 0x89c4, 0x98c4, 0x0, 0x0);
        gbc.writeMem(0x9f00, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x776e);
        EXPECT(gbc.pc(), 0x9f01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f00), 0x41);
        // 41 00E0
        gbc.setState(0x2e9f, 0xd0c5, 0x9b40, 0x4a95, 0x7efe, 0xab2d, 0x1, 0x0);
        gbc.writeMem(0x2e9f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xd0c5);
        EXPECT(gbc.pc(), 0x2ea0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00E1
        gbc.setState(0xb44, 0xdd1a, 0xe70, 0xa725, 0xe274, 0x53fb, 0x0, 0x1);
        gbc.writeMem(0xb44, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xdd1a);
        EXPECT(gbc.pc(), 0xb45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00E2
        gbc.setState(0xe05a, 0x9cb4, 0x45b0, 0x50b8, 0x42ec, 0x45fb, 0x1, 0x0);
        gbc.writeMem(0xe05a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x9cb4);
        EXPECT(gbc.pc(), 0xe05b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe05a), 0x41);
        // 41 00E3
        gbc.setState(0x679f, 0xf42c, 0x40e0, 0x8528, 0x44dd, 0x942b, 0x1, 0x0);
        gbc.writeMem(0x679f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xf42c);
        EXPECT(gbc.pc(), 0x67a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00E4
        gbc.setState(0x432f, 0x1f88, 0xda90, 0x6bb, 0x4fe7, 0xb0bd, 0x1, 0x1);
        gbc.writeMem(0x432f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x1f88);
        EXPECT(gbc.pc(), 0x4330);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 00E5
        gbc.setState(0x95f6, 0xface, 0xad00, 0x621f, 0x9338, 0xc5d8, 0x0, 0x1);
        gbc.writeMem(0x95f6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xface);
        EXPECT(gbc.pc(), 0x95f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95f6), 0x41);
        // 41 00E6
        gbc.setState(0x78e3, 0x29ef, 0xdc0, 0x4040, 0x5262, 0xadbd, 0x0, 0x0);
        gbc.writeMem(0x78e3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x29ef);
        EXPECT(gbc.pc(), 0x78e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00E7
        gbc.setState(0xa28b, 0x5c4b, 0x4f60, 0x58ae, 0xa9f4, 0xabbc, 0x1, 0x1);
        gbc.writeMem(0xa28b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x5c4b);
        EXPECT(gbc.pc(), 0xa28c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa28b), 0x41);
        // 41 00E8
        gbc.setState(0x9539, 0x26a2, 0x6aa0, 0x117f, 0xce2e, 0x2588, 0x1, 0x1);
        gbc.writeMem(0x9539, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x26a2);
        EXPECT(gbc.pc(), 0x953a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9539), 0x41);
        // 41 00E9
        gbc.setState(0x5f3d, 0x556f, 0x57f0, 0xa70, 0x4644, 0x41d4, 0x0, 0x0);
        gbc.writeMem(0x5f3d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x556f);
        EXPECT(gbc.pc(), 0x5f3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00EA
        gbc.setState(0x405f, 0x68e7, 0xb10, 0x5f4d, 0x8fb7, 0xe771, 0x0, 0x1);
        gbc.writeMem(0x405f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x68e7);
        EXPECT(gbc.pc(), 0x4060);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 00EB
        gbc.setState(0x5dc6, 0x7566, 0x44e0, 0xf83b, 0xdc73, 0x4fa1, 0x0, 0x1);
        gbc.writeMem(0x5dc6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x7566);
        EXPECT(gbc.pc(), 0x5dc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00EC
        gbc.setState(0xa6cc, 0x2831, 0x94d0, 0x65c9, 0x8bfc, 0xe07, 0x1, 0x0);
        gbc.writeMem(0xa6cc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x2831);
        EXPECT(gbc.pc(), 0xa6cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6cc), 0x41);
        // 41 00ED
        gbc.setState(0x2a7c, 0x163f, 0x1ae0, 0xf5ee, 0x5118, 0xa1ce, 0x1, 0x0);
        gbc.writeMem(0x2a7c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x163f);
        EXPECT(gbc.pc(), 0x2a7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00EE
        gbc.setState(0x3f8e, 0x31fb, 0xc050, 0x636b, 0xeba1, 0x987c, 0x1, 0x1);
        gbc.writeMem(0x3f8e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x31fb);
        EXPECT(gbc.pc(), 0x3f8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 00EF
        gbc.setState(0x3cd5, 0xda0f, 0x5d00, 0x5b8c, 0x50f1, 0xdb4f, 0x1, 0x0);
        gbc.writeMem(0x3cd5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xda0f);
        EXPECT(gbc.pc(), 0x3cd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00F0
        gbc.setState(0x527e, 0x8570, 0x7d60, 0x8a81, 0x481c, 0xc39a, 0x1, 0x1);
        gbc.writeMem(0x527e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x8570);
        EXPECT(gbc.pc(), 0x527f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00F1
        gbc.setState(0xa5e8, 0x6682, 0x6460, 0x94d3, 0xbb34, 0xab0, 0x1, 0x1);
        gbc.writeMem(0xa5e8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x6682);
        EXPECT(gbc.pc(), 0xa5e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5e8), 0x41);
        // 41 00F2
        gbc.setState(0x4db4, 0x9d6e, 0x6c90, 0x166c, 0x55d9, 0x18d3, 0x0, 0x0);
        gbc.writeMem(0x4db4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x9d6e);
        EXPECT(gbc.pc(), 0x4db5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 00F3
        gbc.setState(0xaf65, 0x596, 0x68e0, 0x8bc5, 0x2642, 0x3b64, 0x1, 0x0);
        gbc.writeMem(0xaf65, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x596);
        EXPECT(gbc.pc(), 0xaf66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf65), 0x41);
        // 41 00F4
        gbc.setState(0x4ff6, 0x8863, 0xc7c0, 0xb2e3, 0x6b9f, 0x3c56, 0x1, 0x1);
        gbc.writeMem(0x4ff6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x8863);
        EXPECT(gbc.pc(), 0x4ff7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00F5
        gbc.setState(0x79e4, 0x2ed5, 0xd960, 0xdda3, 0xa401, 0x63, 0x1, 0x0);
        gbc.writeMem(0x79e4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x2ed5);
        EXPECT(gbc.pc(), 0x79e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 00F7
        gbc.setState(0x3cf5, 0xd1df, 0xce10, 0x97b6, 0x3e12, 0x3b77, 0x0, 0x0);
        gbc.writeMem(0x3cf5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xd1df);
        EXPECT(gbc.pc(), 0x3cf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 00F8
        gbc.setState(0x1727, 0x22f8, 0x7470, 0x9d2d, 0xc9a, 0x5b86, 0x0, 0x0);
        gbc.writeMem(0x1727, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x22f8);
        EXPECT(gbc.pc(), 0x1728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 00F9
        gbc.setState(0x2cd9, 0xe744, 0xd40, 0x7290, 0xcd19, 0x4366, 0x0, 0x1);
        gbc.writeMem(0x2cd9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xe744);
        EXPECT(gbc.pc(), 0x2cda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00FA
        gbc.setState(0x81ff, 0x83ec, 0x9a20, 0x446d, 0xa7da, 0x474a, 0x0, 0x1);
        gbc.writeMem(0x81ff, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x83ec);
        EXPECT(gbc.pc(), 0x8200);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81ff), 0x41);
        // 41 00FB
        gbc.setState(0xaa22, 0x3302, 0xeeb0, 0x6c30, 0xa985, 0x162c, 0x0, 0x1);
        gbc.writeMem(0xaa22, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x3302);
        EXPECT(gbc.pc(), 0xaa23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa22), 0x41);
        // 41 00FC
        gbc.setState(0x21d1, 0x84fe, 0x5810, 0xcd32, 0xff50, 0x5a10, 0x1, 0x1);
        gbc.writeMem(0x21d1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x84fe);
        EXPECT(gbc.pc(), 0x21d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 00FD
        gbc.setState(0x2bf5, 0xd4ca, 0xfd40, 0x9de8, 0xa106, 0x4dcc, 0x1, 0x0);
        gbc.writeMem(0x2bf5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xd4ca);
        EXPECT(gbc.pc(), 0x2bf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 00FE
        gbc.setState(0xbb5e, 0x55ec, 0x2a50, 0x43eb, 0x2635, 0xe3ab, 0x0, 0x1);
        gbc.writeMem(0xbb5e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x55ec);
        EXPECT(gbc.pc(), 0xbb5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb5e), 0x41);
        // 41 00FF
        gbc.setState(0x22a2, 0xc8d7, 0xae50, 0x4940, 0x47ae, 0xc807, 0x1, 0x1);
        gbc.writeMem(0x22a2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xc8d7);
        EXPECT(gbc.pc(), 0x22a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0100
        gbc.setState(0x66c, 0x8ee2, 0x7700, 0x82, 0x6738, 0xe317, 0x0, 0x1);
        gbc.writeMem(0x66c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x8ee2);
        EXPECT(gbc.pc(), 0x66d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0101
        gbc.setState(0x5778, 0x33bc, 0x1e0, 0xdee1, 0xe879, 0x6944, 0x1, 0x1);
        gbc.writeMem(0x5778, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x33bc);
        EXPECT(gbc.pc(), 0x5779);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0102
        gbc.setState(0x41d4, 0x8180, 0x71a0, 0xa10c, 0xbc5a, 0x10cb, 0x1, 0x1);
        gbc.writeMem(0x41d4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x8180);
        EXPECT(gbc.pc(), 0x41d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0103
        gbc.setState(0xd5b7, 0xea15, 0xd9a0, 0x9e96, 0x5a94, 0x446b, 0x1, 0x0);
        gbc.writeMem(0xd5b7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xea15);
        EXPECT(gbc.pc(), 0xd5b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5b7), 0x41);
        // 41 0104
        gbc.setState(0x89fa, 0xae29, 0xbd30, 0xd7fa, 0xd527, 0x38e3, 0x0, 0x0);
        gbc.writeMem(0x89fa, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xae29);
        EXPECT(gbc.pc(), 0x89fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89fa), 0x41);
        // 41 0105
        gbc.setState(0xb3a7, 0x128e, 0x3770, 0x9e4d, 0x6223, 0x6f1f, 0x1, 0x1);
        gbc.writeMem(0xb3a7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x128e);
        EXPECT(gbc.pc(), 0xb3a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3a7), 0x41);
        // 41 0106
        gbc.setState(0x71ae, 0xfcd3, 0x48d0, 0x1b25, 0x7569, 0xd0db, 0x1, 0x1);
        gbc.writeMem(0x71ae, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xfcd3);
        EXPECT(gbc.pc(), 0x71af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0107
        gbc.setState(0xd0e9, 0x7fb4, 0x520, 0x9768, 0xf69c, 0x53c4, 0x1, 0x1);
        gbc.writeMem(0xd0e9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x7fb4);
        EXPECT(gbc.pc(), 0xd0ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0e9), 0x41);
        // 41 0108
        gbc.setState(0xb8a8, 0x9b6, 0xbd30, 0x37fa, 0x603b, 0xdbac, 0x0, 0x0);
        gbc.writeMem(0xb8a8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x9b6);
        EXPECT(gbc.pc(), 0xb8a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8a8), 0x41);
        // 41 0109
        gbc.setState(0xeb8b, 0xe2f0, 0xff80, 0x13e4, 0xaec3, 0x8fcc, 0x1, 0x1);
        gbc.writeMem(0xeb8b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xe2f0);
        EXPECT(gbc.pc(), 0xeb8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb8b), 0x41);
        // 41 010A
        gbc.setState(0x3fd3, 0xd193, 0x7e90, 0x27b3, 0xe797, 0x27b1, 0x0, 0x0);
        gbc.writeMem(0x3fd3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xd193);
        EXPECT(gbc.pc(), 0x3fd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 010B
        gbc.setState(0x4443, 0xf9c, 0x5ec0, 0x90ae, 0x5216, 0xb02d, 0x1, 0x1);
        gbc.writeMem(0x4443, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xf9c);
        EXPECT(gbc.pc(), 0x4444);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 010C
        gbc.setState(0x3b69, 0x93d8, 0x94c0, 0xe058, 0xb1a, 0xd0b5, 0x0, 0x0);
        gbc.writeMem(0x3b69, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x93d8);
        EXPECT(gbc.pc(), 0x3b6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 010D
        gbc.setState(0x9121, 0xef16, 0x4cf0, 0x70d0, 0x3425, 0x951a, 0x0, 0x1);
        gbc.writeMem(0x9121, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xef16);
        EXPECT(gbc.pc(), 0x9122);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9121), 0x41);
        // 41 010E
        gbc.setState(0xa731, 0x3e5b, 0x8550, 0xd53a, 0x18a6, 0x2cbd, 0x0, 0x1);
        gbc.writeMem(0xa731, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x3e5b);
        EXPECT(gbc.pc(), 0xa732);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa731), 0x41);
        // 41 010F
        gbc.setState(0x20c1, 0x9c7, 0x4e00, 0xa81c, 0x7784, 0xc508, 0x0, 0x1);
        gbc.writeMem(0x20c1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x9c7);
        EXPECT(gbc.pc(), 0x20c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0111
        gbc.setState(0x98b6, 0xff74, 0xf590, 0xfd6d, 0x74fe, 0x6a83, 0x0, 0x1);
        gbc.writeMem(0x98b6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xff74);
        EXPECT(gbc.pc(), 0x98b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98b6), 0x41);
        // 41 0112
        gbc.setState(0xb428, 0xca57, 0x5940, 0xd2a5, 0x69c2, 0x23fe, 0x1, 0x0);
        gbc.writeMem(0xb428, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xca57);
        EXPECT(gbc.pc(), 0xb429);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb428), 0x41);
        // 41 0113
        gbc.setState(0x917f, 0x7ecc, 0xc4b0, 0xb9de, 0xb25c, 0x44aa, 0x1, 0x0);
        gbc.writeMem(0x917f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x7ecc);
        EXPECT(gbc.pc(), 0x9180);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x917f), 0x41);
        // 41 0114
        gbc.setState(0x94a, 0xb085, 0xc940, 0x4d2f, 0x7d69, 0x6fc1, 0x0, 0x1);
        gbc.writeMem(0x94a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xb085);
        EXPECT(gbc.pc(), 0x94b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0115
        gbc.setState(0x9b9e, 0xfbcc, 0x43c0, 0xe5e3, 0x2e92, 0x397e, 0x0, 0x1);
        gbc.writeMem(0x9b9e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xfbcc);
        EXPECT(gbc.pc(), 0x9b9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b9e), 0x41);
        // 41 0116
        gbc.setState(0x71d8, 0x9ee6, 0x5520, 0xc830, 0x780f, 0x7b2b, 0x0, 0x0);
        gbc.writeMem(0x71d8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9ee6);
        EXPECT(gbc.pc(), 0x71d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0117
        gbc.setState(0x682b, 0xf587, 0xa480, 0x5a6e, 0x59d2, 0x836a, 0x1, 0x0);
        gbc.writeMem(0x682b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xf587);
        EXPECT(gbc.pc(), 0x682c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0118
        gbc.setState(0x3e0a, 0x3ed9, 0xd640, 0x42cd, 0x5224, 0x414e, 0x0, 0x1);
        gbc.writeMem(0x3e0a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x3ed9);
        EXPECT(gbc.pc(), 0x3e0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0119
        gbc.setState(0x65f4, 0x2c4f, 0xca40, 0x4bdd, 0xf006, 0x35ca, 0x1, 0x1);
        gbc.writeMem(0x65f4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x2c4f);
        EXPECT(gbc.pc(), 0x65f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 011A
        gbc.setState(0x5e6e, 0xc052, 0x7d20, 0xa3e, 0x8200, 0x4dc3, 0x1, 0x0);
        gbc.writeMem(0x5e6e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xc052);
        EXPECT(gbc.pc(), 0x5e6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 011C
        gbc.setState(0x8232, 0xb0b7, 0x41f0, 0x369c, 0x863c, 0xea78, 0x1, 0x0);
        gbc.writeMem(0x8232, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xb0b7);
        EXPECT(gbc.pc(), 0x8233);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8232), 0x41);
        // 41 011D
        gbc.setState(0x47df, 0x76e5, 0xa70, 0xdb3a, 0x7cf1, 0x4481, 0x0, 0x1);
        gbc.writeMem(0x47df, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x76e5);
        EXPECT(gbc.pc(), 0x47e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 011E
        gbc.setState(0x5d44, 0x5624, 0x5b20, 0xfa7c, 0x638, 0xe1ad, 0x0, 0x1);
        gbc.writeMem(0x5d44, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x5624);
        EXPECT(gbc.pc(), 0x5d45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 011F
        gbc.setState(0x2363, 0x900d, 0x9730, 0xe41c, 0xc373, 0x1846, 0x1, 0x0);
        gbc.writeMem(0x2363, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x900d);
        EXPECT(gbc.pc(), 0x2364);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0120
        gbc.setState(0x35ad, 0xbb7, 0x8a90, 0xe10e, 0xa8e3, 0xe3a, 0x1, 0x0);
        gbc.writeMem(0x35ad, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xbb7);
        EXPECT(gbc.pc(), 0x35ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0121
        gbc.setState(0xd166, 0x8571, 0x9a90, 0x5d24, 0x1805, 0xac7, 0x1, 0x1);
        gbc.writeMem(0xd166, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x8571);
        EXPECT(gbc.pc(), 0xd167);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd166), 0x41);
        // 41 0122
        gbc.setState(0x7126, 0x4f3f, 0x85c0, 0xf15e, 0x2e0d, 0x6efe, 0x0, 0x1);
        gbc.writeMem(0x7126, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x4f3f);
        EXPECT(gbc.pc(), 0x7127);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0123
        gbc.setState(0x29c3, 0x266a, 0x32e0, 0x7a35, 0x4b1c, 0xf8a1, 0x0, 0x1);
        gbc.writeMem(0x29c3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x266a);
        EXPECT(gbc.pc(), 0x29c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0124
        gbc.setState(0x1460, 0x948b, 0xa1d0, 0x25cd, 0xc844, 0x46b8, 0x1, 0x0);
        gbc.writeMem(0x1460, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x948b);
        EXPECT(gbc.pc(), 0x1461);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0125
        gbc.setState(0x59cd, 0x447e, 0x6430, 0x36ee, 0xcd83, 0xa642, 0x0, 0x1);
        gbc.writeMem(0x59cd, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x447e);
        EXPECT(gbc.pc(), 0x59ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0126
        gbc.setState(0x63e3, 0x125f, 0xfed0, 0xb500, 0xccee, 0x7b00, 0x0, 0x0);
        gbc.writeMem(0x63e3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x125f);
        EXPECT(gbc.pc(), 0x63e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0127
        gbc.setState(0x7dd3, 0x2202, 0x3d00, 0x331d, 0x123a, 0x2aab, 0x1, 0x1);
        gbc.writeMem(0x7dd3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x2202);
        EXPECT(gbc.pc(), 0x7dd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0128
        gbc.setState(0x4be0, 0x5197, 0x3010, 0xec4e, 0x4a57, 0x6f61, 0x0, 0x0);
        gbc.writeMem(0x4be0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x5197);
        EXPECT(gbc.pc(), 0x4be1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0129
        gbc.setState(0x8647, 0x14e9, 0xef80, 0xf26f, 0x1d29, 0xa69, 0x0, 0x0);
        gbc.writeMem(0x8647, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x14e9);
        EXPECT(gbc.pc(), 0x8648);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8647), 0x41);
        // 41 012A
        gbc.setState(0xecb8, 0xcb85, 0x6b20, 0x2019, 0xdb52, 0xaf42, 0x0, 0x0);
        gbc.writeMem(0xecb8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xcb85);
        EXPECT(gbc.pc(), 0xecb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecb8), 0x41);
        // 41 012B
        gbc.setState(0x1cb7, 0x2429, 0x76a0, 0x57ad, 0xb46d, 0x1dc4, 0x1, 0x1);
        gbc.writeMem(0x1cb7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2429);
        EXPECT(gbc.pc(), 0x1cb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 012C
        gbc.setState(0x8e94, 0xe287, 0x2590, 0xc27e, 0xeea1, 0x5708, 0x0, 0x0);
        gbc.writeMem(0x8e94, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xe287);
        EXPECT(gbc.pc(), 0x8e95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e94), 0x41);
        // 41 012D
        gbc.setState(0xcf63, 0x230d, 0x21e0, 0x82e, 0x2138, 0xfc3d, 0x0, 0x0);
        gbc.writeMem(0xcf63, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x230d);
        EXPECT(gbc.pc(), 0xcf64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf63), 0x41);
        // 41 012E
        gbc.setState(0xe90a, 0xac2c, 0x8d10, 0xd97e, 0xc3df, 0xeb4e, 0x1, 0x0);
        gbc.writeMem(0xe90a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xac2c);
        EXPECT(gbc.pc(), 0xe90b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe90a), 0x41);
        // 41 012F
        gbc.setState(0x82c7, 0x7ecf, 0x3e10, 0xeab2, 0x72a5, 0xc941, 0x1, 0x0);
        gbc.writeMem(0x82c7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x7ecf);
        EXPECT(gbc.pc(), 0x82c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82c7), 0x41);
        // 41 0130
        gbc.setState(0x47cb, 0xc577, 0xf080, 0x44dc, 0x7bcf, 0x6644, 0x0, 0x0);
        gbc.writeMem(0x47cb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xc577);
        EXPECT(gbc.pc(), 0x47cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0131
        gbc.setState(0xd844, 0x78d5, 0xe650, 0x9b89, 0x5758, 0x6ab4, 0x0, 0x0);
        gbc.writeMem(0xd844, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x78d5);
        EXPECT(gbc.pc(), 0xd845);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd844), 0x41);
        // 41 0132
        gbc.setState(0x5c80, 0x81cc, 0xc130, 0xdcb9, 0x2473, 0xf698, 0x1, 0x0);
        gbc.writeMem(0x5c80, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x81cc);
        EXPECT(gbc.pc(), 0x5c81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0133
        gbc.setState(0x3ec3, 0xb244, 0xdf20, 0x8b85, 0xd944, 0x541, 0x1, 0x0);
        gbc.writeMem(0x3ec3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xb244);
        EXPECT(gbc.pc(), 0x3ec4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0134
        gbc.setState(0x9ce5, 0x5883, 0xf90, 0x72de, 0xba57, 0x2d92, 0x1, 0x1);
        gbc.writeMem(0x9ce5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x5883);
        EXPECT(gbc.pc(), 0x9ce6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ce5), 0x41);
        // 41 0135
        gbc.setState(0xb142, 0x50d0, 0xf560, 0xd180, 0x2b19, 0x7769, 0x1, 0x1);
        gbc.writeMem(0xb142, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x50d0);
        EXPECT(gbc.pc(), 0xb143);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb142), 0x41);
        // 41 0136
        gbc.setState(0x23dc, 0x3921, 0x510, 0xbaef, 0x1f70, 0x9dbd, 0x1, 0x0);
        gbc.writeMem(0x23dc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x3921);
        EXPECT(gbc.pc(), 0x23dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0137
        gbc.setState(0xce19, 0x1a77, 0xedc0, 0xa30e, 0x99a, 0xd2f7, 0x1, 0x0);
        gbc.writeMem(0xce19, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x1a77);
        EXPECT(gbc.pc(), 0xce1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce19), 0x41);
        // 41 0138
        gbc.setState(0xddcc, 0x213e, 0x7f20, 0xb1fa, 0xe2ad, 0x3105, 0x1, 0x0);
        gbc.writeMem(0xddcc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x213e);
        EXPECT(gbc.pc(), 0xddcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddcc), 0x41);
        // 41 0139
        gbc.setState(0xbd2b, 0x3ea1, 0xef50, 0x17fd, 0xfe54, 0x2482, 0x0, 0x1);
        gbc.writeMem(0xbd2b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3ea1);
        EXPECT(gbc.pc(), 0xbd2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd2b), 0x41);
        // 41 013A
        gbc.setState(0x200f, 0xb905, 0x77a0, 0xb27a, 0x2fd3, 0xf5bf, 0x1, 0x0);
        gbc.writeMem(0x200f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xb905);
        EXPECT(gbc.pc(), 0x2010);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 013B
        gbc.setState(0x46c7, 0xb58e, 0x58f0, 0xd373, 0x2592, 0x79cc, 0x1, 0x0);
        gbc.writeMem(0x46c7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xb58e);
        EXPECT(gbc.pc(), 0x46c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 013C
        gbc.setState(0xa659, 0xdaf3, 0xb4b0, 0xc4ae, 0x38e, 0x81f9, 0x0, 0x0);
        gbc.writeMem(0xa659, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xdaf3);
        EXPECT(gbc.pc(), 0xa65a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa659), 0x41);
        // 41 013E
        gbc.setState(0x9397, 0x41bc, 0xb1c0, 0xe557, 0xf4d0, 0x2195, 0x0, 0x0);
        gbc.writeMem(0x9397, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x41bc);
        EXPECT(gbc.pc(), 0x9398);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9397), 0x41);
        // 41 013F
        gbc.setState(0x549b, 0xaeaa, 0x6db0, 0x4ee6, 0xece7, 0x16f3, 0x1, 0x0);
        gbc.writeMem(0x549b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xaeaa);
        EXPECT(gbc.pc(), 0x549c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0140
        gbc.setState(0x7f30, 0x8572, 0x8e20, 0x40c0, 0xbfdf, 0xaa07, 0x0, 0x1);
        gbc.writeMem(0x7f30, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x8572);
        EXPECT(gbc.pc(), 0x7f31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0141
        gbc.setState(0x10bc, 0x165c, 0x2e80, 0x6f1f, 0x15d9, 0xf2c0, 0x1, 0x0);
        gbc.writeMem(0x10bc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x165c);
        EXPECT(gbc.pc(), 0x10bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0142
        gbc.setState(0xc219, 0x68ef, 0xf440, 0xbc49, 0x195e, 0xd40b, 0x0, 0x0);
        gbc.writeMem(0xc219, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x68ef);
        EXPECT(gbc.pc(), 0xc21a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc219), 0x41);
        // 41 0143
        gbc.setState(0x4d57, 0xae37, 0x6890, 0x2038, 0xbf00, 0xa9a, 0x1, 0x1);
        gbc.writeMem(0x4d57, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xae37);
        EXPECT(gbc.pc(), 0x4d58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0144
        gbc.setState(0x1846, 0x3e80, 0xbe00, 0xfb25, 0x5562, 0x67a5, 0x1, 0x0);
        gbc.writeMem(0x1846, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x3e80);
        EXPECT(gbc.pc(), 0x1847);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0145
        gbc.setState(0x258d, 0x6282, 0x8470, 0x596c, 0x4779, 0x9816, 0x1, 0x0);
        gbc.writeMem(0x258d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x6282);
        EXPECT(gbc.pc(), 0x258e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0146
        gbc.setState(0x5106, 0x697e, 0x2830, 0x460b, 0x380, 0x9a85, 0x1, 0x0);
        gbc.writeMem(0x5106, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x697e);
        EXPECT(gbc.pc(), 0x5107);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0147
        gbc.setState(0x6eb2, 0x3536, 0xf100, 0xd062, 0xfc4b, 0xc6cc, 0x0, 0x0);
        gbc.writeMem(0x6eb2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x3536);
        EXPECT(gbc.pc(), 0x6eb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0148
        gbc.setState(0x67cb, 0x3360, 0x9610, 0x15e, 0xa013, 0xf991, 0x0, 0x0);
        gbc.writeMem(0x67cb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x3360);
        EXPECT(gbc.pc(), 0x67cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0149
        gbc.setState(0x2f83, 0x644c, 0x5b10, 0xcdaf, 0x6172, 0x5e41, 0x0, 0x0);
        gbc.writeMem(0x2f83, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x644c);
        EXPECT(gbc.pc(), 0x2f84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 014A
        gbc.setState(0x3c6, 0xe71b, 0xbb60, 0x15a7, 0xca38, 0x9f2e, 0x0, 0x1);
        gbc.writeMem(0x3c6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xe71b);
        EXPECT(gbc.pc(), 0x3c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 014B
        gbc.setState(0xd24b, 0xc857, 0x6060, 0x3127, 0xd41a, 0x5ddf, 0x0, 0x1);
        gbc.writeMem(0xd24b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xc857);
        EXPECT(gbc.pc(), 0xd24c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd24b), 0x41);
        // 41 014C
        gbc.setState(0x4b3d, 0x4c31, 0xf6d0, 0xdf95, 0x3dd2, 0x801d, 0x0, 0x0);
        gbc.writeMem(0x4b3d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x4c31);
        EXPECT(gbc.pc(), 0x4b3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 014D
        gbc.setState(0xcbe1, 0x97db, 0x73a0, 0xc43d, 0x41b9, 0xf52e, 0x1, 0x0);
        gbc.writeMem(0xcbe1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x97db);
        EXPECT(gbc.pc(), 0xcbe2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbe1), 0x41);
        // 41 014E
        gbc.setState(0x49ce, 0xf831, 0x8040, 0xbe80, 0xf168, 0xf636, 0x1, 0x0);
        gbc.writeMem(0x49ce, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xf831);
        EXPECT(gbc.pc(), 0x49cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 014F
        gbc.setState(0x21c3, 0x8522, 0xbbc0, 0x802d, 0xd21, 0xd08c, 0x1, 0x1);
        gbc.writeMem(0x21c3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x8522);
        EXPECT(gbc.pc(), 0x21c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0150
        gbc.setState(0x295c, 0x92c0, 0xb0d0, 0x4495, 0x900, 0xba89, 0x1, 0x1);
        gbc.writeMem(0x295c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x92c0);
        EXPECT(gbc.pc(), 0x295d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0151
        gbc.setState(0x4915, 0x8908, 0x7a30, 0xfac2, 0xcaeb, 0xfab8, 0x0, 0x0);
        gbc.writeMem(0x4915, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x8908);
        EXPECT(gbc.pc(), 0x4916);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0152
        gbc.setState(0xd2a4, 0xe2ad, 0xfec0, 0x5846, 0x1ede, 0x63eb, 0x1, 0x0);
        gbc.writeMem(0xd2a4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xe2ad);
        EXPECT(gbc.pc(), 0xd2a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2a4), 0x41);
        // 41 0153
        gbc.setState(0xbe95, 0x2a57, 0x1c30, 0x41a9, 0x8215, 0x1b52, 0x1, 0x0);
        gbc.writeMem(0xbe95, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x2a57);
        EXPECT(gbc.pc(), 0xbe96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe95), 0x41);
        // 41 0154
        gbc.setState(0x5507, 0xedc1, 0xe5c0, 0x4bb6, 0xc516, 0xbf55, 0x0, 0x0);
        gbc.writeMem(0x5507, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xedc1);
        EXPECT(gbc.pc(), 0x5508);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0155
        gbc.setState(0xa745, 0xe1d2, 0x4490, 0x7ff5, 0xe91c, 0x2ba5, 0x0, 0x1);
        gbc.writeMem(0xa745, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xe1d2);
        EXPECT(gbc.pc(), 0xa746);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa745), 0x41);
        // 41 0156
        gbc.setState(0x708c, 0x6f59, 0xba60, 0x5724, 0xb488, 0xdcae, 0x1, 0x1);
        gbc.writeMem(0x708c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x6f59);
        EXPECT(gbc.pc(), 0x708d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0157
        gbc.setState(0x6876, 0x2dd6, 0x87b0, 0xa61e, 0xd1aa, 0xc4d, 0x0, 0x1);
        gbc.writeMem(0x6876, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x2dd6);
        EXPECT(gbc.pc(), 0x6877);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0158
        gbc.setState(0x40e1, 0x3f27, 0x2b40, 0xb061, 0xbaba, 0x682c, 0x1, 0x0);
        gbc.writeMem(0x40e1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x3f27);
        EXPECT(gbc.pc(), 0x40e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0159
        gbc.setState(0x9b80, 0x8484, 0xba80, 0xe53e, 0x6141, 0xaef1, 0x1, 0x0);
        gbc.writeMem(0x9b80, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x8484);
        EXPECT(gbc.pc(), 0x9b81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b80), 0x41);
        // 41 015A
        gbc.setState(0xcdac, 0x8983, 0xf390, 0x3103, 0x86d8, 0xc848, 0x0, 0x0);
        gbc.writeMem(0xcdac, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x8983);
        EXPECT(gbc.pc(), 0xcdad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdac), 0x41);
        // 41 015B
        gbc.setState(0x1d0a, 0x81b1, 0x6a10, 0xba51, 0x6d3e, 0x44c8, 0x0, 0x1);
        gbc.writeMem(0x1d0a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x81b1);
        EXPECT(gbc.pc(), 0x1d0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 015C
        gbc.setState(0xd24d, 0x3607, 0x1c90, 0x8633, 0xd34b, 0xa88b, 0x0, 0x1);
        gbc.writeMem(0xd24d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x3607);
        EXPECT(gbc.pc(), 0xd24e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd24d), 0x41);
        // 41 015D
        gbc.setState(0xc963, 0xee8d, 0xbf40, 0xe23e, 0x8b13, 0x277c, 0x1, 0x0);
        gbc.writeMem(0xc963, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xee8d);
        EXPECT(gbc.pc(), 0xc964);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc963), 0x41);
        // 41 015E
        gbc.setState(0xfeb, 0xd5a8, 0x4250, 0x29b3, 0xad09, 0xaae4, 0x1, 0x0);
        gbc.writeMem(0xfeb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xd5a8);
        EXPECT(gbc.pc(), 0xfec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 015F
        gbc.setState(0x18ab, 0x2237, 0x7370, 0x1266, 0x5d91, 0xb083, 0x1, 0x1);
        gbc.writeMem(0x18ab, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x2237);
        EXPECT(gbc.pc(), 0x18ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0160
        gbc.setState(0xb1e4, 0xd7ce, 0x5b80, 0xa51a, 0x4a0d, 0xc40d, 0x1, 0x1);
        gbc.writeMem(0xb1e4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xd7ce);
        EXPECT(gbc.pc(), 0xb1e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1e4), 0x41);
        // 41 0161
        gbc.setState(0x1ef7, 0xd562, 0xace0, 0x23d7, 0x19d, 0xd247, 0x0, 0x0);
        gbc.writeMem(0x1ef7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xd562);
        EXPECT(gbc.pc(), 0x1ef8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0162
        gbc.setState(0x7bc3, 0xbee3, 0xa9f0, 0x1e58, 0xfdc2, 0x7fc5, 0x0, 0x1);
        gbc.writeMem(0x7bc3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xbee3);
        EXPECT(gbc.pc(), 0x7bc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0164
        gbc.setState(0xae2b, 0x86c9, 0xb990, 0xc6cd, 0x269f, 0xab0e, 0x0, 0x1);
        gbc.writeMem(0xae2b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x86c9);
        EXPECT(gbc.pc(), 0xae2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae2b), 0x41);
        // 41 0165
        gbc.setState(0x7106, 0xf9fe, 0x2b0, 0x8226, 0x4666, 0x9dd5, 0x0, 0x1);
        gbc.writeMem(0x7106, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xf9fe);
        EXPECT(gbc.pc(), 0x7107);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0166
        gbc.setState(0x370f, 0xd916, 0x99e0, 0x1dc3, 0xbcab, 0x57cf, 0x0, 0x1);
        gbc.writeMem(0x370f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xd916);
        EXPECT(gbc.pc(), 0x3710);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0167
        gbc.setState(0xe0aa, 0xbacd, 0x36b0, 0xf42c, 0xc487, 0xb76a, 0x0, 0x0);
        gbc.writeMem(0xe0aa, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xbacd);
        EXPECT(gbc.pc(), 0xe0ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0aa), 0x41);
        // 41 0168
        gbc.setState(0x1034, 0x8858, 0x9fa0, 0x7e3c, 0xcd23, 0x4bfd, 0x0, 0x1);
        gbc.writeMem(0x1034, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x8858);
        EXPECT(gbc.pc(), 0x1035);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0169
        gbc.setState(0x4890, 0x9c4c, 0x7b80, 0xab54, 0x98fe, 0x10f3, 0x1, 0x1);
        gbc.writeMem(0x4890, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x9c4c);
        EXPECT(gbc.pc(), 0x4891);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 016A
        gbc.setState(0xc74e, 0xc08, 0x99a0, 0x2980, 0xdde9, 0xbfd4, 0x1, 0x0);
        gbc.writeMem(0xc74e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xc08);
        EXPECT(gbc.pc(), 0xc74f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc74e), 0x41);
        // 41 016B
        gbc.setState(0xe91e, 0x8c2d, 0xaa90, 0x5cbb, 0x56a1, 0xbef8, 0x0, 0x1);
        gbc.writeMem(0xe91e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x8c2d);
        EXPECT(gbc.pc(), 0xe91f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe91e), 0x41);
        // 41 016C
        gbc.setState(0x3d6b, 0xc158, 0x380, 0x55d0, 0x75a0, 0x3e24, 0x1, 0x0);
        gbc.writeMem(0x3d6b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xc158);
        EXPECT(gbc.pc(), 0x3d6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 016E
        gbc.setState(0xbde7, 0xdb43, 0x6f00, 0x37b7, 0xfb66, 0xf8e6, 0x0, 0x1);
        gbc.writeMem(0xbde7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xdb43);
        EXPECT(gbc.pc(), 0xbde8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbde7), 0x41);
        // 41 016F
        gbc.setState(0xe0a8, 0x6c9b, 0x510, 0x66a9, 0xc205, 0x52b4, 0x0, 0x0);
        gbc.writeMem(0xe0a8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x6c9b);
        EXPECT(gbc.pc(), 0xe0a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0a8), 0x41);
        // 41 0170
        gbc.setState(0x4c4a, 0xc68a, 0x10a0, 0x7b71, 0x976f, 0xcf15, 0x0, 0x1);
        gbc.writeMem(0x4c4a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xc68a);
        EXPECT(gbc.pc(), 0x4c4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0171
        gbc.setState(0xd5be, 0x34d5, 0x80, 0x10d7, 0xf7d5, 0xf723, 0x0, 0x1);
        gbc.writeMem(0xd5be, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x34d5);
        EXPECT(gbc.pc(), 0xd5bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5be), 0x41);
        // 41 0172
        gbc.setState(0x2730, 0x6833, 0xdb90, 0x9c2, 0x335b, 0x9fe8, 0x1, 0x1);
        gbc.writeMem(0x2730, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x6833);
        EXPECT(gbc.pc(), 0x2731);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0173
        gbc.setState(0xa7e6, 0xee37, 0x8520, 0xce19, 0x6ecf, 0xc3b9, 0x1, 0x0);
        gbc.writeMem(0xa7e6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xee37);
        EXPECT(gbc.pc(), 0xa7e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7e6), 0x41);
        // 41 0174
        gbc.setState(0xea49, 0xa83d, 0xc400, 0x1036, 0x136f, 0xba52, 0x1, 0x0);
        gbc.writeMem(0xea49, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xa83d);
        EXPECT(gbc.pc(), 0xea4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea49), 0x41);
        // 41 0176
        gbc.setState(0x6ef1, 0xe274, 0x4e30, 0xdebf, 0xc299, 0x3b29, 0x0, 0x1);
        gbc.writeMem(0x6ef1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xe274);
        EXPECT(gbc.pc(), 0x6ef2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0177
        gbc.setState(0x9ae3, 0xf10d, 0x7ef0, 0x3299, 0xa02d, 0xaf0b, 0x0, 0x0);
        gbc.writeMem(0x9ae3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xf10d);
        EXPECT(gbc.pc(), 0x9ae4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ae3), 0x41);
        // 41 0178
        gbc.setState(0x25a8, 0x9880, 0x1510, 0x51df, 0xfa6, 0xdded, 0x0, 0x0);
        gbc.writeMem(0x25a8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x9880);
        EXPECT(gbc.pc(), 0x25a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0179
        gbc.setState(0xb83d, 0x37b2, 0xe0b0, 0x74f2, 0x6bc8, 0x4aa6, 0x1, 0x1);
        gbc.writeMem(0xb83d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x37b2);
        EXPECT(gbc.pc(), 0xb83e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb83d), 0x41);
        // 41 017A
        gbc.setState(0x5d97, 0xbf4a, 0xb840, 0x57f3, 0x1e5, 0x78d7, 0x1, 0x1);
        gbc.writeMem(0x5d97, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xbf4a);
        EXPECT(gbc.pc(), 0x5d98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 017B
        gbc.setState(0x4f07, 0x49cd, 0xb5b0, 0x5f9e, 0xab77, 0xaeb6, 0x1, 0x0);
        gbc.writeMem(0x4f07, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x49cd);
        EXPECT(gbc.pc(), 0x4f08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 017C
        gbc.setState(0x48d0, 0x3106, 0x9a20, 0x849e, 0x66f9, 0x8c11, 0x0, 0x1);
        gbc.writeMem(0x48d0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x3106);
        EXPECT(gbc.pc(), 0x48d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 017D
        gbc.setState(0x5b0, 0xc13, 0xae90, 0x50b4, 0xed62, 0xd369, 0x1, 0x0);
        gbc.writeMem(0x5b0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xc13);
        EXPECT(gbc.pc(), 0x5b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 017E
        gbc.setState(0xef88, 0xa845, 0x2890, 0x28c7, 0x89ba, 0xe848, 0x0, 0x0);
        gbc.writeMem(0xef88, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xa845);
        EXPECT(gbc.pc(), 0xef89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef88), 0x41);
        // 41 017F
        gbc.setState(0x41aa, 0x20da, 0xdad0, 0x96fb, 0xbb0b, 0xb43d, 0x1, 0x0);
        gbc.writeMem(0x41aa, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x20da);
        EXPECT(gbc.pc(), 0x41ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0181
        gbc.setState(0x1c5, 0xc0d, 0x4390, 0xd7c1, 0xc330, 0xff95, 0x1, 0x0);
        gbc.writeMem(0x1c5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xc0d);
        EXPECT(gbc.pc(), 0x1c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0182
        gbc.setState(0x138e, 0xab73, 0xeaf0, 0x22ac, 0x7ab, 0xd73b, 0x1, 0x1);
        gbc.writeMem(0x138e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xab73);
        EXPECT(gbc.pc(), 0x138f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0183
        gbc.setState(0xeb51, 0x46a4, 0xd6d0, 0xf9cd, 0x9e8c, 0xb3b0, 0x1, 0x0);
        gbc.writeMem(0xeb51, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x46a4);
        EXPECT(gbc.pc(), 0xeb52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb51), 0x41);
        // 41 0184
        gbc.setState(0xdaf2, 0x77a1, 0xea90, 0x12ad, 0xf6d4, 0x788c, 0x0, 0x0);
        gbc.writeMem(0xdaf2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x77a1);
        EXPECT(gbc.pc(), 0xdaf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdaf2), 0x41);
        // 41 0185
        gbc.setState(0x9564, 0x8c46, 0x8050, 0xb8ac, 0xe1fa, 0xccaf, 0x0, 0x0);
        gbc.writeMem(0x9564, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x8c46);
        EXPECT(gbc.pc(), 0x9565);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9564), 0x41);
        // 41 0186
        gbc.setState(0x5af6, 0x7dd9, 0x50e0, 0x62ba, 0x4754, 0x5aa5, 0x0, 0x1);
        gbc.writeMem(0x5af6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x7dd9);
        EXPECT(gbc.pc(), 0x5af7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0187
        gbc.setState(0x4559, 0xe2e7, 0x8540, 0x62d3, 0xb6da, 0xdcf9, 0x1, 0x1);
        gbc.writeMem(0x4559, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xe2e7);
        EXPECT(gbc.pc(), 0x455a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0188
        gbc.setState(0x28ac, 0xe45b, 0xcb10, 0xf810, 0xe77b, 0xe441, 0x1, 0x1);
        gbc.writeMem(0x28ac, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xe45b);
        EXPECT(gbc.pc(), 0x28ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0189
        gbc.setState(0xd64e, 0x66e, 0x2700, 0x611a, 0x6f28, 0x2789, 0x1, 0x1);
        gbc.writeMem(0xd64e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x66e);
        EXPECT(gbc.pc(), 0xd64f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd64e), 0x41);
        // 41 018A
        gbc.setState(0x8826, 0x371d, 0x2a20, 0xa40d, 0x7304, 0x594, 0x1, 0x0);
        gbc.writeMem(0x8826, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x371d);
        EXPECT(gbc.pc(), 0x8827);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8826), 0x41);
        // 41 018B
        gbc.setState(0xa853, 0x5769, 0xa4b0, 0x12e7, 0x2aa3, 0xeb7e, 0x0, 0x0);
        gbc.writeMem(0xa853, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x5769);
        EXPECT(gbc.pc(), 0xa854);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa853), 0x41);
        // 41 018C
        gbc.setState(0x9484, 0x46ec, 0x2af0, 0xb00c, 0x218e, 0x9f41, 0x1, 0x1);
        gbc.writeMem(0x9484, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x46ec);
        EXPECT(gbc.pc(), 0x9485);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9484), 0x41);
        // 41 018D
        gbc.setState(0x2e21, 0x30ac, 0x60e0, 0x89af, 0x958e, 0x46d1, 0x1, 0x1);
        gbc.writeMem(0x2e21, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x30ac);
        EXPECT(gbc.pc(), 0x2e22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 018E
        gbc.setState(0x87e9, 0x8d3d, 0x5a00, 0x5d27, 0xb5c7, 0x20cd, 0x0, 0x1);
        gbc.writeMem(0x87e9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x8d3d);
        EXPECT(gbc.pc(), 0x87ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87e9), 0x41);
        // 41 018F
        gbc.setState(0x464d, 0xec68, 0x34d0, 0xbdf, 0xccfc, 0x12c7, 0x1, 0x0);
        gbc.writeMem(0x464d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xec68);
        EXPECT(gbc.pc(), 0x464e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0191
        gbc.setState(0x62ab, 0xac5f, 0x2b70, 0xfc5e, 0xbfe8, 0x19fe, 0x0, 0x0);
        gbc.writeMem(0x62ab, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xac5f);
        EXPECT(gbc.pc(), 0x62ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0192
        gbc.setState(0x89ce, 0x476e, 0x8290, 0x9f7d, 0x4905, 0xaad3, 0x1, 0x0);
        gbc.writeMem(0x89ce, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x476e);
        EXPECT(gbc.pc(), 0x89cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89ce), 0x41);
        // 41 0194
        gbc.setState(0x65c0, 0xf4c3, 0xb050, 0x5133, 0x4f07, 0x3bf7, 0x0, 0x1);
        gbc.writeMem(0x65c0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xf4c3);
        EXPECT(gbc.pc(), 0x65c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0195
        gbc.setState(0x1f48, 0x12e5, 0x5dd0, 0xd776, 0xeeb5, 0x3501, 0x1, 0x1);
        gbc.writeMem(0x1f48, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x12e5);
        EXPECT(gbc.pc(), 0x1f49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0196
        gbc.setState(0x4545, 0x9d6a, 0xbb50, 0xd9a, 0xfffd, 0x372b, 0x1, 0x1);
        gbc.writeMem(0x4545, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x9d6a);
        EXPECT(gbc.pc(), 0x4546);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0197
        gbc.setState(0x5ff5, 0x78cd, 0x9480, 0xc0b2, 0xe471, 0xc08, 0x0, 0x0);
        gbc.writeMem(0x5ff5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x78cd);
        EXPECT(gbc.pc(), 0x5ff6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0198
        gbc.setState(0x5c4c, 0xda2a, 0x89f0, 0xc976, 0xe135, 0x10cb, 0x1, 0x1);
        gbc.writeMem(0x5c4c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xda2a);
        EXPECT(gbc.pc(), 0x5c4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0199
        gbc.setState(0xad41, 0xa8cb, 0xc6c0, 0x3333, 0x8cb5, 0xd353, 0x0, 0x0);
        gbc.writeMem(0xad41, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xa8cb);
        EXPECT(gbc.pc(), 0xad42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad41), 0x41);
        // 41 019A
        gbc.setState(0xe444, 0x6ef0, 0xeaf0, 0x475, 0x1eb1, 0xd33b, 0x1, 0x0);
        gbc.writeMem(0xe444, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x6ef0);
        EXPECT(gbc.pc(), 0xe445);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe444), 0x41);
        // 41 019C
        gbc.setState(0xdbe1, 0xcf04, 0x2970, 0x5418, 0xc0b9, 0xb5e0, 0x1, 0x1);
        gbc.writeMem(0xdbe1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xcf04);
        EXPECT(gbc.pc(), 0xdbe2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbe1), 0x41);
        // 41 019D
        gbc.setState(0xae99, 0x7c91, 0xf100, 0xd337, 0x946e, 0xf74, 0x1, 0x0);
        gbc.writeMem(0xae99, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x7c91);
        EXPECT(gbc.pc(), 0xae9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae99), 0x41);
        // 41 019E
        gbc.setState(0x43e8, 0xbb6e, 0x6270, 0xdb2b, 0x3180, 0x5765, 0x1, 0x0);
        gbc.writeMem(0x43e8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xbb6e);
        EXPECT(gbc.pc(), 0x43e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 019F
        gbc.setState(0xec0c, 0xab4d, 0x60e0, 0xa9e9, 0xa626, 0x5643, 0x1, 0x1);
        gbc.writeMem(0xec0c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xab4d);
        EXPECT(gbc.pc(), 0xec0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec0c), 0x41);
        // 41 01A0
        gbc.setState(0x5798, 0x46c, 0xa90, 0xf23d, 0x6315, 0x3c6, 0x0, 0x1);
        gbc.writeMem(0x5798, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x46c);
        EXPECT(gbc.pc(), 0x5799);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 01A1
        gbc.setState(0x6c60, 0x4351, 0xc1c0, 0xd8e8, 0x7786, 0xe589, 0x0, 0x0);
        gbc.writeMem(0x6c60, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x4351);
        EXPECT(gbc.pc(), 0x6c61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01A2
        gbc.setState(0xa5e3, 0xe1e1, 0xafb0, 0xe6c7, 0x245f, 0x6206, 0x0, 0x1);
        gbc.writeMem(0xa5e3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xe1e1);
        EXPECT(gbc.pc(), 0xa5e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5e3), 0x41);
        // 41 01A3
        gbc.setState(0xaa15, 0xd90a, 0x32c0, 0x1952, 0x2cd6, 0xcdfe, 0x0, 0x0);
        gbc.writeMem(0xaa15, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xd90a);
        EXPECT(gbc.pc(), 0xaa16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa15), 0x41);
        // 41 01A4
        gbc.setState(0xdfcd, 0xf8a8, 0x8320, 0x6ac3, 0x21da, 0xa1cc, 0x1, 0x1);
        gbc.writeMem(0xdfcd, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xf8a8);
        EXPECT(gbc.pc(), 0xdfce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfcd), 0x41);
        // 41 01A5
        gbc.setState(0x52db, 0x4b21, 0x4ea0, 0x2d96, 0xd3db, 0x2e41, 0x1, 0x0);
        gbc.writeMem(0x52db, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x4b21);
        EXPECT(gbc.pc(), 0x52dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 01A6
        gbc.setState(0xccc0, 0xa4c1, 0x18f0, 0x9e8b, 0x99a0, 0x79da, 0x0, 0x1);
        gbc.writeMem(0xccc0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xa4c1);
        EXPECT(gbc.pc(), 0xccc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccc0), 0x41);
        // 41 01A7
        gbc.setState(0x9996, 0x1f3, 0xe8b0, 0x2835, 0x14a9, 0x8ab3, 0x0, 0x1);
        gbc.writeMem(0x9996, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x1f3);
        EXPECT(gbc.pc(), 0x9997);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9996), 0x41);
        // 41 01A8
        gbc.setState(0x8f1, 0x69d5, 0xa6b0, 0x4ec2, 0x31c, 0x977f, 0x1, 0x0);
        gbc.writeMem(0x8f1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x69d5);
        EXPECT(gbc.pc(), 0x8f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 01AA
        gbc.setState(0xebf8, 0x2d0c, 0x9850, 0x8fd8, 0x392, 0x2fda, 0x1, 0x1);
        gbc.writeMem(0xebf8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x2d0c);
        EXPECT(gbc.pc(), 0xebf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebf8), 0x41);
        // 41 01AB
        gbc.setState(0x7dff, 0xa181, 0xece0, 0xd19d, 0x3fe2, 0xb60c, 0x0, 0x0);
        gbc.writeMem(0x7dff, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xa181);
        EXPECT(gbc.pc(), 0x7e00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 01AC
        gbc.setState(0x7f00, 0xcc54, 0x8840, 0xed02, 0x98b8, 0x1546, 0x1, 0x1);
        gbc.writeMem(0x7f00, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xcc54);
        EXPECT(gbc.pc(), 0x7f01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01AD
        gbc.setState(0x6a8f, 0x73c3, 0xa1e0, 0x2fa8, 0x2bfa, 0xc7ca, 0x1, 0x1);
        gbc.writeMem(0x6a8f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x73c3);
        EXPECT(gbc.pc(), 0x6a90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 01AE
        gbc.setState(0x9a9d, 0xd63b, 0xcfb0, 0x342c, 0x4b5e, 0x432a, 0x0, 0x0);
        gbc.writeMem(0x9a9d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xd63b);
        EXPECT(gbc.pc(), 0x9a9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a9d), 0x41);
        // 41 01AF
        gbc.setState(0xafa7, 0xbff6, 0x6e20, 0x404d, 0x2f42, 0xb559, 0x1, 0x1);
        gbc.writeMem(0xafa7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xbff6);
        EXPECT(gbc.pc(), 0xafa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafa7), 0x41);
        // 41 01B0
        gbc.setState(0xccb9, 0xc378, 0x3440, 0x493b, 0x7608, 0x69e, 0x1, 0x0);
        gbc.writeMem(0xccb9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xc378);
        EXPECT(gbc.pc(), 0xccba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccb9), 0x41);
        // 41 01B1
        gbc.setState(0xc88d, 0xef62, 0xfca0, 0x77ca, 0x3507, 0x5736, 0x0, 0x1);
        gbc.writeMem(0xc88d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xef62);
        EXPECT(gbc.pc(), 0xc88e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc88d), 0x41);
        // 41 01B2
        gbc.setState(0xb4b4, 0x82e3, 0x1cf0, 0x58be, 0x5ec, 0xfe6, 0x1, 0x1);
        gbc.writeMem(0xb4b4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x82e3);
        EXPECT(gbc.pc(), 0xb4b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4b4), 0x41);
        // 41 01B4
        gbc.setState(0x3372, 0xd678, 0x8e70, 0x5cef, 0x8e11, 0x7656, 0x1, 0x0);
        gbc.writeMem(0x3372, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xd678);
        EXPECT(gbc.pc(), 0x3373);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 01B5
        gbc.setState(0x9aff, 0xdaca, 0xf800, 0xc0ab, 0x3c63, 0x7a5d, 0x0, 0x0);
        gbc.writeMem(0x9aff, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xdaca);
        EXPECT(gbc.pc(), 0x9b00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9aff), 0x41);
        // 41 01B6
        gbc.setState(0xad73, 0x4b77, 0xc530, 0xe191, 0xf721, 0xb1a2, 0x1, 0x0);
        gbc.writeMem(0xad73, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x4b77);
        EXPECT(gbc.pc(), 0xad74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad73), 0x41);
        // 41 01B7
        gbc.setState(0xcb15, 0x3821, 0x6bb0, 0x2f6d, 0x65c8, 0x244b, 0x0, 0x1);
        gbc.writeMem(0xcb15, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x3821);
        EXPECT(gbc.pc(), 0xcb16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb15), 0x41);
        // 41 01B8
        gbc.setState(0x96c5, 0xd8c4, 0xb500, 0x1547, 0xddec, 0xb769, 0x1, 0x1);
        gbc.writeMem(0x96c5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd8c4);
        EXPECT(gbc.pc(), 0x96c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96c5), 0x41);
        // 41 01B9
        gbc.setState(0x619b, 0xc7c0, 0xeb80, 0xa2e7, 0x8f6f, 0x35e7, 0x0, 0x1);
        gbc.writeMem(0x619b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xc7c0);
        EXPECT(gbc.pc(), 0x619c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01BB
        gbc.setState(0x136d, 0x1632, 0xa180, 0x9994, 0x442b, 0xa2c3, 0x0, 0x1);
        gbc.writeMem(0x136d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x1632);
        EXPECT(gbc.pc(), 0x136e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01BC
        gbc.setState(0x7d7a, 0xd162, 0x44f0, 0x536, 0x478b, 0x94a2, 0x1, 0x1);
        gbc.writeMem(0x7d7a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xd162);
        EXPECT(gbc.pc(), 0x7d7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 01BD
        gbc.setState(0x1216, 0xd144, 0x85a0, 0xe08a, 0x7985, 0xb8d5, 0x0, 0x1);
        gbc.writeMem(0x1216, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xd144);
        EXPECT(gbc.pc(), 0x1217);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 01BE
        gbc.setState(0x3901, 0x2e6c, 0x2240, 0xe3e7, 0x157a, 0x1b2c, 0x1, 0x1);
        gbc.writeMem(0x3901, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x2e6c);
        EXPECT(gbc.pc(), 0x3902);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01BF
        gbc.setState(0x557c, 0x2a97, 0x2be0, 0x1807, 0xd71a, 0x40f5, 0x1, 0x0);
        gbc.writeMem(0x557c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x2a97);
        EXPECT(gbc.pc(), 0x557d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 01C0
        gbc.setState(0x427b, 0x9b53, 0xe0e0, 0xddf0, 0x8b41, 0xe011, 0x0, 0x1);
        gbc.writeMem(0x427b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x9b53);
        EXPECT(gbc.pc(), 0x427c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 01C1
        gbc.setState(0xb219, 0x64f, 0x5680, 0x1dcf, 0xa08e, 0xae9f, 0x0, 0x1);
        gbc.writeMem(0xb219, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x64f);
        EXPECT(gbc.pc(), 0xb21a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb219), 0x41);
        // 41 01C2
        gbc.setState(0xd946, 0x124e, 0x2610, 0x51d5, 0x3111, 0x48b8, 0x1, 0x0);
        gbc.writeMem(0xd946, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x124e);
        EXPECT(gbc.pc(), 0xd947);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd946), 0x41);
        // 41 01C3
        gbc.setState(0x40ee, 0x81b, 0x5190, 0xc20b, 0x8807, 0xf338, 0x1, 0x1);
        gbc.writeMem(0x40ee, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x81b);
        EXPECT(gbc.pc(), 0x40ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 01C4
        gbc.setState(0xd797, 0xd7d0, 0x90d0, 0x33c4, 0x6af4, 0x7a4a, 0x0, 0x1);
        gbc.writeMem(0xd797, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xd7d0);
        EXPECT(gbc.pc(), 0xd798);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd797), 0x41);
        // 41 01C5
        gbc.setState(0xe5b4, 0x2646, 0x1e20, 0xcf8d, 0xf073, 0x514c, 0x0, 0x1);
        gbc.writeMem(0xe5b4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x2646);
        EXPECT(gbc.pc(), 0xe5b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5b4), 0x41);
        // 41 01C7
        gbc.setState(0xada2, 0x2cd3, 0xfb40, 0x9954, 0x7eb6, 0xb7bf, 0x1, 0x1);
        gbc.writeMem(0xada2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x2cd3);
        EXPECT(gbc.pc(), 0xada3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xada2), 0x41);
        // 41 01C9
        gbc.setState(0x924b, 0x134d, 0xb460, 0x23b4, 0xd78e, 0xdf50, 0x0, 0x0);
        gbc.writeMem(0x924b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x134d);
        EXPECT(gbc.pc(), 0x924c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x924b), 0x41);
        // 41 01CA
        gbc.setState(0x30f4, 0x8067, 0x76a0, 0xe403, 0x6500, 0xb7d, 0x0, 0x0);
        gbc.writeMem(0x30f4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x8067);
        EXPECT(gbc.pc(), 0x30f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 01CB
        gbc.setState(0xc1ba, 0x411, 0xcb50, 0x3792, 0x35ad, 0xc7db, 0x1, 0x1);
        gbc.writeMem(0xc1ba, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x411);
        EXPECT(gbc.pc(), 0xc1bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1ba), 0x41);
        // 41 01CC
        gbc.setState(0x2e17, 0xdfb5, 0xe6d0, 0xdf43, 0xbbc3, 0x4bb, 0x1, 0x0);
        gbc.writeMem(0x2e17, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xdfb5);
        EXPECT(gbc.pc(), 0x2e18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 01CD
        gbc.setState(0xc96e, 0xe700, 0xd1b0, 0xa63c, 0x6777, 0x6cd9, 0x0, 0x0);
        gbc.writeMem(0xc96e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xe700);
        EXPECT(gbc.pc(), 0xc96f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc96e), 0x41);
        // 41 01CE
        gbc.setState(0x121e, 0xa09b, 0xadc0, 0x4e14, 0xa61f, 0x967c, 0x1, 0x0);
        gbc.writeMem(0x121e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xa09b);
        EXPECT(gbc.pc(), 0x121f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01CF
        gbc.setState(0x922d, 0xa44b, 0x6a20, 0x152c, 0x479b, 0x1277, 0x1, 0x1);
        gbc.writeMem(0x922d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xa44b);
        EXPECT(gbc.pc(), 0x922e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x922d), 0x41);
        // 41 01D0
        gbc.setState(0x6831, 0x61dd, 0x4e00, 0xac5f, 0xe7ad, 0xff22, 0x0, 0x0);
        gbc.writeMem(0x6831, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x61dd);
        EXPECT(gbc.pc(), 0x6832);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01D1
        gbc.setState(0x19c6, 0xb3b4, 0xfdc0, 0xc7c4, 0x92aa, 0x2ce1, 0x1, 0x1);
        gbc.writeMem(0x19c6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xb3b4);
        EXPECT(gbc.pc(), 0x19c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01D2
        gbc.setState(0x30fd, 0x836c, 0x9eb0, 0xe433, 0x31f1, 0xe1eb, 0x0, 0x1);
        gbc.writeMem(0x30fd, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x836c);
        EXPECT(gbc.pc(), 0x30fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 01D3
        gbc.setState(0x9acb, 0x21bc, 0xde40, 0x39d5, 0xf37f, 0x7b0f, 0x0, 0x1);
        gbc.writeMem(0x9acb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x21bc);
        EXPECT(gbc.pc(), 0x9acc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9acb), 0x41);
        // 41 01D4
        gbc.setState(0xe0e9, 0x1824, 0xd620, 0xc8df, 0xc0f5, 0x2ee0, 0x0, 0x0);
        gbc.writeMem(0xe0e9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x1824);
        EXPECT(gbc.pc(), 0xe0ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0e9), 0x41);
        // 41 01D5
        gbc.setState(0x3b80, 0xef04, 0xb9c0, 0x37b3, 0xe905, 0x823f, 0x1, 0x0);
        gbc.writeMem(0x3b80, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xef04);
        EXPECT(gbc.pc(), 0x3b81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01D6
        gbc.setState(0x5de3, 0x211b, 0xfde0, 0xf037, 0x7a0f, 0xcc62, 0x1, 0x1);
        gbc.writeMem(0x5de3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x211b);
        EXPECT(gbc.pc(), 0x5de4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 01D7
        gbc.setState(0x180f, 0x657c, 0x3e0, 0xc1ce, 0xc476, 0x4dd8, 0x0, 0x1);
        gbc.writeMem(0x180f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x657c);
        EXPECT(gbc.pc(), 0x1810);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 01D8
        gbc.setState(0x3382, 0x2bef, 0x4650, 0x9017, 0x25f2, 0xa9a2, 0x1, 0x0);
        gbc.writeMem(0x3382, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x2bef);
        EXPECT(gbc.pc(), 0x3383);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 01D9
        gbc.setState(0xa782, 0x6c43, 0x5a30, 0x4a94, 0x12f4, 0x7110, 0x0, 0x0);
        gbc.writeMem(0xa782, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x6c43);
        EXPECT(gbc.pc(), 0xa783);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa782), 0x41);
        // 41 01DA
        gbc.setState(0x6b3c, 0x3b9e, 0x7700, 0x14a8, 0x6ea4, 0x8323, 0x0, 0x0);
        gbc.writeMem(0x6b3c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x3b9e);
        EXPECT(gbc.pc(), 0x6b3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01DB
        gbc.setState(0x390f, 0xe665, 0x71d0, 0xc55e, 0x30be, 0xa29, 0x0, 0x1);
        gbc.writeMem(0x390f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xe665);
        EXPECT(gbc.pc(), 0x3910);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 01DC
        gbc.setState(0x5fe9, 0x8911, 0x47e0, 0xe541, 0xaa99, 0x4207, 0x1, 0x1);
        gbc.writeMem(0x5fe9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x8911);
        EXPECT(gbc.pc(), 0x5fea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 01DE
        gbc.setState(0x8d6, 0xd304, 0xd080, 0x3f57, 0xf96, 0x1e9d, 0x0, 0x0);
        gbc.writeMem(0x8d6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xd304);
        EXPECT(gbc.pc(), 0x8d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01DF
        gbc.setState(0x8d29, 0xe729, 0xa470, 0x8c12, 0x9cc6, 0x2857, 0x1, 0x1);
        gbc.writeMem(0x8d29, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xe729);
        EXPECT(gbc.pc(), 0x8d2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d29), 0x41);
        // 41 01E0
        gbc.setState(0xa238, 0xf843, 0x9240, 0x9a41, 0xd22c, 0x5330, 0x1, 0x1);
        gbc.writeMem(0xa238, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xf843);
        EXPECT(gbc.pc(), 0xa239);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa238), 0x41);
        // 41 01E1
        gbc.setState(0x503a, 0xc736, 0x9d00, 0xd3e2, 0xf2c3, 0x362, 0x1, 0x1);
        gbc.writeMem(0x503a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xc736);
        EXPECT(gbc.pc(), 0x503b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01E2
        gbc.setState(0xa55d, 0x1d65, 0xae00, 0x34a6, 0x66b4, 0x7858, 0x1, 0x1);
        gbc.writeMem(0xa55d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x1d65);
        EXPECT(gbc.pc(), 0xa55e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa55d), 0x41);
        // 41 01E3
        gbc.setState(0x915a, 0xf3, 0x23d0, 0x35ad, 0xd03c, 0x307, 0x1, 0x0);
        gbc.writeMem(0x915a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xf3);
        EXPECT(gbc.pc(), 0x915b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x915a), 0x41);
        // 41 01E4
        gbc.setState(0x2742, 0x8035, 0x72c0, 0xf71d, 0xa22c, 0x2f80, 0x0, 0x1);
        gbc.writeMem(0x2742, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x8035);
        EXPECT(gbc.pc(), 0x2743);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01E5
        gbc.setState(0x5ff5, 0x5485, 0xf390, 0xe692, 0x88ad, 0xde12, 0x0, 0x0);
        gbc.writeMem(0x5ff5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x5485);
        EXPECT(gbc.pc(), 0x5ff6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 01E6
        gbc.setState(0x348e, 0xd293, 0x2620, 0x5b54, 0x5561, 0xa076, 0x0, 0x1);
        gbc.writeMem(0x348e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xd293);
        EXPECT(gbc.pc(), 0x348f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 01E7
        gbc.setState(0xb467, 0x979, 0x7c0, 0x4458, 0x4a7e, 0x70da, 0x1, 0x0);
        gbc.writeMem(0xb467, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x979);
        EXPECT(gbc.pc(), 0xb468);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb467), 0x41);
        // 41 01E8
        gbc.setState(0x3a11, 0x75f1, 0x9be0, 0x6bf4, 0x9f71, 0xb73a, 0x0, 0x0);
        gbc.writeMem(0x3a11, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x75f1);
        EXPECT(gbc.pc(), 0x3a12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 01E9
        gbc.setState(0x316e, 0xdc76, 0x1030, 0xc3f4, 0xb19f, 0x9bba, 0x0, 0x0);
        gbc.writeMem(0x316e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xdc76);
        EXPECT(gbc.pc(), 0x316f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 01EA
        gbc.setState(0x51d1, 0x836a, 0x8c70, 0x8d05, 0xca9f, 0x9053, 0x1, 0x0);
        gbc.writeMem(0x51d1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x836a);
        EXPECT(gbc.pc(), 0x51d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 01EB
        gbc.setState(0x5fce, 0x53cb, 0x2ec0, 0xf7ee, 0x30c3, 0xa4e6, 0x1, 0x0);
        gbc.writeMem(0x5fce, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x53cb);
        EXPECT(gbc.pc(), 0x5fcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01EC
        gbc.setState(0x29cf, 0x475f, 0x2f50, 0x9d85, 0xdd41, 0x153e, 0x1, 0x1);
        gbc.writeMem(0x29cf, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x475f);
        EXPECT(gbc.pc(), 0x29d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 01ED
        gbc.setState(0xa436, 0xe23c, 0xac80, 0x5551, 0xc4ea, 0x4388, 0x0, 0x0);
        gbc.writeMem(0xa436, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xe23c);
        EXPECT(gbc.pc(), 0xa437);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa436), 0x41);
        // 41 01EE
        gbc.setState(0xde5d, 0xa7eb, 0x6370, 0xab78, 0x3024, 0xd01c, 0x0, 0x0);
        gbc.writeMem(0xde5d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xa7eb);
        EXPECT(gbc.pc(), 0xde5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde5d), 0x41);
        // 41 01EF
        gbc.setState(0xb412, 0xab89, 0x9180, 0xfafe, 0x9af8, 0xd902, 0x0, 0x0);
        gbc.writeMem(0xb412, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xab89);
        EXPECT(gbc.pc(), 0xb413);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb412), 0x41);
        // 41 01F0
        gbc.setState(0x669e, 0x2d73, 0x6560, 0x5887, 0x7b6, 0x555d, 0x1, 0x1);
        gbc.writeMem(0x669e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x2d73);
        EXPECT(gbc.pc(), 0x669f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 01F1
        gbc.setState(0x7924, 0x50b, 0xf010, 0x95c5, 0x18c0, 0xe14e, 0x0, 0x1);
        gbc.writeMem(0x7924, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x50b);
        EXPECT(gbc.pc(), 0x7925);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 01F2
        gbc.setState(0xc4de, 0x9495, 0xd580, 0x7af2, 0x41d1, 0xc991, 0x1, 0x0);
        gbc.writeMem(0xc4de, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x9495);
        EXPECT(gbc.pc(), 0xc4df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4de), 0x41);
        // 41 01F3
        gbc.setState(0x1172, 0xb3a1, 0x3980, 0xb178, 0xc2d2, 0xba89, 0x1, 0x0);
        gbc.writeMem(0x1172, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xb3a1);
        EXPECT(gbc.pc(), 0x1173);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 01F4
        gbc.setState(0x5fe2, 0x4601, 0xded0, 0xd293, 0xf572, 0x977e, 0x0, 0x1);
        gbc.writeMem(0x5fe2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x4601);
        EXPECT(gbc.pc(), 0x5fe3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 01F5
        gbc.setState(0x84e5, 0x218d, 0x1f60, 0xad3c, 0xc7a2, 0xfcb5, 0x1, 0x1);
        gbc.writeMem(0x84e5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x218d);
        EXPECT(gbc.pc(), 0x84e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84e5), 0x41);
        // 41 01F6
        gbc.setState(0xaf12, 0xc97d, 0x31f0, 0xeeee, 0x75, 0x63a, 0x0, 0x1);
        gbc.writeMem(0xaf12, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xc97d);
        EXPECT(gbc.pc(), 0xaf13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf12), 0x41);
        // 41 01F7
        gbc.setState(0xe740, 0xb231, 0x8620, 0xa38a, 0x75e2, 0x7b43, 0x0, 0x1);
        gbc.writeMem(0xe740, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xb231);
        EXPECT(gbc.pc(), 0xe741);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe740), 0x41);
        // 41 01F8
        gbc.setState(0x5e68, 0x1f97, 0xf230, 0x965c, 0x7b76, 0x1ba3, 0x1, 0x0);
        gbc.writeMem(0x5e68, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x1f97);
        EXPECT(gbc.pc(), 0x5e69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 01F9
        gbc.setState(0xc09a, 0xcb0a, 0x2660, 0xa3b3, 0x4880, 0x72d1, 0x1, 0x0);
        gbc.writeMem(0xc09a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xcb0a);
        EXPECT(gbc.pc(), 0xc09b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc09a), 0x41);
        // 41 01FA
        gbc.setState(0x86e, 0x138f, 0xb870, 0xeb7c, 0x3fe1, 0xa83e, 0x1, 0x0);
        gbc.writeMem(0x86e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x138f);
        EXPECT(gbc.pc(), 0x86f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 01FB
        gbc.setState(0x9893, 0x8880, 0x2640, 0x65c, 0xcb82, 0x879d, 0x1, 0x1);
        gbc.writeMem(0x9893, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x8880);
        EXPECT(gbc.pc(), 0x9894);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9893), 0x41);
        // 41 01FC
        gbc.setState(0x420, 0xb62b, 0x8ad0, 0xe944, 0xbdc0, 0x9f15, 0x1, 0x1);
        gbc.writeMem(0x420, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb62b);
        EXPECT(gbc.pc(), 0x421);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 01FD
        gbc.setState(0x4043, 0xce2d, 0xb7d0, 0x9367, 0x316f, 0xce00, 0x1, 0x1);
        gbc.writeMem(0x4043, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xce2d);
        EXPECT(gbc.pc(), 0x4044);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 01FE
        gbc.setState(0xab81, 0x7821, 0xd890, 0xffb8, 0xe41f, 0x3dba, 0x1, 0x1);
        gbc.writeMem(0xab81, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x7821);
        EXPECT(gbc.pc(), 0xab82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab81), 0x41);
        // 41 01FF
        gbc.setState(0x99bc, 0x757f, 0x1360, 0x8ccf, 0x5694, 0xe886, 0x0, 0x1);
        gbc.writeMem(0x99bc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x757f);
        EXPECT(gbc.pc(), 0x99bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99bc), 0x41);
        // 41 0200
        gbc.setState(0x7fc6, 0x5ada, 0x8770, 0x2fe, 0xf06e, 0xc868, 0x0, 0x0);
        gbc.writeMem(0x7fc6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x5ada);
        EXPECT(gbc.pc(), 0x7fc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0201
        gbc.setState(0xb46e, 0x1e8e, 0x2180, 0x59ff, 0x5005, 0x561b, 0x1, 0x0);
        gbc.writeMem(0xb46e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x1e8e);
        EXPECT(gbc.pc(), 0xb46f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb46e), 0x41);
        // 41 0202
        gbc.setState(0x70fa, 0xeb5c, 0x1060, 0xfa65, 0x63e, 0x1d6b, 0x1, 0x1);
        gbc.writeMem(0x70fa, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xeb5c);
        EXPECT(gbc.pc(), 0x70fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0203
        gbc.setState(0x8010, 0x816, 0x5f00, 0xbfe9, 0x26b5, 0xab68, 0x1, 0x0);
        gbc.writeMem(0x8010, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x816);
        EXPECT(gbc.pc(), 0x8011);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8010), 0x41);
        // 41 0204
        gbc.setState(0x5f52, 0x429e, 0xc0b0, 0x8297, 0xc7bc, 0xd3ba, 0x1, 0x1);
        gbc.writeMem(0x5f52, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x429e);
        EXPECT(gbc.pc(), 0x5f53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0205
        gbc.setState(0x48aa, 0x138f, 0xea00, 0xf692, 0x6cea, 0x9ca2, 0x0, 0x1);
        gbc.writeMem(0x48aa, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x138f);
        EXPECT(gbc.pc(), 0x48ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0206
        gbc.setState(0x8654, 0xa46a, 0xfc60, 0x550b, 0x286e, 0x73f2, 0x0, 0x1);
        gbc.writeMem(0x8654, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xa46a);
        EXPECT(gbc.pc(), 0x8655);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8654), 0x41);
        // 41 0208
        gbc.setState(0x3345, 0x63ad, 0x20, 0x8cf4, 0xde2c, 0xff00, 0x0, 0x1);
        gbc.writeMem(0x3345, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x63ad);
        EXPECT(gbc.pc(), 0x3346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0209
        gbc.setState(0x986e, 0x5644, 0x4860, 0x2ce0, 0x2f69, 0x2408, 0x1, 0x1);
        gbc.writeMem(0x986e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x5644);
        EXPECT(gbc.pc(), 0x986f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x986e), 0x41);
        // 41 020B
        gbc.setState(0xe21d, 0xc07a, 0x4e30, 0x6ee4, 0x3307, 0xfd29, 0x1, 0x1);
        gbc.writeMem(0xe21d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xc07a);
        EXPECT(gbc.pc(), 0xe21e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe21d), 0x41);
        // 41 020C
        gbc.setState(0x3c60, 0xa9dd, 0x92a0, 0xf3ba, 0xd2ff, 0xd0fc, 0x0, 0x0);
        gbc.writeMem(0x3c60, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xa9dd);
        EXPECT(gbc.pc(), 0x3c61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 020D
        gbc.setState(0xa286, 0xf2a3, 0x1300, 0xeed4, 0x8a15, 0xba98, 0x0, 0x1);
        gbc.writeMem(0xa286, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xf2a3);
        EXPECT(gbc.pc(), 0xa287);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa286), 0x41);
        // 41 020E
        gbc.setState(0x439e, 0xc633, 0x3bc0, 0x8327, 0xa01, 0xaec3, 0x0, 0x0);
        gbc.writeMem(0x439e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xc633);
        EXPECT(gbc.pc(), 0x439f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 020F
        gbc.setState(0xb5b5, 0x9aef, 0xec10, 0x7ec4, 0x78c3, 0x5296, 0x0, 0x0);
        gbc.writeMem(0xb5b5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x9aef);
        EXPECT(gbc.pc(), 0xb5b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb5b5), 0x41);
        // 41 0210
        gbc.setState(0x11d5, 0x16fa, 0xa450, 0x4dad, 0x5bdb, 0x96c4, 0x0, 0x0);
        gbc.writeMem(0x11d5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x16fa);
        EXPECT(gbc.pc(), 0x11d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0211
        gbc.setState(0xc151, 0x5302, 0xef00, 0x7c6a, 0x5582, 0xa96e, 0x1, 0x1);
        gbc.writeMem(0xc151, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x5302);
        EXPECT(gbc.pc(), 0xc152);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc151), 0x41);
        // 41 0213
        gbc.setState(0x4e0c, 0xe2e9, 0xb1b0, 0x45be, 0xbbf5, 0x642d, 0x0, 0x1);
        gbc.writeMem(0x4e0c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xe2e9);
        EXPECT(gbc.pc(), 0x4e0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0214
        gbc.setState(0x802a, 0x8e83, 0xafa0, 0xd4a3, 0xacd6, 0xaa7, 0x0, 0x0);
        gbc.writeMem(0x802a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x8e83);
        EXPECT(gbc.pc(), 0x802b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x802a), 0x41);
        // 41 0215
        gbc.setState(0xb680, 0xcfb6, 0x1a80, 0x43ef, 0x968c, 0x2cdd, 0x0, 0x1);
        gbc.writeMem(0xb680, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xcfb6);
        EXPECT(gbc.pc(), 0xb681);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb680), 0x41);
        // 41 0216
        gbc.setState(0xe9bf, 0x7241, 0xc430, 0x76f1, 0x8858, 0x4cfb, 0x1, 0x1);
        gbc.writeMem(0xe9bf, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x7241);
        EXPECT(gbc.pc(), 0xe9c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9bf), 0x41);
        // 41 0217
        gbc.setState(0x377b, 0xe609, 0xf3e0, 0x78b9, 0xf616, 0x5e1, 0x0, 0x0);
        gbc.writeMem(0x377b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xe609);
        EXPECT(gbc.pc(), 0x377c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0218
        gbc.setState(0xb503, 0x1528, 0xd0c0, 0x7418, 0xe2bb, 0x1779, 0x0, 0x0);
        gbc.writeMem(0xb503, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x1528);
        EXPECT(gbc.pc(), 0xb504);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb503), 0x41);
        // 41 0219
        gbc.setState(0x31c5, 0x6798, 0xe040, 0x19b1, 0x5893, 0x5717, 0x0, 0x0);
        gbc.writeMem(0x31c5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x6798);
        EXPECT(gbc.pc(), 0x31c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 021A
        gbc.setState(0xafae, 0x8f4a, 0xd580, 0xea43, 0xc19d, 0xf2a3, 0x0, 0x0);
        gbc.writeMem(0xafae, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x8f4a);
        EXPECT(gbc.pc(), 0xafaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafae), 0x41);
        // 41 021B
        gbc.setState(0xd480, 0xe4c8, 0xecd0, 0xd55b, 0xde99, 0x3f03, 0x1, 0x0);
        gbc.writeMem(0xd480, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xe4c8);
        EXPECT(gbc.pc(), 0xd481);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd480), 0x41);
        // 41 021C
        gbc.setState(0x4841, 0xe9ca, 0x2e60, 0x9778, 0x3fd8, 0x8556, 0x0, 0x1);
        gbc.writeMem(0x4841, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xe9ca);
        EXPECT(gbc.pc(), 0x4842);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 021D
        gbc.setState(0x188b, 0x8b1, 0xecd0, 0xa637, 0xdfbc, 0x1cc0, 0x1, 0x0);
        gbc.writeMem(0x188b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x8b1);
        EXPECT(gbc.pc(), 0x188c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 021E
        gbc.setState(0xc6ad, 0x27a4, 0x3c00, 0xfd48, 0xf877, 0xdaaa, 0x0, 0x1);
        gbc.writeMem(0xc6ad, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x27a4);
        EXPECT(gbc.pc(), 0xc6ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6ad), 0x41);
        // 41 021F
        gbc.setState(0x855b, 0x72dc, 0x8e90, 0xd592, 0x17dd, 0x2922, 0x1, 0x0);
        gbc.writeMem(0x855b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x72dc);
        EXPECT(gbc.pc(), 0x855c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x855b), 0x41);
        // 41 0220
        gbc.setState(0xac32, 0x825d, 0xb000, 0xb158, 0xe26b, 0x881f, 0x1, 0x1);
        gbc.writeMem(0xac32, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x825d);
        EXPECT(gbc.pc(), 0xac33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac32), 0x41);
        // 41 0221
        gbc.setState(0x3fcd, 0x4a50, 0x6e10, 0x83a7, 0xb30d, 0x8429, 0x0, 0x0);
        gbc.writeMem(0x3fcd, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x4a50);
        EXPECT(gbc.pc(), 0x3fce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0222
        gbc.setState(0xa2ad, 0xf5bc, 0x29b0, 0x8efd, 0x8cd9, 0x65a5, 0x1, 0x1);
        gbc.writeMem(0xa2ad, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xf5bc);
        EXPECT(gbc.pc(), 0xa2ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2ad), 0x41);
        // 41 0223
        gbc.setState(0xb7fc, 0x9ca9, 0x1c80, 0x65d5, 0x52c4, 0x97da, 0x1, 0x1);
        gbc.writeMem(0xb7fc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x9ca9);
        EXPECT(gbc.pc(), 0xb7fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7fc), 0x41);
        // 41 0224
        gbc.setState(0x32b2, 0x86ee, 0x1ab0, 0xa041, 0x787e, 0x2e41, 0x1, 0x1);
        gbc.writeMem(0x32b2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x86ee);
        EXPECT(gbc.pc(), 0x32b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0225
        gbc.setState(0x2868, 0x6c27, 0xffb0, 0xfcb, 0xc85c, 0xacb3, 0x0, 0x0);
        gbc.writeMem(0x2868, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x6c27);
        EXPECT(gbc.pc(), 0x2869);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0226
        gbc.setState(0x9211, 0xdcc9, 0xd5a0, 0x26d6, 0xf919, 0xd509, 0x0, 0x0);
        gbc.writeMem(0x9211, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xdcc9);
        EXPECT(gbc.pc(), 0x9212);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9211), 0x41);
        // 41 0227
        gbc.setState(0x1bb4, 0x9214, 0x8350, 0xf7e7, 0x8dec, 0xa05a, 0x0, 0x1);
        gbc.writeMem(0x1bb4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x9214);
        EXPECT(gbc.pc(), 0x1bb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0228
        gbc.setState(0x88a8, 0x7da5, 0xa490, 0xda49, 0xcfc7, 0x2e7e, 0x1, 0x0);
        gbc.writeMem(0x88a8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x7da5);
        EXPECT(gbc.pc(), 0x88a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88a8), 0x41);
        // 41 0229
        gbc.setState(0x7359, 0xace1, 0x8a30, 0x9a5c, 0x6ab0, 0xeb9a, 0x0, 0x0);
        gbc.writeMem(0x7359, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xace1);
        EXPECT(gbc.pc(), 0x735a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 022B
        gbc.setState(0x633d, 0x4eb6, 0xf870, 0xea23, 0xe336, 0xffaf, 0x1, 0x0);
        gbc.writeMem(0x633d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4eb6);
        EXPECT(gbc.pc(), 0x633e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 022C
        gbc.setState(0xb94e, 0x778c, 0x2580, 0xa40f, 0xabc3, 0x3fec, 0x1, 0x1);
        gbc.writeMem(0xb94e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x778c);
        EXPECT(gbc.pc(), 0xb94f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb94e), 0x41);
        // 41 022D
        gbc.setState(0x7aab, 0xb5ea, 0xd2e0, 0xddc9, 0x379b, 0x747e, 0x0, 0x1);
        gbc.writeMem(0x7aab, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xb5ea);
        EXPECT(gbc.pc(), 0x7aac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 022E
        gbc.setState(0xded2, 0xf837, 0x7ed0, 0xcf50, 0x4f04, 0xf530, 0x0, 0x1);
        gbc.writeMem(0xded2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xf837);
        EXPECT(gbc.pc(), 0xded3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xded2), 0x41);
        // 41 0230
        gbc.setState(0x9019, 0xb7f9, 0xff30, 0xa9d0, 0x3342, 0x9961, 0x0, 0x0);
        gbc.writeMem(0x9019, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xb7f9);
        EXPECT(gbc.pc(), 0x901a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9019), 0x41);
        // 41 0232
        gbc.setState(0x5411, 0x1cb, 0xb6f0, 0x19bf, 0x2b6c, 0x4960, 0x0, 0x0);
        gbc.writeMem(0x5411, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x1cb);
        EXPECT(gbc.pc(), 0x5412);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0233
        gbc.setState(0x1844, 0xe5c2, 0x15b0, 0x9e89, 0xd63a, 0xdb20, 0x1, 0x1);
        gbc.writeMem(0x1844, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xe5c2);
        EXPECT(gbc.pc(), 0x1845);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0234
        gbc.setState(0xe9ef, 0xaa25, 0x9770, 0x8c6f, 0xf60f, 0x317, 0x0, 0x1);
        gbc.writeMem(0xe9ef, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xaa25);
        EXPECT(gbc.pc(), 0xe9f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9ef), 0x41);
        // 41 0235
        gbc.setState(0x6b3f, 0x7ccb, 0xeea0, 0xc857, 0xf697, 0x1576, 0x0, 0x1);
        gbc.writeMem(0x6b3f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x7ccb);
        EXPECT(gbc.pc(), 0x6b40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0236
        gbc.setState(0xb43b, 0x1491, 0x27f0, 0x9e3e, 0xb5df, 0x6f4d, 0x0, 0x0);
        gbc.writeMem(0xb43b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x1491);
        EXPECT(gbc.pc(), 0xb43c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb43b), 0x41);
        // 41 0237
        gbc.setState(0x8add, 0x4c7e, 0x8ff0, 0xe747, 0x2af3, 0x99d9, 0x0, 0x0);
        gbc.writeMem(0x8add, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x4c7e);
        EXPECT(gbc.pc(), 0x8ade);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8add), 0x41);
        // 41 0238
        gbc.setState(0xaf57, 0x39ff, 0xe860, 0x87a8, 0x5e13, 0x2d38, 0x0, 0x0);
        gbc.writeMem(0xaf57, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x39ff);
        EXPECT(gbc.pc(), 0xaf58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf57), 0x41);
        // 41 0239
        gbc.setState(0xaf9a, 0x520f, 0x30d0, 0x9f07, 0xd2d0, 0x954e, 0x1, 0x1);
        gbc.writeMem(0xaf9a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x520f);
        EXPECT(gbc.pc(), 0xaf9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf9a), 0x41);
        // 41 023A
        gbc.setState(0x3c87, 0x4f2e, 0xc660, 0x62ad, 0x9602, 0x27c, 0x1, 0x1);
        gbc.writeMem(0x3c87, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x4f2e);
        EXPECT(gbc.pc(), 0x3c88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 023B
        gbc.setState(0x4609, 0xd678, 0xc610, 0x823c, 0x6935, 0x7b1b, 0x1, 0x1);
        gbc.writeMem(0x4609, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xd678);
        EXPECT(gbc.pc(), 0x460a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 023C
        gbc.setState(0x6ace, 0x9125, 0x8c40, 0xaf77, 0x7afc, 0xcc85, 0x0, 0x0);
        gbc.writeMem(0x6ace, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x9125);
        EXPECT(gbc.pc(), 0x6acf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 023D
        gbc.setState(0x48b3, 0xe82c, 0x6c60, 0x88cb, 0xee29, 0x4246, 0x0, 0x0);
        gbc.writeMem(0x48b3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xe82c);
        EXPECT(gbc.pc(), 0x48b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 023E
        gbc.setState(0x377c, 0x1127, 0xa200, 0xb36b, 0x49c4, 0xbf10, 0x1, 0x0);
        gbc.writeMem(0x377c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x1127);
        EXPECT(gbc.pc(), 0x377d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 023F
        gbc.setState(0x1d12, 0xd8e2, 0x58b0, 0x97dc, 0xf66, 0x3095, 0x1, 0x0);
        gbc.writeMem(0x1d12, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xd8e2);
        EXPECT(gbc.pc(), 0x1d13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0240
        gbc.setState(0x2fd5, 0x70f1, 0x3710, 0x8d8f, 0x8d39, 0xd2a3, 0x1, 0x1);
        gbc.writeMem(0x2fd5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x70f1);
        EXPECT(gbc.pc(), 0x2fd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0241
        gbc.setState(0x8cb, 0xd2a6, 0xd7a0, 0xe91f, 0xcaad, 0xeb21, 0x1, 0x1);
        gbc.writeMem(0x8cb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xd2a6);
        EXPECT(gbc.pc(), 0x8cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0242
        gbc.setState(0xe8b9, 0x2277, 0xab0, 0x73ac, 0x73f2, 0xbc5e, 0x0, 0x1);
        gbc.writeMem(0xe8b9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x2277);
        EXPECT(gbc.pc(), 0xe8ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8b9), 0x41);
        // 41 0243
        gbc.setState(0x4cf5, 0x6797, 0x9590, 0xdc76, 0x3807, 0xda58, 0x0, 0x1);
        gbc.writeMem(0x4cf5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x6797);
        EXPECT(gbc.pc(), 0x4cf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0244
        gbc.setState(0x7df5, 0xe712, 0x5cb0, 0x5c92, 0x4490, 0x65fe, 0x0, 0x1);
        gbc.writeMem(0x7df5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe712);
        EXPECT(gbc.pc(), 0x7df6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0245
        gbc.setState(0x4999, 0x8b2f, 0xf4f0, 0x67b0, 0xf802, 0x7c28, 0x0, 0x0);
        gbc.writeMem(0x4999, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x8b2f);
        EXPECT(gbc.pc(), 0x499a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0246
        gbc.setState(0x5bd4, 0xfe7f, 0x3240, 0x6b8c, 0x2ee4, 0x988c, 0x0, 0x0);
        gbc.writeMem(0x5bd4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xfe7f);
        EXPECT(gbc.pc(), 0x5bd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0247
        gbc.setState(0xb382, 0x1a0b, 0xaff0, 0xd026, 0x6bd0, 0x2d1c, 0x0, 0x0);
        gbc.writeMem(0xb382, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x1a0b);
        EXPECT(gbc.pc(), 0xb383);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb382), 0x41);
        // 41 0248
        gbc.setState(0x8dac, 0x4af5, 0x8160, 0xd4e, 0xe191, 0x7837, 0x1, 0x0);
        gbc.writeMem(0x8dac, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x4af5);
        EXPECT(gbc.pc(), 0x8dad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dac), 0x41);
        // 41 0249
        gbc.setState(0xb3e3, 0xb46b, 0xa150, 0xd88b, 0xc5d9, 0x1693, 0x0, 0x0);
        gbc.writeMem(0xb3e3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xb46b);
        EXPECT(gbc.pc(), 0xb3e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3e3), 0x41);
        // 41 024B
        gbc.setState(0x91ca, 0xd381, 0x4cc0, 0xac37, 0xd6c, 0x2900, 0x0, 0x1);
        gbc.writeMem(0x91ca, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xd381);
        EXPECT(gbc.pc(), 0x91cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91ca), 0x41);
        // 41 024C
        gbc.setState(0xce4e, 0x8315, 0x68c0, 0xf5d1, 0xb7c0, 0xe178, 0x0, 0x1);
        gbc.writeMem(0xce4e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x8315);
        EXPECT(gbc.pc(), 0xce4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce4e), 0x41);
        // 41 024D
        gbc.setState(0x5a63, 0x2fc4, 0x2150, 0x3c71, 0x2ef8, 0xfe3c, 0x1, 0x1);
        gbc.writeMem(0x5a63, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x2fc4);
        EXPECT(gbc.pc(), 0x5a64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 024E
        gbc.setState(0x706e, 0x5845, 0xb9d0, 0x960, 0xd1a4, 0x154d, 0x0, 0x1);
        gbc.writeMem(0x706e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x5845);
        EXPECT(gbc.pc(), 0x706f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 024F
        gbc.setState(0x17a4, 0x989d, 0x4d30, 0x5cc1, 0x8a3c, 0xd2c3, 0x0, 0x1);
        gbc.writeMem(0x17a4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x989d);
        EXPECT(gbc.pc(), 0x17a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0250
        gbc.setState(0x4b53, 0xbfc9, 0x1470, 0xab21, 0x70ab, 0x36b8, 0x1, 0x0);
        gbc.writeMem(0x4b53, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xbfc9);
        EXPECT(gbc.pc(), 0x4b54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0251
        gbc.setState(0x2cef, 0x8d2d, 0x5d40, 0x9a2f, 0x60c5, 0xafbe, 0x1, 0x1);
        gbc.writeMem(0x2cef, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x8d2d);
        EXPECT(gbc.pc(), 0x2cf0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0252
        gbc.setState(0xbff0, 0x4197, 0xab10, 0xb20f, 0xe0b8, 0xcba5, 0x1, 0x0);
        gbc.writeMem(0xbff0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x4197);
        EXPECT(gbc.pc(), 0xbff1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbff0), 0x41);
        // 41 0253
        gbc.setState(0x3ec5, 0x15e6, 0x6120, 0xa153, 0x954f, 0x88dd, 0x0, 0x0);
        gbc.writeMem(0x3ec5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x15e6);
        EXPECT(gbc.pc(), 0x3ec6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0254
        gbc.setState(0xb8f6, 0x5b48, 0x60f0, 0xcb44, 0xee2c, 0xe650, 0x1, 0x1);
        gbc.writeMem(0xb8f6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x5b48);
        EXPECT(gbc.pc(), 0xb8f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8f6), 0x41);
        // 41 0255
        gbc.setState(0x2943, 0x40ce, 0xe350, 0x2e76, 0x547e, 0xe3f0, 0x0, 0x0);
        gbc.writeMem(0x2943, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x40ce);
        EXPECT(gbc.pc(), 0x2944);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0256
        gbc.setState(0xca10, 0x67da, 0xa860, 0x92e1, 0x3ac4, 0x2564, 0x0, 0x0);
        gbc.writeMem(0xca10, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x67da);
        EXPECT(gbc.pc(), 0xca11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca10), 0x41);
        // 41 0257
        gbc.setState(0x9b87, 0xccc, 0xc440, 0x4194, 0x60ed, 0xaa13, 0x0, 0x1);
        gbc.writeMem(0x9b87, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xccc);
        EXPECT(gbc.pc(), 0x9b88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b87), 0x41);
        // 41 0258
        gbc.setState(0x6f48, 0x35e6, 0xff30, 0x25fd, 0xb897, 0xe0c8, 0x0, 0x0);
        gbc.writeMem(0x6f48, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x35e6);
        EXPECT(gbc.pc(), 0x6f49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0259
        gbc.setState(0xd48a, 0xd219, 0xf9b0, 0x88f9, 0x5d84, 0x9e4a, 0x0, 0x0);
        gbc.writeMem(0xd48a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xd219);
        EXPECT(gbc.pc(), 0xd48b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd48a), 0x41);
        // 41 025A
        gbc.setState(0x50cb, 0xa137, 0x5b0, 0x66e8, 0xde7b, 0x2047, 0x0, 0x1);
        gbc.writeMem(0x50cb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xa137);
        EXPECT(gbc.pc(), 0x50cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 025B
        gbc.setState(0x7d8c, 0x85e2, 0x8f60, 0xf728, 0xdf57, 0x7027, 0x1, 0x0);
        gbc.writeMem(0x7d8c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x85e2);
        EXPECT(gbc.pc(), 0x7d8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 025C
        gbc.setState(0x7470, 0x4722, 0x8fc0, 0x587d, 0x44a, 0x4acd, 0x1, 0x0);
        gbc.writeMem(0x7470, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x4722);
        EXPECT(gbc.pc(), 0x7471);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 025D
        gbc.setState(0x112b, 0x18f6, 0x2c50, 0xe1fc, 0x3efd, 0xab3f, 0x0, 0x0);
        gbc.writeMem(0x112b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x18f6);
        EXPECT(gbc.pc(), 0x112c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 025E
        gbc.setState(0xd0ed, 0xf681, 0x2f30, 0xbe2f, 0x872e, 0x5281, 0x0, 0x1);
        gbc.writeMem(0xd0ed, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xf681);
        EXPECT(gbc.pc(), 0xd0ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0ed), 0x41);
        // 41 025F
        gbc.setState(0x87aa, 0x88ef, 0x3eb0, 0x2bff, 0xc94d, 0x5c6f, 0x0, 0x0);
        gbc.writeMem(0x87aa, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x88ef);
        EXPECT(gbc.pc(), 0x87ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87aa), 0x41);
        // 41 0260
        gbc.setState(0x7d45, 0x7068, 0x26a0, 0x627e, 0x90ea, 0xabbc, 0x0, 0x1);
        gbc.writeMem(0x7d45, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x7068);
        EXPECT(gbc.pc(), 0x7d46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0261
        gbc.setState(0xc591, 0xee4, 0x2d30, 0xdd9f, 0x434d, 0x4e09, 0x0, 0x1);
        gbc.writeMem(0xc591, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xee4);
        EXPECT(gbc.pc(), 0xc592);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc591), 0x41);
        // 41 0262
        gbc.setState(0x6165, 0x9b0a, 0x5fe0, 0x7616, 0xc333, 0xb4e7, 0x0, 0x0);
        gbc.writeMem(0x6165, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9b0a);
        EXPECT(gbc.pc(), 0x6166);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0263
        gbc.setState(0x9baf, 0x332b, 0xdf50, 0x97f8, 0x9d24, 0x6fe0, 0x0, 0x0);
        gbc.writeMem(0x9baf, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x332b);
        EXPECT(gbc.pc(), 0x9bb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9baf), 0x41);
        // 41 0264
        gbc.setState(0x3dfe, 0xeab2, 0xead0, 0x122b, 0xd4a7, 0xe1d6, 0x1, 0x1);
        gbc.writeMem(0x3dfe, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xeab2);
        EXPECT(gbc.pc(), 0x3dff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0265
        gbc.setState(0x43b2, 0x6b45, 0xa020, 0xaa58, 0xa494, 0x95f2, 0x0, 0x1);
        gbc.writeMem(0x43b2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6b45);
        EXPECT(gbc.pc(), 0x43b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0266
        gbc.setState(0x2b, 0xfd20, 0x6d90, 0x7bd, 0xd6f5, 0x28f7, 0x1, 0x1);
        gbc.writeMem(0x2b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xfd20);
        EXPECT(gbc.pc(), 0x2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0267
        gbc.setState(0x7f6f, 0x7616, 0xd0b0, 0xe36c, 0xb84d, 0xf9f3, 0x1, 0x0);
        gbc.writeMem(0x7f6f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x7616);
        EXPECT(gbc.pc(), 0x7f70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0268
        gbc.setState(0xea6f, 0x80e4, 0x7750, 0x206b, 0x7e38, 0xe9a9, 0x1, 0x1);
        gbc.writeMem(0xea6f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x80e4);
        EXPECT(gbc.pc(), 0xea70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea6f), 0x41);
        // 41 0269
        gbc.setState(0x3a50, 0xf98f, 0x3350, 0x21a, 0xd7d8, 0x2b2a, 0x0, 0x0);
        gbc.writeMem(0x3a50, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xf98f);
        EXPECT(gbc.pc(), 0x3a51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 026A
        gbc.setState(0x27bd, 0xfa39, 0xcc40, 0xb78a, 0x7d21, 0xd209, 0x1, 0x1);
        gbc.writeMem(0x27bd, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xfa39);
        EXPECT(gbc.pc(), 0x27be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 026B
        gbc.setState(0x5654, 0x471a, 0x3750, 0x2980, 0xbbc5, 0x89f3, 0x0, 0x1);
        gbc.writeMem(0x5654, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x471a);
        EXPECT(gbc.pc(), 0x5655);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 026C
        gbc.setState(0x80c9, 0x49ef, 0x7880, 0xf936, 0x4001, 0x267e, 0x0, 0x1);
        gbc.writeMem(0x80c9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x49ef);
        EXPECT(gbc.pc(), 0x80ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80c9), 0x41);
        // 41 026D
        gbc.setState(0x600c, 0x8626, 0x7770, 0x3f7b, 0x91b6, 0xa489, 0x0, 0x1);
        gbc.writeMem(0x600c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x8626);
        EXPECT(gbc.pc(), 0x600d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 026E
        gbc.setState(0x5533, 0x8f18, 0xbec0, 0xb9ab, 0x994c, 0xfe0, 0x1, 0x0);
        gbc.writeMem(0x5533, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x8f18);
        EXPECT(gbc.pc(), 0x5534);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 026F
        gbc.setState(0xaa76, 0xb39a, 0x2480, 0x3c42, 0x4570, 0x8e6a, 0x1, 0x0);
        gbc.writeMem(0xaa76, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xb39a);
        EXPECT(gbc.pc(), 0xaa77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa76), 0x41);
        // 41 0270
        gbc.setState(0xf79, 0x3122, 0x9420, 0xf3c0, 0x6ccf, 0xd471, 0x1, 0x0);
        gbc.writeMem(0xf79, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x3122);
        EXPECT(gbc.pc(), 0xf7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0271
        gbc.setState(0x4776, 0xe7ee, 0xd390, 0x3223, 0x7f27, 0x7eb8, 0x1, 0x1);
        gbc.writeMem(0x4776, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xe7ee);
        EXPECT(gbc.pc(), 0x4777);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0272
        gbc.setState(0x2aad, 0xc7c9, 0x5230, 0x47c3, 0x91fe, 0x5950, 0x0, 0x0);
        gbc.writeMem(0x2aad, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xc7c9);
        EXPECT(gbc.pc(), 0x2aae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0273
        gbc.setState(0x92b7, 0x681b, 0x1ec0, 0x9b65, 0xfd43, 0x3aff, 0x0, 0x1);
        gbc.writeMem(0x92b7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x681b);
        EXPECT(gbc.pc(), 0x92b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92b7), 0x41);
        // 41 0274
        gbc.setState(0xe54e, 0x1ed7, 0xf570, 0x6588, 0x3120, 0xbb02, 0x1, 0x0);
        gbc.writeMem(0xe54e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x1ed7);
        EXPECT(gbc.pc(), 0xe54f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe54e), 0x41);
        // 41 0275
        gbc.setState(0x2ee, 0x301e, 0xac40, 0x42cc, 0xc879, 0xe68a, 0x0, 0x1);
        gbc.writeMem(0x2ee, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x301e);
        EXPECT(gbc.pc(), 0x2ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0276
        gbc.setState(0x6357, 0x3727, 0x60c0, 0x5c75, 0x7d5c, 0xe9ce, 0x0, 0x1);
        gbc.writeMem(0x6357, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x3727);
        EXPECT(gbc.pc(), 0x6358);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0277
        gbc.setState(0x8e5e, 0x5c9e, 0x10b0, 0x55f9, 0x753e, 0x8e4f, 0x0, 0x0);
        gbc.writeMem(0x8e5e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x5c9e);
        EXPECT(gbc.pc(), 0x8e5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e5e), 0x41);
        // 41 0278
        gbc.setState(0x1c5c, 0x9f52, 0x4030, 0x468a, 0x25aa, 0x9199, 0x0, 0x0);
        gbc.writeMem(0x1c5c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x9f52);
        EXPECT(gbc.pc(), 0x1c5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0279
        gbc.setState(0xe454, 0x4451, 0x5d80, 0x15a3, 0x44b, 0x1d4d, 0x1, 0x0);
        gbc.writeMem(0xe454, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x4451);
        EXPECT(gbc.pc(), 0xe455);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe454), 0x41);
        // 41 027B
        gbc.setState(0x7a29, 0x3e3e, 0xe900, 0x7d72, 0x8c27, 0xff63, 0x1, 0x0);
        gbc.writeMem(0x7a29, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x3e3e);
        EXPECT(gbc.pc(), 0x7a2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 027C
        gbc.setState(0xd8ba, 0xbb40, 0xb730, 0xacf, 0xf427, 0xb7a6, 0x0, 0x1);
        gbc.writeMem(0xd8ba, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xbb40);
        EXPECT(gbc.pc(), 0xd8bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8ba), 0x41);
        // 41 027D
        gbc.setState(0x816, 0xe817, 0xe4f0, 0xd728, 0xbcf2, 0xd76c, 0x1, 0x1);
        gbc.writeMem(0x816, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xe817);
        EXPECT(gbc.pc(), 0x817);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 027E
        gbc.setState(0x5f06, 0xe2e5, 0x6e40, 0x38c6, 0x8536, 0xb854, 0x1, 0x1);
        gbc.writeMem(0x5f06, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xe2e5);
        EXPECT(gbc.pc(), 0x5f07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 027F
        gbc.setState(0xb812, 0x535b, 0xb360, 0xf44f, 0x6372, 0x7966, 0x0, 0x1);
        gbc.writeMem(0xb812, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x535b);
        EXPECT(gbc.pc(), 0xb813);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb812), 0x41);
        // 41 0280
        gbc.setState(0x2477, 0x7f18, 0xeb20, 0x3e1b, 0xdb3b, 0x17a, 0x1, 0x1);
        gbc.writeMem(0x2477, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x7f18);
        EXPECT(gbc.pc(), 0x2478);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0281
        gbc.setState(0x769d, 0x71ef, 0xa500, 0xa9a8, 0xdb04, 0x8cd, 0x1, 0x1);
        gbc.writeMem(0x769d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x71ef);
        EXPECT(gbc.pc(), 0x769e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0282
        gbc.setState(0x5b80, 0xa0c1, 0x9ee0, 0x5080, 0xc3cf, 0xcc92, 0x1, 0x0);
        gbc.writeMem(0x5b80, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xa0c1);
        EXPECT(gbc.pc(), 0x5b81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0283
        gbc.setState(0x2984, 0x59fe, 0xed80, 0x962c, 0xdfc9, 0xbf4b, 0x0, 0x1);
        gbc.writeMem(0x2984, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x59fe);
        EXPECT(gbc.pc(), 0x2985);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0284
        gbc.setState(0x8374, 0x90d, 0x6050, 0x9a50, 0xa968, 0x9145, 0x0, 0x1);
        gbc.writeMem(0x8374, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x90d);
        EXPECT(gbc.pc(), 0x8375);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8374), 0x41);
        // 41 0285
        gbc.setState(0xab55, 0x2e63, 0x2b40, 0x6714, 0x7640, 0x1b8e, 0x1, 0x1);
        gbc.writeMem(0xab55, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x2e63);
        EXPECT(gbc.pc(), 0xab56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab55), 0x41);
        // 41 0286
        gbc.setState(0x104f, 0x67f, 0x2790, 0x4db7, 0x1c48, 0x47db, 0x1, 0x0);
        gbc.writeMem(0x104f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x67f);
        EXPECT(gbc.pc(), 0x1050);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0287
        gbc.setState(0xb789, 0xeba6, 0x7ae0, 0xd4ea, 0x4ab, 0x49dd, 0x0, 0x1);
        gbc.writeMem(0xb789, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xeba6);
        EXPECT(gbc.pc(), 0xb78a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb789), 0x41);
        // 41 0288
        gbc.setState(0xecf6, 0x159e, 0x7ba0, 0x8fb8, 0x4e3a, 0x2335, 0x1, 0x1);
        gbc.writeMem(0xecf6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x159e);
        EXPECT(gbc.pc(), 0xecf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecf6), 0x41);
        // 41 0289
        gbc.setState(0xe34e, 0x9d24, 0x57a0, 0x7d47, 0xa36f, 0x83d2, 0x0, 0x1);
        gbc.writeMem(0xe34e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x9d24);
        EXPECT(gbc.pc(), 0xe34f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe34e), 0x41);
        // 41 028A
        gbc.setState(0x5647, 0x1d4f, 0x1f30, 0xd642, 0xdf89, 0x7cd9, 0x0, 0x1);
        gbc.writeMem(0x5647, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x1d4f);
        EXPECT(gbc.pc(), 0x5648);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 028B
        gbc.setState(0x6012, 0xe75f, 0x3d00, 0xcbe3, 0x673e, 0x99e9, 0x1, 0x1);
        gbc.writeMem(0x6012, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xe75f);
        EXPECT(gbc.pc(), 0x6013);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 028C
        gbc.setState(0xb376, 0x372d, 0xb540, 0x59f0, 0xa6c9, 0xadbb, 0x0, 0x1);
        gbc.writeMem(0xb376, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x372d);
        EXPECT(gbc.pc(), 0xb377);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb376), 0x41);
        // 41 028D
        gbc.setState(0x7194, 0xb66d, 0xabc0, 0x346d, 0xc54a, 0x7f9d, 0x0, 0x0);
        gbc.writeMem(0x7194, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xb66d);
        EXPECT(gbc.pc(), 0x7195);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 028E
        gbc.setState(0x9f49, 0x6c, 0x6120, 0xf7a4, 0xaabc, 0xae97, 0x0, 0x0);
        gbc.writeMem(0x9f49, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x6c);
        EXPECT(gbc.pc(), 0x9f4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f49), 0x41);
        // 41 028F
        gbc.setState(0x637f, 0x8ea1, 0xed40, 0x5b84, 0x433c, 0x19fd, 0x0, 0x1);
        gbc.writeMem(0x637f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x8ea1);
        EXPECT(gbc.pc(), 0x6380);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0290
        gbc.setState(0x72e, 0xa71, 0xbe0, 0xc09b, 0x6dc8, 0x5d13, 0x0, 0x1);
        gbc.writeMem(0x72e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xa71);
        EXPECT(gbc.pc(), 0x72f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0291
        gbc.setState(0xec1c, 0x776c, 0xc510, 0x3157, 0xf1bc, 0xa081, 0x0, 0x0);
        gbc.writeMem(0xec1c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x776c);
        EXPECT(gbc.pc(), 0xec1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec1c), 0x41);
        // 41 0292
        gbc.setState(0xcc4f, 0x3260, 0x39f0, 0xefee, 0x1790, 0x2c1d, 0x1, 0x1);
        gbc.writeMem(0xcc4f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x3260);
        EXPECT(gbc.pc(), 0xcc50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc4f), 0x41);
        // 41 0293
        gbc.setState(0x87fc, 0xa80f, 0xdff0, 0x69f7, 0x8a97, 0xe7cb, 0x1, 0x1);
        gbc.writeMem(0x87fc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xa80f);
        EXPECT(gbc.pc(), 0x87fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87fc), 0x41);
        // 41 0294
        gbc.setState(0x34f6, 0x34d, 0x3f20, 0xd8d6, 0xad0, 0x443f, 0x1, 0x0);
        gbc.writeMem(0x34f6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x34d);
        EXPECT(gbc.pc(), 0x34f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0295
        gbc.setState(0x2143, 0x37cb, 0xc690, 0x22b5, 0xa663, 0x2426, 0x1, 0x1);
        gbc.writeMem(0x2143, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x37cb);
        EXPECT(gbc.pc(), 0x2144);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0296
        gbc.setState(0x63c9, 0x7e36, 0x97e0, 0xd86d, 0x4c29, 0xa1fd, 0x0, 0x1);
        gbc.writeMem(0x63c9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x7e36);
        EXPECT(gbc.pc(), 0x63ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0297
        gbc.setState(0xe94, 0xf5eb, 0x9320, 0xb5ec, 0x86a, 0x40bf, 0x1, 0x1);
        gbc.writeMem(0xe94, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xf5eb);
        EXPECT(gbc.pc(), 0xe95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0298
        gbc.setState(0x30b8, 0x4510, 0x35e0, 0x9348, 0x6a34, 0xb7ab, 0x1, 0x1);
        gbc.writeMem(0x30b8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x4510);
        EXPECT(gbc.pc(), 0x30b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0299
        gbc.setState(0x7fcb, 0xf2d8, 0x4730, 0x83ce, 0x80, 0x33a1, 0x1, 0x1);
        gbc.writeMem(0x7fcb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xf2d8);
        EXPECT(gbc.pc(), 0x7fcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 029A
        gbc.setState(0x9a16, 0x7a76, 0x3a50, 0x992f, 0xe3, 0x849e, 0x1, 0x1);
        gbc.writeMem(0x9a16, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x7a76);
        EXPECT(gbc.pc(), 0x9a17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a16), 0x41);
        // 41 029B
        gbc.setState(0x49ee, 0xb2, 0xd0a0, 0xd2fe, 0xc27e, 0x7290, 0x0, 0x1);
        gbc.writeMem(0x49ee, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xb2);
        EXPECT(gbc.pc(), 0x49ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 029C
        gbc.setState(0x9b35, 0xc15f, 0x8bc0, 0x5eb9, 0xc6c, 0x19b, 0x0, 0x1);
        gbc.writeMem(0x9b35, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc15f);
        EXPECT(gbc.pc(), 0x9b36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b35), 0x41);
        // 41 029D
        gbc.setState(0x362a, 0x9e4a, 0x3c60, 0x287f, 0x7d15, 0x7222, 0x0, 0x0);
        gbc.writeMem(0x362a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x9e4a);
        EXPECT(gbc.pc(), 0x362b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 029E
        gbc.setState(0xddda, 0x6f80, 0x1ca0, 0x8ac3, 0xb20c, 0xe94c, 0x1, 0x0);
        gbc.writeMem(0xddda, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x6f80);
        EXPECT(gbc.pc(), 0xdddb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddda), 0x41);
        // 41 029F
        gbc.setState(0x3451, 0xbcaa, 0x4650, 0x3593, 0x2476, 0xbe2, 0x1, 0x0);
        gbc.writeMem(0x3451, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xbcaa);
        EXPECT(gbc.pc(), 0x3452);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02A0
        gbc.setState(0x93c5, 0x3349, 0xca40, 0x61b1, 0xd2ae, 0x1dd9, 0x0, 0x0);
        gbc.writeMem(0x93c5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x3349);
        EXPECT(gbc.pc(), 0x93c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93c5), 0x41);
        // 41 02A1
        gbc.setState(0x22dc, 0x4b12, 0xd8d0, 0x4cb3, 0xf58e, 0x114a, 0x1, 0x0);
        gbc.writeMem(0x22dc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x4b12);
        EXPECT(gbc.pc(), 0x22dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02A2
        gbc.setState(0x8484, 0x6bf4, 0x350, 0x5f55, 0x1a14, 0x78ee, 0x0, 0x0);
        gbc.writeMem(0x8484, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x6bf4);
        EXPECT(gbc.pc(), 0x8485);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8484), 0x41);
        // 41 02A3
        gbc.setState(0x44ef, 0x701c, 0x5930, 0x415b, 0x2379, 0x6b35, 0x1, 0x1);
        gbc.writeMem(0x44ef, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x701c);
        EXPECT(gbc.pc(), 0x44f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 02A4
        gbc.setState(0x40e, 0xe833, 0xcf60, 0x4ab6, 0x4ef2, 0xe6fb, 0x0, 0x1);
        gbc.writeMem(0x40e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xe833);
        EXPECT(gbc.pc(), 0x40f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02A5
        gbc.setState(0x152c, 0xd340, 0xbf0, 0x726, 0xb8e3, 0x907f, 0x1, 0x1);
        gbc.writeMem(0x152c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xd340);
        EXPECT(gbc.pc(), 0x152d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 02A6
        gbc.setState(0x96df, 0x9ce3, 0xcf90, 0xad6b, 0x4b1c, 0x6edc, 0x0, 0x1);
        gbc.writeMem(0x96df, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x9ce3);
        EXPECT(gbc.pc(), 0x96e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x96df), 0x41);
        // 41 02A7
        gbc.setState(0xe736, 0x2398, 0xb9f0, 0xdf18, 0x2596, 0x5ef5, 0x0, 0x1);
        gbc.writeMem(0xe736, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x2398);
        EXPECT(gbc.pc(), 0xe737);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe736), 0x41);
        // 41 02A8
        gbc.setState(0x613b, 0x844a, 0x40a0, 0xc1e5, 0xd9e7, 0x7460, 0x0, 0x1);
        gbc.writeMem(0x613b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x844a);
        EXPECT(gbc.pc(), 0x613c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02AA
        gbc.setState(0xc536, 0xfa2d, 0xe750, 0x24cc, 0x28a6, 0x819e, 0x0, 0x1);
        gbc.writeMem(0xc536, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xfa2d);
        EXPECT(gbc.pc(), 0xc537);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc536), 0x41);
        // 41 02AB
        gbc.setState(0xeb0c, 0xbe51, 0x97f0, 0xf435, 0x2c4f, 0x2cae, 0x0, 0x1);
        gbc.writeMem(0xeb0c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xbe51);
        EXPECT(gbc.pc(), 0xeb0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb0c), 0x41);
        // 41 02AC
        gbc.setState(0x3329, 0xc211, 0x3be0, 0x3df1, 0x5ace, 0x65d, 0x1, 0x1);
        gbc.writeMem(0x3329, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xc211);
        EXPECT(gbc.pc(), 0x332a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02AD
        gbc.setState(0x9c80, 0x22c0, 0xb020, 0x1b1, 0x9d8, 0x4e6a, 0x1, 0x0);
        gbc.writeMem(0x9c80, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x22c0);
        EXPECT(gbc.pc(), 0x9c81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c80), 0x41);
        // 41 02AF
        gbc.setState(0x575d, 0x43b9, 0xe10, 0x2b03, 0x63da, 0x7d2d, 0x1, 0x0);
        gbc.writeMem(0x575d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x43b9);
        EXPECT(gbc.pc(), 0x575e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02B0
        gbc.setState(0x45a0, 0x3d30, 0xc170, 0x8c3a, 0x77e, 0x4ce0, 0x0, 0x0);
        gbc.writeMem(0x45a0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x3d30);
        EXPECT(gbc.pc(), 0x45a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 02B1
        gbc.setState(0x6d5a, 0x5a7f, 0xedc0, 0xe1fa, 0x9c04, 0x2078, 0x1, 0x0);
        gbc.writeMem(0x6d5a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x5a7f);
        EXPECT(gbc.pc(), 0x6d5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 02B2
        gbc.setState(0xe502, 0x152, 0x7d40, 0x57c9, 0xbea1, 0x152e, 0x0, 0x1);
        gbc.writeMem(0xe502, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x152);
        EXPECT(gbc.pc(), 0xe503);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe502), 0x41);
        // 41 02B3
        gbc.setState(0xd9e, 0x818e, 0xba10, 0x10d6, 0xa620, 0xa72, 0x1, 0x0);
        gbc.writeMem(0xd9e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x818e);
        EXPECT(gbc.pc(), 0xd9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02B4
        gbc.setState(0xf20, 0x398e, 0xb900, 0xcceb, 0x9487, 0x302b, 0x1, 0x0);
        gbc.writeMem(0xf20, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x398e);
        EXPECT(gbc.pc(), 0xf21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 02B5
        gbc.setState(0x5bb2, 0x8f3b, 0xb3b0, 0x1c07, 0x756a, 0x4245, 0x1, 0x0);
        gbc.writeMem(0x5bb2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x8f3b);
        EXPECT(gbc.pc(), 0x5bb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 02B6
        gbc.setState(0x7bdb, 0x864a, 0xab50, 0xaaaa, 0xc14, 0x7be3, 0x1, 0x1);
        gbc.writeMem(0x7bdb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x864a);
        EXPECT(gbc.pc(), 0x7bdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02B7
        gbc.setState(0xde3c, 0xf284, 0x96f0, 0xaea0, 0x3a64, 0xed7e, 0x0, 0x1);
        gbc.writeMem(0xde3c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xf284);
        EXPECT(gbc.pc(), 0xde3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde3c), 0x41);
        // 41 02B8
        gbc.setState(0xae8, 0x84e2, 0x3c50, 0xfca7, 0x9b3f, 0xf693, 0x1, 0x1);
        gbc.writeMem(0xae8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x84e2);
        EXPECT(gbc.pc(), 0xae9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02B9
        gbc.setState(0xb45c, 0x697c, 0x1330, 0x947c, 0x2e8, 0x412f, 0x1, 0x0);
        gbc.writeMem(0xb45c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x697c);
        EXPECT(gbc.pc(), 0xb45d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb45c), 0x41);
        // 41 02BA
        gbc.setState(0x6cf, 0xeee5, 0x7290, 0xe7be, 0x89cb, 0x8543, 0x0, 0x1);
        gbc.writeMem(0x6cf, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xeee5);
        EXPECT(gbc.pc(), 0x6d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02BB
        gbc.setState(0xf3b, 0x4c08, 0x75e0, 0xf538, 0x773c, 0x9fb0, 0x1, 0x1);
        gbc.writeMem(0xf3b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x4c08);
        EXPECT(gbc.pc(), 0xf3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02BC
        gbc.setState(0xbf26, 0x8dc8, 0xb870, 0xe7e7, 0xd327, 0xefb5, 0x0, 0x0);
        gbc.writeMem(0xbf26, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8dc8);
        EXPECT(gbc.pc(), 0xbf27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf26), 0x41);
        // 41 02BD
        gbc.setState(0x4bc1, 0x7b32, 0xed30, 0xfd9a, 0x3379, 0x379b, 0x0, 0x1);
        gbc.writeMem(0x4bc1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x7b32);
        EXPECT(gbc.pc(), 0x4bc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 02BE
        gbc.setState(0xe2fc, 0xbcae, 0x2520, 0x79b9, 0x9b47, 0x8e5c, 0x0, 0x1);
        gbc.writeMem(0xe2fc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xbcae);
        EXPECT(gbc.pc(), 0xe2fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2fc), 0x41);
        // 41 02BF
        gbc.setState(0x72c5, 0xf3f9, 0xe960, 0x305d, 0x34b6, 0xb356, 0x1, 0x0);
        gbc.writeMem(0x72c5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xf3f9);
        EXPECT(gbc.pc(), 0x72c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02C0
        gbc.setState(0x17e0, 0x77ee, 0x7fb0, 0x1856, 0x4257, 0x289c, 0x0, 0x1);
        gbc.writeMem(0x17e0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x77ee);
        EXPECT(gbc.pc(), 0x17e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 02C1
        gbc.setState(0x8209, 0xf2d6, 0x7200, 0x389b, 0x718, 0x4872, 0x0, 0x0);
        gbc.writeMem(0x8209, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xf2d6);
        EXPECT(gbc.pc(), 0x820a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8209), 0x41);
        // 41 02C2
        gbc.setState(0xa2e7, 0x2f3b, 0xc450, 0x4787, 0x5af5, 0x3dce, 0x0, 0x0);
        gbc.writeMem(0xa2e7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x2f3b);
        EXPECT(gbc.pc(), 0xa2e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2e7), 0x41);
        // 41 02C3
        gbc.setState(0x16dc, 0xd61d, 0xfc00, 0xa548, 0xd642, 0x70b4, 0x1, 0x0);
        gbc.writeMem(0x16dc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xd61d);
        EXPECT(gbc.pc(), 0x16dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 02C4
        gbc.setState(0xc0a4, 0x2b17, 0x48f0, 0xd342, 0xd663, 0x49c0, 0x1, 0x0);
        gbc.writeMem(0xc0a4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x2b17);
        EXPECT(gbc.pc(), 0xc0a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0a4), 0x41);
        // 41 02C5
        gbc.setState(0x4441, 0x6d4d, 0xc690, 0xd44b, 0x696c, 0xf2e9, 0x1, 0x0);
        gbc.writeMem(0x4441, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x6d4d);
        EXPECT(gbc.pc(), 0x4442);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02C6
        gbc.setState(0xe33c, 0x7e0e, 0x95b0, 0x48bd, 0x2fc3, 0xb4a5, 0x0, 0x1);
        gbc.writeMem(0xe33c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x7e0e);
        EXPECT(gbc.pc(), 0xe33d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe33c), 0x41);
        // 41 02C7
        gbc.setState(0x1a64, 0x921b, 0x960, 0x1bc8, 0xbed4, 0xfca5, 0x0, 0x1);
        gbc.writeMem(0x1a64, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x921b);
        EXPECT(gbc.pc(), 0x1a65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02C8
        gbc.setState(0xc436, 0xc764, 0x8510, 0xe1f1, 0x24d, 0x44ca, 0x1, 0x0);
        gbc.writeMem(0xc436, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xc764);
        EXPECT(gbc.pc(), 0xc437);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc436), 0x41);
        // 41 02C9
        gbc.setState(0xd632, 0xb7cf, 0xe40, 0x821, 0xa9f3, 0xc3f9, 0x0, 0x0);
        gbc.writeMem(0xd632, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xb7cf);
        EXPECT(gbc.pc(), 0xd633);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd632), 0x41);
        // 41 02CA
        gbc.setState(0x7441, 0x11f8, 0xfdc0, 0xe3f5, 0x57b6, 0xed32, 0x1, 0x0);
        gbc.writeMem(0x7441, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x11f8);
        EXPECT(gbc.pc(), 0x7442);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 02CB
        gbc.setState(0x90d1, 0x200a, 0x50e0, 0xe392, 0x2e9b, 0xec59, 0x1, 0x0);
        gbc.writeMem(0x90d1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x200a);
        EXPECT(gbc.pc(), 0x90d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90d1), 0x41);
        // 41 02CC
        gbc.setState(0xef12, 0xc0eb, 0xf740, 0x3b8, 0x89c5, 0x9468, 0x1, 0x1);
        gbc.writeMem(0xef12, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xc0eb);
        EXPECT(gbc.pc(), 0xef13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef12), 0x41);
        // 41 02CD
        gbc.setState(0xeae3, 0xeb5b, 0x87e0, 0xa801, 0xa883, 0x6bd4, 0x0, 0x0);
        gbc.writeMem(0xeae3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xeb5b);
        EXPECT(gbc.pc(), 0xeae4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeae3), 0x41);
        // 41 02CE
        gbc.setState(0x3f82, 0x2039, 0x9860, 0x3ed4, 0xcf4, 0x19c4, 0x1, 0x0);
        gbc.writeMem(0x3f82, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2039);
        EXPECT(gbc.pc(), 0x3f83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02CF
        gbc.setState(0x7372, 0x10ab, 0xa3e0, 0xb2dc, 0xe01d, 0x404e, 0x0, 0x0);
        gbc.writeMem(0x7372, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x10ab);
        EXPECT(gbc.pc(), 0x7373);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02D0
        gbc.setState(0xdc59, 0x44b4, 0xba20, 0xd99d, 0x9e96, 0xdf06, 0x1, 0x1);
        gbc.writeMem(0xdc59, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x44b4);
        EXPECT(gbc.pc(), 0xdc5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc59), 0x41);
        // 41 02D1
        gbc.setState(0x4c03, 0xa43a, 0x5ea0, 0x88cf, 0x2ff1, 0xb754, 0x1, 0x1);
        gbc.writeMem(0x4c03, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xa43a);
        EXPECT(gbc.pc(), 0x4c04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02D2
        gbc.setState(0x257d, 0x5f73, 0xb160, 0xacaa, 0xbb7e, 0xccd4, 0x1, 0x1);
        gbc.writeMem(0x257d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x5f73);
        EXPECT(gbc.pc(), 0x257e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02D3
        gbc.setState(0x523f, 0xf2ef, 0xc3e0, 0x4f6f, 0xf58f, 0x8d96, 0x1, 0x1);
        gbc.writeMem(0x523f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xf2ef);
        EXPECT(gbc.pc(), 0x5240);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02D4
        gbc.setState(0x1c, 0x4b8, 0x3410, 0xc576, 0xb36, 0x2148, 0x0, 0x1);
        gbc.writeMem(0x1c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x4b8);
        EXPECT(gbc.pc(), 0x1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02D5
        gbc.setState(0x5ba2, 0x30b5, 0x7ea0, 0x3cd7, 0xb2dd, 0x9ff4, 0x1, 0x1);
        gbc.writeMem(0x5ba2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x30b5);
        EXPECT(gbc.pc(), 0x5ba3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02D6
        gbc.setState(0x88fc, 0xf8fe, 0xbfc0, 0xc442, 0xab8f, 0xcdad, 0x1, 0x0);
        gbc.writeMem(0x88fc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xf8fe);
        EXPECT(gbc.pc(), 0x88fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88fc), 0x41);
        // 41 02D7
        gbc.setState(0x2845, 0xf823, 0xa930, 0x17ce, 0x412f, 0xffde, 0x0, 0x0);
        gbc.writeMem(0x2845, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xf823);
        EXPECT(gbc.pc(), 0x2846);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 02D8
        gbc.setState(0xa64d, 0x1167, 0xed10, 0x2a37, 0x4f40, 0xd63b, 0x1, 0x0);
        gbc.writeMem(0xa64d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x1167);
        EXPECT(gbc.pc(), 0xa64e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa64d), 0x41);
        // 41 02DA
        gbc.setState(0xe017, 0xafed, 0x28c0, 0x521e, 0x450d, 0x8912, 0x1, 0x0);
        gbc.writeMem(0xe017, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xafed);
        EXPECT(gbc.pc(), 0xe018);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe017), 0x41);
        // 41 02DB
        gbc.setState(0x1a55, 0x8feb, 0x73d0, 0x8e76, 0xcbcd, 0x3daa, 0x1, 0x1);
        gbc.writeMem(0x1a55, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x8feb);
        EXPECT(gbc.pc(), 0x1a56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02DC
        gbc.setState(0x8bfa, 0x7d35, 0xa590, 0x1780, 0x1c5e, 0x91d3, 0x1, 0x0);
        gbc.writeMem(0x8bfa, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x7d35);
        EXPECT(gbc.pc(), 0x8bfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bfa), 0x41);
        // 41 02DD
        gbc.setState(0xbdcd, 0xb292, 0x9880, 0x794, 0x2b9b, 0x3941, 0x1, 0x0);
        gbc.writeMem(0xbdcd, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xb292);
        EXPECT(gbc.pc(), 0xbdce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdcd), 0x41);
        // 41 02DE
        gbc.setState(0x23b9, 0xcc41, 0x3250, 0xf904, 0xd73, 0x754d, 0x1, 0x0);
        gbc.writeMem(0x23b9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xcc41);
        EXPECT(gbc.pc(), 0x23ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02DF
        gbc.setState(0xc4ac, 0x9479, 0x51f0, 0x29a4, 0x6289, 0x8dfe, 0x1, 0x1);
        gbc.writeMem(0xc4ac, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x9479);
        EXPECT(gbc.pc(), 0xc4ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4ac), 0x41);
        // 41 02E0
        gbc.setState(0x48d, 0x7126, 0x7990, 0x75c9, 0xfca9, 0x7f6f, 0x1, 0x0);
        gbc.writeMem(0x48d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x7126);
        EXPECT(gbc.pc(), 0x48e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02E1
        gbc.setState(0x1323, 0x6ee0, 0xe430, 0xae18, 0x7664, 0xf8d6, 0x1, 0x0);
        gbc.writeMem(0x1323, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x6ee0);
        EXPECT(gbc.pc(), 0x1324);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 02E2
        gbc.setState(0xa5db, 0x6d31, 0xe50, 0x4589, 0x92d5, 0xd5f, 0x0, 0x1);
        gbc.writeMem(0xa5db, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x6d31);
        EXPECT(gbc.pc(), 0xa5dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5db), 0x41);
        // 41 02E3
        gbc.setState(0x7fdb, 0x71f, 0x82d0, 0xca8, 0x2ed, 0xa91b, 0x1, 0x1);
        gbc.writeMem(0x7fdb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x71f);
        EXPECT(gbc.pc(), 0x7fdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02E4
        gbc.setState(0xdb60, 0xa177, 0x2d70, 0xdd69, 0x64b6, 0xd316, 0x0, 0x1);
        gbc.writeMem(0xdb60, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xa177);
        EXPECT(gbc.pc(), 0xdb61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb60), 0x41);
        // 41 02E5
        gbc.setState(0x7142, 0xe14d, 0x17a0, 0x6650, 0x819, 0x5642, 0x0, 0x0);
        gbc.writeMem(0x7142, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xe14d);
        EXPECT(gbc.pc(), 0x7143);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02E6
        gbc.setState(0x781, 0x2a24, 0x43a0, 0x95d5, 0x51a, 0xf71e, 0x0, 0x0);
        gbc.writeMem(0x781, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x2a24);
        EXPECT(gbc.pc(), 0x782);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02E7
        gbc.setState(0x8701, 0x4013, 0x3460, 0x5fbc, 0x2526, 0x974e, 0x0, 0x0);
        gbc.writeMem(0x8701, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x4013);
        EXPECT(gbc.pc(), 0x8702);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8701), 0x41);
        // 41 02E8
        gbc.setState(0x11b, 0x61d3, 0x4f10, 0xf03f, 0xe6e2, 0x609, 0x1, 0x1);
        gbc.writeMem(0x11b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x61d3);
        EXPECT(gbc.pc(), 0x11c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02E9
        gbc.setState(0x8242, 0xad05, 0x99d0, 0xe307, 0xe530, 0x3b66, 0x0, 0x1);
        gbc.writeMem(0x8242, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xad05);
        EXPECT(gbc.pc(), 0x8243);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8242), 0x41);
        // 41 02EA
        gbc.setState(0x6d9d, 0xfc38, 0xdab0, 0x6fe3, 0xa243, 0x7205, 0x0, 0x1);
        gbc.writeMem(0x6d9d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xfc38);
        EXPECT(gbc.pc(), 0x6d9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 02EB
        gbc.setState(0xce4d, 0x4bf2, 0xd3a0, 0x6201, 0xa82f, 0x4246, 0x0, 0x1);
        gbc.writeMem(0xce4d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4bf2);
        EXPECT(gbc.pc(), 0xce4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce4d), 0x41);
        // 41 02EC
        gbc.setState(0xc74a, 0xed63, 0x3be0, 0xa974, 0x4481, 0x8631, 0x1, 0x1);
        gbc.writeMem(0xc74a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xed63);
        EXPECT(gbc.pc(), 0xc74b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc74a), 0x41);
        // 41 02ED
        gbc.setState(0x2660, 0xc846, 0xa5c0, 0xdd95, 0xd81b, 0xa1dd, 0x1, 0x0);
        gbc.writeMem(0x2660, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xc846);
        EXPECT(gbc.pc(), 0x2661);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 02EE
        gbc.setState(0xde0, 0x661f, 0xe010, 0x77ab, 0x4f87, 0x3270, 0x0, 0x0);
        gbc.writeMem(0xde0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x661f);
        EXPECT(gbc.pc(), 0xde1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02F0
        gbc.setState(0x11d2, 0xc0ed, 0xffe0, 0xcbbe, 0xdc6d, 0xe610, 0x0, 0x0);
        gbc.writeMem(0x11d2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xc0ed);
        EXPECT(gbc.pc(), 0x11d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 02F1
        gbc.setState(0xd57c, 0xbfe6, 0xccf0, 0x2044, 0x8232, 0x7f3a, 0x0, 0x0);
        gbc.writeMem(0xd57c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xbfe6);
        EXPECT(gbc.pc(), 0xd57d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd57c), 0x41);
        // 41 02F2
        gbc.setState(0xda63, 0xa087, 0xe710, 0x6b63, 0x68d5, 0xfd72, 0x0, 0x1);
        gbc.writeMem(0xda63, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xa087);
        EXPECT(gbc.pc(), 0xda64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda63), 0x41);
        // 41 02F3
        gbc.setState(0xd315, 0xd47, 0x3f70, 0x8adf, 0x5d64, 0x697e, 0x1, 0x1);
        gbc.writeMem(0xd315, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xd47);
        EXPECT(gbc.pc(), 0xd316);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd315), 0x41);
        // 41 02F4
        gbc.setState(0x2012, 0x5b4e, 0x13b0, 0x5033, 0x6319, 0xeac, 0x1, 0x1);
        gbc.writeMem(0x2012, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x5b4e);
        EXPECT(gbc.pc(), 0x2013);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 02F5
        gbc.setState(0x60fa, 0x9243, 0xce90, 0x731c, 0xe8b3, 0x96f1, 0x0, 0x0);
        gbc.writeMem(0x60fa, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x9243);
        EXPECT(gbc.pc(), 0x60fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 02F6
        gbc.setState(0xdd2, 0x7976, 0x9900, 0x2cd3, 0x166d, 0x70ed, 0x0, 0x0);
        gbc.writeMem(0xdd2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7976);
        EXPECT(gbc.pc(), 0xdd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 02F7
        gbc.setState(0xdf36, 0xc512, 0x3730, 0x74f1, 0x98f4, 0xfaf9, 0x1, 0x0);
        gbc.writeMem(0xdf36, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xc512);
        EXPECT(gbc.pc(), 0xdf37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf36), 0x41);
        // 41 02F8
        gbc.setState(0x99a8, 0x6b54, 0x8eb0, 0xcdf, 0x3d93, 0xc3f8, 0x1, 0x0);
        gbc.writeMem(0x99a8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x6b54);
        EXPECT(gbc.pc(), 0x99a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99a8), 0x41);
        // 41 02F9
        gbc.setState(0xa4a3, 0x2664, 0xcfd0, 0xae7e, 0xed36, 0xae35, 0x0, 0x0);
        gbc.writeMem(0xa4a3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x2664);
        EXPECT(gbc.pc(), 0xa4a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4a3), 0x41);
        // 41 02FA
        gbc.setState(0x1339, 0x1bdf, 0x8bb0, 0x2347, 0x6717, 0xaa7b, 0x1, 0x0);
        gbc.writeMem(0x1339, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x1bdf);
        EXPECT(gbc.pc(), 0x133a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 02FB
        gbc.setState(0x5a89, 0xc468, 0x770, 0x5873, 0xfa1e, 0x9540, 0x1, 0x0);
        gbc.writeMem(0x5a89, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xc468);
        EXPECT(gbc.pc(), 0x5a8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 02FC
        gbc.setState(0x625e, 0xf66b, 0x3140, 0x3681, 0x6f4a, 0xb13a, 0x0, 0x0);
        gbc.writeMem(0x625e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf66b);
        EXPECT(gbc.pc(), 0x625f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 02FD
        gbc.setState(0xa4a7, 0x9083, 0x1110, 0x23ef, 0xb21b, 0x48df, 0x1, 0x1);
        gbc.writeMem(0xa4a7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9083);
        EXPECT(gbc.pc(), 0xa4a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4a7), 0x41);
        // 41 02FF
        gbc.setState(0xc6da, 0xc055, 0x96e0, 0xdfe7, 0x85d9, 0xe598, 0x0, 0x1);
        gbc.writeMem(0xc6da, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xc055);
        EXPECT(gbc.pc(), 0xc6db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6da), 0x41);
        // 41 0300
        gbc.setState(0xa8b3, 0xfd67, 0x4a00, 0x8cc9, 0xeba5, 0x5332, 0x1, 0x1);
        gbc.writeMem(0xa8b3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xfd67);
        EXPECT(gbc.pc(), 0xa8b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8b3), 0x41);
        // 41 0301
        gbc.setState(0xcc4, 0xae4e, 0x2c60, 0x7749, 0xca1a, 0x53ee, 0x1, 0x1);
        gbc.writeMem(0xcc4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xae4e);
        EXPECT(gbc.pc(), 0xcc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0302
        gbc.setState(0xee60, 0x5c5e, 0xf890, 0x1019, 0x65e0, 0xf40d, 0x0, 0x1);
        gbc.writeMem(0xee60, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x5c5e);
        EXPECT(gbc.pc(), 0xee61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee60), 0x41);
        // 41 0303
        gbc.setState(0x29a4, 0xe5a2, 0x5530, 0x80c3, 0xb682, 0xb27a, 0x0, 0x0);
        gbc.writeMem(0x29a4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xe5a2);
        EXPECT(gbc.pc(), 0x29a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0304
        gbc.setState(0x68a0, 0x1f63, 0x9360, 0x26bb, 0x3dd7, 0x42, 0x0, 0x0);
        gbc.writeMem(0x68a0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x1f63);
        EXPECT(gbc.pc(), 0x68a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0305
        gbc.setState(0xbb5, 0x2710, 0x3640, 0x8008, 0x3f21, 0x786e, 0x1, 0x0);
        gbc.writeMem(0xbb5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x2710);
        EXPECT(gbc.pc(), 0xbb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0306
        gbc.setState(0xc27, 0xdc88, 0x5d80, 0xc0ec, 0x6a41, 0x40f7, 0x0, 0x0);
        gbc.writeMem(0xc27, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xdc88);
        EXPECT(gbc.pc(), 0xc28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0307
        gbc.setState(0x2938, 0xe5b6, 0x2410, 0x5056, 0x9fd8, 0xf669, 0x1, 0x0);
        gbc.writeMem(0x2938, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xe5b6);
        EXPECT(gbc.pc(), 0x2939);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0309
        gbc.setState(0xdc56, 0x4dd9, 0x8710, 0x4bdf, 0x481b, 0x500e, 0x0, 0x0);
        gbc.writeMem(0xdc56, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x4dd9);
        EXPECT(gbc.pc(), 0xdc57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc56), 0x41);
        // 41 030A
        gbc.setState(0x840d, 0xb1b9, 0x9aa0, 0x2fcb, 0xe1df, 0xd9d0, 0x0, 0x1);
        gbc.writeMem(0x840d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xb1b9);
        EXPECT(gbc.pc(), 0x840e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x840d), 0x41);
        // 41 030B
        gbc.setState(0xaaef, 0x5f4e, 0xab80, 0x1e36, 0xb256, 0x2ab3, 0x0, 0x0);
        gbc.writeMem(0xaaef, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x5f4e);
        EXPECT(gbc.pc(), 0xaaf0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaef), 0x41);
        // 41 030C
        gbc.setState(0xab18, 0x74db, 0xa5a0, 0xb262, 0x5f83, 0x5080, 0x0, 0x1);
        gbc.writeMem(0xab18, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x74db);
        EXPECT(gbc.pc(), 0xab19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab18), 0x41);
        // 41 030D
        gbc.setState(0xab3f, 0x2e12, 0x3ac0, 0x2c80, 0x4098, 0x2868, 0x1, 0x1);
        gbc.writeMem(0xab3f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x2e12);
        EXPECT(gbc.pc(), 0xab40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab3f), 0x41);
        // 41 030E
        gbc.setState(0x75b1, 0x6949, 0x380, 0xbd00, 0x4688, 0x7d85, 0x1, 0x0);
        gbc.writeMem(0x75b1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x6949);
        EXPECT(gbc.pc(), 0x75b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 030F
        gbc.setState(0xf0e, 0xafd2, 0x45b0, 0xb97b, 0x445b, 0x941a, 0x0, 0x1);
        gbc.writeMem(0xf0e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xafd2);
        EXPECT(gbc.pc(), 0xf0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0310
        gbc.setState(0xe0eb, 0xb912, 0x32f0, 0x4427, 0x91a9, 0xc8f0, 0x0, 0x1);
        gbc.writeMem(0xe0eb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xb912);
        EXPECT(gbc.pc(), 0xe0ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0eb), 0x41);
        // 41 0311
        gbc.setState(0x81c6, 0x4d05, 0x5310, 0x9edc, 0xf90b, 0x5493, 0x0, 0x0);
        gbc.writeMem(0x81c6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x4d05);
        EXPECT(gbc.pc(), 0x81c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81c6), 0x41);
        // 41 0312
        gbc.setState(0x8061, 0x85ec, 0x89e0, 0x793d, 0xc34a, 0x5679, 0x1, 0x1);
        gbc.writeMem(0x8061, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x85ec);
        EXPECT(gbc.pc(), 0x8062);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8061), 0x41);
        // 41 0313
        gbc.setState(0x2517, 0xbdf2, 0x6c70, 0x867f, 0xa213, 0x1158, 0x0, 0x0);
        gbc.writeMem(0x2517, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xbdf2);
        EXPECT(gbc.pc(), 0x2518);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0314
        gbc.setState(0x8275, 0x7a0f, 0xcf90, 0x5ab9, 0xc3d0, 0xecb0, 0x0, 0x1);
        gbc.writeMem(0x8275, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7a0f);
        EXPECT(gbc.pc(), 0x8276);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8275), 0x41);
        // 41 0315
        gbc.setState(0x1fa2, 0x8387, 0x40a0, 0xdec7, 0x39ae, 0x434e, 0x1, 0x0);
        gbc.writeMem(0x1fa2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x8387);
        EXPECT(gbc.pc(), 0x1fa3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0316
        gbc.setState(0xd00, 0x6d1e, 0x6f10, 0xf264, 0x1821, 0x2a2b, 0x1, 0x0);
        gbc.writeMem(0xd00, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x6d1e);
        EXPECT(gbc.pc(), 0xd01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0317
        gbc.setState(0x7cb3, 0x6b8d, 0x25f0, 0x83fc, 0xd69c, 0xd4f4, 0x0, 0x1);
        gbc.writeMem(0x7cb3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x6b8d);
        EXPECT(gbc.pc(), 0x7cb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0319
        gbc.setState(0x6bf4, 0x4612, 0x6f40, 0x5897, 0x922a, 0xc12b, 0x0, 0x0);
        gbc.writeMem(0x6bf4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x4612);
        EXPECT(gbc.pc(), 0x6bf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 031A
        gbc.setState(0xe03d, 0xda7c, 0x64b0, 0xed8b, 0xc8ef, 0xf24f, 0x1, 0x0);
        gbc.writeMem(0xe03d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xda7c);
        EXPECT(gbc.pc(), 0xe03e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe03d), 0x41);
        // 41 031B
        gbc.setState(0x88c7, 0x5e40, 0xac80, 0x5863, 0x95d3, 0xf85c, 0x0, 0x0);
        gbc.writeMem(0x88c7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x5e40);
        EXPECT(gbc.pc(), 0x88c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88c7), 0x41);
        // 41 031C
        gbc.setState(0xd0c1, 0xdf80, 0x7220, 0x78a4, 0x3aaa, 0xd29f, 0x0, 0x0);
        gbc.writeMem(0xd0c1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xdf80);
        EXPECT(gbc.pc(), 0xd0c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0c1), 0x41);
        // 41 031D
        gbc.setState(0xd766, 0x8a8a, 0xb770, 0x3ac, 0x93b7, 0x3c5f, 0x0, 0x1);
        gbc.writeMem(0xd766, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x8a8a);
        EXPECT(gbc.pc(), 0xd767);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd766), 0x41);
        // 41 031E
        gbc.setState(0x59eb, 0x423d, 0xa380, 0xa061, 0x6610, 0x20cb, 0x1, 0x1);
        gbc.writeMem(0x59eb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x423d);
        EXPECT(gbc.pc(), 0x59ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 031F
        gbc.setState(0xd025, 0x2052, 0xbbb0, 0x44dc, 0x48d9, 0xad52, 0x1, 0x1);
        gbc.writeMem(0xd025, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x2052);
        EXPECT(gbc.pc(), 0xd026);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd025), 0x41);
        // 41 0320
        gbc.setState(0x27d6, 0xfabe, 0xa1f0, 0xf492, 0x4bb6, 0x4f25, 0x0, 0x0);
        gbc.writeMem(0x27d6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xfabe);
        EXPECT(gbc.pc(), 0x27d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0321
        gbc.setState(0x6eec, 0xc6f4, 0xc1b0, 0x389, 0x370d, 0x1081, 0x0, 0x1);
        gbc.writeMem(0x6eec, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xc6f4);
        EXPECT(gbc.pc(), 0x6eed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0322
        gbc.setState(0xbfc2, 0xfa87, 0xf630, 0xa1f7, 0x6d82, 0xdb9f, 0x0, 0x1);
        gbc.writeMem(0xbfc2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xfa87);
        EXPECT(gbc.pc(), 0xbfc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfc2), 0x41);
        // 41 0323
        gbc.setState(0x9dcb, 0xac45, 0x2ce0, 0x7daa, 0x8d67, 0x313c, 0x0, 0x1);
        gbc.writeMem(0x9dcb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xac45);
        EXPECT(gbc.pc(), 0x9dcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9dcb), 0x41);
        // 41 0324
        gbc.setState(0x952e, 0x8dd4, 0x6d10, 0xd631, 0xc14c, 0xa1a0, 0x1, 0x0);
        gbc.writeMem(0x952e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x8dd4);
        EXPECT(gbc.pc(), 0x952f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x952e), 0x41);
        // 41 0325
        gbc.setState(0xa35a, 0x47c9, 0x71f0, 0x898e, 0x6618, 0xdfb8, 0x1, 0x0);
        gbc.writeMem(0xa35a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x47c9);
        EXPECT(gbc.pc(), 0xa35b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa35a), 0x41);
        // 41 0326
        gbc.setState(0x567b, 0x7c76, 0x1d60, 0xbd8c, 0xbcc1, 0x19a8, 0x1, 0x1);
        gbc.writeMem(0x567b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x7c76);
        EXPECT(gbc.pc(), 0x567c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0327
        gbc.setState(0x5e33, 0xc864, 0x230, 0xaae7, 0x5aab, 0xad96, 0x1, 0x1);
        gbc.writeMem(0x5e33, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xc864);
        EXPECT(gbc.pc(), 0x5e34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0328
        gbc.setState(0x3c81, 0x8ea8, 0xc600, 0x5043, 0x2055, 0x355c, 0x1, 0x0);
        gbc.writeMem(0x3c81, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x8ea8);
        EXPECT(gbc.pc(), 0x3c82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0329
        gbc.setState(0xb0bf, 0xf1a, 0xde0, 0x2d76, 0x7ebc, 0xe354, 0x1, 0x0);
        gbc.writeMem(0xb0bf, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xf1a);
        EXPECT(gbc.pc(), 0xb0c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0bf), 0x41);
        // 41 032A
        gbc.setState(0x461d, 0xde55, 0x1e40, 0x2d49, 0x19f0, 0xb9f9, 0x1, 0x0);
        gbc.writeMem(0x461d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xde55);
        EXPECT(gbc.pc(), 0x461e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 032B
        gbc.setState(0xbc50, 0xed32, 0xddc0, 0xf7e4, 0x133, 0xdb23, 0x0, 0x1);
        gbc.writeMem(0xbc50, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xed32);
        EXPECT(gbc.pc(), 0xbc51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc50), 0x41);
        // 41 032C
        gbc.setState(0x172f, 0x3221, 0xf600, 0x4aa0, 0xc6ad, 0xc251, 0x0, 0x0);
        gbc.writeMem(0x172f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x3221);
        EXPECT(gbc.pc(), 0x1730);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 032D
        gbc.setState(0xe3c2, 0xb20, 0x8b40, 0xa596, 0x8c3b, 0xdcf3, 0x0, 0x0);
        gbc.writeMem(0xe3c2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xb20);
        EXPECT(gbc.pc(), 0xe3c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3c2), 0x41);
        // 41 032E
        gbc.setState(0x9ece, 0xaac0, 0x8fe0, 0xba58, 0xa8db, 0x19e2, 0x1, 0x0);
        gbc.writeMem(0x9ece, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xaac0);
        EXPECT(gbc.pc(), 0x9ecf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ece), 0x41);
        // 41 032F
        gbc.setState(0x2ef3, 0x2f97, 0x520, 0x63f1, 0x6375, 0x845d, 0x0, 0x1);
        gbc.writeMem(0x2ef3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x2f97);
        EXPECT(gbc.pc(), 0x2ef4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0330
        gbc.setState(0xb226, 0x2987, 0x10a0, 0x8f76, 0x5147, 0x8bf1, 0x1, 0x1);
        gbc.writeMem(0xb226, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x2987);
        EXPECT(gbc.pc(), 0xb227);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb226), 0x41);
        // 41 0332
        gbc.setState(0x2c5e, 0xa086, 0x810, 0xd874, 0x60cb, 0xc655, 0x0, 0x1);
        gbc.writeMem(0x2c5e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xa086);
        EXPECT(gbc.pc(), 0x2c5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0333
        gbc.setState(0xc485, 0xe25a, 0x51d0, 0x585f, 0x281a, 0x17fd, 0x0, 0x1);
        gbc.writeMem(0xc485, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xe25a);
        EXPECT(gbc.pc(), 0xc486);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc485), 0x41);
        // 41 0335
        gbc.setState(0x7811, 0x287e, 0x2e0, 0x3948, 0xaec9, 0xcb79, 0x0, 0x1);
        gbc.writeMem(0x7811, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x287e);
        EXPECT(gbc.pc(), 0x7812);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0336
        gbc.setState(0x8ad9, 0x2098, 0xcb50, 0x55fb, 0xa51f, 0x3799, 0x1, 0x1);
        gbc.writeMem(0x8ad9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x2098);
        EXPECT(gbc.pc(), 0x8ada);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ad9), 0x41);
        // 41 0337
        gbc.setState(0x599e, 0x83de, 0x6cd0, 0x890, 0xcdb2, 0x1fd1, 0x1, 0x0);
        gbc.writeMem(0x599e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x83de);
        EXPECT(gbc.pc(), 0x599f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0338
        gbc.setState(0x4aa8, 0x42aa, 0x2300, 0xf30e, 0x968e, 0x46b3, 0x0, 0x0);
        gbc.writeMem(0x4aa8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x42aa);
        EXPECT(gbc.pc(), 0x4aa9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0339
        gbc.setState(0xbac9, 0xe859, 0x9170, 0x3f9, 0xf480, 0x94d0, 0x0, 0x1);
        gbc.writeMem(0xbac9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xe859);
        EXPECT(gbc.pc(), 0xbaca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbac9), 0x41);
        // 41 033A
        gbc.setState(0xa87c, 0x5c0f, 0xd570, 0x633, 0xb6e4, 0x8603, 0x1, 0x0);
        gbc.writeMem(0xa87c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x5c0f);
        EXPECT(gbc.pc(), 0xa87d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa87c), 0x41);
        // 41 033B
        gbc.setState(0x582b, 0x4c9f, 0xaad0, 0xf4b4, 0x9c49, 0x11a4, 0x1, 0x1);
        gbc.writeMem(0x582b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x4c9f);
        EXPECT(gbc.pc(), 0x582c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 033C
        gbc.setState(0xa656, 0x7316, 0x6f0, 0xbc35, 0xb3be, 0x93ef, 0x1, 0x0);
        gbc.writeMem(0xa656, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x7316);
        EXPECT(gbc.pc(), 0xa657);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa656), 0x41);
        // 41 033D
        gbc.setState(0x3bd3, 0x9daa, 0x5820, 0xa91d, 0x6108, 0x8f39, 0x0, 0x1);
        gbc.writeMem(0x3bd3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x9daa);
        EXPECT(gbc.pc(), 0x3bd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 033E
        gbc.setState(0xb18c, 0xe058, 0xa850, 0x1363, 0xa6af, 0xda61, 0x1, 0x0);
        gbc.writeMem(0xb18c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xe058);
        EXPECT(gbc.pc(), 0xb18d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb18c), 0x41);
        // 41 033F
        gbc.setState(0x9b8b, 0x6c55, 0x5c80, 0xa936, 0x3770, 0x65d, 0x0, 0x0);
        gbc.writeMem(0x9b8b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x6c55);
        EXPECT(gbc.pc(), 0x9b8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b8b), 0x41);
        // 41 0340
        gbc.setState(0xc16f, 0xb811, 0x5350, 0x3338, 0x267e, 0xc6e4, 0x1, 0x1);
        gbc.writeMem(0xc16f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xb811);
        EXPECT(gbc.pc(), 0xc170);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc16f), 0x41);
        // 41 0341
        gbc.setState(0x1f9d, 0xd02f, 0x9f90, 0xeaf6, 0x6e52, 0x965, 0x1, 0x0);
        gbc.writeMem(0x1f9d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xd02f);
        EXPECT(gbc.pc(), 0x1f9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0342
        gbc.setState(0x9306, 0xc4c3, 0xc0, 0xb90f, 0xcdb7, 0x27ce, 0x1, 0x1);
        gbc.writeMem(0x9306, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xc4c3);
        EXPECT(gbc.pc(), 0x9307);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9306), 0x41);
        // 41 0343
        gbc.setState(0x3f87, 0xb709, 0x79e0, 0x7c43, 0xadec, 0xba54, 0x0, 0x0);
        gbc.writeMem(0x3f87, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xb709);
        EXPECT(gbc.pc(), 0x3f88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0344
        gbc.setState(0x3d2a, 0xf542, 0xdc40, 0x6621, 0x2eb, 0x51b8, 0x1, 0x0);
        gbc.writeMem(0x3d2a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xf542);
        EXPECT(gbc.pc(), 0x3d2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0345
        gbc.setState(0x1d9a, 0x5d9a, 0xe3e0, 0x3390, 0xf857, 0x97d2, 0x0, 0x0);
        gbc.writeMem(0x1d9a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x5d9a);
        EXPECT(gbc.pc(), 0x1d9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0346
        gbc.setState(0xc8a2, 0x5fca, 0x77d0, 0x8cb4, 0x4e52, 0xbf9, 0x1, 0x0);
        gbc.writeMem(0xc8a2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x5fca);
        EXPECT(gbc.pc(), 0xc8a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8a2), 0x41);
        // 41 0347
        gbc.setState(0xac2e, 0x4e86, 0xe640, 0xe8e2, 0x67b5, 0x5ecc, 0x1, 0x1);
        gbc.writeMem(0xac2e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x4e86);
        EXPECT(gbc.pc(), 0xac2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac2e), 0x41);
        // 41 0348
        gbc.setState(0xc93d, 0xdfbb, 0xc620, 0x6544, 0x312, 0x575b, 0x0, 0x1);
        gbc.writeMem(0xc93d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xdfbb);
        EXPECT(gbc.pc(), 0xc93e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc93d), 0x41);
        // 41 0349
        gbc.setState(0xae01, 0x4143, 0x7690, 0xfda1, 0xf700, 0x570a, 0x1, 0x0);
        gbc.writeMem(0xae01, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x4143);
        EXPECT(gbc.pc(), 0xae02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae01), 0x41);
        // 41 034A
        gbc.setState(0xe2bb, 0x7be1, 0x1650, 0x1b65, 0xcf2, 0xa800, 0x1, 0x0);
        gbc.writeMem(0xe2bb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x7be1);
        EXPECT(gbc.pc(), 0xe2bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2bb), 0x41);
        // 41 034B
        gbc.setState(0xbb11, 0xad5d, 0x8030, 0x459a, 0x9f7, 0xf2f, 0x1, 0x1);
        gbc.writeMem(0xbb11, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xad5d);
        EXPECT(gbc.pc(), 0xbb12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb11), 0x41);
        // 41 034C
        gbc.setState(0x3799, 0x96db, 0x2500, 0xec1a, 0x3034, 0x9c9a, 0x0, 0x1);
        gbc.writeMem(0x3799, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x96db);
        EXPECT(gbc.pc(), 0x379a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 034D
        gbc.setState(0x1309, 0x7641, 0x4510, 0xce88, 0x67a6, 0xbe3c, 0x1, 0x1);
        gbc.writeMem(0x1309, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x7641);
        EXPECT(gbc.pc(), 0x130a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 034E
        gbc.setState(0x6a60, 0xf5aa, 0xe930, 0xc429, 0xc841, 0xef56, 0x1, 0x0);
        gbc.writeMem(0x6a60, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xf5aa);
        EXPECT(gbc.pc(), 0x6a61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 034F
        gbc.setState(0x67c3, 0x1b1, 0xaea0, 0x9737, 0xce7a, 0x99ba, 0x0, 0x0);
        gbc.writeMem(0x67c3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x1b1);
        EXPECT(gbc.pc(), 0x67c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0350
        gbc.setState(0x4a1f, 0x9052, 0x5d00, 0x89b1, 0x606f, 0x86, 0x0, 0x1);
        gbc.writeMem(0x4a1f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x9052);
        EXPECT(gbc.pc(), 0x4a20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0351
        gbc.setState(0x6b0d, 0xc02d, 0xf860, 0xe41a, 0x9804, 0xa427, 0x0, 0x0);
        gbc.writeMem(0x6b0d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xc02d);
        EXPECT(gbc.pc(), 0x6b0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0352
        gbc.setState(0x6ec4, 0xf5fe, 0x28c0, 0x4140, 0x8622, 0xed2c, 0x1, 0x0);
        gbc.writeMem(0x6ec4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xf5fe);
        EXPECT(gbc.pc(), 0x6ec5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0353
        gbc.setState(0x3799, 0x6273, 0x4240, 0xfda4, 0xc1eb, 0xdfe, 0x0, 0x1);
        gbc.writeMem(0x3799, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x6273);
        EXPECT(gbc.pc(), 0x379a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0354
        gbc.setState(0x5457, 0xe5be, 0x3560, 0xdf34, 0x64d6, 0xff06, 0x0, 0x1);
        gbc.writeMem(0x5457, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xe5be);
        EXPECT(gbc.pc(), 0x5458);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0355
        gbc.setState(0x27c, 0xe650, 0xd6d0, 0x42f2, 0x62d, 0xf1bf, 0x0, 0x0);
        gbc.writeMem(0x27c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xe650);
        EXPECT(gbc.pc(), 0x27d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0356
        gbc.setState(0xaf92, 0xf736, 0xccf0, 0xc57b, 0x9b11, 0x76ae, 0x0, 0x0);
        gbc.writeMem(0xaf92, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xf736);
        EXPECT(gbc.pc(), 0xaf93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf92), 0x41);
        // 41 0357
        gbc.setState(0xaa06, 0x30d2, 0xc480, 0x6d3b, 0xd812, 0x85a, 0x1, 0x1);
        gbc.writeMem(0xaa06, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x30d2);
        EXPECT(gbc.pc(), 0xaa07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa06), 0x41);
        // 41 0358
        gbc.setState(0x5550, 0x9f1f, 0x3630, 0x331f, 0x459d, 0xcfab, 0x0, 0x1);
        gbc.writeMem(0x5550, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x9f1f);
        EXPECT(gbc.pc(), 0x5551);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0359
        gbc.setState(0x2c07, 0x674f, 0x3710, 0x285d, 0x6394, 0xc8de, 0x0, 0x1);
        gbc.writeMem(0x2c07, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x674f);
        EXPECT(gbc.pc(), 0x2c08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 035A
        gbc.setState(0xcbad, 0x8ba1, 0xf780, 0xd630, 0xa58d, 0xe12b, 0x1, 0x0);
        gbc.writeMem(0xcbad, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x8ba1);
        EXPECT(gbc.pc(), 0xcbae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbad), 0x41);
        // 41 035B
        gbc.setState(0x3331, 0x4778, 0x21d0, 0x13a7, 0x7c23, 0x2246, 0x1, 0x1);
        gbc.writeMem(0x3331, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4778);
        EXPECT(gbc.pc(), 0x3332);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 035C
        gbc.setState(0xdaf5, 0x3c22, 0xf5d0, 0x5655, 0xfef9, 0x640d, 0x1, 0x1);
        gbc.writeMem(0xdaf5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x3c22);
        EXPECT(gbc.pc(), 0xdaf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdaf5), 0x41);
        // 41 035D
        gbc.setState(0xeeb4, 0xebdc, 0x7510, 0xa215, 0xf490, 0x1de2, 0x0, 0x1);
        gbc.writeMem(0xeeb4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xebdc);
        EXPECT(gbc.pc(), 0xeeb5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeeb4), 0x41);
        // 41 035E
        gbc.setState(0xbe8f, 0xe73e, 0x3940, 0x4337, 0xd37f, 0x952d, 0x1, 0x0);
        gbc.writeMem(0xbe8f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xe73e);
        EXPECT(gbc.pc(), 0xbe90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe8f), 0x41);
        // 41 0361
        gbc.setState(0x38d2, 0x723a, 0x8c70, 0x1ca2, 0xcc87, 0xd8cd, 0x0, 0x0);
        gbc.writeMem(0x38d2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x723a);
        EXPECT(gbc.pc(), 0x38d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0362
        gbc.setState(0xa33, 0x1d80, 0x7a20, 0xdb29, 0x92d5, 0xae18, 0x0, 0x0);
        gbc.writeMem(0xa33, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x1d80);
        EXPECT(gbc.pc(), 0xa34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0363
        gbc.setState(0x2efb, 0x9d86, 0x8720, 0x5b80, 0x11b4, 0x8f36, 0x1, 0x1);
        gbc.writeMem(0x2efb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x9d86);
        EXPECT(gbc.pc(), 0x2efc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0364
        gbc.setState(0xb02d, 0x30c3, 0x71a0, 0xb371, 0x6b33, 0xf551, 0x1, 0x0);
        gbc.writeMem(0xb02d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x30c3);
        EXPECT(gbc.pc(), 0xb02e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb02d), 0x41);
        // 41 0365
        gbc.setState(0x71b0, 0xf556, 0x8c40, 0x3dbb, 0x8804, 0x4aa8, 0x0, 0x1);
        gbc.writeMem(0x71b0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xf556);
        EXPECT(gbc.pc(), 0x71b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0366
        gbc.setState(0xb532, 0x8a8b, 0xb060, 0x35f6, 0x2365, 0x284, 0x0, 0x0);
        gbc.writeMem(0xb532, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x8a8b);
        EXPECT(gbc.pc(), 0xb533);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb532), 0x41);
        // 41 0367
        gbc.setState(0x667a, 0xfde7, 0xcb20, 0x1eb3, 0x444c, 0x1ec6, 0x0, 0x0);
        gbc.writeMem(0x667a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xfde7);
        EXPECT(gbc.pc(), 0x667b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0369
        gbc.setState(0x9c6f, 0xf5b2, 0xf0b0, 0x464, 0x785d, 0x3762, 0x1, 0x0);
        gbc.writeMem(0x9c6f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf5b2);
        EXPECT(gbc.pc(), 0x9c70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c6f), 0x41);
        // 41 036A
        gbc.setState(0x1edb, 0xa65a, 0xfe20, 0x17a7, 0xddec, 0x96cf, 0x1, 0x0);
        gbc.writeMem(0x1edb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xa65a);
        EXPECT(gbc.pc(), 0x1edc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 036B
        gbc.setState(0xc666, 0x96fe, 0x3bc0, 0x754c, 0xf203, 0xc1ef, 0x0, 0x1);
        gbc.writeMem(0xc666, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x96fe);
        EXPECT(gbc.pc(), 0xc667);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc666), 0x41);
        // 41 036C
        gbc.setState(0x624f, 0x118a, 0x6cc0, 0x3562, 0xf0d9, 0x1094, 0x0, 0x0);
        gbc.writeMem(0x624f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x118a);
        EXPECT(gbc.pc(), 0x6250);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 036D
        gbc.setState(0x8949, 0xf9c0, 0x2940, 0xf007, 0x2e5a, 0x705d, 0x1, 0x1);
        gbc.writeMem(0x8949, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xf9c0);
        EXPECT(gbc.pc(), 0x894a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8949), 0x41);
        // 41 036E
        gbc.setState(0xbe4d, 0x57e3, 0x4f20, 0x70cc, 0xc825, 0xbf36, 0x1, 0x1);
        gbc.writeMem(0xbe4d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x57e3);
        EXPECT(gbc.pc(), 0xbe4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe4d), 0x41);
        // 41 036F
        gbc.setState(0x830d, 0xc5df, 0x50a0, 0x197b, 0xf616, 0xf172, 0x0, 0x0);
        gbc.writeMem(0x830d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xc5df);
        EXPECT(gbc.pc(), 0x830e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x830d), 0x41);
        // 41 0370
        gbc.setState(0x7f7d, 0xe492, 0x5150, 0x6622, 0x85b6, 0x7cce, 0x1, 0x0);
        gbc.writeMem(0x7f7d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xe492);
        EXPECT(gbc.pc(), 0x7f7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0371
        gbc.setState(0x1b55, 0x77f4, 0xcae0, 0x21d2, 0x37ec, 0xa6ca, 0x0, 0x0);
        gbc.writeMem(0x1b55, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x77f4);
        EXPECT(gbc.pc(), 0x1b56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0372
        gbc.setState(0x2c9a, 0xf076, 0x2ab0, 0xcfe, 0x2e58, 0x29cd, 0x0, 0x1);
        gbc.writeMem(0x2c9a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf076);
        EXPECT(gbc.pc(), 0x2c9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0373
        gbc.setState(0x2013, 0xd781, 0xb110, 0xeb83, 0x6831, 0xcbdd, 0x0, 0x1);
        gbc.writeMem(0x2013, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xd781);
        EXPECT(gbc.pc(), 0x2014);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0374
        gbc.setState(0x6d18, 0x9b7a, 0xc960, 0xc599, 0x1cf4, 0x9e75, 0x1, 0x0);
        gbc.writeMem(0x6d18, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x9b7a);
        EXPECT(gbc.pc(), 0x6d19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0375
        gbc.setState(0x9ac4, 0x96ae, 0x5430, 0xa92e, 0x34f8, 0xa539, 0x0, 0x1);
        gbc.writeMem(0x9ac4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x96ae);
        EXPECT(gbc.pc(), 0x9ac5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ac4), 0x41);
        // 41 0377
        gbc.setState(0xde19, 0xdaa5, 0x9b80, 0xe3a9, 0x1a29, 0x1adc, 0x0, 0x0);
        gbc.writeMem(0xde19, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xdaa5);
        EXPECT(gbc.pc(), 0xde1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde19), 0x41);
        // 41 0378
        gbc.setState(0x1dd8, 0xe137, 0x4550, 0x3b17, 0xf2, 0xc4fb, 0x0, 0x0);
        gbc.writeMem(0x1dd8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xe137);
        EXPECT(gbc.pc(), 0x1dd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0379
        gbc.setState(0xd44e, 0x9920, 0xecd0, 0xec43, 0xadee, 0x3127, 0x1, 0x0);
        gbc.writeMem(0xd44e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x9920);
        EXPECT(gbc.pc(), 0xd44f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd44e), 0x41);
        // 41 037A
        gbc.setState(0xeb8b, 0xda40, 0x7b20, 0xdb9d, 0x9c23, 0x1671, 0x1, 0x0);
        gbc.writeMem(0xeb8b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xda40);
        EXPECT(gbc.pc(), 0xeb8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb8b), 0x41);
        // 41 037B
        gbc.setState(0xb0aa, 0xb820, 0x2900, 0xa514, 0x6859, 0x1af2, 0x1, 0x0);
        gbc.writeMem(0xb0aa, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xb820);
        EXPECT(gbc.pc(), 0xb0ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0aa), 0x41);
        // 41 037C
        gbc.setState(0x1313, 0xe698, 0x8ee0, 0xc0e8, 0xbd4f, 0x7c17, 0x0, 0x1);
        gbc.writeMem(0x1313, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xe698);
        EXPECT(gbc.pc(), 0x1314);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 037D
        gbc.setState(0x980, 0xd5b3, 0xded0, 0x609e, 0x4a05, 0x2ca2, 0x0, 0x1);
        gbc.writeMem(0x980, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xd5b3);
        EXPECT(gbc.pc(), 0x981);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0380
        gbc.setState(0xbccd, 0x908e, 0x50e0, 0x3a91, 0x99d5, 0x82e9, 0x1, 0x1);
        gbc.writeMem(0xbccd, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x908e);
        EXPECT(gbc.pc(), 0xbcce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbccd), 0x41);
        // 41 0381
        gbc.setState(0x3d51, 0xbcff, 0xcb90, 0xb410, 0xbfcd, 0xa10d, 0x0, 0x0);
        gbc.writeMem(0x3d51, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xbcff);
        EXPECT(gbc.pc(), 0x3d52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0382
        gbc.setState(0x8f2e, 0x9723, 0xe6d0, 0x2d1a, 0x96cf, 0xbaa3, 0x0, 0x0);
        gbc.writeMem(0x8f2e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x9723);
        EXPECT(gbc.pc(), 0x8f2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f2e), 0x41);
        // 41 0384
        gbc.setState(0x6a8d, 0x9e9d, 0x9f80, 0x3fef, 0x32e0, 0xbb4a, 0x1, 0x1);
        gbc.writeMem(0x6a8d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x9e9d);
        EXPECT(gbc.pc(), 0x6a8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0385
        gbc.setState(0xacf2, 0xdb7a, 0x6fe0, 0x56a9, 0xa615, 0x1650, 0x1, 0x0);
        gbc.writeMem(0xacf2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xdb7a);
        EXPECT(gbc.pc(), 0xacf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacf2), 0x41);
        // 41 0386
        gbc.setState(0x41ee, 0x9c1f, 0x6430, 0x9ce3, 0xc920, 0xd26, 0x0, 0x1);
        gbc.writeMem(0x41ee, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x9c1f);
        EXPECT(gbc.pc(), 0x41ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 0387
        gbc.setState(0x8bb6, 0xa5ff, 0xe6c0, 0x946a, 0x878e, 0x43ef, 0x1, 0x1);
        gbc.writeMem(0x8bb6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xa5ff);
        EXPECT(gbc.pc(), 0x8bb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bb6), 0x41);
        // 41 0388
        gbc.setState(0xa796, 0x707b, 0x36e0, 0xfc57, 0x4258, 0xd7cc, 0x0, 0x1);
        gbc.writeMem(0xa796, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x707b);
        EXPECT(gbc.pc(), 0xa797);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa796), 0x41);
        // 41 0389
        gbc.setState(0x8bba, 0x51fc, 0x2df0, 0x6077, 0x72e3, 0xd3e2, 0x1, 0x0);
        gbc.writeMem(0x8bba, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x51fc);
        EXPECT(gbc.pc(), 0x8bbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bba), 0x41);
        // 41 038A
        gbc.setState(0xece9, 0x9e0f, 0x6170, 0xf1bc, 0x9b3f, 0xd43a, 0x1, 0x0);
        gbc.writeMem(0xece9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x9e0f);
        EXPECT(gbc.pc(), 0xecea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xece9), 0x41);
        // 41 038B
        gbc.setState(0x74f8, 0xe1b2, 0xf450, 0x2e89, 0xfbda, 0xcbd7, 0x0, 0x1);
        gbc.writeMem(0x74f8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xe1b2);
        EXPECT(gbc.pc(), 0x74f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 038C
        gbc.setState(0x5bc2, 0x95f2, 0x45e0, 0x5ba, 0xde07, 0x370e, 0x1, 0x0);
        gbc.writeMem(0x5bc2, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x95f2);
        EXPECT(gbc.pc(), 0x5bc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 038D
        gbc.setState(0xb34c, 0x43d1, 0x9170, 0x9b4, 0x2a48, 0x81a6, 0x1, 0x0);
        gbc.writeMem(0xb34c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x43d1);
        EXPECT(gbc.pc(), 0xb34d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb34c), 0x41);
        // 41 038E
        gbc.setState(0x36ce, 0x35e6, 0x1d50, 0x9e25, 0x2110, 0xa932, 0x1, 0x0);
        gbc.writeMem(0x36ce, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x35e6);
        EXPECT(gbc.pc(), 0x36cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 038F
        gbc.setState(0x1dca, 0x4ae3, 0x5240, 0x821, 0xadd3, 0xc638, 0x1, 0x1);
        gbc.writeMem(0x1dca, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x4ae3);
        EXPECT(gbc.pc(), 0x1dcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0390
        gbc.setState(0x4558, 0xaf74, 0xa950, 0xb259, 0xfade, 0x8232, 0x0, 0x0);
        gbc.writeMem(0x4558, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xaf74);
        EXPECT(gbc.pc(), 0x4559);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0391
        gbc.setState(0xe05f, 0x4a96, 0xe560, 0x2d36, 0x6047, 0x42bc, 0x0, 0x0);
        gbc.writeMem(0xe05f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x4a96);
        EXPECT(gbc.pc(), 0xe060);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe05f), 0x41);
        // 41 0392
        gbc.setState(0x82e, 0x4fa7, 0x7900, 0x1037, 0xfef6, 0xbca7, 0x1, 0x1);
        gbc.writeMem(0x82e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x4fa7);
        EXPECT(gbc.pc(), 0x82f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0393
        gbc.setState(0xef3, 0x9966, 0x3480, 0x8252, 0x7e88, 0xee88, 0x0, 0x0);
        gbc.writeMem(0xef3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x9966);
        EXPECT(gbc.pc(), 0xef4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0394
        gbc.setState(0x622d, 0x3f3c, 0x7900, 0xaa34, 0xa068, 0xec8d, 0x1, 0x0);
        gbc.writeMem(0x622d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x3f3c);
        EXPECT(gbc.pc(), 0x622e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 0395
        gbc.setState(0xc5ff, 0x96ef, 0x2de0, 0x797d, 0x7618, 0x2b2, 0x0, 0x1);
        gbc.writeMem(0xc5ff, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x96ef);
        EXPECT(gbc.pc(), 0xc600);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5ff), 0x41);
        // 41 0396
        gbc.setState(0xe507, 0xd153, 0xd770, 0xce96, 0xa4d3, 0xf9db, 0x1, 0x0);
        gbc.writeMem(0xe507, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xd153);
        EXPECT(gbc.pc(), 0xe508);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe507), 0x41);
        // 41 0397
        gbc.setState(0x5f4f, 0x72f4, 0x5220, 0xcf18, 0x50a1, 0xcf72, 0x1, 0x0);
        gbc.writeMem(0x5f4f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x72f4);
        EXPECT(gbc.pc(), 0x5f50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 0398
        gbc.setState(0x2b4, 0x4e18, 0xccd0, 0x66d2, 0xbb5d, 0x7ff5, 0x0, 0x0);
        gbc.writeMem(0x2b4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x4e18);
        EXPECT(gbc.pc(), 0x2b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 0399
        gbc.setState(0x9acd, 0xfc0b, 0x9c10, 0x90e5, 0xc1ab, 0x7f89, 0x1, 0x0);
        gbc.writeMem(0x9acd, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xfc0b);
        EXPECT(gbc.pc(), 0x9ace);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9acd), 0x41);
        // 41 039A
        gbc.setState(0xda00, 0xf191, 0x2140, 0xdc09, 0x7c23, 0x5ec3, 0x1, 0x1);
        gbc.writeMem(0xda00, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xf191);
        EXPECT(gbc.pc(), 0xda01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda00), 0x41);
        // 41 039B
        gbc.setState(0x9213, 0x570e, 0xd6d0, 0xc9f1, 0x7562, 0x8f97, 0x1, 0x1);
        gbc.writeMem(0x9213, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x570e);
        EXPECT(gbc.pc(), 0x9214);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9213), 0x41);
        // 41 039C
        gbc.setState(0x9306, 0xcdad, 0x4f60, 0x39d4, 0xc215, 0x7e5d, 0x1, 0x1);
        gbc.writeMem(0x9306, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xcdad);
        EXPECT(gbc.pc(), 0x9307);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9306), 0x41);
        // 41 039D
        gbc.setState(0xe96e, 0x6a17, 0xcd90, 0x436b, 0x6420, 0x93ba, 0x0, 0x0);
        gbc.writeMem(0xe96e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x6a17);
        EXPECT(gbc.pc(), 0xe96f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe96e), 0x41);
        // 41 039E
        gbc.setState(0x22e1, 0x6b17, 0xb2e0, 0x8c25, 0x3e52, 0x8896, 0x0, 0x0);
        gbc.writeMem(0x22e1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x6b17);
        EXPECT(gbc.pc(), 0x22e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 039F
        gbc.setState(0x1b76, 0x4386, 0xc9c0, 0x896, 0x6170, 0x5d5f, 0x0, 0x0);
        gbc.writeMem(0x1b76, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x4386);
        EXPECT(gbc.pc(), 0x1b77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 03A0
        gbc.setState(0x94f8, 0xd922, 0xd500, 0x72d7, 0xf8b1, 0x3cd0, 0x1, 0x1);
        gbc.writeMem(0x94f8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xd922);
        EXPECT(gbc.pc(), 0x94f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94f8), 0x41);
        // 41 03A1
        gbc.setState(0x5012, 0xa5f1, 0x1f20, 0x3da0, 0xc283, 0x2ff2, 0x1, 0x1);
        gbc.writeMem(0x5012, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xa5f1);
        EXPECT(gbc.pc(), 0x5013);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 03A2
        gbc.setState(0x1d5b, 0xbcd1, 0x6730, 0x901, 0xcc91, 0xd085, 0x0, 0x0);
        gbc.writeMem(0x1d5b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xbcd1);
        EXPECT(gbc.pc(), 0x1d5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 03A3
        gbc.setState(0xce6e, 0x40c5, 0xdfe0, 0x123f, 0x8f73, 0x1aae, 0x1, 0x0);
        gbc.writeMem(0xce6e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x40c5);
        EXPECT(gbc.pc(), 0xce6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce6e), 0x41);
        // 41 03A4
        gbc.setState(0xe11d, 0xdb0, 0xb6d0, 0x6f2c, 0xcd67, 0xe7d8, 0x1, 0x1);
        gbc.writeMem(0xe11d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xdb0);
        EXPECT(gbc.pc(), 0xe11e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe11d), 0x41);
        // 41 03A5
        gbc.setState(0xb90e, 0x931f, 0xa680, 0xc3c0, 0x59e7, 0x567f, 0x1, 0x1);
        gbc.writeMem(0xb90e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x931f);
        EXPECT(gbc.pc(), 0xb90f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb90e), 0x41);
        // 41 03A6
        gbc.setState(0xeb85, 0xb08f, 0xc770, 0x5415, 0x5a35, 0x1606, 0x0, 0x1);
        gbc.writeMem(0xeb85, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xb08f);
        EXPECT(gbc.pc(), 0xeb86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb85), 0x41);
        // 41 03A7
        gbc.setState(0x715f, 0xae9a, 0xba10, 0x90a9, 0xe016, 0xa1f2, 0x0, 0x1);
        gbc.writeMem(0x715f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xae9a);
        EXPECT(gbc.pc(), 0x7160);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 03A8
        gbc.setState(0x6534, 0x311b, 0xd540, 0xe1fc, 0x9164, 0x5c5, 0x0, 0x0);
        gbc.writeMem(0x6534, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x311b);
        EXPECT(gbc.pc(), 0x6535);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 03A9
        gbc.setState(0x248a, 0x92c, 0x6f00, 0x592b, 0x74ee, 0x289f, 0x1, 0x0);
        gbc.writeMem(0x248a, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x92c);
        EXPECT(gbc.pc(), 0x248b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 03AA
        gbc.setState(0x1232, 0xd692, 0xc550, 0x1fa1, 0xdd7a, 0x7e71, 0x0, 0x0);
        gbc.writeMem(0x1232, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xd692);
        EXPECT(gbc.pc(), 0x1233);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 03AB
        gbc.setState(0x72eb, 0xd7ef, 0x8940, 0x2b59, 0xb876, 0x7b0f, 0x0, 0x0);
        gbc.writeMem(0x72eb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xd7ef);
        EXPECT(gbc.pc(), 0x72ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 03AC
        gbc.setState(0x59c5, 0x7c88, 0xc460, 0x5e32, 0x2a52, 0xf72b, 0x0, 0x0);
        gbc.writeMem(0x59c5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x7c88);
        EXPECT(gbc.pc(), 0x59c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 03AD
        gbc.setState(0xcd72, 0x3f2, 0x3520, 0x9570, 0xbf75, 0x6c11, 0x0, 0x0);
        gbc.writeMem(0xcd72, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x3f2);
        EXPECT(gbc.pc(), 0xcd73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd72), 0x41);
        // 41 03AE
        gbc.setState(0xcbab, 0x459c, 0x8a90, 0x1164, 0x950, 0x5e28, 0x0, 0x1);
        gbc.writeMem(0xcbab, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x459c);
        EXPECT(gbc.pc(), 0xcbac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbab), 0x41);
        // 41 03AF
        gbc.setState(0xc1f8, 0x8f89, 0xae90, 0x6d50, 0xd1b9, 0x61e3, 0x1, 0x1);
        gbc.writeMem(0xc1f8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x8f89);
        EXPECT(gbc.pc(), 0xc1f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1f8), 0x41);
        // 41 03B0
        gbc.setState(0x685b, 0xdbb2, 0x6ed0, 0x6fd8, 0x43b4, 0x306f, 0x0, 0x1);
        gbc.writeMem(0x685b, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xdbb2);
        EXPECT(gbc.pc(), 0x685c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 03B1
        gbc.setState(0xdb3e, 0x7920, 0xf190, 0x50f7, 0xee83, 0xcd04, 0x1, 0x1);
        gbc.writeMem(0xdb3e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x7920);
        EXPECT(gbc.pc(), 0xdb3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb3e), 0x41);
        // 41 03B2
        gbc.setState(0xa6f7, 0x2fea, 0x7980, 0x9af2, 0x36ea, 0x3382, 0x0, 0x0);
        gbc.writeMem(0xa6f7, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x2fea);
        EXPECT(gbc.pc(), 0xa6f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6f7), 0x41);
        // 41 03B3
        gbc.setState(0xa814, 0x408f, 0x7ff0, 0xc108, 0x88d7, 0xc68c, 0x0, 0x1);
        gbc.writeMem(0xa814, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x408f);
        EXPECT(gbc.pc(), 0xa815);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa814), 0x41);
        // 41 03B4
        gbc.setState(0xcd97, 0x3c98, 0x7a50, 0x2abf, 0x3ee7, 0xfd21, 0x1, 0x1);
        gbc.writeMem(0xcd97, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x3c98);
        EXPECT(gbc.pc(), 0xcd98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd97), 0x41);
        // 41 03B5
        gbc.setState(0xed3e, 0xbd87, 0xee0, 0x8c8, 0x7fa7, 0xb061, 0x1, 0x1);
        gbc.writeMem(0xed3e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xbd87);
        EXPECT(gbc.pc(), 0xed3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed3e), 0x41);
        // 41 03B6
        gbc.setState(0x6153, 0x5802, 0x80, 0x9a68, 0x4c9c, 0xde5a, 0x1, 0x1);
        gbc.writeMem(0x6153, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x5802);
        EXPECT(gbc.pc(), 0x6154);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 03B7
        gbc.setState(0xde36, 0xf944, 0xa910, 0x6fc8, 0xf4a9, 0x74dd, 0x0, 0x0);
        gbc.writeMem(0xde36, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xf944);
        EXPECT(gbc.pc(), 0xde37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde36), 0x41);
        // 41 03B8
        gbc.setState(0x60b0, 0x4ed6, 0x5340, 0x8a2c, 0xc7de, 0x43f9, 0x1, 0x0);
        gbc.writeMem(0x60b0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x4ed6);
        EXPECT(gbc.pc(), 0x60b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 03B9
        gbc.setState(0x9288, 0x8379, 0x1e20, 0xf67c, 0x1905, 0x7ba7, 0x0, 0x1);
        gbc.writeMem(0x9288, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x8379);
        EXPECT(gbc.pc(), 0x9289);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9288), 0x41);
        // 41 03BA
        gbc.setState(0x4797, 0xc8fd, 0x42c0, 0x8664, 0x746a, 0x5018, 0x0, 0x0);
        gbc.writeMem(0x4797, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xc8fd);
        EXPECT(gbc.pc(), 0x4798);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 03BB
        gbc.setState(0x8b3d, 0x955e, 0x84d0, 0x1c07, 0x59c3, 0xf71b, 0x1, 0x1);
        gbc.writeMem(0x8b3d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x955e);
        EXPECT(gbc.pc(), 0x8b3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b3d), 0x41);
        // 41 03BC
        gbc.setState(0x5e5c, 0x2c90, 0x7950, 0x3b43, 0x90fd, 0xc287, 0x0, 0x0);
        gbc.writeMem(0x5e5c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x2c90);
        EXPECT(gbc.pc(), 0x5e5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 03BD
        gbc.setState(0xa842, 0xf996, 0x1840, 0xeb18, 0x2e16, 0x80e6, 0x0, 0x0);
        gbc.writeMem(0xa842, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xf996);
        EXPECT(gbc.pc(), 0xa843);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa842), 0x41);
        // 41 03BE
        gbc.setState(0xc7a3, 0xdaa6, 0xf60, 0xce41, 0x368d, 0x756f, 0x1, 0x1);
        gbc.writeMem(0xc7a3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xdaa6);
        EXPECT(gbc.pc(), 0xc7a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7a3), 0x41);
        // 41 03BF
        gbc.setState(0x398f, 0xa273, 0x5620, 0x9579, 0x79a5, 0xb6cb, 0x0, 0x1);
        gbc.writeMem(0x398f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xa273);
        EXPECT(gbc.pc(), 0x3990);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 03C0
        gbc.setState(0xde46, 0xfd0b, 0xe680, 0x72e6, 0x81a4, 0x39d1, 0x1, 0x0);
        gbc.writeMem(0xde46, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xfd0b);
        EXPECT(gbc.pc(), 0xde47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde46), 0x41);
        // 41 03C1
        gbc.setState(0x3ef3, 0xd2c1, 0x2130, 0xb1b5, 0x4d7e, 0xa5f4, 0x1, 0x1);
        gbc.writeMem(0x3ef3, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xd2c1);
        EXPECT(gbc.pc(), 0x3ef4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 03C2
        gbc.setState(0xae1d, 0x1db0, 0xb8d0, 0x1da2, 0xb22, 0x1522, 0x0, 0x1);
        gbc.writeMem(0xae1d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x1db0);
        EXPECT(gbc.pc(), 0xae1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae1d), 0x41);
        // 41 03C3
        gbc.setState(0x44fb, 0x4038, 0xdaa0, 0x25df, 0x4284, 0xc88d, 0x0, 0x1);
        gbc.writeMem(0x44fb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x4038);
        EXPECT(gbc.pc(), 0x44fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 41 03C4
        gbc.setState(0x6022, 0x34ed, 0xfb70, 0x3932, 0x1d4e, 0x9842, 0x0, 0x1);
        gbc.writeMem(0x6022, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x34ed);
        EXPECT(gbc.pc(), 0x6023);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 03C5
        gbc.setState(0x5b8f, 0x827e, 0x6130, 0x25d5, 0x710a, 0xb8ad, 0x0, 0x0);
        gbc.writeMem(0x5b8f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x827e);
        EXPECT(gbc.pc(), 0x5b90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 03C6
        gbc.setState(0xc910, 0x7337, 0xea40, 0x1f0, 0x6917, 0x6bd5, 0x0, 0x0);
        gbc.writeMem(0xc910, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x7337);
        EXPECT(gbc.pc(), 0xc911);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc910), 0x41);
        // 41 03C7
        gbc.setState(0x5453, 0x800a, 0x50, 0xb9cb, 0x965f, 0xc210, 0x0, 0x0);
        gbc.writeMem(0x5453, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x800a);
        EXPECT(gbc.pc(), 0x5454);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 03C8
        gbc.setState(0xc1e9, 0x4373, 0xf660, 0x125a, 0xb71c, 0x1710, 0x1, 0x1);
        gbc.writeMem(0xc1e9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x4373);
        EXPECT(gbc.pc(), 0xc1ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1e9), 0x41);
        // 41 03C9
        gbc.setState(0xfd0, 0x1346, 0xd150, 0xa379, 0xae9b, 0x2f58, 0x1, 0x1);
        gbc.writeMem(0xfd0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x1346);
        EXPECT(gbc.pc(), 0xfd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 03CA
        gbc.setState(0xc1aa, 0x891e, 0x6e70, 0x7e0b, 0xb7ab, 0x1783, 0x1, 0x0);
        gbc.writeMem(0xc1aa, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x891e);
        EXPECT(gbc.pc(), 0xc1ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1aa), 0x41);
        // 41 03CB
        gbc.setState(0x69d1, 0xa4aa, 0x4770, 0x55d5, 0x94c4, 0x88c7, 0x1, 0x1);
        gbc.writeMem(0x69d1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xa4aa);
        EXPECT(gbc.pc(), 0x69d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 03CC
        gbc.setState(0xbde5, 0x9004, 0x32b0, 0x8592, 0x2145, 0x172f, 0x1, 0x1);
        gbc.writeMem(0xbde5, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x9004);
        EXPECT(gbc.pc(), 0xbde6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbde5), 0x41);
        // 41 03CD
        gbc.setState(0xa7a6, 0x316f, 0x4540, 0xab4c, 0x5c34, 0x8cde, 0x0, 0x0);
        gbc.writeMem(0xa7a6, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x316f);
        EXPECT(gbc.pc(), 0xa7a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7a6), 0x41);
        // 41 03CE
        gbc.setState(0xc9ac, 0xfec9, 0xb6b0, 0x770b, 0xede5, 0x350a, 0x1, 0x1);
        gbc.writeMem(0xc9ac, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xfec9);
        EXPECT(gbc.pc(), 0xc9ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9ac), 0x41);
        // 41 03CF
        gbc.setState(0x8fd9, 0xce32, 0xce60, 0x6dc7, 0xdbee, 0xeec8, 0x0, 0x1);
        gbc.writeMem(0x8fd9, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xce32);
        EXPECT(gbc.pc(), 0x8fda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fd9), 0x41);
        // 41 03D0
        gbc.setState(0xd03f, 0xf15d, 0x2ed0, 0x5bee, 0x61be, 0xe01, 0x0, 0x0);
        gbc.writeMem(0xd03f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xf15d);
        EXPECT(gbc.pc(), 0xd040);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd03f), 0x41);
        // 41 03D1
        gbc.setState(0x9292, 0x13cb, 0xa810, 0xf397, 0x117a, 0xe88a, 0x1, 0x1);
        gbc.writeMem(0x9292, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x13cb);
        EXPECT(gbc.pc(), 0x9293);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9292), 0x41);
        // 41 03D2
        gbc.setState(0x934d, 0x8b95, 0x9360, 0x4e21, 0x9dd1, 0xe6d5, 0x0, 0x1);
        gbc.writeMem(0x934d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x8b95);
        EXPECT(gbc.pc(), 0x934e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x934d), 0x41);
        // 41 03D3
        gbc.setState(0x603, 0x8d46, 0xda50, 0x807e, 0xd2cc, 0x8795, 0x1, 0x1);
        gbc.writeMem(0x603, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x8d46);
        EXPECT(gbc.pc(), 0x604);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 03D4
        gbc.setState(0x929f, 0x48a7, 0x6850, 0x221a, 0xccc1, 0xe229, 0x1, 0x0);
        gbc.writeMem(0x929f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x48a7);
        EXPECT(gbc.pc(), 0x92a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x929f), 0x41);
        // 41 03D5
        gbc.setState(0x4c0, 0xd0d4, 0xdd0, 0xec93, 0xe77c, 0xc4b3, 0x0, 0x1);
        gbc.writeMem(0x4c0, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd0d4);
        EXPECT(gbc.pc(), 0x4c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 03D6
        gbc.setState(0x2269, 0x5f64, 0xf2d0, 0x3378, 0x6592, 0xb0da, 0x0, 0x1);
        gbc.writeMem(0x2269, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x5f64);
        EXPECT(gbc.pc(), 0x226a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 03D7
        gbc.setState(0x25e, 0xe6ba, 0x7ad0, 0x5a3d, 0xe035, 0x5f6d, 0x1, 0x0);
        gbc.writeMem(0x25e, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xe6ba);
        EXPECT(gbc.pc(), 0x25f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 03D8
        gbc.setState(0xe7aa, 0x3d23, 0xd420, 0x688b, 0xe8a8, 0x38ad, 0x0, 0x1);
        gbc.writeMem(0xe7aa, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x3d23);
        EXPECT(gbc.pc(), 0xe7ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7aa), 0x41);
        // 41 03D9
        gbc.setState(0xcc4d, 0xa73b, 0x640, 0x9e39, 0x17af, 0xdd18, 0x0, 0x1);
        gbc.writeMem(0xcc4d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xa73b);
        EXPECT(gbc.pc(), 0xcc4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc4d), 0x41);
        // 41 03DA
        gbc.setState(0x6fd4, 0x8bde, 0xc950, 0xb190, 0x35e4, 0x320d, 0x1, 0x0);
        gbc.writeMem(0x6fd4, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x8bde);
        EXPECT(gbc.pc(), 0x6fd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 03DB
        gbc.setState(0xe8ef, 0x2771, 0x96d0, 0xee00, 0x6de6, 0x868, 0x0, 0x1);
        gbc.writeMem(0xe8ef, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x2771);
        EXPECT(gbc.pc(), 0xe8f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8ef), 0x41);
        // 41 03DC
        gbc.setState(0x2642, 0xaa72, 0x2330, 0xb4e3, 0x86ed, 0x9397, 0x1, 0x0);
        gbc.writeMem(0x2642, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xaa72);
        EXPECT(gbc.pc(), 0x2643);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 03DD
        gbc.setState(0x6dcb, 0x84df, 0xcb00, 0x2db3, 0x6e60, 0xe72c, 0x1, 0x0);
        gbc.writeMem(0x6dcb, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x84df);
        EXPECT(gbc.pc(), 0x6dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 41 03DE
        gbc.setState(0x363, 0x52ad, 0x1570, 0xe10a, 0x6204, 0xe916, 0x1, 0x1);
        gbc.writeMem(0x363, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x52ad);
        EXPECT(gbc.pc(), 0x364);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 03DF
        gbc.setState(0x164f, 0x5e8f, 0x85d0, 0x4f3d, 0x8b0c, 0x1d8a, 0x0, 0x1);
        gbc.writeMem(0x164f, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x5e8f);
        EXPECT(gbc.pc(), 0x1650);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 41 03E0
        gbc.setState(0xc2c1, 0xb4e4, 0x4560, 0x6262, 0xdcc6, 0xbb3d, 0x0, 0x0);
        gbc.writeMem(0xc2c1, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xb4e4);
        EXPECT(gbc.pc(), 0xc2c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2c1), 0x41);
        // 41 03E1
        gbc.setState(0x5719, 0xcbc9, 0x92f0, 0xc19b, 0x179, 0x2ca2, 0x1, 0x0);
        gbc.writeMem(0x5719, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xcbc9);
        EXPECT(gbc.pc(), 0x571a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 03E2
        gbc.setState(0x301d, 0x6258, 0xab70, 0x7e26, 0x2142, 0x4b11, 0x0, 0x1);
        gbc.writeMem(0x301d, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x6258);
        EXPECT(gbc.pc(), 0x301e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 03E3
        gbc.setState(0x23dc, 0xf120, 0xf670, 0x4bfa, 0x7239, 0x938e, 0x0, 0x0);
        gbc.writeMem(0x23dc, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xf120);
        EXPECT(gbc.pc(), 0x23dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 41 03E4
        gbc.setState(0xa739, 0x4487, 0x3ea0, 0x804e, 0xe40b, 0x71a2, 0x0, 0x0);
        gbc.writeMem(0xa739, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x4487);
        EXPECT(gbc.pc(), 0xa73a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa739), 0x41);
        // 41 03E5
        gbc.setState(0xd12c, 0x70e1, 0x750, 0x237c, 0x2163, 0x9d77, 0x0, 0x1);
        gbc.writeMem(0xd12c, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x70e1);
        EXPECT(gbc.pc(), 0xd12d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd12c), 0x41);
        // 41 03E6
        gbc.setState(0xb7d8, 0x8f42, 0x6b60, 0xba0a, 0x258, 0x899c, 0x1, 0x1);
        gbc.writeMem(0xb7d8, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x8f42);
        EXPECT(gbc.pc(), 0xb7d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7d8), 0x41);
        // 41 03E7
        gbc.setState(0x2175, 0x604, 0xbce0, 0x2d6a, 0xbbc, 0xe85d, 0x0, 0x1);
        gbc.writeMem(0x2175, { 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x604);
        EXPECT(gbc.pc(), 0x2176);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
    }
