    TEST(gbcemu, opcode_5f) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 5F 0000
        gbc.setState(0x1d9a, 0x944b, 0x3f90, 0x207, 0x3187, 0xb1d6, 0x0, 0x1);
        gbc.writeMem(0x1d9a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x944b);
        EXPECT(gbc.pc(), 0x1d9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0001
        gbc.setState(0x9a8e, 0x6fb5, 0x7c30, 0x2f98, 0xbaf0, 0xc087, 0x1, 0x1);
        gbc.writeMem(0x9a8e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x6fb5);
        EXPECT(gbc.pc(), 0x9a8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a8e), 0x5f);
        // 5F 0002
        gbc.setState(0x1507, 0x3616, 0x3f10, 0x50d0, 0x11d7, 0x387, 0x1, 0x0);
        gbc.writeMem(0x1507, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x3616);
        EXPECT(gbc.pc(), 0x1508);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0003
        gbc.setState(0x77e1, 0xc4ee, 0x4a30, 0x329c, 0x79d8, 0x6c96, 0x1, 0x0);
        gbc.writeMem(0x77e1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xc4ee);
        EXPECT(gbc.pc(), 0x77e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0004
        gbc.setState(0xda94, 0x3398, 0x17d0, 0x3e33, 0x43e, 0x2a9, 0x1, 0x0);
        gbc.writeMem(0xda94, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x3398);
        EXPECT(gbc.pc(), 0xda95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda94), 0x5f);
        // 5F 0005
        gbc.setState(0xc84e, 0xe5b1, 0x7400, 0x63a6, 0x429b, 0x1475, 0x0, 0x1);
        gbc.writeMem(0xc84e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xe5b1);
        EXPECT(gbc.pc(), 0xc84f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc84e), 0x5f);
        // 5F 0006
        gbc.setState(0xa39b, 0xdb0f, 0x3c30, 0xbf6e, 0x9121, 0x315e, 0x0, 0x0);
        gbc.writeMem(0xa39b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xdb0f);
        EXPECT(gbc.pc(), 0xa39c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa39b), 0x5f);
        // 5F 0007
        gbc.setState(0x97e7, 0xaeb0, 0x9b10, 0xf24e, 0xf38a, 0x9310, 0x1, 0x1);
        gbc.writeMem(0x97e7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xaeb0);
        EXPECT(gbc.pc(), 0x97e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97e7), 0x5f);
        // 5F 0008
        gbc.setState(0x17e4, 0xce7a, 0x5f80, 0xbb5d, 0xc63c, 0xb442, 0x1, 0x0);
        gbc.writeMem(0x17e4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xce7a);
        EXPECT(gbc.pc(), 0x17e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0009
        gbc.setState(0xc25, 0x4ef7, 0x23e0, 0xabb2, 0x42f0, 0x1e76, 0x0, 0x1);
        gbc.writeMem(0xc25, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x4ef7);
        EXPECT(gbc.pc(), 0xc26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 000A
        gbc.setState(0xba48, 0xb775, 0xb3d0, 0x308f, 0xc854, 0xd574, 0x1, 0x1);
        gbc.writeMem(0xba48, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xb775);
        EXPECT(gbc.pc(), 0xba49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba48), 0x5f);
        // 5F 000B
        gbc.setState(0x615d, 0xeed6, 0x8570, 0x6401, 0x1b94, 0x279d, 0x0, 0x1);
        gbc.writeMem(0x615d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xeed6);
        EXPECT(gbc.pc(), 0x615e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 000C
        gbc.setState(0xb85a, 0x1c26, 0xee40, 0x31a0, 0x1420, 0x6ed2, 0x1, 0x1);
        gbc.writeMem(0xb85a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x1c26);
        EXPECT(gbc.pc(), 0xb85b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb85a), 0x5f);
        // 5F 000D
        gbc.setState(0xd3f9, 0xdce0, 0xca20, 0xb723, 0x5a32, 0xc126, 0x1, 0x1);
        gbc.writeMem(0xd3f9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xdce0);
        EXPECT(gbc.pc(), 0xd3fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3f9), 0x5f);
        // 5F 000E
        gbc.setState(0x8233, 0x7484, 0x2170, 0x9ffe, 0xf178, 0x1eea, 0x0, 0x0);
        gbc.writeMem(0x8233, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x7484);
        EXPECT(gbc.pc(), 0x8234);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8233), 0x5f);
        // 5F 000F
        gbc.setState(0x525a, 0x6c82, 0xa4d0, 0xf75c, 0x6656, 0x130f, 0x0, 0x1);
        gbc.writeMem(0x525a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x6c82);
        EXPECT(gbc.pc(), 0x525b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0010
        gbc.setState(0xbb93, 0x46f8, 0x6680, 0x309c, 0x8449, 0xfbac, 0x1, 0x1);
        gbc.writeMem(0xbb93, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x46f8);
        EXPECT(gbc.pc(), 0xbb94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb93), 0x5f);
        // 5F 0011
        gbc.setState(0xe723, 0xb9b, 0x410, 0xebb0, 0xb98a, 0x5d2e, 0x1, 0x0);
        gbc.writeMem(0xe723, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xb9b);
        EXPECT(gbc.pc(), 0xe724);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe723), 0x5f);
        // 5F 0012
        gbc.setState(0xe9c, 0x6b1c, 0xebc0, 0x202d, 0x1867, 0xc2f4, 0x0, 0x0);
        gbc.writeMem(0xe9c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x6b1c);
        EXPECT(gbc.pc(), 0xe9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0013
        gbc.setState(0xe7c6, 0x4b03, 0x3da0, 0x67e0, 0xacb5, 0x6d97, 0x1, 0x1);
        gbc.writeMem(0xe7c6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x4b03);
        EXPECT(gbc.pc(), 0xe7c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7c6), 0x5f);
        // 5F 0014
        gbc.setState(0xe47, 0x4b57, 0x1870, 0xcc74, 0xb8c1, 0x4f, 0x0, 0x1);
        gbc.writeMem(0xe47, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x4b57);
        EXPECT(gbc.pc(), 0xe48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0015
        gbc.setState(0x59f7, 0xc106, 0x8a30, 0x3e1e, 0x5a73, 0x189b, 0x1, 0x0);
        gbc.writeMem(0x59f7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc106);
        EXPECT(gbc.pc(), 0x59f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0017
        gbc.setState(0x718c, 0x1f90, 0x21b0, 0xcad5, 0xbe64, 0x1ea3, 0x1, 0x1);
        gbc.writeMem(0x718c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x1f90);
        EXPECT(gbc.pc(), 0x718d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0018
        gbc.setState(0x9f19, 0xca0, 0x5b50, 0xc43a, 0xf7ee, 0xbdeb, 0x1, 0x1);
        gbc.writeMem(0x9f19, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xca0);
        EXPECT(gbc.pc(), 0x9f1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f19), 0x5f);
        // 5F 0019
        gbc.setState(0x635c, 0xd2fd, 0x8d10, 0xe0dd, 0x4457, 0xd5ac, 0x0, 0x0);
        gbc.writeMem(0x635c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd2fd);
        EXPECT(gbc.pc(), 0x635d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 001A
        gbc.setState(0x2e09, 0x5cbd, 0xbe90, 0x470a, 0x236c, 0x2ba, 0x0, 0x1);
        gbc.writeMem(0x2e09, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x5cbd);
        EXPECT(gbc.pc(), 0x2e0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 001B
        gbc.setState(0xee41, 0x53c0, 0x7de0, 0xee79, 0x2f93, 0xe71e, 0x0, 0x1);
        gbc.writeMem(0xee41, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x53c0);
        EXPECT(gbc.pc(), 0xee42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee41), 0x5f);
        // 5F 001C
        gbc.setState(0xef67, 0x1600, 0xef00, 0x35cb, 0x9bd7, 0xcad2, 0x1, 0x0);
        gbc.writeMem(0xef67, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x1600);
        EXPECT(gbc.pc(), 0xef68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef67), 0x5f);
        // 5F 001D
        gbc.setState(0xe5e6, 0x4208, 0x3d30, 0xf13a, 0xc372, 0x93f7, 0x1, 0x1);
        gbc.writeMem(0xe5e6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x4208);
        EXPECT(gbc.pc(), 0xe5e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5e6), 0x5f);
        // 5F 001E
        gbc.setState(0xcb0e, 0xe7f6, 0x4f20, 0x2e1b, 0xd0dd, 0xf01d, 0x1, 0x1);
        gbc.writeMem(0xcb0e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xe7f6);
        EXPECT(gbc.pc(), 0xcb0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb0e), 0x5f);
        // 5F 001F
        gbc.setState(0x6dd3, 0xe35d, 0x150, 0x574, 0x673e, 0xf43a, 0x0, 0x0);
        gbc.writeMem(0x6dd3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xe35d);
        EXPECT(gbc.pc(), 0x6dd4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0020
        gbc.setState(0x69d1, 0xeb3d, 0x2980, 0xbedb, 0x76f0, 0xbbd4, 0x1, 0x1);
        gbc.writeMem(0x69d1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xeb3d);
        EXPECT(gbc.pc(), 0x69d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0021
        gbc.setState(0x3e57, 0xe364, 0x7220, 0xcae7, 0x241e, 0x9625, 0x1, 0x1);
        gbc.writeMem(0x3e57, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xe364);
        EXPECT(gbc.pc(), 0x3e58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0022
        gbc.setState(0x1e82, 0x8f41, 0xed80, 0x6878, 0x9e, 0xfec, 0x0, 0x1);
        gbc.writeMem(0x1e82, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x8f41);
        EXPECT(gbc.pc(), 0x1e83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0023
        gbc.setState(0x34e5, 0xb742, 0xd640, 0x2b42, 0x4a10, 0xeed9, 0x0, 0x0);
        gbc.writeMem(0x34e5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xb742);
        EXPECT(gbc.pc(), 0x34e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0024
        gbc.setState(0xa6a4, 0xb408, 0x72b0, 0xf7, 0x4b1d, 0x9f89, 0x0, 0x0);
        gbc.writeMem(0xa6a4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xb408);
        EXPECT(gbc.pc(), 0xa6a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6a4), 0x5f);
        // 5F 0025
        gbc.setState(0x7a6a, 0x30fe, 0x5600, 0x3f0, 0x59fb, 0x6a54, 0x0, 0x0);
        gbc.writeMem(0x7a6a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x30fe);
        EXPECT(gbc.pc(), 0x7a6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0026
        gbc.setState(0x69c, 0xb9a3, 0xb640, 0x462f, 0x45bf, 0x1b2e, 0x1, 0x0);
        gbc.writeMem(0x69c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xb9a3);
        EXPECT(gbc.pc(), 0x69d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0027
        gbc.setState(0xd331, 0x9bf8, 0xc810, 0x455b, 0x58db, 0xdad5, 0x0, 0x0);
        gbc.writeMem(0xd331, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x9bf8);
        EXPECT(gbc.pc(), 0xd332);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd331), 0x5f);
        // 5F 0028
        gbc.setState(0xd6ef, 0x956a, 0xed90, 0x8fb3, 0xb67, 0xfa02, 0x0, 0x0);
        gbc.writeMem(0xd6ef, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x956a);
        EXPECT(gbc.pc(), 0xd6f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6ef), 0x5f);
        // 5F 0029
        gbc.setState(0x21b5, 0x15c2, 0x70d0, 0x9b, 0x45b4, 0x25c4, 0x1, 0x0);
        gbc.writeMem(0x21b5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x15c2);
        EXPECT(gbc.pc(), 0x21b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 002A
        gbc.setState(0x2205, 0xa45a, 0x3660, 0x2cbb, 0xf816, 0xdd7c, 0x0, 0x1);
        gbc.writeMem(0x2205, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xa45a);
        EXPECT(gbc.pc(), 0x2206);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 002B
        gbc.setState(0x39f5, 0x8dee, 0x8ab0, 0xc82a, 0x6b84, 0xdfe5, 0x0, 0x1);
        gbc.writeMem(0x39f5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x8dee);
        EXPECT(gbc.pc(), 0x39f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 002C
        gbc.setState(0xe27f, 0xe9d2, 0x47b0, 0xe7b0, 0xd785, 0xd3d4, 0x1, 0x1);
        gbc.writeMem(0xe27f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xe9d2);
        EXPECT(gbc.pc(), 0xe280);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe27f), 0x5f);
        // 5F 002D
        gbc.setState(0x397e, 0xfd6c, 0xf940, 0x3a73, 0xe9dd, 0x5cd4, 0x1, 0x1);
        gbc.writeMem(0x397e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xfd6c);
        EXPECT(gbc.pc(), 0x397f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 002E
        gbc.setState(0x5d6e, 0x4446, 0x2fe0, 0x61c6, 0xaf06, 0x7f69, 0x0, 0x0);
        gbc.writeMem(0x5d6e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x4446);
        EXPECT(gbc.pc(), 0x5d6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 002F
        gbc.setState(0x7c0c, 0x6a0a, 0x72f0, 0xcfd4, 0xd160, 0xd084, 0x0, 0x1);
        gbc.writeMem(0x7c0c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x6a0a);
        EXPECT(gbc.pc(), 0x7c0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0030
        gbc.setState(0x274, 0x53c7, 0xcc30, 0xa76a, 0x31d3, 0xec57, 0x1, 0x0);
        gbc.writeMem(0x274, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x53c7);
        EXPECT(gbc.pc(), 0x275);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0031
        gbc.setState(0xb9c8, 0x522e, 0xa7b0, 0x9bc4, 0x3561, 0xcb44, 0x0, 0x0);
        gbc.writeMem(0xb9c8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x522e);
        EXPECT(gbc.pc(), 0xb9c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9c8), 0x5f);
        // 5F 0032
        gbc.setState(0x7e9f, 0x5dfd, 0x43c0, 0xce2c, 0x14b2, 0x3ced, 0x1, 0x0);
        gbc.writeMem(0x7e9f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x5dfd);
        EXPECT(gbc.pc(), 0x7ea0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0033
        gbc.setState(0xa85f, 0x7870, 0xde00, 0x48a2, 0xa922, 0xea4b, 0x1, 0x0);
        gbc.writeMem(0xa85f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x7870);
        EXPECT(gbc.pc(), 0xa860);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa85f), 0x5f);
        // 5F 0035
        gbc.setState(0x4113, 0x7331, 0x2130, 0x893f, 0x8b73, 0x658f, 0x0, 0x0);
        gbc.writeMem(0x4113, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x7331);
        EXPECT(gbc.pc(), 0x4114);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0036
        gbc.setState(0xaaa8, 0x61be, 0xa750, 0x9e6, 0xfee4, 0xa06e, 0x0, 0x0);
        gbc.writeMem(0xaaa8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x61be);
        EXPECT(gbc.pc(), 0xaaa9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaa8), 0x5f);
        // 5F 0037
        gbc.setState(0x87be, 0x47cc, 0xcef0, 0xb8f8, 0x4ead, 0xdd67, 0x1, 0x0);
        gbc.writeMem(0x87be, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x47cc);
        EXPECT(gbc.pc(), 0x87bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87be), 0x5f);
        // 5F 0038
        gbc.setState(0xc9ac, 0x1e0c, 0x9cb0, 0x22ad, 0xad74, 0xdc08, 0x0, 0x0);
        gbc.writeMem(0xc9ac, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x1e0c);
        EXPECT(gbc.pc(), 0xc9ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9ac), 0x5f);
        // 5F 0039
        gbc.setState(0x8451, 0xa59f, 0xc830, 0x5af4, 0xc14f, 0x6fab, 0x1, 0x1);
        gbc.writeMem(0x8451, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xa59f);
        EXPECT(gbc.pc(), 0x8452);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8451), 0x5f);
        // 5F 003A
        gbc.setState(0x935d, 0x3901, 0xf940, 0x962a, 0xbe5, 0x5011, 0x1, 0x1);
        gbc.writeMem(0x935d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x3901);
        EXPECT(gbc.pc(), 0x935e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x935d), 0x5f);
        // 5F 003B
        gbc.setState(0x4539, 0x9d17, 0xf3e0, 0xb415, 0x1225, 0xb4ed, 0x0, 0x1);
        gbc.writeMem(0x4539, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x9d17);
        EXPECT(gbc.pc(), 0x453a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 003C
        gbc.setState(0x7c81, 0x7187, 0x2490, 0xe656, 0x61ba, 0x1ebd, 0x0, 0x1);
        gbc.writeMem(0x7c81, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x7187);
        EXPECT(gbc.pc(), 0x7c82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 003D
        gbc.setState(0x9d61, 0x2bc, 0xe9d0, 0x8c7d, 0xf8e, 0x5b69, 0x0, 0x0);
        gbc.writeMem(0x9d61, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x2bc);
        EXPECT(gbc.pc(), 0x9d62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d61), 0x5f);
        // 5F 003E
        gbc.setState(0xe957, 0xdfe6, 0x4fb0, 0xab15, 0xba59, 0xaf1b, 0x1, 0x1);
        gbc.writeMem(0xe957, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xdfe6);
        EXPECT(gbc.pc(), 0xe958);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe957), 0x5f);
        // 5F 003F
        gbc.setState(0xb51, 0x9e7a, 0xe6e0, 0x47ee, 0xc1b7, 0x7abd, 0x0, 0x0);
        gbc.writeMem(0xb51, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x9e7a);
        EXPECT(gbc.pc(), 0xb52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0040
        gbc.setState(0xa749, 0x22d8, 0xa480, 0x1266, 0xf348, 0xac19, 0x0, 0x1);
        gbc.writeMem(0xa749, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x22d8);
        EXPECT(gbc.pc(), 0xa74a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa749), 0x5f);
        // 5F 0041
        gbc.setState(0x898a, 0x6aac, 0xeb40, 0x4bf9, 0xe2c2, 0x72e7, 0x1, 0x1);
        gbc.writeMem(0x898a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x6aac);
        EXPECT(gbc.pc(), 0x898b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x898a), 0x5f);
        // 5F 0042
        gbc.setState(0x6e74, 0x7a0f, 0xc370, 0x48e2, 0x3d93, 0xcfa6, 0x1, 0x0);
        gbc.writeMem(0x6e74, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x7a0f);
        EXPECT(gbc.pc(), 0x6e75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0043
        gbc.setState(0x8c27, 0xb92d, 0x9050, 0xe3b0, 0x4081, 0xe6c1, 0x0, 0x1);
        gbc.writeMem(0x8c27, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xb92d);
        EXPECT(gbc.pc(), 0x8c28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c27), 0x5f);
        // 5F 0044
        gbc.setState(0x8c93, 0xbbc3, 0x4890, 0xec35, 0x7617, 0xdc11, 0x1, 0x0);
        gbc.writeMem(0x8c93, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xbbc3);
        EXPECT(gbc.pc(), 0x8c94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c93), 0x5f);
        // 5F 0045
        gbc.setState(0xc4cb, 0x5c65, 0x7e00, 0x7381, 0x3ff9, 0xdb2c, 0x1, 0x0);
        gbc.writeMem(0xc4cb, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x5c65);
        EXPECT(gbc.pc(), 0xc4cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4cb), 0x5f);
        // 5F 0046
        gbc.setState(0x391, 0xeb3b, 0x6fc0, 0x5561, 0x2b2, 0xa768, 0x0, 0x0);
        gbc.writeMem(0x391, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xeb3b);
        EXPECT(gbc.pc(), 0x392);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0047
        gbc.setState(0xd830, 0x1f53, 0xb540, 0x5c57, 0x3309, 0x82f8, 0x1, 0x1);
        gbc.writeMem(0xd830, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x1f53);
        EXPECT(gbc.pc(), 0xd831);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd830), 0x5f);
        // 5F 0048
        gbc.setState(0x1497, 0x9173, 0xd150, 0x2f72, 0xad98, 0x8d17, 0x0, 0x0);
        gbc.writeMem(0x1497, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x9173);
        EXPECT(gbc.pc(), 0x1498);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0049
        gbc.setState(0x9a36, 0x537d, 0xc330, 0x5a14, 0xf484, 0x2820, 0x0, 0x0);
        gbc.writeMem(0x9a36, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x537d);
        EXPECT(gbc.pc(), 0x9a37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a36), 0x5f);
        // 5F 004A
        gbc.setState(0xb7b, 0x1b4d, 0xc3b0, 0x6d2a, 0xe79a, 0x2216, 0x1, 0x0);
        gbc.writeMem(0xb7b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x1b4d);
        EXPECT(gbc.pc(), 0xb7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 004B
        gbc.setState(0xd32a, 0x7d85, 0x120, 0xa769, 0x5aed, 0xc5ca, 0x0, 0x0);
        gbc.writeMem(0xd32a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x7d85);
        EXPECT(gbc.pc(), 0xd32b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd32a), 0x5f);
        // 5F 004C
        gbc.setState(0xc4a7, 0x4f49, 0x5c80, 0xde35, 0x99b, 0x2927, 0x0, 0x1);
        gbc.writeMem(0xc4a7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x4f49);
        EXPECT(gbc.pc(), 0xc4a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4a7), 0x5f);
        // 5F 004D
        gbc.setState(0x74aa, 0xd27a, 0xec20, 0x8264, 0x1729, 0x1383, 0x1, 0x0);
        gbc.writeMem(0x74aa, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xd27a);
        EXPECT(gbc.pc(), 0x74ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 004E
        gbc.setState(0x1d1, 0xa1c, 0xa810, 0xaed4, 0xeb5a, 0x8c84, 0x1, 0x1);
        gbc.writeMem(0x1d1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xa1c);
        EXPECT(gbc.pc(), 0x1d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 004F
        gbc.setState(0x6b1a, 0x1cfb, 0x3f60, 0x56b8, 0xd3c2, 0x4805, 0x1, 0x0);
        gbc.writeMem(0x6b1a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x1cfb);
        EXPECT(gbc.pc(), 0x6b1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0050
        gbc.setState(0x9e58, 0x1935, 0x3490, 0x2f16, 0xda7d, 0x6d63, 0x0, 0x0);
        gbc.writeMem(0x9e58, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x1935);
        EXPECT(gbc.pc(), 0x9e59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e58), 0x5f);
        // 5F 0051
        gbc.setState(0x3536, 0x5f21, 0xe100, 0x3a19, 0x2c7c, 0x2b2e, 0x1, 0x1);
        gbc.writeMem(0x3536, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x5f21);
        EXPECT(gbc.pc(), 0x3537);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0052
        gbc.setState(0x138b, 0x692e, 0x10e0, 0x9e91, 0xe959, 0x5b99, 0x0, 0x0);
        gbc.writeMem(0x138b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x692e);
        EXPECT(gbc.pc(), 0x138c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0053
        gbc.setState(0xefed, 0x50b6, 0x1a0, 0xcb6a, 0x9676, 0x18f9, 0x1, 0x1);
        gbc.writeMem(0xefed, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x50b6);
        EXPECT(gbc.pc(), 0xefee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefed), 0x5f);
        // 5F 0054
        gbc.setState(0xbbe9, 0x5356, 0x2000, 0x8989, 0x4e43, 0xf52d, 0x0, 0x0);
        gbc.writeMem(0xbbe9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5356);
        EXPECT(gbc.pc(), 0xbbea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbe9), 0x5f);
        // 5F 0055
        gbc.setState(0x32ff, 0xf7fc, 0x9c60, 0x59e0, 0x6cba, 0x59e, 0x1, 0x1);
        gbc.writeMem(0x32ff, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xf7fc);
        EXPECT(gbc.pc(), 0x3300);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0056
        gbc.setState(0x1268, 0xe806, 0x7b70, 0xab41, 0xc38a, 0xf25f, 0x0, 0x0);
        gbc.writeMem(0x1268, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xe806);
        EXPECT(gbc.pc(), 0x1269);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0057
        gbc.setState(0x629a, 0xe53f, 0x8b70, 0xb1f, 0x3a41, 0x576d, 0x1, 0x0);
        gbc.writeMem(0x629a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xe53f);
        EXPECT(gbc.pc(), 0x629b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0058
        gbc.setState(0x9f48, 0x6e84, 0x9120, 0xf218, 0xe306, 0xddb4, 0x1, 0x1);
        gbc.writeMem(0x9f48, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x6e84);
        EXPECT(gbc.pc(), 0x9f49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f48), 0x5f);
        // 5F 0059
        gbc.setState(0xe4be, 0x9245, 0x6be0, 0xf6e8, 0xe580, 0x9cf2, 0x1, 0x0);
        gbc.writeMem(0xe4be, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x9245);
        EXPECT(gbc.pc(), 0xe4bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4be), 0x5f);
        // 5F 005A
        gbc.setState(0xa0f9, 0x9ee6, 0x6fd0, 0x5609, 0x9c7b, 0x6544, 0x0, 0x0);
        gbc.writeMem(0xa0f9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x9ee6);
        EXPECT(gbc.pc(), 0xa0fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0f9), 0x5f);
        // 5F 005B
        gbc.setState(0xa264, 0x41c9, 0x28b0, 0xbcfd, 0x1154, 0xc70e, 0x0, 0x0);
        gbc.writeMem(0xa264, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x41c9);
        EXPECT(gbc.pc(), 0xa265);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa264), 0x5f);
        // 5F 005C
        gbc.setState(0x8901, 0x74a1, 0x50, 0x66ca, 0x8e4, 0x40ae, 0x1, 0x1);
        gbc.writeMem(0x8901, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x74a1);
        EXPECT(gbc.pc(), 0x8902);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8901), 0x5f);
        // 5F 005D
        gbc.setState(0xd453, 0xb2d5, 0x8b90, 0x1bf7, 0x478c, 0x2bc3, 0x1, 0x1);
        gbc.writeMem(0xd453, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb2d5);
        EXPECT(gbc.pc(), 0xd454);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd453), 0x5f);
        // 5F 005E
        gbc.setState(0x20e3, 0xb113, 0x11f0, 0xcd1a, 0x4c4f, 0xb2e3, 0x1, 0x1);
        gbc.writeMem(0x20e3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xb113);
        EXPECT(gbc.pc(), 0x20e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 005F
        gbc.setState(0x399, 0x948, 0xb0e0, 0x8823, 0xa30d, 0xe4cc, 0x1, 0x1);
        gbc.writeMem(0x399, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x948);
        EXPECT(gbc.pc(), 0x39a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0060
        gbc.setState(0xa3e4, 0x17e9, 0x390, 0xdda4, 0x535f, 0xe288, 0x1, 0x1);
        gbc.writeMem(0xa3e4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x17e9);
        EXPECT(gbc.pc(), 0xa3e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3e4), 0x5f);
        // 5F 0061
        gbc.setState(0x152a, 0x27e5, 0x8980, 0xc95f, 0x1183, 0x667e, 0x0, 0x1);
        gbc.writeMem(0x152a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x27e5);
        EXPECT(gbc.pc(), 0x152b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0062
        gbc.setState(0xb00e, 0x6410, 0xc100, 0x2c13, 0xba0d, 0x7bf5, 0x1, 0x0);
        gbc.writeMem(0xb00e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x6410);
        EXPECT(gbc.pc(), 0xb00f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb00e), 0x5f);
        // 5F 0063
        gbc.setState(0x5755, 0xe158, 0x68f0, 0x8ede, 0xd03e, 0xbfb1, 0x1, 0x0);
        gbc.writeMem(0x5755, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xe158);
        EXPECT(gbc.pc(), 0x5756);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0064
        gbc.setState(0x33c4, 0xf721, 0xeba0, 0x2a53, 0xa9, 0x5a6d, 0x1, 0x1);
        gbc.writeMem(0x33c4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xf721);
        EXPECT(gbc.pc(), 0x33c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0065
        gbc.setState(0x8ac0, 0x788, 0xf30, 0xe5fc, 0xaf2e, 0xf1a8, 0x1, 0x0);
        gbc.writeMem(0x8ac0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x788);
        EXPECT(gbc.pc(), 0x8ac1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ac0), 0x5f);
        // 5F 0066
        gbc.setState(0xea63, 0x80f0, 0x48c0, 0x96bc, 0x64d3, 0x5395, 0x1, 0x1);
        gbc.writeMem(0xea63, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x80f0);
        EXPECT(gbc.pc(), 0xea64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea63), 0x5f);
        // 5F 0067
        gbc.setState(0x9476, 0x8e9d, 0xcb60, 0xd031, 0x835a, 0x664d, 0x1, 0x0);
        gbc.writeMem(0x9476, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x8e9d);
        EXPECT(gbc.pc(), 0x9477);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9476), 0x5f);
        // 5F 0068
        gbc.setState(0xb685, 0x1215, 0xc430, 0xdbca, 0x21b2, 0xb433, 0x1, 0x0);
        gbc.writeMem(0xb685, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x1215);
        EXPECT(gbc.pc(), 0xb686);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb685), 0x5f);
        // 5F 0069
        gbc.setState(0x8a9e, 0x9cfc, 0x7230, 0x46f, 0xcafe, 0x4562, 0x0, 0x1);
        gbc.writeMem(0x8a9e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x9cfc);
        EXPECT(gbc.pc(), 0x8a9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a9e), 0x5f);
        // 5F 006A
        gbc.setState(0x3350, 0x1792, 0x1610, 0x2c18, 0x8cb0, 0xc9be, 0x0, 0x0);
        gbc.writeMem(0x3350, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x1792);
        EXPECT(gbc.pc(), 0x3351);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 006B
        gbc.setState(0x50f4, 0xfbe2, 0x41b0, 0x7a55, 0x80f, 0xfcae, 0x1, 0x1);
        gbc.writeMem(0x50f4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xfbe2);
        EXPECT(gbc.pc(), 0x50f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 006C
        gbc.setState(0x2397, 0x22fc, 0xc30, 0x7b80, 0xd00a, 0x2a10, 0x0, 0x0);
        gbc.writeMem(0x2397, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x22fc);
        EXPECT(gbc.pc(), 0x2398);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 006D
        gbc.setState(0x2dc6, 0xdca3, 0x9f80, 0xaeb3, 0x5784, 0x9b0a, 0x0, 0x0);
        gbc.writeMem(0x2dc6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xdca3);
        EXPECT(gbc.pc(), 0x2dc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 006E
        gbc.setState(0x98eb, 0xb91, 0x38d0, 0xef7, 0xc7ca, 0xb891, 0x1, 0x1);
        gbc.writeMem(0x98eb, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xb91);
        EXPECT(gbc.pc(), 0x98ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98eb), 0x5f);
        // 5F 006F
        gbc.setState(0xe2a4, 0x783c, 0x8560, 0xdbad, 0xf91c, 0x7dad, 0x0, 0x0);
        gbc.writeMem(0xe2a4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x783c);
        EXPECT(gbc.pc(), 0xe2a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2a4), 0x5f);
        // 5F 0070
        gbc.setState(0x9c3f, 0x42ea, 0xb2b0, 0xe5cf, 0x65a2, 0xc01d, 0x0, 0x0);
        gbc.writeMem(0x9c3f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x42ea);
        EXPECT(gbc.pc(), 0x9c40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c3f), 0x5f);
        // 5F 0071
        gbc.setState(0xa2b4, 0x2c66, 0x6580, 0x8660, 0xbcd9, 0x26c5, 0x1, 0x1);
        gbc.writeMem(0xa2b4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x2c66);
        EXPECT(gbc.pc(), 0xa2b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2b4), 0x5f);
        // 5F 0072
        gbc.setState(0x502a, 0xb26f, 0x9110, 0x383a, 0xefa8, 0xb1d6, 0x1, 0x1);
        gbc.writeMem(0x502a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xb26f);
        EXPECT(gbc.pc(), 0x502b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0073
        gbc.setState(0x4670, 0xbb38, 0xfd60, 0xb316, 0xf875, 0x5faf, 0x0, 0x0);
        gbc.writeMem(0x4670, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xbb38);
        EXPECT(gbc.pc(), 0x4671);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0074
        gbc.setState(0xc37d, 0x7c3f, 0x8e20, 0xced3, 0x4416, 0x34fa, 0x0, 0x0);
        gbc.writeMem(0xc37d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x7c3f);
        EXPECT(gbc.pc(), 0xc37e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc37d), 0x5f);
        // 5F 0075
        gbc.setState(0xa3c, 0x625d, 0xeaf0, 0x213c, 0x90f6, 0x234f, 0x0, 0x0);
        gbc.writeMem(0xa3c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x625d);
        EXPECT(gbc.pc(), 0xa3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0076
        gbc.setState(0x95ce, 0x6b32, 0x7680, 0xd960, 0x64e6, 0xe811, 0x1, 0x1);
        gbc.writeMem(0x95ce, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x6b32);
        EXPECT(gbc.pc(), 0x95cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95ce), 0x5f);
        // 5F 0077
        gbc.setState(0x72cd, 0xa69b, 0xa7e0, 0x5a90, 0x4c61, 0xc9c5, 0x0, 0x1);
        gbc.writeMem(0x72cd, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xa69b);
        EXPECT(gbc.pc(), 0x72ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0078
        gbc.setState(0x4c6f, 0xa86c, 0x41c0, 0x6706, 0xdbb2, 0x197e, 0x1, 0x1);
        gbc.writeMem(0x4c6f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xa86c);
        EXPECT(gbc.pc(), 0x4c70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0079
        gbc.setState(0xe69c, 0x17c1, 0x8b10, 0xf6ed, 0xae27, 0xbbff, 0x0, 0x1);
        gbc.writeMem(0xe69c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x17c1);
        EXPECT(gbc.pc(), 0xe69d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe69c), 0x5f);
        // 5F 007A
        gbc.setState(0x9c24, 0x6af6, 0xfb50, 0xd165, 0x4abc, 0x88e7, 0x0, 0x1);
        gbc.writeMem(0x9c24, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x6af6);
        EXPECT(gbc.pc(), 0x9c25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c24), 0x5f);
        // 5F 007B
        gbc.setState(0x7264, 0x879b, 0x4c10, 0xe6a8, 0x4d5f, 0xceef, 0x1, 0x0);
        gbc.writeMem(0x7264, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x879b);
        EXPECT(gbc.pc(), 0x7265);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 007C
        gbc.setState(0xbf03, 0xb1c0, 0xc530, 0x80b0, 0xa4d5, 0x57f8, 0x1, 0x1);
        gbc.writeMem(0xbf03, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xb1c0);
        EXPECT(gbc.pc(), 0xbf04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf03), 0x5f);
        // 5F 007D
        gbc.setState(0x29c, 0xd1d9, 0x4220, 0xa41f, 0x9808, 0xe031, 0x1, 0x1);
        gbc.writeMem(0x29c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xd1d9);
        EXPECT(gbc.pc(), 0x29d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 007E
        gbc.setState(0x4c01, 0x9609, 0xdf20, 0xa0dc, 0x7149, 0x866a, 0x1, 0x1);
        gbc.writeMem(0x4c01, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x9609);
        EXPECT(gbc.pc(), 0x4c02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 007F
        gbc.setState(0x463a, 0x7c58, 0x410, 0xa119, 0x637d, 0xd747, 0x1, 0x1);
        gbc.writeMem(0x463a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x7c58);
        EXPECT(gbc.pc(), 0x463b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0080
        gbc.setState(0xee7e, 0x5071, 0x3840, 0x75d3, 0x4823, 0x4cd0, 0x0, 0x0);
        gbc.writeMem(0xee7e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x5071);
        EXPECT(gbc.pc(), 0xee7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee7e), 0x5f);
        // 5F 0081
        gbc.setState(0x6e7, 0xd81a, 0xd700, 0x41d8, 0xd947, 0xe6d6, 0x1, 0x0);
        gbc.writeMem(0x6e7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xd81a);
        EXPECT(gbc.pc(), 0x6e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0082
        gbc.setState(0xd6df, 0xdb21, 0xf3f0, 0x5639, 0xa057, 0xb13a, 0x1, 0x0);
        gbc.writeMem(0xd6df, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xdb21);
        EXPECT(gbc.pc(), 0xd6e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6df), 0x5f);
        // 5F 0083
        gbc.setState(0x131a, 0x1005, 0xed10, 0x998a, 0xc0e1, 0x1c23, 0x1, 0x0);
        gbc.writeMem(0x131a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1005);
        EXPECT(gbc.pc(), 0x131b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0084
        gbc.setState(0xc1dd, 0xb2f5, 0x16a0, 0x7263, 0x190f, 0xef8, 0x0, 0x0);
        gbc.writeMem(0xc1dd, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xb2f5);
        EXPECT(gbc.pc(), 0xc1de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1dd), 0x5f);
        // 5F 0085
        gbc.setState(0x1d24, 0x8f98, 0xa0f0, 0x33e0, 0xcdd7, 0xfe0a, 0x1, 0x1);
        gbc.writeMem(0x1d24, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x8f98);
        EXPECT(gbc.pc(), 0x1d25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0086
        gbc.setState(0x8fc, 0x530c, 0xcb50, 0xcc80, 0xdd71, 0xff1c, 0x0, 0x0);
        gbc.writeMem(0x8fc, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x530c);
        EXPECT(gbc.pc(), 0x8fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0087
        gbc.setState(0x84b0, 0x6860, 0xc100, 0xd4b9, 0x2436, 0xd9fa, 0x1, 0x0);
        gbc.writeMem(0x84b0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x6860);
        EXPECT(gbc.pc(), 0x84b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84b0), 0x5f);
        // 5F 0088
        gbc.setState(0x9a94, 0x4ed, 0x4d00, 0xc56f, 0xfddd, 0xb01f, 0x1, 0x0);
        gbc.writeMem(0x9a94, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x4ed);
        EXPECT(gbc.pc(), 0x9a95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a94), 0x5f);
        // 5F 0089
        gbc.setState(0xc42e, 0x7b32, 0x87f0, 0xb1ae, 0xa619, 0xa43, 0x1, 0x0);
        gbc.writeMem(0xc42e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x7b32);
        EXPECT(gbc.pc(), 0xc42f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc42e), 0x5f);
        // 5F 008A
        gbc.setState(0x55c2, 0xe510, 0x1330, 0x38e2, 0xf36f, 0x53be, 0x0, 0x1);
        gbc.writeMem(0x55c2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xe510);
        EXPECT(gbc.pc(), 0x55c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 008C
        gbc.setState(0xabaf, 0x2d67, 0x6970, 0xc06e, 0x3ec, 0xa3f4, 0x0, 0x1);
        gbc.writeMem(0xabaf, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x2d67);
        EXPECT(gbc.pc(), 0xabb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabaf), 0x5f);
        // 5F 008D
        gbc.setState(0x65cf, 0xcd33, 0xa760, 0x1139, 0xe68f, 0xe449, 0x0, 0x0);
        gbc.writeMem(0x65cf, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xcd33);
        EXPECT(gbc.pc(), 0x65d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 008E
        gbc.setState(0x3c50, 0xdf46, 0xb940, 0x38f6, 0x5454, 0xe141, 0x1, 0x0);
        gbc.writeMem(0x3c50, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xdf46);
        EXPECT(gbc.pc(), 0x3c51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 008F
        gbc.setState(0xcdf5, 0xf014, 0x3030, 0xe301, 0x858, 0xe420, 0x0, 0x1);
        gbc.writeMem(0xcdf5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xf014);
        EXPECT(gbc.pc(), 0xcdf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdf5), 0x5f);
        // 5F 0090
        gbc.setState(0x4483, 0xe698, 0x7fe0, 0xd0e, 0x8c6c, 0x88d6, 0x1, 0x1);
        gbc.writeMem(0x4483, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xe698);
        EXPECT(gbc.pc(), 0x4484);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0091
        gbc.setState(0xac7a, 0xb4ac, 0x4c00, 0xde7, 0x85fa, 0x3083, 0x1, 0x1);
        gbc.writeMem(0xac7a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xb4ac);
        EXPECT(gbc.pc(), 0xac7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac7a), 0x5f);
        // 5F 0092
        gbc.setState(0x1682, 0xede3, 0x36b0, 0x381c, 0x3477, 0xf67, 0x1, 0x1);
        gbc.writeMem(0x1682, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xede3);
        EXPECT(gbc.pc(), 0x1683);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0093
        gbc.setState(0x7ad, 0x9ff8, 0xd050, 0x186d, 0xf61a, 0xe436, 0x0, 0x0);
        gbc.writeMem(0x7ad, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x9ff8);
        EXPECT(gbc.pc(), 0x7ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0094
        gbc.setState(0x5262, 0xdfbe, 0x4330, 0x48bb, 0x4a20, 0x268d, 0x0, 0x0);
        gbc.writeMem(0x5262, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xdfbe);
        EXPECT(gbc.pc(), 0x5263);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0095
        gbc.setState(0x1d90, 0x7698, 0x3df0, 0xa3e4, 0x1f31, 0xae09, 0x0, 0x1);
        gbc.writeMem(0x1d90, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x7698);
        EXPECT(gbc.pc(), 0x1d91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0096
        gbc.setState(0x8dd, 0xb2c3, 0x9920, 0xff4a, 0xc1a1, 0x877a, 0x0, 0x1);
        gbc.writeMem(0x8dd, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xb2c3);
        EXPECT(gbc.pc(), 0x8de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0097
        gbc.setState(0x8cbc, 0x392d, 0x60b0, 0xf573, 0x9af3, 0xd84a, 0x0, 0x1);
        gbc.writeMem(0x8cbc, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x392d);
        EXPECT(gbc.pc(), 0x8cbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cbc), 0x5f);
        // 5F 0098
        gbc.setState(0x2f64, 0x813b, 0xb160, 0xb7c0, 0x920e, 0x8aa2, 0x1, 0x1);
        gbc.writeMem(0x2f64, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x813b);
        EXPECT(gbc.pc(), 0x2f65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0099
        gbc.setState(0xeb43, 0x3b26, 0x4560, 0xcbf8, 0x9c76, 0xa294, 0x0, 0x0);
        gbc.writeMem(0xeb43, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x3b26);
        EXPECT(gbc.pc(), 0xeb44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb43), 0x5f);
        // 5F 009A
        gbc.setState(0x9198, 0xa1ba, 0x6850, 0x1843, 0x4dea, 0xd982, 0x0, 0x1);
        gbc.writeMem(0x9198, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xa1ba);
        EXPECT(gbc.pc(), 0x9199);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9198), 0x5f);
        // 5F 009B
        gbc.setState(0x1ba0, 0xc71d, 0x1ea0, 0x108f, 0x8191, 0x334f, 0x0, 0x1);
        gbc.writeMem(0x1ba0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xc71d);
        EXPECT(gbc.pc(), 0x1ba1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 009D
        gbc.setState(0xe05, 0x60cd, 0xef50, 0x83a0, 0xfb81, 0x4913, 0x1, 0x0);
        gbc.writeMem(0xe05, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x60cd);
        EXPECT(gbc.pc(), 0xe06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 009E
        gbc.setState(0xcb92, 0x15d0, 0xab40, 0x1fa8, 0xcb6b, 0xaebe, 0x0, 0x0);
        gbc.writeMem(0xcb92, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x15d0);
        EXPECT(gbc.pc(), 0xcb93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb92), 0x5f);
        // 5F 009F
        gbc.setState(0x3e19, 0x86ad, 0x9970, 0x57f6, 0xdfe8, 0x50a7, 0x0, 0x0);
        gbc.writeMem(0x3e19, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x86ad);
        EXPECT(gbc.pc(), 0x3e1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00A0
        gbc.setState(0x64b8, 0xd0ff, 0x72f0, 0xe79f, 0xfee0, 0x928d, 0x1, 0x0);
        gbc.writeMem(0x64b8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xd0ff);
        EXPECT(gbc.pc(), 0x64b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00A1
        gbc.setState(0x47c6, 0xb363, 0x87b0, 0xe3f5, 0x1d3c, 0x3d15, 0x0, 0x0);
        gbc.writeMem(0x47c6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb363);
        EXPECT(gbc.pc(), 0x47c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00A2
        gbc.setState(0xaa54, 0xaf2e, 0x28b0, 0xd835, 0xce6e, 0x1063, 0x0, 0x1);
        gbc.writeMem(0xaa54, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xaf2e);
        EXPECT(gbc.pc(), 0xaa55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa54), 0x5f);
        // 5F 00A3
        gbc.setState(0x3a45, 0x6fda, 0x2f00, 0x455c, 0xc30b, 0x202d, 0x1, 0x1);
        gbc.writeMem(0x3a45, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x6fda);
        EXPECT(gbc.pc(), 0x3a46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00A4
        gbc.setState(0x3d62, 0x66aa, 0x3460, 0x602d, 0x7bd6, 0x23fa, 0x1, 0x1);
        gbc.writeMem(0x3d62, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x66aa);
        EXPECT(gbc.pc(), 0x3d63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 00A5
        gbc.setState(0xa93f, 0xb178, 0xcf20, 0x14fa, 0x2a0a, 0x9a37, 0x0, 0x1);
        gbc.writeMem(0xa93f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xb178);
        EXPECT(gbc.pc(), 0xa940);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa93f), 0x5f);
        // 5F 00A6
        gbc.setState(0xafa, 0x703f, 0xd9c0, 0xb77f, 0xf1cf, 0xc7e3, 0x0, 0x0);
        gbc.writeMem(0xafa, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x703f);
        EXPECT(gbc.pc(), 0xafb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00A7
        gbc.setState(0x5d9f, 0x3b15, 0x8c60, 0x1b6f, 0x7014, 0x7df7, 0x0, 0x1);
        gbc.writeMem(0x5d9f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x3b15);
        EXPECT(gbc.pc(), 0x5da0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 00A8
        gbc.setState(0xc772, 0xb75d, 0x59e0, 0x6697, 0x5f3c, 0xa11f, 0x0, 0x1);
        gbc.writeMem(0xc772, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xb75d);
        EXPECT(gbc.pc(), 0xc773);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc772), 0x5f);
        // 5F 00A9
        gbc.setState(0x4187, 0x6c7f, 0xa1c0, 0x206d, 0x19f0, 0x2b88, 0x1, 0x0);
        gbc.writeMem(0x4187, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x6c7f);
        EXPECT(gbc.pc(), 0x4188);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00AA
        gbc.setState(0x310b, 0xdccf, 0x2530, 0xaf90, 0x7c09, 0x3259, 0x1, 0x0);
        gbc.writeMem(0x310b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xdccf);
        EXPECT(gbc.pc(), 0x310c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00AB
        gbc.setState(0x1ace, 0xd84b, 0x66f0, 0x4b2c, 0x99fb, 0xfc20, 0x0, 0x1);
        gbc.writeMem(0x1ace, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd84b);
        EXPECT(gbc.pc(), 0x1acf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00AC
        gbc.setState(0xafb3, 0xe62, 0xcc60, 0x3cbc, 0x6a2f, 0x8371, 0x0, 0x1);
        gbc.writeMem(0xafb3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xe62);
        EXPECT(gbc.pc(), 0xafb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafb3), 0x5f);
        // 5F 00AD
        gbc.setState(0x6e6f, 0xfa8f, 0x22b0, 0x2ae6, 0x5063, 0x56f1, 0x0, 0x1);
        gbc.writeMem(0x6e6f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xfa8f);
        EXPECT(gbc.pc(), 0x6e70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00AE
        gbc.setState(0x6d43, 0xd649, 0x1460, 0xba21, 0xfa6e, 0xcf39, 0x0, 0x0);
        gbc.writeMem(0x6d43, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xd649);
        EXPECT(gbc.pc(), 0x6d44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 00AF
        gbc.setState(0xc87b, 0xc32a, 0x110, 0x7fde, 0x4904, 0x5385, 0x1, 0x1);
        gbc.writeMem(0xc87b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xc32a);
        EXPECT(gbc.pc(), 0xc87c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc87b), 0x5f);
        // 5F 00B0
        gbc.setState(0x22fd, 0xe67f, 0x4320, 0x159a, 0xb3ad, 0x4e29, 0x0, 0x0);
        gbc.writeMem(0x22fd, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xe67f);
        EXPECT(gbc.pc(), 0x22fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 00B2
        gbc.setState(0xe93f, 0x5c19, 0x2090, 0xcda1, 0xe053, 0x4016, 0x1, 0x1);
        gbc.writeMem(0xe93f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x5c19);
        EXPECT(gbc.pc(), 0xe940);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe93f), 0x5f);
        // 5F 00B3
        gbc.setState(0x75be, 0x31c4, 0x2190, 0xb0ab, 0xc417, 0x39a, 0x1, 0x0);
        gbc.writeMem(0x75be, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x31c4);
        EXPECT(gbc.pc(), 0x75bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 00B4
        gbc.setState(0xac7e, 0xd398, 0x250, 0x4c2b, 0x8bb4, 0x35cb, 0x1, 0x1);
        gbc.writeMem(0xac7e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xd398);
        EXPECT(gbc.pc(), 0xac7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac7e), 0x5f);
        // 5F 00B5
        gbc.setState(0x30b1, 0xf8ae, 0xd980, 0xe075, 0xc7c9, 0x217e, 0x1, 0x1);
        gbc.writeMem(0x30b1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xf8ae);
        EXPECT(gbc.pc(), 0x30b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00B6
        gbc.setState(0x4bc, 0xbeef, 0x9490, 0x4baf, 0xca53, 0x317d, 0x0, 0x0);
        gbc.writeMem(0x4bc, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xbeef);
        EXPECT(gbc.pc(), 0x4bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 00B7
        gbc.setState(0x11a4, 0xd0b9, 0x9db0, 0xc0f5, 0x9836, 0x3f77, 0x0, 0x0);
        gbc.writeMem(0x11a4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xd0b9);
        EXPECT(gbc.pc(), 0x11a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00B8
        gbc.setState(0x8b4, 0xf2fc, 0x46b0, 0xc07d, 0xd52a, 0x5f2f, 0x0, 0x0);
        gbc.writeMem(0x8b4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xf2fc);
        EXPECT(gbc.pc(), 0x8b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00B9
        gbc.setState(0xd788, 0xd188, 0xe840, 0xebbe, 0x941b, 0x4d30, 0x0, 0x0);
        gbc.writeMem(0xd788, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd188);
        EXPECT(gbc.pc(), 0xd789);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd788), 0x5f);
        // 5F 00BA
        gbc.setState(0xc7d5, 0x819d, 0xf7d0, 0xd2e4, 0x725b, 0xe8f7, 0x1, 0x0);
        gbc.writeMem(0xc7d5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x819d);
        EXPECT(gbc.pc(), 0xc7d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7d5), 0x5f);
        // 5F 00BB
        gbc.setState(0xc22e, 0x72ea, 0x56f0, 0xd427, 0xff6c, 0x55e5, 0x0, 0x0);
        gbc.writeMem(0xc22e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x72ea);
        EXPECT(gbc.pc(), 0xc22f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc22e), 0x5f);
        // 5F 00BC
        gbc.setState(0x50da, 0x46fd, 0x3af0, 0xc98, 0x2e84, 0xbbff, 0x1, 0x0);
        gbc.writeMem(0x50da, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x46fd);
        EXPECT(gbc.pc(), 0x50db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00BD
        gbc.setState(0x3216, 0x9437, 0x2630, 0x1a03, 0x1786, 0x6470, 0x1, 0x1);
        gbc.writeMem(0x3216, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x9437);
        EXPECT(gbc.pc(), 0x3217);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00BE
        gbc.setState(0x1fab, 0x257d, 0xc40, 0x4677, 0x4ef6, 0xdf89, 0x1, 0x0);
        gbc.writeMem(0x1fab, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x257d);
        EXPECT(gbc.pc(), 0x1fac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00BF
        gbc.setState(0x9772, 0x56d1, 0x8d80, 0x6e41, 0x80b, 0x86bc, 0x1, 0x0);
        gbc.writeMem(0x9772, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x56d1);
        EXPECT(gbc.pc(), 0x9773);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9772), 0x5f);
        // 5F 00C0
        gbc.setState(0x6ca4, 0x6679, 0xbb00, 0xe7b6, 0x2123, 0xaade, 0x0, 0x1);
        gbc.writeMem(0x6ca4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6679);
        EXPECT(gbc.pc(), 0x6ca5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00C1
        gbc.setState(0x976f, 0xab59, 0x550, 0x6d71, 0xa1a2, 0x1e41, 0x0, 0x0);
        gbc.writeMem(0x976f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xab59);
        EXPECT(gbc.pc(), 0x9770);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x976f), 0x5f);
        // 5F 00C2
        gbc.setState(0xc851, 0xf4a8, 0x8440, 0x355f, 0x63fd, 0x84a8, 0x1, 0x1);
        gbc.writeMem(0xc851, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xf4a8);
        EXPECT(gbc.pc(), 0xc852);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc851), 0x5f);
        // 5F 00C3
        gbc.setState(0x7dec, 0x92ba, 0x5a40, 0x9ec2, 0xeb15, 0xfc28, 0x0, 0x1);
        gbc.writeMem(0x7dec, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x92ba);
        EXPECT(gbc.pc(), 0x7ded);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00C4
        gbc.setState(0x1d50, 0xd527, 0x8060, 0x72e9, 0x2c81, 0xf7a0, 0x1, 0x1);
        gbc.writeMem(0x1d50, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xd527);
        EXPECT(gbc.pc(), 0x1d51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 00C5
        gbc.setState(0x3677, 0x442d, 0xede0, 0xe621, 0xcfb, 0x92c4, 0x0, 0x0);
        gbc.writeMem(0x3677, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x442d);
        EXPECT(gbc.pc(), 0x3678);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 00C6
        gbc.setState(0x5638, 0xbe9, 0x10f0, 0xe05d, 0xafa8, 0x2b5b, 0x0, 0x1);
        gbc.writeMem(0x5638, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xbe9);
        EXPECT(gbc.pc(), 0x5639);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00C7
        gbc.setState(0x2156, 0x99d0, 0x78b0, 0xc95c, 0x4d76, 0x28e9, 0x0, 0x0);
        gbc.writeMem(0x2156, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x99d0);
        EXPECT(gbc.pc(), 0x2157);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00C8
        gbc.setState(0xba22, 0x56e7, 0x6e70, 0x945, 0x96d1, 0x9da9, 0x0, 0x0);
        gbc.writeMem(0xba22, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x56e7);
        EXPECT(gbc.pc(), 0xba23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba22), 0x5f);
        // 5F 00C9
        gbc.setState(0xc00c, 0x421e, 0x1290, 0x4f7b, 0x358c, 0xb942, 0x0, 0x0);
        gbc.writeMem(0xc00c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x421e);
        EXPECT(gbc.pc(), 0xc00d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc00c), 0x5f);
        // 5F 00CA
        gbc.setState(0x50d7, 0xec1d, 0x8b50, 0x7386, 0x76e9, 0x9191, 0x0, 0x1);
        gbc.writeMem(0x50d7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xec1d);
        EXPECT(gbc.pc(), 0x50d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 00CB
        gbc.setState(0x984f, 0xe303, 0x9880, 0xb84b, 0xaca6, 0x3fcc, 0x1, 0x0);
        gbc.writeMem(0x984f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xe303);
        EXPECT(gbc.pc(), 0x9850);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x984f), 0x5f);
        // 5F 00CC
        gbc.setState(0x3d81, 0x44c5, 0xd6f0, 0x5714, 0x9027, 0x69aa, 0x0, 0x0);
        gbc.writeMem(0x3d81, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x44c5);
        EXPECT(gbc.pc(), 0x3d82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00CD
        gbc.setState(0x49c9, 0x20c6, 0x8b70, 0x21a8, 0x720a, 0x3747, 0x1, 0x0);
        gbc.writeMem(0x49c9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x20c6);
        EXPECT(gbc.pc(), 0x49ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00CE
        gbc.setState(0x8f1f, 0xaa28, 0x4f90, 0x4ca, 0xaf64, 0x1d33, 0x0, 0x0);
        gbc.writeMem(0x8f1f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xaa28);
        EXPECT(gbc.pc(), 0x8f20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f1f), 0x5f);
        // 5F 00CF
        gbc.setState(0x1df8, 0x2110, 0x4900, 0x2c1f, 0xfb69, 0x94a, 0x1, 0x1);
        gbc.writeMem(0x1df8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x2110);
        EXPECT(gbc.pc(), 0x1df9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00D0
        gbc.setState(0x100f, 0x56df, 0xbf70, 0xa191, 0x264e, 0xa819, 0x1, 0x1);
        gbc.writeMem(0x100f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x56df);
        EXPECT(gbc.pc(), 0x1010);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00D1
        gbc.setState(0x3a16, 0x6b71, 0x8f80, 0x9558, 0x64d7, 0xf909, 0x0, 0x0);
        gbc.writeMem(0x3a16, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x6b71);
        EXPECT(gbc.pc(), 0x3a17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00D2
        gbc.setState(0xe693, 0x902b, 0xcc60, 0x7a6, 0xaeff, 0xde44, 0x0, 0x1);
        gbc.writeMem(0xe693, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x902b);
        EXPECT(gbc.pc(), 0xe694);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe693), 0x5f);
        // 5F 00D3
        gbc.setState(0x53c6, 0xf47a, 0x74a0, 0x55ee, 0x5796, 0x7f84, 0x1, 0x1);
        gbc.writeMem(0x53c6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xf47a);
        EXPECT(gbc.pc(), 0x53c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 00D4
        gbc.setState(0xca7a, 0xf7dc, 0x7990, 0x844c, 0xc241, 0xb746, 0x0, 0x0);
        gbc.writeMem(0xca7a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xf7dc);
        EXPECT(gbc.pc(), 0xca7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca7a), 0x5f);
        // 5F 00D6
        gbc.setState(0x1213, 0x7d1d, 0xe050, 0x8d0d, 0x27b0, 0x3ebe, 0x1, 0x1);
        gbc.writeMem(0x1213, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x7d1d);
        EXPECT(gbc.pc(), 0x1214);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 00D7
        gbc.setState(0x66b2, 0xb4e0, 0x1250, 0xdf0c, 0x3084, 0x44f3, 0x1, 0x0);
        gbc.writeMem(0x66b2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xb4e0);
        EXPECT(gbc.pc(), 0x66b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 00D8
        gbc.setState(0x51da, 0x857f, 0xb9b0, 0xa442, 0xa7b5, 0x1c91, 0x1, 0x0);
        gbc.writeMem(0x51da, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x857f);
        EXPECT(gbc.pc(), 0x51db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00D9
        gbc.setState(0x9d3, 0x8bdf, 0xfcf0, 0x6238, 0x919a, 0x5ec6, 0x1, 0x1);
        gbc.writeMem(0x9d3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x8bdf);
        EXPECT(gbc.pc(), 0x9d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00DA
        gbc.setState(0x11ff, 0x4111, 0xf450, 0x5682, 0x3754, 0x2006, 0x1, 0x0);
        gbc.writeMem(0x11ff, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x4111);
        EXPECT(gbc.pc(), 0x1200);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 00DD
        gbc.setState(0x5b29, 0x1e62, 0x8190, 0x6648, 0x15fd, 0xcedf, 0x1, 0x1);
        gbc.writeMem(0x5b29, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x1e62);
        EXPECT(gbc.pc(), 0x5b2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 00DE
        gbc.setState(0x5332, 0x91b0, 0xe400, 0x8ab9, 0x8245, 0x8450, 0x1, 0x1);
        gbc.writeMem(0x5332, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x91b0);
        EXPECT(gbc.pc(), 0x5333);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00DF
        gbc.setState(0x6255, 0xda81, 0x37d0, 0x331d, 0xdd63, 0x25e3, 0x1, 0x0);
        gbc.writeMem(0x6255, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xda81);
        EXPECT(gbc.pc(), 0x6256);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 00E0
        gbc.setState(0x2c04, 0x97e4, 0xcf10, 0xa1a7, 0x5f33, 0x5432, 0x0, 0x1);
        gbc.writeMem(0x2c04, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x97e4);
        EXPECT(gbc.pc(), 0x2c05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 00E1
        gbc.setState(0xcfe1, 0x8cfb, 0x8460, 0x280d, 0xc6a4, 0x23d0, 0x1, 0x0);
        gbc.writeMem(0xcfe1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x8cfb);
        EXPECT(gbc.pc(), 0xcfe2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfe1), 0x5f);
        // 5F 00E2
        gbc.setState(0xc314, 0xde9e, 0x4ca0, 0x9b98, 0x734f, 0xe047, 0x1, 0x1);
        gbc.writeMem(0xc314, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xde9e);
        EXPECT(gbc.pc(), 0xc315);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc314), 0x5f);
        // 5F 00E3
        gbc.setState(0x5c41, 0x1ab2, 0xdb40, 0xe835, 0x2241, 0x5b61, 0x0, 0x0);
        gbc.writeMem(0x5c41, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x1ab2);
        EXPECT(gbc.pc(), 0x5c42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00E4
        gbc.setState(0x80f9, 0xd344, 0x410, 0x1429, 0x404f, 0xc586, 0x0, 0x0);
        gbc.writeMem(0x80f9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xd344);
        EXPECT(gbc.pc(), 0x80fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80f9), 0x5f);
        // 5F 00E5
        gbc.setState(0xc975, 0x378f, 0xc820, 0x64b2, 0x84b1, 0xe745, 0x1, 0x0);
        gbc.writeMem(0xc975, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x378f);
        EXPECT(gbc.pc(), 0xc976);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc975), 0x5f);
        // 5F 00E6
        gbc.setState(0x80b, 0x2b18, 0x1ac0, 0xb997, 0x7f3e, 0x4051, 0x1, 0x1);
        gbc.writeMem(0x80b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x2b18);
        EXPECT(gbc.pc(), 0x80c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00E7
        gbc.setState(0x97e8, 0x657b, 0x4990, 0x6274, 0x283, 0xdf09, 0x0, 0x0);
        gbc.writeMem(0x97e8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x657b);
        EXPECT(gbc.pc(), 0x97e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97e8), 0x5f);
        // 5F 00E8
        gbc.setState(0xd2e2, 0xd6da, 0x1df0, 0xd90d, 0xaa66, 0xabe4, 0x0, 0x0);
        gbc.writeMem(0xd2e2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xd6da);
        EXPECT(gbc.pc(), 0xd2e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2e2), 0x5f);
        // 5F 00E9
        gbc.setState(0x966f, 0xffc5, 0xf0e0, 0x421f, 0x1331, 0x24bc, 0x1, 0x0);
        gbc.writeMem(0x966f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xffc5);
        EXPECT(gbc.pc(), 0x9670);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x966f), 0x5f);
        // 5F 00EA
        gbc.setState(0x3e97, 0x2ff6, 0xa860, 0x6037, 0x76a3, 0x65b0, 0x0, 0x0);
        gbc.writeMem(0x3e97, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x2ff6);
        EXPECT(gbc.pc(), 0x3e98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 00EC
        gbc.setState(0x1966, 0xc673, 0x9dc0, 0xe31c, 0xc041, 0xc416, 0x1, 0x0);
        gbc.writeMem(0x1966, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xc673);
        EXPECT(gbc.pc(), 0x1967);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00ED
        gbc.setState(0x8ed3, 0x17bc, 0x1b30, 0x38d, 0x453f, 0x216f, 0x0, 0x0);
        gbc.writeMem(0x8ed3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x17bc);
        EXPECT(gbc.pc(), 0x8ed4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ed3), 0x5f);
        // 5F 00EE
        gbc.setState(0x31c3, 0xa458, 0x5720, 0x2e30, 0xf6cb, 0x453e, 0x1, 0x0);
        gbc.writeMem(0x31c3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xa458);
        EXPECT(gbc.pc(), 0x31c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 00EF
        gbc.setState(0x4978, 0x7b9d, 0xb120, 0x5c93, 0x37b2, 0x8ffd, 0x0, 0x1);
        gbc.writeMem(0x4978, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x7b9d);
        EXPECT(gbc.pc(), 0x4979);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 00F0
        gbc.setState(0x214e, 0x2202, 0x3730, 0xe65f, 0x55fb, 0x5b6, 0x1, 0x0);
        gbc.writeMem(0x214e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x2202);
        EXPECT(gbc.pc(), 0x214f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00F1
        gbc.setState(0xeed5, 0xe37, 0x1e90, 0xbf6c, 0x51e, 0xf865, 0x1, 0x1);
        gbc.writeMem(0xeed5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xe37);
        EXPECT(gbc.pc(), 0xeed6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeed5), 0x5f);
        // 5F 00F2
        gbc.setState(0xb0eb, 0xe2cd, 0xac00, 0xd644, 0xf232, 0xb20a, 0x1, 0x0);
        gbc.writeMem(0xb0eb, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xe2cd);
        EXPECT(gbc.pc(), 0xb0ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0eb), 0x5f);
        // 5F 00F3
        gbc.setState(0x3b95, 0x79b6, 0xc6f0, 0xdf2f, 0xb46b, 0xd9d1, 0x1, 0x1);
        gbc.writeMem(0x3b95, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x79b6);
        EXPECT(gbc.pc(), 0x3b96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00F4
        gbc.setState(0x1f81, 0x6b0f, 0x5020, 0x5649, 0x4ea6, 0x70a3, 0x1, 0x1);
        gbc.writeMem(0x1f81, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x6b0f);
        EXPECT(gbc.pc(), 0x1f82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 00F5
        gbc.setState(0x7e06, 0x4593, 0x52a0, 0x401a, 0x4985, 0xff0f, 0x0, 0x1);
        gbc.writeMem(0x7e06, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x4593);
        EXPECT(gbc.pc(), 0x7e07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 00F6
        gbc.setState(0xcc07, 0x87e6, 0x7160, 0xa68c, 0xad93, 0x461b, 0x1, 0x0);
        gbc.writeMem(0xcc07, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x87e6);
        EXPECT(gbc.pc(), 0xcc08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc07), 0x5f);
        // 5F 00F7
        gbc.setState(0xf29, 0x2f3b, 0x6d70, 0x955f, 0xec3d, 0xa5af, 0x0, 0x1);
        gbc.writeMem(0xf29, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x2f3b);
        EXPECT(gbc.pc(), 0xf2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 00F8
        gbc.setState(0xc95f, 0x96e2, 0x6a50, 0x64d4, 0x3150, 0xaee7, 0x1, 0x0);
        gbc.writeMem(0xc95f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x96e2);
        EXPECT(gbc.pc(), 0xc960);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc95f), 0x5f);
        // 5F 00F9
        gbc.setState(0xe786, 0x764b, 0x1710, 0x5635, 0xd034, 0x7cd, 0x0, 0x1);
        gbc.writeMem(0xe786, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x764b);
        EXPECT(gbc.pc(), 0xe787);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe786), 0x5f);
        // 5F 00FA
        gbc.setState(0xad7d, 0xf409, 0xc890, 0x32b2, 0x4b76, 0x2339, 0x1, 0x0);
        gbc.writeMem(0xad7d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xf409);
        EXPECT(gbc.pc(), 0xad7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad7d), 0x5f);
        // 5F 00FB
        gbc.setState(0x4a2, 0x7e0c, 0x2110, 0x5709, 0xdcd0, 0x398b, 0x0, 0x0);
        gbc.writeMem(0x4a2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x7e0c);
        EXPECT(gbc.pc(), 0x4a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 00FC
        gbc.setState(0x1ed5, 0xcbe, 0x80, 0x310c, 0x9083, 0x19f3, 0x1, 0x1);
        gbc.writeMem(0x1ed5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xcbe);
        EXPECT(gbc.pc(), 0x1ed6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 00FD
        gbc.setState(0x8e9a, 0xbff1, 0xaab0, 0x8e35, 0xb8ac, 0xc6ba, 0x1, 0x1);
        gbc.writeMem(0x8e9a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xbff1);
        EXPECT(gbc.pc(), 0x8e9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e9a), 0x5f);
        // 5F 00FE
        gbc.setState(0x4811, 0x570c, 0x38a0, 0x392a, 0x4a70, 0x827e, 0x1, 0x0);
        gbc.writeMem(0x4811, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x570c);
        EXPECT(gbc.pc(), 0x4812);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 00FF
        gbc.setState(0xce7d, 0x8dfb, 0x4ba0, 0xf9c7, 0xf6d6, 0xb077, 0x0, 0x1);
        gbc.writeMem(0xce7d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x8dfb);
        EXPECT(gbc.pc(), 0xce7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce7d), 0x5f);
        // 5F 0100
        gbc.setState(0x8f69, 0x99ea, 0xb70, 0x9f0e, 0x38f0, 0x7174, 0x0, 0x1);
        gbc.writeMem(0x8f69, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x99ea);
        EXPECT(gbc.pc(), 0x8f6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f69), 0x5f);
        // 5F 0101
        gbc.setState(0xc0b3, 0x183a, 0xc480, 0xc8d9, 0xf387, 0xdaea, 0x0, 0x0);
        gbc.writeMem(0xc0b3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x183a);
        EXPECT(gbc.pc(), 0xc0b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0b3), 0x5f);
        // 5F 0102
        gbc.setState(0x1e4, 0x273b, 0x76a0, 0xe401, 0x456d, 0x222f, 0x1, 0x1);
        gbc.writeMem(0x1e4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x273b);
        EXPECT(gbc.pc(), 0x1e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0103
        gbc.setState(0x59dc, 0xe852, 0xa530, 0x2928, 0xa758, 0xa928, 0x1, 0x1);
        gbc.writeMem(0x59dc, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xe852);
        EXPECT(gbc.pc(), 0x59dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0104
        gbc.setState(0x38c8, 0x3674, 0x9b20, 0x77ee, 0x1922, 0x2e03, 0x0, 0x0);
        gbc.writeMem(0x38c8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x3674);
        EXPECT(gbc.pc(), 0x38c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0105
        gbc.setState(0x69b8, 0x183f, 0x7a0, 0x9420, 0x5bd2, 0xb8d, 0x1, 0x1);
        gbc.writeMem(0x69b8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x183f);
        EXPECT(gbc.pc(), 0x69b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0106
        gbc.setState(0x4e97, 0xa997, 0xf060, 0xd1f, 0xc609, 0x7c99, 0x1, 0x0);
        gbc.writeMem(0x4e97, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xa997);
        EXPECT(gbc.pc(), 0x4e98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0107
        gbc.setState(0xdfa6, 0x2fed, 0xde60, 0xe84e, 0x4dd3, 0x9878, 0x1, 0x0);
        gbc.writeMem(0xdfa6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x2fed);
        EXPECT(gbc.pc(), 0xdfa7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfa6), 0x5f);
        // 5F 0108
        gbc.setState(0x7048, 0xff6f, 0x2c30, 0x8935, 0x970f, 0x860b, 0x0, 0x0);
        gbc.writeMem(0x7048, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xff6f);
        EXPECT(gbc.pc(), 0x7049);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0109
        gbc.setState(0x885e, 0x73a5, 0x8030, 0xb018, 0xd483, 0x5817, 0x1, 0x0);
        gbc.writeMem(0x885e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x73a5);
        EXPECT(gbc.pc(), 0x885f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x885e), 0x5f);
        // 5F 010A
        gbc.setState(0x9404, 0x4f1f, 0xeeb0, 0x1cf5, 0x2fa8, 0xf9db, 0x1, 0x1);
        gbc.writeMem(0x9404, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x4f1f);
        EXPECT(gbc.pc(), 0x9405);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9404), 0x5f);
        // 5F 010B
        gbc.setState(0x9d57, 0x707a, 0x3c00, 0x35f2, 0xb6a6, 0x6342, 0x1, 0x1);
        gbc.writeMem(0x9d57, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x707a);
        EXPECT(gbc.pc(), 0x9d58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d57), 0x5f);
        // 5F 010C
        gbc.setState(0x12ea, 0xde69, 0x9120, 0xa8f1, 0x9b0b, 0x89dc, 0x0, 0x0);
        gbc.writeMem(0x12ea, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xde69);
        EXPECT(gbc.pc(), 0x12eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 010E
        gbc.setState(0x3c11, 0xccdd, 0xef30, 0x5586, 0x5790, 0xd672, 0x1, 0x1);
        gbc.writeMem(0x3c11, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xccdd);
        EXPECT(gbc.pc(), 0x3c12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 010F
        gbc.setState(0x185c, 0x2dc4, 0x2f60, 0x86cc, 0xe6c4, 0xa53c, 0x0, 0x1);
        gbc.writeMem(0x185c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x2dc4);
        EXPECT(gbc.pc(), 0x185d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0110
        gbc.setState(0x93b1, 0xf972, 0xa290, 0xd9af, 0x1248, 0x999, 0x1, 0x0);
        gbc.writeMem(0x93b1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xf972);
        EXPECT(gbc.pc(), 0x93b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93b1), 0x5f);
        // 5F 0111
        gbc.setState(0x4142, 0x6995, 0x1cb0, 0x9c27, 0xb170, 0x2aa0, 0x0, 0x0);
        gbc.writeMem(0x4142, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x6995);
        EXPECT(gbc.pc(), 0x4143);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0112
        gbc.setState(0x5b4a, 0x6ff1, 0x1a40, 0x6348, 0xd33b, 0xd1e1, 0x1, 0x0);
        gbc.writeMem(0x5b4a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x6ff1);
        EXPECT(gbc.pc(), 0x5b4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0113
        gbc.setState(0x36d4, 0xb646, 0x5dd0, 0xaa62, 0x67d4, 0xb046, 0x0, 0x1);
        gbc.writeMem(0x36d4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xb646);
        EXPECT(gbc.pc(), 0x36d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0114
        gbc.setState(0xdbc0, 0xfcb7, 0x7c30, 0x29bd, 0xb233, 0x65c6, 0x1, 0x1);
        gbc.writeMem(0xdbc0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xfcb7);
        EXPECT(gbc.pc(), 0xdbc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbc0), 0x5f);
        // 5F 0115
        gbc.setState(0x218d, 0x590d, 0xe880, 0x27f4, 0x5e16, 0xdcc1, 0x1, 0x0);
        gbc.writeMem(0x218d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x590d);
        EXPECT(gbc.pc(), 0x218e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0116
        gbc.setState(0x84af, 0x1f70, 0x3780, 0x8ed6, 0x368e, 0x41a4, 0x1, 0x1);
        gbc.writeMem(0x84af, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x1f70);
        EXPECT(gbc.pc(), 0x84b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84af), 0x5f);
        // 5F 0117
        gbc.setState(0x59a6, 0xc20f, 0x6290, 0x1a5e, 0x19bd, 0x6439, 0x0, 0x1);
        gbc.writeMem(0x59a6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xc20f);
        EXPECT(gbc.pc(), 0x59a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0118
        gbc.setState(0x2d59, 0x7b2f, 0x59c0, 0x4c88, 0x3863, 0x2c08, 0x1, 0x1);
        gbc.writeMem(0x2d59, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x7b2f);
        EXPECT(gbc.pc(), 0x2d5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 011A
        gbc.setState(0xcd0, 0x9160, 0xb570, 0xa520, 0x61b8, 0xd8b9, 0x1, 0x1);
        gbc.writeMem(0xcd0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x9160);
        EXPECT(gbc.pc(), 0xcd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 011B
        gbc.setState(0x58c4, 0xb6a0, 0x3980, 0x97aa, 0x401a, 0x3501, 0x1, 0x1);
        gbc.writeMem(0x58c4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xb6a0);
        EXPECT(gbc.pc(), 0x58c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 011C
        gbc.setState(0xb8c3, 0x1b95, 0xb010, 0x331, 0x8bba, 0x94db, 0x0, 0x0);
        gbc.writeMem(0xb8c3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x1b95);
        EXPECT(gbc.pc(), 0xb8c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8c3), 0x5f);
        // 5F 011D
        gbc.setState(0x89e4, 0x77fa, 0x4060, 0x527b, 0x67fa, 0x1d67, 0x1, 0x1);
        gbc.writeMem(0x89e4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x77fa);
        EXPECT(gbc.pc(), 0x89e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89e4), 0x5f);
        // 5F 011E
        gbc.setState(0x22ef, 0x3a76, 0x2500, 0xfc46, 0x1c13, 0xbc1a, 0x1, 0x0);
        gbc.writeMem(0x22ef, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x3a76);
        EXPECT(gbc.pc(), 0x22f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 011F
        gbc.setState(0xca1c, 0xfe70, 0xfa40, 0x12ce, 0x6031, 0x6f84, 0x0, 0x0);
        gbc.writeMem(0xca1c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xfe70);
        EXPECT(gbc.pc(), 0xca1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca1c), 0x5f);
        // 5F 0120
        gbc.setState(0x52f7, 0x81d8, 0x28d0, 0xf692, 0x3c0e, 0x5f60, 0x0, 0x1);
        gbc.writeMem(0x52f7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x81d8);
        EXPECT(gbc.pc(), 0x52f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0121
        gbc.setState(0x5cb6, 0xd895, 0x7160, 0xa7ba, 0xd0bd, 0x8e20, 0x0, 0x1);
        gbc.writeMem(0x5cb6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd895);
        EXPECT(gbc.pc(), 0x5cb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0122
        gbc.setState(0x1421, 0x10b8, 0xd440, 0x23b5, 0xbd4d, 0x43f2, 0x1, 0x1);
        gbc.writeMem(0x1421, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x10b8);
        EXPECT(gbc.pc(), 0x1422);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0123
        gbc.setState(0x769d, 0x89d8, 0x50b0, 0xd1c3, 0xa6fb, 0x2c10, 0x0, 0x1);
        gbc.writeMem(0x769d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x89d8);
        EXPECT(gbc.pc(), 0x769e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0125
        gbc.setState(0xc0f6, 0x74d5, 0xb50, 0xb949, 0x6ff0, 0x49b0, 0x0, 0x1);
        gbc.writeMem(0xc0f6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x74d5);
        EXPECT(gbc.pc(), 0xc0f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0f6), 0x5f);
        // 5F 0126
        gbc.setState(0x4cb6, 0x47ea, 0xde70, 0xa05a, 0x8a6c, 0x6663, 0x0, 0x0);
        gbc.writeMem(0x4cb6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x47ea);
        EXPECT(gbc.pc(), 0x4cb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0127
        gbc.setState(0xd0d8, 0xdb57, 0x6520, 0x6cf7, 0xff91, 0x2ebf, 0x1, 0x1);
        gbc.writeMem(0xd0d8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xdb57);
        EXPECT(gbc.pc(), 0xd0d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0d8), 0x5f);
        // 5F 0128
        gbc.setState(0xb18b, 0xea79, 0xf160, 0x1d2a, 0xc16e, 0xcfa7, 0x0, 0x1);
        gbc.writeMem(0xb18b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xea79);
        EXPECT(gbc.pc(), 0xb18c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb18b), 0x5f);
        // 5F 0129
        gbc.setState(0x5faa, 0x99e5, 0xa330, 0xa0d0, 0x5132, 0xfd05, 0x1, 0x1);
        gbc.writeMem(0x5faa, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x99e5);
        EXPECT(gbc.pc(), 0x5fab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 012A
        gbc.setState(0x4905, 0x9a40, 0x1d0, 0xf4f3, 0x68ae, 0x9d72, 0x1, 0x1);
        gbc.writeMem(0x4905, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x9a40);
        EXPECT(gbc.pc(), 0x4906);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 012B
        gbc.setState(0xaf26, 0xa14a, 0x52a0, 0x7476, 0x1725, 0xcd64, 0x0, 0x1);
        gbc.writeMem(0xaf26, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xa14a);
        EXPECT(gbc.pc(), 0xaf27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf26), 0x5f);
        // 5F 012C
        gbc.setState(0xd668, 0x68a5, 0x64c0, 0xdca3, 0xae95, 0x57d3, 0x0, 0x0);
        gbc.writeMem(0xd668, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x68a5);
        EXPECT(gbc.pc(), 0xd669);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd668), 0x5f);
        // 5F 012E
        gbc.setState(0xd5d2, 0x897e, 0x74c0, 0xac63, 0x5860, 0xd352, 0x1, 0x0);
        gbc.writeMem(0xd5d2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x897e);
        EXPECT(gbc.pc(), 0xd5d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5d2), 0x5f);
        // 5F 012F
        gbc.setState(0x692, 0xe48d, 0x910, 0x4a53, 0xd364, 0x1fa2, 0x1, 0x1);
        gbc.writeMem(0x692, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xe48d);
        EXPECT(gbc.pc(), 0x693);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0130
        gbc.setState(0x9e8d, 0x653e, 0xe0, 0x3a83, 0xeff6, 0x72e7, 0x0, 0x0);
        gbc.writeMem(0x9e8d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x653e);
        EXPECT(gbc.pc(), 0x9e8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e8d), 0x5f);
        // 5F 0131
        gbc.setState(0x5567, 0x142a, 0xffb0, 0x1f48, 0x7d21, 0x757d, 0x1, 0x0);
        gbc.writeMem(0x5567, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x142a);
        EXPECT(gbc.pc(), 0x5568);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0132
        gbc.setState(0xd4d4, 0x8bea, 0xbb00, 0x52a2, 0x8d9b, 0xc948, 0x0, 0x0);
        gbc.writeMem(0xd4d4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x8bea);
        EXPECT(gbc.pc(), 0xd4d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4d4), 0x5f);
        // 5F 0133
        gbc.setState(0xd105, 0x48f4, 0x77c0, 0xc181, 0x6568, 0xdf34, 0x1, 0x0);
        gbc.writeMem(0xd105, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x48f4);
        EXPECT(gbc.pc(), 0xd106);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd105), 0x5f);
        // 5F 0135
        gbc.setState(0xe2bb, 0xc0ea, 0xb620, 0x711e, 0x6942, 0x6043, 0x0, 0x0);
        gbc.writeMem(0xe2bb, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xc0ea);
        EXPECT(gbc.pc(), 0xe2bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2bb), 0x5f);
        // 5F 0136
        gbc.setState(0x55c6, 0x3dde, 0xc5f0, 0xfad5, 0xd07, 0xbfdc, 0x0, 0x1);
        gbc.writeMem(0x55c6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x3dde);
        EXPECT(gbc.pc(), 0x55c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0137
        gbc.setState(0x6be8, 0x8146, 0x54b0, 0x8b1e, 0xc076, 0x63cc, 0x0, 0x0);
        gbc.writeMem(0x6be8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x8146);
        EXPECT(gbc.pc(), 0x6be9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0138
        gbc.setState(0xbd30, 0x224a, 0xeef0, 0xa51a, 0x6758, 0x2ec1, 0x1, 0x0);
        gbc.writeMem(0xbd30, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x224a);
        EXPECT(gbc.pc(), 0xbd31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd30), 0x5f);
        // 5F 0139
        gbc.setState(0xb322, 0x8e24, 0x5230, 0x451a, 0x1c1, 0x620c, 0x0, 0x1);
        gbc.writeMem(0xb322, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x8e24);
        EXPECT(gbc.pc(), 0xb323);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb322), 0x5f);
        // 5F 013A
        gbc.setState(0xc079, 0x7b6a, 0x3e30, 0x1aac, 0x72f4, 0xe3e7, 0x0, 0x0);
        gbc.writeMem(0xc079, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x7b6a);
        EXPECT(gbc.pc(), 0xc07a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc079), 0x5f);
        // 5F 013C
        gbc.setState(0xb467, 0x99ed, 0x71b0, 0xad3b, 0x85cb, 0x4793, 0x1, 0x1);
        gbc.writeMem(0xb467, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x99ed);
        EXPECT(gbc.pc(), 0xb468);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb467), 0x5f);
        // 5F 013D
        gbc.setState(0x9b3f, 0xfdb6, 0x84e0, 0x6ceb, 0xf973, 0x2673, 0x0, 0x0);
        gbc.writeMem(0x9b3f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xfdb6);
        EXPECT(gbc.pc(), 0x9b40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b3f), 0x5f);
        // 5F 013E
        gbc.setState(0x519e, 0x4966, 0xa950, 0x2e2b, 0xb4e9, 0xe3c0, 0x0, 0x1);
        gbc.writeMem(0x519e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4966);
        EXPECT(gbc.pc(), 0x519f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 013F
        gbc.setState(0x35d4, 0x5fb9, 0x4b80, 0x6e76, 0x22d, 0xf598, 0x1, 0x0);
        gbc.writeMem(0x35d4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x5fb9);
        EXPECT(gbc.pc(), 0x35d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0140
        gbc.setState(0xe129, 0x164a, 0xd5a0, 0xb075, 0x690, 0xf7f, 0x1, 0x1);
        gbc.writeMem(0xe129, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x164a);
        EXPECT(gbc.pc(), 0xe12a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe129), 0x5f);
        // 5F 0141
        gbc.setState(0x8b01, 0x7c26, 0x6660, 0xa245, 0x3621, 0xd86f, 0x1, 0x0);
        gbc.writeMem(0x8b01, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x7c26);
        EXPECT(gbc.pc(), 0x8b02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b01), 0x5f);
        // 5F 0142
        gbc.setState(0x3530, 0x9207, 0xb660, 0x3a02, 0xd334, 0x5a34, 0x0, 0x0);
        gbc.writeMem(0x3530, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x9207);
        EXPECT(gbc.pc(), 0x3531);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0143
        gbc.setState(0x283a, 0x96c5, 0xffe0, 0xf8f8, 0x1752, 0xa9e1, 0x0, 0x1);
        gbc.writeMem(0x283a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x96c5);
        EXPECT(gbc.pc(), 0x283b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0145
        gbc.setState(0x2c7, 0xc752, 0x7450, 0x5e0d, 0xa88f, 0x7738, 0x1, 0x1);
        gbc.writeMem(0x2c7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xc752);
        EXPECT(gbc.pc(), 0x2c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0146
        gbc.setState(0x998, 0x8ba2, 0x18f0, 0x6b10, 0x2dfe, 0xe768, 0x1, 0x1);
        gbc.writeMem(0x998, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x8ba2);
        EXPECT(gbc.pc(), 0x999);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0147
        gbc.setState(0x3f69, 0x3f37, 0x2f40, 0xdf93, 0x7ea9, 0xc2b5, 0x0, 0x0);
        gbc.writeMem(0x3f69, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x3f37);
        EXPECT(gbc.pc(), 0x3f6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0148
        gbc.setState(0x6222, 0xef75, 0xeb20, 0x5028, 0x95de, 0xb955, 0x1, 0x1);
        gbc.writeMem(0x6222, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xef75);
        EXPECT(gbc.pc(), 0x6223);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0149
        gbc.setState(0xef8, 0xb424, 0x9420, 0x330f, 0x33a7, 0xadef, 0x1, 0x0);
        gbc.writeMem(0xef8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xb424);
        EXPECT(gbc.pc(), 0xef9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 014A
        gbc.setState(0x3ec9, 0x7ec2, 0x4580, 0x878c, 0xb229, 0x240e, 0x0, 0x0);
        gbc.writeMem(0x3ec9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x7ec2);
        EXPECT(gbc.pc(), 0x3eca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 014B
        gbc.setState(0x9767, 0x6acf, 0x7830, 0x34b8, 0xf6dd, 0x453c, 0x0, 0x0);
        gbc.writeMem(0x9767, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x6acf);
        EXPECT(gbc.pc(), 0x9768);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9767), 0x5f);
        // 5F 014C
        gbc.setState(0xc3f4, 0xb0ac, 0x36b0, 0x515, 0xa3a6, 0xae3, 0x0, 0x1);
        gbc.writeMem(0xc3f4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xb0ac);
        EXPECT(gbc.pc(), 0xc3f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3f4), 0x5f);
        // 5F 014D
        gbc.setState(0x383e, 0x778c, 0x9440, 0x3044, 0xe5c5, 0x39a0, 0x1, 0x1);
        gbc.writeMem(0x383e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x778c);
        EXPECT(gbc.pc(), 0x383f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 014E
        gbc.setState(0xa228, 0xf784, 0xa5f0, 0xd0de, 0xebbd, 0xb85f, 0x1, 0x0);
        gbc.writeMem(0xa228, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xf784);
        EXPECT(gbc.pc(), 0xa229);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa228), 0x5f);
        // 5F 014F
        gbc.setState(0x8d48, 0x9cfb, 0xe40, 0xf252, 0x8d63, 0xa973, 0x1, 0x0);
        gbc.writeMem(0x8d48, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x9cfb);
        EXPECT(gbc.pc(), 0x8d49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d48), 0x5f);
        // 5F 0150
        gbc.setState(0xae04, 0x9528, 0x14f0, 0x3024, 0xa59a, 0xfc5f, 0x1, 0x0);
        gbc.writeMem(0xae04, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x9528);
        EXPECT(gbc.pc(), 0xae05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae04), 0x5f);
        // 5F 0152
        gbc.setState(0x5559, 0x7f4b, 0xa200, 0xd4aa, 0xfbfd, 0x7dc, 0x1, 0x0);
        gbc.writeMem(0x5559, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x7f4b);
        EXPECT(gbc.pc(), 0x555a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0153
        gbc.setState(0xe6fe, 0x1e88, 0x6910, 0xbd94, 0xd8f4, 0xeae, 0x0, 0x0);
        gbc.writeMem(0xe6fe, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x1e88);
        EXPECT(gbc.pc(), 0xe6ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6fe), 0x5f);
        // 5F 0154
        gbc.setState(0xa490, 0x80d0, 0xd9d0, 0x61ec, 0x36b9, 0xcfb9, 0x1, 0x1);
        gbc.writeMem(0xa490, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x80d0);
        EXPECT(gbc.pc(), 0xa491);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa490), 0x5f);
        // 5F 0155
        gbc.setState(0xdc4e, 0xc764, 0xf760, 0x75ea, 0x557e, 0xcff7, 0x1, 0x1);
        gbc.writeMem(0xdc4e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xc764);
        EXPECT(gbc.pc(), 0xdc4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc4e), 0x5f);
        // 5F 0156
        gbc.setState(0xd040, 0x4551, 0x7460, 0x5bb6, 0x5fef, 0x669d, 0x1, 0x0);
        gbc.writeMem(0xd040, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x4551);
        EXPECT(gbc.pc(), 0xd041);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd040), 0x5f);
        // 5F 0157
        gbc.setState(0x533a, 0x47fb, 0xa850, 0xa8bc, 0xdc75, 0x2629, 0x0, 0x0);
        gbc.writeMem(0x533a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x47fb);
        EXPECT(gbc.pc(), 0x533b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0158
        gbc.setState(0x29ca, 0x67d0, 0xded0, 0x408f, 0x71b1, 0x60f4, 0x1, 0x0);
        gbc.writeMem(0x29ca, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x67d0);
        EXPECT(gbc.pc(), 0x29cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0159
        gbc.setState(0xec00, 0xec77, 0x9200, 0x4ef2, 0x864d, 0x8c1e, 0x1, 0x1);
        gbc.writeMem(0xec00, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xec77);
        EXPECT(gbc.pc(), 0xec01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec00), 0x5f);
        // 5F 015A
        gbc.setState(0xecbd, 0x4335, 0xe470, 0xa5bb, 0x47fd, 0x6f8b, 0x1, 0x1);
        gbc.writeMem(0xecbd, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x4335);
        EXPECT(gbc.pc(), 0xecbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecbd), 0x5f);
        // 5F 015B
        gbc.setState(0x6ecc, 0x2a97, 0x73f0, 0x9903, 0xd60f, 0x82bb, 0x0, 0x1);
        gbc.writeMem(0x6ecc, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2a97);
        EXPECT(gbc.pc(), 0x6ecd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 015C
        gbc.setState(0xddb8, 0xb3ac, 0x7670, 0xddbb, 0xf4fd, 0x9033, 0x1, 0x0);
        gbc.writeMem(0xddb8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xb3ac);
        EXPECT(gbc.pc(), 0xddb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddb8), 0x5f);
        // 5F 015D
        gbc.setState(0x9702, 0xfca0, 0x95f0, 0x1600, 0xb20, 0xc909, 0x0, 0x0);
        gbc.writeMem(0x9702, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xfca0);
        EXPECT(gbc.pc(), 0x9703);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9702), 0x5f);
        // 5F 015E
        gbc.setState(0x7e14, 0x82da, 0xd570, 0x8046, 0x2a7b, 0xa53e, 0x1, 0x1);
        gbc.writeMem(0x7e14, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x82da);
        EXPECT(gbc.pc(), 0x7e15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 015F
        gbc.setState(0x65ea, 0x5d71, 0x6680, 0x74a4, 0x73af, 0xf367, 0x0, 0x0);
        gbc.writeMem(0x65ea, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x5d71);
        EXPECT(gbc.pc(), 0x65eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0160
        gbc.setState(0x6e2f, 0x521b, 0xf670, 0xab3b, 0xf15b, 0x7242, 0x0, 0x1);
        gbc.writeMem(0x6e2f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x521b);
        EXPECT(gbc.pc(), 0x6e30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0161
        gbc.setState(0x786d, 0x998f, 0xe3c0, 0x6c56, 0x2fe7, 0xeaeb, 0x1, 0x1);
        gbc.writeMem(0x786d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x998f);
        EXPECT(gbc.pc(), 0x786e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0162
        gbc.setState(0x1adc, 0x6e93, 0xf2f0, 0x81be, 0x3632, 0x7242, 0x1, 0x0);
        gbc.writeMem(0x1adc, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x6e93);
        EXPECT(gbc.pc(), 0x1add);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0163
        gbc.setState(0x5e5a, 0x5939, 0x43c0, 0x54d, 0xfcd9, 0x8adf, 0x1, 0x0);
        gbc.writeMem(0x5e5a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x5939);
        EXPECT(gbc.pc(), 0x5e5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0164
        gbc.setState(0xb62a, 0xc790, 0xc5f0, 0xd07e, 0xad29, 0xeb54, 0x1, 0x0);
        gbc.writeMem(0xb62a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xc790);
        EXPECT(gbc.pc(), 0xb62b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb62a), 0x5f);
        // 5F 0165
        gbc.setState(0x5011, 0xf5d, 0x70b0, 0x1528, 0xaee8, 0x69bb, 0x1, 0x0);
        gbc.writeMem(0x5011, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xf5d);
        EXPECT(gbc.pc(), 0x5012);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0166
        gbc.setState(0x6137, 0xaf7f, 0x2290, 0x79e1, 0xc9e6, 0x35a6, 0x0, 0x1);
        gbc.writeMem(0x6137, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xaf7f);
        EXPECT(gbc.pc(), 0x6138);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0167
        gbc.setState(0xbdc, 0x9b81, 0xf290, 0x728c, 0xe16f, 0x38b5, 0x1, 0x0);
        gbc.writeMem(0xbdc, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x9b81);
        EXPECT(gbc.pc(), 0xbdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0168
        gbc.setState(0x897f, 0xc168, 0xc9d0, 0x55d8, 0xdd37, 0x8073, 0x1, 0x1);
        gbc.writeMem(0x897f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xc168);
        EXPECT(gbc.pc(), 0x8980);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x897f), 0x5f);
        // 5F 0169
        gbc.setState(0xb80, 0x3775, 0x92d0, 0x857d, 0xecf4, 0x4cce, 0x1, 0x0);
        gbc.writeMem(0xb80, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x3775);
        EXPECT(gbc.pc(), 0xb81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 016A
        gbc.setState(0x1d6c, 0x78b1, 0xa6f0, 0xc7b2, 0x48e, 0x369, 0x1, 0x1);
        gbc.writeMem(0x1d6c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x78b1);
        EXPECT(gbc.pc(), 0x1d6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 016B
        gbc.setState(0x6fd8, 0xacc2, 0xc1b0, 0x9beb, 0x64c3, 0xce77, 0x0, 0x1);
        gbc.writeMem(0x6fd8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xacc2);
        EXPECT(gbc.pc(), 0x6fd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 016C
        gbc.setState(0x4af6, 0xbe1c, 0x2390, 0x6ee5, 0x165f, 0x9a5b, 0x0, 0x1);
        gbc.writeMem(0x4af6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xbe1c);
        EXPECT(gbc.pc(), 0x4af7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 016D
        gbc.setState(0x551b, 0x1a58, 0xdc80, 0xe9cd, 0x5842, 0x550d, 0x0, 0x0);
        gbc.writeMem(0x551b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x1a58);
        EXPECT(gbc.pc(), 0x551c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 016E
        gbc.setState(0xa8b7, 0xd27b, 0xd80, 0x503b, 0x5de0, 0x1fdf, 0x1, 0x1);
        gbc.writeMem(0xa8b7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xd27b);
        EXPECT(gbc.pc(), 0xa8b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8b7), 0x5f);
        // 5F 016F
        gbc.setState(0xecc4, 0xf1fd, 0x6e90, 0xd6dc, 0x5cfd, 0x60f1, 0x1, 0x0);
        gbc.writeMem(0xecc4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xf1fd);
        EXPECT(gbc.pc(), 0xecc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecc4), 0x5f);
        // 5F 0170
        gbc.setState(0x3f93, 0x168c, 0x4e90, 0xdf4c, 0x4c0c, 0x9908, 0x1, 0x1);
        gbc.writeMem(0x3f93, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x168c);
        EXPECT(gbc.pc(), 0x3f94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0171
        gbc.setState(0x75e5, 0xe98e, 0x82f0, 0x8235, 0xf961, 0xc92b, 0x1, 0x1);
        gbc.writeMem(0x75e5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xe98e);
        EXPECT(gbc.pc(), 0x75e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0172
        gbc.setState(0xbcc6, 0xe188, 0xe3b0, 0xf1e2, 0x5e70, 0xd5cd, 0x1, 0x1);
        gbc.writeMem(0xbcc6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xe188);
        EXPECT(gbc.pc(), 0xbcc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcc6), 0x5f);
        // 5F 0174
        gbc.setState(0x86cf, 0x64ce, 0x3f50, 0x7a0f, 0x9d38, 0x7451, 0x0, 0x1);
        gbc.writeMem(0x86cf, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x64ce);
        EXPECT(gbc.pc(), 0x86d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86cf), 0x5f);
        // 5F 0175
        gbc.setState(0xa329, 0x3929, 0xe340, 0xec46, 0xf355, 0xa99a, 0x0, 0x0);
        gbc.writeMem(0xa329, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x3929);
        EXPECT(gbc.pc(), 0xa32a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa329), 0x5f);
        // 5F 0176
        gbc.setState(0xd64, 0x5b29, 0xdfd0, 0x459f, 0x5be2, 0x2cf0, 0x1, 0x0);
        gbc.writeMem(0xd64, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x5b29);
        EXPECT(gbc.pc(), 0xd65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0177
        gbc.setState(0x351e, 0xd9b4, 0x2560, 0x2afe, 0xd655, 0x4948, 0x0, 0x0);
        gbc.writeMem(0x351e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xd9b4);
        EXPECT(gbc.pc(), 0x351f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0178
        gbc.setState(0x808c, 0x71c1, 0x4320, 0x4748, 0x8ed9, 0x82ae, 0x0, 0x1);
        gbc.writeMem(0x808c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x71c1);
        EXPECT(gbc.pc(), 0x808d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x808c), 0x5f);
        // 5F 0179
        gbc.setState(0x6987, 0x769d, 0xe2e0, 0x9d84, 0xb989, 0x41b5, 0x1, 0x0);
        gbc.writeMem(0x6987, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x769d);
        EXPECT(gbc.pc(), 0x6988);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 017A
        gbc.setState(0x3951, 0x77fa, 0x21a0, 0xdc09, 0xe633, 0x82bd, 0x1, 0x1);
        gbc.writeMem(0x3951, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x77fa);
        EXPECT(gbc.pc(), 0x3952);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 017B
        gbc.setState(0x1ef4, 0xdcb5, 0x4110, 0x9ed, 0xebe8, 0xa7ec, 0x1, 0x1);
        gbc.writeMem(0x1ef4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xdcb5);
        EXPECT(gbc.pc(), 0x1ef5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 017C
        gbc.setState(0x35a2, 0xccf2, 0xbd90, 0x49ff, 0x6761, 0x45cb, 0x0, 0x1);
        gbc.writeMem(0x35a2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xccf2);
        EXPECT(gbc.pc(), 0x35a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 017D
        gbc.setState(0xe25c, 0xcb97, 0x440, 0x61c6, 0xa03, 0xa05c, 0x0, 0x0);
        gbc.writeMem(0xe25c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xcb97);
        EXPECT(gbc.pc(), 0xe25d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe25c), 0x5f);
        // 5F 017E
        gbc.setState(0x3ec9, 0xd46a, 0x1fa0, 0x4d26, 0xcc9d, 0xea4f, 0x0, 0x0);
        gbc.writeMem(0x3ec9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xd46a);
        EXPECT(gbc.pc(), 0x3eca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 017F
        gbc.setState(0x3ad6, 0x90e5, 0x7e10, 0x9d13, 0xa511, 0xb037, 0x0, 0x0);
        gbc.writeMem(0x3ad6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x90e5);
        EXPECT(gbc.pc(), 0x3ad7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0180
        gbc.setState(0xeabf, 0x7c8, 0xa830, 0x48d5, 0x4b6a, 0xc335, 0x1, 0x0);
        gbc.writeMem(0xeabf, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x7c8);
        EXPECT(gbc.pc(), 0xeac0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeabf), 0x5f);
        // 5F 0181
        gbc.setState(0x8474, 0x6668, 0x3e00, 0xa256, 0xa541, 0x9e9b, 0x0, 0x1);
        gbc.writeMem(0x8474, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x6668);
        EXPECT(gbc.pc(), 0x8475);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8474), 0x5f);
        // 5F 0182
        gbc.setState(0xa5db, 0x94f5, 0x2ec0, 0x4058, 0xece9, 0x4f51, 0x1, 0x0);
        gbc.writeMem(0xa5db, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x94f5);
        EXPECT(gbc.pc(), 0xa5dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5db), 0x5f);
        // 5F 0184
        gbc.setState(0x41bd, 0xd995, 0x63a0, 0x5c45, 0xe579, 0xefcc, 0x0, 0x1);
        gbc.writeMem(0x41bd, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xd995);
        EXPECT(gbc.pc(), 0x41be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0185
        gbc.setState(0xd3fe, 0x9a8b, 0xf930, 0xac39, 0xc357, 0xb6a9, 0x0, 0x0);
        gbc.writeMem(0xd3fe, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x9a8b);
        EXPECT(gbc.pc(), 0xd3ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3fe), 0x5f);
        // 5F 0186
        gbc.setState(0x6bee, 0x83e7, 0x55a0, 0xfc1f, 0x5ae8, 0xea3f, 0x0, 0x1);
        gbc.writeMem(0x6bee, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x83e7);
        EXPECT(gbc.pc(), 0x6bef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0187
        gbc.setState(0x8017, 0xc5bb, 0x6250, 0x6c74, 0x5f79, 0x1d5d, 0x0, 0x0);
        gbc.writeMem(0x8017, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xc5bb);
        EXPECT(gbc.pc(), 0x8018);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8017), 0x5f);
        // 5F 0188
        gbc.setState(0x6dfb, 0x59e0, 0x5810, 0x92c5, 0x8d08, 0x9260, 0x1, 0x1);
        gbc.writeMem(0x6dfb, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x59e0);
        EXPECT(gbc.pc(), 0x6dfc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0189
        gbc.setState(0x8bd7, 0xfe53, 0xdbd0, 0x341a, 0x3a88, 0x70a0, 0x0, 0x1);
        gbc.writeMem(0x8bd7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xfe53);
        EXPECT(gbc.pc(), 0x8bd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bd7), 0x5f);
        // 5F 018A
        gbc.setState(0x40b0, 0x889, 0xae0, 0x9dbb, 0x6a03, 0xc64c, 0x1, 0x0);
        gbc.writeMem(0x40b0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x889);
        EXPECT(gbc.pc(), 0x40b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 018B
        gbc.setState(0xc17c, 0x9e00, 0xc110, 0xd0d2, 0x311c, 0x7625, 0x1, 0x0);
        gbc.writeMem(0xc17c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x9e00);
        EXPECT(gbc.pc(), 0xc17d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc17c), 0x5f);
        // 5F 018C
        gbc.setState(0x1c79, 0x8e03, 0xa2c0, 0xb461, 0x94da, 0x7a4, 0x0, 0x0);
        gbc.writeMem(0x1c79, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x8e03);
        EXPECT(gbc.pc(), 0x1c7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 018D
        gbc.setState(0x7a9b, 0x93d2, 0xdc60, 0xddd, 0xd581, 0x628f, 0x0, 0x0);
        gbc.writeMem(0x7a9b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x93d2);
        EXPECT(gbc.pc(), 0x7a9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 018E
        gbc.setState(0xbb26, 0x5191, 0x2a0, 0x8e11, 0xf117, 0x87da, 0x1, 0x1);
        gbc.writeMem(0xbb26, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x5191);
        EXPECT(gbc.pc(), 0xbb27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb26), 0x5f);
        // 5F 018F
        gbc.setState(0xb3fc, 0x219, 0xf670, 0xd5da, 0xdcb5, 0x17bb, 0x1, 0x1);
        gbc.writeMem(0xb3fc, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x219);
        EXPECT(gbc.pc(), 0xb3fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3fc), 0x5f);
        // 5F 0191
        gbc.setState(0xa9b5, 0x4dc, 0x3410, 0x26b, 0x340f, 0x16a3, 0x1, 0x0);
        gbc.writeMem(0xa9b5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x4dc);
        EXPECT(gbc.pc(), 0xa9b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9b5), 0x5f);
        // 5F 0193
        gbc.setState(0x1569, 0xe023, 0xc370, 0xd814, 0xbce0, 0xa666, 0x1, 0x0);
        gbc.writeMem(0x1569, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xe023);
        EXPECT(gbc.pc(), 0x156a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0194
        gbc.setState(0x7468, 0xae6c, 0x4560, 0xb81b, 0xd320, 0x31ae, 0x0, 0x0);
        gbc.writeMem(0x7468, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xae6c);
        EXPECT(gbc.pc(), 0x7469);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0195
        gbc.setState(0xd094, 0xd4f6, 0x2010, 0x60d0, 0x298f, 0x6502, 0x1, 0x0);
        gbc.writeMem(0xd094, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xd4f6);
        EXPECT(gbc.pc(), 0xd095);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd094), 0x5f);
        // 5F 0196
        gbc.setState(0x1357, 0x2df4, 0x8810, 0xdded, 0xb0a6, 0xdc50, 0x0, 0x0);
        gbc.writeMem(0x1357, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x2df4);
        EXPECT(gbc.pc(), 0x1358);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0197
        gbc.setState(0x2728, 0xf165, 0x4550, 0xd538, 0x86c1, 0x191c, 0x0, 0x0);
        gbc.writeMem(0x2728, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xf165);
        EXPECT(gbc.pc(), 0x2729);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0198
        gbc.setState(0x3321, 0xf041, 0xa30, 0xd6be, 0x5ba3, 0x7792, 0x1, 0x1);
        gbc.writeMem(0x3321, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xf041);
        EXPECT(gbc.pc(), 0x3322);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0199
        gbc.setState(0x385a, 0xeeea, 0x95a0, 0xc53, 0x825b, 0x4acc, 0x0, 0x0);
        gbc.writeMem(0x385a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xeeea);
        EXPECT(gbc.pc(), 0x385b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 019A
        gbc.setState(0xd665, 0x63b, 0xaf0, 0xcc09, 0xee61, 0xfe2a, 0x0, 0x1);
        gbc.writeMem(0xd665, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x63b);
        EXPECT(gbc.pc(), 0xd666);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd665), 0x5f);
        // 5F 019B
        gbc.setState(0x30e6, 0x7b22, 0x2440, 0xcb50, 0x56b9, 0x37d4, 0x0, 0x1);
        gbc.writeMem(0x30e6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x7b22);
        EXPECT(gbc.pc(), 0x30e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 019C
        gbc.setState(0x8af1, 0xc22c, 0x4b70, 0x5e00, 0x6bfd, 0x8d7d, 0x1, 0x0);
        gbc.writeMem(0x8af1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc22c);
        EXPECT(gbc.pc(), 0x8af2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8af1), 0x5f);
        // 5F 019D
        gbc.setState(0xe412, 0xd685, 0x9ff0, 0x1a01, 0x4881, 0x40e2, 0x0, 0x0);
        gbc.writeMem(0xe412, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xd685);
        EXPECT(gbc.pc(), 0xe413);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe412), 0x5f);
        // 5F 019E
        gbc.setState(0x15a8, 0x71b4, 0xfe00, 0x2f60, 0x847a, 0x460e, 0x1, 0x0);
        gbc.writeMem(0x15a8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x71b4);
        EXPECT(gbc.pc(), 0x15a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 019F
        gbc.setState(0x337e, 0xf0d4, 0x7840, 0xaf0c, 0xa7f1, 0x66e8, 0x1, 0x0);
        gbc.writeMem(0x337e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xf0d4);
        EXPECT(gbc.pc(), 0x337f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 01A0
        gbc.setState(0xe1f5, 0x77c, 0xe180, 0xf0f4, 0x64d6, 0x30fb, 0x0, 0x1);
        gbc.writeMem(0xe1f5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x77c);
        EXPECT(gbc.pc(), 0xe1f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1f5), 0x5f);
        // 5F 01A1
        gbc.setState(0x17d3, 0x91f2, 0x7460, 0xd534, 0x482e, 0x6c1a, 0x1, 0x1);
        gbc.writeMem(0x17d3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x91f2);
        EXPECT(gbc.pc(), 0x17d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 01A2
        gbc.setState(0x589e, 0x72b2, 0x11d0, 0xbe90, 0x2254, 0x14a6, 0x0, 0x0);
        gbc.writeMem(0x589e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x72b2);
        EXPECT(gbc.pc(), 0x589f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 01A3
        gbc.setState(0xbc5e, 0x9485, 0xe9e0, 0x9c8d, 0x22dc, 0x78f5, 0x1, 0x0);
        gbc.writeMem(0xbc5e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x9485);
        EXPECT(gbc.pc(), 0xbc5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc5e), 0x5f);
        // 5F 01A4
        gbc.setState(0x12b7, 0xa146, 0xf390, 0x336c, 0xda57, 0xbef0, 0x1, 0x0);
        gbc.writeMem(0x12b7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xa146);
        EXPECT(gbc.pc(), 0x12b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 01A5
        gbc.setState(0x6bd0, 0xe7a2, 0x1e00, 0x780a, 0x1fbf, 0x3d0b, 0x0, 0x0);
        gbc.writeMem(0x6bd0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xe7a2);
        EXPECT(gbc.pc(), 0x6bd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 01A6
        gbc.setState(0x5ba5, 0xc018, 0xda90, 0x45fe, 0x5df6, 0x531c, 0x0, 0x1);
        gbc.writeMem(0x5ba5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xc018);
        EXPECT(gbc.pc(), 0x5ba6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 01A7
        gbc.setState(0x6f15, 0xdc55, 0xb8b0, 0x8a01, 0xb681, 0x88ed, 0x0, 0x1);
        gbc.writeMem(0x6f15, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xdc55);
        EXPECT(gbc.pc(), 0x6f16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01A8
        gbc.setState(0xc57c, 0xa1ee, 0x2410, 0xa93, 0x4da7, 0xdb58, 0x1, 0x1);
        gbc.writeMem(0xc57c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xa1ee);
        EXPECT(gbc.pc(), 0xc57d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc57c), 0x5f);
        // 5F 01A9
        gbc.setState(0x220f, 0xfe8a, 0x1c80, 0x9e48, 0x8fa8, 0xa3a0, 0x0, 0x0);
        gbc.writeMem(0x220f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xfe8a);
        EXPECT(gbc.pc(), 0x2210);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 01AA
        gbc.setState(0x7c2f, 0x9d16, 0x3890, 0xb6e9, 0x7c4e, 0xc87a, 0x0, 0x0);
        gbc.writeMem(0x7c2f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x9d16);
        EXPECT(gbc.pc(), 0x7c30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 01AB
        gbc.setState(0x1a8e, 0x255a, 0xe010, 0xebbf, 0x1d86, 0xdc3, 0x1, 0x1);
        gbc.writeMem(0x1a8e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x255a);
        EXPECT(gbc.pc(), 0x1a8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 01AC
        gbc.setState(0xbfbd, 0x7ed9, 0xe110, 0x62d8, 0xa42c, 0xe698, 0x1, 0x1);
        gbc.writeMem(0xbfbd, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x7ed9);
        EXPECT(gbc.pc(), 0xbfbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfbd), 0x5f);
        // 5F 01AD
        gbc.setState(0x2678, 0xa759, 0xa250, 0x5b48, 0xc14a, 0xcf49, 0x1, 0x1);
        gbc.writeMem(0x2678, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xa759);
        EXPECT(gbc.pc(), 0x2679);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 01AE
        gbc.setState(0xac1d, 0x6977, 0xa6b0, 0xbcdc, 0x28b5, 0x6c9d, 0x1, 0x1);
        gbc.writeMem(0xac1d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x6977);
        EXPECT(gbc.pc(), 0xac1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac1d), 0x5f);
        // 5F 01AF
        gbc.setState(0x4ebe, 0xcfa4, 0x4a50, 0x5656, 0x555f, 0xd67d, 0x1, 0x0);
        gbc.writeMem(0x4ebe, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xcfa4);
        EXPECT(gbc.pc(), 0x4ebf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 01B0
        gbc.setState(0x2c6, 0xdfc4, 0xbdf0, 0x5e67, 0x6313, 0x560d, 0x0, 0x1);
        gbc.writeMem(0x2c6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xdfc4);
        EXPECT(gbc.pc(), 0x2c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01B1
        gbc.setState(0x8df8, 0xeac2, 0xfdf0, 0x7db9, 0x2ea3, 0xa5a3, 0x0, 0x0);
        gbc.writeMem(0x8df8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xeac2);
        EXPECT(gbc.pc(), 0x8df9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8df8), 0x5f);
        // 5F 01B2
        gbc.setState(0x7256, 0xd0ec, 0x2cb0, 0x435c, 0xabdd, 0x58cf, 0x1, 0x1);
        gbc.writeMem(0x7256, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xd0ec);
        EXPECT(gbc.pc(), 0x7257);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01B3
        gbc.setState(0xe251, 0x67d9, 0xe1e0, 0x6d8, 0xcfc5, 0xc9c1, 0x0, 0x0);
        gbc.writeMem(0xe251, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x67d9);
        EXPECT(gbc.pc(), 0xe252);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe251), 0x5f);
        // 5F 01B4
        gbc.setState(0xe405, 0x63c3, 0x9590, 0xfee0, 0xe1e, 0x4ec3, 0x0, 0x1);
        gbc.writeMem(0xe405, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x63c3);
        EXPECT(gbc.pc(), 0xe406);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe405), 0x5f);
        // 5F 01B5
        gbc.setState(0x5e6b, 0x1b48, 0x83f0, 0x7316, 0xe6db, 0x8e1e, 0x1, 0x0);
        gbc.writeMem(0x5e6b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x1b48);
        EXPECT(gbc.pc(), 0x5e6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01B6
        gbc.setState(0xd4d, 0x8333, 0x9440, 0xe196, 0x53c7, 0xdc54, 0x1, 0x0);
        gbc.writeMem(0xd4d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x8333);
        EXPECT(gbc.pc(), 0xd4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 01B7
        gbc.setState(0x4243, 0xfaf4, 0x4030, 0xfcca, 0x2493, 0xd2fa, 0x0, 0x0);
        gbc.writeMem(0x4243, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xfaf4);
        EXPECT(gbc.pc(), 0x4244);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01B8
        gbc.setState(0x720d, 0xe029, 0x7830, 0x61d1, 0x9aa2, 0xb5fa, 0x0, 0x1);
        gbc.writeMem(0x720d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xe029);
        EXPECT(gbc.pc(), 0x720e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01B9
        gbc.setState(0xd45c, 0x9966, 0x2630, 0x2ce4, 0x77b5, 0x86e7, 0x1, 0x1);
        gbc.writeMem(0xd45c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9966);
        EXPECT(gbc.pc(), 0xd45d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd45c), 0x5f);
        // 5F 01BA
        gbc.setState(0x4d12, 0xfeec, 0x7a70, 0xddf5, 0x22d9, 0x36e7, 0x1, 0x0);
        gbc.writeMem(0x4d12, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xfeec);
        EXPECT(gbc.pc(), 0x4d13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01BB
        gbc.setState(0xb3b3, 0x5f65, 0xa9f0, 0x8748, 0xa80f, 0x9b84, 0x0, 0x0);
        gbc.writeMem(0xb3b3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x5f65);
        EXPECT(gbc.pc(), 0xb3b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3b3), 0x5f);
        // 5F 01BC
        gbc.setState(0x149c, 0xb639, 0x8a50, 0x5d16, 0xbcfa, 0x6673, 0x1, 0x0);
        gbc.writeMem(0x149c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xb639);
        EXPECT(gbc.pc(), 0x149d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 01BD
        gbc.setState(0x6c45, 0xb8b6, 0x3180, 0x6d22, 0x66eb, 0xa877, 0x1, 0x1);
        gbc.writeMem(0x6c45, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb8b6);
        EXPECT(gbc.pc(), 0x6c46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 01BE
        gbc.setState(0xb12, 0x5db1, 0x1540, 0xf3eb, 0x9385, 0x6f66, 0x0, 0x0);
        gbc.writeMem(0xb12, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x5db1);
        EXPECT(gbc.pc(), 0xb13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 01BF
        gbc.setState(0x853a, 0x93f0, 0x1df0, 0x93a7, 0x677, 0xad84, 0x0, 0x1);
        gbc.writeMem(0x853a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x93f0);
        EXPECT(gbc.pc(), 0x853b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x853a), 0x5f);
        // 5F 01C0
        gbc.setState(0xd5c6, 0x5ffc, 0x9b20, 0xb5e5, 0x3346, 0x7fee, 0x1, 0x1);
        gbc.writeMem(0xd5c6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x5ffc);
        EXPECT(gbc.pc(), 0xd5c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5c6), 0x5f);
        // 5F 01C1
        gbc.setState(0x106d, 0x8a76, 0xebc0, 0xae33, 0xb4c2, 0x4bb3, 0x1, 0x1);
        gbc.writeMem(0x106d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x8a76);
        EXPECT(gbc.pc(), 0x106e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 01C2
        gbc.setState(0xa292, 0xbb4, 0x9f70, 0x84c6, 0xd9f1, 0xc18e, 0x1, 0x0);
        gbc.writeMem(0xa292, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xbb4);
        EXPECT(gbc.pc(), 0xa293);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa292), 0x5f);
        // 5F 01C3
        gbc.setState(0x3bca, 0xcf16, 0xa80, 0x9249, 0x63db, 0xd70d, 0x1, 0x1);
        gbc.writeMem(0x3bca, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xcf16);
        EXPECT(gbc.pc(), 0x3bcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 01C4
        gbc.setState(0x25c7, 0xec2b, 0x4330, 0x3fdb, 0xec4, 0x4945, 0x0, 0x0);
        gbc.writeMem(0x25c7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xec2b);
        EXPECT(gbc.pc(), 0x25c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01C5
        gbc.setState(0xefd9, 0xb848, 0xfdc0, 0xe362, 0x271b, 0x6c9b, 0x1, 0x0);
        gbc.writeMem(0xefd9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb848);
        EXPECT(gbc.pc(), 0xefda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefd9), 0x5f);
        // 5F 01C6
        gbc.setState(0x7a58, 0xa0ae, 0x800, 0xb56e, 0x502, 0x9f6a, 0x0, 0x1);
        gbc.writeMem(0x7a58, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xa0ae);
        EXPECT(gbc.pc(), 0x7a59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 01C7
        gbc.setState(0xddb, 0xf1db, 0x84c0, 0xe344, 0xca23, 0x8837, 0x0, 0x0);
        gbc.writeMem(0xddb, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xf1db);
        EXPECT(gbc.pc(), 0xddc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 01C8
        gbc.setState(0x1ec6, 0xd64c, 0x6120, 0xf97c, 0x95a1, 0x7ad0, 0x0, 0x0);
        gbc.writeMem(0x1ec6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xd64c);
        EXPECT(gbc.pc(), 0x1ec7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 01C9
        gbc.setState(0x70c5, 0x7c95, 0x5970, 0x6bb3, 0x52c6, 0xcdcf, 0x1, 0x1);
        gbc.writeMem(0x70c5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x7c95);
        EXPECT(gbc.pc(), 0x70c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01CA
        gbc.setState(0x14d3, 0x1fc9, 0xb250, 0x2d03, 0xc9a1, 0x3725, 0x0, 0x1);
        gbc.writeMem(0x14d3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x1fc9);
        EXPECT(gbc.pc(), 0x14d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 01CB
        gbc.setState(0x9336, 0x7de7, 0xb440, 0x320f, 0xfe56, 0x8d29, 0x1, 0x1);
        gbc.writeMem(0x9336, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x7de7);
        EXPECT(gbc.pc(), 0x9337);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9336), 0x5f);
        // 5F 01CC
        gbc.setState(0x4715, 0xcbae, 0xc4e0, 0x97f6, 0x4f61, 0xdeb9, 0x0, 0x0);
        gbc.writeMem(0x4715, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xcbae);
        EXPECT(gbc.pc(), 0x4716);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 01CD
        gbc.setState(0x77a4, 0xff51, 0x95d0, 0xd20c, 0x6b98, 0xb9cc, 0x0, 0x1);
        gbc.writeMem(0x77a4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xff51);
        EXPECT(gbc.pc(), 0x77a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 01CE
        gbc.setState(0x578d, 0x15b, 0x6cc0, 0x6d54, 0x976a, 0xf346, 0x1, 0x1);
        gbc.writeMem(0x578d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x15b);
        EXPECT(gbc.pc(), 0x578e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 01D0
        gbc.setState(0xdb65, 0xf93a, 0xb7a0, 0x14df, 0xbde0, 0xa0d6, 0x1, 0x1);
        gbc.writeMem(0xdb65, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xf93a);
        EXPECT(gbc.pc(), 0xdb66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb65), 0x5f);
        // 5F 01D1
        gbc.setState(0x9c10, 0xe430, 0xa9b0, 0x2383, 0x707e, 0xe662, 0x0, 0x1);
        gbc.writeMem(0x9c10, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xe430);
        EXPECT(gbc.pc(), 0x9c11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c10), 0x5f);
        // 5F 01D2
        gbc.setState(0xe164, 0xcf2a, 0x3240, 0x1197, 0xdafd, 0x7a5f, 0x1, 0x0);
        gbc.writeMem(0xe164, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xcf2a);
        EXPECT(gbc.pc(), 0xe165);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe164), 0x5f);
        // 5F 01D3
        gbc.setState(0x719f, 0x3796, 0xd00, 0x885a, 0xe8d2, 0x1119, 0x1, 0x0);
        gbc.writeMem(0x719f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x3796);
        EXPECT(gbc.pc(), 0x71a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 01D4
        gbc.setState(0xc66d, 0x73fb, 0xb30, 0x75b8, 0x8ce9, 0x87b9, 0x1, 0x1);
        gbc.writeMem(0xc66d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x73fb);
        EXPECT(gbc.pc(), 0xc66e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc66d), 0x5f);
        // 5F 01D5
        gbc.setState(0x49d5, 0x7654, 0xccb0, 0x82d3, 0x784f, 0xcafe, 0x1, 0x1);
        gbc.writeMem(0x49d5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x7654);
        EXPECT(gbc.pc(), 0x49d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01D6
        gbc.setState(0xcd00, 0x5263, 0xe5d0, 0xcbda, 0xceb2, 0xb9d3, 0x0, 0x1);
        gbc.writeMem(0xcd00, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x5263);
        EXPECT(gbc.pc(), 0xcd01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd00), 0x5f);
        // 5F 01D7
        gbc.setState(0x3caf, 0xa941, 0x6710, 0x1491, 0x75b2, 0x3913, 0x0, 0x0);
        gbc.writeMem(0x3caf, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xa941);
        EXPECT(gbc.pc(), 0x3cb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 01D8
        gbc.setState(0x6127, 0x3484, 0xec60, 0x167a, 0xe6a4, 0x28a1, 0x1, 0x0);
        gbc.writeMem(0x6127, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x3484);
        EXPECT(gbc.pc(), 0x6128);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 01D9
        gbc.setState(0xd70f, 0xcef3, 0xa440, 0x9950, 0x7403, 0x1c66, 0x1, 0x0);
        gbc.writeMem(0xd70f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xcef3);
        EXPECT(gbc.pc(), 0xd710);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd70f), 0x5f);
        // 5F 01DA
        gbc.setState(0xab56, 0xd16e, 0x2d50, 0xc4d1, 0x9159, 0xb6c5, 0x0, 0x0);
        gbc.writeMem(0xab56, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xd16e);
        EXPECT(gbc.pc(), 0xab57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab56), 0x5f);
        // 5F 01DB
        gbc.setState(0x7c0b, 0xc503, 0x5730, 0xe815, 0x3d19, 0x6a69, 0x0, 0x0);
        gbc.writeMem(0x7c0b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xc503);
        EXPECT(gbc.pc(), 0x7c0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01DC
        gbc.setState(0x824, 0xc11a, 0xf730, 0x253f, 0x2aa4, 0xd3ab, 0x1, 0x1);
        gbc.writeMem(0x824, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xc11a);
        EXPECT(gbc.pc(), 0x825);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01DD
        gbc.setState(0xbf7a, 0x6991, 0xa9d0, 0xf623, 0x6c65, 0xe1cd, 0x0, 0x0);
        gbc.writeMem(0xbf7a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x6991);
        EXPECT(gbc.pc(), 0xbf7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf7a), 0x5f);
        // 5F 01DE
        gbc.setState(0x87d8, 0x523c, 0x47d0, 0x8b23, 0x2200, 0x433c, 0x1, 0x1);
        gbc.writeMem(0x87d8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x523c);
        EXPECT(gbc.pc(), 0x87d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87d8), 0x5f);
        // 5F 01DF
        gbc.setState(0x2803, 0xa57a, 0x9e50, 0xae1e, 0x2637, 0x8a5a, 0x1, 0x1);
        gbc.writeMem(0x2803, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xa57a);
        EXPECT(gbc.pc(), 0x2804);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 01E0
        gbc.setState(0xa18e, 0xee85, 0x2e30, 0xe1dd, 0x6d64, 0x6b94, 0x1, 0x1);
        gbc.writeMem(0xa18e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xee85);
        EXPECT(gbc.pc(), 0xa18f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa18e), 0x5f);
        // 5F 01E1
        gbc.setState(0xd3c4, 0x4eae, 0x6aa0, 0x18cb, 0xa2fa, 0x72f3, 0x0, 0x0);
        gbc.writeMem(0xd3c4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x4eae);
        EXPECT(gbc.pc(), 0xd3c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3c4), 0x5f);
        // 5F 01E2
        gbc.setState(0x8634, 0xb8ed, 0x5410, 0x59eb, 0x940, 0x3dca, 0x0, 0x0);
        gbc.writeMem(0x8634, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xb8ed);
        EXPECT(gbc.pc(), 0x8635);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8634), 0x5f);
        // 5F 01E3
        gbc.setState(0x7a96, 0x7cff, 0x3730, 0x34b9, 0x93da, 0x3e5f, 0x0, 0x1);
        gbc.writeMem(0x7a96, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x7cff);
        EXPECT(gbc.pc(), 0x7a97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01E4
        gbc.setState(0x2157, 0x5246, 0x790, 0x297c, 0x666e, 0x37ea, 0x1, 0x0);
        gbc.writeMem(0x2157, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x5246);
        EXPECT(gbc.pc(), 0x2158);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 01E6
        gbc.setState(0x528b, 0x208b, 0xf560, 0x658f, 0x9233, 0xb922, 0x1, 0x0);
        gbc.writeMem(0x528b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x208b);
        EXPECT(gbc.pc(), 0x528c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 01E7
        gbc.setState(0xce6b, 0xf954, 0x740, 0x6a4e, 0xcb17, 0xde4c, 0x1, 0x1);
        gbc.writeMem(0xce6b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xf954);
        EXPECT(gbc.pc(), 0xce6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce6b), 0x5f);
        // 5F 01E8
        gbc.setState(0x87b1, 0xd13b, 0x6ac0, 0x967e, 0x64bb, 0xd42f, 0x0, 0x0);
        gbc.writeMem(0x87b1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xd13b);
        EXPECT(gbc.pc(), 0x87b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87b1), 0x5f);
        // 5F 01E9
        gbc.setState(0x9072, 0xa928, 0xddd0, 0x35df, 0x88e5, 0x7917, 0x0, 0x0);
        gbc.writeMem(0x9072, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xa928);
        EXPECT(gbc.pc(), 0x9073);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9072), 0x5f);
        // 5F 01EA
        gbc.setState(0xa1c8, 0x3337, 0x1fd0, 0x6063, 0xbd6c, 0x8d01, 0x0, 0x0);
        gbc.writeMem(0xa1c8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x3337);
        EXPECT(gbc.pc(), 0xa1c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1c8), 0x5f);
        // 5F 01EB
        gbc.setState(0x6066, 0x793b, 0x3520, 0x91c9, 0x2e56, 0xf477, 0x1, 0x0);
        gbc.writeMem(0x6066, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x793b);
        EXPECT(gbc.pc(), 0x6067);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 01EC
        gbc.setState(0xab64, 0xf0de, 0x6de0, 0x17fa, 0xfb37, 0x9ba1, 0x1, 0x0);
        gbc.writeMem(0xab64, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xf0de);
        EXPECT(gbc.pc(), 0xab65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab64), 0x5f);
        // 5F 01ED
        gbc.setState(0x8281, 0x6909, 0xd070, 0xa6f2, 0xa8d, 0xbcc3, 0x0, 0x0);
        gbc.writeMem(0x8281, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x6909);
        EXPECT(gbc.pc(), 0x8282);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8281), 0x5f);
        // 5F 01EE
        gbc.setState(0xd988, 0x818e, 0xa7f0, 0x1de0, 0xc9f7, 0xdf8b, 0x1, 0x1);
        gbc.writeMem(0xd988, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x818e);
        EXPECT(gbc.pc(), 0xd989);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd988), 0x5f);
        // 5F 01EF
        gbc.setState(0xe2e5, 0xd4cb, 0x67f0, 0xf17a, 0x458e, 0x28d6, 0x1, 0x1);
        gbc.writeMem(0xe2e5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xd4cb);
        EXPECT(gbc.pc(), 0xe2e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2e5), 0x5f);
        // 5F 01F0
        gbc.setState(0x5dd7, 0x7be4, 0xf430, 0x39f1, 0x5946, 0x49e9, 0x1, 0x0);
        gbc.writeMem(0x5dd7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x7be4);
        EXPECT(gbc.pc(), 0x5dd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01F1
        gbc.setState(0xd31d, 0xf6fb, 0x6e80, 0xb61b, 0x5dab, 0xf761, 0x0, 0x1);
        gbc.writeMem(0xd31d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xf6fb);
        EXPECT(gbc.pc(), 0xd31e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd31d), 0x5f);
        // 5F 01F3
        gbc.setState(0xe340, 0xfa91, 0xa260, 0xda2b, 0x71ec, 0xfe99, 0x1, 0x1);
        gbc.writeMem(0xe340, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xfa91);
        EXPECT(gbc.pc(), 0xe341);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe340), 0x5f);
        // 5F 01F4
        gbc.setState(0x21b, 0xd4f4, 0x56a0, 0xe1d6, 0xb483, 0xfb69, 0x1, 0x1);
        gbc.writeMem(0x21b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd4f4);
        EXPECT(gbc.pc(), 0x21c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 01F5
        gbc.setState(0xbbb7, 0x3d59, 0x8d50, 0x809d, 0x33ca, 0x4b0e, 0x0, 0x0);
        gbc.writeMem(0xbbb7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x3d59);
        EXPECT(gbc.pc(), 0xbbb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbb7), 0x5f);
        // 5F 01F6
        gbc.setState(0x7b12, 0x2545, 0x8060, 0x16cb, 0xaf8e, 0x446f, 0x0, 0x0);
        gbc.writeMem(0x7b12, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x2545);
        EXPECT(gbc.pc(), 0x7b13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 01F7
        gbc.setState(0x720, 0xf22c, 0x97a0, 0x29f9, 0x7297, 0x515d, 0x1, 0x0);
        gbc.writeMem(0x720, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xf22c);
        EXPECT(gbc.pc(), 0x721);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 01F8
        gbc.setState(0xd746, 0x65ba, 0xeff0, 0x4c06, 0x312, 0x3d95, 0x1, 0x1);
        gbc.writeMem(0xd746, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x65ba);
        EXPECT(gbc.pc(), 0xd747);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd746), 0x5f);
        // 5F 01F9
        gbc.setState(0x2fda, 0x3e4e, 0x8ba0, 0x38d5, 0xb7fc, 0xe3e0, 0x0, 0x1);
        gbc.writeMem(0x2fda, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x3e4e);
        EXPECT(gbc.pc(), 0x2fdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 01FA
        gbc.setState(0x570b, 0xb733, 0x2070, 0x81ef, 0x5464, 0x48e2, 0x0, 0x0);
        gbc.writeMem(0x570b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xb733);
        EXPECT(gbc.pc(), 0x570c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01FB
        gbc.setState(0xa270, 0x11b4, 0xa6a0, 0xa1fa, 0xb1b2, 0x760f, 0x0, 0x1);
        gbc.writeMem(0xa270, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x11b4);
        EXPECT(gbc.pc(), 0xa271);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa270), 0x5f);
        // 5F 01FC
        gbc.setState(0xe524, 0x1b47, 0xea10, 0xb097, 0xb31b, 0x262a, 0x0, 0x0);
        gbc.writeMem(0xe524, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x1b47);
        EXPECT(gbc.pc(), 0xe525);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe524), 0x5f);
        // 5F 01FD
        gbc.setState(0x4e5c, 0xdaa7, 0xc2a0, 0xe85, 0x764e, 0x84c1, 0x1, 0x0);
        gbc.writeMem(0x4e5c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xdaa7);
        EXPECT(gbc.pc(), 0x4e5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 01FE
        gbc.setState(0xa8e, 0x6605, 0xcfb0, 0x601d, 0x5426, 0xcfcf, 0x0, 0x0);
        gbc.writeMem(0xa8e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x6605);
        EXPECT(gbc.pc(), 0xa8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 01FF
        gbc.setState(0xec96, 0x3b9e, 0x5f70, 0xf64, 0x81ee, 0x1478, 0x0, 0x0);
        gbc.writeMem(0xec96, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x3b9e);
        EXPECT(gbc.pc(), 0xec97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec96), 0x5f);
        // 5F 0200
        gbc.setState(0xa213, 0x8607, 0xaee0, 0x9f5e, 0x953, 0x379, 0x1, 0x1);
        gbc.writeMem(0xa213, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x8607);
        EXPECT(gbc.pc(), 0xa214);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa213), 0x5f);
        // 5F 0201
        gbc.setState(0xb68d, 0xaa5b, 0x87d0, 0xe362, 0x4fd9, 0x3f, 0x1, 0x1);
        gbc.writeMem(0xb68d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xaa5b);
        EXPECT(gbc.pc(), 0xb68e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb68d), 0x5f);
        // 5F 0202
        gbc.setState(0x3fae, 0xcb7b, 0xc650, 0xfc96, 0xf0e9, 0xade2, 0x1, 0x0);
        gbc.writeMem(0x3fae, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xcb7b);
        EXPECT(gbc.pc(), 0x3faf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0203
        gbc.setState(0x20df, 0x1b3b, 0xf120, 0x184c, 0x4d3a, 0x703d, 0x1, 0x1);
        gbc.writeMem(0x20df, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x1b3b);
        EXPECT(gbc.pc(), 0x20e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0205
        gbc.setState(0x377, 0x9448, 0x1290, 0x65b7, 0x580e, 0x4d2c, 0x1, 0x1);
        gbc.writeMem(0x377, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x9448);
        EXPECT(gbc.pc(), 0x378);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0206
        gbc.setState(0x1fa2, 0x78ae, 0x61f0, 0x2420, 0x9305, 0x3871, 0x1, 0x1);
        gbc.writeMem(0x1fa2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x78ae);
        EXPECT(gbc.pc(), 0x1fa3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0207
        gbc.setState(0x8ba3, 0xa75d, 0xb500, 0x7c6f, 0xa60f, 0x4eb0, 0x0, 0x0);
        gbc.writeMem(0x8ba3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xa75d);
        EXPECT(gbc.pc(), 0x8ba4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ba3), 0x5f);
        // 5F 0208
        gbc.setState(0x40b1, 0x71e5, 0x4e0, 0x187d, 0xb401, 0x13ee, 0x1, 0x1);
        gbc.writeMem(0x40b1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x71e5);
        EXPECT(gbc.pc(), 0x40b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0209
        gbc.setState(0x6a6b, 0x70c, 0x93d0, 0x9e91, 0xf28c, 0x333f, 0x1, 0x1);
        gbc.writeMem(0x6a6b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x70c);
        EXPECT(gbc.pc(), 0x6a6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 020B
        gbc.setState(0x487d, 0xff43, 0x2b50, 0xaf5, 0xeae, 0x13a9, 0x1, 0x1);
        gbc.writeMem(0x487d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xff43);
        EXPECT(gbc.pc(), 0x487e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 020C
        gbc.setState(0x62ea, 0x5a0f, 0x6420, 0xd70e, 0xdbb5, 0x5ea4, 0x1, 0x1);
        gbc.writeMem(0x62ea, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x5a0f);
        EXPECT(gbc.pc(), 0x62eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 020D
        gbc.setState(0x996c, 0xbc68, 0x1050, 0x1164, 0x8aaf, 0xe77e, 0x1, 0x1);
        gbc.writeMem(0x996c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xbc68);
        EXPECT(gbc.pc(), 0x996d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x996c), 0x5f);
        // 5F 020F
        gbc.setState(0x565d, 0xe9f6, 0xfb70, 0x5935, 0xfa37, 0xdbec, 0x0, 0x1);
        gbc.writeMem(0x565d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xe9f6);
        EXPECT(gbc.pc(), 0x565e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0210
        gbc.setState(0x477e, 0x4de1, 0xb700, 0x761, 0x5707, 0x5689, 0x0, 0x1);
        gbc.writeMem(0x477e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x4de1);
        EXPECT(gbc.pc(), 0x477f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0211
        gbc.setState(0x6eb8, 0x1488, 0x8a90, 0x792c, 0x8f14, 0x9341, 0x0, 0x0);
        gbc.writeMem(0x6eb8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x1488);
        EXPECT(gbc.pc(), 0x6eb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0212
        gbc.setState(0x9b9, 0xa101, 0x7380, 0xd91c, 0x2135, 0xb5b6, 0x0, 0x1);
        gbc.writeMem(0x9b9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xa101);
        EXPECT(gbc.pc(), 0x9ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0213
        gbc.setState(0xe9a3, 0xf2bf, 0x85f0, 0x6290, 0x51be, 0x3f1, 0x1, 0x1);
        gbc.writeMem(0xe9a3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xf2bf);
        EXPECT(gbc.pc(), 0xe9a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9a3), 0x5f);
        // 5F 0214
        gbc.setState(0x60a3, 0xb934, 0x25b0, 0xe609, 0x215d, 0xc88, 0x0, 0x1);
        gbc.writeMem(0x60a3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xb934);
        EXPECT(gbc.pc(), 0x60a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0215
        gbc.setState(0x6767, 0xfa3a, 0xf830, 0x7d51, 0x2943, 0xc981, 0x0, 0x0);
        gbc.writeMem(0x6767, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xfa3a);
        EXPECT(gbc.pc(), 0x6768);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0216
        gbc.setState(0xe475, 0xc030, 0x60f0, 0x40b2, 0x1b98, 0xb6df, 0x0, 0x1);
        gbc.writeMem(0xe475, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xc030);
        EXPECT(gbc.pc(), 0xe476);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe475), 0x5f);
        // 5F 0217
        gbc.setState(0x66a0, 0xe3e7, 0x67f0, 0x8fce, 0xb5ea, 0x8ab7, 0x1, 0x0);
        gbc.writeMem(0x66a0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xe3e7);
        EXPECT(gbc.pc(), 0x66a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0218
        gbc.setState(0x8715, 0x8c2, 0xf200, 0x5318, 0xcc23, 0x8c5f, 0x1, 0x0);
        gbc.writeMem(0x8715, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x8c2);
        EXPECT(gbc.pc(), 0x8716);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8715), 0x5f);
        // 5F 0219
        gbc.setState(0xad7e, 0x626d, 0xbba0, 0xef2e, 0xbc9e, 0x8a8d, 0x0, 0x1);
        gbc.writeMem(0xad7e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x626d);
        EXPECT(gbc.pc(), 0xad7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad7e), 0x5f);
        // 5F 021A
        gbc.setState(0xc161, 0x9beb, 0xb940, 0x91c, 0x92f8, 0xdbdf, 0x1, 0x1);
        gbc.writeMem(0xc161, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x9beb);
        EXPECT(gbc.pc(), 0xc162);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc161), 0x5f);
        // 5F 021B
        gbc.setState(0x1df5, 0x5cad, 0x45c0, 0x7777, 0x97be, 0x8e86, 0x0, 0x0);
        gbc.writeMem(0x1df5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x5cad);
        EXPECT(gbc.pc(), 0x1df6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 021C
        gbc.setState(0x7a30, 0x97, 0xfff0, 0xdbf9, 0xac3b, 0x2e1c, 0x1, 0x0);
        gbc.writeMem(0x7a30, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x97);
        EXPECT(gbc.pc(), 0x7a31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 021D
        gbc.setState(0x3e14, 0xaf31, 0xf00, 0xe089, 0xaac9, 0x8788, 0x0, 0x0);
        gbc.writeMem(0x3e14, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xaf31);
        EXPECT(gbc.pc(), 0x3e15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 021E
        gbc.setState(0xb46e, 0x5f9, 0xb5b0, 0xcc3b, 0xaa77, 0x9276, 0x1, 0x1);
        gbc.writeMem(0xb46e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x5f9);
        EXPECT(gbc.pc(), 0xb46f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb46e), 0x5f);
        // 5F 021F
        gbc.setState(0xd780, 0xb9c0, 0x4320, 0x1c, 0x649, 0x4e19, 0x0, 0x1);
        gbc.writeMem(0xd780, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xb9c0);
        EXPECT(gbc.pc(), 0xd781);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd780), 0x5f);
        // 5F 0220
        gbc.setState(0x1df2, 0x4320, 0x27a0, 0xb857, 0xabae, 0xf5ff, 0x0, 0x0);
        gbc.writeMem(0x1df2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x4320);
        EXPECT(gbc.pc(), 0x1df3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0221
        gbc.setState(0x3ac2, 0x5234, 0x2d50, 0xe66f, 0x8389, 0x2427, 0x1, 0x1);
        gbc.writeMem(0x3ac2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x5234);
        EXPECT(gbc.pc(), 0x3ac3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0222
        gbc.setState(0x3ef0, 0xdb2, 0x3d0, 0xcba4, 0x9020, 0x34b1, 0x0, 0x0);
        gbc.writeMem(0x3ef0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xdb2);
        EXPECT(gbc.pc(), 0x3ef1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0223
        gbc.setState(0x39d3, 0x4ab9, 0xadb0, 0x9546, 0xb853, 0x132d, 0x0, 0x0);
        gbc.writeMem(0x39d3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x4ab9);
        EXPECT(gbc.pc(), 0x39d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0224
        gbc.setState(0x87d4, 0x46ee, 0xd930, 0xc61c, 0xce, 0x18d9, 0x1, 0x0);
        gbc.writeMem(0x87d4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x46ee);
        EXPECT(gbc.pc(), 0x87d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87d4), 0x5f);
        // 5F 0225
        gbc.setState(0xe103, 0xba43, 0xbbf0, 0x75c9, 0x2baa, 0x253a, 0x1, 0x1);
        gbc.writeMem(0xe103, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xba43);
        EXPECT(gbc.pc(), 0xe104);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe103), 0x5f);
        // 5F 0226
        gbc.setState(0x78db, 0x6899, 0xaf00, 0x81d4, 0x61e3, 0xcd77, 0x0, 0x0);
        gbc.writeMem(0x78db, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x6899);
        EXPECT(gbc.pc(), 0x78dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0227
        gbc.setState(0x7ac6, 0x719c, 0xfc80, 0x2075, 0x2770, 0x1621, 0x0, 0x0);
        gbc.writeMem(0x7ac6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x719c);
        EXPECT(gbc.pc(), 0x7ac7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0228
        gbc.setState(0x2b4e, 0xb258, 0x5f00, 0xfdb6, 0xa3d, 0x17e, 0x0, 0x0);
        gbc.writeMem(0x2b4e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xb258);
        EXPECT(gbc.pc(), 0x2b4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0229
        gbc.setState(0x7349, 0x1fd3, 0x78a0, 0x48df, 0x1b63, 0x2f08, 0x0, 0x0);
        gbc.writeMem(0x7349, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x1fd3);
        EXPECT(gbc.pc(), 0x734a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 022A
        gbc.setState(0xd2a8, 0xfb65, 0x1730, 0xa60b, 0x63ac, 0x777c, 0x1, 0x1);
        gbc.writeMem(0xd2a8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xfb65);
        EXPECT(gbc.pc(), 0xd2a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2a8), 0x5f);
        // 5F 022B
        gbc.setState(0xb735, 0x14da, 0x9ce0, 0xd1c, 0xbc1, 0xdcaa, 0x0, 0x1);
        gbc.writeMem(0xb735, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x14da);
        EXPECT(gbc.pc(), 0xb736);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb735), 0x5f);
        // 5F 022C
        gbc.setState(0xf0c, 0x8e56, 0xea70, 0xeb05, 0xf640, 0x39f8, 0x1, 0x0);
        gbc.writeMem(0xf0c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x8e56);
        EXPECT(gbc.pc(), 0xf0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 022D
        gbc.setState(0x82b5, 0x80c4, 0xc30, 0xe98a, 0x5dde, 0x70e8, 0x0, 0x1);
        gbc.writeMem(0x82b5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x80c4);
        EXPECT(gbc.pc(), 0x82b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82b5), 0x5f);
        // 5F 022E
        gbc.setState(0x1a29, 0xccf0, 0xb7e0, 0xd1e, 0x3442, 0x1491, 0x0, 0x0);
        gbc.writeMem(0x1a29, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xccf0);
        EXPECT(gbc.pc(), 0x1a2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 022F
        gbc.setState(0x1855, 0x5588, 0xf200, 0xb613, 0x805b, 0x5be9, 0x1, 0x0);
        gbc.writeMem(0x1855, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x5588);
        EXPECT(gbc.pc(), 0x1856);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0230
        gbc.setState(0x683d, 0x24f4, 0x4b50, 0x338d, 0x5f6d, 0xb69a, 0x0, 0x0);
        gbc.writeMem(0x683d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x24f4);
        EXPECT(gbc.pc(), 0x683e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0232
        gbc.setState(0xdfd8, 0xfd80, 0xb210, 0x32c0, 0xa2aa, 0x37c2, 0x1, 0x1);
        gbc.writeMem(0xdfd8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xfd80);
        EXPECT(gbc.pc(), 0xdfd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfd8), 0x5f);
        // 5F 0233
        gbc.setState(0x8104, 0xeac5, 0x2440, 0xa306, 0xf26d, 0xade6, 0x0, 0x0);
        gbc.writeMem(0x8104, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xeac5);
        EXPECT(gbc.pc(), 0x8105);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8104), 0x5f);
        // 5F 0234
        gbc.setState(0x2a8c, 0x6e46, 0xcd70, 0xf3a0, 0x3381, 0xb03d, 0x1, 0x0);
        gbc.writeMem(0x2a8c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x6e46);
        EXPECT(gbc.pc(), 0x2a8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0236
        gbc.setState(0xea37, 0xa3ae, 0xfaa0, 0x9fcb, 0xc68e, 0x4634, 0x0, 0x0);
        gbc.writeMem(0xea37, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xa3ae);
        EXPECT(gbc.pc(), 0xea38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea37), 0x5f);
        // 5F 0237
        gbc.setState(0x12e9, 0xe1ed, 0x4300, 0xe554, 0xc942, 0xab13, 0x0, 0x0);
        gbc.writeMem(0x12e9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xe1ed);
        EXPECT(gbc.pc(), 0x12ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0238
        gbc.setState(0xbf80, 0xbd78, 0x990, 0x7665, 0x4fa9, 0x825c, 0x1, 0x0);
        gbc.writeMem(0xbf80, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xbd78);
        EXPECT(gbc.pc(), 0xbf81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf80), 0x5f);
        // 5F 0239
        gbc.setState(0xeb4b, 0xf588, 0x3f0, 0xcee, 0x3940, 0xad6b, 0x1, 0x0);
        gbc.writeMem(0xeb4b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xf588);
        EXPECT(gbc.pc(), 0xeb4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb4b), 0x5f);
        // 5F 023A
        gbc.setState(0x72bb, 0xdae7, 0x2470, 0xae8c, 0xbf04, 0xbb58, 0x1, 0x0);
        gbc.writeMem(0x72bb, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xdae7);
        EXPECT(gbc.pc(), 0x72bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 023C
        gbc.setState(0x290b, 0x1732, 0xe9c0, 0x1520, 0x6fef, 0xfc7f, 0x1, 0x0);
        gbc.writeMem(0x290b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x1732);
        EXPECT(gbc.pc(), 0x290c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 023D
        gbc.setState(0xb3c8, 0x86ef, 0x64d0, 0x3e22, 0x7de, 0x9d00, 0x1, 0x0);
        gbc.writeMem(0xb3c8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x86ef);
        EXPECT(gbc.pc(), 0xb3c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3c8), 0x5f);
        // 5F 023E
        gbc.setState(0x504c, 0x422a, 0xeeb0, 0xec7d, 0x7630, 0xef86, 0x1, 0x0);
        gbc.writeMem(0x504c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x422a);
        EXPECT(gbc.pc(), 0x504d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 023F
        gbc.setState(0x34b0, 0x71d0, 0x7ee0, 0x8154, 0x170a, 0xcac6, 0x0, 0x1);
        gbc.writeMem(0x34b0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x71d0);
        EXPECT(gbc.pc(), 0x34b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0240
        gbc.setState(0xc8cf, 0x51d, 0xe3a0, 0xa2ab, 0x8184, 0xc397, 0x0, 0x1);
        gbc.writeMem(0xc8cf, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x51d);
        EXPECT(gbc.pc(), 0xc8d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8cf), 0x5f);
        // 5F 0241
        gbc.setState(0x7fba, 0xd837, 0x7060, 0x98d6, 0xd238, 0x9d5d, 0x1, 0x0);
        gbc.writeMem(0x7fba, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xd837);
        EXPECT(gbc.pc(), 0x7fbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0243
        gbc.setState(0xccd0, 0x4e74, 0xbf40, 0xdc83, 0x8707, 0x32d4, 0x1, 0x0);
        gbc.writeMem(0xccd0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x4e74);
        EXPECT(gbc.pc(), 0xccd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccd0), 0x5f);
        // 5F 0244
        gbc.setState(0x73a5, 0x37c5, 0x3ab0, 0xb62b, 0x853a, 0xfa35, 0x1, 0x0);
        gbc.writeMem(0x73a5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x37c5);
        EXPECT(gbc.pc(), 0x73a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0245
        gbc.setState(0x2dc8, 0x897, 0x5170, 0xbc36, 0x519d, 0x6d79, 0x0, 0x1);
        gbc.writeMem(0x2dc8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x897);
        EXPECT(gbc.pc(), 0x2dc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0246
        gbc.setState(0x2805, 0xdb01, 0x36d0, 0x95b0, 0xc3b7, 0x8aaa, 0x0, 0x1);
        gbc.writeMem(0x2805, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xdb01);
        EXPECT(gbc.pc(), 0x2806);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0248
        gbc.setState(0xd4e4, 0xce09, 0x8d30, 0x8967, 0x9a60, 0x6140, 0x0, 0x1);
        gbc.writeMem(0xd4e4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xce09);
        EXPECT(gbc.pc(), 0xd4e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4e4), 0x5f);
        // 5F 0249
        gbc.setState(0x9463, 0x3f97, 0x7d10, 0x6dbf, 0xbf08, 0xc22, 0x0, 0x1);
        gbc.writeMem(0x9463, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x3f97);
        EXPECT(gbc.pc(), 0x9464);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9463), 0x5f);
        // 5F 024A
        gbc.setState(0x42af, 0xb97c, 0x8f20, 0x429b, 0xe227, 0x33bc, 0x1, 0x1);
        gbc.writeMem(0x42af, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb97c);
        EXPECT(gbc.pc(), 0x42b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 024B
        gbc.setState(0x4c8e, 0xabcc, 0x9d30, 0x44bf, 0x6b05, 0xd610, 0x0, 0x0);
        gbc.writeMem(0x4c8e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xabcc);
        EXPECT(gbc.pc(), 0x4c8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 024C
        gbc.setState(0x2fb3, 0x2088, 0x7600, 0xe1fd, 0x53a4, 0xfd83, 0x0, 0x1);
        gbc.writeMem(0x2fb3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x2088);
        EXPECT(gbc.pc(), 0x2fb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 024D
        gbc.setState(0x94f2, 0x725, 0x9930, 0x8359, 0x64ae, 0x8b82, 0x1, 0x1);
        gbc.writeMem(0x94f2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x725);
        EXPECT(gbc.pc(), 0x94f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94f2), 0x5f);
        // 5F 024E
        gbc.setState(0x7ef1, 0x93a3, 0x69a0, 0x79ac, 0xae9f, 0xe57, 0x0, 0x0);
        gbc.writeMem(0x7ef1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x93a3);
        EXPECT(gbc.pc(), 0x7ef2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 024F
        gbc.setState(0xc4f5, 0x41c6, 0x7940, 0x8068, 0xd28f, 0xdc50, 0x1, 0x0);
        gbc.writeMem(0xc4f5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x41c6);
        EXPECT(gbc.pc(), 0xc4f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4f5), 0x5f);
        // 5F 0250
        gbc.setState(0x5df6, 0x23b9, 0xea10, 0xfe2a, 0x9de7, 0xd1fa, 0x1, 0x0);
        gbc.writeMem(0x5df6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x23b9);
        EXPECT(gbc.pc(), 0x5df7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0251
        gbc.setState(0x680e, 0x19a1, 0xa180, 0x37bd, 0x7c4a, 0xcfc0, 0x1, 0x1);
        gbc.writeMem(0x680e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x19a1);
        EXPECT(gbc.pc(), 0x680f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0252
        gbc.setState(0xcc98, 0x3867, 0xa940, 0x16e2, 0x87db, 0x9440, 0x0, 0x0);
        gbc.writeMem(0xcc98, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x3867);
        EXPECT(gbc.pc(), 0xcc99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc98), 0x5f);
        // 5F 0253
        gbc.setState(0x7fe6, 0xf261, 0xc1c0, 0x9763, 0xa413, 0xe18, 0x0, 0x0);
        gbc.writeMem(0x7fe6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xf261);
        EXPECT(gbc.pc(), 0x7fe7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0254
        gbc.setState(0xbedb, 0xe176, 0x3920, 0x2569, 0xc483, 0x8288, 0x1, 0x0);
        gbc.writeMem(0xbedb, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xe176);
        EXPECT(gbc.pc(), 0xbedc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbedb), 0x5f);
        // 5F 0255
        gbc.setState(0x3bce, 0xf0ec, 0x3810, 0xbed, 0xd371, 0x4434, 0x0, 0x1);
        gbc.writeMem(0x3bce, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xf0ec);
        EXPECT(gbc.pc(), 0x3bcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0256
        gbc.setState(0x5fc0, 0xcedf, 0x9bf0, 0x68d3, 0xeea7, 0x269b, 0x0, 0x0);
        gbc.writeMem(0x5fc0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xcedf);
        EXPECT(gbc.pc(), 0x5fc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0257
        gbc.setState(0xb12c, 0x850e, 0xfae0, 0x9518, 0x7893, 0x681c, 0x1, 0x1);
        gbc.writeMem(0xb12c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x850e);
        EXPECT(gbc.pc(), 0xb12d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb12c), 0x5f);
        // 5F 0258
        gbc.setState(0x9479, 0xb6da, 0x32c0, 0x738c, 0x3417, 0x4511, 0x1, 0x1);
        gbc.writeMem(0x9479, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xb6da);
        EXPECT(gbc.pc(), 0x947a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9479), 0x5f);
        // 5F 0259
        gbc.setState(0x599f, 0x95bc, 0x3f40, 0xcb43, 0xe267, 0x2946, 0x0, 0x1);
        gbc.writeMem(0x599f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x95bc);
        EXPECT(gbc.pc(), 0x59a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 025A
        gbc.setState(0xcd79, 0xbbdb, 0x4ea0, 0x6680, 0x474b, 0xab48, 0x0, 0x0);
        gbc.writeMem(0xcd79, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xbbdb);
        EXPECT(gbc.pc(), 0xcd7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd79), 0x5f);
        // 5F 025B
        gbc.setState(0xc235, 0x10c2, 0x3ac0, 0x3afd, 0xdc25, 0x78ee, 0x0, 0x1);
        gbc.writeMem(0xc235, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x10c2);
        EXPECT(gbc.pc(), 0xc236);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc235), 0x5f);
        // 5F 025C
        gbc.setState(0x403a, 0xe80f, 0x9cc0, 0xdcac, 0xf447, 0x683, 0x0, 0x0);
        gbc.writeMem(0x403a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xe80f);
        EXPECT(gbc.pc(), 0x403b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 025D
        gbc.setState(0x8712, 0x9a8f, 0xa410, 0x5ab1, 0xa3e1, 0x9050, 0x1, 0x1);
        gbc.writeMem(0x8712, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x9a8f);
        EXPECT(gbc.pc(), 0x8713);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8712), 0x5f);
        // 5F 025E
        gbc.setState(0x1cf9, 0xf640, 0xfd90, 0xd0ad, 0x71b3, 0x1de, 0x1, 0x0);
        gbc.writeMem(0x1cf9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xf640);
        EXPECT(gbc.pc(), 0x1cfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0260
        gbc.setState(0x911d, 0xbe2, 0x350, 0xe77a, 0xa79b, 0x2ad1, 0x0, 0x1);
        gbc.writeMem(0x911d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xbe2);
        EXPECT(gbc.pc(), 0x911e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x911d), 0x5f);
        // 5F 0261
        gbc.setState(0x80de, 0x7916, 0xa320, 0x8fc6, 0xa9f7, 0x8516, 0x1, 0x1);
        gbc.writeMem(0x80de, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x7916);
        EXPECT(gbc.pc(), 0x80df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80de), 0x5f);
        // 5F 0262
        gbc.setState(0x1a68, 0x542f, 0xc9e0, 0x2235, 0xb19c, 0xb6e3, 0x1, 0x1);
        gbc.writeMem(0x1a68, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x542f);
        EXPECT(gbc.pc(), 0x1a69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0263
        gbc.setState(0x2c88, 0x81b8, 0xb460, 0x60d8, 0x5a37, 0x8ce5, 0x0, 0x0);
        gbc.writeMem(0x2c88, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x81b8);
        EXPECT(gbc.pc(), 0x2c89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0264
        gbc.setState(0x6877, 0xa4a4, 0xdab0, 0xaab1, 0xaba7, 0x5b71, 0x0, 0x0);
        gbc.writeMem(0x6877, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xa4a4);
        EXPECT(gbc.pc(), 0x6878);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0265
        gbc.setState(0x9981, 0x7cad, 0x7350, 0xe8ef, 0x287, 0xa46a, 0x0, 0x1);
        gbc.writeMem(0x9981, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x7cad);
        EXPECT(gbc.pc(), 0x9982);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9981), 0x5f);
        // 5F 0266
        gbc.setState(0x445c, 0x9a63, 0x8e50, 0xa926, 0xbfb7, 0x6c9c, 0x0, 0x1);
        gbc.writeMem(0x445c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x9a63);
        EXPECT(gbc.pc(), 0x445d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0267
        gbc.setState(0xd06c, 0xefb3, 0x8430, 0x7525, 0x4f13, 0x5a3e, 0x0, 0x0);
        gbc.writeMem(0xd06c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xefb3);
        EXPECT(gbc.pc(), 0xd06d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd06c), 0x5f);
        // 5F 0268
        gbc.setState(0x3859, 0x41c4, 0x78f0, 0x44c6, 0xcb46, 0x35b3, 0x0, 0x1);
        gbc.writeMem(0x3859, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x41c4);
        EXPECT(gbc.pc(), 0x385a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0269
        gbc.setState(0xca62, 0xe638, 0xae80, 0xc9bb, 0xfd06, 0x7672, 0x1, 0x0);
        gbc.writeMem(0xca62, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xe638);
        EXPECT(gbc.pc(), 0xca63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca62), 0x5f);
        // 5F 026B
        gbc.setState(0xd50f, 0x4676, 0xed00, 0x8200, 0x74bc, 0x28b9, 0x0, 0x0);
        gbc.writeMem(0xd50f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x4676);
        EXPECT(gbc.pc(), 0xd510);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd50f), 0x5f);
        // 5F 026C
        gbc.setState(0x63b8, 0x62ea, 0x770, 0xbde8, 0x59db, 0x26ec, 0x1, 0x1);
        gbc.writeMem(0x63b8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x62ea);
        EXPECT(gbc.pc(), 0x63b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 026D
        gbc.setState(0xa20c, 0x2d63, 0x1430, 0x7b8f, 0x3fe4, 0x1735, 0x0, 0x1);
        gbc.writeMem(0xa20c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x2d63);
        EXPECT(gbc.pc(), 0xa20d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa20c), 0x5f);
        // 5F 026E
        gbc.setState(0x9c31, 0x3ece, 0xedf0, 0xba04, 0x7809, 0xd61e, 0x0, 0x1);
        gbc.writeMem(0x9c31, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x3ece);
        EXPECT(gbc.pc(), 0x9c32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c31), 0x5f);
        // 5F 026F
        gbc.setState(0xa571, 0x6759, 0x5450, 0x2899, 0x597c, 0x61a4, 0x1, 0x0);
        gbc.writeMem(0xa571, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x6759);
        EXPECT(gbc.pc(), 0xa572);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa571), 0x5f);
        // 5F 0270
        gbc.setState(0x4d6d, 0xcfe4, 0x9ce0, 0x827b, 0xbb15, 0xf1a1, 0x0, 0x0);
        gbc.writeMem(0x4d6d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xcfe4);
        EXPECT(gbc.pc(), 0x4d6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0271
        gbc.setState(0x7a11, 0x5c04, 0xd510, 0x1559, 0x9149, 0x9380, 0x1, 0x0);
        gbc.writeMem(0x7a11, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x5c04);
        EXPECT(gbc.pc(), 0x7a12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0272
        gbc.setState(0x60e, 0xfca8, 0xa020, 0x9737, 0x83a4, 0xc4d4, 0x1, 0x0);
        gbc.writeMem(0x60e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xfca8);
        EXPECT(gbc.pc(), 0x60f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0273
        gbc.setState(0xb6aa, 0xacda, 0xaff0, 0x7e12, 0xf53c, 0xdc86, 0x0, 0x1);
        gbc.writeMem(0xb6aa, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xacda);
        EXPECT(gbc.pc(), 0xb6ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6aa), 0x5f);
        // 5F 0274
        gbc.setState(0x25d, 0xc6bb, 0x6c40, 0xe450, 0xcb2d, 0xca5d, 0x0, 0x1);
        gbc.writeMem(0x25d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xc6bb);
        EXPECT(gbc.pc(), 0x25e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0275
        gbc.setState(0x8f35, 0x4da7, 0xbce0, 0x49a2, 0x6fc6, 0x238f, 0x0, 0x1);
        gbc.writeMem(0x8f35, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4da7);
        EXPECT(gbc.pc(), 0x8f36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f35), 0x5f);
        // 5F 0276
        gbc.setState(0xe153, 0x2e00, 0x9b0, 0xa164, 0xf5b, 0xedff, 0x0, 0x0);
        gbc.writeMem(0xe153, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2e00);
        EXPECT(gbc.pc(), 0xe154);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe153), 0x5f);
        // 5F 0277
        gbc.setState(0xce2e, 0x64d, 0x50d0, 0x420c, 0x5678, 0xc06d, 0x1, 0x1);
        gbc.writeMem(0xce2e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x64d);
        EXPECT(gbc.pc(), 0xce2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce2e), 0x5f);
        // 5F 0278
        gbc.setState(0x93aa, 0x89f5, 0xe7d0, 0xa196, 0xc286, 0x8171, 0x1, 0x1);
        gbc.writeMem(0x93aa, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x89f5);
        EXPECT(gbc.pc(), 0x93ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93aa), 0x5f);
        // 5F 0279
        gbc.setState(0x2983, 0x994e, 0x94f0, 0xf4fc, 0xd07f, 0xeb17, 0x0, 0x1);
        gbc.writeMem(0x2983, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x994e);
        EXPECT(gbc.pc(), 0x2984);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 027A
        gbc.setState(0xbffa, 0x82e2, 0x5870, 0xff83, 0xc52f, 0xd43f, 0x0, 0x1);
        gbc.writeMem(0xbffa, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x82e2);
        EXPECT(gbc.pc(), 0xbffb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbffa), 0x5f);
        // 5F 027B
        gbc.setState(0xa68, 0x8b9f, 0x1a30, 0xf8c9, 0xa0f3, 0x3883, 0x0, 0x1);
        gbc.writeMem(0xa68, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x8b9f);
        EXPECT(gbc.pc(), 0xa69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 027D
        gbc.setState(0x23aa, 0x6a26, 0xa0a0, 0x9c9f, 0xd5cd, 0x9717, 0x1, 0x0);
        gbc.writeMem(0x23aa, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x6a26);
        EXPECT(gbc.pc(), 0x23ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 027E
        gbc.setState(0x69f8, 0x6a8b, 0xb950, 0x45d7, 0xaf9c, 0x7e6f, 0x0, 0x0);
        gbc.writeMem(0x69f8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x6a8b);
        EXPECT(gbc.pc(), 0x69f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 027F
        gbc.setState(0xeb1d, 0xfb20, 0xc4a0, 0x2e1e, 0xfe43, 0x498, 0x1, 0x0);
        gbc.writeMem(0xeb1d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xfb20);
        EXPECT(gbc.pc(), 0xeb1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb1d), 0x5f);
        // 5F 0280
        gbc.setState(0x6ec8, 0xf683, 0x9d0, 0x7eb1, 0x3d86, 0xe060, 0x1, 0x0);
        gbc.writeMem(0x6ec8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xf683);
        EXPECT(gbc.pc(), 0x6ec9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0281
        gbc.setState(0xefb9, 0x43c2, 0x3200, 0x4b8d, 0x8f1e, 0x797a, 0x1, 0x1);
        gbc.writeMem(0xefb9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x43c2);
        EXPECT(gbc.pc(), 0xefba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefb9), 0x5f);
        // 5F 0282
        gbc.setState(0x17f3, 0x9561, 0x3620, 0x2b65, 0x5892, 0xb812, 0x1, 0x0);
        gbc.writeMem(0x17f3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x9561);
        EXPECT(gbc.pc(), 0x17f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0283
        gbc.setState(0x606c, 0x65ee, 0x8b50, 0x7376, 0x7999, 0xf6cf, 0x0, 0x1);
        gbc.writeMem(0x606c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x65ee);
        EXPECT(gbc.pc(), 0x606d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0284
        gbc.setState(0x2fbb, 0xf1a2, 0x7450, 0x66af, 0x781f, 0x3d26, 0x1, 0x1);
        gbc.writeMem(0x2fbb, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf1a2);
        EXPECT(gbc.pc(), 0x2fbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0286
        gbc.setState(0xc5e8, 0x2a0c, 0x7190, 0x7784, 0x4b4f, 0x677a, 0x1, 0x1);
        gbc.writeMem(0xc5e8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x2a0c);
        EXPECT(gbc.pc(), 0xc5e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5e8), 0x5f);
        // 5F 0287
        gbc.setState(0xbbac, 0xf93, 0x4030, 0x1098, 0x52eb, 0x727d, 0x0, 0x0);
        gbc.writeMem(0xbbac, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xf93);
        EXPECT(gbc.pc(), 0xbbad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbac), 0x5f);
        // 5F 0288
        gbc.setState(0x8cfd, 0x7024, 0x9910, 0xae55, 0x1325, 0xaf13, 0x0, 0x1);
        gbc.writeMem(0x8cfd, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x7024);
        EXPECT(gbc.pc(), 0x8cfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cfd), 0x5f);
        // 5F 0289
        gbc.setState(0x2d08, 0xcc07, 0x1760, 0xcab, 0x77c0, 0x6f06, 0x1, 0x0);
        gbc.writeMem(0x2d08, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xcc07);
        EXPECT(gbc.pc(), 0x2d09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 028A
        gbc.setState(0xd377, 0x1278, 0x80e0, 0x1240, 0x1863, 0x21e2, 0x1, 0x0);
        gbc.writeMem(0xd377, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x1278);
        EXPECT(gbc.pc(), 0xd378);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd377), 0x5f);
        // 5F 028B
        gbc.setState(0x9b4c, 0x5ee6, 0xae30, 0x2b9, 0x45a8, 0x380, 0x1, 0x0);
        gbc.writeMem(0x9b4c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x5ee6);
        EXPECT(gbc.pc(), 0x9b4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b4c), 0x5f);
        // 5F 028C
        gbc.setState(0x58f6, 0xab92, 0xcd80, 0xfb08, 0xd11f, 0x7b91, 0x1, 0x1);
        gbc.writeMem(0x58f6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xab92);
        EXPECT(gbc.pc(), 0x58f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 028D
        gbc.setState(0x929d, 0x262d, 0x6f70, 0xbb66, 0xbdea, 0xf406, 0x0, 0x0);
        gbc.writeMem(0x929d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x262d);
        EXPECT(gbc.pc(), 0x929e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x929d), 0x5f);
        // 5F 028E
        gbc.setState(0x608b, 0x28f1, 0xb400, 0xcf68, 0xfc22, 0xb5e8, 0x1, 0x0);
        gbc.writeMem(0x608b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x28f1);
        EXPECT(gbc.pc(), 0x608c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 028F
        gbc.setState(0x866e, 0x3e8b, 0x3790, 0x7021, 0x7a15, 0x686b, 0x0, 0x0);
        gbc.writeMem(0x866e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x3e8b);
        EXPECT(gbc.pc(), 0x866f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x866e), 0x5f);
        // 5F 0290
        gbc.setState(0xd100, 0xc42a, 0xf5d0, 0x249c, 0xe881, 0x4ea0, 0x1, 0x1);
        gbc.writeMem(0xd100, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xc42a);
        EXPECT(gbc.pc(), 0xd101);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd100), 0x5f);
        // 5F 0291
        gbc.setState(0x1c12, 0x7137, 0x5890, 0x53db, 0x3c0d, 0xb8f0, 0x1, 0x0);
        gbc.writeMem(0x1c12, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x7137);
        EXPECT(gbc.pc(), 0x1c13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0292
        gbc.setState(0x9a82, 0x6db7, 0xd0b0, 0x45a1, 0xfda9, 0x5635, 0x1, 0x1);
        gbc.writeMem(0x9a82, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x6db7);
        EXPECT(gbc.pc(), 0x9a83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a82), 0x5f);
        // 5F 0293
        gbc.setState(0xb46e, 0xd52f, 0x4650, 0x29d3, 0x893b, 0xa7f7, 0x0, 0x1);
        gbc.writeMem(0xb46e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xd52f);
        EXPECT(gbc.pc(), 0xb46f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb46e), 0x5f);
        // 5F 0294
        gbc.setState(0x4c0c, 0x5e79, 0xeb10, 0xe862, 0x85c1, 0xe7c1, 0x1, 0x1);
        gbc.writeMem(0x4c0c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x5e79);
        EXPECT(gbc.pc(), 0x4c0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0295
        gbc.setState(0x94be, 0x35, 0x10a0, 0xa964, 0x8996, 0xd9cf, 0x0, 0x0);
        gbc.writeMem(0x94be, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x35);
        EXPECT(gbc.pc(), 0x94bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94be), 0x5f);
        // 5F 0296
        gbc.setState(0xe1e6, 0x422f, 0x1c90, 0x2f6a, 0xc644, 0xd079, 0x1, 0x1);
        gbc.writeMem(0xe1e6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x422f);
        EXPECT(gbc.pc(), 0xe1e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1e6), 0x5f);
        // 5F 0297
        gbc.setState(0x43fe, 0xdb7b, 0x6380, 0xd09, 0x64cd, 0x4ed4, 0x1, 0x1);
        gbc.writeMem(0x43fe, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xdb7b);
        EXPECT(gbc.pc(), 0x43ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0298
        gbc.setState(0x48dc, 0xd951, 0x7810, 0x7c58, 0x1c45, 0x67e5, 0x0, 0x0);
        gbc.writeMem(0x48dc, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xd951);
        EXPECT(gbc.pc(), 0x48dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0299
        gbc.setState(0xb9be, 0x5242, 0x980, 0xcbae, 0xb27, 0xd03c, 0x0, 0x1);
        gbc.writeMem(0xb9be, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x5242);
        EXPECT(gbc.pc(), 0xb9bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9be), 0x5f);
        // 5F 029A
        gbc.setState(0x8cc6, 0xff5e, 0x24c0, 0x9fe7, 0xcdf, 0xa620, 0x1, 0x1);
        gbc.writeMem(0x8cc6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xff5e);
        EXPECT(gbc.pc(), 0x8cc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cc6), 0x5f);
        // 5F 029B
        gbc.setState(0x3aa, 0xfa18, 0xa860, 0x59e, 0x590, 0xc15b, 0x1, 0x0);
        gbc.writeMem(0x3aa, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xfa18);
        EXPECT(gbc.pc(), 0x3ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 029C
        gbc.setState(0xd8c2, 0x1d98, 0x290, 0x17ce, 0x61df, 0x681d, 0x0, 0x1);
        gbc.writeMem(0xd8c2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1d98);
        EXPECT(gbc.pc(), 0xd8c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8c2), 0x5f);
        // 5F 029E
        gbc.setState(0x32fc, 0x88f7, 0xc900, 0x1ad1, 0x92e9, 0x56dd, 0x0, 0x1);
        gbc.writeMem(0x32fc, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x88f7);
        EXPECT(gbc.pc(), 0x32fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 029F
        gbc.setState(0xae74, 0xfe5d, 0x6e20, 0x6beb, 0x7ae3, 0x7a3a, 0x0, 0x1);
        gbc.writeMem(0xae74, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xfe5d);
        EXPECT(gbc.pc(), 0xae75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae74), 0x5f);
        // 5F 02A1
        gbc.setState(0xa0f0, 0x80e1, 0xceb0, 0xdc0c, 0x4f64, 0xfbc, 0x1, 0x0);
        gbc.writeMem(0xa0f0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x80e1);
        EXPECT(gbc.pc(), 0xa0f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0f0), 0x5f);
        // 5F 02A2
        gbc.setState(0x4cda, 0x4183, 0xea10, 0x8054, 0xf5a3, 0x201b, 0x1, 0x0);
        gbc.writeMem(0x4cda, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x4183);
        EXPECT(gbc.pc(), 0x4cdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02A3
        gbc.setState(0x6538, 0xe168, 0xaab0, 0xa229, 0x84db, 0x3702, 0x1, 0x1);
        gbc.writeMem(0x6538, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xe168);
        EXPECT(gbc.pc(), 0x6539);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 02A4
        gbc.setState(0x8d6c, 0x19d2, 0x6c30, 0x9b80, 0x4571, 0x3c66, 0x0, 0x1);
        gbc.writeMem(0x8d6c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x19d2);
        EXPECT(gbc.pc(), 0x8d6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d6c), 0x5f);
        // 5F 02A5
        gbc.setState(0x22f5, 0x1d4d, 0x5c10, 0x342e, 0x7be6, 0x88dd, 0x0, 0x1);
        gbc.writeMem(0x22f5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x1d4d);
        EXPECT(gbc.pc(), 0x22f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02A6
        gbc.setState(0xb36c, 0xca28, 0xd0d0, 0x826, 0xb82a, 0x3ab7, 0x1, 0x1);
        gbc.writeMem(0xb36c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xca28);
        EXPECT(gbc.pc(), 0xb36d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb36c), 0x5f);
        // 5F 02A7
        gbc.setState(0x4228, 0x3d4e, 0xcaa0, 0x31f0, 0xa7c8, 0xdca0, 0x1, 0x0);
        gbc.writeMem(0x4228, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3d4e);
        EXPECT(gbc.pc(), 0x4229);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 02A8
        gbc.setState(0xb3e8, 0x759f, 0xdac0, 0x75d7, 0x9c7d, 0xf7ad, 0x0, 0x1);
        gbc.writeMem(0xb3e8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x759f);
        EXPECT(gbc.pc(), 0xb3e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3e8), 0x5f);
        // 5F 02A9
        gbc.setState(0x8f5b, 0x8098, 0x2de0, 0xc67b, 0xa48e, 0x59a4, 0x1, 0x1);
        gbc.writeMem(0x8f5b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x8098);
        EXPECT(gbc.pc(), 0x8f5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f5b), 0x5f);
        // 5F 02AA
        gbc.setState(0x3a2c, 0xca6a, 0x14a0, 0x872b, 0x45c4, 0x3f1d, 0x1, 0x1);
        gbc.writeMem(0x3a2c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xca6a);
        EXPECT(gbc.pc(), 0x3a2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 02AB
        gbc.setState(0x6998, 0x187b, 0x9070, 0x5ac1, 0x4e82, 0x6593, 0x0, 0x0);
        gbc.writeMem(0x6998, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x187b);
        EXPECT(gbc.pc(), 0x6999);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 02AC
        gbc.setState(0xab0c, 0x9361, 0x3960, 0x29e5, 0x69e1, 0xeb00, 0x1, 0x1);
        gbc.writeMem(0xab0c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x9361);
        EXPECT(gbc.pc(), 0xab0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab0c), 0x5f);
        // 5F 02AD
        gbc.setState(0x8352, 0x278f, 0x7ff0, 0xc654, 0xb7a5, 0x2f29, 0x0, 0x1);
        gbc.writeMem(0x8352, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x278f);
        EXPECT(gbc.pc(), 0x8353);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8352), 0x5f);
        // 5F 02AE
        gbc.setState(0x599b, 0x4287, 0x8e50, 0x30e3, 0xc609, 0x81bf, 0x1, 0x0);
        gbc.writeMem(0x599b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x4287);
        EXPECT(gbc.pc(), 0x599c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02AF
        gbc.setState(0x9ee4, 0xadf7, 0x7540, 0xee3d, 0x40ed, 0x6cd8, 0x0, 0x0);
        gbc.writeMem(0x9ee4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xadf7);
        EXPECT(gbc.pc(), 0x9ee5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ee4), 0x5f);
        // 5F 02B0
        gbc.setState(0x6b18, 0x7625, 0xfe80, 0x2725, 0xe96b, 0x815c, 0x0, 0x0);
        gbc.writeMem(0x6b18, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x7625);
        EXPECT(gbc.pc(), 0x6b19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 02B1
        gbc.setState(0x7005, 0xe3b5, 0x5b80, 0xa131, 0x699c, 0xaf49, 0x1, 0x1);
        gbc.writeMem(0x7005, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xe3b5);
        EXPECT(gbc.pc(), 0x7006);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 02B2
        gbc.setState(0xeba3, 0xff24, 0x770, 0x49df, 0x33ea, 0xfa18, 0x1, 0x0);
        gbc.writeMem(0xeba3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xff24);
        EXPECT(gbc.pc(), 0xeba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeba3), 0x5f);
        // 5F 02B3
        gbc.setState(0x4a37, 0x6099, 0xc760, 0x7d47, 0x5bef, 0x4814, 0x0, 0x0);
        gbc.writeMem(0x4a37, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x6099);
        EXPECT(gbc.pc(), 0x4a38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 02B4
        gbc.setState(0x777f, 0x699c, 0x5050, 0xf6b6, 0x12db, 0x6d37, 0x0, 0x1);
        gbc.writeMem(0x777f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x699c);
        EXPECT(gbc.pc(), 0x7780);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02B5
        gbc.setState(0x8852, 0xf126, 0x8d10, 0x9c76, 0x2ec8, 0x7086, 0x0, 0x1);
        gbc.writeMem(0x8852, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xf126);
        EXPECT(gbc.pc(), 0x8853);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8852), 0x5f);
        // 5F 02B6
        gbc.setState(0x5753, 0x62b4, 0x3930, 0xc5e0, 0x48e7, 0xed7f, 0x1, 0x1);
        gbc.writeMem(0x5753, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x62b4);
        EXPECT(gbc.pc(), 0x5754);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 02B7
        gbc.setState(0x1baa, 0x4ea9, 0xfa80, 0x170, 0x6404, 0x9034, 0x0, 0x1);
        gbc.writeMem(0x1baa, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x4ea9);
        EXPECT(gbc.pc(), 0x1bab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 02B9
        gbc.setState(0x53ec, 0x42d, 0x9040, 0xa31e, 0x2129, 0x9803, 0x1, 0x1);
        gbc.writeMem(0x53ec, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x42d);
        EXPECT(gbc.pc(), 0x53ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 02BA
        gbc.setState(0xa61e, 0x73af, 0xbda0, 0xa418, 0x66cf, 0x86d, 0x1, 0x1);
        gbc.writeMem(0xa61e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x73af);
        EXPECT(gbc.pc(), 0xa61f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa61e), 0x5f);
        // 5F 02BB
        gbc.setState(0x736b, 0xb6af, 0xeff0, 0x8e52, 0x59ac, 0xef35, 0x1, 0x0);
        gbc.writeMem(0x736b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xb6af);
        EXPECT(gbc.pc(), 0x736c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 02BC
        gbc.setState(0x7cb1, 0xc089, 0x2d70, 0x7284, 0xe548, 0x26a5, 0x0, 0x1);
        gbc.writeMem(0x7cb1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xc089);
        EXPECT(gbc.pc(), 0x7cb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 02BD
        gbc.setState(0x6b0e, 0x882c, 0x5bf0, 0x8331, 0x97a2, 0x851c, 0x1, 0x1);
        gbc.writeMem(0x6b0e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x882c);
        EXPECT(gbc.pc(), 0x6b0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 02BE
        gbc.setState(0x4c00, 0x933b, 0x3b90, 0x56a4, 0xfb41, 0x6830, 0x1, 0x1);
        gbc.writeMem(0x4c00, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x933b);
        EXPECT(gbc.pc(), 0x4c01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02BF
        gbc.setState(0x7f9d, 0x116f, 0x2490, 0x183a, 0x9b05, 0x25a5, 0x1, 0x1);
        gbc.writeMem(0x7f9d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x116f);
        EXPECT(gbc.pc(), 0x7f9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02C0
        gbc.setState(0xebad, 0x7883, 0x6410, 0xbf8c, 0xd0fa, 0xbeed, 0x0, 0x0);
        gbc.writeMem(0xebad, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7883);
        EXPECT(gbc.pc(), 0xebae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebad), 0x5f);
        // 5F 02C1
        gbc.setState(0xc336, 0x681d, 0x52c0, 0xb5bc, 0xb3f8, 0x93e1, 0x0, 0x1);
        gbc.writeMem(0xc336, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x681d);
        EXPECT(gbc.pc(), 0xc337);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc336), 0x5f);
        // 5F 02C2
        gbc.setState(0x66ef, 0x295f, 0x6c00, 0x5d46, 0x189, 0x3f41, 0x1, 0x1);
        gbc.writeMem(0x66ef, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x295f);
        EXPECT(gbc.pc(), 0x66f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 02C3
        gbc.setState(0xbc0f, 0x2b45, 0xd400, 0xcd0e, 0xcb90, 0x2461, 0x1, 0x1);
        gbc.writeMem(0xbc0f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x2b45);
        EXPECT(gbc.pc(), 0xbc10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc0f), 0x5f);
        // 5F 02C4
        gbc.setState(0x7fcf, 0xeefb, 0xce70, 0x2f10, 0xb92d, 0x63dc, 0x1, 0x1);
        gbc.writeMem(0x7fcf, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xeefb);
        EXPECT(gbc.pc(), 0x7fd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 02C5
        gbc.setState(0x9288, 0xab2, 0x1140, 0xeadc, 0xee5d, 0x1c76, 0x0, 0x1);
        gbc.writeMem(0x9288, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xab2);
        EXPECT(gbc.pc(), 0x9289);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9288), 0x5f);
        // 5F 02C6
        gbc.setState(0x9236, 0x5d7a, 0x3ed0, 0xc2b4, 0x7fcc, 0x2230, 0x0, 0x0);
        gbc.writeMem(0x9236, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x5d7a);
        EXPECT(gbc.pc(), 0x9237);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9236), 0x5f);
        // 5F 02C7
        gbc.setState(0x2a19, 0x1a80, 0x47a0, 0xe5d1, 0x24b0, 0xd25a, 0x1, 0x1);
        gbc.writeMem(0x2a19, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x1a80);
        EXPECT(gbc.pc(), 0x2a1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 02C8
        gbc.setState(0xc054, 0x93ea, 0xce0, 0xdb23, 0x8b8f, 0x154e, 0x1, 0x0);
        gbc.writeMem(0xc054, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x93ea);
        EXPECT(gbc.pc(), 0xc055);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc054), 0x5f);
        // 5F 02C9
        gbc.setState(0xcb36, 0x7c70, 0x6a00, 0x70e1, 0x2350, 0x792f, 0x0, 0x0);
        gbc.writeMem(0xcb36, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x7c70);
        EXPECT(gbc.pc(), 0xcb37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb36), 0x5f);
        // 5F 02CA
        gbc.setState(0x6fe6, 0x8dd7, 0x7330, 0x1dee, 0xa537, 0x1cda, 0x1, 0x1);
        gbc.writeMem(0x6fe6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x8dd7);
        EXPECT(gbc.pc(), 0x6fe7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 02CB
        gbc.setState(0x3f8b, 0xc42b, 0xc4e0, 0xbfe2, 0x3773, 0x5537, 0x0, 0x0);
        gbc.writeMem(0x3f8b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xc42b);
        EXPECT(gbc.pc(), 0x3f8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 02CC
        gbc.setState(0x51d8, 0xec87, 0x2e50, 0xe3b3, 0x6d4f, 0xbbeb, 0x0, 0x0);
        gbc.writeMem(0x51d8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xec87);
        EXPECT(gbc.pc(), 0x51d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02CD
        gbc.setState(0xd481, 0xec65, 0x47f0, 0xb5, 0x7ad0, 0xb263, 0x1, 0x1);
        gbc.writeMem(0xd481, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xec65);
        EXPECT(gbc.pc(), 0xd482);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd481), 0x5f);
        // 5F 02CE
        gbc.setState(0x2d79, 0x33f8, 0x6e0, 0x263, 0x5674, 0xe5cc, 0x0, 0x0);
        gbc.writeMem(0x2d79, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x33f8);
        EXPECT(gbc.pc(), 0x2d7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 02CF
        gbc.setState(0x3a95, 0xf668, 0xcd30, 0xecd2, 0xb9d4, 0x5b04, 0x0, 0x0);
        gbc.writeMem(0x3a95, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xf668);
        EXPECT(gbc.pc(), 0x3a96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 02D0
        gbc.setState(0xca92, 0x479c, 0x91d0, 0x2e81, 0xf7dd, 0xff38, 0x0, 0x1);
        gbc.writeMem(0xca92, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x479c);
        EXPECT(gbc.pc(), 0xca93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca92), 0x5f);
        // 5F 02D1
        gbc.setState(0xeee8, 0x2a98, 0x4e00, 0x51e8, 0x2b9, 0x7374, 0x0, 0x0);
        gbc.writeMem(0xeee8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x2a98);
        EXPECT(gbc.pc(), 0xeee9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeee8), 0x5f);
        // 5F 02D2
        gbc.setState(0xb79b, 0xb00a, 0x6ca0, 0x2fac, 0x71f4, 0x72c8, 0x1, 0x0);
        gbc.writeMem(0xb79b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xb00a);
        EXPECT(gbc.pc(), 0xb79c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb79b), 0x5f);
        // 5F 02D3
        gbc.setState(0x6bab, 0x5c3b, 0xb720, 0x9931, 0x2e65, 0x8949, 0x1, 0x0);
        gbc.writeMem(0x6bab, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x5c3b);
        EXPECT(gbc.pc(), 0x6bac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 02D4
        gbc.setState(0xdb3e, 0xe609, 0xb280, 0x7420, 0xfd6b, 0xa08d, 0x1, 0x0);
        gbc.writeMem(0xdb3e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xe609);
        EXPECT(gbc.pc(), 0xdb3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb3e), 0x5f);
        // 5F 02D5
        gbc.setState(0x7c76, 0x6c47, 0xe450, 0x6d37, 0x218b, 0xbd, 0x0, 0x1);
        gbc.writeMem(0x7c76, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x6c47);
        EXPECT(gbc.pc(), 0x7c77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02D6
        gbc.setState(0xd641, 0xd4e9, 0xf280, 0xffb1, 0x140f, 0xc4c9, 0x0, 0x0);
        gbc.writeMem(0xd641, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xd4e9);
        EXPECT(gbc.pc(), 0xd642);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd641), 0x5f);
        // 5F 02D7
        gbc.setState(0x3e19, 0xe34d, 0x9710, 0xfd0d, 0xe53e, 0xb14e, 0x1, 0x1);
        gbc.writeMem(0x3e19, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe34d);
        EXPECT(gbc.pc(), 0x3e1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02D8
        gbc.setState(0x19e9, 0x8be0, 0x1ac0, 0xc317, 0xb874, 0xdaad, 0x1, 0x1);
        gbc.writeMem(0x19e9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x8be0);
        EXPECT(gbc.pc(), 0x19ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 02D9
        gbc.setState(0xdd21, 0xc202, 0x3fd0, 0x691d, 0x9e25, 0xa037, 0x0, 0x1);
        gbc.writeMem(0xdd21, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xc202);
        EXPECT(gbc.pc(), 0xdd22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd21), 0x5f);
        // 5F 02DA
        gbc.setState(0xdef9, 0xd475, 0xb120, 0xe12c, 0xaad5, 0x5f6a, 0x1, 0x1);
        gbc.writeMem(0xdef9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xd475);
        EXPECT(gbc.pc(), 0xdefa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdef9), 0x5f);
        // 5F 02DB
        gbc.setState(0x27fe, 0x1107, 0x1f60, 0x78c, 0x7c6a, 0x97dd, 0x1, 0x1);
        gbc.writeMem(0x27fe, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x1107);
        EXPECT(gbc.pc(), 0x27ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 02DC
        gbc.setState(0xc6ca, 0xbc67, 0xfae0, 0x52e5, 0x2163, 0x6526, 0x1, 0x1);
        gbc.writeMem(0xc6ca, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xbc67);
        EXPECT(gbc.pc(), 0xc6cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6ca), 0x5f);
        // 5F 02DD
        gbc.setState(0x261f, 0x14d5, 0xc2c0, 0xb85c, 0xe4d3, 0x6819, 0x1, 0x0);
        gbc.writeMem(0x261f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x14d5);
        EXPECT(gbc.pc(), 0x2620);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 02DE
        gbc.setState(0x4586, 0x1519, 0x660, 0x324f, 0x6d20, 0x5cc9, 0x1, 0x1);
        gbc.writeMem(0x4586, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x1519);
        EXPECT(gbc.pc(), 0x4587);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 02DF
        gbc.setState(0x8bf, 0x5718, 0x7f50, 0xe699, 0xa3ad, 0x744, 0x0, 0x1);
        gbc.writeMem(0x8bf, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x5718);
        EXPECT(gbc.pc(), 0x8c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02E0
        gbc.setState(0x3cf4, 0xe09e, 0x9e10, 0x14d3, 0x1263, 0xcd3e, 0x0, 0x1);
        gbc.writeMem(0x3cf4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xe09e);
        EXPECT(gbc.pc(), 0x3cf5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02E1
        gbc.setState(0x477c, 0x5910, 0xce20, 0xca44, 0x2437, 0xa531, 0x1, 0x0);
        gbc.writeMem(0x477c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x5910);
        EXPECT(gbc.pc(), 0x477d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 02E2
        gbc.setState(0x47d3, 0xe801, 0x5800, 0x52d9, 0x4ec2, 0xa649, 0x1, 0x1);
        gbc.writeMem(0x47d3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xe801);
        EXPECT(gbc.pc(), 0x47d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 02E3
        gbc.setState(0xb044, 0x1cf, 0xb3b0, 0x9617, 0x393b, 0x3fc7, 0x1, 0x0);
        gbc.writeMem(0xb044, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x1cf);
        EXPECT(gbc.pc(), 0xb045);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb044), 0x5f);
        // 5F 02E4
        gbc.setState(0x67ed, 0x3ea2, 0xdd10, 0x9a5f, 0x688a, 0xd1b, 0x1, 0x0);
        gbc.writeMem(0x67ed, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x3ea2);
        EXPECT(gbc.pc(), 0x67ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02E5
        gbc.setState(0x310d, 0x439b, 0x1f50, 0x147f, 0x8bd5, 0x180e, 0x0, 0x1);
        gbc.writeMem(0x310d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x439b);
        EXPECT(gbc.pc(), 0x310e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02E6
        gbc.setState(0x1a2c, 0xa674, 0x2830, 0xb75, 0x1452, 0x502b, 0x0, 0x1);
        gbc.writeMem(0x1a2c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xa674);
        EXPECT(gbc.pc(), 0x1a2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 02E7
        gbc.setState(0x2937, 0xabb8, 0xd40, 0xde60, 0xb49a, 0x3d4, 0x1, 0x1);
        gbc.writeMem(0x2937, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xabb8);
        EXPECT(gbc.pc(), 0x2938);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 02E8
        gbc.setState(0x8c09, 0x1e50, 0x71b0, 0x269b, 0xea70, 0x537e, 0x1, 0x1);
        gbc.writeMem(0x8c09, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x1e50);
        EXPECT(gbc.pc(), 0x8c0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c09), 0x5f);
        // 5F 02E9
        gbc.setState(0x7e80, 0x4e8d, 0x690, 0x3b37, 0x77c6, 0x6820, 0x1, 0x0);
        gbc.writeMem(0x7e80, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x4e8d);
        EXPECT(gbc.pc(), 0x7e81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02EA
        gbc.setState(0x1d7f, 0x891, 0x5720, 0x9092, 0xdc7a, 0xbea6, 0x1, 0x1);
        gbc.writeMem(0x1d7f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x891);
        EXPECT(gbc.pc(), 0x1d80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 02EB
        gbc.setState(0x3de3, 0xfdc5, 0xa340, 0x139c, 0x13e8, 0x3f68, 0x1, 0x1);
        gbc.writeMem(0x3de3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xfdc5);
        EXPECT(gbc.pc(), 0x3de4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 02EC
        gbc.setState(0xdf16, 0x846, 0xb5c0, 0x1d1b, 0x238c, 0x1652, 0x1, 0x0);
        gbc.writeMem(0xdf16, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x846);
        EXPECT(gbc.pc(), 0xdf17);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf16), 0x5f);
        // 5F 02ED
        gbc.setState(0x2c98, 0x207e, 0x5460, 0xa62, 0xcf51, 0x36ef, 0x1, 0x0);
        gbc.writeMem(0x2c98, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x207e);
        EXPECT(gbc.pc(), 0x2c99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 02EE
        gbc.setState(0x629f, 0x22b1, 0x2130, 0xb85, 0x960c, 0x9c92, 0x1, 0x0);
        gbc.writeMem(0x629f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x22b1);
        EXPECT(gbc.pc(), 0x62a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 02EF
        gbc.setState(0x8cef, 0x7c9b, 0xe80, 0x9ad1, 0xf8e3, 0x776b, 0x0, 0x0);
        gbc.writeMem(0x8cef, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x7c9b);
        EXPECT(gbc.pc(), 0x8cf0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cef), 0x5f);
        // 5F 02F0
        gbc.setState(0x828b, 0x203b, 0x57b0, 0xacad, 0xc665, 0x80ce, 0x0, 0x1);
        gbc.writeMem(0x828b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x203b);
        EXPECT(gbc.pc(), 0x828c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x828b), 0x5f);
        // 5F 02F1
        gbc.setState(0x1043, 0x5043, 0x33a0, 0xbc5f, 0xde00, 0x38f7, 0x1, 0x0);
        gbc.writeMem(0x1043, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x5043);
        EXPECT(gbc.pc(), 0x1044);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 02F2
        gbc.setState(0x9e99, 0xbae5, 0x58a0, 0x86e0, 0x86a5, 0xd83f, 0x1, 0x0);
        gbc.writeMem(0x9e99, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xbae5);
        EXPECT(gbc.pc(), 0x9e9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e99), 0x5f);
        // 5F 02F3
        gbc.setState(0xe310, 0x1afe, 0xe4a0, 0x18c8, 0x1578, 0x658, 0x0, 0x1);
        gbc.writeMem(0xe310, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x1afe);
        EXPECT(gbc.pc(), 0xe311);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe310), 0x5f);
        // 5F 02F4
        gbc.setState(0x2ae6, 0xc866, 0x23d0, 0x4ff4, 0xd2dc, 0x9768, 0x0, 0x0);
        gbc.writeMem(0x2ae6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xc866);
        EXPECT(gbc.pc(), 0x2ae7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02F5
        gbc.setState(0x33f4, 0x412b, 0xbb40, 0xb7de, 0xd1ec, 0x9af4, 0x0, 0x1);
        gbc.writeMem(0x33f4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x412b);
        EXPECT(gbc.pc(), 0x33f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 02F6
        gbc.setState(0x2fbc, 0xa207, 0xbd50, 0xe12c, 0x5306, 0x75c5, 0x0, 0x0);
        gbc.writeMem(0x2fbc, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xa207);
        EXPECT(gbc.pc(), 0x2fbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 02F7
        gbc.setState(0xb74a, 0xb4db, 0xe180, 0x6624, 0xfc8c, 0x822e, 0x1, 0x1);
        gbc.writeMem(0xb74a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xb4db);
        EXPECT(gbc.pc(), 0xb74b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb74a), 0x5f);
        // 5F 02F9
        gbc.setState(0x788a, 0x5dad, 0xe070, 0x1fef, 0xdcab, 0xfca1, 0x0, 0x1);
        gbc.writeMem(0x788a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x5dad);
        EXPECT(gbc.pc(), 0x788b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 02FA
        gbc.setState(0x3f3a, 0xa09c, 0x3c80, 0x7371, 0x773a, 0xaf8b, 0x0, 0x1);
        gbc.writeMem(0x3f3a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xa09c);
        EXPECT(gbc.pc(), 0x3f3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 02FB
        gbc.setState(0xbb9e, 0xf304, 0x1f10, 0xb9a5, 0xd616, 0xb7e, 0x0, 0x0);
        gbc.writeMem(0xbb9e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xf304);
        EXPECT(gbc.pc(), 0xbb9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb9e), 0x5f);
        // 5F 02FC
        gbc.setState(0x3573, 0x6586, 0x4540, 0x46e6, 0xe093, 0xe648, 0x0, 0x1);
        gbc.writeMem(0x3573, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x6586);
        EXPECT(gbc.pc(), 0x3574);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 02FD
        gbc.setState(0xa9fc, 0xb117, 0x9c00, 0x540, 0xa410, 0xfb6a, 0x0, 0x1);
        gbc.writeMem(0xa9fc, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xb117);
        EXPECT(gbc.pc(), 0xa9fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9fc), 0x5f);
        // 5F 02FE
        gbc.setState(0x88cb, 0x52a3, 0x6200, 0x9775, 0x59af, 0x2ee0, 0x0, 0x0);
        gbc.writeMem(0x88cb, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x52a3);
        EXPECT(gbc.pc(), 0x88cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88cb), 0x5f);
        // 5F 02FF
        gbc.setState(0x3c27, 0xf171, 0x97b0, 0x71d1, 0x51fa, 0x35dc, 0x0, 0x0);
        gbc.writeMem(0x3c27, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xf171);
        EXPECT(gbc.pc(), 0x3c28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0300
        gbc.setState(0x42a9, 0x28c4, 0xb210, 0x7b69, 0xd625, 0x6b55, 0x0, 0x0);
        gbc.writeMem(0x42a9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x28c4);
        EXPECT(gbc.pc(), 0x42aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0301
        gbc.setState(0x42dd, 0x8ed5, 0x1020, 0xd933, 0xa3a5, 0x5e9c, 0x1, 0x1);
        gbc.writeMem(0x42dd, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x8ed5);
        EXPECT(gbc.pc(), 0x42de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0302
        gbc.setState(0xac9e, 0x968, 0x66d0, 0xe952, 0xf9cb, 0x7017, 0x1, 0x1);
        gbc.writeMem(0xac9e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x968);
        EXPECT(gbc.pc(), 0xac9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac9e), 0x5f);
        // 5F 0303
        gbc.setState(0xc3e3, 0x97a9, 0xb470, 0xc3e3, 0x61b6, 0x4c90, 0x0, 0x0);
        gbc.writeMem(0xc3e3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x97a9);
        EXPECT(gbc.pc(), 0xc3e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3e3), 0x5f);
        // 5F 0304
        gbc.setState(0x2df9, 0x6e62, 0xd630, 0x5bc8, 0xd03a, 0x18fa, 0x1, 0x0);
        gbc.writeMem(0x2df9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x6e62);
        EXPECT(gbc.pc(), 0x2dfa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0305
        gbc.setState(0x91f, 0x2f52, 0xf460, 0x3be8, 0xf641, 0x3e37, 0x1, 0x0);
        gbc.writeMem(0x91f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x2f52);
        EXPECT(gbc.pc(), 0x920);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0306
        gbc.setState(0x17cd, 0xe44b, 0xdeb0, 0xf26a, 0xcc72, 0x7244, 0x0, 0x1);
        gbc.writeMem(0x17cd, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xe44b);
        EXPECT(gbc.pc(), 0x17ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0307
        gbc.setState(0x51b8, 0xf9d7, 0xce40, 0xebaf, 0x5ec4, 0x3bcb, 0x0, 0x0);
        gbc.writeMem(0x51b8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xf9d7);
        EXPECT(gbc.pc(), 0x51b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0309
        gbc.setState(0xe15e, 0x281e, 0x6720, 0xfc80, 0x15ea, 0x4b14, 0x1, 0x0);
        gbc.writeMem(0xe15e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x281e);
        EXPECT(gbc.pc(), 0xe15f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe15e), 0x5f);
        // 5F 030A
        gbc.setState(0xbe33, 0x5899, 0xd7e0, 0xc8b4, 0x6abc, 0xd3d9, 0x0, 0x0);
        gbc.writeMem(0xbe33, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x5899);
        EXPECT(gbc.pc(), 0xbe34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe33), 0x5f);
        // 5F 030B
        gbc.setState(0xa99, 0x31fc, 0x3420, 0xd053, 0xf3fd, 0x8844, 0x0, 0x0);
        gbc.writeMem(0xa99, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x31fc);
        EXPECT(gbc.pc(), 0xa9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 030C
        gbc.setState(0x3e33, 0xdbec, 0x93a0, 0xd178, 0xaa77, 0x4477, 0x0, 0x1);
        gbc.writeMem(0x3e33, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xdbec);
        EXPECT(gbc.pc(), 0x3e34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 030D
        gbc.setState(0xb14a, 0x92ca, 0xa740, 0x4415, 0xd936, 0xe788, 0x0, 0x1);
        gbc.writeMem(0xb14a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x92ca);
        EXPECT(gbc.pc(), 0xb14b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb14a), 0x5f);
        // 5F 030E
        gbc.setState(0xc4c0, 0x3390, 0x690, 0x96b, 0xa297, 0x4c52, 0x1, 0x1);
        gbc.writeMem(0xc4c0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x3390);
        EXPECT(gbc.pc(), 0xc4c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4c0), 0x5f);
        // 5F 030F
        gbc.setState(0x2b38, 0x93e6, 0xd20, 0x73bd, 0x2cfc, 0x5d10, 0x1, 0x0);
        gbc.writeMem(0x2b38, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x93e6);
        EXPECT(gbc.pc(), 0x2b39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0310
        gbc.setState(0x7db, 0x937b, 0xe590, 0x1000, 0x8991, 0x89a9, 0x1, 0x1);
        gbc.writeMem(0x7db, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x937b);
        EXPECT(gbc.pc(), 0x7dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0311
        gbc.setState(0x45a3, 0x86a8, 0x1560, 0x33f3, 0x9de6, 0xfb39, 0x1, 0x0);
        gbc.writeMem(0x45a3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x86a8);
        EXPECT(gbc.pc(), 0x45a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0312
        gbc.setState(0x79fb, 0x1313, 0x6d70, 0xe414, 0x550, 0xe634, 0x0, 0x1);
        gbc.writeMem(0x79fb, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x1313);
        EXPECT(gbc.pc(), 0x79fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0313
        gbc.setState(0xd7a, 0x34be, 0x6330, 0xee14, 0xfd0b, 0xecf2, 0x0, 0x0);
        gbc.writeMem(0xd7a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x34be);
        EXPECT(gbc.pc(), 0xd7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0314
        gbc.setState(0x933d, 0xbec1, 0xdb90, 0x47b, 0xb8c6, 0xb403, 0x0, 0x0);
        gbc.writeMem(0x933d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xbec1);
        EXPECT(gbc.pc(), 0x933e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x933d), 0x5f);
        // 5F 0315
        gbc.setState(0xed86, 0x8d6, 0xb6e0, 0xe86e, 0x6712, 0xfa89, 0x1, 0x0);
        gbc.writeMem(0xed86, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x8d6);
        EXPECT(gbc.pc(), 0xed87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed86), 0x5f);
        // 5F 0316
        gbc.setState(0x8cc5, 0xed54, 0x140, 0x20f2, 0x7510, 0x3a8b, 0x1, 0x0);
        gbc.writeMem(0x8cc5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xed54);
        EXPECT(gbc.pc(), 0x8cc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cc5), 0x5f);
        // 5F 0317
        gbc.setState(0x64b8, 0x39e8, 0x4a90, 0x8e21, 0x86fd, 0xa175, 0x1, 0x0);
        gbc.writeMem(0x64b8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x39e8);
        EXPECT(gbc.pc(), 0x64b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0318
        gbc.setState(0xaa32, 0x5101, 0x1a70, 0xd215, 0xdbfb, 0xb6fa, 0x1, 0x0);
        gbc.writeMem(0xaa32, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x5101);
        EXPECT(gbc.pc(), 0xaa33);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa32), 0x5f);
        // 5F 0319
        gbc.setState(0x466d, 0x15d1, 0x1210, 0x1c3c, 0xd3d9, 0xacb1, 0x1, 0x1);
        gbc.writeMem(0x466d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x15d1);
        EXPECT(gbc.pc(), 0x466e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 031A
        gbc.setState(0xa88e, 0x4b07, 0xd440, 0x30, 0x702, 0xc48e, 0x0, 0x1);
        gbc.writeMem(0xa88e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x4b07);
        EXPECT(gbc.pc(), 0xa88f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa88e), 0x5f);
        // 5F 031B
        gbc.setState(0xef20, 0xb347, 0x210, 0xff59, 0x92a7, 0x59a6, 0x1, 0x0);
        gbc.writeMem(0xef20, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xb347);
        EXPECT(gbc.pc(), 0xef21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef20), 0x5f);
        // 5F 031C
        gbc.setState(0xc28a, 0x4615, 0x14f0, 0x2cf, 0x5d86, 0xacb9, 0x0, 0x1);
        gbc.writeMem(0xc28a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x4615);
        EXPECT(gbc.pc(), 0xc28b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc28a), 0x5f);
        // 5F 031D
        gbc.setState(0xaba3, 0x54aa, 0xd7b0, 0x8a44, 0x24cd, 0x7b98, 0x1, 0x1);
        gbc.writeMem(0xaba3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x54aa);
        EXPECT(gbc.pc(), 0xaba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaba3), 0x5f);
        // 5F 031E
        gbc.setState(0x436, 0x2e38, 0x43a0, 0x223e, 0xe27e, 0x693a, 0x1, 0x1);
        gbc.writeMem(0x436, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x2e38);
        EXPECT(gbc.pc(), 0x437);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 031F
        gbc.setState(0x43e1, 0x23bf, 0xa330, 0x7c56, 0x34a1, 0x716a, 0x0, 0x1);
        gbc.writeMem(0x43e1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x23bf);
        EXPECT(gbc.pc(), 0x43e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0320
        gbc.setState(0xb639, 0x4084, 0x2c80, 0x79e6, 0x29d3, 0xacf5, 0x0, 0x0);
        gbc.writeMem(0xb639, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x4084);
        EXPECT(gbc.pc(), 0xb63a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb639), 0x5f);
        // 5F 0321
        gbc.setState(0x2fa5, 0xee5a, 0x8140, 0x7d34, 0x5ceb, 0x7767, 0x0, 0x0);
        gbc.writeMem(0x2fa5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xee5a);
        EXPECT(gbc.pc(), 0x2fa6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0322
        gbc.setState(0xd0f, 0x14bc, 0xbcd0, 0xf5ac, 0xdd3a, 0x3f4f, 0x1, 0x0);
        gbc.writeMem(0xd0f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x14bc);
        EXPECT(gbc.pc(), 0xd10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0324
        gbc.setState(0x4d6c, 0x7d72, 0x27b0, 0xae68, 0x3c6c, 0x9d38, 0x0, 0x1);
        gbc.writeMem(0x4d6c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x7d72);
        EXPECT(gbc.pc(), 0x4d6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0325
        gbc.setState(0x8614, 0xa227, 0xe400, 0x56e8, 0x828a, 0xd3ee, 0x0, 0x1);
        gbc.writeMem(0x8614, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xa227);
        EXPECT(gbc.pc(), 0x8615);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8614), 0x5f);
        // 5F 0326
        gbc.setState(0xe9f2, 0x5e4a, 0xed30, 0x5a16, 0x41f5, 0x8b6b, 0x0, 0x1);
        gbc.writeMem(0xe9f2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x5e4a);
        EXPECT(gbc.pc(), 0xe9f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9f2), 0x5f);
        // 5F 0327
        gbc.setState(0x9bff, 0xfcaf, 0xffc0, 0x644d, 0xed2a, 0x80dd, 0x1, 0x1);
        gbc.writeMem(0x9bff, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xfcaf);
        EXPECT(gbc.pc(), 0x9c00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bff), 0x5f);
        // 5F 0328
        gbc.setState(0xd72d, 0x2b0e, 0x18b0, 0x5504, 0x8c00, 0xa948, 0x1, 0x0);
        gbc.writeMem(0xd72d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x2b0e);
        EXPECT(gbc.pc(), 0xd72e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd72d), 0x5f);
        // 5F 0329
        gbc.setState(0xa777, 0xa7b8, 0xf10, 0xb805, 0xb70e, 0x71e7, 0x1, 0x0);
        gbc.writeMem(0xa777, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa7b8);
        EXPECT(gbc.pc(), 0xa778);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa777), 0x5f);
        // 5F 032A
        gbc.setState(0x2a9c, 0x146b, 0xce10, 0x2964, 0x26d7, 0xc25b, 0x0, 0x1);
        gbc.writeMem(0x2a9c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x146b);
        EXPECT(gbc.pc(), 0x2a9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 032B
        gbc.setState(0x5a00, 0x7c56, 0xc190, 0xef41, 0xdb1c, 0x5dfc, 0x0, 0x0);
        gbc.writeMem(0x5a00, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x7c56);
        EXPECT(gbc.pc(), 0x5a01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 032C
        gbc.setState(0x3c10, 0x402f, 0x33e0, 0xb692, 0x362c, 0xe4b7, 0x0, 0x0);
        gbc.writeMem(0x3c10, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x402f);
        EXPECT(gbc.pc(), 0x3c11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 032D
        gbc.setState(0xada7, 0xb5de, 0x7ed0, 0x5389, 0xefe7, 0x5a9f, 0x0, 0x1);
        gbc.writeMem(0xada7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xb5de);
        EXPECT(gbc.pc(), 0xada8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xada7), 0x5f);
        // 5F 032E
        gbc.setState(0xd12c, 0x6003, 0x4ba0, 0xb584, 0x782a, 0xccf2, 0x0, 0x1);
        gbc.writeMem(0xd12c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6003);
        EXPECT(gbc.pc(), 0xd12d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd12c), 0x5f);
        // 5F 0330
        gbc.setState(0x60c1, 0x5513, 0x7d00, 0x978a, 0x4086, 0x39ac, 0x1, 0x1);
        gbc.writeMem(0x60c1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x5513);
        EXPECT(gbc.pc(), 0x60c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0331
        gbc.setState(0x20db, 0xadbc, 0x8aa0, 0x263b, 0x1a28, 0x4b6, 0x1, 0x1);
        gbc.writeMem(0x20db, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xadbc);
        EXPECT(gbc.pc(), 0x20dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0332
        gbc.setState(0xd6a6, 0xdfc9, 0x5f60, 0x9191, 0x8c36, 0xe54b, 0x0, 0x0);
        gbc.writeMem(0xd6a6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xdfc9);
        EXPECT(gbc.pc(), 0xd6a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6a6), 0x5f);
        // 5F 0333
        gbc.setState(0xa83e, 0x68bb, 0x12c0, 0xee19, 0x6b81, 0xd4f5, 0x0, 0x0);
        gbc.writeMem(0xa83e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x68bb);
        EXPECT(gbc.pc(), 0xa83f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa83e), 0x5f);
        // 5F 0334
        gbc.setState(0x5f1e, 0xf44a, 0x1be0, 0xb0b4, 0xf735, 0x1a17, 0x0, 0x0);
        gbc.writeMem(0x5f1e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf44a);
        EXPECT(gbc.pc(), 0x5f1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0335
        gbc.setState(0xb4bf, 0xdaaf, 0xcd40, 0x3f11, 0xd07a, 0x29c8, 0x1, 0x0);
        gbc.writeMem(0xb4bf, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xdaaf);
        EXPECT(gbc.pc(), 0xb4c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4bf), 0x5f);
        // 5F 0336
        gbc.setState(0xb919, 0xf677, 0x9a30, 0x2be8, 0x3808, 0xe2b2, 0x0, 0x0);
        gbc.writeMem(0xb919, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xf677);
        EXPECT(gbc.pc(), 0xb91a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb919), 0x5f);
        // 5F 0337
        gbc.setState(0x1a13, 0xe008, 0x17f0, 0x834e, 0x3410, 0x209f, 0x0, 0x1);
        gbc.writeMem(0x1a13, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xe008);
        EXPECT(gbc.pc(), 0x1a14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0338
        gbc.setState(0x9709, 0x33b3, 0x42f0, 0xefb8, 0x7dfd, 0x339a, 0x0, 0x1);
        gbc.writeMem(0x9709, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x33b3);
        EXPECT(gbc.pc(), 0x970a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9709), 0x5f);
        // 5F 0339
        gbc.setState(0x2882, 0x7c7d, 0xa580, 0x8b46, 0xd48c, 0xdaf9, 0x1, 0x1);
        gbc.writeMem(0x2882, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x7c7d);
        EXPECT(gbc.pc(), 0x2883);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 033B
        gbc.setState(0x8ca9, 0x390c, 0xaa00, 0x8c7c, 0xa312, 0x5139, 0x0, 0x1);
        gbc.writeMem(0x8ca9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x390c);
        EXPECT(gbc.pc(), 0x8caa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ca9), 0x5f);
        // 5F 033C
        gbc.setState(0x7232, 0x20b9, 0xf1a0, 0x51e4, 0x8f46, 0xf0f4, 0x1, 0x0);
        gbc.writeMem(0x7232, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x20b9);
        EXPECT(gbc.pc(), 0x7233);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 033D
        gbc.setState(0xe7c, 0x2a19, 0x15c0, 0x57bd, 0x2d17, 0x8ff, 0x0, 0x1);
        gbc.writeMem(0xe7c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2a19);
        EXPECT(gbc.pc(), 0xe7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 033F
        gbc.setState(0x685b, 0x5715, 0x360, 0x932e, 0xde93, 0xc2c0, 0x1, 0x1);
        gbc.writeMem(0x685b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x5715);
        EXPECT(gbc.pc(), 0x685c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0340
        gbc.setState(0xd358, 0x93cf, 0xcfc0, 0xee6c, 0x5b48, 0xa61c, 0x1, 0x0);
        gbc.writeMem(0xd358, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x93cf);
        EXPECT(gbc.pc(), 0xd359);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd358), 0x5f);
        // 5F 0341
        gbc.setState(0x5e85, 0x8356, 0xc480, 0x1bd1, 0x5bf4, 0x9ed2, 0x0, 0x1);
        gbc.writeMem(0x5e85, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x8356);
        EXPECT(gbc.pc(), 0x5e86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0343
        gbc.setState(0xdee2, 0xc45a, 0x7a70, 0xdc71, 0x59b7, 0x8813, 0x1, 0x0);
        gbc.writeMem(0xdee2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xc45a);
        EXPECT(gbc.pc(), 0xdee3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdee2), 0x5f);
        // 5F 0344
        gbc.setState(0x610b, 0x24, 0x1b80, 0xdf07, 0xdefe, 0xbcdd, 0x1, 0x1);
        gbc.writeMem(0x610b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x24);
        EXPECT(gbc.pc(), 0x610c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0345
        gbc.setState(0x76e4, 0x8489, 0x73a0, 0x9df4, 0xbb94, 0x7d99, 0x1, 0x1);
        gbc.writeMem(0x76e4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x8489);
        EXPECT(gbc.pc(), 0x76e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0346
        gbc.setState(0x3393, 0x4bdd, 0xcb10, 0xd5ba, 0xf33c, 0xd91e, 0x1, 0x0);
        gbc.writeMem(0x3393, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x4bdd);
        EXPECT(gbc.pc(), 0x3394);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0347
        gbc.setState(0x74b6, 0x150d, 0x2a10, 0xba82, 0xb5db, 0x68aa, 0x0, 0x0);
        gbc.writeMem(0x74b6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x150d);
        EXPECT(gbc.pc(), 0x74b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0348
        gbc.setState(0xbfc1, 0x580a, 0x86b0, 0xdc46, 0xa8b8, 0x6f33, 0x1, 0x0);
        gbc.writeMem(0xbfc1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x580a);
        EXPECT(gbc.pc(), 0xbfc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfc1), 0x5f);
        // 5F 034A
        gbc.setState(0x42d0, 0x5303, 0x4d90, 0x15e4, 0xccb3, 0x9d4f, 0x0, 0x0);
        gbc.writeMem(0x42d0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x5303);
        EXPECT(gbc.pc(), 0x42d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 034B
        gbc.setState(0x21d6, 0xc0, 0xacd0, 0x809e, 0x1e9e, 0xf7c2, 0x1, 0x0);
        gbc.writeMem(0x21d6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xc0);
        EXPECT(gbc.pc(), 0x21d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 034C
        gbc.setState(0x7879, 0x7a4, 0xb10, 0x786, 0xea5, 0xfd47, 0x1, 0x1);
        gbc.writeMem(0x7879, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x7a4);
        EXPECT(gbc.pc(), 0x787a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 034D
        gbc.setState(0x9f3e, 0xa78e, 0xefe0, 0xc9b3, 0xd9c8, 0xd7a5, 0x1, 0x0);
        gbc.writeMem(0x9f3e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xa78e);
        EXPECT(gbc.pc(), 0x9f3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f3e), 0x5f);
        // 5F 034E
        gbc.setState(0x2128, 0xd1dd, 0xba60, 0x96b5, 0x9039, 0x5737, 0x1, 0x1);
        gbc.writeMem(0x2128, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xd1dd);
        EXPECT(gbc.pc(), 0x2129);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 034F
        gbc.setState(0xb526, 0x235e, 0x4340, 0x531c, 0xb2e9, 0x54b9, 0x0, 0x0);
        gbc.writeMem(0xb526, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x235e);
        EXPECT(gbc.pc(), 0xb527);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb526), 0x5f);
        // 5F 0351
        gbc.setState(0x89e0, 0x5eaf, 0xac60, 0xe7a5, 0xb80d, 0x3267, 0x1, 0x0);
        gbc.writeMem(0x89e0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x5eaf);
        EXPECT(gbc.pc(), 0x89e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89e0), 0x5f);
        // 5F 0352
        gbc.setState(0x3866, 0xbfe8, 0xef60, 0xb01a, 0xfad3, 0x1adf, 0x0, 0x1);
        gbc.writeMem(0x3866, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xbfe8);
        EXPECT(gbc.pc(), 0x3867);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0353
        gbc.setState(0x8437, 0xac40, 0xbfb0, 0x9c3e, 0x41d8, 0x17bd, 0x0, 0x1);
        gbc.writeMem(0x8437, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xac40);
        EXPECT(gbc.pc(), 0x8438);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8437), 0x5f);
        // 5F 0354
        gbc.setState(0x1717, 0xec6e, 0xed30, 0x4d01, 0x5caf, 0x2f92, 0x0, 0x1);
        gbc.writeMem(0x1717, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xec6e);
        EXPECT(gbc.pc(), 0x1718);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0355
        gbc.setState(0xfa1, 0xbc4a, 0x30f0, 0x9aaa, 0xd909, 0x9b08, 0x1, 0x0);
        gbc.writeMem(0xfa1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xbc4a);
        EXPECT(gbc.pc(), 0xfa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0356
        gbc.setState(0x193f, 0xc51d, 0xc7e0, 0x718a, 0xbc89, 0x4c30, 0x1, 0x0);
        gbc.writeMem(0x193f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xc51d);
        EXPECT(gbc.pc(), 0x1940);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0357
        gbc.setState(0x4583, 0x7295, 0x1be0, 0xab2, 0x3cf0, 0xf511, 0x0, 0x1);
        gbc.writeMem(0x4583, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7295);
        EXPECT(gbc.pc(), 0x4584);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0358
        gbc.setState(0xb3ff, 0xe54a, 0xc510, 0x42e0, 0xc283, 0xd486, 0x1, 0x1);
        gbc.writeMem(0xb3ff, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xe54a);
        EXPECT(gbc.pc(), 0xb400);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3ff), 0x5f);
        // 5F 0359
        gbc.setState(0x9b31, 0x22ae, 0xfbc0, 0xb6ff, 0x63cf, 0xae3d, 0x0, 0x0);
        gbc.writeMem(0x9b31, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x22ae);
        EXPECT(gbc.pc(), 0x9b32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b31), 0x5f);
        // 5F 035A
        gbc.setState(0x9b7b, 0x83d8, 0xd2b0, 0x9934, 0x95b3, 0xbf1e, 0x0, 0x0);
        gbc.writeMem(0x9b7b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x83d8);
        EXPECT(gbc.pc(), 0x9b7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b7b), 0x5f);
        // 5F 035B
        gbc.setState(0x477a, 0x77b9, 0x1c30, 0x2469, 0x6f8a, 0xc3a0, 0x1, 0x1);
        gbc.writeMem(0x477a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x77b9);
        EXPECT(gbc.pc(), 0x477b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 035C
        gbc.setState(0x86a6, 0x18b2, 0x5ba0, 0xd7b, 0xe522, 0xebb7, 0x0, 0x0);
        gbc.writeMem(0x86a6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x18b2);
        EXPECT(gbc.pc(), 0x86a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86a6), 0x5f);
        // 5F 035D
        gbc.setState(0x9c9b, 0xc1ef, 0xb690, 0xf312, 0x4a2c, 0x61c5, 0x1, 0x1);
        gbc.writeMem(0x9c9b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xc1ef);
        EXPECT(gbc.pc(), 0x9c9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c9b), 0x5f);
        // 5F 035E
        gbc.setState(0x6f0f, 0x56af, 0x9290, 0xb93d, 0x73d1, 0x2935, 0x0, 0x0);
        gbc.writeMem(0x6f0f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x56af);
        EXPECT(gbc.pc(), 0x6f10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 035F
        gbc.setState(0xc9c5, 0x3bc5, 0x27a0, 0xb001, 0x3380, 0x7d96, 0x1, 0x0);
        gbc.writeMem(0xc9c5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3bc5);
        EXPECT(gbc.pc(), 0xc9c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9c5), 0x5f);
        // 5F 0360
        gbc.setState(0x66ef, 0xb21a, 0x1ff0, 0x1ea7, 0xc42c, 0x2c3, 0x0, 0x0);
        gbc.writeMem(0x66ef, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb21a);
        EXPECT(gbc.pc(), 0x66f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0361
        gbc.setState(0x9299, 0x51cc, 0x270, 0x8847, 0xd002, 0x50d, 0x1, 0x1);
        gbc.writeMem(0x9299, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x51cc);
        EXPECT(gbc.pc(), 0x929a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9299), 0x5f);
        // 5F 0362
        gbc.setState(0xb09c, 0x668b, 0xe10, 0xc635, 0xe64f, 0xe2d0, 0x0, 0x1);
        gbc.writeMem(0xb09c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x668b);
        EXPECT(gbc.pc(), 0xb09d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb09c), 0x5f);
        // 5F 0363
        gbc.setState(0x6462, 0x827b, 0xb700, 0xc975, 0xd473, 0xeace, 0x0, 0x0);
        gbc.writeMem(0x6462, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x827b);
        EXPECT(gbc.pc(), 0x6463);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0364
        gbc.setState(0xe9b4, 0x37c1, 0xed80, 0xa7d1, 0x7177, 0xae43, 0x1, 0x0);
        gbc.writeMem(0xe9b4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x37c1);
        EXPECT(gbc.pc(), 0xe9b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9b4), 0x5f);
        // 5F 0365
        gbc.setState(0x441a, 0x6c89, 0x96b0, 0xd569, 0x2238, 0x6e0c, 0x0, 0x0);
        gbc.writeMem(0x441a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x6c89);
        EXPECT(gbc.pc(), 0x441b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0366
        gbc.setState(0x4b27, 0x5d71, 0x9490, 0xf68b, 0xf4af, 0x8bb0, 0x1, 0x1);
        gbc.writeMem(0x4b27, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x5d71);
        EXPECT(gbc.pc(), 0x4b28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0367
        gbc.setState(0x5806, 0xf845, 0x37a0, 0xfbc2, 0x6263, 0x929b, 0x0, 0x0);
        gbc.writeMem(0x5806, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xf845);
        EXPECT(gbc.pc(), 0x5807);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0368
        gbc.setState(0xae52, 0x486, 0x9640, 0x1d56, 0x866c, 0xe815, 0x0, 0x0);
        gbc.writeMem(0xae52, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x486);
        EXPECT(gbc.pc(), 0xae53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae52), 0x5f);
        // 5F 0369
        gbc.setState(0x8e07, 0x670, 0x2b70, 0x9a43, 0xd0bb, 0x996d, 0x1, 0x1);
        gbc.writeMem(0x8e07, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x670);
        EXPECT(gbc.pc(), 0x8e08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e07), 0x5f);
        // 5F 036A
        gbc.setState(0x4a2e, 0xf1ab, 0xaca0, 0x4155, 0x3b04, 0xea17, 0x0, 0x1);
        gbc.writeMem(0x4a2e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xf1ab);
        EXPECT(gbc.pc(), 0x4a2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 036B
        gbc.setState(0x186a, 0x611c, 0x1200, 0xfd2c, 0xa50f, 0x349a, 0x0, 0x1);
        gbc.writeMem(0x186a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x611c);
        EXPECT(gbc.pc(), 0x186b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 036C
        gbc.setState(0xa212, 0x3ec3, 0xf6d0, 0xc159, 0x639d, 0x1377, 0x1, 0x0);
        gbc.writeMem(0xa212, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x3ec3);
        EXPECT(gbc.pc(), 0xa213);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa212), 0x5f);
        // 5F 036D
        gbc.setState(0x4c3e, 0x6c94, 0xfd70, 0x91a8, 0xa3bc, 0x7a07, 0x1, 0x0);
        gbc.writeMem(0x4c3e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x6c94);
        EXPECT(gbc.pc(), 0x4c3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 036E
        gbc.setState(0x73d2, 0x911f, 0xe110, 0x6fe3, 0xb28a, 0xcc3a, 0x1, 0x0);
        gbc.writeMem(0x73d2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x911f);
        EXPECT(gbc.pc(), 0x73d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 036F
        gbc.setState(0xb328, 0x279f, 0x3ef0, 0xe268, 0xe578, 0xd595, 0x0, 0x0);
        gbc.writeMem(0xb328, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x279f);
        EXPECT(gbc.pc(), 0xb329);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb328), 0x5f);
        // 5F 0370
        gbc.setState(0xa91, 0x8e5f, 0x8b60, 0x6700, 0xf8d9, 0x4673, 0x0, 0x1);
        gbc.writeMem(0xa91, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x8e5f);
        EXPECT(gbc.pc(), 0xa92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 0371
        gbc.setState(0x888e, 0x442f, 0xf720, 0x3856, 0x27c5, 0xf09a, 0x1, 0x1);
        gbc.writeMem(0x888e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x442f);
        EXPECT(gbc.pc(), 0x888f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x888e), 0x5f);
        // 5F 0372
        gbc.setState(0x2353, 0xd863, 0x2840, 0xf6d5, 0x72d9, 0xad85, 0x0, 0x1);
        gbc.writeMem(0x2353, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xd863);
        EXPECT(gbc.pc(), 0x2354);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0373
        gbc.setState(0xe704, 0xaf72, 0x940, 0xb0e, 0x9c76, 0x33a0, 0x1, 0x1);
        gbc.writeMem(0xe704, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xaf72);
        EXPECT(gbc.pc(), 0xe705);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe704), 0x5f);
        // 5F 0374
        gbc.setState(0x8af, 0xf343, 0x8950, 0x42a8, 0x889d, 0x115b, 0x0, 0x1);
        gbc.writeMem(0x8af, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xf343);
        EXPECT(gbc.pc(), 0x8b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0375
        gbc.setState(0x70c6, 0xfe34, 0x7ab0, 0xaa67, 0x4b26, 0xe037, 0x0, 0x1);
        gbc.writeMem(0x70c6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xfe34);
        EXPECT(gbc.pc(), 0x70c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0376
        gbc.setState(0x2c61, 0xce73, 0x4a80, 0x85c3, 0x1cc0, 0x68ae, 0x0, 0x1);
        gbc.writeMem(0x2c61, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xce73);
        EXPECT(gbc.pc(), 0x2c62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0377
        gbc.setState(0xbe4c, 0x1e8c, 0x5e30, 0x5824, 0x7d38, 0x15cd, 0x1, 0x1);
        gbc.writeMem(0xbe4c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x1e8c);
        EXPECT(gbc.pc(), 0xbe4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe4c), 0x5f);
        // 5F 0378
        gbc.setState(0x991, 0xd729, 0x8040, 0x4908, 0xfe3, 0x95fa, 0x0, 0x1);
        gbc.writeMem(0x991, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xd729);
        EXPECT(gbc.pc(), 0x992);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0379
        gbc.setState(0xef84, 0x43cd, 0xd8d0, 0x4f32, 0x1442, 0xef11, 0x1, 0x1);
        gbc.writeMem(0xef84, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x43cd);
        EXPECT(gbc.pc(), 0xef85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef84), 0x5f);
        // 5F 037A
        gbc.setState(0x67b, 0x623b, 0x6520, 0x7856, 0xcdbc, 0x4d45, 0x1, 0x0);
        gbc.writeMem(0x67b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x623b);
        EXPECT(gbc.pc(), 0x67c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 037B
        gbc.setState(0xb7b2, 0x2b2, 0xdf50, 0x8c06, 0x9e62, 0xcbb5, 0x0, 0x0);
        gbc.writeMem(0xb7b2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x2b2);
        EXPECT(gbc.pc(), 0xb7b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7b2), 0x5f);
        // 5F 037C
        gbc.setState(0x70df, 0xb3cd, 0xc970, 0xef23, 0xf987, 0xe444, 0x0, 0x0);
        gbc.writeMem(0x70df, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xb3cd);
        EXPECT(gbc.pc(), 0x70e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 037D
        gbc.setState(0x419d, 0xe740, 0xc860, 0xe2d5, 0xe33d, 0xe822, 0x0, 0x1);
        gbc.writeMem(0x419d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xe740);
        EXPECT(gbc.pc(), 0x419e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 037E
        gbc.setState(0x65af, 0x15dd, 0x6430, 0x129, 0xe4ed, 0xea1d, 0x1, 0x0);
        gbc.writeMem(0x65af, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x15dd);
        EXPECT(gbc.pc(), 0x65b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 037F
        gbc.setState(0x7c91, 0xc29e, 0xa2d0, 0xbd31, 0x978a, 0xed0f, 0x0, 0x0);
        gbc.writeMem(0x7c91, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc29e);
        EXPECT(gbc.pc(), 0x7c92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0380
        gbc.setState(0x1ea8, 0xbd82, 0xd2b0, 0xcb28, 0x8298, 0x64e3, 0x0, 0x0);
        gbc.writeMem(0x1ea8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xbd82);
        EXPECT(gbc.pc(), 0x1ea9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0381
        gbc.setState(0xcf06, 0x4492, 0x86a0, 0x3087, 0x3aa5, 0xe2e3, 0x0, 0x1);
        gbc.writeMem(0xcf06, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x4492);
        EXPECT(gbc.pc(), 0xcf07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf06), 0x5f);
        // 5F 0382
        gbc.setState(0x2a61, 0xb204, 0x46d0, 0x1aec, 0x20ae, 0x1b7f, 0x1, 0x1);
        gbc.writeMem(0x2a61, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xb204);
        EXPECT(gbc.pc(), 0x2a62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0383
        gbc.setState(0x3fb9, 0xb1b5, 0xb50, 0x85ca, 0xde90, 0xccf4, 0x1, 0x0);
        gbc.writeMem(0x3fb9, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb1b5);
        EXPECT(gbc.pc(), 0x3fba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0384
        gbc.setState(0xc493, 0x2a8, 0x74f0, 0x3e51, 0x1391, 0xbb43, 0x0, 0x0);
        gbc.writeMem(0xc493, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x2a8);
        EXPECT(gbc.pc(), 0xc494);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc493), 0x5f);
        // 5F 0385
        gbc.setState(0xed06, 0x96dc, 0x1500, 0x6e19, 0x3bb4, 0x7f23, 0x0, 0x1);
        gbc.writeMem(0xed06, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x96dc);
        EXPECT(gbc.pc(), 0xed07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed06), 0x5f);
        // 5F 0386
        gbc.setState(0x128d, 0x3aea, 0x5b40, 0xbfff, 0x6ad3, 0x538e, 0x1, 0x1);
        gbc.writeMem(0x128d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x3aea);
        EXPECT(gbc.pc(), 0x128e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0387
        gbc.setState(0x2980, 0x6309, 0x4e40, 0x25cf, 0x848a, 0x88b7, 0x0, 0x0);
        gbc.writeMem(0x2980, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x6309);
        EXPECT(gbc.pc(), 0x2981);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 0388
        gbc.setState(0x6d2a, 0x35e, 0x45d0, 0x8202, 0xff57, 0x58b0, 0x0, 0x0);
        gbc.writeMem(0x6d2a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x35e);
        EXPECT(gbc.pc(), 0x6d2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0389
        gbc.setState(0xc8b4, 0xa70a, 0x9bd0, 0xd9d5, 0x62fb, 0xc328, 0x1, 0x1);
        gbc.writeMem(0xc8b4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xa70a);
        EXPECT(gbc.pc(), 0xc8b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8b4), 0x5f);
        // 5F 038A
        gbc.setState(0x225e, 0x785e, 0xda70, 0x8cca, 0x1b13, 0x3ddc, 0x1, 0x0);
        gbc.writeMem(0x225e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x785e);
        EXPECT(gbc.pc(), 0x225f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 038B
        gbc.setState(0x969d, 0xfd7d, 0x7e30, 0x45b5, 0xa177, 0x50b7, 0x1, 0x1);
        gbc.writeMem(0x969d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xfd7d);
        EXPECT(gbc.pc(), 0x969e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x969d), 0x5f);
        // 5F 038C
        gbc.setState(0x8918, 0xd45c, 0x6ec0, 0x1309, 0x3406, 0x9ea1, 0x1, 0x0);
        gbc.writeMem(0x8918, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xd45c);
        EXPECT(gbc.pc(), 0x8919);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8918), 0x5f);
        // 5F 038D
        gbc.setState(0x8a48, 0x4cd4, 0x8e80, 0x6f5e, 0x6687, 0x2b41, 0x1, 0x1);
        gbc.writeMem(0x8a48, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x4cd4);
        EXPECT(gbc.pc(), 0x8a49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a48), 0x5f);
        // 5F 038E
        gbc.setState(0x9f9c, 0xc06b, 0x9370, 0xe8f0, 0x5ac0, 0x9527, 0x0, 0x0);
        gbc.writeMem(0x9f9c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xc06b);
        EXPECT(gbc.pc(), 0x9f9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f9c), 0x5f);
        // 5F 038F
        gbc.setState(0xbff8, 0x2c66, 0x940, 0xf631, 0x28f, 0x58a4, 0x1, 0x0);
        gbc.writeMem(0xbff8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x2c66);
        EXPECT(gbc.pc(), 0xbff9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbff8), 0x5f);
        // 5F 0390
        gbc.setState(0x83e0, 0x46f, 0x1d10, 0xc977, 0xdcd5, 0xea8a, 0x0, 0x1);
        gbc.writeMem(0x83e0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x46f);
        EXPECT(gbc.pc(), 0x83e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83e0), 0x5f);
        // 5F 0391
        gbc.setState(0xa016, 0x2ad6, 0x6810, 0xb240, 0xcc4d, 0x1c19, 0x0, 0x0);
        gbc.writeMem(0xa016, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x2ad6);
        EXPECT(gbc.pc(), 0xa017);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa016), 0x5f);
        // 5F 0392
        gbc.setState(0x8aa1, 0xc11f, 0xe30, 0x3c33, 0x8be5, 0xf7ae, 0x1, 0x0);
        gbc.writeMem(0x8aa1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xc11f);
        EXPECT(gbc.pc(), 0x8aa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8aa1), 0x5f);
        // 5F 0393
        gbc.setState(0x61c1, 0xb4d3, 0x78f0, 0x70f9, 0x5fd1, 0x382c, 0x0, 0x0);
        gbc.writeMem(0x61c1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xb4d3);
        EXPECT(gbc.pc(), 0x61c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0395
        gbc.setState(0xcbe5, 0xcf1e, 0xc5f0, 0x5179, 0x6fcf, 0x5907, 0x1, 0x1);
        gbc.writeMem(0xcbe5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xcf1e);
        EXPECT(gbc.pc(), 0xcbe6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbe5), 0x5f);
        // 5F 0396
        gbc.setState(0x300, 0xd724, 0x8270, 0xe2cb, 0x40b9, 0xa632, 0x0, 0x1);
        gbc.writeMem(0x300, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xd724);
        EXPECT(gbc.pc(), 0x301);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 0397
        gbc.setState(0x959b, 0x7497, 0xa280, 0x33de, 0xf47b, 0x9370, 0x1, 0x1);
        gbc.writeMem(0x959b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x7497);
        EXPECT(gbc.pc(), 0x959c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x959b), 0x5f);
        // 5F 0398
        gbc.setState(0x1abd, 0x7072, 0x9350, 0xfbd5, 0xebd1, 0x2ef9, 0x1, 0x0);
        gbc.writeMem(0x1abd, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x7072);
        EXPECT(gbc.pc(), 0x1abe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 0399
        gbc.setState(0x58a3, 0x3a73, 0xe360, 0x3ad1, 0xafcf, 0xc901, 0x1, 0x1);
        gbc.writeMem(0x58a3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x3a73);
        EXPECT(gbc.pc(), 0x58a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 039A
        gbc.setState(0xa5e1, 0xfc0d, 0xbe30, 0x6b8b, 0x5b10, 0xdebf, 0x1, 0x1);
        gbc.writeMem(0xa5e1, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xfc0d);
        EXPECT(gbc.pc(), 0xa5e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5e1), 0x5f);
        // 5F 039B
        gbc.setState(0x9ae6, 0x2787, 0xb950, 0xb972, 0x82e9, 0xbaa9, 0x1, 0x1);
        gbc.writeMem(0x9ae6, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x2787);
        EXPECT(gbc.pc(), 0x9ae7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ae6), 0x5f);
        // 5F 039C
        gbc.setState(0xe3bc, 0x5ad7, 0xaf30, 0x3d73, 0xfe31, 0xb533, 0x0, 0x1);
        gbc.writeMem(0xe3bc, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x5ad7);
        EXPECT(gbc.pc(), 0xe3bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3bc), 0x5f);
        // 5F 039D
        gbc.setState(0x1e3e, 0x44ba, 0x5360, 0xf1d, 0x5f77, 0x7ffe, 0x0, 0x1);
        gbc.writeMem(0x1e3e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x44ba);
        EXPECT(gbc.pc(), 0x1e3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 039E
        gbc.setState(0x419, 0xa6c1, 0x6000, 0xb85e, 0x56f7, 0x6afb, 0x0, 0x0);
        gbc.writeMem(0x419, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xa6c1);
        EXPECT(gbc.pc(), 0x41a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 039F
        gbc.setState(0x9107, 0x989f, 0xb2b0, 0x9e25, 0x6a33, 0xd014, 0x1, 0x0);
        gbc.writeMem(0x9107, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x989f);
        EXPECT(gbc.pc(), 0x9108);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9107), 0x5f);
        // 5F 03A0
        gbc.setState(0x6ec5, 0xf106, 0x30f0, 0x3b97, 0x3a6c, 0x8b14, 0x1, 0x0);
        gbc.writeMem(0x6ec5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xf106);
        EXPECT(gbc.pc(), 0x6ec6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 03A2
        gbc.setState(0x9fa, 0x6465, 0xc740, 0xc079, 0xf4dc, 0xf26e, 0x1, 0x1);
        gbc.writeMem(0x9fa, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x6465);
        EXPECT(gbc.pc(), 0x9fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 03A3
        gbc.setState(0x84de, 0x6fd0, 0x7640, 0xcc44, 0x582c, 0xb17, 0x0, 0x1);
        gbc.writeMem(0x84de, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x6fd0);
        EXPECT(gbc.pc(), 0x84df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84de), 0x5f);
        // 5F 03A4
        gbc.setState(0x8d2, 0x9af3, 0x7e0, 0x114e, 0x89f2, 0x7f9a, 0x1, 0x1);
        gbc.writeMem(0x8d2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x9af3);
        EXPECT(gbc.pc(), 0x8d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 03A5
        gbc.setState(0x31d5, 0x9cb5, 0xc090, 0xe2e3, 0x752d, 0x4280, 0x1, 0x1);
        gbc.writeMem(0x31d5, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x9cb5);
        EXPECT(gbc.pc(), 0x31d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 03A7
        gbc.setState(0x72b4, 0x36b, 0x9e0, 0xb450, 0x2cbd, 0x1763, 0x0, 0x0);
        gbc.writeMem(0x72b4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x36b);
        EXPECT(gbc.pc(), 0x72b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 03A8
        gbc.setState(0xde95, 0xd34a, 0x5000, 0x10ff, 0x8605, 0x65b5, 0x1, 0x0);
        gbc.writeMem(0xde95, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xd34a);
        EXPECT(gbc.pc(), 0xde96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde95), 0x5f);
        // 5F 03A9
        gbc.setState(0xae2d, 0x46f3, 0xeb90, 0xb013, 0x20c3, 0x970f, 0x0, 0x0);
        gbc.writeMem(0xae2d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x46f3);
        EXPECT(gbc.pc(), 0xae2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae2d), 0x5f);
        // 5F 03AA
        gbc.setState(0x3a84, 0x7970, 0x9790, 0x4001, 0xf93c, 0xa84a, 0x1, 0x1);
        gbc.writeMem(0x3a84, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x7970);
        EXPECT(gbc.pc(), 0x3a85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 03AB
        gbc.setState(0xeae0, 0xe1b, 0x24b0, 0xe192, 0xa408, 0x85b0, 0x0, 0x1);
        gbc.writeMem(0xeae0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xe1b);
        EXPECT(gbc.pc(), 0xeae1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeae0), 0x5f);
        // 5F 03AC
        gbc.setState(0x8b7c, 0x7519, 0x8720, 0x45e3, 0xef13, 0xe4e2, 0x1, 0x1);
        gbc.writeMem(0x8b7c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x7519);
        EXPECT(gbc.pc(), 0x8b7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b7c), 0x5f);
        // 5F 03AD
        gbc.setState(0x1270, 0x148e, 0x1b70, 0xe97, 0x3d52, 0x30aa, 0x0, 0x0);
        gbc.writeMem(0x1270, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x148e);
        EXPECT(gbc.pc(), 0x1271);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 03AE
        gbc.setState(0x13dd, 0x874d, 0xe790, 0x9f88, 0xa5a1, 0xadef, 0x0, 0x0);
        gbc.writeMem(0x13dd, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x874d);
        EXPECT(gbc.pc(), 0x13de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 03AF
        gbc.setState(0x2fdb, 0x281b, 0x5100, 0xd932, 0x1275, 0xf9f1, 0x0, 0x1);
        gbc.writeMem(0x2fdb, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x281b);
        EXPECT(gbc.pc(), 0x2fdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 03B0
        gbc.setState(0x618, 0xb3ab, 0x5c30, 0x76b1, 0xe2ca, 0x8c0c, 0x1, 0x1);
        gbc.writeMem(0x618, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xb3ab);
        EXPECT(gbc.pc(), 0x619);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 03B1
        gbc.setState(0xc47a, 0xdf5f, 0xf4d0, 0x6d99, 0x3f7f, 0xd6dd, 0x0, 0x1);
        gbc.writeMem(0xc47a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xdf5f);
        EXPECT(gbc.pc(), 0xc47b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc47a), 0x5f);
        // 5F 03B2
        gbc.setState(0x6780, 0x24b3, 0x6910, 0xe4a9, 0x839a, 0x1fe9, 0x0, 0x1);
        gbc.writeMem(0x6780, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x24b3);
        EXPECT(gbc.pc(), 0x6781);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 03B3
        gbc.setState(0x44ef, 0xee58, 0x46c0, 0x3e1f, 0xcd0d, 0x5e79, 0x0, 0x0);
        gbc.writeMem(0x44ef, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xee58);
        EXPECT(gbc.pc(), 0x44f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 03B4
        gbc.setState(0xd626, 0xcb4d, 0xd660, 0xab51, 0x33fc, 0x8690, 0x0, 0x0);
        gbc.writeMem(0xd626, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xcb4d);
        EXPECT(gbc.pc(), 0xd627);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd626), 0x5f);
        // 5F 03B5
        gbc.setState(0xd124, 0x74fe, 0x1500, 0x2cde, 0xb6f8, 0x5b4, 0x1, 0x0);
        gbc.writeMem(0xd124, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x74fe);
        EXPECT(gbc.pc(), 0xd125);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd124), 0x5f);
        // 5F 03B6
        gbc.setState(0x56be, 0x91e7, 0xf280, 0x8768, 0x4dbd, 0xaadb, 0x1, 0x0);
        gbc.writeMem(0x56be, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x91e7);
        EXPECT(gbc.pc(), 0x56bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 03B7
        gbc.setState(0xd87, 0x8720, 0xc650, 0x9ed9, 0x872d, 0x2238, 0x1, 0x0);
        gbc.writeMem(0xd87, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x8720);
        EXPECT(gbc.pc(), 0xd88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 03B8
        gbc.setState(0xbc82, 0xa1de, 0xb750, 0xb438, 0xdf7e, 0x1d58, 0x0, 0x0);
        gbc.writeMem(0xbc82, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xa1de);
        EXPECT(gbc.pc(), 0xbc83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc82), 0x5f);
        // 5F 03B9
        gbc.setState(0x6a58, 0xb2d9, 0xd0f0, 0xae30, 0x7872, 0x94f6, 0x0, 0x0);
        gbc.writeMem(0x6a58, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xb2d9);
        EXPECT(gbc.pc(), 0x6a59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 03BA
        gbc.setState(0xa6c3, 0x88b2, 0xe1e0, 0x51ae, 0x14da, 0xdc0, 0x0, 0x0);
        gbc.writeMem(0xa6c3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x88b2);
        EXPECT(gbc.pc(), 0xa6c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6c3), 0x5f);
        // 5F 03BB
        gbc.setState(0x2932, 0x7ab8, 0x2bc0, 0x6aef, 0x2924, 0x743b, 0x1, 0x0);
        gbc.writeMem(0x2932, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x7ab8);
        EXPECT(gbc.pc(), 0x2933);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 03BC
        gbc.setState(0xd8af, 0xda03, 0xa910, 0xa083, 0x37de, 0x5019, 0x1, 0x0);
        gbc.writeMem(0xd8af, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xda03);
        EXPECT(gbc.pc(), 0xd8b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8af), 0x5f);
        // 5F 03BD
        gbc.setState(0xe39b, 0x764b, 0x5ec0, 0x6d43, 0xc6b6, 0xbaf4, 0x1, 0x0);
        gbc.writeMem(0xe39b, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x764b);
        EXPECT(gbc.pc(), 0xe39c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe39b), 0x5f);
        // 5F 03BF
        gbc.setState(0x7740, 0x5e6b, 0xbde0, 0x9c2, 0xb1b7, 0x5488, 0x1, 0x0);
        gbc.writeMem(0x7740, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x5e6b);
        EXPECT(gbc.pc(), 0x7741);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 03C0
        gbc.setState(0x2227, 0x1af0, 0x4bd0, 0x3f3, 0x83f6, 0xd41a, 0x1, 0x0);
        gbc.writeMem(0x2227, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x1af0);
        EXPECT(gbc.pc(), 0x2228);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 03C1
        gbc.setState(0x33c7, 0x1f29, 0x7200, 0xf26d, 0x20ad, 0xcfbf, 0x0, 0x1);
        gbc.writeMem(0x33c7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x1f29);
        EXPECT(gbc.pc(), 0x33c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 03C2
        gbc.setState(0x61e, 0xb880, 0x82f0, 0xf666, 0xcb24, 0xfed2, 0x0, 0x0);
        gbc.writeMem(0x61e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xb880);
        EXPECT(gbc.pc(), 0x61f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 03C3
        gbc.setState(0xbc0f, 0x1e48, 0xc480, 0x2173, 0x76b1, 0x1d94, 0x0, 0x0);
        gbc.writeMem(0xbc0f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x1e48);
        EXPECT(gbc.pc(), 0xbc10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc0f), 0x5f);
        // 5F 03C4
        gbc.setState(0x5804, 0x8cfe, 0xc10, 0xec77, 0x425d, 0x402a, 0x1, 0x1);
        gbc.writeMem(0x5804, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x8cfe);
        EXPECT(gbc.pc(), 0x5805);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 03C5
        gbc.setState(0xb345, 0x3539, 0xa940, 0x8f3a, 0x6ecc, 0xe2e4, 0x0, 0x0);
        gbc.writeMem(0xb345, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x3539);
        EXPECT(gbc.pc(), 0xb346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb345), 0x5f);
        // 5F 03C6
        gbc.setState(0x9bb2, 0xf558, 0xed00, 0xa08a, 0x9a14, 0x1f5e, 0x1, 0x0);
        gbc.writeMem(0x9bb2, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xf558);
        EXPECT(gbc.pc(), 0x9bb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bb2), 0x5f);
        // 5F 03C7
        gbc.setState(0xc91a, 0x5590, 0x2ac0, 0x2684, 0x74b1, 0x952a, 0x1, 0x0);
        gbc.writeMem(0xc91a, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x5590);
        EXPECT(gbc.pc(), 0xc91b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc91a), 0x5f);
        // 5F 03C8
        gbc.setState(0x49cf, 0xde85, 0x84d0, 0x5289, 0xddec, 0x657b, 0x1, 0x0);
        gbc.writeMem(0x49cf, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xde85);
        EXPECT(gbc.pc(), 0x49d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 03C9
        gbc.setState(0xbffb, 0x41c4, 0x75d0, 0x5c03, 0x8548, 0x448d, 0x0, 0x0);
        gbc.writeMem(0xbffb, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x41c4);
        EXPECT(gbc.pc(), 0xbffc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbffb), 0x5f);
        // 5F 03CA
        gbc.setState(0x9bd0, 0x66fd, 0x2200, 0x2cd5, 0xe492, 0x2764, 0x1, 0x0);
        gbc.writeMem(0x9bd0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x66fd);
        EXPECT(gbc.pc(), 0x9bd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bd0), 0x5f);
        // 5F 03CB
        gbc.setState(0x320, 0x501f, 0x6fb0, 0x9620, 0x18f1, 0x8524, 0x1, 0x1);
        gbc.writeMem(0x320, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x501f);
        EXPECT(gbc.pc(), 0x321);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 03CC
        gbc.setState(0x6db8, 0xe212, 0x63a0, 0x1719, 0x8749, 0x3dfc, 0x0, 0x1);
        gbc.writeMem(0x6db8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xe212);
        EXPECT(gbc.pc(), 0x6db9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 03CD
        gbc.setState(0xde75, 0x5d48, 0xfe30, 0x4eab, 0x5f01, 0x1066, 0x0, 0x1);
        gbc.writeMem(0xde75, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x5d48);
        EXPECT(gbc.pc(), 0xde76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde75), 0x5f);
        // 5F 03CE
        gbc.setState(0x7d5e, 0x2fe, 0xfb0, 0xf1f9, 0x1f8, 0x88a8, 0x0, 0x0);
        gbc.writeMem(0x7d5e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x2fe);
        EXPECT(gbc.pc(), 0x7d5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 03CF
        gbc.setState(0x644c, 0x85eb, 0x5710, 0xd102, 0x53bd, 0x684a, 0x0, 0x0);
        gbc.writeMem(0x644c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x85eb);
        EXPECT(gbc.pc(), 0x644d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 03D0
        gbc.setState(0x3b99, 0xd07b, 0x8260, 0x7f3d, 0x2e0d, 0x3b47, 0x0, 0x0);
        gbc.writeMem(0x3b99, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xd07b);
        EXPECT(gbc.pc(), 0x3b9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 03D1
        gbc.setState(0xe095, 0x4847, 0xcf20, 0xfa4c, 0xd17d, 0xd710, 0x0, 0x1);
        gbc.writeMem(0xe095, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x4847);
        EXPECT(gbc.pc(), 0xe096);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe095), 0x5f);
        // 5F 03D2
        gbc.setState(0x2e3d, 0x3bbd, 0x6be0, 0xef19, 0xc113, 0x5206, 0x0, 0x1);
        gbc.writeMem(0x2e3d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x3bbd);
        EXPECT(gbc.pc(), 0x2e3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 03D3
        gbc.setState(0xa55c, 0x9731, 0xb8e0, 0xeeed, 0x70c8, 0x2301, 0x0, 0x0);
        gbc.writeMem(0xa55c, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x9731);
        EXPECT(gbc.pc(), 0xa55d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa55c), 0x5f);
        // 5F 03D4
        gbc.setState(0x59b0, 0x4880, 0x39f0, 0xaee6, 0x3983, 0x7541, 0x1, 0x1);
        gbc.writeMem(0x59b0, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x4880);
        EXPECT(gbc.pc(), 0x59b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 03D5
        gbc.setState(0x3703, 0x50cd, 0x5060, 0x356d, 0xd7dd, 0x888f, 0x1, 0x1);
        gbc.writeMem(0x3703, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x50cd);
        EXPECT(gbc.pc(), 0x3704);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 03D6
        gbc.setState(0x5138, 0xe28, 0x8130, 0x7f1c, 0x753c, 0xbcc2, 0x0, 0x1);
        gbc.writeMem(0x5138, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xe28);
        EXPECT(gbc.pc(), 0x5139);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 5F 03D7
        gbc.setState(0xa8f4, 0x8788, 0x2570, 0x7682, 0x897c, 0x1c7f, 0x1, 0x0);
        gbc.writeMem(0xa8f4, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x8788);
        EXPECT(gbc.pc(), 0xa8f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8f4), 0x5f);
        // 5F 03D8
        gbc.setState(0x9265, 0x240b, 0x5d30, 0x5ff3, 0x31e7, 0x2f6e, 0x0, 0x0);
        gbc.writeMem(0x9265, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x240b);
        EXPECT(gbc.pc(), 0x9266);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9265), 0x5f);
        // 5F 03D9
        gbc.setState(0x1193, 0x8427, 0x2cd0, 0xdc72, 0x8a95, 0xafa0, 0x0, 0x1);
        gbc.writeMem(0x1193, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x8427);
        EXPECT(gbc.pc(), 0x1194);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 03DA
        gbc.setState(0x1b0f, 0x6dd6, 0x6590, 0xa7b9, 0xb348, 0x5e23, 0x1, 0x1);
        gbc.writeMem(0x1b0f, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x6dd6);
        EXPECT(gbc.pc(), 0x1b10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 03DB
        gbc.setState(0x9b9d, 0x73bc, 0x61c0, 0x4f95, 0x8f07, 0x7c9, 0x1, 0x1);
        gbc.writeMem(0x9b9d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x73bc);
        EXPECT(gbc.pc(), 0x9b9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b9d), 0x5f);
        // 5F 03DC
        gbc.setState(0xd861, 0x93d2, 0x4c90, 0x3f97, 0x79e3, 0x4d71, 0x1, 0x0);
        gbc.writeMem(0xd861, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x93d2);
        EXPECT(gbc.pc(), 0xd862);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd861), 0x5f);
        // 5F 03DD
        gbc.setState(0x557d, 0x6018, 0xe890, 0x9e5f, 0xe075, 0xe189, 0x1, 0x1);
        gbc.writeMem(0x557d, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x6018);
        EXPECT(gbc.pc(), 0x557e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 03DE
        gbc.setState(0x1be3, 0x21a2, 0x80a0, 0x6af6, 0x30ce, 0xbd9, 0x1, 0x1);
        gbc.writeMem(0x1be3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x21a2);
        EXPECT(gbc.pc(), 0x1be4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 5F 03DF
        gbc.setState(0x3b65, 0x3c4a, 0x9a80, 0x5589, 0x64f0, 0xc5df, 0x0, 0x1);
        gbc.writeMem(0x3b65, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x3c4a);
        EXPECT(gbc.pc(), 0x3b66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 03E0
        gbc.setState(0x31e8, 0xe34, 0x9580, 0xdce, 0x11a3, 0x45ec, 0x0, 0x0);
        gbc.writeMem(0x31e8, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xe34);
        EXPECT(gbc.pc(), 0x31e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 03E1
        gbc.setState(0x57e3, 0xbfde, 0x16d0, 0x702d, 0x2179, 0x9cfe, 0x1, 0x0);
        gbc.writeMem(0x57e3, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xbfde);
        EXPECT(gbc.pc(), 0x57e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 5F 03E2
        gbc.setState(0x47ed, 0x98d6, 0xabc0, 0x256a, 0xf78b, 0x96e9, 0x0, 0x0);
        gbc.writeMem(0x47ed, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x98d6);
        EXPECT(gbc.pc(), 0x47ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 5F 03E3
        gbc.setState(0x8452, 0x5048, 0x5120, 0x2af3, 0x58a5, 0x6e27, 0x0, 0x0);
        gbc.writeMem(0x8452, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x5048);
        EXPECT(gbc.pc(), 0x8453);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8452), 0x5f);
        // 5F 03E4
        gbc.setState(0xe6ad, 0x62d8, 0x3d20, 0xecc7, 0x6667, 0x41fe, 0x0, 0x0);
        gbc.writeMem(0xe6ad, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x62d8);
        EXPECT(gbc.pc(), 0xe6ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6ad), 0x5f);
        // 5F 03E5
        gbc.setState(0xdb8e, 0xff94, 0x8a70, 0xc7b1, 0x3941, 0x9169, 0x0, 0x0);
        gbc.writeMem(0xdb8e, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xff94);
        EXPECT(gbc.pc(), 0xdb8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb8e), 0x5f);
        // 5F 03E6
        gbc.setState(0x41f7, 0xf90b, 0x4ed0, 0x46e1, 0x8ebd, 0xc945, 0x1, 0x0);
        gbc.writeMem(0x41f7, { 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xf90b);
        EXPECT(gbc.pc(), 0x41f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
    }
