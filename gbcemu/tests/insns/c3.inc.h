    TEST(gbcemu, opcode_c3) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // C3 0000
        gbc.setState(0xb56, 0xa40a, 0xc1d0, 0xdf13, 0xe7f, 0xb13e, 0x1, 0x0);
        gbc.writeMem(0xb56, { 0xc3, 0xa5, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xa40a);
        EXPECT(gbc.pc(), 0xbaa5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0001
        gbc.setState(0xdf18, 0x155f, 0x78a0, 0x9ef7, 0xc20a, 0x6aa3, 0x0, 0x1);
        gbc.writeMem(0xdf18, { 0xc3, 0x11, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x155f);
        EXPECT(gbc.pc(), 0xf511);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf18), 0xc3);
        EXPECT(gbc.readMem(0xdf19), 0x11);
        EXPECT(gbc.readMem(0xdf1a), 0xf5);
        // C3 0002
        gbc.setState(0x527f, 0x54, 0xc0e0, 0x241a, 0xa6e3, 0xfac4, 0x0, 0x1);
        gbc.writeMem(0x527f, { 0xc3, 0xac, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x54);
        EXPECT(gbc.pc(), 0xe5ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0003
        gbc.setState(0x724e, 0xc87b, 0xd330, 0xbbb0, 0x9e2e, 0x5b88, 0x1, 0x1);
        gbc.writeMem(0x724e, { 0xc3, 0x68, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xc87b);
        EXPECT(gbc.pc(), 0xb968);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0004
        gbc.setState(0x6db7, 0xa28e, 0x9790, 0x5dc6, 0xe658, 0xabb5, 0x0, 0x0);
        gbc.writeMem(0x6db7, { 0xc3, 0x31, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xa28e);
        EXPECT(gbc.pc(), 0xa831);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0005
        gbc.setState(0xdaaa, 0x9f28, 0xfaa0, 0x6b7c, 0x6ddb, 0xa79, 0x0, 0x0);
        gbc.writeMem(0xdaaa, { 0xc3, 0xc5, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x9f28);
        EXPECT(gbc.pc(), 0xc3c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaaa), 0xc3);
        EXPECT(gbc.readMem(0xdaab), 0xc5);
        EXPECT(gbc.readMem(0xdaac), 0xc3);
        // C3 0006
        gbc.setState(0xa997, 0x7e8, 0x2de0, 0x7ce4, 0xfffe, 0x2ece, 0x1, 0x0);
        gbc.writeMem(0xa997, { 0xc3, 0x5e, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x7e8);
        EXPECT(gbc.pc(), 0xb75e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa997), 0xc3);
        EXPECT(gbc.readMem(0xa998), 0x5e);
        EXPECT(gbc.readMem(0xa999), 0xb7);
        // C3 0007
        gbc.setState(0x5ca7, 0x3c33, 0x2580, 0xee8d, 0x84a5, 0x83f5, 0x0, 0x0);
        gbc.writeMem(0x5ca7, { 0xc3, 0x3e, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x3c33);
        EXPECT(gbc.pc(), 0xee3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0008
        gbc.setState(0xbce8, 0x278, 0x2590, 0xc08c, 0x2c2c, 0x4f04, 0x1, 0x0);
        gbc.writeMem(0xbce8, { 0xc3, 0x2, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x278);
        EXPECT(gbc.pc(), 0xab02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbce8), 0xc3);
        EXPECT(gbc.readMem(0xbce9), 0x2);
        EXPECT(gbc.readMem(0xbcea), 0xab);
        // C3 0009
        gbc.setState(0xe73d, 0x8901, 0x6460, 0x6b22, 0xb80f, 0x487a, 0x0, 0x0);
        gbc.writeMem(0xe73d, { 0xc3, 0x6e, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x8901);
        EXPECT(gbc.pc(), 0x766e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe73d), 0xc3);
        EXPECT(gbc.readMem(0xe73e), 0x6e);
        EXPECT(gbc.readMem(0xe73f), 0x76);
        // C3 000A
        gbc.setState(0x6139, 0xd2bd, 0x5d50, 0x8074, 0x104, 0x17d8, 0x0, 0x0);
        gbc.writeMem(0x6139, { 0xc3, 0xc4, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xd2bd);
        EXPECT(gbc.pc(), 0x81c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 000B
        gbc.setState(0xb3d4, 0xdf93, 0xb5f0, 0x91d8, 0x391, 0x8a69, 0x0, 0x0);
        gbc.writeMem(0xb3d4, { 0xc3, 0xe6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xdf93);
        EXPECT(gbc.pc(), 0x30e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3d4), 0xc3);
        EXPECT(gbc.readMem(0xb3d5), 0xe6);
        EXPECT(gbc.readMem(0xb3d6), 0x30);
        // C3 000D
        gbc.setState(0x8c8b, 0x9f87, 0x5b90, 0xdf27, 0x735b, 0x6384, 0x0, 0x1);
        gbc.writeMem(0x8c8b, { 0xc3, 0x96, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x9f87);
        EXPECT(gbc.pc(), 0x9496);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c8b), 0xc3);
        EXPECT(gbc.readMem(0x8c8c), 0x96);
        EXPECT(gbc.readMem(0x8c8d), 0x94);
        // C3 000E
        gbc.setState(0xd0bf, 0xff47, 0x2680, 0x17ea, 0x5b6a, 0x89cb, 0x1, 0x1);
        gbc.writeMem(0xd0bf, { 0xc3, 0x24, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xff47);
        EXPECT(gbc.pc(), 0x8824);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0bf), 0xc3);
        EXPECT(gbc.readMem(0xd0c0), 0x24);
        EXPECT(gbc.readMem(0xd0c1), 0x88);
        // C3 000F
        gbc.setState(0x1d2d, 0xfb3a, 0xaf90, 0x5745, 0x9717, 0xfffa, 0x0, 0x0);
        gbc.writeMem(0x1d2d, { 0xc3, 0x49, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xfb3a);
        EXPECT(gbc.pc(), 0xce49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0010
        gbc.setState(0x6338, 0x21c2, 0x90f0, 0x3f81, 0xe8db, 0xbd1c, 0x1, 0x0);
        gbc.writeMem(0x6338, { 0xc3, 0xb4, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x21c2);
        EXPECT(gbc.pc(), 0xb5b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0011
        gbc.setState(0xdbcd, 0x8284, 0xe600, 0x11a6, 0x19ee, 0xe044, 0x1, 0x1);
        gbc.writeMem(0xdbcd, { 0xc3, 0xe2, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x8284);
        EXPECT(gbc.pc(), 0x8be2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbcd), 0xc3);
        EXPECT(gbc.readMem(0xdbce), 0xe2);
        EXPECT(gbc.readMem(0xdbcf), 0x8b);
        // C3 0012
        gbc.setState(0xb1e4, 0x1ab2, 0xa800, 0xbe4f, 0x1932, 0x77d9, 0x1, 0x1);
        gbc.writeMem(0xb1e4, { 0xc3, 0x41, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x1ab2);
        EXPECT(gbc.pc(), 0x6a41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1e4), 0xc3);
        EXPECT(gbc.readMem(0xb1e5), 0x41);
        EXPECT(gbc.readMem(0xb1e6), 0x6a);
        // C3 0013
        gbc.setState(0xe5ca, 0xb66e, 0x73b0, 0xfc64, 0x1161, 0x6efa, 0x0, 0x0);
        gbc.writeMem(0xe5ca, { 0xc3, 0x9a, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xb66e);
        EXPECT(gbc.pc(), 0x4d9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5ca), 0xc3);
        EXPECT(gbc.readMem(0xe5cb), 0x9a);
        EXPECT(gbc.readMem(0xe5cc), 0x4d);
        // C3 0014
        gbc.setState(0x16f6, 0x84f9, 0x6b40, 0x63dd, 0xffd6, 0xea8f, 0x0, 0x0);
        gbc.writeMem(0x16f6, { 0xc3, 0x76, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x84f9);
        EXPECT(gbc.pc(), 0x7976);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0015
        gbc.setState(0x1e16, 0xfa, 0x6f0, 0xab63, 0x2712, 0x9795, 0x0, 0x0);
        gbc.writeMem(0x1e16, { 0xc3, 0xa6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xfa);
        EXPECT(gbc.pc(), 0x6ea6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0016
        gbc.setState(0x3352, 0x6e0d, 0x1c60, 0x2b72, 0xb544, 0xb3b7, 0x0, 0x1);
        gbc.writeMem(0x3352, { 0xc3, 0x36, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x6e0d);
        EXPECT(gbc.pc(), 0xbd36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0017
        gbc.setState(0x8d12, 0xe9a3, 0x5b90, 0x83c9, 0x5bc6, 0xbbd2, 0x0, 0x0);
        gbc.writeMem(0x8d12, { 0xc3, 0xf7, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xe9a3);
        EXPECT(gbc.pc(), 0x93f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d12), 0xc3);
        EXPECT(gbc.readMem(0x8d13), 0xf7);
        EXPECT(gbc.readMem(0x8d14), 0x93);
        // C3 0018
        gbc.setState(0x511e, 0x732a, 0xbc40, 0xa430, 0x6b5e, 0x8889, 0x1, 0x0);
        gbc.writeMem(0x511e, { 0xc3, 0xc5, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x732a);
        EXPECT(gbc.pc(), 0x57c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0019
        gbc.setState(0x55a1, 0x7d1a, 0xf510, 0x9088, 0x3877, 0x6d0, 0x0, 0x1);
        gbc.writeMem(0x55a1, { 0xc3, 0x27, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x7d1a);
        EXPECT(gbc.pc(), 0xe127);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 001A
        gbc.setState(0xcdb5, 0x8d3e, 0x8d70, 0xe1ee, 0x9632, 0xddc9, 0x1, 0x1);
        gbc.writeMem(0xcdb5, { 0xc3, 0x2c, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x8d3e);
        EXPECT(gbc.pc(), 0x922c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdb5), 0xc3);
        EXPECT(gbc.readMem(0xcdb6), 0x2c);
        EXPECT(gbc.readMem(0xcdb7), 0x92);
        // C3 001B
        gbc.setState(0xac9d, 0x9929, 0xc640, 0xe8a0, 0x1f2d, 0xb866, 0x1, 0x1);
        gbc.writeMem(0xac9d, { 0xc3, 0xf4, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x9929);
        EXPECT(gbc.pc(), 0xb5f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac9d), 0xc3);
        EXPECT(gbc.readMem(0xac9e), 0xf4);
        EXPECT(gbc.readMem(0xac9f), 0xb5);
        // C3 001C
        gbc.setState(0x6f89, 0x4758, 0xc60, 0x38a5, 0xacc7, 0xc83b, 0x1, 0x1);
        gbc.writeMem(0x6f89, { 0xc3, 0x6a, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x4758);
        EXPECT(gbc.pc(), 0x766a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 001D
        gbc.setState(0x52b, 0x6d2, 0xb230, 0x780c, 0x5956, 0xeeee, 0x1, 0x0);
        gbc.writeMem(0x52b, { 0xc3, 0xaa, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x6d2);
        EXPECT(gbc.pc(), 0xb8aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 001F
        gbc.setState(0x54ab, 0x6f35, 0x3cb0, 0x4977, 0x14a9, 0x6d32, 0x1, 0x1);
        gbc.writeMem(0x54ab, { 0xc3, 0xbc, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x6f35);
        EXPECT(gbc.pc(), 0x79bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0020
        gbc.setState(0x5b17, 0x9736, 0x6e80, 0x5c11, 0x79bd, 0x96ec, 0x0, 0x1);
        gbc.writeMem(0x5b17, { 0xc3, 0xcb, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x9736);
        EXPECT(gbc.pc(), 0x26cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0021
        gbc.setState(0xe93b, 0x7d45, 0x4480, 0xdbf4, 0xb8d, 0x7655, 0x0, 0x1);
        gbc.writeMem(0xe93b, { 0xc3, 0x5b, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x7d45);
        EXPECT(gbc.pc(), 0xea5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe93b), 0xc3);
        EXPECT(gbc.readMem(0xe93c), 0x5b);
        EXPECT(gbc.readMem(0xe93d), 0xea);
        // C3 0022
        gbc.setState(0x12a5, 0xa791, 0x17e0, 0x130e, 0x4064, 0xa8d5, 0x0, 0x1);
        gbc.writeMem(0x12a5, { 0xc3, 0x88, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xa791);
        EXPECT(gbc.pc(), 0x8488);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0023
        gbc.setState(0x3c2, 0x8588, 0x8b70, 0xb143, 0xc8ce, 0xc278, 0x1, 0x0);
        gbc.writeMem(0x3c2, { 0xc3, 0x2b, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x8588);
        EXPECT(gbc.pc(), 0x4a2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0024
        gbc.setState(0x65dc, 0x9ee7, 0xa3d0, 0x46df, 0xfd2a, 0x7436, 0x0, 0x0);
        gbc.writeMem(0x65dc, { 0xc3, 0xaf, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x9ee7);
        EXPECT(gbc.pc(), 0x4aaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0025
        gbc.setState(0xcc9e, 0x6a17, 0xe930, 0xa20c, 0x134f, 0x930a, 0x0, 0x0);
        gbc.writeMem(0xcc9e, { 0xc3, 0x16, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x6a17);
        EXPECT(gbc.pc(), 0x5616);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc9e), 0xc3);
        EXPECT(gbc.readMem(0xcc9f), 0x16);
        EXPECT(gbc.readMem(0xcca0), 0x56);
        // C3 0026
        gbc.setState(0xae65, 0x302e, 0x90f0, 0x782a, 0xdbc5, 0xfed0, 0x1, 0x1);
        gbc.writeMem(0xae65, { 0xc3, 0x73, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x302e);
        EXPECT(gbc.pc(), 0x2f73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae65), 0xc3);
        EXPECT(gbc.readMem(0xae66), 0x73);
        EXPECT(gbc.readMem(0xae67), 0x2f);
        // C3 0027
        gbc.setState(0x6836, 0x78a1, 0x2860, 0x1e15, 0x67e6, 0x480f, 0x0, 0x1);
        gbc.writeMem(0x6836, { 0xc3, 0x8b, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x78a1);
        EXPECT(gbc.pc(), 0x3f8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0028
        gbc.setState(0x8b90, 0x2e7b, 0x2620, 0x6105, 0x71ae, 0xd724, 0x0, 0x0);
        gbc.writeMem(0x8b90, { 0xc3, 0x46, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x2e7b);
        EXPECT(gbc.pc(), 0x5746);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b90), 0xc3);
        EXPECT(gbc.readMem(0x8b91), 0x46);
        EXPECT(gbc.readMem(0x8b92), 0x57);
        // C3 0029
        gbc.setState(0x755c, 0x99c6, 0x9fe0, 0x29b1, 0x9984, 0x64ef, 0x0, 0x0);
        gbc.writeMem(0x755c, { 0xc3, 0x4c, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x99c6);
        EXPECT(gbc.pc(), 0x24c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 002A
        gbc.setState(0xb1ed, 0xf29f, 0x5ad0, 0x855, 0xd4e8, 0x5f44, 0x1, 0x0);
        gbc.writeMem(0xb1ed, { 0xc3, 0x32, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xf29f);
        EXPECT(gbc.pc(), 0x6e32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1ed), 0xc3);
        EXPECT(gbc.readMem(0xb1ee), 0x32);
        EXPECT(gbc.readMem(0xb1ef), 0x6e);
        // C3 002C
        gbc.setState(0x2dd4, 0xf357, 0x43e0, 0x2f9, 0xa19, 0xb083, 0x0, 0x0);
        gbc.writeMem(0x2dd4, { 0xc3, 0x8f, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xf357);
        EXPECT(gbc.pc(), 0xdb8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 002D
        gbc.setState(0x5c85, 0x2e4e, 0xfc40, 0x81f1, 0x7a2c, 0x5c62, 0x0, 0x0);
        gbc.writeMem(0x5c85, { 0xc3, 0x81, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x2e4e);
        EXPECT(gbc.pc(), 0x5381);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 002E
        gbc.setState(0xacb, 0xbe5a, 0xd8b0, 0x4683, 0x354b, 0x4dfb, 0x1, 0x0);
        gbc.writeMem(0xacb, { 0xc3, 0x5d, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xbe5a);
        EXPECT(gbc.pc(), 0xba5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 002F
        gbc.setState(0x4870, 0x9116, 0x8210, 0xae7f, 0x8331, 0x48ef, 0x1, 0x1);
        gbc.writeMem(0x4870, { 0xc3, 0xf0, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x9116);
        EXPECT(gbc.pc(), 0xb0f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0030
        gbc.setState(0x6e2c, 0x7494, 0x8e20, 0xe2df, 0xd5cd, 0xa425, 0x0, 0x0);
        gbc.writeMem(0x6e2c, { 0xc3, 0x3a, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x7494);
        EXPECT(gbc.pc(), 0xb23a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0031
        gbc.setState(0x513, 0x93a8, 0x6390, 0xb32b, 0xb632, 0xdfc8, 0x0, 0x1);
        gbc.writeMem(0x513, { 0xc3, 0x94, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x93a8);
        EXPECT(gbc.pc(), 0xe294);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0032
        gbc.setState(0x740b, 0x96f2, 0xee0, 0xec9, 0xec3a, 0xf55, 0x0, 0x1);
        gbc.writeMem(0x740b, { 0xc3, 0xfd, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x96f2);
        EXPECT(gbc.pc(), 0x38fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0033
        gbc.setState(0xa140, 0x54c1, 0xbb40, 0xe232, 0xac55, 0xb8f3, 0x1, 0x1);
        gbc.writeMem(0xa140, { 0xc3, 0x4e, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x54c1);
        EXPECT(gbc.pc(), 0x1c4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa140), 0xc3);
        EXPECT(gbc.readMem(0xa141), 0x4e);
        EXPECT(gbc.readMem(0xa142), 0x1c);
        // C3 0034
        gbc.setState(0xdcc1, 0x5a70, 0x3400, 0xc5d0, 0x1212, 0xe07f, 0x1, 0x0);
        gbc.writeMem(0xdcc1, { 0xc3, 0x4d, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x5a70);
        EXPECT(gbc.pc(), 0xed4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcc1), 0xc3);
        EXPECT(gbc.readMem(0xdcc2), 0x4d);
        EXPECT(gbc.readMem(0xdcc3), 0xed);
        // C3 0035
        gbc.setState(0x1d02, 0x50b7, 0xd8d0, 0x5029, 0xd8f, 0xf311, 0x0, 0x0);
        gbc.writeMem(0x1d02, { 0xc3, 0xb, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x50b7);
        EXPECT(gbc.pc(), 0xd20b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0036
        gbc.setState(0xee69, 0x1a5e, 0x3730, 0xfefa, 0xfaa2, 0xc1, 0x1, 0x1);
        gbc.writeMem(0xee69, { 0xc3, 0x39, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x1a5e);
        EXPECT(gbc.pc(), 0xc039);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee69), 0xc3);
        EXPECT(gbc.readMem(0xee6a), 0x39);
        EXPECT(gbc.readMem(0xee6b), 0xc0);
        // C3 0037
        gbc.setState(0xddf4, 0xac7c, 0xac20, 0x575f, 0xabaa, 0x29fc, 0x1, 0x1);
        gbc.writeMem(0xddf4, { 0xc3, 0x21, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xac7c);
        EXPECT(gbc.pc(), 0xe21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddf4), 0xc3);
        EXPECT(gbc.readMem(0xddf5), 0x21);
        EXPECT(gbc.readMem(0xddf6), 0xe);
        // C3 0038
        gbc.setState(0xc799, 0xbce7, 0x8650, 0x76b7, 0xd68, 0x69e6, 0x1, 0x0);
        gbc.writeMem(0xc799, { 0xc3, 0xa, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xbce7);
        EXPECT(gbc.pc(), 0x8c0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc799), 0xc3);
        EXPECT(gbc.readMem(0xc79a), 0xa);
        EXPECT(gbc.readMem(0xc79b), 0x8c);
        // C3 0039
        gbc.setState(0x4024, 0x5ceb, 0x2d60, 0x8c86, 0x5214, 0x1ee2, 0x1, 0x1);
        gbc.writeMem(0x4024, { 0xc3, 0xc5, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x5ceb);
        EXPECT(gbc.pc(), 0xfdc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 003A
        gbc.setState(0x450f, 0x759a, 0xb7f0, 0xbf91, 0x61a3, 0xe4a4, 0x0, 0x1);
        gbc.writeMem(0x450f, { 0xc3, 0x80, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x759a);
        EXPECT(gbc.pc(), 0x1080);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 003C
        gbc.setState(0xed7d, 0xa72c, 0x6cc0, 0x75d, 0x1dd, 0xd855, 0x1, 0x1);
        gbc.writeMem(0xed7d, { 0xc3, 0xc6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xa72c);
        EXPECT(gbc.pc(), 0x38c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed7d), 0xc3);
        EXPECT(gbc.readMem(0xed7e), 0xc6);
        EXPECT(gbc.readMem(0xed7f), 0x38);
        // C3 003D
        gbc.setState(0xc5f4, 0x36ab, 0x9100, 0xd99e, 0xa740, 0x5c2e, 0x0, 0x0);
        gbc.writeMem(0xc5f4, { 0xc3, 0x4e, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x36ab);
        EXPECT(gbc.pc(), 0x914e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5f4), 0xc3);
        EXPECT(gbc.readMem(0xc5f5), 0x4e);
        EXPECT(gbc.readMem(0xc5f6), 0x91);
        // C3 003F
        gbc.setState(0x9960, 0xd7a3, 0x21f0, 0xf82f, 0xfda2, 0x3f68, 0x1, 0x1);
        gbc.writeMem(0x9960, { 0xc3, 0x34, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xd7a3);
        EXPECT(gbc.pc(), 0x9c34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9960), 0xc3);
        EXPECT(gbc.readMem(0x9961), 0x34);
        EXPECT(gbc.readMem(0x9962), 0x9c);
        // C3 0040
        gbc.setState(0xe115, 0x747a, 0x7850, 0x46c3, 0xb478, 0x4aba, 0x0, 0x1);
        gbc.writeMem(0xe115, { 0xc3, 0x8e, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x747a);
        EXPECT(gbc.pc(), 0x7f8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe115), 0xc3);
        EXPECT(gbc.readMem(0xe116), 0x8e);
        EXPECT(gbc.readMem(0xe117), 0x7f);
        // C3 0041
        gbc.setState(0xa3bd, 0x808e, 0xa80, 0x4574, 0x394d, 0x4fe0, 0x0, 0x1);
        gbc.writeMem(0xa3bd, { 0xc3, 0xe9, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x808e);
        EXPECT(gbc.pc(), 0x2ce9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3bd), 0xc3);
        EXPECT(gbc.readMem(0xa3be), 0xe9);
        EXPECT(gbc.readMem(0xa3bf), 0x2c);
        // C3 0042
        gbc.setState(0x60fe, 0x1410, 0x86e0, 0xf671, 0xc7d8, 0xbf7b, 0x0, 0x0);
        gbc.writeMem(0x60fe, { 0xc3, 0xfc, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x1410);
        EXPECT(gbc.pc(), 0x2afc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0044
        gbc.setState(0xe9ff, 0x8615, 0xd460, 0x77fe, 0xb0dd, 0xbfa7, 0x1, 0x1);
        gbc.writeMem(0xe9ff, { 0xc3, 0xed, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x8615);
        EXPECT(gbc.pc(), 0x6ced);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9ff), 0xc3);
        EXPECT(gbc.readMem(0xea00), 0xed);
        EXPECT(gbc.readMem(0xea01), 0x6c);
        // C3 0045
        gbc.setState(0xe963, 0xf3f1, 0x33b0, 0xc2b, 0xa372, 0x1e5d, 0x1, 0x0);
        gbc.writeMem(0xe963, { 0xc3, 0x51, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xf3f1);
        EXPECT(gbc.pc(), 0x3051);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe963), 0xc3);
        EXPECT(gbc.readMem(0xe964), 0x51);
        EXPECT(gbc.readMem(0xe965), 0x30);
        // C3 0046
        gbc.setState(0x955f, 0x4c1c, 0xcf90, 0x61d3, 0x60f6, 0x29e9, 0x0, 0x1);
        gbc.writeMem(0x955f, { 0xc3, 0xb1, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x4c1c);
        EXPECT(gbc.pc(), 0x76b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x955f), 0xc3);
        EXPECT(gbc.readMem(0x9560), 0xb1);
        EXPECT(gbc.readMem(0x9561), 0x76);
        // C3 0047
        gbc.setState(0x8256, 0xffb9, 0x6060, 0x8dab, 0x6293, 0xfffb, 0x0, 0x0);
        gbc.writeMem(0x8256, { 0xc3, 0xda, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xffb9);
        EXPECT(gbc.pc(), 0x97da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8256), 0xc3);
        EXPECT(gbc.readMem(0x8257), 0xda);
        EXPECT(gbc.readMem(0x8258), 0x97);
        // C3 0048
        gbc.setState(0xa1a3, 0xb7c7, 0x5c60, 0x37d3, 0xf104, 0xa43c, 0x0, 0x1);
        gbc.writeMem(0xa1a3, { 0xc3, 0xfa, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xb7c7);
        EXPECT(gbc.pc(), 0x3ffa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1a3), 0xc3);
        EXPECT(gbc.readMem(0xa1a4), 0xfa);
        EXPECT(gbc.readMem(0xa1a5), 0x3f);
        // C3 0049
        gbc.setState(0x8b29, 0x7295, 0x3e00, 0x6bed, 0xaefa, 0x252e, 0x0, 0x0);
        gbc.writeMem(0x8b29, { 0xc3, 0x4, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x7295);
        EXPECT(gbc.pc(), 0xc004);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b29), 0xc3);
        EXPECT(gbc.readMem(0x8b2a), 0x4);
        EXPECT(gbc.readMem(0x8b2b), 0xc0);
        // C3 004A
        gbc.setState(0xaaca, 0xe1f3, 0xb6a0, 0x186e, 0xbc38, 0x646, 0x0, 0x1);
        gbc.writeMem(0xaaca, { 0xc3, 0xf3, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xe1f3);
        EXPECT(gbc.pc(), 0x41f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaca), 0xc3);
        EXPECT(gbc.readMem(0xaacb), 0xf3);
        EXPECT(gbc.readMem(0xaacc), 0x41);
        // C3 004B
        gbc.setState(0x7596, 0x825d, 0x2120, 0xe2dd, 0xb4a, 0x8243, 0x0, 0x1);
        gbc.writeMem(0x7596, { 0xc3, 0xd1, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x825d);
        EXPECT(gbc.pc(), 0x7d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 004C
        gbc.setState(0x763e, 0x98f2, 0xa9c0, 0x2e98, 0x5b9f, 0x939f, 0x0, 0x0);
        gbc.writeMem(0x763e, { 0xc3, 0x3a, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x98f2);
        EXPECT(gbc.pc(), 0xb53a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 004D
        gbc.setState(0x231b, 0xceeb, 0x2a40, 0xa579, 0xa0fa, 0xbc44, 0x1, 0x0);
        gbc.writeMem(0x231b, { 0xc3, 0x61, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xceeb);
        EXPECT(gbc.pc(), 0x6c61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 004E
        gbc.setState(0xb5aa, 0xe, 0x1a60, 0xe1ba, 0x47f4, 0x1b58, 0x0, 0x1);
        gbc.writeMem(0xb5aa, { 0xc3, 0x90, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xe);
        EXPECT(gbc.pc(), 0x8590);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5aa), 0xc3);
        EXPECT(gbc.readMem(0xb5ab), 0x90);
        EXPECT(gbc.readMem(0xb5ac), 0x85);
        // C3 004F
        gbc.setState(0x8a37, 0x48dd, 0xf4f0, 0xb2e2, 0x147a, 0xb244, 0x0, 0x0);
        gbc.writeMem(0x8a37, { 0xc3, 0x6e, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x48dd);
        EXPECT(gbc.pc(), 0xc86e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a37), 0xc3);
        EXPECT(gbc.readMem(0x8a38), 0x6e);
        EXPECT(gbc.readMem(0x8a39), 0xc8);
        // C3 0050
        gbc.setState(0x6788, 0x24f4, 0x72a0, 0xed10, 0xb2ed, 0x4441, 0x0, 0x0);
        gbc.writeMem(0x6788, { 0xc3, 0xab, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x24f4);
        EXPECT(gbc.pc(), 0x78ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0051
        gbc.setState(0xc570, 0xda18, 0x6eb0, 0xe70c, 0xb0e2, 0xdf1, 0x1, 0x1);
        gbc.writeMem(0xc570, { 0xc3, 0xfd, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xda18);
        EXPECT(gbc.pc(), 0x2dfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc570), 0xc3);
        EXPECT(gbc.readMem(0xc571), 0xfd);
        EXPECT(gbc.readMem(0xc572), 0x2d);
        // C3 0052
        gbc.setState(0xc0f6, 0xec00, 0x3e20, 0xbbdd, 0xb31c, 0x8597, 0x0, 0x0);
        gbc.writeMem(0xc0f6, { 0xc3, 0x1, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xec00);
        EXPECT(gbc.pc(), 0x1a01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0f6), 0xc3);
        EXPECT(gbc.readMem(0xc0f7), 0x1);
        EXPECT(gbc.readMem(0xc0f8), 0x1a);
        // C3 0054
        gbc.setState(0xd402, 0x6c97, 0x1b0, 0x8dfe, 0x2f13, 0xfcdb, 0x1, 0x0);
        gbc.writeMem(0xd402, { 0xc3, 0x39, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x6c97);
        EXPECT(gbc.pc(), 0x8e39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd402), 0xc3);
        EXPECT(gbc.readMem(0xd403), 0x39);
        EXPECT(gbc.readMem(0xd404), 0x8e);
        // C3 0055
        gbc.setState(0xa726, 0x9d09, 0xd980, 0x33eb, 0x9aa, 0xb51d, 0x0, 0x1);
        gbc.writeMem(0xa726, { 0xc3, 0xe9, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x9d09);
        EXPECT(gbc.pc(), 0x5de9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa726), 0xc3);
        EXPECT(gbc.readMem(0xa727), 0xe9);
        EXPECT(gbc.readMem(0xa728), 0x5d);
        // C3 0056
        gbc.setState(0x450f, 0xc1bf, 0x2fe0, 0x6a4a, 0xba01, 0x7b04, 0x0, 0x0);
        gbc.writeMem(0x450f, { 0xc3, 0x80, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc1bf);
        EXPECT(gbc.pc(), 0x1080);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0057
        gbc.setState(0x8992, 0xab09, 0x2410, 0x2b5c, 0x2d90, 0xe5f1, 0x1, 0x0);
        gbc.writeMem(0x8992, { 0xc3, 0xb9, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xab09);
        EXPECT(gbc.pc(), 0x3b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8992), 0xc3);
        EXPECT(gbc.readMem(0x8993), 0xb9);
        EXPECT(gbc.readMem(0x8994), 0x3);
        // C3 0058
        gbc.setState(0x8d5e, 0x7a39, 0xb740, 0x8d63, 0x176e, 0xd40f, 0x0, 0x1);
        gbc.writeMem(0x8d5e, { 0xc3, 0x61, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x7a39);
        EXPECT(gbc.pc(), 0x6e61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d5e), 0xc3);
        EXPECT(gbc.readMem(0x8d5f), 0x61);
        EXPECT(gbc.readMem(0x8d60), 0x6e);
        // C3 0059
        gbc.setState(0x2019, 0x3060, 0xba70, 0xd693, 0xbcdc, 0x8ab6, 0x1, 0x0);
        gbc.writeMem(0x2019, { 0xc3, 0xcc, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x3060);
        EXPECT(gbc.pc(), 0x25cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 005A
        gbc.setState(0x47d9, 0x526, 0xec00, 0xbca7, 0xc025, 0xd3c0, 0x0, 0x1);
        gbc.writeMem(0x47d9, { 0xc3, 0x40, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x526);
        EXPECT(gbc.pc(), 0x5f40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 005B
        gbc.setState(0x19e8, 0x52f9, 0xd850, 0x2913, 0x80f4, 0xf3c0, 0x0, 0x0);
        gbc.writeMem(0x19e8, { 0xc3, 0x1a, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x52f9);
        EXPECT(gbc.pc(), 0x861a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 005C
        gbc.setState(0x7390, 0x87a6, 0x2bf0, 0xa290, 0xe7eb, 0x13ef, 0x0, 0x0);
        gbc.writeMem(0x7390, { 0xc3, 0xc1, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x87a6);
        EXPECT(gbc.pc(), 0x10c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 005D
        gbc.setState(0x8c39, 0xd25d, 0x22f0, 0x5fe4, 0xaec4, 0xdcc5, 0x0, 0x1);
        gbc.writeMem(0x8c39, { 0xc3, 0x10, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xd25d);
        EXPECT(gbc.pc(), 0x9110);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c39), 0xc3);
        EXPECT(gbc.readMem(0x8c3a), 0x10);
        EXPECT(gbc.readMem(0x8c3b), 0x91);
        // C3 005E
        gbc.setState(0xc5a4, 0xff7d, 0x7950, 0xaf95, 0x1a9, 0x1c4e, 0x1, 0x1);
        gbc.writeMem(0xc5a4, { 0xc3, 0x3f, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xff7d);
        EXPECT(gbc.pc(), 0xd43f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5a4), 0xc3);
        EXPECT(gbc.readMem(0xc5a5), 0x3f);
        EXPECT(gbc.readMem(0xc5a6), 0xd4);
        // C3 005F
        gbc.setState(0x702, 0x82de, 0x7800, 0x3a30, 0x67ec, 0x7147, 0x1, 0x1);
        gbc.writeMem(0x702, { 0xc3, 0xfc, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x82de);
        EXPECT(gbc.pc(), 0x6fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0060
        gbc.setState(0x2a49, 0x776e, 0x18c0, 0xf472, 0x7c15, 0x2270, 0x1, 0x1);
        gbc.writeMem(0x2a49, { 0xc3, 0xda, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x776e);
        EXPECT(gbc.pc(), 0xcada);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0061
        gbc.setState(0x79d2, 0x2a44, 0x4fd0, 0x7098, 0x63e7, 0x13a8, 0x1, 0x1);
        gbc.writeMem(0x79d2, { 0xc3, 0xbd, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x2a44);
        EXPECT(gbc.pc(), 0xebbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0062
        gbc.setState(0xdd44, 0x87c0, 0x7350, 0x418d, 0xa4ac, 0xfda6, 0x1, 0x0);
        gbc.writeMem(0xdd44, { 0xc3, 0x6e, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x87c0);
        EXPECT(gbc.pc(), 0x736e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd44), 0xc3);
        EXPECT(gbc.readMem(0xdd45), 0x6e);
        EXPECT(gbc.readMem(0xdd46), 0x73);
        // C3 0063
        gbc.setState(0x65ed, 0xcfe4, 0x5e70, 0xbae3, 0xfc62, 0x9a65, 0x0, 0x1);
        gbc.writeMem(0x65ed, { 0xc3, 0x6f, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xcfe4);
        EXPECT(gbc.pc(), 0x606f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0064
        gbc.setState(0x7d9a, 0x56a6, 0x3bc0, 0x3b4, 0xdb8, 0x52a6, 0x0, 0x0);
        gbc.writeMem(0x7d9a, { 0xc3, 0xb2, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x56a6);
        EXPECT(gbc.pc(), 0x71b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0065
        gbc.setState(0x7d98, 0x4f93, 0x8880, 0x405e, 0x2ec9, 0xc6e3, 0x1, 0x1);
        gbc.writeMem(0x7d98, { 0xc3, 0xef, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x4f93);
        EXPECT(gbc.pc(), 0x1fef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0066
        gbc.setState(0xc9ac, 0x8618, 0x93a0, 0xbdf1, 0x7554, 0xefc5, 0x1, 0x0);
        gbc.writeMem(0xc9ac, { 0xc3, 0x30, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x8618);
        EXPECT(gbc.pc(), 0x4b30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9ac), 0xc3);
        EXPECT(gbc.readMem(0xc9ad), 0x30);
        EXPECT(gbc.readMem(0xc9ae), 0x4b);
        // C3 0067
        gbc.setState(0x1b34, 0x150e, 0xb3a0, 0x4fc7, 0xca6a, 0x7750, 0x0, 0x0);
        gbc.writeMem(0x1b34, { 0xc3, 0xe7, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x150e);
        EXPECT(gbc.pc(), 0x24e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0068
        gbc.setState(0x92ae, 0x98cb, 0xf380, 0x52ef, 0xba46, 0xa483, 0x0, 0x0);
        gbc.writeMem(0x92ae, { 0xc3, 0xc, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x98cb);
        EXPECT(gbc.pc(), 0x8b0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92ae), 0xc3);
        EXPECT(gbc.readMem(0x92af), 0xc);
        EXPECT(gbc.readMem(0x92b0), 0x8b);
        // C3 0069
        gbc.setState(0x1083, 0x9ba6, 0xc270, 0xddf2, 0x253f, 0x1a20, 0x0, 0x0);
        gbc.writeMem(0x1083, { 0xc3, 0xaf, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x9ba6);
        EXPECT(gbc.pc(), 0xedaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 006A
        gbc.setState(0x86d9, 0x64e5, 0xa480, 0x7ce1, 0x87a1, 0x1196, 0x0, 0x1);
        gbc.writeMem(0x86d9, { 0xc3, 0x4d, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x64e5);
        EXPECT(gbc.pc(), 0xf14d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86d9), 0xc3);
        EXPECT(gbc.readMem(0x86da), 0x4d);
        EXPECT(gbc.readMem(0x86db), 0xf1);
        // C3 006B
        gbc.setState(0x80e8, 0xdd34, 0x2490, 0xed34, 0x804c, 0xd8f6, 0x0, 0x1);
        gbc.writeMem(0x80e8, { 0xc3, 0x36, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xdd34);
        EXPECT(gbc.pc(), 0x3b36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80e8), 0xc3);
        EXPECT(gbc.readMem(0x80e9), 0x36);
        EXPECT(gbc.readMem(0x80ea), 0x3b);
        // C3 006C
        gbc.setState(0x553b, 0x6d2d, 0xc750, 0x7eb6, 0xaded, 0x1ef9, 0x1, 0x1);
        gbc.writeMem(0x553b, { 0xc3, 0x4a, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x6d2d);
        EXPECT(gbc.pc(), 0x724a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 006E
        gbc.setState(0x2697, 0x45c, 0x76b0, 0x4cfb, 0x57aa, 0xe537, 0x0, 0x0);
        gbc.writeMem(0x2697, { 0xc3, 0xc8, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x45c);
        EXPECT(gbc.pc(), 0x31c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 006F
        gbc.setState(0x14d3, 0xa1ab, 0x9050, 0x30b4, 0xfbfa, 0x65db, 0x0, 0x1);
        gbc.writeMem(0x14d3, { 0xc3, 0xc9, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xa1ab);
        EXPECT(gbc.pc(), 0xe0c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0070
        gbc.setState(0xae5a, 0x14, 0xd590, 0xc6c, 0xffca, 0xc05c, 0x0, 0x0);
        gbc.writeMem(0xae5a, { 0xc3, 0x61, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x14);
        EXPECT(gbc.pc(), 0x5d61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae5a), 0xc3);
        EXPECT(gbc.readMem(0xae5b), 0x61);
        EXPECT(gbc.readMem(0xae5c), 0x5d);
        // C3 0071
        gbc.setState(0x1e68, 0xc866, 0x2050, 0x57f, 0x8deb, 0xf165, 0x1, 0x0);
        gbc.writeMem(0x1e68, { 0xc3, 0x24, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xc866);
        EXPECT(gbc.pc(), 0xeb24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0072
        gbc.setState(0xc5cd, 0x6db3, 0x25e0, 0xc54, 0xafc5, 0xd6a0, 0x0, 0x1);
        gbc.writeMem(0xc5cd, { 0xc3, 0x6c, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x6db3);
        EXPECT(gbc.pc(), 0x326c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5cd), 0xc3);
        EXPECT(gbc.readMem(0xc5ce), 0x6c);
        EXPECT(gbc.readMem(0xc5cf), 0x32);
        // C3 0073
        gbc.setState(0xe16a, 0xfd70, 0xc6e0, 0x5a71, 0x73a3, 0xccf2, 0x0, 0x1);
        gbc.writeMem(0xe16a, { 0xc3, 0xfb, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xfd70);
        EXPECT(gbc.pc(), 0x85fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe16a), 0xc3);
        EXPECT(gbc.readMem(0xe16b), 0xfb);
        EXPECT(gbc.readMem(0xe16c), 0x85);
        // C3 0074
        gbc.setState(0x3d8c, 0xe64f, 0xe660, 0xfee7, 0x6364, 0xb4df, 0x0, 0x1);
        gbc.writeMem(0x3d8c, { 0xc3, 0xca, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xe64f);
        EXPECT(gbc.pc(), 0x98ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0075
        gbc.setState(0xacd2, 0x15af, 0x2f50, 0xb119, 0xa160, 0xf4c9, 0x0, 0x0);
        gbc.writeMem(0xacd2, { 0xc3, 0xee, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x15af);
        EXPECT(gbc.pc(), 0xbbee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacd2), 0xc3);
        EXPECT(gbc.readMem(0xacd3), 0xee);
        EXPECT(gbc.readMem(0xacd4), 0xbb);
        // C3 0076
        gbc.setState(0x2b7c, 0xf88e, 0xbb20, 0x192d, 0x9505, 0x3b95, 0x0, 0x1);
        gbc.writeMem(0x2b7c, { 0xc3, 0xa5, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xf88e);
        EXPECT(gbc.pc(), 0x74a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0077
        gbc.setState(0xc4c3, 0xc70f, 0x9120, 0xce2, 0x91f3, 0xea24, 0x0, 0x0);
        gbc.writeMem(0xc4c3, { 0xc3, 0x88, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xc70f);
        EXPECT(gbc.pc(), 0x1b88);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4c3), 0xc3);
        EXPECT(gbc.readMem(0xc4c4), 0x88);
        EXPECT(gbc.readMem(0xc4c5), 0x1b);
        // C3 0078
        gbc.setState(0x80b, 0xb092, 0x3bb0, 0x3907, 0x50d0, 0xf5e8, 0x0, 0x0);
        gbc.writeMem(0x80b, { 0xc3, 0x55, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xb092);
        EXPECT(gbc.pc(), 0xf655);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0079
        gbc.setState(0xa410, 0xdf3b, 0x21c0, 0x7225, 0x568c, 0x8b78, 0x1, 0x0);
        gbc.writeMem(0xa410, { 0xc3, 0x74, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xdf3b);
        EXPECT(gbc.pc(), 0x2d74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa410), 0xc3);
        EXPECT(gbc.readMem(0xa411), 0x74);
        EXPECT(gbc.readMem(0xa412), 0x2d);
        // C3 007A
        gbc.setState(0x18ae, 0x7f51, 0x1460, 0x864d, 0xe305, 0xd6, 0x0, 0x1);
        gbc.writeMem(0x18ae, { 0xc3, 0x48, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x7f51);
        EXPECT(gbc.pc(), 0xce48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 007B
        gbc.setState(0xa043, 0xd54, 0xffc0, 0x7d70, 0xef12, 0xb965, 0x0, 0x1);
        gbc.writeMem(0xa043, { 0xc3, 0xbd, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xd54);
        EXPECT(gbc.pc(), 0xe0bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa043), 0xc3);
        EXPECT(gbc.readMem(0xa044), 0xbd);
        EXPECT(gbc.readMem(0xa045), 0xe0);
        // C3 007C
        gbc.setState(0xc058, 0xf036, 0xccd0, 0x3192, 0x8b9a, 0xf80f, 0x0, 0x0);
        gbc.writeMem(0xc058, { 0xc3, 0x68, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xf036);
        EXPECT(gbc.pc(), 0x2668);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc058), 0xc3);
        EXPECT(gbc.readMem(0xc059), 0x68);
        EXPECT(gbc.readMem(0xc05a), 0x26);
        // C3 007E
        gbc.setState(0x2304, 0x8203, 0x15a0, 0x5445, 0x8fcb, 0xf3cf, 0x0, 0x1);
        gbc.writeMem(0x2304, { 0xc3, 0xbe, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x8203);
        EXPECT(gbc.pc(), 0x62be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 007F
        gbc.setState(0x435d, 0xb554, 0xad70, 0x6974, 0x54d1, 0x78b2, 0x1, 0x1);
        gbc.writeMem(0x435d, { 0xc3, 0x8e, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb554);
        EXPECT(gbc.pc(), 0x698e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0080
        gbc.setState(0x7ee2, 0x5695, 0x5920, 0x7bf6, 0xa807, 0x228d, 0x1, 0x1);
        gbc.writeMem(0x7ee2, { 0xc3, 0x82, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x5695);
        EXPECT(gbc.pc(), 0xf82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0081
        gbc.setState(0xc824, 0x7862, 0xa7c0, 0x7dfa, 0xd4d0, 0xae2f, 0x1, 0x1);
        gbc.writeMem(0xc824, { 0xc3, 0x14, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x7862);
        EXPECT(gbc.pc(), 0x7e14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc824), 0xc3);
        EXPECT(gbc.readMem(0xc825), 0x14);
        EXPECT(gbc.readMem(0xc826), 0x7e);
        // C3 0082
        gbc.setState(0x7cde, 0xd01f, 0xe790, 0xed31, 0xc2e8, 0xe459, 0x1, 0x1);
        gbc.writeMem(0x7cde, { 0xc3, 0xbd, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd01f);
        EXPECT(gbc.pc(), 0x1bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0083
        gbc.setState(0x1509, 0xfbb7, 0xccf0, 0x4661, 0x982, 0x9806, 0x0, 0x0);
        gbc.writeMem(0x1509, { 0xc3, 0x61, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xfbb7);
        EXPECT(gbc.pc(), 0xc261);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0084
        gbc.setState(0x4807, 0x5490, 0xe9f0, 0x8ea2, 0x35b8, 0x54da, 0x1, 0x0);
        gbc.writeMem(0x4807, { 0xc3, 0x5b, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x5490);
        EXPECT(gbc.pc(), 0x25b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0085
        gbc.setState(0xacd4, 0x2469, 0xde00, 0x3937, 0x8d89, 0x54f3, 0x1, 0x0);
        gbc.writeMem(0xacd4, { 0xc3, 0x4, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x2469);
        EXPECT(gbc.pc(), 0xf04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacd4), 0xc3);
        EXPECT(gbc.readMem(0xacd5), 0x4);
        EXPECT(gbc.readMem(0xacd6), 0xf);
        // C3 0086
        gbc.setState(0x5b12, 0x36e9, 0x9e10, 0xef42, 0x64af, 0xd5bd, 0x1, 0x1);
        gbc.writeMem(0x5b12, { 0xc3, 0xc7, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x36e9);
        EXPECT(gbc.pc(), 0x38c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0087
        gbc.setState(0x272e, 0xd14b, 0xdbe0, 0x64e4, 0xea07, 0x1ab9, 0x0, 0x1);
        gbc.writeMem(0x272e, { 0xc3, 0x86, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xd14b);
        EXPECT(gbc.pc(), 0xfe86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0088
        gbc.setState(0x8332, 0x9433, 0x60f0, 0x67bb, 0x60d, 0x65ec, 0x0, 0x1);
        gbc.writeMem(0x8332, { 0xc3, 0xde, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x9433);
        EXPECT(gbc.pc(), 0xe3de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8332), 0xc3);
        EXPECT(gbc.readMem(0x8333), 0xde);
        EXPECT(gbc.readMem(0x8334), 0xe3);
        // C3 0089
        gbc.setState(0x1a54, 0x180e, 0x6610, 0xb4df, 0x7212, 0x5592, 0x1, 0x0);
        gbc.writeMem(0x1a54, { 0xc3, 0x31, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x180e);
        EXPECT(gbc.pc(), 0x3d31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 008A
        gbc.setState(0x6641, 0x6ac3, 0x8ed0, 0x5914, 0xe8fa, 0x87f1, 0x0, 0x0);
        gbc.writeMem(0x6641, { 0xc3, 0xe0, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x6ac3);
        EXPECT(gbc.pc(), 0x4e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 008B
        gbc.setState(0x489, 0xb5d, 0x2e10, 0x3034, 0xdfa0, 0x34df, 0x0, 0x0);
        gbc.writeMem(0x489, { 0xc3, 0x24, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xb5d);
        EXPECT(gbc.pc(), 0x5d24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 008C
        gbc.setState(0x3ddf, 0xc4a9, 0x2a40, 0xc382, 0x6ee9, 0x4fdc, 0x0, 0x0);
        gbc.writeMem(0x3ddf, { 0xc3, 0x34, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xc4a9);
        EXPECT(gbc.pc(), 0x5234);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 008D
        gbc.setState(0xe8ca, 0xe9e7, 0x7350, 0xeeec, 0xe92c, 0x8104, 0x0, 0x0);
        gbc.writeMem(0xe8ca, { 0xc3, 0xad, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xe9e7);
        EXPECT(gbc.pc(), 0x30ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8ca), 0xc3);
        EXPECT(gbc.readMem(0xe8cb), 0xad);
        EXPECT(gbc.readMem(0xe8cc), 0x30);
        // C3 008E
        gbc.setState(0x3143, 0xdf3f, 0xee0, 0x7b37, 0x7969, 0x19d2, 0x0, 0x1);
        gbc.writeMem(0x3143, { 0xc3, 0x32, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xdf3f);
        EXPECT(gbc.pc(), 0x6332);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0090
        gbc.setState(0x9fba, 0x135, 0xf290, 0xdad6, 0x8d99, 0xb3bd, 0x1, 0x0);
        gbc.writeMem(0x9fba, { 0xc3, 0x9c, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x135);
        EXPECT(gbc.pc(), 0x8a9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fba), 0xc3);
        EXPECT(gbc.readMem(0x9fbb), 0x9c);
        EXPECT(gbc.readMem(0x9fbc), 0x8a);
        // C3 0091
        gbc.setState(0x5bb0, 0xd95f, 0x1400, 0x9cd8, 0x7f6a, 0xe091, 0x1, 0x0);
        gbc.writeMem(0x5bb0, { 0xc3, 0xbf, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xd95f);
        EXPECT(gbc.pc(), 0x69bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0092
        gbc.setState(0x3fbe, 0x4521, 0x2a80, 0xb2a5, 0x5cc8, 0xbc21, 0x0, 0x1);
        gbc.writeMem(0x3fbe, { 0xc3, 0x49, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x4521);
        EXPECT(gbc.pc(), 0x4c49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0093
        gbc.setState(0xac91, 0xcf5d, 0xab50, 0x92ca, 0x9e7d, 0x5579, 0x1, 0x0);
        gbc.writeMem(0xac91, { 0xc3, 0x7d, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xcf5d);
        EXPECT(gbc.pc(), 0x127d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac91), 0xc3);
        EXPECT(gbc.readMem(0xac92), 0x7d);
        EXPECT(gbc.readMem(0xac93), 0x12);
        // C3 0094
        gbc.setState(0xb2c1, 0x4fb0, 0xd640, 0x6b82, 0x8b23, 0xb3b4, 0x0, 0x1);
        gbc.writeMem(0xb2c1, { 0xc3, 0x32, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x4fb0);
        EXPECT(gbc.pc(), 0x1a32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2c1), 0xc3);
        EXPECT(gbc.readMem(0xb2c2), 0x32);
        EXPECT(gbc.readMem(0xb2c3), 0x1a);
        // C3 0095
        gbc.setState(0x95b0, 0x5f37, 0x1a60, 0xec6e, 0xd0d5, 0x3557, 0x1, 0x0);
        gbc.writeMem(0x95b0, { 0xc3, 0xed, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x5f37);
        EXPECT(gbc.pc(), 0x23ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95b0), 0xc3);
        EXPECT(gbc.readMem(0x95b1), 0xed);
        EXPECT(gbc.readMem(0x95b2), 0x23);
        // C3 0096
        gbc.setState(0x1574, 0x9801, 0x8c80, 0x62a5, 0x437d, 0x3a97, 0x0, 0x1);
        gbc.writeMem(0x1574, { 0xc3, 0x40, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x9801);
        EXPECT(gbc.pc(), 0x740);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0097
        gbc.setState(0x868a, 0xa9d2, 0x4d20, 0x229a, 0x29df, 0x4a79, 0x1, 0x0);
        gbc.writeMem(0x868a, { 0xc3, 0x3f, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xa9d2);
        EXPECT(gbc.pc(), 0xde3f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x868a), 0xc3);
        EXPECT(gbc.readMem(0x868b), 0x3f);
        EXPECT(gbc.readMem(0x868c), 0xde);
        // C3 0098
        gbc.setState(0xd29d, 0x6ad1, 0xd050, 0xc6c2, 0x160, 0x5027, 0x0, 0x1);
        gbc.writeMem(0xd29d, { 0xc3, 0x7c, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x6ad1);
        EXPECT(gbc.pc(), 0xc57c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd29d), 0xc3);
        EXPECT(gbc.readMem(0xd29e), 0x7c);
        EXPECT(gbc.readMem(0xd29f), 0xc5);
        // C3 0099
        gbc.setState(0xd342, 0x9d0c, 0x6bc0, 0x4203, 0x2074, 0xe0b5, 0x1, 0x0);
        gbc.writeMem(0xd342, { 0xc3, 0x5e, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x9d0c);
        EXPECT(gbc.pc(), 0xb75e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd342), 0xc3);
        EXPECT(gbc.readMem(0xd343), 0x5e);
        EXPECT(gbc.readMem(0xd344), 0xb7);
        // C3 009B
        gbc.setState(0xaed1, 0x55b5, 0x6d70, 0x7176, 0x9ac2, 0x6b78, 0x1, 0x0);
        gbc.writeMem(0xaed1, { 0xc3, 0x82, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x55b5);
        EXPECT(gbc.pc(), 0x1382);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaed1), 0xc3);
        EXPECT(gbc.readMem(0xaed2), 0x82);
        EXPECT(gbc.readMem(0xaed3), 0x13);
        // C3 009C
        gbc.setState(0x7a2a, 0x7320, 0x1fb0, 0x1f57, 0xb2d2, 0xa71a, 0x1, 0x0);
        gbc.writeMem(0x7a2a, { 0xc3, 0x59, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x7320);
        EXPECT(gbc.pc(), 0xf159);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 009D
        gbc.setState(0xaad, 0xe615, 0xb230, 0x297d, 0xa1ca, 0x922e, 0x0, 0x0);
        gbc.writeMem(0xaad, { 0xc3, 0xc0, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xe615);
        EXPECT(gbc.pc(), 0x12c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 009E
        gbc.setState(0x6d45, 0xfc5e, 0xa340, 0x1922, 0x18fb, 0xba0f, 0x1, 0x1);
        gbc.writeMem(0x6d45, { 0xc3, 0xe2, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xfc5e);
        EXPECT(gbc.pc(), 0x2de2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 009F
        gbc.setState(0x1502, 0xae9f, 0xcc70, 0xbbe9, 0xa626, 0x73ca, 0x1, 0x0);
        gbc.writeMem(0x1502, { 0xc3, 0xe6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xae9f);
        EXPECT(gbc.pc(), 0xb8e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 00A0
        gbc.setState(0xcc42, 0xd281, 0xfa80, 0x7726, 0x9e69, 0xaf70, 0x1, 0x1);
        gbc.writeMem(0xcc42, { 0xc3, 0x7b, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xd281);
        EXPECT(gbc.pc(), 0xe67b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc42), 0xc3);
        EXPECT(gbc.readMem(0xcc43), 0x7b);
        EXPECT(gbc.readMem(0xcc44), 0xe6);
        // C3 00A1
        gbc.setState(0x6667, 0xa88, 0x3790, 0x6372, 0x7a23, 0x804c, 0x1, 0x1);
        gbc.writeMem(0x6667, { 0xc3, 0xf7, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xa88);
        EXPECT(gbc.pc(), 0x38f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00A2
        gbc.setState(0x653e, 0x75c9, 0x1340, 0xea95, 0x55a3, 0xeecd, 0x1, 0x0);
        gbc.writeMem(0x653e, { 0xc3, 0x58, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x75c9);
        EXPECT(gbc.pc(), 0x6458);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 00A3
        gbc.setState(0xdb5e, 0xfee2, 0xf020, 0x407, 0x5f94, 0x92d6, 0x0, 0x0);
        gbc.writeMem(0xdb5e, { 0xc3, 0xea, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xfee2);
        EXPECT(gbc.pc(), 0xdeea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb5e), 0xc3);
        EXPECT(gbc.readMem(0xdb5f), 0xea);
        EXPECT(gbc.readMem(0xdb60), 0xde);
        // C3 00A5
        gbc.setState(0xbf54, 0x4955, 0xae60, 0x7709, 0xcd5d, 0xbd89, 0x1, 0x0);
        gbc.writeMem(0xbf54, { 0xc3, 0x51, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x4955);
        EXPECT(gbc.pc(), 0xf851);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf54), 0xc3);
        EXPECT(gbc.readMem(0xbf55), 0x51);
        EXPECT(gbc.readMem(0xbf56), 0xf8);
        // C3 00A6
        gbc.setState(0x80b2, 0xd95f, 0x1350, 0x6aec, 0xc02e, 0x3426, 0x0, 0x1);
        gbc.writeMem(0x80b2, { 0xc3, 0xf3, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xd95f);
        EXPECT(gbc.pc(), 0x2cf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80b2), 0xc3);
        EXPECT(gbc.readMem(0x80b3), 0xf3);
        EXPECT(gbc.readMem(0x80b4), 0x2c);
        // C3 00A7
        gbc.setState(0xd678, 0x398e, 0xd10, 0x70b8, 0xa55c, 0x69ec, 0x1, 0x0);
        gbc.writeMem(0xd678, { 0xc3, 0xfa, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x398e);
        EXPECT(gbc.pc(), 0x64fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd678), 0xc3);
        EXPECT(gbc.readMem(0xd679), 0xfa);
        EXPECT(gbc.readMem(0xd67a), 0x64);
        // C3 00A8
        gbc.setState(0xa397, 0x3a5e, 0xdb80, 0x810b, 0x8913, 0xeca4, 0x0, 0x0);
        gbc.writeMem(0xa397, { 0xc3, 0x46, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x3a5e);
        EXPECT(gbc.pc(), 0x9046);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa397), 0xc3);
        EXPECT(gbc.readMem(0xa398), 0x46);
        EXPECT(gbc.readMem(0xa399), 0x90);
        // C3 00A9
        gbc.setState(0x3f88, 0xa125, 0x9a90, 0xaa30, 0xde8f, 0x95a, 0x1, 0x0);
        gbc.writeMem(0x3f88, { 0xc3, 0x31, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xa125);
        EXPECT(gbc.pc(), 0x1c31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00AA
        gbc.setState(0x2bc7, 0xab72, 0xf9c0, 0x23c3, 0x6f4, 0xa2e, 0x1, 0x0);
        gbc.writeMem(0x2bc7, { 0xc3, 0xe2, 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xab72);
        EXPECT(gbc.pc(), 0x49e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 00AB
        gbc.setState(0x4ed5, 0xfcdc, 0x10, 0x2d7a, 0x4a3f, 0xd907, 0x1, 0x0);
        gbc.writeMem(0x4ed5, { 0xc3, 0xdd, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xfcdc);
        EXPECT(gbc.pc(), 0xc6dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00AC
        gbc.setState(0xa1d7, 0xde12, 0x1280, 0x2498, 0xa4b5, 0x6441, 0x1, 0x0);
        gbc.writeMem(0xa1d7, { 0xc3, 0x8c, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xde12);
        EXPECT(gbc.pc(), 0xd18c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1d7), 0xc3);
        EXPECT(gbc.readMem(0xa1d8), 0x8c);
        EXPECT(gbc.readMem(0xa1d9), 0xd1);
        // C3 00AD
        gbc.setState(0x9d54, 0xf275, 0xeec0, 0xc553, 0xc213, 0x29b2, 0x0, 0x1);
        gbc.writeMem(0x9d54, { 0xc3, 0x1b, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xf275);
        EXPECT(gbc.pc(), 0xc51b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d54), 0xc3);
        EXPECT(gbc.readMem(0x9d55), 0x1b);
        EXPECT(gbc.readMem(0x9d56), 0xc5);
        // C3 00AE
        gbc.setState(0x8228, 0xa457, 0x36f0, 0x2ada, 0xf2f9, 0xf5e5, 0x0, 0x0);
        gbc.writeMem(0x8228, { 0xc3, 0x1, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xa457);
        EXPECT(gbc.pc(), 0xc401);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8228), 0xc3);
        EXPECT(gbc.readMem(0x8229), 0x1);
        EXPECT(gbc.readMem(0x822a), 0xc4);
        // C3 00AF
        gbc.setState(0x6722, 0x7fc2, 0xafb0, 0x3b6f, 0x75e6, 0xc915, 0x1, 0x0);
        gbc.writeMem(0x6722, { 0xc3, 0xef, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x7fc2);
        EXPECT(gbc.pc(), 0x76ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 00B0
        gbc.setState(0x3c42, 0x84b1, 0x54d0, 0x799a, 0xfa37, 0x9c2, 0x1, 0x0);
        gbc.writeMem(0x3c42, { 0xc3, 0x7d, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x84b1);
        EXPECT(gbc.pc(), 0x577d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00B1
        gbc.setState(0xe745, 0x3f56, 0x8b00, 0x14ca, 0xaed5, 0x9f8e, 0x0, 0x0);
        gbc.writeMem(0xe745, { 0xc3, 0x5d, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x3f56);
        EXPECT(gbc.pc(), 0x85d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe745), 0xc3);
        EXPECT(gbc.readMem(0xe746), 0x5d);
        EXPECT(gbc.readMem(0xe747), 0x8);
        // C3 00B2
        gbc.setState(0xb303, 0xc203, 0x1450, 0xc702, 0x9cc5, 0xef15, 0x0, 0x0);
        gbc.writeMem(0xb303, { 0xc3, 0x89, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xc203);
        EXPECT(gbc.pc(), 0x89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb303), 0xc3);
        EXPECT(gbc.readMem(0xb304), 0x89);
        EXPECT(gbc.readMem(0xb305), 0x0);
        // C3 00B3
        gbc.setState(0x7280, 0x6623, 0xbe90, 0x991a, 0x3bd0, 0x5c0c, 0x0, 0x0);
        gbc.writeMem(0x7280, { 0xc3, 0x54, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x6623);
        EXPECT(gbc.pc(), 0x7c54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00B4
        gbc.setState(0xac83, 0x64a4, 0xcb90, 0xde55, 0xbd86, 0x9187, 0x0, 0x0);
        gbc.writeMem(0xac83, { 0xc3, 0x9, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x64a4);
        EXPECT(gbc.pc(), 0xe09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac83), 0xc3);
        EXPECT(gbc.readMem(0xac84), 0x9);
        EXPECT(gbc.readMem(0xac85), 0xe);
        // C3 00B5
        gbc.setState(0xae68, 0x584a, 0x58c0, 0x3192, 0xf81b, 0x1a4a, 0x0, 0x1);
        gbc.writeMem(0xae68, { 0xc3, 0xd8, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x584a);
        EXPECT(gbc.pc(), 0xb4d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae68), 0xc3);
        EXPECT(gbc.readMem(0xae69), 0xd8);
        EXPECT(gbc.readMem(0xae6a), 0xb4);
        // C3 00B6
        gbc.setState(0x79f7, 0xe91b, 0x7aa0, 0x6ef6, 0xf82d, 0xecf7, 0x1, 0x0);
        gbc.writeMem(0x79f7, { 0xc3, 0x52, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xe91b);
        EXPECT(gbc.pc(), 0x152);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 00B7
        gbc.setState(0x5efa, 0xf4d, 0x1d20, 0x56fa, 0xd97c, 0xdc20, 0x0, 0x1);
        gbc.writeMem(0x5efa, { 0xc3, 0xad, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xf4d);
        EXPECT(gbc.pc(), 0x81ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 00B8
        gbc.setState(0xd964, 0x9f69, 0x29c0, 0xaee9, 0xc556, 0xddc5, 0x0, 0x0);
        gbc.writeMem(0xd964, { 0xc3, 0xc7, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x9f69);
        EXPECT(gbc.pc(), 0x33c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd964), 0xc3);
        EXPECT(gbc.readMem(0xd965), 0xc7);
        EXPECT(gbc.readMem(0xd966), 0x33);
        // C3 00B9
        gbc.setState(0x4d37, 0xf4, 0xe950, 0x4e61, 0x1de7, 0x6003, 0x1, 0x0);
        gbc.writeMem(0x4d37, { 0xc3, 0x6b, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xf4);
        EXPECT(gbc.pc(), 0x896b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00BA
        gbc.setState(0x6101, 0x57b8, 0x33d0, 0xcecb, 0xfd70, 0x3e78, 0x1, 0x1);
        gbc.writeMem(0x6101, { 0xc3, 0xc4, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x57b8);
        EXPECT(gbc.pc(), 0x22c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00BB
        gbc.setState(0xaf46, 0xb096, 0x1e90, 0x566, 0x7ef3, 0x271c, 0x1, 0x1);
        gbc.writeMem(0xaf46, { 0xc3, 0x23, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xb096);
        EXPECT(gbc.pc(), 0xa923);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf46), 0xc3);
        EXPECT(gbc.readMem(0xaf47), 0x23);
        EXPECT(gbc.readMem(0xaf48), 0xa9);
        // C3 00BC
        gbc.setState(0x7a56, 0x9249, 0xe170, 0x7395, 0xda84, 0x66fd, 0x0, 0x1);
        gbc.writeMem(0x7a56, { 0xc3, 0xb8, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x9249);
        EXPECT(gbc.pc(), 0xa9b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 00BD
        gbc.setState(0x7cb3, 0xd13a, 0x3550, 0x42b4, 0x7ec2, 0xe43e, 0x0, 0x0);
        gbc.writeMem(0x7cb3, { 0xc3, 0x0, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xd13a);
        EXPECT(gbc.pc(), 0x3100);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00BE
        gbc.setState(0x4eb9, 0xca5a, 0xa910, 0x3e5, 0x4ea0, 0x4f96, 0x0, 0x0);
        gbc.writeMem(0x4eb9, { 0xc3, 0x53, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xca5a);
        EXPECT(gbc.pc(), 0x3f53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00C0
        gbc.setState(0x8660, 0x42e3, 0xe4d0, 0xb882, 0x482d, 0x8764, 0x0, 0x1);
        gbc.writeMem(0x8660, { 0xc3, 0x7a, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x42e3);
        EXPECT(gbc.pc(), 0x3b7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8660), 0xc3);
        EXPECT(gbc.readMem(0x8661), 0x7a);
        EXPECT(gbc.readMem(0x8662), 0x3b);
        // C3 00C1
        gbc.setState(0x8eb9, 0x279b, 0x5600, 0x75f9, 0x4516, 0xe05b, 0x0, 0x0);
        gbc.writeMem(0x8eb9, { 0xc3, 0xba, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x279b);
        EXPECT(gbc.pc(), 0x5bba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8eb9), 0xc3);
        EXPECT(gbc.readMem(0x8eba), 0xba);
        EXPECT(gbc.readMem(0x8ebb), 0x5b);
        // C3 00C2
        gbc.setState(0x90aa, 0x8920, 0x3a10, 0x107b, 0x13ef, 0x1cf7, 0x1, 0x1);
        gbc.writeMem(0x90aa, { 0xc3, 0x59, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x8920);
        EXPECT(gbc.pc(), 0x9c59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90aa), 0xc3);
        EXPECT(gbc.readMem(0x90ab), 0x59);
        EXPECT(gbc.readMem(0x90ac), 0x9c);
        // C3 00C3
        gbc.setState(0x35bc, 0xe36d, 0x7600, 0x62d0, 0x6ce3, 0xf3ff, 0x0, 0x0);
        gbc.writeMem(0x35bc, { 0xc3, 0x3e, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xe36d);
        EXPECT(gbc.pc(), 0xfc3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 00C4
        gbc.setState(0x4dbb, 0xdd41, 0xf460, 0x88f2, 0x764c, 0xe800, 0x0, 0x1);
        gbc.writeMem(0x4dbb, { 0xc3, 0xc8, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xdd41);
        EXPECT(gbc.pc(), 0x80c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 00C5
        gbc.setState(0x141d, 0xfce0, 0xe200, 0xd12e, 0x5ecd, 0xf9d4, 0x1, 0x1);
        gbc.writeMem(0x141d, { 0xc3, 0x0, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xfce0);
        EXPECT(gbc.pc(), 0xd500);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 00C6
        gbc.setState(0x1a49, 0xe110, 0xa2e0, 0x4e94, 0xf51c, 0xfe94, 0x0, 0x0);
        gbc.writeMem(0x1a49, { 0xc3, 0x2f, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xe110);
        EXPECT(gbc.pc(), 0xc92f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 00C7
        gbc.setState(0xdee1, 0x1dc, 0xccb0, 0x711a, 0x9079, 0x6ced, 0x0, 0x0);
        gbc.writeMem(0xdee1, { 0xc3, 0x52, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x1dc);
        EXPECT(gbc.pc(), 0x9852);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdee1), 0xc3);
        EXPECT(gbc.readMem(0xdee2), 0x52);
        EXPECT(gbc.readMem(0xdee3), 0x98);
        // C3 00C8
        gbc.setState(0x2c9d, 0x6cfc, 0xe290, 0x42fa, 0x6087, 0x92e, 0x1, 0x1);
        gbc.writeMem(0x2c9d, { 0xc3, 0xea, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x6cfc);
        EXPECT(gbc.pc(), 0xf2ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00C9
        gbc.setState(0x9a6d, 0x471d, 0x82f0, 0xcf9b, 0xc869, 0xa77a, 0x0, 0x1);
        gbc.writeMem(0x9a6d, { 0xc3, 0x13, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x471d);
        EXPECT(gbc.pc(), 0x9b13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a6d), 0xc3);
        EXPECT(gbc.readMem(0x9a6e), 0x13);
        EXPECT(gbc.readMem(0x9a6f), 0x9b);
        // C3 00CA
        gbc.setState(0xa47d, 0x36d8, 0x8e50, 0xc764, 0x4c3d, 0xd7aa, 0x1, 0x1);
        gbc.writeMem(0xa47d, { 0xc3, 0x2d, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x36d8);
        EXPECT(gbc.pc(), 0x592d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa47d), 0xc3);
        EXPECT(gbc.readMem(0xa47e), 0x2d);
        EXPECT(gbc.readMem(0xa47f), 0x59);
        // C3 00CB
        gbc.setState(0xb22c, 0x5f9a, 0x4bb0, 0x8d42, 0x66c4, 0x11bc, 0x0, 0x0);
        gbc.writeMem(0xb22c, { 0xc3, 0xb2, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x5f9a);
        EXPECT(gbc.pc(), 0x27b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb22c), 0xc3);
        EXPECT(gbc.readMem(0xb22d), 0xb2);
        EXPECT(gbc.readMem(0xb22e), 0x27);
        // C3 00CC
        gbc.setState(0x36a9, 0xd431, 0x1d00, 0x64e0, 0x1d07, 0x468f, 0x1, 0x0);
        gbc.writeMem(0x36a9, { 0xc3, 0x3a, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xd431);
        EXPECT(gbc.pc(), 0x5c3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 00CD
        gbc.setState(0xad2c, 0xe035, 0xd860, 0x648c, 0x7e39, 0x8d5c, 0x0, 0x0);
        gbc.writeMem(0xad2c, { 0xc3, 0xf8, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xe035);
        EXPECT(gbc.pc(), 0x3f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad2c), 0xc3);
        EXPECT(gbc.readMem(0xad2d), 0xf8);
        EXPECT(gbc.readMem(0xad2e), 0x3);
        // C3 00CE
        gbc.setState(0x7521, 0xb9ad, 0xf6b0, 0x309b, 0xf710, 0x5bbe, 0x0, 0x0);
        gbc.writeMem(0x7521, { 0xc3, 0x51, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xb9ad);
        EXPECT(gbc.pc(), 0x5751);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 00CF
        gbc.setState(0x97e8, 0x7ebb, 0x8bb0, 0xb28a, 0xe015, 0x91a9, 0x1, 0x0);
        gbc.writeMem(0x97e8, { 0xc3, 0xfd, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x7ebb);
        EXPECT(gbc.pc(), 0xd4fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97e8), 0xc3);
        EXPECT(gbc.readMem(0x97e9), 0xfd);
        EXPECT(gbc.readMem(0x97ea), 0xd4);
        // C3 00D0
        gbc.setState(0xff9, 0xca83, 0xd780, 0x3db6, 0x7cd0, 0xe63e, 0x0, 0x1);
        gbc.writeMem(0xff9, { 0xc3, 0xd3, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xca83);
        EXPECT(gbc.pc(), 0x26d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 00D1
        gbc.setState(0x3bae, 0x525a, 0xbc40, 0xdd64, 0x5cd0, 0x5cc6, 0x0, 0x1);
        gbc.writeMem(0x3bae, { 0xc3, 0x6f, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x525a);
        EXPECT(gbc.pc(), 0x6b6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 00D2
        gbc.setState(0x946a, 0x1742, 0xdaf0, 0xe2e1, 0xf2dc, 0x7a43, 0x0, 0x0);
        gbc.writeMem(0x946a, { 0xc3, 0x26, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x1742);
        EXPECT(gbc.pc(), 0x826);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x946a), 0xc3);
        EXPECT(gbc.readMem(0x946b), 0x26);
        EXPECT(gbc.readMem(0x946c), 0x8);
        // C3 00D3
        gbc.setState(0x34b1, 0xdfcc, 0xf6b0, 0xacd1, 0x56cf, 0x977b, 0x1, 0x1);
        gbc.writeMem(0x34b1, { 0xc3, 0xb3, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xdfcc);
        EXPECT(gbc.pc(), 0xdab3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 00D4
        gbc.setState(0x19e1, 0x3b56, 0xe1d0, 0x10a3, 0x27c2, 0x2b4, 0x1, 0x0);
        gbc.writeMem(0x19e1, { 0xc3, 0x98, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x3b56);
        EXPECT(gbc.pc(), 0x1c98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00D6
        gbc.setState(0x3207, 0x8c8a, 0xd1e0, 0x2eee, 0x4879, 0x50d2, 0x0, 0x0);
        gbc.writeMem(0x3207, { 0xc3, 0x17, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x8c8a);
        EXPECT(gbc.pc(), 0x9e17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 00D7
        gbc.setState(0x6676, 0xf03d, 0xbf60, 0x3c8c, 0xf6bf, 0xa016, 0x1, 0x1);
        gbc.writeMem(0x6676, { 0xc3, 0xc0, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xf03d);
        EXPECT(gbc.pc(), 0xb1c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 00D9
        gbc.setState(0xdb44, 0xd56e, 0x1840, 0x1b82, 0x8de6, 0xe4de, 0x1, 0x0);
        gbc.writeMem(0xdb44, { 0xc3, 0x50, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xd56e);
        EXPECT(gbc.pc(), 0x8950);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb44), 0xc3);
        EXPECT(gbc.readMem(0xdb45), 0x50);
        EXPECT(gbc.readMem(0xdb46), 0x89);
        // C3 00DA
        gbc.setState(0xa412, 0xb3e7, 0x5d90, 0xb236, 0xa65e, 0x22d0, 0x0, 0x1);
        gbc.writeMem(0xa412, { 0xc3, 0x82, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xb3e7);
        EXPECT(gbc.pc(), 0x6982);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa412), 0xc3);
        EXPECT(gbc.readMem(0xa413), 0x82);
        EXPECT(gbc.readMem(0xa414), 0x69);
        // C3 00DC
        gbc.setState(0x7b2, 0x40c5, 0xf3c0, 0x5620, 0x2107, 0xd3dd, 0x1, 0x1);
        gbc.writeMem(0x7b2, { 0xc3, 0xab, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x40c5);
        EXPECT(gbc.pc(), 0x9fab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 00DD
        gbc.setState(0x801, 0xed23, 0xfb0, 0x3fbb, 0xaa22, 0x55ea, 0x0, 0x1);
        gbc.writeMem(0x801, { 0xc3, 0x3c, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xed23);
        EXPECT(gbc.pc(), 0x513c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 00DE
        gbc.setState(0x2b8c, 0x2fdc, 0x2d0, 0xeac6, 0x6a83, 0x27b0, 0x0, 0x0);
        gbc.writeMem(0x2b8c, { 0xc3, 0x2f, 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x2fdc);
        EXPECT(gbc.pc(), 0x402f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00DF
        gbc.setState(0xd3d0, 0xd993, 0x72b0, 0x1897, 0x98e4, 0xc677, 0x0, 0x1);
        gbc.writeMem(0xd3d0, { 0xc3, 0x3, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xd993);
        EXPECT(gbc.pc(), 0x403);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3d0), 0xc3);
        EXPECT(gbc.readMem(0xd3d1), 0x3);
        EXPECT(gbc.readMem(0xd3d2), 0x4);
        // C3 00E0
        gbc.setState(0x9b72, 0x9a01, 0xdf50, 0x33cc, 0xaf36, 0xff97, 0x0, 0x0);
        gbc.writeMem(0x9b72, { 0xc3, 0x16, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x9a01);
        EXPECT(gbc.pc(), 0x7716);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b72), 0xc3);
        EXPECT(gbc.readMem(0x9b73), 0x16);
        EXPECT(gbc.readMem(0x9b74), 0x77);
        // C3 00E1
        gbc.setState(0xac27, 0xe309, 0xb950, 0xef74, 0x6a3f, 0xbd27, 0x1, 0x1);
        gbc.writeMem(0xac27, { 0xc3, 0x7c, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xe309);
        EXPECT(gbc.pc(), 0x557c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac27), 0xc3);
        EXPECT(gbc.readMem(0xac28), 0x7c);
        EXPECT(gbc.readMem(0xac29), 0x55);
        // C3 00E2
        gbc.setState(0x1931, 0xb7a5, 0xf710, 0xf000, 0xd19b, 0x5326, 0x0, 0x0);
        gbc.writeMem(0x1931, { 0xc3, 0x38, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xb7a5);
        EXPECT(gbc.pc(), 0xfa38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00E3
        gbc.setState(0x9963, 0xc8, 0x7810, 0xa722, 0x4331, 0xcfe4, 0x0, 0x1);
        gbc.writeMem(0x9963, { 0xc3, 0x57, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xc8);
        EXPECT(gbc.pc(), 0x8657);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9963), 0xc3);
        EXPECT(gbc.readMem(0x9964), 0x57);
        EXPECT(gbc.readMem(0x9965), 0x86);
        // C3 00E4
        gbc.setState(0xb2d0, 0x81a4, 0x11e0, 0x86ad, 0xbffe, 0x888f, 0x1, 0x1);
        gbc.writeMem(0xb2d0, { 0xc3, 0x45, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x81a4);
        EXPECT(gbc.pc(), 0xe845);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2d0), 0xc3);
        EXPECT(gbc.readMem(0xb2d1), 0x45);
        EXPECT(gbc.readMem(0xb2d2), 0xe8);
        // C3 00E5
        gbc.setState(0x6f2f, 0x1801, 0x3500, 0xf38f, 0xa8f5, 0xf31f, 0x1, 0x0);
        gbc.writeMem(0x6f2f, { 0xc3, 0x8b, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x1801);
        EXPECT(gbc.pc(), 0x448b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 00E6
        gbc.setState(0xe048, 0x2c45, 0xf6d0, 0x28ef, 0xb4fc, 0x4c87, 0x1, 0x0);
        gbc.writeMem(0xe048, { 0xc3, 0x78, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x2c45);
        EXPECT(gbc.pc(), 0x4178);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe048), 0xc3);
        EXPECT(gbc.readMem(0xe049), 0x78);
        EXPECT(gbc.readMem(0xe04a), 0x41);
        // C3 00E7
        gbc.setState(0x8bcf, 0xf4ed, 0xe630, 0x60e8, 0xdfb3, 0xc4f, 0x0, 0x1);
        gbc.writeMem(0x8bcf, { 0xc3, 0xf9, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xf4ed);
        EXPECT(gbc.pc(), 0xa0f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bcf), 0xc3);
        EXPECT(gbc.readMem(0x8bd0), 0xf9);
        EXPECT(gbc.readMem(0x8bd1), 0xa0);
        // C3 00E8
        gbc.setState(0x86dc, 0x6ac9, 0x3750, 0xbfae, 0xb2b9, 0x6096, 0x1, 0x1);
        gbc.writeMem(0x86dc, { 0xc3, 0x93, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x6ac9);
        EXPECT(gbc.pc(), 0xee93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86dc), 0xc3);
        EXPECT(gbc.readMem(0x86dd), 0x93);
        EXPECT(gbc.readMem(0x86de), 0xee);
        // C3 00E9
        gbc.setState(0x7ffe, 0x1a1c, 0x7660, 0x473c, 0x329f, 0xae3e, 0x0, 0x1);
        gbc.writeMem(0x7ffe, { 0xc3, 0x26, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x1a1c);
        EXPECT(gbc.pc(), 0x8426);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8000), 0x84);
        // C3 00EA
        gbc.setState(0xb4eb, 0x2b2f, 0x5880, 0xc582, 0x94c5, 0xb416, 0x1, 0x1);
        gbc.writeMem(0xb4eb, { 0xc3, 0xd6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x2b2f);
        EXPECT(gbc.pc(), 0x10d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4eb), 0xc3);
        EXPECT(gbc.readMem(0xb4ec), 0xd6);
        EXPECT(gbc.readMem(0xb4ed), 0x10);
        // C3 00EB
        gbc.setState(0xbf03, 0x9e6c, 0xd040, 0x7daf, 0x7d99, 0x7c65, 0x0, 0x1);
        gbc.writeMem(0xbf03, { 0xc3, 0x82, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x9e6c);
        EXPECT(gbc.pc(), 0x1682);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf03), 0xc3);
        EXPECT(gbc.readMem(0xbf04), 0x82);
        EXPECT(gbc.readMem(0xbf05), 0x16);
        // C3 00EC
        gbc.setState(0x3e61, 0xae79, 0x2380, 0x6a27, 0x21b6, 0xf2cb, 0x1, 0x0);
        gbc.writeMem(0x3e61, { 0xc3, 0x10, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xae79);
        EXPECT(gbc.pc(), 0x810);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 00ED
        gbc.setState(0x2a7b, 0xe180, 0xc70, 0xfe44, 0x915, 0xde47, 0x1, 0x0);
        gbc.writeMem(0x2a7b, { 0xc3, 0x5d, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xe180);
        EXPECT(gbc.pc(), 0x2d5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 00EE
        gbc.setState(0x4b72, 0xd80e, 0x8a70, 0x2cbc, 0x4e04, 0xc05f, 0x1, 0x1);
        gbc.writeMem(0x4b72, { 0xc3, 0x21, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xd80e);
        EXPECT(gbc.pc(), 0x3e21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 00EF
        gbc.setState(0xa71f, 0x6525, 0x52d0, 0x5365, 0x1cbb, 0x930c, 0x1, 0x1);
        gbc.writeMem(0xa71f, { 0xc3, 0x8c, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x6525);
        EXPECT(gbc.pc(), 0x338c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa71f), 0xc3);
        EXPECT(gbc.readMem(0xa720), 0x8c);
        EXPECT(gbc.readMem(0xa721), 0x33);
        // C3 00F0
        gbc.setState(0xc010, 0x378a, 0x65a0, 0x796a, 0xf1a6, 0x1934, 0x1, 0x0);
        gbc.writeMem(0xc010, { 0xc3, 0xd2, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x378a);
        EXPECT(gbc.pc(), 0xe5d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc010), 0xc3);
        EXPECT(gbc.readMem(0xc011), 0xd2);
        EXPECT(gbc.readMem(0xc012), 0xe5);
        // C3 00F1
        gbc.setState(0x4cfa, 0x6b99, 0x3fe0, 0x6a23, 0x1abb, 0xa2a4, 0x0, 0x1);
        gbc.writeMem(0x4cfa, { 0xc3, 0xa4, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x6b99);
        EXPECT(gbc.pc(), 0x35a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 00F2
        gbc.setState(0x5f87, 0xe215, 0x300, 0xf0ab, 0x8f49, 0x178d, 0x1, 0x1);
        gbc.writeMem(0x5f87, { 0xc3, 0x45, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xe215);
        EXPECT(gbc.pc(), 0xe45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 00F3
        gbc.setState(0xbbaf, 0x8cb, 0x6f0, 0x4c78, 0xf90b, 0xfca4, 0x1, 0x0);
        gbc.writeMem(0xbbaf, { 0xc3, 0xc9, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x8cb);
        EXPECT(gbc.pc(), 0xb2c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbaf), 0xc3);
        EXPECT(gbc.readMem(0xbbb0), 0xc9);
        EXPECT(gbc.readMem(0xbbb1), 0xb2);
        // C3 00F4
        gbc.setState(0x98c3, 0xf549, 0x5e10, 0xf69b, 0x7232, 0xcc50, 0x0, 0x0);
        gbc.writeMem(0x98c3, { 0xc3, 0x8e, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xf549);
        EXPECT(gbc.pc(), 0x4b8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98c3), 0xc3);
        EXPECT(gbc.readMem(0x98c4), 0x8e);
        EXPECT(gbc.readMem(0x98c5), 0x4b);
        // C3 00F5
        gbc.setState(0x8844, 0xf1c4, 0xb4c0, 0xd570, 0x1e19, 0x72a4, 0x0, 0x0);
        gbc.writeMem(0x8844, { 0xc3, 0x10, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xf1c4);
        EXPECT(gbc.pc(), 0x1810);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8844), 0xc3);
        EXPECT(gbc.readMem(0x8845), 0x10);
        EXPECT(gbc.readMem(0x8846), 0x18);
        // C3 00F7
        gbc.setState(0xc59f, 0x10a0, 0xf850, 0xb020, 0x96fb, 0x534a, 0x1, 0x0);
        gbc.writeMem(0xc59f, { 0xc3, 0x42, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x10a0);
        EXPECT(gbc.pc(), 0x3042);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc59f), 0xc3);
        EXPECT(gbc.readMem(0xc5a0), 0x42);
        EXPECT(gbc.readMem(0xc5a1), 0x30);
        // C3 00F9
        gbc.setState(0x2511, 0x4e1, 0x2970, 0xf2de, 0xbfb3, 0xcb06, 0x1, 0x0);
        gbc.writeMem(0x2511, { 0xc3, 0x29, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x4e1);
        EXPECT(gbc.pc(), 0x7d29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 00FA
        gbc.setState(0x8814, 0x9b09, 0xa870, 0x257c, 0xc10c, 0x5248, 0x0, 0x0);
        gbc.writeMem(0x8814, { 0xc3, 0xfc, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x9b09);
        EXPECT(gbc.pc(), 0x4afc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8814), 0xc3);
        EXPECT(gbc.readMem(0x8815), 0xfc);
        EXPECT(gbc.readMem(0x8816), 0x4a);
        // C3 00FB
        gbc.setState(0x7303, 0xcbf1, 0xb980, 0x22b7, 0x1ed, 0xaf9a, 0x1, 0x0);
        gbc.writeMem(0x7303, { 0xc3, 0x1c, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xcbf1);
        EXPECT(gbc.pc(), 0xed1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 00FC
        gbc.setState(0x507e, 0x8732, 0x1110, 0x71fe, 0x22c, 0xfa06, 0x1, 0x1);
        gbc.writeMem(0x507e, { 0xc3, 0x20, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x8732);
        EXPECT(gbc.pc(), 0xfa20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 00FD
        gbc.setState(0x13eb, 0x2574, 0x7340, 0x6446, 0xc37f, 0x22e1, 0x0, 0x0);
        gbc.writeMem(0x13eb, { 0xc3, 0x74, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x2574);
        EXPECT(gbc.pc(), 0xfb74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 00FE
        gbc.setState(0xd91c, 0x8625, 0xa790, 0x9c6, 0xf9b4, 0xb0b1, 0x1, 0x1);
        gbc.writeMem(0xd91c, { 0xc3, 0xe4, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x8625);
        EXPECT(gbc.pc(), 0x9de4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd91c), 0xc3);
        EXPECT(gbc.readMem(0xd91d), 0xe4);
        EXPECT(gbc.readMem(0xd91e), 0x9d);
        // C3 00FF
        gbc.setState(0x9c2b, 0x4965, 0xfe80, 0xe745, 0x9b41, 0x848e, 0x0, 0x0);
        gbc.writeMem(0x9c2b, { 0xc3, 0x88, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x4965);
        EXPECT(gbc.pc(), 0x8688);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c2b), 0xc3);
        EXPECT(gbc.readMem(0x9c2c), 0x88);
        EXPECT(gbc.readMem(0x9c2d), 0x86);
        // C3 0100
        gbc.setState(0x597e, 0x9fcf, 0x9710, 0x363e, 0x6b72, 0x2cd2, 0x1, 0x0);
        gbc.writeMem(0x597e, { 0xc3, 0x98, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x9fcf);
        EXPECT(gbc.pc(), 0x9e98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0101
        gbc.setState(0xddf, 0xb91b, 0x1300, 0x8e4e, 0x30e6, 0xdf88, 0x1, 0x0);
        gbc.writeMem(0xddf, { 0xc3, 0x68, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xb91b);
        EXPECT(gbc.pc(), 0x268);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0102
        gbc.setState(0x553f, 0x4edb, 0x4580, 0x9962, 0xaa23, 0x6cb2, 0x0, 0x0);
        gbc.writeMem(0x553f, { 0xc3, 0x35, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x4edb);
        EXPECT(gbc.pc(), 0xba35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0103
        gbc.setState(0xe070, 0x27d7, 0xb070, 0xc54b, 0xa75b, 0xabf3, 0x0, 0x1);
        gbc.writeMem(0xe070, { 0xc3, 0xcd, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x27d7);
        EXPECT(gbc.pc(), 0x99cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe070), 0xc3);
        EXPECT(gbc.readMem(0xe071), 0xcd);
        EXPECT(gbc.readMem(0xe072), 0x99);
        // C3 0104
        gbc.setState(0x23b6, 0x6b58, 0xce80, 0x76bb, 0xaf7, 0x1c89, 0x1, 0x0);
        gbc.writeMem(0x23b6, { 0xc3, 0x4b, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x6b58);
        EXPECT(gbc.pc(), 0x504b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0105
        gbc.setState(0x59ba, 0xf461, 0x2e70, 0x1d5, 0x486a, 0x4d3d, 0x1, 0x0);
        gbc.writeMem(0x59ba, { 0xc3, 0xa1, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xf461);
        EXPECT(gbc.pc(), 0xc2a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0106
        gbc.setState(0x551c, 0xb078, 0xac10, 0xaeca, 0x37fd, 0xd4a3, 0x0, 0x1);
        gbc.writeMem(0x551c, { 0xc3, 0xbf, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xb078);
        EXPECT(gbc.pc(), 0x15bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0107
        gbc.setState(0x2c14, 0xbf9f, 0xa8b0, 0x4542, 0x6056, 0xff69, 0x0, 0x1);
        gbc.writeMem(0x2c14, { 0xc3, 0x40, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xbf9f);
        EXPECT(gbc.pc(), 0xce40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0108
        gbc.setState(0x55ac, 0xae6e, 0xd660, 0xc1f7, 0x68be, 0x330e, 0x0, 0x0);
        gbc.writeMem(0x55ac, { 0xc3, 0x49, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xae6e);
        EXPECT(gbc.pc(), 0xc549);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0109
        gbc.setState(0x474e, 0x10f1, 0x9cb0, 0x8419, 0x4428, 0x73a0, 0x1, 0x1);
        gbc.writeMem(0x474e, { 0xc3, 0x92, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x10f1);
        EXPECT(gbc.pc(), 0x3f92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 010A
        gbc.setState(0x2a2a, 0x523, 0xacb0, 0x2edf, 0xe3dd, 0x51d6, 0x0, 0x0);
        gbc.writeMem(0x2a2a, { 0xc3, 0x86, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x523);
        EXPECT(gbc.pc(), 0x3186);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 010B
        gbc.setState(0xaca3, 0xb278, 0xabd0, 0x9450, 0x5753, 0x4f1, 0x0, 0x1);
        gbc.writeMem(0xaca3, { 0xc3, 0x70, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xb278);
        EXPECT(gbc.pc(), 0x1970);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaca3), 0xc3);
        EXPECT(gbc.readMem(0xaca4), 0x70);
        EXPECT(gbc.readMem(0xaca5), 0x19);
        // C3 010C
        gbc.setState(0x2e4d, 0xcbb1, 0xf9a0, 0xb2dd, 0xed49, 0x7d04, 0x1, 0x1);
        gbc.writeMem(0x2e4d, { 0xc3, 0xbe, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xcbb1);
        EXPECT(gbc.pc(), 0x9cbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 010D
        gbc.setState(0x27e7, 0xce35, 0x15d0, 0xb78b, 0x9fd4, 0xca0c, 0x1, 0x1);
        gbc.writeMem(0x27e7, { 0xc3, 0x34, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xce35);
        EXPECT(gbc.pc(), 0xd634);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 010E
        gbc.setState(0x2124, 0xe367, 0x6fc0, 0x3de7, 0xd0bf, 0xf7e, 0x1, 0x0);
        gbc.writeMem(0x2124, { 0xc3, 0x19, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xe367);
        EXPECT(gbc.pc(), 0x5219);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 010F
        gbc.setState(0x7216, 0x361b, 0xd910, 0x8a, 0x468, 0x6307, 0x1, 0x1);
        gbc.writeMem(0x7216, { 0xc3, 0xd, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x361b);
        EXPECT(gbc.pc(), 0xa70d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0110
        gbc.setState(0x48eb, 0x938a, 0xe660, 0xedf9, 0x43e6, 0xd582, 0x1, 0x1);
        gbc.writeMem(0x48eb, { 0xc3, 0x8c, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x938a);
        EXPECT(gbc.pc(), 0x288c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0111
        gbc.setState(0x1e2, 0x7b67, 0xd700, 0xeb93, 0x1f07, 0x5ffd, 0x0, 0x1);
        gbc.writeMem(0x1e2, { 0xc3, 0x53, 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x7b67);
        EXPECT(gbc.pc(), 0xd53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0112
        gbc.setState(0x59ac, 0x5856, 0xb140, 0xa09c, 0xaebc, 0x601d, 0x0, 0x0);
        gbc.writeMem(0x59ac, { 0xc3, 0xee, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x5856);
        EXPECT(gbc.pc(), 0x21ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0113
        gbc.setState(0x81bd, 0x7023, 0x3d90, 0x19cd, 0x7106, 0xf501, 0x1, 0x1);
        gbc.writeMem(0x81bd, { 0xc3, 0x4d, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x7023);
        EXPECT(gbc.pc(), 0xac4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81bd), 0xc3);
        EXPECT(gbc.readMem(0x81be), 0x4d);
        EXPECT(gbc.readMem(0x81bf), 0xac);
        // C3 0114
        gbc.setState(0x24ce, 0xea62, 0xa9b0, 0x13cd, 0xd205, 0x18b6, 0x1, 0x0);
        gbc.writeMem(0x24ce, { 0xc3, 0xc4, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xea62);
        EXPECT(gbc.pc(), 0xeec4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0115
        gbc.setState(0x5cbd, 0x4e43, 0xb950, 0xe51c, 0xc1f7, 0xff5d, 0x1, 0x0);
        gbc.writeMem(0x5cbd, { 0xc3, 0x90, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x4e43);
        EXPECT(gbc.pc(), 0xf890);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0116
        gbc.setState(0x3913, 0x1fba, 0xdd30, 0x2bc8, 0xc60e, 0x46e5, 0x1, 0x1);
        gbc.writeMem(0x3913, { 0xc3, 0x76, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x1fba);
        EXPECT(gbc.pc(), 0xf076);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0117
        gbc.setState(0xd4d0, 0x2ec5, 0x7650, 0x79e6, 0x3b77, 0x1890, 0x0, 0x1);
        gbc.writeMem(0xd4d0, { 0xc3, 0x3f, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x2ec5);
        EXPECT(gbc.pc(), 0xc13f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4d0), 0xc3);
        EXPECT(gbc.readMem(0xd4d1), 0x3f);
        EXPECT(gbc.readMem(0xd4d2), 0xc1);
        // C3 0118
        gbc.setState(0xe456, 0xc0d7, 0x7db0, 0x6699, 0x637f, 0x2f4d, 0x1, 0x1);
        gbc.writeMem(0xe456, { 0xc3, 0x39, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xc0d7);
        EXPECT(gbc.pc(), 0x6739);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe456), 0xc3);
        EXPECT(gbc.readMem(0xe457), 0x39);
        EXPECT(gbc.readMem(0xe458), 0x67);
        // C3 0119
        gbc.setState(0x74fd, 0x3339, 0x62c0, 0x78ef, 0x3262, 0x22dd, 0x1, 0x1);
        gbc.writeMem(0x74fd, { 0xc3, 0xd7, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x3339);
        EXPECT(gbc.pc(), 0x7ad7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 011C
        gbc.setState(0x6a9a, 0x7553, 0x9510, 0x1477, 0xf271, 0x701a, 0x0, 0x0);
        gbc.writeMem(0x6a9a, { 0xc3, 0x92, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x7553);
        EXPECT(gbc.pc(), 0x5f92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 011D
        gbc.setState(0x836e, 0xf2ae, 0x4400, 0x13d1, 0xfd5, 0x4e56, 0x0, 0x0);
        gbc.writeMem(0x836e, { 0xc3, 0xd9, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xf2ae);
        EXPECT(gbc.pc(), 0x5ad9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x836e), 0xc3);
        EXPECT(gbc.readMem(0x836f), 0xd9);
        EXPECT(gbc.readMem(0x8370), 0x5a);
        // C3 011E
        gbc.setState(0x363, 0x670f, 0xe9e0, 0xc310, 0xe80f, 0x28d9, 0x1, 0x0);
        gbc.writeMem(0x363, { 0xc3, 0x44, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x670f);
        EXPECT(gbc.pc(), 0xc44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 011F
        gbc.setState(0xd8a1, 0xb4b5, 0xb140, 0x4a16, 0xa4a, 0xe7b0, 0x1, 0x1);
        gbc.writeMem(0xd8a1, { 0xc3, 0x96, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xb4b5);
        EXPECT(gbc.pc(), 0xc796);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8a1), 0xc3);
        EXPECT(gbc.readMem(0xd8a2), 0x96);
        EXPECT(gbc.readMem(0xd8a3), 0xc7);
        // C3 0120
        gbc.setState(0x9d04, 0xebcb, 0x6a0, 0x9c26, 0x61b0, 0x512d, 0x1, 0x1);
        gbc.writeMem(0x9d04, { 0xc3, 0xf8, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xebcb);
        EXPECT(gbc.pc(), 0x42f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d04), 0xc3);
        EXPECT(gbc.readMem(0x9d05), 0xf8);
        EXPECT(gbc.readMem(0x9d06), 0x42);
        // C3 0121
        gbc.setState(0x1b06, 0x4534, 0x9bf0, 0x483a, 0x59d6, 0xeb1f, 0x0, 0x0);
        gbc.writeMem(0x1b06, { 0xc3, 0xa, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x4534);
        EXPECT(gbc.pc(), 0x220a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0122
        gbc.setState(0x81ba, 0x4a0, 0xbe40, 0xa824, 0xf9f1, 0xd2dc, 0x0, 0x1);
        gbc.writeMem(0x81ba, { 0xc3, 0x2b, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x4a0);
        EXPECT(gbc.pc(), 0x912b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81ba), 0xc3);
        EXPECT(gbc.readMem(0x81bb), 0x2b);
        EXPECT(gbc.readMem(0x81bc), 0x91);
        // C3 0123
        gbc.setState(0x768c, 0x10df, 0xc440, 0xc2eb, 0x4d03, 0x75e5, 0x0, 0x1);
        gbc.writeMem(0x768c, { 0xc3, 0xff, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x10df);
        EXPECT(gbc.pc(), 0x81ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0124
        gbc.setState(0xdd31, 0x566f, 0x9120, 0x6117, 0x4ee1, 0xf26, 0x0, 0x1);
        gbc.writeMem(0xdd31, { 0xc3, 0x80, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x566f);
        EXPECT(gbc.pc(), 0x3380);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd31), 0xc3);
        EXPECT(gbc.readMem(0xdd32), 0x80);
        EXPECT(gbc.readMem(0xdd33), 0x33);
        // C3 0125
        gbc.setState(0xd0d0, 0x203f, 0x7ad0, 0x1ded, 0x4e3, 0x5fac, 0x1, 0x0);
        gbc.writeMem(0xd0d0, { 0xc3, 0x46, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x203f);
        EXPECT(gbc.pc(), 0x2b46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0d0), 0xc3);
        EXPECT(gbc.readMem(0xd0d1), 0x46);
        EXPECT(gbc.readMem(0xd0d2), 0x2b);
        // C3 0126
        gbc.setState(0x6311, 0x23d3, 0x3120, 0xa833, 0xaecc, 0x6653, 0x1, 0x1);
        gbc.writeMem(0x6311, { 0xc3, 0x36, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x23d3);
        EXPECT(gbc.pc(), 0x36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0127
        gbc.setState(0xd729, 0xaadf, 0xfb00, 0x9f6, 0x4e5a, 0x2bec, 0x0, 0x0);
        gbc.writeMem(0xd729, { 0xc3, 0xcf, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xaadf);
        EXPECT(gbc.pc(), 0x2cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd729), 0xc3);
        EXPECT(gbc.readMem(0xd72a), 0xcf);
        EXPECT(gbc.readMem(0xd72b), 0x2);
        // C3 0128
        gbc.setState(0x4ec1, 0xa40a, 0x4fe0, 0xda90, 0x71ed, 0x6f55, 0x1, 0x0);
        gbc.writeMem(0x4ec1, { 0xc3, 0x90, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xa40a);
        EXPECT(gbc.pc(), 0xb490);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0129
        gbc.setState(0xea83, 0xa421, 0xfdb0, 0x6fea, 0xe60e, 0xcbe, 0x1, 0x0);
        gbc.writeMem(0xea83, { 0xc3, 0xb2, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xa421);
        EXPECT(gbc.pc(), 0xdeb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea83), 0xc3);
        EXPECT(gbc.readMem(0xea84), 0xb2);
        EXPECT(gbc.readMem(0xea85), 0xde);
        // C3 012A
        gbc.setState(0x51f, 0xfa44, 0x91c0, 0x4d71, 0x64e3, 0xa325, 0x1, 0x1);
        gbc.writeMem(0x51f, { 0xc3, 0xf1, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xfa44);
        EXPECT(gbc.pc(), 0x57f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 012C
        gbc.setState(0xb283, 0xc9d, 0x7610, 0xfadc, 0x3c94, 0xd57d, 0x1, 0x1);
        gbc.writeMem(0xb283, { 0xc3, 0xdf, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc9d);
        EXPECT(gbc.pc(), 0xcfdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb283), 0xc3);
        EXPECT(gbc.readMem(0xb284), 0xdf);
        EXPECT(gbc.readMem(0xb285), 0xcf);
        // C3 012D
        gbc.setState(0xadfc, 0x2dde, 0x6b90, 0x21bc, 0x570, 0x455f, 0x1, 0x1);
        gbc.writeMem(0xadfc, { 0xc3, 0xb9, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x2dde);
        EXPECT(gbc.pc(), 0xd1b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadfc), 0xc3);
        EXPECT(gbc.readMem(0xadfd), 0xb9);
        EXPECT(gbc.readMem(0xadfe), 0xd1);
        // C3 012E
        gbc.setState(0x1836, 0xcb53, 0xc190, 0x613f, 0x13dd, 0xf2, 0x0, 0x1);
        gbc.writeMem(0x1836, { 0xc3, 0x9e, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xcb53);
        EXPECT(gbc.pc(), 0xf69e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 012F
        gbc.setState(0x8611, 0x2a61, 0x2890, 0x2ca8, 0x4bb1, 0xd75b, 0x1, 0x1);
        gbc.writeMem(0x8611, { 0xc3, 0xca, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x2a61);
        EXPECT(gbc.pc(), 0xd1ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8611), 0xc3);
        EXPECT(gbc.readMem(0x8612), 0xca);
        EXPECT(gbc.readMem(0x8613), 0xd1);
        // C3 0130
        gbc.setState(0xc191, 0x539c, 0x8cb0, 0x44a9, 0xd870, 0xba55, 0x1, 0x1);
        gbc.writeMem(0xc191, { 0xc3, 0xa9, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x539c);
        EXPECT(gbc.pc(), 0xc0a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc191), 0xc3);
        EXPECT(gbc.readMem(0xc192), 0xa9);
        EXPECT(gbc.readMem(0xc193), 0xc0);
        // C3 0131
        gbc.setState(0x8822, 0x4576, 0xe610, 0x407c, 0x6d87, 0x2ed, 0x1, 0x1);
        gbc.writeMem(0x8822, { 0xc3, 0x16, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x4576);
        EXPECT(gbc.pc(), 0xb916);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8822), 0xc3);
        EXPECT(gbc.readMem(0x8823), 0x16);
        EXPECT(gbc.readMem(0x8824), 0xb9);
        // C3 0132
        gbc.setState(0xf22, 0x7f22, 0xb940, 0xcf8b, 0x3e90, 0x98ba, 0x0, 0x1);
        gbc.writeMem(0xf22, { 0xc3, 0xab, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x7f22);
        EXPECT(gbc.pc(), 0x4dab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0133
        gbc.setState(0x83d9, 0xc6cb, 0x47a0, 0xea8c, 0x4c31, 0x1c5, 0x1, 0x0);
        gbc.writeMem(0x83d9, { 0xc3, 0x20, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xc6cb);
        EXPECT(gbc.pc(), 0x3c20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83d9), 0xc3);
        EXPECT(gbc.readMem(0x83da), 0x20);
        EXPECT(gbc.readMem(0x83db), 0x3c);
        // C3 0134
        gbc.setState(0x3b66, 0x7d38, 0x70b0, 0x606e, 0x5789, 0x6da7, 0x0, 0x0);
        gbc.writeMem(0x3b66, { 0xc3, 0x5b, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x7d38);
        EXPECT(gbc.pc(), 0x915b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0135
        gbc.setState(0x21a1, 0xeb34, 0x2ac0, 0x4d80, 0x76eb, 0xa996, 0x0, 0x1);
        gbc.writeMem(0x21a1, { 0xc3, 0xcf, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xeb34);
        EXPECT(gbc.pc(), 0xcbcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0136
        gbc.setState(0x99c7, 0xead3, 0xdd40, 0x68eb, 0x275, 0x10ec, 0x1, 0x1);
        gbc.writeMem(0x99c7, { 0xc3, 0x33, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xead3);
        EXPECT(gbc.pc(), 0x1033);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99c7), 0xc3);
        EXPECT(gbc.readMem(0x99c8), 0x33);
        EXPECT(gbc.readMem(0x99c9), 0x10);
        // C3 0137
        gbc.setState(0x8346, 0xa452, 0x9f10, 0x7750, 0x547b, 0x6495, 0x1, 0x0);
        gbc.writeMem(0x8346, { 0xc3, 0x8, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xa452);
        EXPECT(gbc.pc(), 0x5008);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8346), 0xc3);
        EXPECT(gbc.readMem(0x8347), 0x8);
        EXPECT(gbc.readMem(0x8348), 0x50);
        // C3 0138
        gbc.setState(0x80c8, 0xb38, 0x7810, 0x4106, 0x145d, 0xaa2a, 0x0, 0x0);
        gbc.writeMem(0x80c8, { 0xc3, 0xe2, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xb38);
        EXPECT(gbc.pc(), 0xd9e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80c8), 0xc3);
        EXPECT(gbc.readMem(0x80c9), 0xe2);
        EXPECT(gbc.readMem(0x80ca), 0xd9);
        // C3 0139
        gbc.setState(0x45e3, 0xd65c, 0xce20, 0x80f7, 0x2c32, 0x1d76, 0x1, 0x0);
        gbc.writeMem(0x45e3, { 0xc3, 0x76, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xd65c);
        EXPECT(gbc.pc(), 0xba76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 013A
        gbc.setState(0x4ad3, 0x7655, 0x1b30, 0x49e0, 0x4359, 0x9178, 0x0, 0x1);
        gbc.writeMem(0x4ad3, { 0xc3, 0xb8, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x7655);
        EXPECT(gbc.pc(), 0x2db8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 013B
        gbc.setState(0xd7c, 0xfc24, 0xf320, 0x7388, 0xe0aa, 0x8f88, 0x0, 0x1);
        gbc.writeMem(0xd7c, { 0xc3, 0x9c, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xfc24);
        EXPECT(gbc.pc(), 0xf09c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 013C
        gbc.setState(0x1055, 0x9827, 0x9890, 0x7e48, 0x28f1, 0x7904, 0x1, 0x0);
        gbc.writeMem(0x1055, { 0xc3, 0xa, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x9827);
        EXPECT(gbc.pc(), 0xee0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 013D
        gbc.setState(0x49ad, 0xfb9a, 0xc840, 0xab56, 0xb3b0, 0xb6a4, 0x0, 0x1);
        gbc.writeMem(0x49ad, { 0xc3, 0x41, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xfb9a);
        EXPECT(gbc.pc(), 0xa641);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 013E
        gbc.setState(0x66b3, 0x63e, 0xb60, 0xddef, 0x3ed7, 0x7652, 0x1, 0x0);
        gbc.writeMem(0x66b3, { 0xc3, 0x90, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x63e);
        EXPECT(gbc.pc(), 0xc090);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 013F
        gbc.setState(0xabf8, 0xb59a, 0x58e0, 0x5295, 0xe94d, 0xac4e, 0x0, 0x1);
        gbc.writeMem(0xabf8, { 0xc3, 0xaf, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xb59a);
        EXPECT(gbc.pc(), 0x82af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabf8), 0xc3);
        EXPECT(gbc.readMem(0xabf9), 0xaf);
        EXPECT(gbc.readMem(0xabfa), 0x82);
        // C3 0140
        gbc.setState(0xf6d, 0x892d, 0xa8e0, 0x5af0, 0x654c, 0x31f3, 0x0, 0x0);
        gbc.writeMem(0xf6d, { 0xc3, 0xa9, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x892d);
        EXPECT(gbc.pc(), 0x36a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0141
        gbc.setState(0x380a, 0x7fd7, 0x2840, 0x261e, 0xd477, 0x9bc7, 0x1, 0x0);
        gbc.writeMem(0x380a, { 0xc3, 0xe1, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x7fd7);
        EXPECT(gbc.pc(), 0x1e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0142
        gbc.setState(0x6a83, 0xb3b2, 0x9b50, 0xbd9, 0xe3a1, 0xf03f, 0x0, 0x1);
        gbc.writeMem(0x6a83, { 0xc3, 0x17, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xb3b2);
        EXPECT(gbc.pc(), 0xca17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0143
        gbc.setState(0x5c2a, 0x24b0, 0x12e0, 0xaf8, 0xe677, 0xd860, 0x0, 0x1);
        gbc.writeMem(0x5c2a, { 0xc3, 0x6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x24b0);
        EXPECT(gbc.pc(), 0x4b06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0144
        gbc.setState(0xcad4, 0xb64d, 0x2ef0, 0xb6b5, 0x9de6, 0x8d55, 0x0, 0x1);
        gbc.writeMem(0xcad4, { 0xc3, 0x30, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xb64d);
        EXPECT(gbc.pc(), 0x7230);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcad4), 0xc3);
        EXPECT(gbc.readMem(0xcad5), 0x30);
        EXPECT(gbc.readMem(0xcad6), 0x72);
        // C3 0145
        gbc.setState(0xa2ed, 0xd46b, 0xa950, 0xd1fe, 0xce31, 0xe8ee, 0x0, 0x1);
        gbc.writeMem(0xa2ed, { 0xc3, 0x8a, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xd46b);
        EXPECT(gbc.pc(), 0xe8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2ed), 0xc3);
        EXPECT(gbc.readMem(0xa2ee), 0x8a);
        EXPECT(gbc.readMem(0xa2ef), 0xe);
        // C3 0146
        gbc.setState(0x38b4, 0x695c, 0xa3c0, 0x6cc7, 0x762e, 0x27ac, 0x1, 0x0);
        gbc.writeMem(0x38b4, { 0xc3, 0xb3, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x695c);
        EXPECT(gbc.pc(), 0x3eb3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0147
        gbc.setState(0x7f7c, 0x955e, 0xc410, 0x3785, 0x46d0, 0xb49e, 0x0, 0x1);
        gbc.writeMem(0x7f7c, { 0xc3, 0xd2, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x955e);
        EXPECT(gbc.pc(), 0xc2d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0148
        gbc.setState(0xb044, 0xd4e2, 0xcd70, 0x19fe, 0xfe96, 0x2d55, 0x0, 0x1);
        gbc.writeMem(0xb044, { 0xc3, 0x5f, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xd4e2);
        EXPECT(gbc.pc(), 0x2a5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb044), 0xc3);
        EXPECT(gbc.readMem(0xb045), 0x5f);
        EXPECT(gbc.readMem(0xb046), 0x2a);
        // C3 0149
        gbc.setState(0xb150, 0x238, 0x5680, 0x33cf, 0x5969, 0x73ad, 0x0, 0x1);
        gbc.writeMem(0xb150, { 0xc3, 0x34, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x238);
        EXPECT(gbc.pc(), 0xc934);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb150), 0xc3);
        EXPECT(gbc.readMem(0xb151), 0x34);
        EXPECT(gbc.readMem(0xb152), 0xc9);
        // C3 014A
        gbc.setState(0x8b26, 0xd65c, 0x1b00, 0xa48e, 0x8ccf, 0x5fa7, 0x0, 0x0);
        gbc.writeMem(0x8b26, { 0xc3, 0xef, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xd65c);
        EXPECT(gbc.pc(), 0xd7ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b26), 0xc3);
        EXPECT(gbc.readMem(0x8b27), 0xef);
        EXPECT(gbc.readMem(0x8b28), 0xd7);
        // C3 014B
        gbc.setState(0x6c28, 0xf5e0, 0xf7a0, 0xf340, 0xdbf5, 0xb59a, 0x1, 0x0);
        gbc.writeMem(0x6c28, { 0xc3, 0xb2, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xf5e0);
        EXPECT(gbc.pc(), 0x8bb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 014D
        gbc.setState(0x687a, 0x57c4, 0x81b0, 0xd5fc, 0x51bd, 0x521, 0x0, 0x1);
        gbc.writeMem(0x687a, { 0xc3, 0x2f, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x57c4);
        EXPECT(gbc.pc(), 0x842f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 014F
        gbc.setState(0x2b14, 0x7edd, 0x85c0, 0x3a22, 0x2c00, 0x17d5, 0x1, 0x0);
        gbc.writeMem(0x2b14, { 0xc3, 0xf3, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x7edd);
        EXPECT(gbc.pc(), 0x6bf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0150
        gbc.setState(0xe55b, 0x87e5, 0x3f80, 0xfc44, 0x2a55, 0x47fa, 0x0, 0x0);
        gbc.writeMem(0xe55b, { 0xc3, 0x8d, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x87e5);
        EXPECT(gbc.pc(), 0x848d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe55b), 0xc3);
        EXPECT(gbc.readMem(0xe55c), 0x8d);
        EXPECT(gbc.readMem(0xe55d), 0x84);
        // C3 0151
        gbc.setState(0xb349, 0xb1f1, 0x9020, 0x5944, 0xeda5, 0xba18, 0x1, 0x0);
        gbc.writeMem(0xb349, { 0xc3, 0xcc, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xb1f1);
        EXPECT(gbc.pc(), 0xfecc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb349), 0xc3);
        EXPECT(gbc.readMem(0xb34a), 0xcc);
        EXPECT(gbc.readMem(0xb34b), 0xfe);
        // C3 0152
        gbc.setState(0xc87f, 0x241c, 0x25e0, 0xf87a, 0x4ba3, 0xaf95, 0x1, 0x1);
        gbc.writeMem(0xc87f, { 0xc3, 0xae, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x241c);
        EXPECT(gbc.pc(), 0x1fae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc87f), 0xc3);
        EXPECT(gbc.readMem(0xc880), 0xae);
        EXPECT(gbc.readMem(0xc881), 0x1f);
        // C3 0153
        gbc.setState(0x8143, 0x4c6a, 0x6b00, 0x23ca, 0xe17f, 0x7e13, 0x1, 0x0);
        gbc.writeMem(0x8143, { 0xc3, 0xbd, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x4c6a);
        EXPECT(gbc.pc(), 0x7fbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8143), 0xc3);
        EXPECT(gbc.readMem(0x8144), 0xbd);
        EXPECT(gbc.readMem(0x8145), 0x7f);
        // C3 0154
        gbc.setState(0x5155, 0x1a27, 0x90f0, 0xf6a2, 0x9cad, 0xc97c, 0x1, 0x1);
        gbc.writeMem(0x5155, { 0xc3, 0x8b, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x1a27);
        EXPECT(gbc.pc(), 0x928b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0155
        gbc.setState(0x441b, 0x3575, 0x7b40, 0xc94c, 0xc0fb, 0xe6bf, 0x1, 0x1);
        gbc.writeMem(0x441b, { 0xc3, 0xe5, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x3575);
        EXPECT(gbc.pc(), 0xf3e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0156
        gbc.setState(0xaf70, 0xa41f, 0x9b50, 0xc313, 0x86b2, 0x2030, 0x0, 0x0);
        gbc.writeMem(0xaf70, { 0xc3, 0x4e, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xa41f);
        EXPECT(gbc.pc(), 0x734e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf70), 0xc3);
        EXPECT(gbc.readMem(0xaf71), 0x4e);
        EXPECT(gbc.readMem(0xaf72), 0x73);
        // C3 0157
        gbc.setState(0xc446, 0x56b7, 0x88b0, 0xc895, 0xe4b6, 0x6587, 0x1, 0x0);
        gbc.writeMem(0xc446, { 0xc3, 0x26, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x56b7);
        EXPECT(gbc.pc(), 0x9926);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc446), 0xc3);
        EXPECT(gbc.readMem(0xc447), 0x26);
        EXPECT(gbc.readMem(0xc448), 0x99);
        // C3 0158
        gbc.setState(0xb71e, 0xef3d, 0xafa0, 0x7e04, 0x72fc, 0xe40b, 0x1, 0x0);
        gbc.writeMem(0xb71e, { 0xc3, 0xaf, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xef3d);
        EXPECT(gbc.pc(), 0xd4af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb71e), 0xc3);
        EXPECT(gbc.readMem(0xb71f), 0xaf);
        EXPECT(gbc.readMem(0xb720), 0xd4);
        // C3 015A
        gbc.setState(0x1398, 0x3426, 0xd9a0, 0xe4a, 0x6003, 0xd107, 0x0, 0x0);
        gbc.writeMem(0x1398, { 0xc3, 0xf4, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x3426);
        EXPECT(gbc.pc(), 0x68f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 015B
        gbc.setState(0xe554, 0xadd3, 0x26c0, 0x876d, 0xde5a, 0x135, 0x0, 0x0);
        gbc.writeMem(0xe554, { 0xc3, 0x43, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xadd3);
        EXPECT(gbc.pc(), 0xc443);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe554), 0xc3);
        EXPECT(gbc.readMem(0xe555), 0x43);
        EXPECT(gbc.readMem(0xe556), 0xc4);
        // C3 015C
        gbc.setState(0x1c73, 0x7e4a, 0x44c0, 0xb4d7, 0x3719, 0x7077, 0x1, 0x1);
        gbc.writeMem(0x1c73, { 0xc3, 0xd1, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x7e4a);
        EXPECT(gbc.pc(), 0xe0d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 015D
        gbc.setState(0x4211, 0xbab5, 0xa8c0, 0x3103, 0x234, 0x9aac, 0x1, 0x0);
        gbc.writeMem(0x4211, { 0xc3, 0x10, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xbab5);
        EXPECT(gbc.pc(), 0x8d10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 015E
        gbc.setState(0x98b0, 0x2386, 0x3f90, 0x1e8e, 0x32b8, 0x343c, 0x0, 0x0);
        gbc.writeMem(0x98b0, { 0xc3, 0x83, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x2386);
        EXPECT(gbc.pc(), 0x1f83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98b0), 0xc3);
        EXPECT(gbc.readMem(0x98b1), 0x83);
        EXPECT(gbc.readMem(0x98b2), 0x1f);
        // C3 015F
        gbc.setState(0xbc45, 0x7fa3, 0xe0b0, 0x2d49, 0xdc02, 0x5f0e, 0x0, 0x1);
        gbc.writeMem(0xbc45, { 0xc3, 0xd5, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x7fa3);
        EXPECT(gbc.pc(), 0xe2d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc45), 0xc3);
        EXPECT(gbc.readMem(0xbc46), 0xd5);
        EXPECT(gbc.readMem(0xbc47), 0xe2);
        // C3 0160
        gbc.setState(0xa4a3, 0x849d, 0xe230, 0x99a8, 0xa995, 0xc554, 0x0, 0x1);
        gbc.writeMem(0xa4a3, { 0xc3, 0x86, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x849d);
        EXPECT(gbc.pc(), 0x7686);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4a3), 0xc3);
        EXPECT(gbc.readMem(0xa4a4), 0x86);
        EXPECT(gbc.readMem(0xa4a5), 0x76);
        // C3 0161
        gbc.setState(0x3d56, 0x656f, 0xbe40, 0x182e, 0xce2d, 0x5413, 0x0, 0x0);
        gbc.writeMem(0x3d56, { 0xc3, 0xef, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x656f);
        EXPECT(gbc.pc(), 0xb2ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0162
        gbc.setState(0x6692, 0x18c7, 0x5a70, 0xef08, 0x65c8, 0x4920, 0x0, 0x0);
        gbc.writeMem(0x6692, { 0xc3, 0xee, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x18c7);
        EXPECT(gbc.pc(), 0x67ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0163
        gbc.setState(0xef44, 0x95fc, 0xb3f0, 0xceaf, 0xdb88, 0x3738, 0x1, 0x1);
        gbc.writeMem(0xef44, { 0xc3, 0xa2, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x95fc);
        EXPECT(gbc.pc(), 0xe9a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef44), 0xc3);
        EXPECT(gbc.readMem(0xef45), 0xa2);
        EXPECT(gbc.readMem(0xef46), 0xe9);
        // C3 0164
        gbc.setState(0xe61f, 0x1101, 0xde70, 0xf027, 0x7fa4, 0xef25, 0x1, 0x0);
        gbc.writeMem(0xe61f, { 0xc3, 0x6b, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x1101);
        EXPECT(gbc.pc(), 0x36b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe61f), 0xc3);
        EXPECT(gbc.readMem(0xe620), 0x6b);
        EXPECT(gbc.readMem(0xe621), 0x3);
        // C3 0165
        gbc.setState(0xacff, 0x5143, 0x7e00, 0xab6b, 0xdb45, 0x22d5, 0x1, 0x1);
        gbc.writeMem(0xacff, { 0xc3, 0xba, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x5143);
        EXPECT(gbc.pc(), 0x94ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacff), 0xc3);
        EXPECT(gbc.readMem(0xad00), 0xba);
        EXPECT(gbc.readMem(0xad01), 0x94);
        // C3 0166
        gbc.setState(0x32fb, 0x46ba, 0xb650, 0x42d6, 0xc261, 0x1b80, 0x0, 0x0);
        gbc.writeMem(0x32fb, { 0xc3, 0x3a, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x46ba);
        EXPECT(gbc.pc(), 0x673a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0167
        gbc.setState(0xa868, 0x9842, 0xa50, 0xf13b, 0x8879, 0xde4a, 0x0, 0x0);
        gbc.writeMem(0xa868, { 0xc3, 0x78, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x9842);
        EXPECT(gbc.pc(), 0xfc78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa868), 0xc3);
        EXPECT(gbc.readMem(0xa869), 0x78);
        EXPECT(gbc.readMem(0xa86a), 0xfc);
        // C3 0168
        gbc.setState(0xcbee, 0x2965, 0x72b0, 0xcc70, 0x7be1, 0xf919, 0x0, 0x0);
        gbc.writeMem(0xcbee, { 0xc3, 0x5a, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x2965);
        EXPECT(gbc.pc(), 0x325a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbee), 0xc3);
        EXPECT(gbc.readMem(0xcbef), 0x5a);
        EXPECT(gbc.readMem(0xcbf0), 0x32);
        // C3 0169
        gbc.setState(0x7dd8, 0x614, 0xb260, 0x2760, 0x5f58, 0xfc6d, 0x1, 0x1);
        gbc.writeMem(0x7dd8, { 0xc3, 0xb, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x614);
        EXPECT(gbc.pc(), 0x130b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 016A
        gbc.setState(0xa333, 0xc7f9, 0x24b0, 0x7c3e, 0x4e2f, 0x3383, 0x0, 0x1);
        gbc.writeMem(0xa333, { 0xc3, 0x90, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xc7f9);
        EXPECT(gbc.pc(), 0xe90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa333), 0xc3);
        EXPECT(gbc.readMem(0xa334), 0x90);
        EXPECT(gbc.readMem(0xa335), 0xe);
        // C3 016C
        gbc.setState(0x9d6b, 0xb056, 0x6c30, 0x7e05, 0xd0d2, 0x687b, 0x0, 0x1);
        gbc.writeMem(0x9d6b, { 0xc3, 0x8b, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xb056);
        EXPECT(gbc.pc(), 0xad8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d6b), 0xc3);
        EXPECT(gbc.readMem(0x9d6c), 0x8b);
        EXPECT(gbc.readMem(0x9d6d), 0xad);
        // C3 016D
        gbc.setState(0xc3b4, 0x165b, 0xfc00, 0x1106, 0xcb36, 0xfe6d, 0x1, 0x0);
        gbc.writeMem(0xc3b4, { 0xc3, 0xe0, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x165b);
        EXPECT(gbc.pc(), 0x1de0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3b4), 0xc3);
        EXPECT(gbc.readMem(0xc3b5), 0xe0);
        EXPECT(gbc.readMem(0xc3b6), 0x1d);
        // C3 016E
        gbc.setState(0x7704, 0x2c52, 0x3a70, 0x8fda, 0xcbf1, 0xd2f4, 0x1, 0x1);
        gbc.writeMem(0x7704, { 0xc3, 0xbd, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x2c52);
        EXPECT(gbc.pc(), 0xccbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 016F
        gbc.setState(0xe736, 0x608f, 0x6d10, 0x7416, 0xa90c, 0xf176, 0x1, 0x1);
        gbc.writeMem(0xe736, { 0xc3, 0x44, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x608f);
        EXPECT(gbc.pc(), 0x7944);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe736), 0xc3);
        EXPECT(gbc.readMem(0xe737), 0x44);
        EXPECT(gbc.readMem(0xe738), 0x79);
        // C3 0170
        gbc.setState(0x674f, 0x1007, 0xff70, 0x5841, 0xd03b, 0x2f5f, 0x0, 0x1);
        gbc.writeMem(0x674f, { 0xc3, 0x1f, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x1007);
        EXPECT(gbc.pc(), 0xd21f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0171
        gbc.setState(0xd538, 0xf566, 0x8710, 0x5796, 0x2cad, 0xda42, 0x0, 0x1);
        gbc.writeMem(0xd538, { 0xc3, 0x65, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xf566);
        EXPECT(gbc.pc(), 0xc065);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd538), 0xc3);
        EXPECT(gbc.readMem(0xd539), 0x65);
        EXPECT(gbc.readMem(0xd53a), 0xc0);
        // C3 0172
        gbc.setState(0x1eea, 0x7484, 0xd940, 0x725c, 0xc014, 0x4164, 0x0, 0x1);
        gbc.writeMem(0x1eea, { 0xc3, 0xb7, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x7484);
        EXPECT(gbc.pc(), 0x3b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0173
        gbc.setState(0x7c5c, 0x60b7, 0xb4c0, 0x7818, 0x8116, 0xb8a9, 0x0, 0x0);
        gbc.writeMem(0x7c5c, { 0xc3, 0x6d, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x60b7);
        EXPECT(gbc.pc(), 0x976d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0174
        gbc.setState(0x48eb, 0x2283, 0x8620, 0x23cf, 0xf0ef, 0x6594, 0x0, 0x0);
        gbc.writeMem(0x48eb, { 0xc3, 0x8c, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x2283);
        EXPECT(gbc.pc(), 0x288c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0175
        gbc.setState(0x2bf8, 0x63c6, 0x74a0, 0x7e5e, 0x5bf3, 0xbfb0, 0x1, 0x0);
        gbc.writeMem(0x2bf8, { 0xc3, 0xa, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x63c6);
        EXPECT(gbc.pc(), 0x250a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0176
        gbc.setState(0x24a2, 0x4390, 0x5ee0, 0x16ed, 0x3b01, 0xf251, 0x1, 0x1);
        gbc.writeMem(0x24a2, { 0xc3, 0xaa, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x4390);
        EXPECT(gbc.pc(), 0xdaaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0177
        gbc.setState(0x5d2d, 0x8fb4, 0xa690, 0xf34a, 0xc9c8, 0xb195, 0x0, 0x0);
        gbc.writeMem(0x5d2d, { 0xc3, 0xb6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x8fb4);
        EXPECT(gbc.pc(), 0xc7b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0178
        gbc.setState(0x11b9, 0x31ae, 0x2860, 0x4084, 0xe0bf, 0x1cf4, 0x0, 0x0);
        gbc.writeMem(0x11b9, { 0xc3, 0xd3, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x31ae);
        EXPECT(gbc.pc(), 0x75d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0179
        gbc.setState(0x7219, 0x3bbb, 0x960, 0xaea4, 0xff36, 0x39b, 0x0, 0x1);
        gbc.writeMem(0x7219, { 0xc3, 0x9f, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x3bbb);
        EXPECT(gbc.pc(), 0x909f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 017A
        gbc.setState(0xbd1e, 0x7731, 0x93b0, 0x8dfa, 0xfb9e, 0x5b77, 0x1, 0x1);
        gbc.writeMem(0xbd1e, { 0xc3, 0x9c, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x7731);
        EXPECT(gbc.pc(), 0xd19c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd1e), 0xc3);
        EXPECT(gbc.readMem(0xbd1f), 0x9c);
        EXPECT(gbc.readMem(0xbd20), 0xd1);
        // C3 017B
        gbc.setState(0x913e, 0x1403, 0xf900, 0x607f, 0xde01, 0x2826, 0x0, 0x1);
        gbc.writeMem(0x913e, { 0xc3, 0xa8, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x1403);
        EXPECT(gbc.pc(), 0x16a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x913e), 0xc3);
        EXPECT(gbc.readMem(0x913f), 0xa8);
        EXPECT(gbc.readMem(0x9140), 0x16);
        // C3 017C
        gbc.setState(0x1b23, 0xdcbe, 0xd940, 0x9680, 0x199c, 0x4427, 0x0, 0x1);
        gbc.writeMem(0x1b23, { 0xc3, 0x66, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xdcbe);
        EXPECT(gbc.pc(), 0x8766);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 017D
        gbc.setState(0xb541, 0x3882, 0x1d0, 0x1b8c, 0xf05c, 0xd740, 0x1, 0x1);
        gbc.writeMem(0xb541, { 0xc3, 0xc2, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x3882);
        EXPECT(gbc.pc(), 0x9c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb541), 0xc3);
        EXPECT(gbc.readMem(0xb542), 0xc2);
        EXPECT(gbc.readMem(0xb543), 0x9);
        // C3 017E
        gbc.setState(0x8fc9, 0xc739, 0x4c80, 0xe984, 0x45e, 0xb2b7, 0x1, 0x0);
        gbc.writeMem(0x8fc9, { 0xc3, 0x9a, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xc739);
        EXPECT(gbc.pc(), 0xd29a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fc9), 0xc3);
        EXPECT(gbc.readMem(0x8fca), 0x9a);
        EXPECT(gbc.readMem(0x8fcb), 0xd2);
        // C3 017F
        gbc.setState(0x69b3, 0x1d5a, 0x8850, 0x4295, 0xa47c, 0x4f33, 0x0, 0x1);
        gbc.writeMem(0x69b3, { 0xc3, 0x5c, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x1d5a);
        EXPECT(gbc.pc(), 0x9d5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0180
        gbc.setState(0x9f57, 0x461e, 0xe9f0, 0x8caf, 0xf15c, 0x3e29, 0x1, 0x1);
        gbc.writeMem(0x9f57, { 0xc3, 0x97, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x461e);
        EXPECT(gbc.pc(), 0x6097);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f57), 0xc3);
        EXPECT(gbc.readMem(0x9f58), 0x97);
        EXPECT(gbc.readMem(0x9f59), 0x60);
        // C3 0181
        gbc.setState(0xb506, 0xfedb, 0x3040, 0x7e44, 0x616a, 0xecd, 0x0, 0x1);
        gbc.writeMem(0xb506, { 0xc3, 0x35, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xfedb);
        EXPECT(gbc.pc(), 0x7635);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb506), 0xc3);
        EXPECT(gbc.readMem(0xb507), 0x35);
        EXPECT(gbc.readMem(0xb508), 0x76);
        // C3 0182
        gbc.setState(0x4ae7, 0x65d1, 0xc200, 0xa0b0, 0xa843, 0x352a, 0x1, 0x0);
        gbc.writeMem(0x4ae7, { 0xc3, 0xa0, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x65d1);
        EXPECT(gbc.pc(), 0x9aa0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0183
        gbc.setState(0x5664, 0x2728, 0x52c0, 0x9aca, 0xeb98, 0x4d62, 0x1, 0x1);
        gbc.writeMem(0x5664, { 0xc3, 0x63, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x2728);
        EXPECT(gbc.pc(), 0x8a63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0184
        gbc.setState(0x7df4, 0xdd38, 0xbcf0, 0xf6a4, 0x6297, 0xedef, 0x1, 0x1);
        gbc.writeMem(0x7df4, { 0xc3, 0x9, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xdd38);
        EXPECT(gbc.pc(), 0x4709);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0186
        gbc.setState(0x6e73, 0x2f1, 0x8ef0, 0x956e, 0xa5ae, 0x571c, 0x0, 0x1);
        gbc.writeMem(0x6e73, { 0xc3, 0x37, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x2f1);
        EXPECT(gbc.pc(), 0xf537);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0187
        gbc.setState(0xd41, 0x76e3, 0xc6a0, 0x5052, 0x90dd, 0x99c7, 0x0, 0x0);
        gbc.writeMem(0xd41, { 0xc3, 0x8f, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x76e3);
        EXPECT(gbc.pc(), 0x4f8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0188
        gbc.setState(0xa50a, 0x6b43, 0xc7f0, 0x3df9, 0xc32e, 0xe325, 0x0, 0x1);
        gbc.writeMem(0xa50a, { 0xc3, 0x47, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x6b43);
        EXPECT(gbc.pc(), 0x8b47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa50a), 0xc3);
        EXPECT(gbc.readMem(0xa50b), 0x47);
        EXPECT(gbc.readMem(0xa50c), 0x8b);
        // C3 0189
        gbc.setState(0x9046, 0x27e1, 0x6d30, 0xf614, 0xe9c6, 0xbf7f, 0x0, 0x1);
        gbc.writeMem(0x9046, { 0xc3, 0x49, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x27e1);
        EXPECT(gbc.pc(), 0x9749);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9046), 0xc3);
        EXPECT(gbc.readMem(0x9047), 0x49);
        EXPECT(gbc.readMem(0x9048), 0x97);
        // C3 018A
        gbc.setState(0x3c71, 0x8e95, 0x1650, 0xe265, 0x93c7, 0x94b, 0x0, 0x1);
        gbc.writeMem(0x3c71, { 0xc3, 0x53, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x8e95);
        EXPECT(gbc.pc(), 0x4d53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 018B
        gbc.setState(0xbc87, 0xa795, 0x3020, 0x8ce, 0x71fb, 0x7b9e, 0x0, 0x0);
        gbc.writeMem(0xbc87, { 0xc3, 0x52, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xa795);
        EXPECT(gbc.pc(), 0x6052);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc87), 0xc3);
        EXPECT(gbc.readMem(0xbc88), 0x52);
        EXPECT(gbc.readMem(0xbc89), 0x60);
        // C3 018C
        gbc.setState(0x827f, 0x7da1, 0xa7f0, 0xacc8, 0x34ad, 0xfc81, 0x0, 0x1);
        gbc.writeMem(0x827f, { 0xc3, 0x13, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x7da1);
        EXPECT(gbc.pc(), 0xb813);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x827f), 0xc3);
        EXPECT(gbc.readMem(0x8280), 0x13);
        EXPECT(gbc.readMem(0x8281), 0xb8);
        // C3 018D
        gbc.setState(0xaced, 0x73f4, 0x1d40, 0xcc5e, 0xa10a, 0x34a9, 0x0, 0x1);
        gbc.writeMem(0xaced, { 0xc3, 0x60, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x73f4);
        EXPECT(gbc.pc(), 0x5260);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaced), 0xc3);
        EXPECT(gbc.readMem(0xacee), 0x60);
        EXPECT(gbc.readMem(0xacef), 0x52);
        // C3 018E
        gbc.setState(0x184f, 0xdf6f, 0xd1c0, 0x66b0, 0x669f, 0x5070, 0x1, 0x0);
        gbc.writeMem(0x184f, { 0xc3, 0x79, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xdf6f);
        EXPECT(gbc.pc(), 0x5779);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 018F
        gbc.setState(0x3339, 0x621f, 0x8a80, 0x305f, 0xdb88, 0xea20, 0x1, 0x0);
        gbc.writeMem(0x3339, { 0xc3, 0x94, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x621f);
        EXPECT(gbc.pc(), 0xac94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0190
        gbc.setState(0x1f23, 0x9b2f, 0x8820, 0x5717, 0x163f, 0x37f4, 0x0, 0x0);
        gbc.writeMem(0x1f23, { 0xc3, 0xf9, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x9b2f);
        EXPECT(gbc.pc(), 0x92f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0191
        gbc.setState(0xc9ec, 0x1b21, 0xa500, 0x2878, 0xa1a6, 0x7420, 0x0, 0x0);
        gbc.writeMem(0xc9ec, { 0xc3, 0x5d, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x1b21);
        EXPECT(gbc.pc(), 0x5b5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9ec), 0xc3);
        EXPECT(gbc.readMem(0xc9ed), 0x5d);
        EXPECT(gbc.readMem(0xc9ee), 0x5b);
        // C3 0192
        gbc.setState(0x5742, 0x6ca, 0x25f0, 0xc03, 0x2144, 0xfb3b, 0x1, 0x0);
        gbc.writeMem(0x5742, { 0xc3, 0xd7, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x6ca);
        EXPECT(gbc.pc(), 0x20d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0193
        gbc.setState(0xa740, 0x9d59, 0x26c0, 0x79a, 0x9f78, 0xfa99, 0x0, 0x0);
        gbc.writeMem(0xa740, { 0xc3, 0xcb, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x9d59);
        EXPECT(gbc.pc(), 0xf7cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa740), 0xc3);
        EXPECT(gbc.readMem(0xa741), 0xcb);
        EXPECT(gbc.readMem(0xa742), 0xf7);
        // C3 0194
        gbc.setState(0xc99e, 0x506a, 0x80, 0xcc94, 0x3b07, 0xc6f0, 0x1, 0x0);
        gbc.writeMem(0xc99e, { 0xc3, 0xd4, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x506a);
        EXPECT(gbc.pc(), 0xddd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc99e), 0xc3);
        EXPECT(gbc.readMem(0xc99f), 0xd4);
        EXPECT(gbc.readMem(0xc9a0), 0xdd);
        // C3 0195
        gbc.setState(0x93ed, 0xeaf5, 0xab60, 0x952, 0x104, 0x749b, 0x1, 0x1);
        gbc.writeMem(0x93ed, { 0xc3, 0xde, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xeaf5);
        EXPECT(gbc.pc(), 0x46de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93ed), 0xc3);
        EXPECT(gbc.readMem(0x93ee), 0xde);
        EXPECT(gbc.readMem(0x93ef), 0x46);
        // C3 0196
        gbc.setState(0x2a1b, 0x1fed, 0x1ad0, 0x502f, 0x9aff, 0x632, 0x0, 0x1);
        gbc.writeMem(0x2a1b, { 0xc3, 0x4e, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x1fed);
        EXPECT(gbc.pc(), 0x954e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0197
        gbc.setState(0xa745, 0x85ec, 0x4ec0, 0xaf08, 0xc28e, 0x6687, 0x0, 0x0);
        gbc.writeMem(0xa745, { 0xc3, 0x1, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x85ec);
        EXPECT(gbc.pc(), 0xe701);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa745), 0xc3);
        EXPECT(gbc.readMem(0xa746), 0x1);
        EXPECT(gbc.readMem(0xa747), 0xe7);
        // C3 0198
        gbc.setState(0xe61c, 0x2f90, 0x3e50, 0x33ac, 0x98b6, 0xc247, 0x1, 0x0);
        gbc.writeMem(0xe61c, { 0xc3, 0xe5, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x2f90);
        EXPECT(gbc.pc(), 0x76e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe61c), 0xc3);
        EXPECT(gbc.readMem(0xe61d), 0xe5);
        EXPECT(gbc.readMem(0xe61e), 0x76);
        // C3 0199
        gbc.setState(0xa030, 0x58c, 0x9330, 0x858b, 0x2dd6, 0xd70c, 0x1, 0x0);
        gbc.writeMem(0xa030, { 0xc3, 0xdb, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x58c);
        EXPECT(gbc.pc(), 0x34db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa030), 0xc3);
        EXPECT(gbc.readMem(0xa031), 0xdb);
        EXPECT(gbc.readMem(0xa032), 0x34);
        // C3 019A
        gbc.setState(0x582, 0x9dff, 0xb910, 0x5e41, 0x7ed6, 0x5656, 0x0, 0x1);
        gbc.writeMem(0x582, { 0xc3, 0xd9, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x9dff);
        EXPECT(gbc.pc(), 0x50d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 019B
        gbc.setState(0x7163, 0xbb28, 0x94b0, 0x76e5, 0xefd, 0x6a4, 0x1, 0x1);
        gbc.writeMem(0x7163, { 0xc3, 0x3d, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xbb28);
        EXPECT(gbc.pc(), 0x463d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 019C
        gbc.setState(0x18de, 0xafda, 0x3870, 0x2c0, 0x512, 0x3ef6, 0x0, 0x0);
        gbc.writeMem(0x18de, { 0xc3, 0x74, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xafda);
        EXPECT(gbc.pc(), 0xab74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 019D
        gbc.setState(0x9efd, 0xdc26, 0x1f50, 0x526f, 0x8d73, 0xe928, 0x0, 0x0);
        gbc.writeMem(0x9efd, { 0xc3, 0x97, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xdc26);
        EXPECT(gbc.pc(), 0x4c97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9efd), 0xc3);
        EXPECT(gbc.readMem(0x9efe), 0x97);
        EXPECT(gbc.readMem(0x9eff), 0x4c);
        // C3 019E
        gbc.setState(0xaaa1, 0xb6b0, 0xa7b0, 0xec22, 0x7160, 0x8197, 0x1, 0x0);
        gbc.writeMem(0xaaa1, { 0xc3, 0xee, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xb6b0);
        EXPECT(gbc.pc(), 0x9dee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaaa1), 0xc3);
        EXPECT(gbc.readMem(0xaaa2), 0xee);
        EXPECT(gbc.readMem(0xaaa3), 0x9d);
        // C3 019F
        gbc.setState(0x3c44, 0xcd39, 0x1020, 0xc94f, 0x86a, 0x3334, 0x0, 0x1);
        gbc.writeMem(0x3c44, { 0xc3, 0xbc, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xcd39);
        EXPECT(gbc.pc(), 0xccbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01A0
        gbc.setState(0xc843, 0x3623, 0x9960, 0x4267, 0x1155, 0x4d0, 0x1, 0x1);
        gbc.writeMem(0xc843, { 0xc3, 0x4e, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x3623);
        EXPECT(gbc.pc(), 0x164e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc843), 0xc3);
        EXPECT(gbc.readMem(0xc844), 0x4e);
        EXPECT(gbc.readMem(0xc845), 0x16);
        // C3 01A1
        gbc.setState(0xc60a, 0x7f29, 0x7d20, 0x78a9, 0x5e27, 0xb9e0, 0x0, 0x1);
        gbc.writeMem(0xc60a, { 0xc3, 0xe5, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x7f29);
        EXPECT(gbc.pc(), 0x24e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc60a), 0xc3);
        EXPECT(gbc.readMem(0xc60b), 0xe5);
        EXPECT(gbc.readMem(0xc60c), 0x24);
        // C3 01A2
        gbc.setState(0x9817, 0xf825, 0xeb30, 0xa2c6, 0xfefc, 0x7ac5, 0x0, 0x1);
        gbc.writeMem(0x9817, { 0xc3, 0xd3, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xf825);
        EXPECT(gbc.pc(), 0x28d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9817), 0xc3);
        EXPECT(gbc.readMem(0x9818), 0xd3);
        EXPECT(gbc.readMem(0x9819), 0x28);
        // C3 01A3
        gbc.setState(0xa91, 0x1f8f, 0x3ec0, 0x5e18, 0x9d6b, 0xc1f4, 0x1, 0x0);
        gbc.writeMem(0xa91, { 0xc3, 0xd7, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x1f8f);
        EXPECT(gbc.pc(), 0xa4d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 01A4
        gbc.setState(0x59ef, 0x11a2, 0x23f0, 0x7c6f, 0xb673, 0x9935, 0x0, 0x0);
        gbc.writeMem(0x59ef, { 0xc3, 0x7, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x11a2);
        EXPECT(gbc.pc(), 0x8407);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 01A5
        gbc.setState(0x5132, 0x1e8f, 0x4d0, 0xea99, 0x227a, 0xbc4e, 0x0, 0x1);
        gbc.writeMem(0x5132, { 0xc3, 0x37, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x1e8f);
        EXPECT(gbc.pc(), 0x7237);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01A6
        gbc.setState(0x60da, 0x9918, 0x8a90, 0x9911, 0x941e, 0x8a99, 0x0, 0x0);
        gbc.writeMem(0x60da, { 0xc3, 0x3, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x9918);
        EXPECT(gbc.pc(), 0xb603);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01A7
        gbc.setState(0xe51b, 0xff9d, 0xf8a0, 0xb471, 0x638d, 0x9cb0, 0x1, 0x1);
        gbc.writeMem(0xe51b, { 0xc3, 0xe3, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xff9d);
        EXPECT(gbc.pc(), 0xb3e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe51b), 0xc3);
        EXPECT(gbc.readMem(0xe51c), 0xe3);
        EXPECT(gbc.readMem(0xe51d), 0xb3);
        // C3 01A8
        gbc.setState(0xbbb, 0x98f9, 0x9610, 0x8a86, 0x1586, 0x610, 0x1, 0x0);
        gbc.writeMem(0xbbb, { 0xc3, 0xfe, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x98f9);
        EXPECT(gbc.pc(), 0x95fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01A9
        gbc.setState(0x6e91, 0xec8, 0x3d60, 0x5514, 0x446e, 0x8ae8, 0x1, 0x0);
        gbc.writeMem(0x6e91, { 0xc3, 0x52, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xec8);
        EXPECT(gbc.pc(), 0xc252);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01AB
        gbc.setState(0xb6bb, 0x4d8d, 0x3230, 0x595c, 0xb807, 0x1a9f, 0x0, 0x1);
        gbc.writeMem(0xb6bb, { 0xc3, 0x20, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x4d8d);
        EXPECT(gbc.pc(), 0x8b20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6bb), 0xc3);
        EXPECT(gbc.readMem(0xb6bc), 0x20);
        EXPECT(gbc.readMem(0xb6bd), 0x8b);
        // C3 01AE
        gbc.setState(0xda80, 0x4b16, 0x4d0, 0x90de, 0xcc5b, 0xa6fd, 0x1, 0x0);
        gbc.writeMem(0xda80, { 0xc3, 0x75, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x4b16);
        EXPECT(gbc.pc(), 0xf875);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda80), 0xc3);
        EXPECT(gbc.readMem(0xda81), 0x75);
        EXPECT(gbc.readMem(0xda82), 0xf8);
        // C3 01AF
        gbc.setState(0xbd63, 0xcd03, 0xa970, 0x587e, 0x13af, 0x589, 0x1, 0x0);
        gbc.writeMem(0xbd63, { 0xc3, 0x58, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xcd03);
        EXPECT(gbc.pc(), 0xfc58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd63), 0xc3);
        EXPECT(gbc.readMem(0xbd64), 0x58);
        EXPECT(gbc.readMem(0xbd65), 0xfc);
        // C3 01B1
        gbc.setState(0x3778, 0x7b66, 0xf230, 0x183b, 0xe628, 0xbc02, 0x1, 0x0);
        gbc.writeMem(0x3778, { 0xc3, 0xec, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x7b66);
        EXPECT(gbc.pc(), 0x8aec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 01B2
        gbc.setState(0x16c9, 0x72c2, 0x19e0, 0x1257, 0x126, 0x3169, 0x1, 0x0);
        gbc.writeMem(0x16c9, { 0xc3, 0x2c, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x72c2);
        EXPECT(gbc.pc(), 0x342c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01B3
        gbc.setState(0xd97f, 0x2106, 0xfb40, 0x657b, 0x15c2, 0x579, 0x0, 0x0);
        gbc.writeMem(0xd97f, { 0xc3, 0xe2, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x2106);
        EXPECT(gbc.pc(), 0xee2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd97f), 0xc3);
        EXPECT(gbc.readMem(0xd980), 0xe2);
        EXPECT(gbc.readMem(0xd981), 0xe);
        // C3 01B4
        gbc.setState(0xc4fe, 0x8f11, 0x3ab0, 0xe77a, 0x6446, 0x5205, 0x1, 0x0);
        gbc.writeMem(0xc4fe, { 0xc3, 0x39, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x8f11);
        EXPECT(gbc.pc(), 0xcb39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4fe), 0xc3);
        EXPECT(gbc.readMem(0xc4ff), 0x39);
        EXPECT(gbc.readMem(0xc500), 0xcb);
        // C3 01B5
        gbc.setState(0x849e, 0x5103, 0xcff0, 0x4101, 0xd93c, 0x5572, 0x0, 0x0);
        gbc.writeMem(0x849e, { 0xc3, 0x11, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x5103);
        EXPECT(gbc.pc(), 0x4311);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x849e), 0xc3);
        EXPECT(gbc.readMem(0x849f), 0x11);
        EXPECT(gbc.readMem(0x84a0), 0x43);
        // C3 01B6
        gbc.setState(0x1ba2, 0x7a54, 0x71d0, 0x5555, 0x239a, 0x3d49, 0x0, 0x1);
        gbc.writeMem(0x1ba2, { 0xc3, 0xe6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x7a54);
        EXPECT(gbc.pc(), 0x75e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01B7
        gbc.setState(0xe60a, 0xfc9a, 0xdc00, 0x2fbf, 0x4f9e, 0x816d, 0x0, 0x0);
        gbc.writeMem(0xe60a, { 0xc3, 0x12, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xfc9a);
        EXPECT(gbc.pc(), 0x4812);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe60a), 0xc3);
        EXPECT(gbc.readMem(0xe60b), 0x12);
        EXPECT(gbc.readMem(0xe60c), 0x48);
        // C3 01B9
        gbc.setState(0xaaf5, 0xf0db, 0x8ba0, 0xba34, 0xca5, 0x5c4b, 0x1, 0x0);
        gbc.writeMem(0xaaf5, { 0xc3, 0x4c, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xf0db);
        EXPECT(gbc.pc(), 0xb94c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaf5), 0xc3);
        EXPECT(gbc.readMem(0xaaf6), 0x4c);
        EXPECT(gbc.readMem(0xaaf7), 0xb9);
        // C3 01BA
        gbc.setState(0xc6a7, 0x1437, 0xfb80, 0x81ff, 0xb8ee, 0x8da0, 0x1, 0x0);
        gbc.writeMem(0xc6a7, { 0xc3, 0x70, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x1437);
        EXPECT(gbc.pc(), 0x9b70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6a7), 0xc3);
        EXPECT(gbc.readMem(0xc6a8), 0x70);
        EXPECT(gbc.readMem(0xc6a9), 0x9b);
        // C3 01BB
        gbc.setState(0x6002, 0xf6ba, 0x4c10, 0xd6da, 0x1576, 0x90e9, 0x0, 0x0);
        gbc.writeMem(0x6002, { 0xc3, 0x3f, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xf6ba);
        EXPECT(gbc.pc(), 0x5f3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01BC
        gbc.setState(0x5af0, 0xaac8, 0x3960, 0xfecb, 0x9346, 0xe714, 0x0, 0x0);
        gbc.writeMem(0x5af0, { 0xc3, 0xe5, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xaac8);
        EXPECT(gbc.pc(), 0x7fe5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01BD
        gbc.setState(0xd8a3, 0x4ba0, 0xfd0, 0x9bab, 0xb16, 0x8bd3, 0x1, 0x0);
        gbc.writeMem(0xd8a3, { 0xc3, 0x97, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x4ba0);
        EXPECT(gbc.pc(), 0xd597);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8a3), 0xc3);
        EXPECT(gbc.readMem(0xd8a4), 0x97);
        EXPECT(gbc.readMem(0xd8a5), 0xd5);
        // C3 01BE
        gbc.setState(0x798, 0x1ad6, 0xd580, 0x93e8, 0x8fce, 0x8930, 0x1, 0x0);
        gbc.writeMem(0x798, { 0xc3, 0x8e, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x1ad6);
        EXPECT(gbc.pc(), 0x5d8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 01BF
        gbc.setState(0x704a, 0x1f3b, 0x34f0, 0x7cd9, 0x1883, 0x45bb, 0x0, 0x0);
        gbc.writeMem(0x704a, { 0xc3, 0x30, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x1f3b);
        EXPECT(gbc.pc(), 0xdd30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 01C0
        gbc.setState(0xdd88, 0x4e6b, 0x42e0, 0xd8c, 0x788f, 0x5bd0, 0x1, 0x1);
        gbc.writeMem(0xdd88, { 0xc3, 0x25, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x4e6b);
        EXPECT(gbc.pc(), 0xb325);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd88), 0xc3);
        EXPECT(gbc.readMem(0xdd89), 0x25);
        EXPECT(gbc.readMem(0xdd8a), 0xb3);
        // C3 01C1
        gbc.setState(0xed1e, 0xf36, 0x1c70, 0x10f5, 0xb3f6, 0xa07a, 0x1, 0x1);
        gbc.writeMem(0xed1e, { 0xc3, 0x5a, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xf36);
        EXPECT(gbc.pc(), 0xd05a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed1e), 0xc3);
        EXPECT(gbc.readMem(0xed1f), 0x5a);
        EXPECT(gbc.readMem(0xed20), 0xd0);
        // C3 01C2
        gbc.setState(0x3eb1, 0xa35a, 0x9790, 0x36ec, 0xe458, 0x1649, 0x0, 0x0);
        gbc.writeMem(0x3eb1, { 0xc3, 0xd8, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xa35a);
        EXPECT(gbc.pc(), 0x9ed8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01C3
        gbc.setState(0x7a41, 0xe33f, 0x8020, 0x1cbf, 0xa8e4, 0x9dce, 0x1, 0x0);
        gbc.writeMem(0x7a41, { 0xc3, 0xa8, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xe33f);
        EXPECT(gbc.pc(), 0x76a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01C4
        gbc.setState(0x15fa, 0xde25, 0xd850, 0xfa37, 0x3cec, 0xc99, 0x0, 0x0);
        gbc.writeMem(0x15fa, { 0xc3, 0x7d, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xde25);
        EXPECT(gbc.pc(), 0xc07d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01C5
        gbc.setState(0x766f, 0x94f1, 0x2360, 0xa5fa, 0x964d, 0xfe3f, 0x1, 0x1);
        gbc.writeMem(0x766f, { 0xc3, 0x6b, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x94f1);
        EXPECT(gbc.pc(), 0x4e6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01C6
        gbc.setState(0x657, 0xdde0, 0xf8a0, 0x65e9, 0xdf9d, 0xb06c, 0x0, 0x0);
        gbc.writeMem(0x657, { 0xc3, 0xc, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xdde0);
        EXPECT(gbc.pc(), 0x180c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01C7
        gbc.setState(0x6a54, 0x1d7, 0x1cf0, 0x2b27, 0x34c6, 0xd83e, 0x0, 0x0);
        gbc.writeMem(0x6a54, { 0xc3, 0x11, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x1d7);
        EXPECT(gbc.pc(), 0x6611);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 01C8
        gbc.setState(0x82aa, 0x71c9, 0x5b50, 0xa613, 0xe4a5, 0xa029, 0x0, 0x1);
        gbc.writeMem(0x82aa, { 0xc3, 0xb4, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x71c9);
        EXPECT(gbc.pc(), 0xbeb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82aa), 0xc3);
        EXPECT(gbc.readMem(0x82ab), 0xb4);
        EXPECT(gbc.readMem(0x82ac), 0xbe);
        // C3 01C9
        gbc.setState(0xc357, 0x4182, 0x44e0, 0xfe25, 0x260d, 0xbf0c, 0x1, 0x1);
        gbc.writeMem(0xc357, { 0xc3, 0xb0, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x4182);
        EXPECT(gbc.pc(), 0xcdb0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc357), 0xc3);
        EXPECT(gbc.readMem(0xc358), 0xb0);
        EXPECT(gbc.readMem(0xc359), 0xcd);
        // C3 01CA
        gbc.setState(0x7f6, 0x6170, 0x7f90, 0xc4f4, 0xa27a, 0x8dc2, 0x1, 0x1);
        gbc.writeMem(0x7f6, { 0xc3, 0x99, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x6170);
        EXPECT(gbc.pc(), 0x3399);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01CB
        gbc.setState(0x1178, 0x9a75, 0x56d0, 0x97d5, 0x167f, 0xd7fb, 0x0, 0x1);
        gbc.writeMem(0x1178, { 0xc3, 0x87, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x9a75);
        EXPECT(gbc.pc(), 0xfa87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01CC
        gbc.setState(0xab5c, 0xa8f, 0x4ab0, 0x848f, 0x48c8, 0xe1a0, 0x1, 0x0);
        gbc.writeMem(0xab5c, { 0xc3, 0x55, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xa8f);
        EXPECT(gbc.pc(), 0x4e55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab5c), 0xc3);
        EXPECT(gbc.readMem(0xab5d), 0x55);
        EXPECT(gbc.readMem(0xab5e), 0x4e);
        // C3 01CD
        gbc.setState(0x7ff6, 0x3cba, 0x6240, 0x79df, 0xb0bf, 0xfd05, 0x0, 0x0);
        gbc.writeMem(0x7ff6, { 0xc3, 0x38, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x3cba);
        EXPECT(gbc.pc(), 0xe538);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 01CE
        gbc.setState(0x92f6, 0xf109, 0x70d0, 0xfcc3, 0x1451, 0xf7b4, 0x1, 0x0);
        gbc.writeMem(0x92f6, { 0xc3, 0x19, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xf109);
        EXPECT(gbc.pc(), 0x8719);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92f6), 0xc3);
        EXPECT(gbc.readMem(0x92f7), 0x19);
        EXPECT(gbc.readMem(0x92f8), 0x87);
        // C3 01CF
        gbc.setState(0xb2a9, 0x4f44, 0xc920, 0xc9af, 0xc930, 0x353e, 0x1, 0x1);
        gbc.writeMem(0xb2a9, { 0xc3, 0x54, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x4f44);
        EXPECT(gbc.pc(), 0xe154);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2a9), 0xc3);
        EXPECT(gbc.readMem(0xb2aa), 0x54);
        EXPECT(gbc.readMem(0xb2ab), 0xe1);
        // C3 01D0
        gbc.setState(0x31ad, 0x3d0a, 0xfe00, 0x13c0, 0xce02, 0x56a9, 0x1, 0x1);
        gbc.writeMem(0x31ad, { 0xc3, 0xe, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x3d0a);
        EXPECT(gbc.pc(), 0xec0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 01D1
        gbc.setState(0x5afc, 0xdd25, 0x7400, 0x9e38, 0x8043, 0x48b9, 0x0, 0x0);
        gbc.writeMem(0x5afc, { 0xc3, 0xfe, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xdd25);
        EXPECT(gbc.pc(), 0x5efe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 01D2
        gbc.setState(0x28ea, 0xc620, 0x6a80, 0xeb, 0xeaa7, 0xb3da, 0x1, 0x1);
        gbc.writeMem(0x28ea, { 0xc3, 0x23, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xc620);
        EXPECT(gbc.pc(), 0xec23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 01D3
        gbc.setState(0x9ff8, 0x9e20, 0xebf0, 0x533d, 0x11df, 0xcd31, 0x1, 0x0);
        gbc.writeMem(0x9ff8, { 0xc3, 0x2c, 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x9e20);
        EXPECT(gbc.pc(), 0x702c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ff8), 0xc3);
        EXPECT(gbc.readMem(0x9ff9), 0x2c);
        EXPECT(gbc.readMem(0x9ffa), 0x70);
        // C3 01D4
        gbc.setState(0x16ee, 0x5fa4, 0x3ee0, 0x935f, 0xb589, 0x4e1, 0x1, 0x1);
        gbc.writeMem(0x16ee, { 0xc3, 0x4c, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x5fa4);
        EXPECT(gbc.pc(), 0xae4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01D5
        gbc.setState(0x86a9, 0x95e5, 0x6bc0, 0xd96a, 0x2ddb, 0x4d54, 0x1, 0x1);
        gbc.writeMem(0x86a9, { 0xc3, 0x91, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x95e5);
        EXPECT(gbc.pc(), 0x3491);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86a9), 0xc3);
        EXPECT(gbc.readMem(0x86aa), 0x91);
        EXPECT(gbc.readMem(0x86ab), 0x34);
        // C3 01D6
        gbc.setState(0x1081, 0xb309, 0x90e0, 0xf50d, 0x3deb, 0x8d15, 0x0, 0x1);
        gbc.writeMem(0x1081, { 0xc3, 0x5f, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb309);
        EXPECT(gbc.pc(), 0xcf5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01D7
        gbc.setState(0x7cf9, 0xc134, 0xec30, 0x4f30, 0xc3da, 0x2628, 0x1, 0x1);
        gbc.writeMem(0x7cf9, { 0xc3, 0x4c, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xc134);
        EXPECT(gbc.pc(), 0x74c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 01D8
        gbc.setState(0x4371, 0x25ab, 0x92a0, 0x474a, 0x636b, 0xe58d, 0x1, 0x1);
        gbc.writeMem(0x4371, { 0xc3, 0x3b, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x25ab);
        EXPECT(gbc.pc(), 0x153b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01D9
        gbc.setState(0xd31c, 0x51ed, 0x9090, 0x94c6, 0xa3df, 0xd89f, 0x1, 0x1);
        gbc.writeMem(0xd31c, { 0xc3, 0x68, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x51ed);
        EXPECT(gbc.pc(), 0xac68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd31c), 0xc3);
        EXPECT(gbc.readMem(0xd31d), 0x68);
        EXPECT(gbc.readMem(0xd31e), 0xac);
        // C3 01DA
        gbc.setState(0xaf98, 0xd1c4, 0xe900, 0xb8cf, 0x425d, 0x8788, 0x0, 0x0);
        gbc.writeMem(0xaf98, { 0xc3, 0x26, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xd1c4);
        EXPECT(gbc.pc(), 0x1226);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf98), 0xc3);
        EXPECT(gbc.readMem(0xaf99), 0x26);
        EXPECT(gbc.readMem(0xaf9a), 0x12);
        // C3 01DB
        gbc.setState(0x312c, 0x7479, 0xbf90, 0xd58c, 0xe4b2, 0x2e6e, 0x0, 0x1);
        gbc.writeMem(0x312c, { 0xc3, 0x87, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x7479);
        EXPECT(gbc.pc(), 0xed87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01DC
        gbc.setState(0x8d04, 0xb6c7, 0x6fc0, 0xcfc2, 0x6a19, 0xd126, 0x1, 0x1);
        gbc.writeMem(0x8d04, { 0xc3, 0xd3, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xb6c7);
        EXPECT(gbc.pc(), 0x4d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d04), 0xc3);
        EXPECT(gbc.readMem(0x8d05), 0xd3);
        EXPECT(gbc.readMem(0x8d06), 0x4);
        // C3 01DD
        gbc.setState(0xbe1, 0xf02c, 0x6590, 0xbdfd, 0x45cb, 0x6610, 0x0, 0x0);
        gbc.writeMem(0xbe1, { 0xc3, 0x77, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xf02c);
        EXPECT(gbc.pc(), 0x2077);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01DE
        gbc.setState(0x3a83, 0x4dec, 0x3c00, 0x5a66, 0xa0e8, 0xf28c, 0x1, 0x1);
        gbc.writeMem(0x3a83, { 0xc3, 0xe, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x4dec);
        EXPECT(gbc.pc(), 0x970e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 01DF
        gbc.setState(0xa429, 0x310a, 0x23e0, 0x261a, 0x2fb0, 0xbda3, 0x0, 0x1);
        gbc.writeMem(0xa429, { 0xc3, 0x9f, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x310a);
        EXPECT(gbc.pc(), 0x519f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa429), 0xc3);
        EXPECT(gbc.readMem(0xa42a), 0x9f);
        EXPECT(gbc.readMem(0xa42b), 0x51);
        // C3 01E0
        gbc.setState(0xe45d, 0xd924, 0xc020, 0x7185, 0x18a3, 0x1c6c, 0x0, 0x1);
        gbc.writeMem(0xe45d, { 0xc3, 0xd, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xd924);
        EXPECT(gbc.pc(), 0x420d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe45d), 0xc3);
        EXPECT(gbc.readMem(0xe45e), 0xd);
        EXPECT(gbc.readMem(0xe45f), 0x42);
        // C3 01E1
        gbc.setState(0x332e, 0xab36, 0x6c60, 0xffae, 0x9193, 0xbbc7, 0x0, 0x1);
        gbc.writeMem(0x332e, { 0xc3, 0x86, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xab36);
        EXPECT(gbc.pc(), 0x7b86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01E3
        gbc.setState(0x63fa, 0x73ba, 0x5680, 0x5d1d, 0x380e, 0x95f2, 0x1, 0x1);
        gbc.writeMem(0x63fa, { 0xc3, 0xe1, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x73ba);
        EXPECT(gbc.pc(), 0x8ce1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 01E4
        gbc.setState(0x39ee, 0x52c3, 0x2040, 0x4382, 0x673a, 0x2d57, 0x1, 0x1);
        gbc.writeMem(0x39ee, { 0xc3, 0x83, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x52c3);
        EXPECT(gbc.pc(), 0xc783);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 01E5
        gbc.setState(0xdeb9, 0x1d46, 0x51b0, 0x5216, 0xdb42, 0xbabc, 0x0, 0x1);
        gbc.writeMem(0xdeb9, { 0xc3, 0xb8, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x1d46);
        EXPECT(gbc.pc(), 0xf5b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdeb9), 0xc3);
        EXPECT(gbc.readMem(0xdeba), 0xb8);
        EXPECT(gbc.readMem(0xdebb), 0xf5);
        // C3 01E7
        gbc.setState(0x7276, 0x66d1, 0x53c0, 0xf7d4, 0xe3c6, 0x8ba6, 0x1, 0x0);
        gbc.writeMem(0x7276, { 0xc3, 0x37, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x66d1);
        EXPECT(gbc.pc(), 0x6637);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 01E8
        gbc.setState(0x5dcf, 0x3006, 0x64c0, 0xbef6, 0xae7c, 0xf3e8, 0x1, 0x1);
        gbc.writeMem(0x5dcf, { 0xc3, 0x6b, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x3006);
        EXPECT(gbc.pc(), 0x9b6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 01E9
        gbc.setState(0x377c, 0xb4d6, 0x9a10, 0xf5e, 0x8c65, 0xf26e, 0x0, 0x1);
        gbc.writeMem(0x377c, { 0xc3, 0x9, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xb4d6);
        EXPECT(gbc.pc(), 0xcf09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01EA
        gbc.setState(0x5a8b, 0x4258, 0xe4d0, 0x9177, 0xac99, 0x6de6, 0x1, 0x1);
        gbc.writeMem(0x5a8b, { 0xc3, 0xae, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x4258);
        EXPECT(gbc.pc(), 0x8dae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01EB
        gbc.setState(0x1c7b, 0x7a7a, 0x6dc0, 0x20e7, 0x5bcd, 0x1f13, 0x0, 0x1);
        gbc.writeMem(0x1c7b, { 0xc3, 0xdf, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x7a7a);
        EXPECT(gbc.pc(), 0x22df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 01EC
        gbc.setState(0xc288, 0xb8d3, 0xd470, 0x785e, 0xda20, 0x1d11, 0x1, 0x0);
        gbc.writeMem(0xc288, { 0xc3, 0xce, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xb8d3);
        EXPECT(gbc.pc(), 0x86ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc288), 0xc3);
        EXPECT(gbc.readMem(0xc289), 0xce);
        EXPECT(gbc.readMem(0xc28a), 0x86);
        // C3 01ED
        gbc.setState(0x3eaa, 0x49f8, 0x2590, 0xa026, 0xb0f, 0xfc8b, 0x1, 0x1);
        gbc.writeMem(0x3eaa, { 0xc3, 0x13, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x49f8);
        EXPECT(gbc.pc(), 0x9613);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01EE
        gbc.setState(0x391, 0x8376, 0x8e20, 0x3b09, 0xfcc5, 0xb980, 0x0, 0x1);
        gbc.writeMem(0x391, { 0xc3, 0x51, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x8376);
        EXPECT(gbc.pc(), 0x5d51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01EF
        gbc.setState(0x378c, 0xebc6, 0x1e30, 0xf82a, 0x5487, 0x65c8, 0x1, 0x1);
        gbc.writeMem(0x378c, { 0xc3, 0x12, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xebc6);
        EXPECT(gbc.pc(), 0x8712);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 01F0
        gbc.setState(0xd7c9, 0x757d, 0x54c0, 0x39bf, 0xf686, 0xafa4, 0x0, 0x1);
        gbc.writeMem(0xd7c9, { 0xc3, 0x84, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x757d);
        EXPECT(gbc.pc(), 0xd584);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7c9), 0xc3);
        EXPECT(gbc.readMem(0xd7ca), 0x84);
        EXPECT(gbc.readMem(0xd7cb), 0xd5);
        // C3 01F1
        gbc.setState(0x3780, 0x8c00, 0x7d70, 0xf1ee, 0x4d3f, 0xf33a, 0x1, 0x0);
        gbc.writeMem(0x3780, { 0xc3, 0x10, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x8c00);
        EXPECT(gbc.pc(), 0x8810);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 01F2
        gbc.setState(0xefd9, 0xa1bc, 0x5750, 0x79fb, 0xacc6, 0xa44f, 0x0, 0x0);
        gbc.writeMem(0xefd9, { 0xc3, 0x31, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xa1bc);
        EXPECT(gbc.pc(), 0xf231);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefd9), 0xc3);
        EXPECT(gbc.readMem(0xefda), 0x31);
        EXPECT(gbc.readMem(0xefdb), 0xf2);
        // C3 01F3
        gbc.setState(0x6e02, 0x6923, 0xe810, 0x83d2, 0x70bd, 0xb891, 0x0, 0x1);
        gbc.writeMem(0x6e02, { 0xc3, 0xfc, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x6923);
        EXPECT(gbc.pc(), 0xaffc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01F4
        gbc.setState(0xb795, 0x145c, 0x70c0, 0x4fc6, 0xbec, 0xf873, 0x0, 0x0);
        gbc.writeMem(0xb795, { 0xc3, 0x13, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x145c);
        EXPECT(gbc.pc(), 0x1d13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb795), 0xc3);
        EXPECT(gbc.readMem(0xb796), 0x13);
        EXPECT(gbc.readMem(0xb797), 0x1d);
        // C3 01F5
        gbc.setState(0x2ec7, 0x1761, 0x41e0, 0x4537, 0x57e5, 0x2f2e, 0x1, 0x0);
        gbc.writeMem(0x2ec7, { 0xc3, 0xe8, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x1761);
        EXPECT(gbc.pc(), 0x1de8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01F6
        gbc.setState(0x9f03, 0x5d0a, 0x23c0, 0xcd92, 0x5a06, 0x2bff, 0x0, 0x0);
        gbc.writeMem(0x9f03, { 0xc3, 0x2b, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x5d0a);
        EXPECT(gbc.pc(), 0xbb2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f03), 0xc3);
        EXPECT(gbc.readMem(0x9f04), 0x2b);
        EXPECT(gbc.readMem(0x9f05), 0xbb);
        // C3 01F7
        gbc.setState(0x6b5d, 0xab6f, 0xce30, 0x6d5b, 0xe4b8, 0x8f6f, 0x0, 0x1);
        gbc.writeMem(0x6b5d, { 0xc3, 0xe3, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xab6f);
        EXPECT(gbc.pc(), 0x2be3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 01F8
        gbc.setState(0x71bf, 0x1551, 0xaad0, 0x1d03, 0x13cc, 0x7df5, 0x0, 0x1);
        gbc.writeMem(0x71bf, { 0xc3, 0x14, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x1551);
        EXPECT(gbc.pc(), 0xb114);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 01F9
        gbc.setState(0xe8c9, 0xf7f, 0x5900, 0x27e2, 0xdf68, 0x93b0, 0x1, 0x1);
        gbc.writeMem(0xe8c9, { 0xc3, 0xe9, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xf7f);
        EXPECT(gbc.pc(), 0xade9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8c9), 0xc3);
        EXPECT(gbc.readMem(0xe8ca), 0xe9);
        EXPECT(gbc.readMem(0xe8cb), 0xad);
        // C3 01FA
        gbc.setState(0x8041, 0x80b0, 0x6c10, 0x968d, 0x550b, 0xfaaa, 0x0, 0x0);
        gbc.writeMem(0x8041, { 0xc3, 0x6b, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x80b0);
        EXPECT(gbc.pc(), 0xb86b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8041), 0xc3);
        EXPECT(gbc.readMem(0x8042), 0x6b);
        EXPECT(gbc.readMem(0x8043), 0xb8);
        // C3 01FB
        gbc.setState(0x40e4, 0xdacd, 0xfb60, 0x9cbe, 0xe1ce, 0x89bf, 0x1, 0x0);
        gbc.writeMem(0x40e4, { 0xc3, 0xa5, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xdacd);
        EXPECT(gbc.pc(), 0x80a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01FC
        gbc.setState(0xefff, 0x8e6a, 0xe380, 0x9c52, 0x4f3f, 0x474a, 0x0, 0x0);
        gbc.writeMem(0xefff, { 0xc3, 0x27, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x8e6a);
        EXPECT(gbc.pc(), 0x427);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefff), 0xc3);
        EXPECT(gbc.readMem(0xf000), 0x27);
        EXPECT(gbc.readMem(0xf001), 0x4);
        // C3 01FD
        gbc.setState(0xa893, 0x3451, 0x4290, 0xaf5e, 0xbaa2, 0x4ca3, 0x1, 0x1);
        gbc.writeMem(0xa893, { 0xc3, 0xcd, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x3451);
        EXPECT(gbc.pc(), 0x52cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa893), 0xc3);
        EXPECT(gbc.readMem(0xa894), 0xcd);
        EXPECT(gbc.readMem(0xa895), 0x52);
        // C3 01FE
        gbc.setState(0x7e7c, 0x43aa, 0x9e60, 0x7e3, 0xc97e, 0x23a5, 0x0, 0x1);
        gbc.writeMem(0x7e7c, { 0xc3, 0x38, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x43aa);
        EXPECT(gbc.pc(), 0x7f38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 01FF
        gbc.setState(0x792b, 0x648, 0xa7f0, 0x97f0, 0x688e, 0x60d5, 0x1, 0x1);
        gbc.writeMem(0x792b, { 0xc3, 0x36, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x648);
        EXPECT(gbc.pc(), 0xce36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0200
        gbc.setState(0x704e, 0xa220, 0x83c0, 0x31ae, 0x19db, 0xeb3d, 0x1, 0x1);
        gbc.writeMem(0x704e, { 0xc3, 0xa3, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa220);
        EXPECT(gbc.pc(), 0x7ea3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0201
        gbc.setState(0xd432, 0xc064, 0x9ab0, 0xc165, 0x525b, 0xea74, 0x1, 0x1);
        gbc.writeMem(0xd432, { 0xc3, 0xc1, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xc064);
        EXPECT(gbc.pc(), 0x4ac1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd432), 0xc3);
        EXPECT(gbc.readMem(0xd433), 0xc1);
        EXPECT(gbc.readMem(0xd434), 0x4a);
        // C3 0202
        gbc.setState(0x53ac, 0x83be, 0xa0a0, 0x20e6, 0xb372, 0xc3a2, 0x0, 0x1);
        gbc.writeMem(0x53ac, { 0xc3, 0xa, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x83be);
        EXPECT(gbc.pc(), 0x20a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0203
        gbc.setState(0xef1e, 0xe98b, 0xabc0, 0x903e, 0xac28, 0x18c5, 0x1, 0x0);
        gbc.writeMem(0xef1e, { 0xc3, 0x65, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xe98b);
        EXPECT(gbc.pc(), 0xdb65);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef1e), 0xc3);
        EXPECT(gbc.readMem(0xef1f), 0x65);
        EXPECT(gbc.readMem(0xef20), 0xdb);
        // C3 0204
        gbc.setState(0x9d26, 0x1fb3, 0x9b30, 0x2dac, 0x8a00, 0xa7ef, 0x0, 0x0);
        gbc.writeMem(0x9d26, { 0xc3, 0x72, 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x1fb3);
        EXPECT(gbc.pc(), 0x2972);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d26), 0xc3);
        EXPECT(gbc.readMem(0x9d27), 0x72);
        EXPECT(gbc.readMem(0x9d28), 0x29);
        // C3 0205
        gbc.setState(0xcedb, 0x95, 0x38b0, 0xc02e, 0x74b0, 0x8f7d, 0x1, 0x0);
        gbc.writeMem(0xcedb, { 0xc3, 0xc2, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x95);
        EXPECT(gbc.pc(), 0x15c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcedb), 0xc3);
        EXPECT(gbc.readMem(0xcedc), 0xc2);
        EXPECT(gbc.readMem(0xcedd), 0x15);
        // C3 0206
        gbc.setState(0x76d4, 0x806e, 0x3020, 0xa38f, 0x13f6, 0xbf9c, 0x1, 0x1);
        gbc.writeMem(0x76d4, { 0xc3, 0x8b, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x806e);
        EXPECT(gbc.pc(), 0xb38b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0207
        gbc.setState(0xafa3, 0xfb5d, 0x9560, 0xd777, 0x3095, 0x97b1, 0x0, 0x1);
        gbc.writeMem(0xafa3, { 0xc3, 0xba, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xfb5d);
        EXPECT(gbc.pc(), 0xcaba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafa3), 0xc3);
        EXPECT(gbc.readMem(0xafa4), 0xba);
        EXPECT(gbc.readMem(0xafa5), 0xca);
        // C3 0208
        gbc.setState(0x8c5d, 0x3cf0, 0x4cf0, 0x5510, 0xcb23, 0xade4, 0x1, 0x0);
        gbc.writeMem(0x8c5d, { 0xc3, 0x72, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x3cf0);
        EXPECT(gbc.pc(), 0x8a72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c5d), 0xc3);
        EXPECT(gbc.readMem(0x8c5e), 0x72);
        EXPECT(gbc.readMem(0x8c5f), 0x8a);
        // C3 0209
        gbc.setState(0x34e1, 0x553b, 0xa0f0, 0x7aab, 0xd596, 0x8b82, 0x1, 0x1);
        gbc.writeMem(0x34e1, { 0xc3, 0x13, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x553b);
        EXPECT(gbc.pc(), 0x1f13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 020A
        gbc.setState(0x9238, 0x959b, 0x7680, 0x1219, 0xe5ea, 0x9c3, 0x0, 0x1);
        gbc.writeMem(0x9238, { 0xc3, 0x1f, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x959b);
        EXPECT(gbc.pc(), 0x301f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9238), 0xc3);
        EXPECT(gbc.readMem(0x9239), 0x1f);
        EXPECT(gbc.readMem(0x923a), 0x30);
        // C3 020B
        gbc.setState(0x32c3, 0xa659, 0xce60, 0x60d9, 0xd937, 0x145f, 0x0, 0x1);
        gbc.writeMem(0x32c3, { 0xc3, 0x58, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa659);
        EXPECT(gbc.pc(), 0x1b58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 020C
        gbc.setState(0x95a9, 0xa238, 0x8fa0, 0x174c, 0x6aab, 0x7737, 0x0, 0x1);
        gbc.writeMem(0x95a9, { 0xc3, 0x17, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xa238);
        EXPECT(gbc.pc(), 0x2817);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95a9), 0xc3);
        EXPECT(gbc.readMem(0x95aa), 0x17);
        EXPECT(gbc.readMem(0x95ab), 0x28);
        // C3 020D
        gbc.setState(0x40ec, 0xf9ca, 0x1ce0, 0x44f6, 0xfba5, 0x5bc2, 0x0, 0x1);
        gbc.writeMem(0x40ec, { 0xc3, 0xba, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xf9ca);
        EXPECT(gbc.pc(), 0x93ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 020E
        gbc.setState(0x80b7, 0xc78e, 0x6190, 0xc9ae, 0x62d, 0xba5b, 0x1, 0x0);
        gbc.writeMem(0x80b7, { 0xc3, 0x17, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xc78e);
        EXPECT(gbc.pc(), 0xc217);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80b7), 0xc3);
        EXPECT(gbc.readMem(0x80b8), 0x17);
        EXPECT(gbc.readMem(0x80b9), 0xc2);
        // C3 020F
        gbc.setState(0x215e, 0x18dc, 0x6ca0, 0x4c20, 0x13f5, 0xec46, 0x1, 0x0);
        gbc.writeMem(0x215e, { 0xc3, 0xc2, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x18dc);
        EXPECT(gbc.pc(), 0x93c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0210
        gbc.setState(0xede1, 0xae23, 0x69d0, 0xec87, 0x182e, 0x335a, 0x0, 0x0);
        gbc.writeMem(0xede1, { 0xc3, 0x33, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xae23);
        EXPECT(gbc.pc(), 0x8833);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xede1), 0xc3);
        EXPECT(gbc.readMem(0xede2), 0x33);
        EXPECT(gbc.readMem(0xede3), 0x88);
        // C3 0211
        gbc.setState(0xc5f8, 0x6e86, 0xfe80, 0x323e, 0x5e06, 0xf546, 0x0, 0x0);
        gbc.writeMem(0xc5f8, { 0xc3, 0x96, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x6e86);
        EXPECT(gbc.pc(), 0x1296);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5f8), 0xc3);
        EXPECT(gbc.readMem(0xc5f9), 0x96);
        EXPECT(gbc.readMem(0xc5fa), 0x12);
        // C3 0212
        gbc.setState(0x53d0, 0xb483, 0x2c30, 0x39fa, 0x16aa, 0x1bc4, 0x0, 0x1);
        gbc.writeMem(0x53d0, { 0xc3, 0x91, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xb483);
        EXPECT(gbc.pc(), 0xac91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0213
        gbc.setState(0xe4a0, 0x67de, 0x6770, 0xa70e, 0xf664, 0xe349, 0x0, 0x1);
        gbc.writeMem(0xe4a0, { 0xc3, 0xc9, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x67de);
        EXPECT(gbc.pc(), 0x50c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4a0), 0xc3);
        EXPECT(gbc.readMem(0xe4a1), 0xc9);
        EXPECT(gbc.readMem(0xe4a2), 0x50);
        // C3 0214
        gbc.setState(0xcd4e, 0x8e5a, 0x19a0, 0x4814, 0xd9f4, 0xdcdc, 0x0, 0x0);
        gbc.writeMem(0xcd4e, { 0xc3, 0xa9, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x8e5a);
        EXPECT(gbc.pc(), 0xfaa9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd4e), 0xc3);
        EXPECT(gbc.readMem(0xcd4f), 0xa9);
        EXPECT(gbc.readMem(0xcd50), 0xfa);
        // C3 0215
        gbc.setState(0xca63, 0xfdec, 0x6b90, 0x9541, 0xea5d, 0x5c24, 0x1, 0x0);
        gbc.writeMem(0xca63, { 0xc3, 0xd5, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xfdec);
        EXPECT(gbc.pc(), 0xcd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca63), 0xc3);
        EXPECT(gbc.readMem(0xca64), 0xd5);
        EXPECT(gbc.readMem(0xca65), 0xc);
        // C3 0216
        gbc.setState(0x88f5, 0xfe38, 0x1050, 0x3f21, 0xa3a0, 0x3ca7, 0x1, 0x1);
        gbc.writeMem(0x88f5, { 0xc3, 0xeb, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xfe38);
        EXPECT(gbc.pc(), 0xb1eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88f5), 0xc3);
        EXPECT(gbc.readMem(0x88f6), 0xeb);
        EXPECT(gbc.readMem(0x88f7), 0xb1);
        // C3 0217
        gbc.setState(0x7252, 0x1bbe, 0xedd0, 0x80b8, 0x3438, 0x1ac0, 0x1, 0x1);
        gbc.writeMem(0x7252, { 0xc3, 0x92, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x1bbe);
        EXPECT(gbc.pc(), 0x5892);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0218
        gbc.setState(0xe960, 0x418, 0xb690, 0xec17, 0x99ee, 0xfdd6, 0x0, 0x0);
        gbc.writeMem(0xe960, { 0xc3, 0x9a, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x418);
        EXPECT(gbc.pc(), 0x529a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe960), 0xc3);
        EXPECT(gbc.readMem(0xe961), 0x9a);
        EXPECT(gbc.readMem(0xe962), 0x52);
        // C3 0219
        gbc.setState(0x962a, 0xcfed, 0x770, 0xb06, 0x957d, 0x6f26, 0x1, 0x0);
        gbc.writeMem(0x962a, { 0xc3, 0xde, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xcfed);
        EXPECT(gbc.pc(), 0xdbde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x962a), 0xc3);
        EXPECT(gbc.readMem(0x962b), 0xde);
        EXPECT(gbc.readMem(0x962c), 0xdb);
        // C3 021A
        gbc.setState(0x3962, 0xc676, 0x8320, 0x2ed8, 0xce8e, 0xfa, 0x1, 0x0);
        gbc.writeMem(0x3962, { 0xc3, 0xd4, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xc676);
        EXPECT(gbc.pc(), 0x54d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 021B
        gbc.setState(0xdffe, 0xa4a1, 0x7bf0, 0x2e0, 0x4a3a, 0xde15, 0x0, 0x1);
        gbc.writeMem(0xdffe, { 0xc3, 0xe3, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xa4a1);
        EXPECT(gbc.pc(), 0x17e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdffe), 0xc3);
        EXPECT(gbc.readMem(0xdfff), 0xe3);
        EXPECT(gbc.readMem(0xe000), 0x17);
        // C3 021C
        gbc.setState(0x92dd, 0xe67a, 0xb400, 0x20e3, 0xeee3, 0xc9d4, 0x1, 0x1);
        gbc.writeMem(0x92dd, { 0xc3, 0xa4, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xe67a);
        EXPECT(gbc.pc(), 0x48a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92dd), 0xc3);
        EXPECT(gbc.readMem(0x92de), 0xa4);
        EXPECT(gbc.readMem(0x92df), 0x48);
        // C3 021D
        gbc.setState(0xe725, 0xe7e1, 0x7e30, 0xc2d8, 0x54f5, 0xd901, 0x0, 0x0);
        gbc.writeMem(0xe725, { 0xc3, 0x90, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xe7e1);
        EXPECT(gbc.pc(), 0x8290);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe725), 0xc3);
        EXPECT(gbc.readMem(0xe726), 0x90);
        EXPECT(gbc.readMem(0xe727), 0x82);
        // C3 021E
        gbc.setState(0xc229, 0xe3, 0x12e0, 0x7f6d, 0xe9f, 0xc968, 0x0, 0x0);
        gbc.writeMem(0xc229, { 0xc3, 0xc5, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xe3);
        EXPECT(gbc.pc(), 0xcbc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc229), 0xc3);
        EXPECT(gbc.readMem(0xc22a), 0xc5);
        EXPECT(gbc.readMem(0xc22b), 0xcb);
        // C3 021F
        gbc.setState(0xa363, 0x517c, 0xadb0, 0xe095, 0x9f16, 0xcabe, 0x0, 0x0);
        gbc.writeMem(0xa363, { 0xc3, 0x1c, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x517c);
        EXPECT(gbc.pc(), 0x1f1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa363), 0xc3);
        EXPECT(gbc.readMem(0xa364), 0x1c);
        EXPECT(gbc.readMem(0xa365), 0x1f);
        // C3 0220
        gbc.setState(0x1152, 0x4681, 0xb400, 0xac15, 0xe5f0, 0x85d2, 0x1, 0x0);
        gbc.writeMem(0x1152, { 0xc3, 0xaf, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x4681);
        EXPECT(gbc.pc(), 0x28af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0221
        gbc.setState(0x5540, 0xb87e, 0xf0f0, 0x7483, 0xb29f, 0xa590, 0x1, 0x0);
        gbc.writeMem(0x5540, { 0xc3, 0xba, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xb87e);
        EXPECT(gbc.pc(), 0xc0ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0222
        gbc.setState(0x15f6, 0x990e, 0xbac0, 0x14b0, 0xa2, 0x1851, 0x0, 0x0);
        gbc.writeMem(0x15f6, { 0xc3, 0x3a, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x990e);
        EXPECT(gbc.pc(), 0xf93a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0223
        gbc.setState(0xe721, 0x28ce, 0x29f0, 0xd6b6, 0x1617, 0x1823, 0x1, 0x1);
        gbc.writeMem(0xe721, { 0xc3, 0x7, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x28ce);
        EXPECT(gbc.pc(), 0x6f07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe721), 0xc3);
        EXPECT(gbc.readMem(0xe722), 0x7);
        EXPECT(gbc.readMem(0xe723), 0x6f);
        // C3 0224
        gbc.setState(0x5e25, 0x67ba, 0x94a0, 0x2509, 0xb9f3, 0x425b, 0x1, 0x0);
        gbc.writeMem(0x5e25, { 0xc3, 0x63, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x67ba);
        EXPECT(gbc.pc(), 0xa363);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0225
        gbc.setState(0x2276, 0x3e2a, 0x7b0, 0x8fb6, 0x5404, 0x5fdc, 0x0, 0x0);
        gbc.writeMem(0x2276, { 0xc3, 0x48, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x3e2a);
        EXPECT(gbc.pc(), 0x3148);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0226
        gbc.setState(0xdd4f, 0xe40e, 0xaa00, 0x4b4d, 0x3e75, 0x5dc, 0x0, 0x0);
        gbc.writeMem(0xdd4f, { 0xc3, 0x3, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xe40e);
        EXPECT(gbc.pc(), 0xec03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd4f), 0xc3);
        EXPECT(gbc.readMem(0xdd50), 0x3);
        EXPECT(gbc.readMem(0xdd51), 0xec);
        // C3 0227
        gbc.setState(0xe051, 0xeb53, 0xd400, 0x57ae, 0x1209, 0xac1e, 0x1, 0x0);
        gbc.writeMem(0xe051, { 0xc3, 0x37, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xeb53);
        EXPECT(gbc.pc(), 0x3337);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe051), 0xc3);
        EXPECT(gbc.readMem(0xe052), 0x37);
        EXPECT(gbc.readMem(0xe053), 0x33);
        // C3 0228
        gbc.setState(0x84b0, 0x6c4, 0x1af0, 0xa49c, 0xe983, 0x4fe9, 0x0, 0x0);
        gbc.writeMem(0x84b0, { 0xc3, 0x58, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x6c4);
        EXPECT(gbc.pc(), 0x558);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84b0), 0xc3);
        EXPECT(gbc.readMem(0x84b1), 0x58);
        EXPECT(gbc.readMem(0x84b2), 0x5);
        // C3 0229
        gbc.setState(0x9a8d, 0xfaea, 0xb8f0, 0x28c9, 0xaed0, 0xb550, 0x1, 0x1);
        gbc.writeMem(0x9a8d, { 0xc3, 0x89, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xfaea);
        EXPECT(gbc.pc(), 0xeb89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a8d), 0xc3);
        EXPECT(gbc.readMem(0x9a8e), 0x89);
        EXPECT(gbc.readMem(0x9a8f), 0xeb);
        // C3 022A
        gbc.setState(0xa22, 0x4af7, 0x5670, 0xe5d2, 0x6856, 0x4662, 0x1, 0x0);
        gbc.writeMem(0xa22, { 0xc3, 0x4f, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x4af7);
        EXPECT(gbc.pc(), 0xae4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 022B
        gbc.setState(0xc0b8, 0x1e07, 0xa9c0, 0x4f9a, 0x4d5b, 0x4a31, 0x0, 0x0);
        gbc.writeMem(0xc0b8, { 0xc3, 0x8c, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x1e07);
        EXPECT(gbc.pc(), 0x658c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0b8), 0xc3);
        EXPECT(gbc.readMem(0xc0b9), 0x8c);
        EXPECT(gbc.readMem(0xc0ba), 0x65);
        // C3 022C
        gbc.setState(0xaf5d, 0x9c6b, 0x8a0, 0x69e6, 0xb544, 0xc0a8, 0x1, 0x0);
        gbc.writeMem(0xaf5d, { 0xc3, 0xf6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x9c6b);
        EXPECT(gbc.pc(), 0xccf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf5d), 0xc3);
        EXPECT(gbc.readMem(0xaf5e), 0xf6);
        EXPECT(gbc.readMem(0xaf5f), 0xcc);
        // C3 022D
        gbc.setState(0x190f, 0x26, 0x840, 0xb0c8, 0x6346, 0x7ead, 0x0, 0x1);
        gbc.writeMem(0x190f, { 0xc3, 0x61, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x26);
        EXPECT(gbc.pc(), 0xfd61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 022E
        gbc.setState(0x9c78, 0xe5c7, 0xc6e0, 0x19e7, 0x870b, 0x609c, 0x0, 0x0);
        gbc.writeMem(0x9c78, { 0xc3, 0xd3, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xe5c7);
        EXPECT(gbc.pc(), 0xf5d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c78), 0xc3);
        EXPECT(gbc.readMem(0x9c79), 0xd3);
        EXPECT(gbc.readMem(0x9c7a), 0xf5);
        // C3 022F
        gbc.setState(0xc050, 0x824d, 0xb870, 0x6526, 0x55f, 0x5870, 0x0, 0x1);
        gbc.writeMem(0xc050, { 0xc3, 0xb3, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x824d);
        EXPECT(gbc.pc(), 0xb4b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc050), 0xc3);
        EXPECT(gbc.readMem(0xc051), 0xb3);
        EXPECT(gbc.readMem(0xc052), 0xb4);
        // C3 0230
        gbc.setState(0xaa6e, 0x4895, 0xf030, 0x76cb, 0xae48, 0x50fd, 0x1, 0x0);
        gbc.writeMem(0xaa6e, { 0xc3, 0xfd, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x4895);
        EXPECT(gbc.pc(), 0x4cfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa6e), 0xc3);
        EXPECT(gbc.readMem(0xaa6f), 0xfd);
        EXPECT(gbc.readMem(0xaa70), 0x4c);
        // C3 0231
        gbc.setState(0x8a0c, 0xbe26, 0xa310, 0xff69, 0x39fb, 0x73e3, 0x0, 0x1);
        gbc.writeMem(0x8a0c, { 0xc3, 0xb1, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xbe26);
        EXPECT(gbc.pc(), 0x2ab1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a0c), 0xc3);
        EXPECT(gbc.readMem(0x8a0d), 0xb1);
        EXPECT(gbc.readMem(0x8a0e), 0x2a);
        // C3 0232
        gbc.setState(0xce39, 0x7d27, 0x23a0, 0xbda3, 0x3ad4, 0xf124, 0x0, 0x1);
        gbc.writeMem(0xce39, { 0xc3, 0x99, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x7d27);
        EXPECT(gbc.pc(), 0xc599);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce39), 0xc3);
        EXPECT(gbc.readMem(0xce3a), 0x99);
        EXPECT(gbc.readMem(0xce3b), 0xc5);
        // C3 0233
        gbc.setState(0x895, 0x4b99, 0x7020, 0xcd5d, 0xc21f, 0x93ed, 0x1, 0x0);
        gbc.writeMem(0x895, { 0xc3, 0xdb, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x4b99);
        EXPECT(gbc.pc(), 0x9edb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0234
        gbc.setState(0x2d2, 0x7486, 0x3330, 0xabc4, 0x30c8, 0x987f, 0x1, 0x0);
        gbc.writeMem(0x2d2, { 0xc3, 0x27, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x7486);
        EXPECT(gbc.pc(), 0xdf27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0235
        gbc.setState(0xad46, 0x4a83, 0x2b10, 0xb12c, 0x1aec, 0x7129, 0x0, 0x1);
        gbc.writeMem(0xad46, { 0xc3, 0x2d, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x4a83);
        EXPECT(gbc.pc(), 0x162d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad46), 0xc3);
        EXPECT(gbc.readMem(0xad47), 0x2d);
        EXPECT(gbc.readMem(0xad48), 0x16);
        // C3 0236
        gbc.setState(0x4fc4, 0x751d, 0xc850, 0xe136, 0xd6a, 0x1208, 0x0, 0x0);
        gbc.writeMem(0x4fc4, { 0xc3, 0x54, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x751d);
        EXPECT(gbc.pc(), 0x2754);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0237
        gbc.setState(0x60fa, 0xaad7, 0x1c20, 0x4b1e, 0x49b7, 0xe76f, 0x0, 0x0);
        gbc.writeMem(0x60fa, { 0xc3, 0x72, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xaad7);
        EXPECT(gbc.pc(), 0xa072);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0239
        gbc.setState(0x60c, 0x1a6c, 0x730, 0x5509, 0x5960, 0xa7dd, 0x1, 0x1);
        gbc.writeMem(0x60c, { 0xc3, 0x72, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x1a6c);
        EXPECT(gbc.pc(), 0x2d72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 023A
        gbc.setState(0x7cff, 0x9c85, 0x2c20, 0xe050, 0x2b45, 0xe9e7, 0x0, 0x1);
        gbc.writeMem(0x7cff, { 0xc3, 0xe9, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9c85);
        EXPECT(gbc.pc(), 0x10e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 023B
        gbc.setState(0xd501, 0xf087, 0x1980, 0x6d95, 0x636f, 0x4414, 0x1, 0x0);
        gbc.writeMem(0xd501, { 0xc3, 0x19, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xf087);
        EXPECT(gbc.pc(), 0xd619);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd501), 0xc3);
        EXPECT(gbc.readMem(0xd502), 0x19);
        EXPECT(gbc.readMem(0xd503), 0xd6);
        // C3 023C
        gbc.setState(0x9f3a, 0x7001, 0x2a40, 0x3e5a, 0x4c12, 0x2ccc, 0x1, 0x1);
        gbc.writeMem(0x9f3a, { 0xc3, 0xf8, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x7001);
        EXPECT(gbc.pc(), 0x2bf8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f3a), 0xc3);
        EXPECT(gbc.readMem(0x9f3b), 0xf8);
        EXPECT(gbc.readMem(0x9f3c), 0x2b);
        // C3 023D
        gbc.setState(0xaa86, 0x2167, 0x6ff0, 0x4a82, 0x46f6, 0xfaeb, 0x0, 0x1);
        gbc.writeMem(0xaa86, { 0xc3, 0x6, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x2167);
        EXPECT(gbc.pc(), 0xba06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa86), 0xc3);
        EXPECT(gbc.readMem(0xaa87), 0x6);
        EXPECT(gbc.readMem(0xaa88), 0xba);
        // C3 023E
        gbc.setState(0xe1ac, 0xfae8, 0x8ec0, 0x8077, 0xceab, 0x9457, 0x0, 0x1);
        gbc.writeMem(0xe1ac, { 0xc3, 0x6a, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xfae8);
        EXPECT(gbc.pc(), 0xa6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1ac), 0xc3);
        EXPECT(gbc.readMem(0xe1ad), 0x6a);
        EXPECT(gbc.readMem(0xe1ae), 0xa);
        // C3 023F
        gbc.setState(0xc5, 0x292c, 0xfa20, 0xe35, 0xc79b, 0xf053, 0x1, 0x0);
        gbc.writeMem(0xc5, { 0xc3, 0xdc, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x292c);
        EXPECT(gbc.pc(), 0x58dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0240
        gbc.setState(0x320f, 0xf032, 0x9160, 0xad02, 0xe5ca, 0x13f4, 0x0, 0x0);
        gbc.writeMem(0x320f, { 0xc3, 0xd3, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xf032);
        EXPECT(gbc.pc(), 0xbbd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0241
        gbc.setState(0x7c7e, 0x5a3d, 0xc4e0, 0xa86f, 0x8a8d, 0x3733, 0x1, 0x1);
        gbc.writeMem(0x7c7e, { 0xc3, 0xb4, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x5a3d);
        EXPECT(gbc.pc(), 0xbfb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0242
        gbc.setState(0x406d, 0xf20c, 0xf640, 0xe56f, 0x8af7, 0x5c4c, 0x1, 0x1);
        gbc.writeMem(0x406d, { 0xc3, 0xd4, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xf20c);
        EXPECT(gbc.pc(), 0x69d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0243
        gbc.setState(0x1a7b, 0xc71c, 0xaf80, 0x2408, 0x233c, 0x11cd, 0x1, 0x1);
        gbc.writeMem(0x1a7b, { 0xc3, 0xc2, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xc71c);
        EXPECT(gbc.pc(), 0x47c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0244
        gbc.setState(0xe569, 0x4f6c, 0x6aa0, 0x95fd, 0x390a, 0x2df9, 0x0, 0x1);
        gbc.writeMem(0xe569, { 0xc3, 0x72, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x4f6c);
        EXPECT(gbc.pc(), 0xf572);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe569), 0xc3);
        EXPECT(gbc.readMem(0xe56a), 0x72);
        EXPECT(gbc.readMem(0xe56b), 0xf5);
        // C3 0245
        gbc.setState(0x9e76, 0xdb9a, 0x8760, 0xcc6e, 0x3a6b, 0x1ec, 0x1, 0x1);
        gbc.writeMem(0x9e76, { 0xc3, 0xe2, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xdb9a);
        EXPECT(gbc.pc(), 0x84e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e76), 0xc3);
        EXPECT(gbc.readMem(0x9e77), 0xe2);
        EXPECT(gbc.readMem(0x9e78), 0x84);
        // C3 0246
        gbc.setState(0x5e1e, 0x6d5e, 0x760, 0x675a, 0x8d7a, 0xcf9c, 0x1, 0x1);
        gbc.writeMem(0x5e1e, { 0xc3, 0xe9, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x6d5e);
        EXPECT(gbc.pc(), 0x84e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0247
        gbc.setState(0x9389, 0x7c40, 0x2f0, 0x886a, 0x7bc, 0x2e72, 0x0, 0x1);
        gbc.writeMem(0x9389, { 0xc3, 0xf7, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x7c40);
        EXPECT(gbc.pc(), 0xe0f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9389), 0xc3);
        EXPECT(gbc.readMem(0x938a), 0xf7);
        EXPECT(gbc.readMem(0x938b), 0xe0);
        // C3 0248
        gbc.setState(0x7459, 0x436d, 0xbe50, 0xa269, 0x9b44, 0x31fb, 0x1, 0x0);
        gbc.writeMem(0x7459, { 0xc3, 0x9f, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x436d);
        EXPECT(gbc.pc(), 0x1a9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0249
        gbc.setState(0x49f6, 0xe462, 0x53d0, 0xf760, 0x7791, 0x559, 0x1, 0x1);
        gbc.writeMem(0x49f6, { 0xc3, 0xc1, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xe462);
        EXPECT(gbc.pc(), 0x5cc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 024A
        gbc.setState(0x7463, 0x551e, 0x6620, 0x293d, 0x41e8, 0x12c4, 0x1, 0x1);
        gbc.writeMem(0x7463, { 0xc3, 0x1c, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x551e);
        EXPECT(gbc.pc(), 0xc61c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 024B
        gbc.setState(0xa115, 0xfdd2, 0x5cc0, 0x3465, 0x73ae, 0x5cd8, 0x1, 0x0);
        gbc.writeMem(0xa115, { 0xc3, 0xfd, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xfdd2);
        EXPECT(gbc.pc(), 0xd5fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa115), 0xc3);
        EXPECT(gbc.readMem(0xa116), 0xfd);
        EXPECT(gbc.readMem(0xa117), 0xd5);
        // C3 024C
        gbc.setState(0x29a2, 0x57a3, 0xcb20, 0xcc51, 0xe9d0, 0x3575, 0x0, 0x0);
        gbc.writeMem(0x29a2, { 0xc3, 0x46, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x57a3);
        EXPECT(gbc.pc(), 0x5346);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 024D
        gbc.setState(0xe9bb, 0x4633, 0xa2e0, 0x1113, 0xbe42, 0x8fb6, 0x0, 0x0);
        gbc.writeMem(0xe9bb, { 0xc3, 0x9c, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x4633);
        EXPECT(gbc.pc(), 0x579c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9bb), 0xc3);
        EXPECT(gbc.readMem(0xe9bc), 0x9c);
        EXPECT(gbc.readMem(0xe9bd), 0x57);
        // C3 024E
        gbc.setState(0xe226, 0x8413, 0x8ce0, 0x43aa, 0xca81, 0x7af9, 0x0, 0x1);
        gbc.writeMem(0xe226, { 0xc3, 0x8, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x8413);
        EXPECT(gbc.pc(), 0xdf08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe226), 0xc3);
        EXPECT(gbc.readMem(0xe227), 0x8);
        EXPECT(gbc.readMem(0xe228), 0xdf);
        // C3 024F
        gbc.setState(0x1089, 0x7530, 0x11c0, 0x135e, 0xe782, 0x7316, 0x0, 0x0);
        gbc.writeMem(0x1089, { 0xc3, 0x82, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x7530);
        EXPECT(gbc.pc(), 0x1482);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0250
        gbc.setState(0x22c3, 0x14b4, 0x80d0, 0x32b3, 0x899d, 0x9b37, 0x0, 0x1);
        gbc.writeMem(0x22c3, { 0xc3, 0x76, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x14b4);
        EXPECT(gbc.pc(), 0xce76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0251
        gbc.setState(0x88a9, 0x5c8d, 0x9900, 0x2601, 0x93e1, 0xc97d, 0x0, 0x1);
        gbc.writeMem(0x88a9, { 0xc3, 0x9e, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x5c8d);
        EXPECT(gbc.pc(), 0x5b9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88a9), 0xc3);
        EXPECT(gbc.readMem(0x88aa), 0x9e);
        EXPECT(gbc.readMem(0x88ab), 0x5b);
        // C3 0253
        gbc.setState(0xebf4, 0x71b6, 0xfac0, 0x9e95, 0x141f, 0xe3d3, 0x0, 0x1);
        gbc.writeMem(0xebf4, { 0xc3, 0x80, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x71b6);
        EXPECT(gbc.pc(), 0x1380);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebf4), 0xc3);
        EXPECT(gbc.readMem(0xebf5), 0x80);
        EXPECT(gbc.readMem(0xebf6), 0x13);
        // C3 0254
        gbc.setState(0x97e6, 0xea4c, 0x8230, 0x78b, 0x3c48, 0x3117, 0x0, 0x1);
        gbc.writeMem(0x97e6, { 0xc3, 0x68, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xea4c);
        EXPECT(gbc.pc(), 0x1068);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97e6), 0xc3);
        EXPECT(gbc.readMem(0x97e7), 0x68);
        EXPECT(gbc.readMem(0x97e8), 0x10);
        // C3 0255
        gbc.setState(0xc16b, 0x5f1f, 0x9820, 0x4ef6, 0xf7ae, 0xfb14, 0x0, 0x0);
        gbc.writeMem(0xc16b, { 0xc3, 0xa7, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x5f1f);
        EXPECT(gbc.pc(), 0x9fa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc16b), 0xc3);
        EXPECT(gbc.readMem(0xc16c), 0xa7);
        EXPECT(gbc.readMem(0xc16d), 0x9f);
        // C3 0256
        gbc.setState(0xd14a, 0x1fae, 0x49a0, 0x2b81, 0x71f3, 0x8e89, 0x0, 0x1);
        gbc.writeMem(0xd14a, { 0xc3, 0xdc, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x1fae);
        EXPECT(gbc.pc(), 0x37dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd14a), 0xc3);
        EXPECT(gbc.readMem(0xd14b), 0xdc);
        EXPECT(gbc.readMem(0xd14c), 0x37);
        // C3 0257
        gbc.setState(0x8431, 0xa2bd, 0xbff0, 0x4fcf, 0xf325, 0x4ace, 0x0, 0x0);
        gbc.writeMem(0x8431, { 0xc3, 0x12, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xa2bd);
        EXPECT(gbc.pc(), 0x5c12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8431), 0xc3);
        EXPECT(gbc.readMem(0x8432), 0x12);
        EXPECT(gbc.readMem(0x8433), 0x5c);
        // C3 0259
        gbc.setState(0x1531, 0x63d1, 0xaa30, 0x1cca, 0x8a78, 0x1ca6, 0x1, 0x0);
        gbc.writeMem(0x1531, { 0xc3, 0xba, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x63d1);
        EXPECT(gbc.pc(), 0xceba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 025A
        gbc.setState(0x965e, 0x72b2, 0x4e30, 0x3768, 0xbedc, 0x7a70, 0x0, 0x1);
        gbc.writeMem(0x965e, { 0xc3, 0x2d, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x72b2);
        EXPECT(gbc.pc(), 0xda2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x965e), 0xc3);
        EXPECT(gbc.readMem(0x965f), 0x2d);
        EXPECT(gbc.readMem(0x9660), 0xda);
        // C3 025B
        gbc.setState(0xb42f, 0x10c2, 0xa110, 0xce3b, 0x45da, 0xe8d4, 0x1, 0x1);
        gbc.writeMem(0xb42f, { 0xc3, 0x9, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x10c2);
        EXPECT(gbc.pc(), 0x3409);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb42f), 0xc3);
        EXPECT(gbc.readMem(0xb430), 0x9);
        EXPECT(gbc.readMem(0xb431), 0x34);
        // C3 025C
        gbc.setState(0x992e, 0x92ac, 0x33c0, 0xe8f6, 0x3923, 0xac7f, 0x0, 0x1);
        gbc.writeMem(0x992e, { 0xc3, 0x73, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x92ac);
        EXPECT(gbc.pc(), 0xba73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x992e), 0xc3);
        EXPECT(gbc.readMem(0x992f), 0x73);
        EXPECT(gbc.readMem(0x9930), 0xba);
        // C3 025D
        gbc.setState(0x34cb, 0xb228, 0x8830, 0xbeac, 0xb035, 0x638f, 0x0, 0x0);
        gbc.writeMem(0x34cb, { 0xc3, 0xbb, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xb228);
        EXPECT(gbc.pc(), 0x65bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 025F
        gbc.setState(0xcda0, 0xd785, 0x2b0, 0xf9ce, 0xc5c6, 0x2349, 0x0, 0x1);
        gbc.writeMem(0xcda0, { 0xc3, 0xf6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xd785);
        EXPECT(gbc.pc(), 0xf0f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcda0), 0xc3);
        EXPECT(gbc.readMem(0xcda1), 0xf6);
        EXPECT(gbc.readMem(0xcda2), 0xf0);
        // C3 0260
        gbc.setState(0x8854, 0x32ae, 0xaf20, 0x74e, 0x7455, 0x87db, 0x1, 0x0);
        gbc.writeMem(0x8854, { 0xc3, 0xbe, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x32ae);
        EXPECT(gbc.pc(), 0xc9be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8854), 0xc3);
        EXPECT(gbc.readMem(0x8855), 0xbe);
        EXPECT(gbc.readMem(0x8856), 0xc9);
        // C3 0261
        gbc.setState(0x2728, 0x5ae, 0xca30, 0x237, 0xf9ec, 0x9990, 0x0, 0x1);
        gbc.writeMem(0x2728, { 0xc3, 0xc2, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x5ae);
        EXPECT(gbc.pc(), 0xedc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0262
        gbc.setState(0xb6b4, 0x6207, 0x3f00, 0xfedd, 0x8a2f, 0x6cc2, 0x0, 0x1);
        gbc.writeMem(0xb6b4, { 0xc3, 0xa3, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x6207);
        EXPECT(gbc.pc(), 0x82a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6b4), 0xc3);
        EXPECT(gbc.readMem(0xb6b5), 0xa3);
        EXPECT(gbc.readMem(0xb6b6), 0x82);
        // C3 0263
        gbc.setState(0x12b8, 0x5655, 0x4000, 0x8759, 0xf801, 0x302d, 0x0, 0x1);
        gbc.writeMem(0x12b8, { 0xc3, 0x76, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5655);
        EXPECT(gbc.pc(), 0x6576);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0265
        gbc.setState(0xb2b, 0xa04c, 0x60, 0xb36d, 0xa7f7, 0x438d, 0x0, 0x1);
        gbc.writeMem(0xb2b, { 0xc3, 0xda, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xa04c);
        EXPECT(gbc.pc(), 0x5eda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0266
        gbc.setState(0xab34, 0x7a23, 0x3aa0, 0xb432, 0x93bd, 0xd66a, 0x1, 0x1);
        gbc.writeMem(0xab34, { 0xc3, 0x20, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x7a23);
        EXPECT(gbc.pc(), 0xa420);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab34), 0xc3);
        EXPECT(gbc.readMem(0xab35), 0x20);
        EXPECT(gbc.readMem(0xab36), 0xa4);
        // C3 0267
        gbc.setState(0xabd5, 0x43f1, 0xcbd0, 0xce31, 0xea7f, 0x857e, 0x0, 0x1);
        gbc.writeMem(0xabd5, { 0xc3, 0xf0, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x43f1);
        EXPECT(gbc.pc(), 0x98f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabd5), 0xc3);
        EXPECT(gbc.readMem(0xabd6), 0xf0);
        EXPECT(gbc.readMem(0xabd7), 0x98);
        // C3 0269
        gbc.setState(0xa655, 0x6648, 0x42e0, 0xd0, 0x4a36, 0xe4a9, 0x1, 0x0);
        gbc.writeMem(0xa655, { 0xc3, 0xa, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x6648);
        EXPECT(gbc.pc(), 0x170a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa655), 0xc3);
        EXPECT(gbc.readMem(0xa656), 0xa);
        EXPECT(gbc.readMem(0xa657), 0x17);
        // C3 026A
        gbc.setState(0xb10e, 0x79b, 0x69c0, 0x3e21, 0xf742, 0x850c, 0x1, 0x1);
        gbc.writeMem(0xb10e, { 0xc3, 0x4c, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x79b);
        EXPECT(gbc.pc(), 0x8b4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb10e), 0xc3);
        EXPECT(gbc.readMem(0xb10f), 0x4c);
        EXPECT(gbc.readMem(0xb110), 0x8b);
        // C3 026B
        gbc.setState(0xdd40, 0xc5b2, 0xa220, 0x14ce, 0xef71, 0x2daa, 0x0, 0x0);
        gbc.writeMem(0xdd40, { 0xc3, 0x2b, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xc5b2);
        EXPECT(gbc.pc(), 0x1d2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd40), 0xc3);
        EXPECT(gbc.readMem(0xdd41), 0x2b);
        EXPECT(gbc.readMem(0xdd42), 0x1d);
        // C3 026C
        gbc.setState(0x423b, 0xbd35, 0xf900, 0x66f0, 0xa9f1, 0x5e1b, 0x0, 0x1);
        gbc.writeMem(0x423b, { 0xc3, 0x21, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xbd35);
        EXPECT(gbc.pc(), 0x5b21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 026D
        gbc.setState(0x461a, 0x6bbb, 0xf8a0, 0x96fa, 0x20f8, 0xe4e, 0x0, 0x1);
        gbc.writeMem(0x461a, { 0xc3, 0xbd, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x6bbb);
        EXPECT(gbc.pc(), 0x1cbd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 026E
        gbc.setState(0xdf00, 0xc378, 0x5ed0, 0x8eaf, 0x380c, 0x9a3e, 0x0, 0x1);
        gbc.writeMem(0xdf00, { 0xc3, 0xb0, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xc378);
        EXPECT(gbc.pc(), 0x48b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf00), 0xc3);
        EXPECT(gbc.readMem(0xdf01), 0xb0);
        EXPECT(gbc.readMem(0xdf02), 0x48);
        // C3 026F
        gbc.setState(0x767, 0x23d2, 0xed10, 0x2968, 0x4453, 0x1283, 0x0, 0x0);
        gbc.writeMem(0x767, { 0xc3, 0x7b, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x23d2);
        EXPECT(gbc.pc(), 0x797b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0270
        gbc.setState(0x68ce, 0xceff, 0x4cc0, 0xe5c9, 0xcf83, 0xf78a, 0x1, 0x1);
        gbc.writeMem(0x68ce, { 0xc3, 0x3c, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xceff);
        EXPECT(gbc.pc(), 0x863c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0271
        gbc.setState(0x919d, 0x8c90, 0xc580, 0xfc18, 0x50bb, 0xd441, 0x1, 0x1);
        gbc.writeMem(0x919d, { 0xc3, 0x21, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x8c90);
        EXPECT(gbc.pc(), 0x4821);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x919d), 0xc3);
        EXPECT(gbc.readMem(0x919e), 0x21);
        EXPECT(gbc.readMem(0x919f), 0x48);
        // C3 0272
        gbc.setState(0x1f37, 0xe307, 0x1480, 0x48d0, 0xe5cb, 0x1086, 0x1, 0x0);
        gbc.writeMem(0x1f37, { 0xc3, 0x1e, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xe307);
        EXPECT(gbc.pc(), 0x961e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0273
        gbc.setState(0x8b65, 0x8bd, 0xc0, 0x8af8, 0x7a78, 0x1375, 0x0, 0x0);
        gbc.writeMem(0x8b65, { 0xc3, 0xdb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x8bd);
        EXPECT(gbc.pc(), 0xbdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b65), 0xc3);
        EXPECT(gbc.readMem(0x8b66), 0xdb);
        EXPECT(gbc.readMem(0x8b67), 0xb);
        // C3 0274
        gbc.setState(0x2629, 0x8cc9, 0x9e00, 0x4328, 0xebf0, 0x8e9f, 0x0, 0x1);
        gbc.writeMem(0x2629, { 0xc3, 0x3c, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x8cc9);
        EXPECT(gbc.pc(), 0x6d3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0275
        gbc.setState(0xd66e, 0x9237, 0xe200, 0x8bc, 0xd40e, 0x8907, 0x0, 0x0);
        gbc.writeMem(0xd66e, { 0xc3, 0x86, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x9237);
        EXPECT(gbc.pc(), 0xa286);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd66e), 0xc3);
        EXPECT(gbc.readMem(0xd66f), 0x86);
        EXPECT(gbc.readMem(0xd670), 0xa2);
        // C3 0276
        gbc.setState(0x3b2b, 0x5be, 0x1af0, 0x9301, 0x200e, 0xb071, 0x1, 0x1);
        gbc.writeMem(0x3b2b, { 0xc3, 0x89, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x5be);
        EXPECT(gbc.pc(), 0x4589);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0277
        gbc.setState(0xb6e5, 0xca4f, 0x5ff0, 0xc706, 0x75a0, 0x9e74, 0x1, 0x1);
        gbc.writeMem(0xb6e5, { 0xc3, 0xd3, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xca4f);
        EXPECT(gbc.pc(), 0x76d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6e5), 0xc3);
        EXPECT(gbc.readMem(0xb6e6), 0xd3);
        EXPECT(gbc.readMem(0xb6e7), 0x76);
        // C3 0278
        gbc.setState(0xee6c, 0x76b4, 0x8c80, 0x1410, 0xe94a, 0xb1a3, 0x0, 0x1);
        gbc.writeMem(0xee6c, { 0xc3, 0xe3, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x76b4);
        EXPECT(gbc.pc(), 0x7e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee6c), 0xc3);
        EXPECT(gbc.readMem(0xee6d), 0xe3);
        EXPECT(gbc.readMem(0xee6e), 0x7);
        // C3 0279
        gbc.setState(0x5eb1, 0xe531, 0xefe0, 0x7b76, 0xc738, 0x78a, 0x1, 0x0);
        gbc.writeMem(0x5eb1, { 0xc3, 0x3c, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xe531);
        EXPECT(gbc.pc(), 0x213c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 027A
        gbc.setState(0x7a3, 0xa5db, 0x4b30, 0x6d6f, 0x17c6, 0x6a38, 0x1, 0x0);
        gbc.writeMem(0x7a3, { 0xc3, 0xa3, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xa5db);
        EXPECT(gbc.pc(), 0x23a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 027B
        gbc.setState(0xb92f, 0xcd1a, 0x8e00, 0xcbb0, 0x304a, 0x2557, 0x1, 0x1);
        gbc.writeMem(0xb92f, { 0xc3, 0xcd, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xcd1a);
        EXPECT(gbc.pc(), 0x9fcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb92f), 0xc3);
        EXPECT(gbc.readMem(0xb930), 0xcd);
        EXPECT(gbc.readMem(0xb931), 0x9f);
        // C3 027C
        gbc.setState(0xcc78, 0xfd54, 0x4de0, 0xc49d, 0x9c8f, 0x3e99, 0x0, 0x1);
        gbc.writeMem(0xcc78, { 0xc3, 0x30, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xfd54);
        EXPECT(gbc.pc(), 0xcc30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc78), 0xc3);
        EXPECT(gbc.readMem(0xcc79), 0x30);
        EXPECT(gbc.readMem(0xcc7a), 0xcc);
        // C3 027D
        gbc.setState(0xc2e9, 0x572c, 0xedb0, 0xfcfb, 0xc0e4, 0x32ca, 0x0, 0x1);
        gbc.writeMem(0xc2e9, { 0xc3, 0x52, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x572c);
        EXPECT(gbc.pc(), 0xe752);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2e9), 0xc3);
        EXPECT(gbc.readMem(0xc2ea), 0x52);
        EXPECT(gbc.readMem(0xc2eb), 0xe7);
        // C3 027E
        gbc.setState(0x717, 0x2585, 0x6050, 0x5da1, 0xdd47, 0xd2f0, 0x1, 0x1);
        gbc.writeMem(0x717, { 0xc3, 0x20, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x2585);
        EXPECT(gbc.pc(), 0x1320);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 027F
        gbc.setState(0x9202, 0xb503, 0x8590, 0xe6d0, 0x5218, 0x5618, 0x0, 0x0);
        gbc.writeMem(0x9202, { 0xc3, 0x34, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xb503);
        EXPECT(gbc.pc(), 0x1434);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9202), 0xc3);
        EXPECT(gbc.readMem(0x9203), 0x34);
        EXPECT(gbc.readMem(0x9204), 0x14);
        // C3 0280
        gbc.setState(0x954d, 0x2dbc, 0x2630, 0x950, 0x1955, 0xfe11, 0x0, 0x1);
        gbc.writeMem(0x954d, { 0xc3, 0x4a, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x2dbc);
        EXPECT(gbc.pc(), 0xee4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x954d), 0xc3);
        EXPECT(gbc.readMem(0x954e), 0x4a);
        EXPECT(gbc.readMem(0x954f), 0xee);
        // C3 0281
        gbc.setState(0x711e, 0xa7e4, 0xfb0, 0x591f, 0x5b2a, 0xc40f, 0x1, 0x1);
        gbc.writeMem(0x711e, { 0xc3, 0xd2, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xa7e4);
        EXPECT(gbc.pc(), 0xd2d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0282
        gbc.setState(0x7d66, 0x904b, 0x6390, 0xbc52, 0x884d, 0xdde, 0x1, 0x1);
        gbc.writeMem(0x7d66, { 0xc3, 0xa4, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x904b);
        EXPECT(gbc.pc(), 0xba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0283
        gbc.setState(0x8f78, 0xbf50, 0xc320, 0x2363, 0xa7b7, 0xce54, 0x0, 0x1);
        gbc.writeMem(0x8f78, { 0xc3, 0x25, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xbf50);
        EXPECT(gbc.pc(), 0xcc25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f78), 0xc3);
        EXPECT(gbc.readMem(0x8f79), 0x25);
        EXPECT(gbc.readMem(0x8f7a), 0xcc);
        // C3 0284
        gbc.setState(0x87d2, 0x231f, 0xbab0, 0x3df0, 0x462b, 0x614c, 0x1, 0x1);
        gbc.writeMem(0x87d2, { 0xc3, 0xd, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x231f);
        EXPECT(gbc.pc(), 0x600d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87d2), 0xc3);
        EXPECT(gbc.readMem(0x87d3), 0xd);
        EXPECT(gbc.readMem(0x87d4), 0x60);
        // C3 0285
        gbc.setState(0x21dd, 0x2394, 0xb740, 0x9090, 0xe01f, 0xdc57, 0x1, 0x0);
        gbc.writeMem(0x21dd, { 0xc3, 0xc7, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x2394);
        EXPECT(gbc.pc(), 0xc1c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0286
        gbc.setState(0xd9ac, 0xc269, 0x5150, 0x7396, 0x2442, 0xd3c3, 0x1, 0x0);
        gbc.writeMem(0xd9ac, { 0xc3, 0x8, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xc269);
        EXPECT(gbc.pc(), 0xfd08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9ac), 0xc3);
        EXPECT(gbc.readMem(0xd9ad), 0x8);
        EXPECT(gbc.readMem(0xd9ae), 0xfd);
        // C3 0287
        gbc.setState(0x77fe, 0xc804, 0xd50, 0xb768, 0x9dc3, 0x7802, 0x0, 0x0);
        gbc.writeMem(0x77fe, { 0xc3, 0x45, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xc804);
        EXPECT(gbc.pc(), 0x5745);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0288
        gbc.setState(0x22b0, 0xf637, 0x7e50, 0x8f3a, 0xb916, 0x2dd9, 0x0, 0x1);
        gbc.writeMem(0x22b0, { 0xc3, 0x75, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xf637);
        EXPECT(gbc.pc(), 0x875);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0289
        gbc.setState(0xe903, 0x7249, 0x2480, 0xc65f, 0xac37, 0x7ac, 0x1, 0x1);
        gbc.writeMem(0xe903, { 0xc3, 0x70, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x7249);
        EXPECT(gbc.pc(), 0xad70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe903), 0xc3);
        EXPECT(gbc.readMem(0xe904), 0x70);
        EXPECT(gbc.readMem(0xe905), 0xad);
        // C3 028A
        gbc.setState(0xba93, 0x2a2f, 0xc840, 0x2e5, 0xd7ac, 0x1554, 0x0, 0x1);
        gbc.writeMem(0xba93, { 0xc3, 0x3a, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x2a2f);
        EXPECT(gbc.pc(), 0xc3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba93), 0xc3);
        EXPECT(gbc.readMem(0xba94), 0x3a);
        EXPECT(gbc.readMem(0xba95), 0xc);
        // C3 028B
        gbc.setState(0x13d6, 0xaabd, 0x1250, 0x4182, 0x821, 0x3024, 0x1, 0x0);
        gbc.writeMem(0x13d6, { 0xc3, 0xf1, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xaabd);
        EXPECT(gbc.pc(), 0xf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 028C
        gbc.setState(0x16a4, 0xdd0, 0xbec0, 0x4683, 0x15f0, 0x9652, 0x1, 0x0);
        gbc.writeMem(0x16a4, { 0xc3, 0x7e, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xdd0);
        EXPECT(gbc.pc(), 0x697e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 028D
        gbc.setState(0xe4ba, 0x7a8a, 0xd10, 0xaa44, 0xe1bc, 0x465f, 0x0, 0x1);
        gbc.writeMem(0xe4ba, { 0xc3, 0x3b, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x7a8a);
        EXPECT(gbc.pc(), 0x893b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4ba), 0xc3);
        EXPECT(gbc.readMem(0xe4bb), 0x3b);
        EXPECT(gbc.readMem(0xe4bc), 0x89);
        // C3 028E
        gbc.setState(0x45fe, 0xbb20, 0xcc30, 0x49d3, 0x27bb, 0xfb4f, 0x1, 0x1);
        gbc.writeMem(0x45fe, { 0xc3, 0x5b, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xbb20);
        EXPECT(gbc.pc(), 0xe45b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 028F
        gbc.setState(0x7fae, 0x2ca, 0xe9c0, 0x694c, 0xe04c, 0xe7b0, 0x1, 0x1);
        gbc.writeMem(0x7fae, { 0xc3, 0x6f, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x2ca);
        EXPECT(gbc.pc(), 0x816f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0290
        gbc.setState(0xbca9, 0xce0e, 0xb180, 0xfc15, 0xa6b8, 0x4d11, 0x1, 0x0);
        gbc.writeMem(0xbca9, { 0xc3, 0xf, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xce0e);
        EXPECT(gbc.pc(), 0xa0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbca9), 0xc3);
        EXPECT(gbc.readMem(0xbcaa), 0xf);
        EXPECT(gbc.readMem(0xbcab), 0xa);
        // C3 0291
        gbc.setState(0x945a, 0x5c12, 0x8cd0, 0x3bbe, 0xc483, 0xbfc0, 0x1, 0x1);
        gbc.writeMem(0x945a, { 0xc3, 0xad, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x5c12);
        EXPECT(gbc.pc(), 0xfbad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x945a), 0xc3);
        EXPECT(gbc.readMem(0x945b), 0xad);
        EXPECT(gbc.readMem(0x945c), 0xfb);
        // C3 0292
        gbc.setState(0x73ac, 0x6f1d, 0xdd80, 0x56cf, 0x5b9d, 0x6ba1, 0x0, 0x0);
        gbc.writeMem(0x73ac, { 0xc3, 0x7c, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x6f1d);
        EXPECT(gbc.pc(), 0x427c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0293
        gbc.setState(0xd661, 0x43fd, 0x4f80, 0xe3ae, 0xa322, 0xa0c1, 0x1, 0x0);
        gbc.writeMem(0xd661, { 0xc3, 0xe, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x43fd);
        EXPECT(gbc.pc(), 0xcf0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd661), 0xc3);
        EXPECT(gbc.readMem(0xd662), 0xe);
        EXPECT(gbc.readMem(0xd663), 0xcf);
        // C3 0294
        gbc.setState(0xcedf, 0x1c56, 0x5430, 0xc0b9, 0x869c, 0x1e02, 0x0, 0x0);
        gbc.writeMem(0xcedf, { 0xc3, 0xd1, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x1c56);
        EXPECT(gbc.pc(), 0xb0d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcedf), 0xc3);
        EXPECT(gbc.readMem(0xcee0), 0xd1);
        EXPECT(gbc.readMem(0xcee1), 0xb0);
        // C3 0295
        gbc.setState(0x1280, 0x840a, 0x2020, 0x8b75, 0xd734, 0x2f8b, 0x0, 0x1);
        gbc.writeMem(0x1280, { 0xc3, 0xf3, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x840a);
        EXPECT(gbc.pc(), 0xdbf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0296
        gbc.setState(0xaf0e, 0xff81, 0xd70, 0xe662, 0xcd3b, 0x579a, 0x1, 0x1);
        gbc.writeMem(0xaf0e, { 0xc3, 0xc6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xff81);
        EXPECT(gbc.pc(), 0xdfc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf0e), 0xc3);
        EXPECT(gbc.readMem(0xaf0f), 0xc6);
        EXPECT(gbc.readMem(0xaf10), 0xdf);
        // C3 0297
        gbc.setState(0xb8da, 0xee4a, 0xd120, 0x5d4a, 0x6ce3, 0x9654, 0x1, 0x1);
        gbc.writeMem(0xb8da, { 0xc3, 0xef, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xee4a);
        EXPECT(gbc.pc(), 0xecef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8da), 0xc3);
        EXPECT(gbc.readMem(0xb8db), 0xef);
        EXPECT(gbc.readMem(0xb8dc), 0xec);
        // C3 0299
        gbc.setState(0x14a, 0x4859, 0x1100, 0xd6b3, 0xc95c, 0x1cec, 0x1, 0x0);
        gbc.writeMem(0x14a, { 0xc3, 0xc9, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x4859);
        EXPECT(gbc.pc(), 0x3dc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 029A
        gbc.setState(0xc7c3, 0xc67c, 0x2f60, 0xf5ef, 0xaa25, 0x18c6, 0x0, 0x0);
        gbc.writeMem(0xc7c3, { 0xc3, 0xe9, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc67c);
        EXPECT(gbc.pc(), 0x5fe9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7c3), 0xc3);
        EXPECT(gbc.readMem(0xc7c4), 0xe9);
        EXPECT(gbc.readMem(0xc7c5), 0x5f);
        // C3 029B
        gbc.setState(0xb68e, 0x9c38, 0x1830, 0x26ab, 0x94e1, 0x4eb5, 0x0, 0x0);
        gbc.writeMem(0xb68e, { 0xc3, 0x68, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x9c38);
        EXPECT(gbc.pc(), 0x6668);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb68e), 0xc3);
        EXPECT(gbc.readMem(0xb68f), 0x68);
        EXPECT(gbc.readMem(0xb690), 0x66);
        // C3 029C
        gbc.setState(0x2686, 0x4ba2, 0x65a0, 0x3952, 0x64b4, 0x7037, 0x0, 0x0);
        gbc.writeMem(0x2686, { 0xc3, 0x19, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x4ba2);
        EXPECT(gbc.pc(), 0x4119);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 029D
        gbc.setState(0x6aa2, 0xe8f0, 0x6ce0, 0x3276, 0xb9b5, 0x5211, 0x1, 0x1);
        gbc.writeMem(0x6aa2, { 0xc3, 0x61, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xe8f0);
        EXPECT(gbc.pc(), 0x7e61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 029E
        gbc.setState(0xce2c, 0x32a, 0x860, 0x39b3, 0x1395, 0x1414, 0x1, 0x0);
        gbc.writeMem(0xce2c, { 0xc3, 0x95, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x32a);
        EXPECT(gbc.pc(), 0x2c95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce2c), 0xc3);
        EXPECT(gbc.readMem(0xce2d), 0x95);
        EXPECT(gbc.readMem(0xce2e), 0x2c);
        // C3 02A0
        gbc.setState(0x3fa9, 0xbed, 0x3cc0, 0xb51c, 0xd02e, 0xf0b9, 0x1, 0x0);
        gbc.writeMem(0x3fa9, { 0xc3, 0x6d, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xbed);
        EXPECT(gbc.pc(), 0xfd6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02A1
        gbc.setState(0xea20, 0x4c55, 0xb90, 0x8951, 0x4ccd, 0xcf08, 0x1, 0x0);
        gbc.writeMem(0xea20, { 0xc3, 0x57, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x4c55);
        EXPECT(gbc.pc(), 0xb157);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea20), 0xc3);
        EXPECT(gbc.readMem(0xea21), 0x57);
        EXPECT(gbc.readMem(0xea22), 0xb1);
        // C3 02A2
        gbc.setState(0x3116, 0x4734, 0xb590, 0xc28e, 0x50aa, 0x59a0, 0x1, 0x1);
        gbc.writeMem(0x3116, { 0xc3, 0xe7, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x4734);
        EXPECT(gbc.pc(), 0x98e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 02A3
        gbc.setState(0x1364, 0xc8c8, 0x3490, 0x92b2, 0xb633, 0xcda8, 0x1, 0x0);
        gbc.writeMem(0x1364, { 0xc3, 0x10, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xc8c8);
        EXPECT(gbc.pc(), 0x5310);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 02A4
        gbc.setState(0xa832, 0x86b3, 0x9120, 0x6634, 0xbb5f, 0x83fc, 0x0, 0x0);
        gbc.writeMem(0xa832, { 0xc3, 0x38, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x86b3);
        EXPECT(gbc.pc(), 0x8838);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa832), 0xc3);
        EXPECT(gbc.readMem(0xa833), 0x38);
        EXPECT(gbc.readMem(0xa834), 0x88);
        // C3 02A5
        gbc.setState(0xad70, 0x8b71, 0x9ba0, 0xeaca, 0xcf43, 0x50a8, 0x0, 0x1);
        gbc.writeMem(0xad70, { 0xc3, 0xda, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x8b71);
        EXPECT(gbc.pc(), 0x2da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad70), 0xc3);
        EXPECT(gbc.readMem(0xad71), 0xda);
        EXPECT(gbc.readMem(0xad72), 0x2);
        // C3 02A6
        gbc.setState(0x8418, 0x4806, 0xd3a0, 0xfb4e, 0x932d, 0xf046, 0x1, 0x1);
        gbc.writeMem(0x8418, { 0xc3, 0xe2, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4806);
        EXPECT(gbc.pc(), 0xcae2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8418), 0xc3);
        EXPECT(gbc.readMem(0x8419), 0xe2);
        EXPECT(gbc.readMem(0x841a), 0xca);
        // C3 02A7
        gbc.setState(0x882c, 0x88ae, 0xadf0, 0x794a, 0x419f, 0xc8ea, 0x0, 0x1);
        gbc.writeMem(0x882c, { 0xc3, 0x25, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x88ae);
        EXPECT(gbc.pc(), 0x4125);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x882c), 0xc3);
        EXPECT(gbc.readMem(0x882d), 0x25);
        EXPECT(gbc.readMem(0x882e), 0x41);
        // C3 02A8
        gbc.setState(0xc9d3, 0xc971, 0xdca0, 0x245b, 0xd3a3, 0x36c1, 0x1, 0x1);
        gbc.writeMem(0xc9d3, { 0xc3, 0xc4, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xc971);
        EXPECT(gbc.pc(), 0x54c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9d3), 0xc3);
        EXPECT(gbc.readMem(0xc9d4), 0xc4);
        EXPECT(gbc.readMem(0xc9d5), 0x54);
        // C3 02A9
        gbc.setState(0x85da, 0xb482, 0xea70, 0xc755, 0xb09f, 0xff71, 0x0, 0x1);
        gbc.writeMem(0x85da, { 0xc3, 0x26, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xb482);
        EXPECT(gbc.pc(), 0x2a26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85da), 0xc3);
        EXPECT(gbc.readMem(0x85db), 0x26);
        EXPECT(gbc.readMem(0x85dc), 0x2a);
        // C3 02AA
        gbc.setState(0x8624, 0x19d, 0x6110, 0xd2c1, 0x92b1, 0x6918, 0x1, 0x0);
        gbc.writeMem(0x8624, { 0xc3, 0xd, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x19d);
        EXPECT(gbc.pc(), 0x690d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8624), 0xc3);
        EXPECT(gbc.readMem(0x8625), 0xd);
        EXPECT(gbc.readMem(0x8626), 0x69);
        // C3 02AB
        gbc.setState(0x1a0f, 0x555c, 0x4070, 0x5ea4, 0xbe7e, 0x6f0b, 0x0, 0x0);
        gbc.writeMem(0x1a0f, { 0xc3, 0x29, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x555c);
        EXPECT(gbc.pc(), 0x9329);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 02AC
        gbc.setState(0x9fc1, 0xb857, 0x1180, 0xe35a, 0x96b7, 0xc517, 0x1, 0x0);
        gbc.writeMem(0x9fc1, { 0xc3, 0xb4, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xb857);
        EXPECT(gbc.pc(), 0xa8b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fc1), 0xc3);
        EXPECT(gbc.readMem(0x9fc2), 0xb4);
        EXPECT(gbc.readMem(0x9fc3), 0xa8);
        // C3 02AD
        gbc.setState(0x1757, 0xdc53, 0xba20, 0x7563, 0x4042, 0x7e41, 0x1, 0x0);
        gbc.writeMem(0x1757, { 0xc3, 0x79, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xdc53);
        EXPECT(gbc.pc(), 0xd179);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 02AE
        gbc.setState(0x64c7, 0x3685, 0x1130, 0x864b, 0x3f, 0x5227, 0x0, 0x1);
        gbc.writeMem(0x64c7, { 0xc3, 0xac, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x3685);
        EXPECT(gbc.pc(), 0xadac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 02AF
        gbc.setState(0x692a, 0xc572, 0x1a20, 0x1558, 0x670, 0xdae7, 0x0, 0x1);
        gbc.writeMem(0x692a, { 0xc3, 0xa3, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xc572);
        EXPECT(gbc.pc(), 0xb1a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 02B0
        gbc.setState(0x7a22, 0x49fb, 0xe310, 0xd12c, 0xc542, 0x3d2, 0x1, 0x1);
        gbc.writeMem(0x7a22, { 0xc3, 0xae, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x49fb);
        EXPECT(gbc.pc(), 0x8cae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 02B1
        gbc.setState(0x8c8a, 0x477a, 0xd850, 0xd317, 0xd6b6, 0x4204, 0x0, 0x1);
        gbc.writeMem(0x8c8a, { 0xc3, 0x46, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x477a);
        EXPECT(gbc.pc(), 0x9646);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c8a), 0xc3);
        EXPECT(gbc.readMem(0x8c8b), 0x46);
        EXPECT(gbc.readMem(0x8c8c), 0x96);
        // C3 02B2
        gbc.setState(0x330f, 0xe09a, 0xc6f0, 0x9173, 0xc6cc, 0xa629, 0x1, 0x0);
        gbc.writeMem(0x330f, { 0xc3, 0x41, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xe09a);
        EXPECT(gbc.pc(), 0x2641);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 02B3
        gbc.setState(0x7c55, 0x54b7, 0xc9a0, 0x5ec7, 0x9b05, 0x23b4, 0x1, 0x1);
        gbc.writeMem(0x7c55, { 0xc3, 0x70, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x54b7);
        EXPECT(gbc.pc(), 0xc970);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 02B4
        gbc.setState(0xd681, 0xfff8, 0x5150, 0x9359, 0x5766, 0x717b, 0x0, 0x1);
        gbc.writeMem(0xd681, { 0xc3, 0xc0, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xfff8);
        EXPECT(gbc.pc(), 0xeac0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd681), 0xc3);
        EXPECT(gbc.readMem(0xd682), 0xc0);
        EXPECT(gbc.readMem(0xd683), 0xea);
        // C3 02B5
        gbc.setState(0xa983, 0x5b3e, 0xe730, 0x6b16, 0x4d7c, 0xb0c1, 0x0, 0x1);
        gbc.writeMem(0xa983, { 0xc3, 0xd8, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x5b3e);
        EXPECT(gbc.pc(), 0x99d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa983), 0xc3);
        EXPECT(gbc.readMem(0xa984), 0xd8);
        EXPECT(gbc.readMem(0xa985), 0x99);
        // C3 02B6
        gbc.setState(0xb500, 0xa8d8, 0x8530, 0x2ccd, 0x7fa5, 0xc64f, 0x0, 0x0);
        gbc.writeMem(0xb500, { 0xc3, 0x43, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xa8d8);
        EXPECT(gbc.pc(), 0xc743);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb500), 0xc3);
        EXPECT(gbc.readMem(0xb501), 0x43);
        EXPECT(gbc.readMem(0xb502), 0xc7);
        // C3 02B7
        gbc.setState(0xb633, 0x8084, 0x6960, 0xd3a4, 0x1cc6, 0x6bc, 0x0, 0x1);
        gbc.writeMem(0xb633, { 0xc3, 0x5d, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x8084);
        EXPECT(gbc.pc(), 0x5b5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb633), 0xc3);
        EXPECT(gbc.readMem(0xb634), 0x5d);
        EXPECT(gbc.readMem(0xb635), 0x5b);
        // C3 02B8
        gbc.setState(0x629f, 0x15cf, 0xd580, 0xda84, 0x3723, 0xba17, 0x0, 0x1);
        gbc.writeMem(0x629f, { 0xc3, 0x4b, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x15cf);
        EXPECT(gbc.pc(), 0x234b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02B9
        gbc.setState(0xa5c5, 0xc6cc, 0x7ca0, 0x2edc, 0xa661, 0x5b5e, 0x0, 0x0);
        gbc.writeMem(0xa5c5, { 0xc3, 0xd8, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xc6cc);
        EXPECT(gbc.pc(), 0xdad8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5c5), 0xc3);
        EXPECT(gbc.readMem(0xa5c6), 0xd8);
        EXPECT(gbc.readMem(0xa5c7), 0xda);
        // C3 02BA
        gbc.setState(0x6e13, 0xc2d8, 0x58c0, 0x1c29, 0x10d, 0xe4f5, 0x1, 0x1);
        gbc.writeMem(0x6e13, { 0xc3, 0xd6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xc2d8);
        EXPECT(gbc.pc(), 0xead6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02BB
        gbc.setState(0x4608, 0x7dc3, 0xfa10, 0xbbb4, 0x9327, 0xa63, 0x1, 0x0);
        gbc.writeMem(0x4608, { 0xc3, 0x7d, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x7dc3);
        EXPECT(gbc.pc(), 0x2e7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 02BC
        gbc.setState(0xe27, 0x35ca, 0xaab0, 0x38aa, 0xdf21, 0xa36e, 0x1, 0x1);
        gbc.writeMem(0xe27, { 0xc3, 0x40, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x35ca);
        EXPECT(gbc.pc(), 0xd740);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 02BD
        gbc.setState(0x2b31, 0x5059, 0xec0, 0xb740, 0x466e, 0x5b44, 0x1, 0x1);
        gbc.writeMem(0x2b31, { 0xc3, 0x97, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x5059);
        EXPECT(gbc.pc(), 0xed97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02BE
        gbc.setState(0x29ec, 0x8bd2, 0xc760, 0xcfc3, 0xfc52, 0x5f2, 0x0, 0x0);
        gbc.writeMem(0x29ec, { 0xc3, 0x90, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x8bd2);
        EXPECT(gbc.pc(), 0xab90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 02BF
        gbc.setState(0x4682, 0x3f0d, 0x7120, 0xed06, 0xf412, 0x5ec6, 0x1, 0x0);
        gbc.writeMem(0x4682, { 0xc3, 0x2, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x3f0d);
        EXPECT(gbc.pc(), 0xc002);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 02C0
        gbc.setState(0x131b, 0x2bfd, 0xa200, 0x4def, 0x3661, 0xc40d, 0x0, 0x1);
        gbc.writeMem(0x131b, { 0xc3, 0x21, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x2bfd);
        EXPECT(gbc.pc(), 0xab21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02C1
        gbc.setState(0xd01d, 0xb299, 0xe60, 0xb9a, 0xb81e, 0x9155, 0x0, 0x1);
        gbc.writeMem(0xd01d, { 0xc3, 0x2d, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xb299);
        EXPECT(gbc.pc(), 0xff2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd01d), 0xc3);
        EXPECT(gbc.readMem(0xd01e), 0x2d);
        EXPECT(gbc.readMem(0xd01f), 0xff);
        // C3 02C2
        gbc.setState(0x4ae0, 0x2cb2, 0x43a0, 0x9032, 0x43c6, 0xca5d, 0x0, 0x1);
        gbc.writeMem(0x4ae0, { 0xc3, 0x6f, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x2cb2);
        EXPECT(gbc.pc(), 0xfb6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 02C3
        gbc.setState(0x1bc0, 0xd2bf, 0x1640, 0xf496, 0x3a8a, 0xc8a5, 0x1, 0x0);
        gbc.writeMem(0x1bc0, { 0xc3, 0x3d, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xd2bf);
        EXPECT(gbc.pc(), 0xc43d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02C4
        gbc.setState(0x5e86, 0x6c15, 0x2210, 0xe72a, 0x99b1, 0x8508, 0x0, 0x1);
        gbc.writeMem(0x5e86, { 0xc3, 0x21, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x6c15);
        EXPECT(gbc.pc(), 0x7121);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 02C5
        gbc.setState(0x41ed, 0x3ab4, 0x3340, 0xd45e, 0xcc94, 0xebd4, 0x0, 0x1);
        gbc.writeMem(0x41ed, { 0xc3, 0xbf, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x3ab4);
        EXPECT(gbc.pc(), 0x87bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02C6
        gbc.setState(0xad15, 0x68f0, 0x2b10, 0x1ac4, 0x2b8c, 0x396a, 0x1, 0x1);
        gbc.writeMem(0xad15, { 0xc3, 0x3f, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x68f0);
        EXPECT(gbc.pc(), 0xb43f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad15), 0xc3);
        EXPECT(gbc.readMem(0xad16), 0x3f);
        EXPECT(gbc.readMem(0xad17), 0xb4);
        // C3 02C7
        gbc.setState(0x46b3, 0x92ed, 0xa870, 0xac53, 0x79fb, 0x58fc, 0x0, 0x1);
        gbc.writeMem(0x46b3, { 0xc3, 0x8f, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x92ed);
        EXPECT(gbc.pc(), 0x658f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 02C8
        gbc.setState(0xc185, 0x99b6, 0xb060, 0x527e, 0xf2b7, 0xdc5f, 0x1, 0x1);
        gbc.writeMem(0xc185, { 0xc3, 0xaa, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x99b6);
        EXPECT(gbc.pc(), 0xdaaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc185), 0xc3);
        EXPECT(gbc.readMem(0xc186), 0xaa);
        EXPECT(gbc.readMem(0xc187), 0xda);
        // C3 02C9
        gbc.setState(0xd365, 0x72a5, 0x4500, 0x6cc4, 0x1746, 0x8831, 0x0, 0x0);
        gbc.writeMem(0xd365, { 0xc3, 0xa8, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x72a5);
        EXPECT(gbc.pc(), 0x6a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd365), 0xc3);
        EXPECT(gbc.readMem(0xd366), 0xa8);
        EXPECT(gbc.readMem(0xd367), 0x6);
        // C3 02CA
        gbc.setState(0x3525, 0x8c26, 0x4140, 0x65bb, 0xca75, 0x3a1d, 0x0, 0x0);
        gbc.writeMem(0x3525, { 0xc3, 0x39, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x8c26);
        EXPECT(gbc.pc(), 0xce39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02CB
        gbc.setState(0x4ee0, 0xcac8, 0xb700, 0xdac0, 0xcbc6, 0xa2d7, 0x0, 0x0);
        gbc.writeMem(0x4ee0, { 0xc3, 0xbe, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xcac8);
        EXPECT(gbc.pc(), 0x2ebe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02CC
        gbc.setState(0x455b, 0x47db, 0x5cb0, 0x7306, 0x9603, 0xbf2, 0x0, 0x0);
        gbc.writeMem(0x455b, { 0xc3, 0xfc, 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x47db);
        EXPECT(gbc.pc(), 0x29fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 02CD
        gbc.setState(0x2b92, 0x2618, 0x69b0, 0x2097, 0xe57, 0x5286, 0x1, 0x1);
        gbc.writeMem(0x2b92, { 0xc3, 0x0, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2618);
        EXPECT(gbc.pc(), 0x6e00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 02CF
        gbc.setState(0xbb6f, 0x639e, 0x6ac0, 0x4d5c, 0xe6f0, 0x9b1e, 0x0, 0x0);
        gbc.writeMem(0xbb6f, { 0xc3, 0x86, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x639e);
        EXPECT(gbc.pc(), 0xeb86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb6f), 0xc3);
        EXPECT(gbc.readMem(0xbb70), 0x86);
        EXPECT(gbc.readMem(0xbb71), 0xeb);
        // C3 02D0
        gbc.setState(0xa679, 0xca4e, 0x9250, 0x5efb, 0x6502, 0x803f, 0x0, 0x0);
        gbc.writeMem(0xa679, { 0xc3, 0x68, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xca4e);
        EXPECT(gbc.pc(), 0xd068);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa679), 0xc3);
        EXPECT(gbc.readMem(0xa67a), 0x68);
        EXPECT(gbc.readMem(0xa67b), 0xd0);
        // C3 02D1
        gbc.setState(0xbba1, 0x2f16, 0x7890, 0x3e09, 0xca6c, 0x7d71, 0x1, 0x0);
        gbc.writeMem(0xbba1, { 0xc3, 0x47, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x2f16);
        EXPECT(gbc.pc(), 0xae47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbba1), 0xc3);
        EXPECT(gbc.readMem(0xbba2), 0x47);
        EXPECT(gbc.readMem(0xbba3), 0xae);
        // C3 02D2
        gbc.setState(0x7829, 0x25a1, 0xd60, 0xa53f, 0xaa0d, 0x92a6, 0x1, 0x1);
        gbc.writeMem(0x7829, { 0xc3, 0xd8, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x25a1);
        EXPECT(gbc.pc(), 0x11d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 02D3
        gbc.setState(0x2dd8, 0x31d1, 0x69c0, 0x40e4, 0xd580, 0x5c4e, 0x1, 0x1);
        gbc.writeMem(0x2dd8, { 0xc3, 0x21, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x31d1);
        EXPECT(gbc.pc(), 0xa21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02D4
        gbc.setState(0xc6ea, 0x3516, 0x8380, 0xca88, 0x9bf3, 0x700a, 0x1, 0x1);
        gbc.writeMem(0xc6ea, { 0xc3, 0xd4, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x3516);
        EXPECT(gbc.pc(), 0x69d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6ea), 0xc3);
        EXPECT(gbc.readMem(0xc6eb), 0xd4);
        EXPECT(gbc.readMem(0xc6ec), 0x69);
        // C3 02D5
        gbc.setState(0xc0c3, 0xa0f2, 0x2580, 0x41e0, 0xc1ed, 0xa7bb, 0x0, 0x0);
        gbc.writeMem(0xc0c3, { 0xc3, 0xdd, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xa0f2);
        EXPECT(gbc.pc(), 0x12dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0c3), 0xc3);
        EXPECT(gbc.readMem(0xc0c4), 0xdd);
        EXPECT(gbc.readMem(0xc0c5), 0x12);
        // C3 02D6
        gbc.setState(0xe672, 0xec21, 0x28e0, 0x77d0, 0x86f7, 0xe99, 0x0, 0x1);
        gbc.writeMem(0xe672, { 0xc3, 0xf2, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xec21);
        EXPECT(gbc.pc(), 0x19f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe672), 0xc3);
        EXPECT(gbc.readMem(0xe673), 0xf2);
        EXPECT(gbc.readMem(0xe674), 0x19);
        // C3 02D7
        gbc.setState(0x218f, 0xd74a, 0xc440, 0x1e66, 0x2fb, 0xd89f, 0x0, 0x0);
        gbc.writeMem(0x218f, { 0xc3, 0x32, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xd74a);
        EXPECT(gbc.pc(), 0x7932);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02D8
        gbc.setState(0x3466, 0xec77, 0x1f80, 0xbde3, 0xcd91, 0x3d62, 0x1, 0x1);
        gbc.writeMem(0x3466, { 0xc3, 0x29, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xec77);
        EXPECT(gbc.pc(), 0x5a29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02D9
        gbc.setState(0x8b40, 0xd563, 0x7c60, 0xf4b7, 0xb70e, 0x7be8, 0x1, 0x0);
        gbc.writeMem(0x8b40, { 0xc3, 0x64, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xd563);
        EXPECT(gbc.pc(), 0xc864);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b40), 0xc3);
        EXPECT(gbc.readMem(0x8b41), 0x64);
        EXPECT(gbc.readMem(0x8b42), 0xc8);
        // C3 02DA
        gbc.setState(0xe468, 0x9287, 0xbd10, 0x5471, 0xbcf0, 0xe69, 0x1, 0x1);
        gbc.writeMem(0xe468, { 0xc3, 0x5f, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x9287);
        EXPECT(gbc.pc(), 0x2b5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe468), 0xc3);
        EXPECT(gbc.readMem(0xe469), 0x5f);
        EXPECT(gbc.readMem(0xe46a), 0x2b);
        // C3 02DB
        gbc.setState(0xa301, 0x7d38, 0x1a70, 0xfb37, 0x2a27, 0xef56, 0x0, 0x0);
        gbc.writeMem(0xa301, { 0xc3, 0xf, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x7d38);
        EXPECT(gbc.pc(), 0x2b0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa301), 0xc3);
        EXPECT(gbc.readMem(0xa302), 0xf);
        EXPECT(gbc.readMem(0xa303), 0x2b);
        // C3 02DC
        gbc.setState(0xd21e, 0xd38a, 0xaf80, 0x4ff9, 0x9ef9, 0x36d, 0x0, 0x0);
        gbc.writeMem(0xd21e, { 0xc3, 0xfe, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xd38a);
        EXPECT(gbc.pc(), 0xb8fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd21e), 0xc3);
        EXPECT(gbc.readMem(0xd21f), 0xfe);
        EXPECT(gbc.readMem(0xd220), 0xb8);
        // C3 02DD
        gbc.setState(0xc216, 0x344c, 0xceb0, 0xe664, 0xcadd, 0xee85, 0x0, 0x1);
        gbc.writeMem(0xc216, { 0xc3, 0x8b, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x344c);
        EXPECT(gbc.pc(), 0xc58b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc216), 0xc3);
        EXPECT(gbc.readMem(0xc217), 0x8b);
        EXPECT(gbc.readMem(0xc218), 0xc5);
        // C3 02DE
        gbc.setState(0x78b2, 0x7e08, 0x13f0, 0x96fb, 0xbc81, 0xd6a4, 0x0, 0x0);
        gbc.writeMem(0x78b2, { 0xc3, 0xda, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x7e08);
        EXPECT(gbc.pc(), 0xaeda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 02DF
        gbc.setState(0x4559, 0x62c2, 0xc200, 0x9fcf, 0xd19, 0xa87b, 0x1, 0x1);
        gbc.writeMem(0x4559, { 0xc3, 0x3a, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x62c2);
        EXPECT(gbc.pc(), 0x53a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02E0
        gbc.setState(0xae0d, 0x9b02, 0xfa0, 0x20e5, 0x9c9d, 0xac9e, 0x1, 0x0);
        gbc.writeMem(0xae0d, { 0xc3, 0xdc, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x9b02);
        EXPECT(gbc.pc(), 0x71dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae0d), 0xc3);
        EXPECT(gbc.readMem(0xae0e), 0xdc);
        EXPECT(gbc.readMem(0xae0f), 0x71);
        // C3 02E1
        gbc.setState(0x2ad4, 0x62c9, 0xe530, 0xc90c, 0x16c7, 0x7ba2, 0x0, 0x1);
        gbc.writeMem(0x2ad4, { 0xc3, 0x5e, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x62c9);
        EXPECT(gbc.pc(), 0xbd5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 02E2
        gbc.setState(0x60ba, 0x9864, 0xe860, 0x7de, 0x47a3, 0x6742, 0x0, 0x0);
        gbc.writeMem(0x60ba, { 0xc3, 0xd3, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x9864);
        EXPECT(gbc.pc(), 0x2fd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 02E3
        gbc.setState(0x1a, 0xb5bc, 0x35a0, 0x53b9, 0x563e, 0xd85, 0x0, 0x1);
        gbc.writeMem(0x1a, { 0xc3, 0x5c, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xb5bc);
        EXPECT(gbc.pc(), 0xf75c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 02E4
        gbc.setState(0x167f, 0x3f0e, 0xbec0, 0x7df1, 0xa0c1, 0xcfcd, 0x1, 0x0);
        gbc.writeMem(0x167f, { 0xc3, 0x93, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x3f0e);
        EXPECT(gbc.pc(), 0x4493);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 02E5
        gbc.setState(0x397e, 0xc833, 0xbb20, 0xe8ce, 0x7897, 0x8a60, 0x1, 0x0);
        gbc.writeMem(0x397e, { 0xc3, 0x90, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xc833);
        EXPECT(gbc.pc(), 0xe690);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 02E6
        gbc.setState(0x9750, 0x1938, 0x5700, 0x1919, 0x90ae, 0x6ada, 0x1, 0x1);
        gbc.writeMem(0x9750, { 0xc3, 0x7d, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1938);
        EXPECT(gbc.pc(), 0x867d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9750), 0xc3);
        EXPECT(gbc.readMem(0x9751), 0x7d);
        EXPECT(gbc.readMem(0x9752), 0x86);
        // C3 02E7
        gbc.setState(0xc853, 0xf5d0, 0xaed0, 0x742d, 0xb77, 0x6446, 0x0, 0x1);
        gbc.writeMem(0xc853, { 0xc3, 0xad, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xf5d0);
        EXPECT(gbc.pc(), 0xe2ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc853), 0xc3);
        EXPECT(gbc.readMem(0xc854), 0xad);
        EXPECT(gbc.readMem(0xc855), 0xe2);
        // C3 02E9
        gbc.setState(0xbdbc, 0xf390, 0x72c0, 0x9a81, 0x3d8e, 0xadf5, 0x0, 0x1);
        gbc.writeMem(0xbdbc, { 0xc3, 0x1c, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xf390);
        EXPECT(gbc.pc(), 0x4a1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdbc), 0xc3);
        EXPECT(gbc.readMem(0xbdbd), 0x1c);
        EXPECT(gbc.readMem(0xbdbe), 0x4a);
        // C3 02EA
        gbc.setState(0xe9c7, 0xbfa6, 0xf3b0, 0xc7fc, 0xea04, 0x8ff4, 0x1, 0x1);
        gbc.writeMem(0xe9c7, { 0xc3, 0xcf, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xbfa6);
        EXPECT(gbc.pc(), 0x37cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9c7), 0xc3);
        EXPECT(gbc.readMem(0xe9c8), 0xcf);
        EXPECT(gbc.readMem(0xe9c9), 0x37);
        // C3 02EB
        gbc.setState(0xc192, 0xe279, 0xc6f0, 0x9049, 0xaa4d, 0x67a7, 0x0, 0x0);
        gbc.writeMem(0xc192, { 0xc3, 0xc0, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xe279);
        EXPECT(gbc.pc(), 0x33c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc192), 0xc3);
        EXPECT(gbc.readMem(0xc193), 0xc0);
        EXPECT(gbc.readMem(0xc194), 0x33);
        // C3 02EC
        gbc.setState(0x9719, 0x17be, 0xc5e0, 0x3184, 0xbfe0, 0xddf2, 0x1, 0x1);
        gbc.writeMem(0x9719, { 0xc3, 0xe6, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x17be);
        EXPECT(gbc.pc(), 0x1ae6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9719), 0xc3);
        EXPECT(gbc.readMem(0x971a), 0xe6);
        EXPECT(gbc.readMem(0x971b), 0x1a);
        // C3 02ED
        gbc.setState(0x989a, 0xebf4, 0xfaa0, 0xcf4b, 0xe885, 0xe676, 0x1, 0x1);
        gbc.writeMem(0x989a, { 0xc3, 0xdb, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xebf4);
        EXPECT(gbc.pc(), 0x13db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x989a), 0xc3);
        EXPECT(gbc.readMem(0x989b), 0xdb);
        EXPECT(gbc.readMem(0x989c), 0x13);
        // C3 02EE
        gbc.setState(0x21c, 0x5cae, 0x7310, 0x8afb, 0xe4d7, 0x80ea, 0x0, 0x1);
        gbc.writeMem(0x21c, { 0xc3, 0xac, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x5cae);
        EXPECT(gbc.pc(), 0xefac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 02EF
        gbc.setState(0x73ef, 0x8d57, 0x5210, 0x38f5, 0xa468, 0xa213, 0x0, 0x1);
        gbc.writeMem(0x73ef, { 0xc3, 0x85, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x8d57);
        EXPECT(gbc.pc(), 0xd585);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 02F1
        gbc.setState(0xcbe3, 0x8341, 0x4df0, 0xe08b, 0x537f, 0x6c3e, 0x1, 0x0);
        gbc.writeMem(0xcbe3, { 0xc3, 0x7a, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x8341);
        EXPECT(gbc.pc(), 0xcd7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbe3), 0xc3);
        EXPECT(gbc.readMem(0xcbe4), 0x7a);
        EXPECT(gbc.readMem(0xcbe5), 0xcd);
        // C3 02F2
        gbc.setState(0xab7a, 0x1bd9, 0xde20, 0x6853, 0x616c, 0x9748, 0x0, 0x1);
        gbc.writeMem(0xab7a, { 0xc3, 0xdd, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x1bd9);
        EXPECT(gbc.pc(), 0xdedd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab7a), 0xc3);
        EXPECT(gbc.readMem(0xab7b), 0xdd);
        EXPECT(gbc.readMem(0xab7c), 0xde);
        // C3 02F3
        gbc.setState(0xd5e1, 0x31a0, 0xbb30, 0xf099, 0x7cc9, 0x7782, 0x0, 0x0);
        gbc.writeMem(0xd5e1, { 0xc3, 0x96, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x31a0);
        EXPECT(gbc.pc(), 0x5d96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5e1), 0xc3);
        EXPECT(gbc.readMem(0xd5e2), 0x96);
        EXPECT(gbc.readMem(0xd5e3), 0x5d);
        // C3 02F4
        gbc.setState(0xe7b4, 0xd241, 0x4c30, 0xd836, 0x84fd, 0xef9e, 0x1, 0x0);
        gbc.writeMem(0xe7b4, { 0xc3, 0x57, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xd241);
        EXPECT(gbc.pc(), 0xec57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7b4), 0xc3);
        EXPECT(gbc.readMem(0xe7b5), 0x57);
        EXPECT(gbc.readMem(0xe7b6), 0xec);
        // C3 02F6
        gbc.setState(0xc5dc, 0x14a7, 0xb4b0, 0xac4f, 0x3f3e, 0x5ae4, 0x0, 0x0);
        gbc.writeMem(0xc5dc, { 0xc3, 0xb0, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x14a7);
        EXPECT(gbc.pc(), 0xf2b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5dc), 0xc3);
        EXPECT(gbc.readMem(0xc5dd), 0xb0);
        EXPECT(gbc.readMem(0xc5de), 0xf2);
        // C3 02F7
        gbc.setState(0xcbc2, 0x762c, 0xe050, 0x2e9e, 0x3c21, 0xf4d6, 0x1, 0x0);
        gbc.writeMem(0xcbc2, { 0xc3, 0x6b, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x762c);
        EXPECT(gbc.pc(), 0xd36b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbc2), 0xc3);
        EXPECT(gbc.readMem(0xcbc3), 0x6b);
        EXPECT(gbc.readMem(0xcbc4), 0xd3);
        // C3 02F8
        gbc.setState(0x7fed, 0x28c8, 0x2c60, 0xa92a, 0xb06, 0x2d0b, 0x1, 0x1);
        gbc.writeMem(0x7fed, { 0xc3, 0xb0, 0x58 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x28c8);
        EXPECT(gbc.pc(), 0x58b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 02F9
        gbc.setState(0x776c, 0xb61d, 0x1320, 0xef1d, 0x7eaf, 0xde08, 0x1, 0x0);
        gbc.writeMem(0x776c, { 0xc3, 0xa1, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xb61d);
        EXPECT(gbc.pc(), 0x6ca1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 02FA
        gbc.setState(0x20dc, 0xf736, 0x89b0, 0x8ba8, 0x3883, 0x87f4, 0x0, 0x0);
        gbc.writeMem(0x20dc, { 0xc3, 0xb0, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xf736);
        EXPECT(gbc.pc(), 0x34b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 02FB
        gbc.setState(0x3145, 0x3fd5, 0xd90, 0x5b14, 0x8ac2, 0x5b9, 0x0, 0x1);
        gbc.writeMem(0x3145, { 0xc3, 0xe0, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x3fd5);
        EXPECT(gbc.pc(), 0x4ce0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 02FC
        gbc.setState(0x7d2, 0xc46b, 0xf990, 0x5256, 0xe5a9, 0xfffe, 0x1, 0x0);
        gbc.writeMem(0x7d2, { 0xc3, 0x2f, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xc46b);
        EXPECT(gbc.pc(), 0x9e2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 02FD
        gbc.setState(0x2d4, 0x63b9, 0x70d0, 0xac1, 0x7dbb, 0xb21f, 0x1, 0x1);
        gbc.writeMem(0x2d4, { 0xc3, 0xa6, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x63b9);
        EXPECT(gbc.pc(), 0x1a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 02FE
        gbc.setState(0xbb66, 0xc583, 0x4850, 0x52e4, 0x6d88, 0x3409, 0x0, 0x1);
        gbc.writeMem(0xbb66, { 0xc3, 0x80, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xc583);
        EXPECT(gbc.pc(), 0xe180);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb66), 0xc3);
        EXPECT(gbc.readMem(0xbb67), 0x80);
        EXPECT(gbc.readMem(0xbb68), 0xe1);
        // C3 0300
        gbc.setState(0xd638, 0x8f1b, 0xc0f0, 0x9020, 0xf304, 0x8cec, 0x0, 0x1);
        gbc.writeMem(0xd638, { 0xc3, 0x8c, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x8f1b);
        EXPECT(gbc.pc(), 0xb68c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd638), 0xc3);
        EXPECT(gbc.readMem(0xd639), 0x8c);
        EXPECT(gbc.readMem(0xd63a), 0xb6);
        // C3 0301
        gbc.setState(0x4cf3, 0x6745, 0xa9c0, 0x29fa, 0x92fb, 0x241c, 0x0, 0x0);
        gbc.writeMem(0x4cf3, { 0xc3, 0xd9, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x6745);
        EXPECT(gbc.pc(), 0xd4d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0303
        gbc.setState(0x5e53, 0x118b, 0x63d0, 0x3b0b, 0x2194, 0x22a2, 0x1, 0x0);
        gbc.writeMem(0x5e53, { 0xc3, 0xe0, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x118b);
        EXPECT(gbc.pc(), 0x8ee0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0304
        gbc.setState(0xcae2, 0xe1b8, 0xf280, 0x8fe7, 0xfc27, 0x1e81, 0x0, 0x0);
        gbc.writeMem(0xcae2, { 0xc3, 0x57, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xe1b8);
        EXPECT(gbc.pc(), 0xc757);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcae2), 0xc3);
        EXPECT(gbc.readMem(0xcae3), 0x57);
        EXPECT(gbc.readMem(0xcae4), 0xc7);
        // C3 0305
        gbc.setState(0xe219, 0x5884, 0x23f0, 0x3486, 0x92ef, 0xe40, 0x0, 0x1);
        gbc.writeMem(0xe219, { 0xc3, 0x5, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x5884);
        EXPECT(gbc.pc(), 0xa405);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe219), 0xc3);
        EXPECT(gbc.readMem(0xe21a), 0x5);
        EXPECT(gbc.readMem(0xe21b), 0xa4);
        // C3 0306
        gbc.setState(0xc104, 0x47c2, 0xb950, 0x7017, 0x1e36, 0x5683, 0x0, 0x0);
        gbc.writeMem(0xc104, { 0xc3, 0xf0, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x47c2);
        EXPECT(gbc.pc(), 0xaaf0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc104), 0xc3);
        EXPECT(gbc.readMem(0xc105), 0xf0);
        EXPECT(gbc.readMem(0xc106), 0xaa);
        // C3 0307
        gbc.setState(0x1a08, 0xeaa5, 0xb020, 0x4fa, 0x492, 0x478f, 0x0, 0x1);
        gbc.writeMem(0x1a08, { 0xc3, 0x35, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xeaa5);
        EXPECT(gbc.pc(), 0xa935);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0308
        gbc.setState(0x140c, 0x431a, 0x8220, 0x8d9e, 0x9287, 0x40ff, 0x1, 0x0);
        gbc.writeMem(0x140c, { 0xc3, 0x80, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x431a);
        EXPECT(gbc.pc(), 0x4680);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0309
        gbc.setState(0x3065, 0xc66a, 0x3360, 0xe5b3, 0xc28a, 0xf8d0, 0x0, 0x0);
        gbc.writeMem(0x3065, { 0xc3, 0x49, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xc66a);
        EXPECT(gbc.pc(), 0x9349);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 030A
        gbc.setState(0x66c8, 0x1e29, 0xfc90, 0xb993, 0xae23, 0x113d, 0x1, 0x1);
        gbc.writeMem(0x66c8, { 0xc3, 0xb7, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x1e29);
        EXPECT(gbc.pc(), 0x16b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 030B
        gbc.setState(0x74f7, 0x6960, 0x53d0, 0xa75d, 0x7019, 0xd6e2, 0x1, 0x0);
        gbc.writeMem(0x74f7, { 0xc3, 0xc8, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x6960);
        EXPECT(gbc.pc(), 0x9fc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 030C
        gbc.setState(0x6767, 0xbc1a, 0x3980, 0xe3b9, 0x40b7, 0x41da, 0x0, 0x1);
        gbc.writeMem(0x6767, { 0xc3, 0x59, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xbc1a);
        EXPECT(gbc.pc(), 0x5b59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 030D
        gbc.setState(0x4134, 0x9430, 0xb5e0, 0x9b08, 0x91d2, 0xabfc, 0x0, 0x1);
        gbc.writeMem(0x4134, { 0xc3, 0xf0, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x9430);
        EXPECT(gbc.pc(), 0xd6f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 030E
        gbc.setState(0x3638, 0x184e, 0x8da0, 0xd00a, 0xaa83, 0xc116, 0x0, 0x1);
        gbc.writeMem(0x3638, { 0xc3, 0x31, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x184e);
        EXPECT(gbc.pc(), 0x4431);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 030F
        gbc.setState(0xacd5, 0xfe55, 0xffa0, 0x24f9, 0x79a5, 0xb129, 0x0, 0x1);
        gbc.writeMem(0xacd5, { 0xc3, 0xf, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xfe55);
        EXPECT(gbc.pc(), 0x660f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacd5), 0xc3);
        EXPECT(gbc.readMem(0xacd6), 0xf);
        EXPECT(gbc.readMem(0xacd7), 0x66);
        // C3 0310
        gbc.setState(0xb19, 0x8f60, 0x65b0, 0xb2ac, 0xd98d, 0xd29b, 0x1, 0x1);
        gbc.writeMem(0xb19, { 0xc3, 0x5a, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x8f60);
        EXPECT(gbc.pc(), 0x775a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0311
        gbc.setState(0x4388, 0x53f5, 0x6600, 0x8d58, 0x1a41, 0x7f2d, 0x1, 0x1);
        gbc.writeMem(0x4388, { 0xc3, 0x6e, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x53f5);
        EXPECT(gbc.pc(), 0x936e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0312
        gbc.setState(0xeb, 0x5007, 0xa690, 0x623b, 0x48f7, 0x5d4b, 0x0, 0x0);
        gbc.writeMem(0xeb, { 0xc3, 0x97, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x5007);
        EXPECT(gbc.pc(), 0x8497);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0313
        gbc.setState(0x3583, 0xadd5, 0xc710, 0xb241, 0x5423, 0x9925, 0x0, 0x1);
        gbc.writeMem(0x3583, { 0xc3, 0x15, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xadd5);
        EXPECT(gbc.pc(), 0xec15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0314
        gbc.setState(0x5d76, 0x58f3, 0x2780, 0x4cf3, 0x680e, 0xe3b5, 0x0, 0x0);
        gbc.writeMem(0x5d76, { 0xc3, 0xba, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x58f3);
        EXPECT(gbc.pc(), 0xb2ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0316
        gbc.setState(0xe0cd, 0xff7f, 0x53d0, 0xfc7e, 0xb2c0, 0x319d, 0x0, 0x1);
        gbc.writeMem(0xe0cd, { 0xc3, 0x7c, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xff7f);
        EXPECT(gbc.pc(), 0xdc7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0cd), 0xc3);
        EXPECT(gbc.readMem(0xe0ce), 0x7c);
        EXPECT(gbc.readMem(0xe0cf), 0xdc);
        // C3 0318
        gbc.setState(0x8c0b, 0x9812, 0x5cd0, 0xd115, 0xf02e, 0xa644, 0x0, 0x0);
        gbc.writeMem(0x8c0b, { 0xc3, 0x5, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x9812);
        EXPECT(gbc.pc(), 0x5e05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c0b), 0xc3);
        EXPECT(gbc.readMem(0x8c0c), 0x5);
        EXPECT(gbc.readMem(0x8c0d), 0x5e);
        // C3 0319
        gbc.setState(0xd658, 0x2e99, 0x4f00, 0xc2d8, 0x2d6e, 0xd7f2, 0x0, 0x1);
        gbc.writeMem(0xd658, { 0xc3, 0x54, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x2e99);
        EXPECT(gbc.pc(), 0x3154);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd658), 0xc3);
        EXPECT(gbc.readMem(0xd659), 0x54);
        EXPECT(gbc.readMem(0xd65a), 0x31);
        // C3 031A
        gbc.setState(0x4e32, 0x2c2b, 0x64f0, 0x5ee7, 0x606e, 0x653d, 0x0, 0x1);
        gbc.writeMem(0x4e32, { 0xc3, 0x9, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x2c2b);
        EXPECT(gbc.pc(), 0xa409);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 031B
        gbc.setState(0x22b, 0x2f1e, 0xda50, 0xf0dd, 0xf4e5, 0xe047, 0x0, 0x1);
        gbc.writeMem(0x22b, { 0xc3, 0xf3, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x2f1e);
        EXPECT(gbc.pc(), 0xa7f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 031C
        gbc.setState(0xc85d, 0xce24, 0x20e0, 0xd86a, 0x2491, 0x6501, 0x0, 0x1);
        gbc.writeMem(0xc85d, { 0xc3, 0xbb, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xce24);
        EXPECT(gbc.pc(), 0x1abb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc85d), 0xc3);
        EXPECT(gbc.readMem(0xc85e), 0xbb);
        EXPECT(gbc.readMem(0xc85f), 0x1a);
        // C3 031E
        gbc.setState(0xe694, 0x612c, 0xf500, 0x21dc, 0x6f4e, 0x9de9, 0x1, 0x1);
        gbc.writeMem(0xe694, { 0xc3, 0xb8, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x612c);
        EXPECT(gbc.pc(), 0x76b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe694), 0xc3);
        EXPECT(gbc.readMem(0xe695), 0xb8);
        EXPECT(gbc.readMem(0xe696), 0x76);
        // C3 031F
        gbc.setState(0xa5d5, 0xa84b, 0xa2b0, 0x3d51, 0xac8f, 0xa5f7, 0x0, 0x0);
        gbc.writeMem(0xa5d5, { 0xc3, 0xbe, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa84b);
        EXPECT(gbc.pc(), 0x9cbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5d5), 0xc3);
        EXPECT(gbc.readMem(0xa5d6), 0xbe);
        EXPECT(gbc.readMem(0xa5d7), 0x9c);
        // C3 0320
        gbc.setState(0xc8b7, 0x139f, 0x76b0, 0x662e, 0x6f1d, 0xfc65, 0x1, 0x1);
        gbc.writeMem(0xc8b7, { 0xc3, 0x98, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x139f);
        EXPECT(gbc.pc(), 0xd698);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8b7), 0xc3);
        EXPECT(gbc.readMem(0xc8b8), 0x98);
        EXPECT(gbc.readMem(0xc8b9), 0xd6);
        // C3 0321
        gbc.setState(0xcf6b, 0xd6d0, 0xb880, 0x247, 0x42e9, 0x60cf, 0x1, 0x1);
        gbc.writeMem(0xcf6b, { 0xc3, 0x76, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xd6d0);
        EXPECT(gbc.pc(), 0x4176);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf6b), 0xc3);
        EXPECT(gbc.readMem(0xcf6c), 0x76);
        EXPECT(gbc.readMem(0xcf6d), 0x41);
        // C3 0322
        gbc.setState(0xcbe5, 0x7d46, 0x4da0, 0xe1c3, 0x29a0, 0x76b1, 0x1, 0x1);
        gbc.writeMem(0xcbe5, { 0xc3, 0x60, 0x9b });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x7d46);
        EXPECT(gbc.pc(), 0x9b60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbe5), 0xc3);
        EXPECT(gbc.readMem(0xcbe6), 0x60);
        EXPECT(gbc.readMem(0xcbe7), 0x9b);
        // C3 0323
        gbc.setState(0x2c48, 0x5bfe, 0x1870, 0xf0cd, 0x99bf, 0x645, 0x1, 0x0);
        gbc.writeMem(0x2c48, { 0xc3, 0x2e, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x5bfe);
        EXPECT(gbc.pc(), 0xa92e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0324
        gbc.setState(0x1fc2, 0xdb8a, 0x92e0, 0x8984, 0x8ced, 0x5372, 0x1, 0x0);
        gbc.writeMem(0x1fc2, { 0xc3, 0x8, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xdb8a);
        EXPECT(gbc.pc(), 0x3508);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0325
        gbc.setState(0xe96e, 0x10db, 0x8180, 0xa1f3, 0x48c6, 0xa7ed, 0x1, 0x0);
        gbc.writeMem(0xe96e, { 0xc3, 0x28, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x10db);
        EXPECT(gbc.pc(), 0x2d28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe96e), 0xc3);
        EXPECT(gbc.readMem(0xe96f), 0x28);
        EXPECT(gbc.readMem(0xe970), 0x2d);
        // C3 0326
        gbc.setState(0xda4f, 0x613a, 0x1120, 0x14ee, 0x94d6, 0x3cb8, 0x0, 0x0);
        gbc.writeMem(0xda4f, { 0xc3, 0x92, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x613a);
        EXPECT(gbc.pc(), 0xbf92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda4f), 0xc3);
        EXPECT(gbc.readMem(0xda50), 0x92);
        EXPECT(gbc.readMem(0xda51), 0xbf);
        // C3 0327
        gbc.setState(0x87ff, 0x65bb, 0x5c20, 0xfd41, 0xdd79, 0xcd4f, 0x0, 0x1);
        gbc.writeMem(0x87ff, { 0xc3, 0xbf, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x65bb);
        EXPECT(gbc.pc(), 0xbebf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87ff), 0xc3);
        EXPECT(gbc.readMem(0x8800), 0xbf);
        EXPECT(gbc.readMem(0x8801), 0xbe);
        // C3 0328
        gbc.setState(0xd9dc, 0x72d7, 0x6120, 0xf1f8, 0x5ecd, 0x1f59, 0x0, 0x1);
        gbc.writeMem(0xd9dc, { 0xc3, 0x3c, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x72d7);
        EXPECT(gbc.pc(), 0x9d3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9dc), 0xc3);
        EXPECT(gbc.readMem(0xd9dd), 0x3c);
        EXPECT(gbc.readMem(0xd9de), 0x9d);
        // C3 0329
        gbc.setState(0xc4f2, 0xf647, 0xc590, 0xe83d, 0x43e1, 0x935c, 0x1, 0x0);
        gbc.writeMem(0xc4f2, { 0xc3, 0x8f, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xf647);
        EXPECT(gbc.pc(), 0x568f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4f2), 0xc3);
        EXPECT(gbc.readMem(0xc4f3), 0x8f);
        EXPECT(gbc.readMem(0xc4f4), 0x56);
        // C3 032A
        gbc.setState(0x6c83, 0x1b56, 0xfea0, 0x12cf, 0x7797, 0x7947, 0x1, 0x1);
        gbc.writeMem(0x6c83, { 0xc3, 0xe3, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x1b56);
        EXPECT(gbc.pc(), 0x4ee3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 032B
        gbc.setState(0xec0c, 0xbd88, 0x7460, 0x41f0, 0xfbe4, 0x89d9, 0x0, 0x1);
        gbc.writeMem(0xec0c, { 0xc3, 0xa4, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xbd88);
        EXPECT(gbc.pc(), 0x72a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec0c), 0xc3);
        EXPECT(gbc.readMem(0xec0d), 0xa4);
        EXPECT(gbc.readMem(0xec0e), 0x72);
        // C3 032C
        gbc.setState(0xdde1, 0xad85, 0xcee0, 0xa191, 0x6aa5, 0x6252, 0x0, 0x0);
        gbc.writeMem(0xdde1, { 0xc3, 0x5c, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xad85);
        EXPECT(gbc.pc(), 0xbb5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdde1), 0xc3);
        EXPECT(gbc.readMem(0xdde2), 0x5c);
        EXPECT(gbc.readMem(0xdde3), 0xbb);
        // C3 032D
        gbc.setState(0x5e21, 0x3006, 0x7940, 0x6e9b, 0x8113, 0xe7bd, 0x0, 0x0);
        gbc.writeMem(0x5e21, { 0xc3, 0x97, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x3006);
        EXPECT(gbc.pc(), 0x4f97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 032E
        gbc.setState(0xba8f, 0xd0e4, 0xbce0, 0xd0be, 0xc814, 0x79e5, 0x1, 0x0);
        gbc.writeMem(0xba8f, { 0xc3, 0xf0, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xd0e4);
        EXPECT(gbc.pc(), 0x16f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba8f), 0xc3);
        EXPECT(gbc.readMem(0xba90), 0xf0);
        EXPECT(gbc.readMem(0xba91), 0x16);
        // C3 032F
        gbc.setState(0xf91, 0x58ff, 0xbd30, 0x5d3f, 0xf0fb, 0xef55, 0x0, 0x1);
        gbc.writeMem(0xf91, { 0xc3, 0xe8, 0x9f });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x58ff);
        EXPECT(gbc.pc(), 0x9fe8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0330
        gbc.setState(0xc945, 0x6f28, 0xad30, 0x8b70, 0x1343, 0xb37e, 0x0, 0x0);
        gbc.writeMem(0xc945, { 0xc3, 0xa, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x6f28);
        EXPECT(gbc.pc(), 0x9d0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc945), 0xc3);
        EXPECT(gbc.readMem(0xc946), 0xa);
        EXPECT(gbc.readMem(0xc947), 0x9d);
        // C3 0331
        gbc.setState(0x222b, 0x27b1, 0x3cb0, 0xe826, 0x3056, 0x916f, 0x0, 0x0);
        gbc.writeMem(0x222b, { 0xc3, 0x9f, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x27b1);
        EXPECT(gbc.pc(), 0x3f9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0332
        gbc.setState(0x3f8, 0x7ec4, 0x4700, 0xc961, 0x1c18, 0x9031, 0x0, 0x1);
        gbc.writeMem(0x3f8, { 0xc3, 0x66, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x7ec4);
        EXPECT(gbc.pc(), 0x4b66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0333
        gbc.setState(0x6b27, 0xd4aa, 0x80e0, 0x9c71, 0x1a4c, 0x67b2, 0x1, 0x0);
        gbc.writeMem(0x6b27, { 0xc3, 0x7f, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xd4aa);
        EXPECT(gbc.pc(), 0xbf7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0334
        gbc.setState(0x2553, 0xfbea, 0xe020, 0x6c4b, 0x4e1b, 0x5cf0, 0x1, 0x0);
        gbc.writeMem(0x2553, { 0xc3, 0xf0, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xfbea);
        EXPECT(gbc.pc(), 0x45f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0335
        gbc.setState(0x8b79, 0x7096, 0x94d0, 0xed2b, 0x5ae, 0x2c57, 0x1, 0x0);
        gbc.writeMem(0x8b79, { 0xc3, 0x66, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x7096);
        EXPECT(gbc.pc(), 0x4866);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b79), 0xc3);
        EXPECT(gbc.readMem(0x8b7a), 0x66);
        EXPECT(gbc.readMem(0x8b7b), 0x48);
        // C3 0336
        gbc.setState(0xc3c7, 0x24f9, 0xfec0, 0xefe1, 0xbad2, 0x656b, 0x1, 0x0);
        gbc.writeMem(0xc3c7, { 0xc3, 0x88, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x24f9);
        EXPECT(gbc.pc(), 0xf888);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3c7), 0xc3);
        EXPECT(gbc.readMem(0xc3c8), 0x88);
        EXPECT(gbc.readMem(0xc3c9), 0xf8);
        // C3 0337
        gbc.setState(0x4cbd, 0x22de, 0x37c0, 0x6160, 0xea28, 0xd3f0, 0x1, 0x1);
        gbc.writeMem(0x4cbd, { 0xc3, 0x3e, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x22de);
        EXPECT(gbc.pc(), 0x1d3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0338
        gbc.setState(0x6a12, 0x86c8, 0x49f0, 0x87d9, 0x22a1, 0x5027, 0x1, 0x1);
        gbc.writeMem(0x6a12, { 0xc3, 0x8d, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x86c8);
        EXPECT(gbc.pc(), 0x768d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 033A
        gbc.setState(0xe825, 0xaef7, 0x2bc0, 0x8fbb, 0x720a, 0x7d5f, 0x1, 0x0);
        gbc.writeMem(0xe825, { 0xc3, 0xa2, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xaef7);
        EXPECT(gbc.pc(), 0x44a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe825), 0xc3);
        EXPECT(gbc.readMem(0xe826), 0xa2);
        EXPECT(gbc.readMem(0xe827), 0x44);
        // C3 033B
        gbc.setState(0x8019, 0x9f45, 0xe790, 0x83c6, 0x98e1, 0x7af6, 0x1, 0x1);
        gbc.writeMem(0x8019, { 0xc3, 0x7c, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x9f45);
        EXPECT(gbc.pc(), 0x5d7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8019), 0xc3);
        EXPECT(gbc.readMem(0x801a), 0x7c);
        EXPECT(gbc.readMem(0x801b), 0x5d);
        // C3 033C
        gbc.setState(0xb1bd, 0xae60, 0xb860, 0x3d2a, 0xd31c, 0x451e, 0x0, 0x0);
        gbc.writeMem(0xb1bd, { 0xc3, 0xf3, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xae60);
        EXPECT(gbc.pc(), 0x32f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1bd), 0xc3);
        EXPECT(gbc.readMem(0xb1be), 0xf3);
        EXPECT(gbc.readMem(0xb1bf), 0x32);
        // C3 033D
        gbc.setState(0xe583, 0x4515, 0x4c70, 0xb098, 0x4270, 0x3da, 0x0, 0x0);
        gbc.writeMem(0xe583, { 0xc3, 0x4f, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x4515);
        EXPECT(gbc.pc(), 0x734f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe583), 0xc3);
        EXPECT(gbc.readMem(0xe584), 0x4f);
        EXPECT(gbc.readMem(0xe585), 0x73);
        // C3 033E
        gbc.setState(0x4162, 0xaa47, 0x1ce0, 0xa160, 0x3f24, 0xd3fa, 0x1, 0x1);
        gbc.writeMem(0x4162, { 0xc3, 0x14, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xaa47);
        EXPECT(gbc.pc(), 0xef14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 033F
        gbc.setState(0xc342, 0xec41, 0xab70, 0x81a0, 0x68ed, 0xd8e0, 0x1, 0x0);
        gbc.writeMem(0xc342, { 0xc3, 0x5f, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xec41);
        EXPECT(gbc.pc(), 0xd55f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc342), 0xc3);
        EXPECT(gbc.readMem(0xc343), 0x5f);
        EXPECT(gbc.readMem(0xc344), 0xd5);
        // C3 0340
        gbc.setState(0x83d2, 0x50ba, 0x84a0, 0xcfa8, 0xca61, 0xf907, 0x1, 0x0);
        gbc.writeMem(0x83d2, { 0xc3, 0xa2, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x50ba);
        EXPECT(gbc.pc(), 0xd8a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83d2), 0xc3);
        EXPECT(gbc.readMem(0x83d3), 0xa2);
        EXPECT(gbc.readMem(0x83d4), 0xd8);
        // C3 0341
        gbc.setState(0xef06, 0x3365, 0xbcf0, 0x18f0, 0xe16c, 0x77e8, 0x1, 0x0);
        gbc.writeMem(0xef06, { 0xc3, 0xeb, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x3365);
        EXPECT(gbc.pc(), 0x3feb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef06), 0xc3);
        EXPECT(gbc.readMem(0xef07), 0xeb);
        EXPECT(gbc.readMem(0xef08), 0x3f);
        // C3 0342
        gbc.setState(0x4d3b, 0x8574, 0x6e00, 0xc372, 0x33c0, 0xaa2, 0x0, 0x1);
        gbc.writeMem(0x4d3b, { 0xc3, 0xdf, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x8574);
        EXPECT(gbc.pc(), 0x3ddf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0343
        gbc.setState(0x995c, 0x2fd0, 0xbae0, 0x9a6b, 0xe24c, 0xfb80, 0x1, 0x1);
        gbc.writeMem(0x995c, { 0xc3, 0xa1, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x2fd0);
        EXPECT(gbc.pc(), 0xd9a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x995c), 0xc3);
        EXPECT(gbc.readMem(0x995d), 0xa1);
        EXPECT(gbc.readMem(0x995e), 0xd9);
        // C3 0344
        gbc.setState(0x585b, 0x243d, 0xf880, 0x2178, 0x77f3, 0xa159, 0x0, 0x1);
        gbc.writeMem(0x585b, { 0xc3, 0x3e, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x243d);
        EXPECT(gbc.pc(), 0xbf3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0345
        gbc.setState(0x9fd, 0x600a, 0x2270, 0xaa80, 0x6a9f, 0xa094, 0x0, 0x0);
        gbc.writeMem(0x9fd, { 0xc3, 0xb6, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x600a);
        EXPECT(gbc.pc(), 0x3ab6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0346
        gbc.setState(0x6e21, 0x5743, 0xbff0, 0xf769, 0xdc0, 0x2d92, 0x1, 0x1);
        gbc.writeMem(0x6e21, { 0xc3, 0x11, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x5743);
        EXPECT(gbc.pc(), 0x3c11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0347
        gbc.setState(0xda8d, 0x4b93, 0x2730, 0x6cc0, 0x4b34, 0x93b1, 0x0, 0x0);
        gbc.writeMem(0xda8d, { 0xc3, 0xeb, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x4b93);
        EXPECT(gbc.pc(), 0x2eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda8d), 0xc3);
        EXPECT(gbc.readMem(0xda8e), 0xeb);
        EXPECT(gbc.readMem(0xda8f), 0x2);
        // C3 0348
        gbc.setState(0x6c2a, 0x899c, 0x83f0, 0x4601, 0x9d2e, 0x8953, 0x0, 0x0);
        gbc.writeMem(0x6c2a, { 0xc3, 0x13, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x899c);
        EXPECT(gbc.pc(), 0x5013);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0349
        gbc.setState(0x813a, 0xe828, 0xbe20, 0xfbac, 0x44c0, 0x7ee7, 0x1, 0x1);
        gbc.writeMem(0x813a, { 0xc3, 0x3, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xe828);
        EXPECT(gbc.pc(), 0xc403);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x813a), 0xc3);
        EXPECT(gbc.readMem(0x813b), 0x3);
        EXPECT(gbc.readMem(0x813c), 0xc4);
        // C3 034A
        gbc.setState(0xeeeb, 0x54f0, 0xd8d0, 0x4629, 0xa999, 0x7dbd, 0x0, 0x0);
        gbc.writeMem(0xeeeb, { 0xc3, 0xcf, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x54f0);
        EXPECT(gbc.pc(), 0x7fcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeeeb), 0xc3);
        EXPECT(gbc.readMem(0xeeec), 0xcf);
        EXPECT(gbc.readMem(0xeeed), 0x7f);
        // C3 034B
        gbc.setState(0x90e6, 0xa4b9, 0x76a0, 0x8600, 0x9d09, 0xd2ac, 0x1, 0x0);
        gbc.writeMem(0x90e6, { 0xc3, 0xf0, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xa4b9);
        EXPECT(gbc.pc(), 0x67f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90e6), 0xc3);
        EXPECT(gbc.readMem(0x90e7), 0xf0);
        EXPECT(gbc.readMem(0x90e8), 0x67);
        // C3 034C
        gbc.setState(0xe11d, 0x4a78, 0x40a0, 0x709d, 0x3cb4, 0x50c0, 0x0, 0x0);
        gbc.writeMem(0xe11d, { 0xc3, 0x4b, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4a78);
        EXPECT(gbc.pc(), 0x3c4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe11d), 0xc3);
        EXPECT(gbc.readMem(0xe11e), 0x4b);
        EXPECT(gbc.readMem(0xe11f), 0x3c);
        // C3 034D
        gbc.setState(0x721e, 0x38d3, 0xf970, 0x3c06, 0xeaab, 0x162f, 0x1, 0x1);
        gbc.writeMem(0x721e, { 0xc3, 0x4b, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x38d3);
        EXPECT(gbc.pc(), 0xbc4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 034E
        gbc.setState(0x8804, 0x58dd, 0xc420, 0x1cba, 0x6cae, 0x51b2, 0x0, 0x1);
        gbc.writeMem(0x8804, { 0xc3, 0x4e, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x58dd);
        EXPECT(gbc.pc(), 0x384e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8804), 0xc3);
        EXPECT(gbc.readMem(0x8805), 0x4e);
        EXPECT(gbc.readMem(0x8806), 0x38);
        // C3 034F
        gbc.setState(0x622b, 0x6af4, 0xc480, 0x445b, 0x3928, 0x11c4, 0x0, 0x0);
        gbc.writeMem(0x622b, { 0xc3, 0xc4, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x6af4);
        EXPECT(gbc.pc(), 0x1cc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0350
        gbc.setState(0x9f5d, 0x3cb, 0x8b40, 0x151e, 0x437f, 0x3c44, 0x1, 0x0);
        gbc.writeMem(0x9f5d, { 0xc3, 0x12, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x3cb);
        EXPECT(gbc.pc(), 0xe912);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f5d), 0xc3);
        EXPECT(gbc.readMem(0x9f5e), 0x12);
        EXPECT(gbc.readMem(0x9f5f), 0xe9);
        // C3 0351
        gbc.setState(0xe672, 0xd464, 0x2b70, 0xc727, 0xb21e, 0x72bb, 0x0, 0x0);
        gbc.writeMem(0xe672, { 0xc3, 0xf2, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xd464);
        EXPECT(gbc.pc(), 0x19f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe672), 0xc3);
        EXPECT(gbc.readMem(0xe673), 0xf2);
        EXPECT(gbc.readMem(0xe674), 0x19);
        // C3 0352
        gbc.setState(0xd2ca, 0x6e5a, 0xf540, 0x9260, 0xdfea, 0xa429, 0x1, 0x1);
        gbc.writeMem(0xd2ca, { 0xc3, 0x3c, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x6e5a);
        EXPECT(gbc.pc(), 0x973c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2ca), 0xc3);
        EXPECT(gbc.readMem(0xd2cb), 0x3c);
        EXPECT(gbc.readMem(0xd2cc), 0x97);
        // C3 0353
        gbc.setState(0x6b5e, 0xca3f, 0x69e0, 0x2ee3, 0x2435, 0xa85f, 0x0, 0x0);
        gbc.writeMem(0x6b5e, { 0xc3, 0x2b, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xca3f);
        EXPECT(gbc.pc(), 0x382b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0354
        gbc.setState(0xb433, 0xc387, 0x5e60, 0x5d00, 0x28b7, 0xfff0, 0x1, 0x1);
        gbc.writeMem(0xb433, { 0xc3, 0xe, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xc387);
        EXPECT(gbc.pc(), 0xfb0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb433), 0xc3);
        EXPECT(gbc.readMem(0xb434), 0xe);
        EXPECT(gbc.readMem(0xb435), 0xfb);
        // C3 0355
        gbc.setState(0x9091, 0x228d, 0xaa40, 0x69ef, 0xd8dc, 0xc068, 0x0, 0x0);
        gbc.writeMem(0x9091, { 0xc3, 0xe3, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x228d);
        EXPECT(gbc.pc(), 0x25e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9091), 0xc3);
        EXPECT(gbc.readMem(0x9092), 0xe3);
        EXPECT(gbc.readMem(0x9093), 0x25);
        // C3 0356
        gbc.setState(0x5f05, 0x5023, 0x2ce0, 0x723, 0x3368, 0x5711, 0x0, 0x1);
        gbc.writeMem(0x5f05, { 0xc3, 0x4c, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x5023);
        EXPECT(gbc.pc(), 0x1f4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0357
        gbc.setState(0x90b8, 0x11ac, 0xb2e0, 0xe766, 0xa13d, 0x5cfd, 0x0, 0x1);
        gbc.writeMem(0x90b8, { 0xc3, 0x6d, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x11ac);
        EXPECT(gbc.pc(), 0x796d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90b8), 0xc3);
        EXPECT(gbc.readMem(0x90b9), 0x6d);
        EXPECT(gbc.readMem(0x90ba), 0x79);
        // C3 0358
        gbc.setState(0xcb1a, 0x73a5, 0xe2f0, 0x48d3, 0x9c08, 0x568f, 0x0, 0x0);
        gbc.writeMem(0xcb1a, { 0xc3, 0x1f, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x73a5);
        EXPECT(gbc.pc(), 0x711f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb1a), 0xc3);
        EXPECT(gbc.readMem(0xcb1b), 0x1f);
        EXPECT(gbc.readMem(0xcb1c), 0x71);
        // C3 0359
        gbc.setState(0x4636, 0xa5be, 0x6780, 0xf74f, 0xc7f, 0x95a3, 0x0, 0x1);
        gbc.writeMem(0x4636, { 0xc3, 0xba, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xa5be);
        EXPECT(gbc.pc(), 0xaeba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 035A
        gbc.setState(0x1b92, 0x6704, 0x77c0, 0x38af, 0x6949, 0x6c1b, 0x1, 0x0);
        gbc.writeMem(0x1b92, { 0xc3, 0x7a, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x6704);
        EXPECT(gbc.pc(), 0x1e7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 035B
        gbc.setState(0x983d, 0x3cb3, 0x7920, 0x7cbc, 0x3cd4, 0x626f, 0x0, 0x1);
        gbc.writeMem(0x983d, { 0xc3, 0xd8, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x3cb3);
        EXPECT(gbc.pc(), 0xbcd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x983d), 0xc3);
        EXPECT(gbc.readMem(0x983e), 0xd8);
        EXPECT(gbc.readMem(0x983f), 0xbc);
        // C3 035C
        gbc.setState(0x93da, 0x146f, 0x79b0, 0xb6fb, 0xd176, 0x3241, 0x0, 0x1);
        gbc.writeMem(0x93da, { 0xc3, 0xa7, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x146f);
        EXPECT(gbc.pc(), 0xe3a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93da), 0xc3);
        EXPECT(gbc.readMem(0x93db), 0xa7);
        EXPECT(gbc.readMem(0x93dc), 0xe3);
        // C3 035D
        gbc.setState(0x2cb9, 0xc310, 0x1c80, 0xddfb, 0xfa57, 0x9138, 0x0, 0x1);
        gbc.writeMem(0x2cb9, { 0xc3, 0x1b, 0xbc });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xc310);
        EXPECT(gbc.pc(), 0xbc1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 035E
        gbc.setState(0x86e7, 0xf691, 0xd440, 0x3f26, 0xf8f0, 0x70dd, 0x0, 0x0);
        gbc.writeMem(0x86e7, { 0xc3, 0xed, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xf691);
        EXPECT(gbc.pc(), 0xfbed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86e7), 0xc3);
        EXPECT(gbc.readMem(0x86e8), 0xed);
        EXPECT(gbc.readMem(0x86e9), 0xfb);
        // C3 035F
        gbc.setState(0xd8ae, 0xe62a, 0x6170, 0xa1e9, 0x3c61, 0x26a6, 0x0, 0x0);
        gbc.writeMem(0xd8ae, { 0xc3, 0x45, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xe62a);
        EXPECT(gbc.pc(), 0xaf45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8ae), 0xc3);
        EXPECT(gbc.readMem(0xd8af), 0x45);
        EXPECT(gbc.readMem(0xd8b0), 0xaf);
        // C3 0360
        gbc.setState(0x3a42, 0x3911, 0x5280, 0xdd2a, 0x5d18, 0xa11b, 0x0, 0x1);
        gbc.writeMem(0x3a42, { 0xc3, 0xcd, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x3911);
        EXPECT(gbc.pc(), 0x18cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0361
        gbc.setState(0xd99d, 0xb086, 0x78f0, 0x82c5, 0xc1a7, 0x3ab8, 0x0, 0x1);
        gbc.writeMem(0xd99d, { 0xc3, 0xa6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xb086);
        EXPECT(gbc.pc(), 0xa2a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd99d), 0xc3);
        EXPECT(gbc.readMem(0xd99e), 0xa6);
        EXPECT(gbc.readMem(0xd99f), 0xa2);
        // C3 0362
        gbc.setState(0x89f2, 0xa1c9, 0x84c0, 0x4cd5, 0xf527, 0xccb6, 0x1, 0x1);
        gbc.writeMem(0x89f2, { 0xc3, 0x59, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xa1c9);
        EXPECT(gbc.pc(), 0xa759);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89f2), 0xc3);
        EXPECT(gbc.readMem(0x89f3), 0x59);
        EXPECT(gbc.readMem(0x89f4), 0xa7);
        // C3 0363
        gbc.setState(0x4345, 0xbba5, 0x6070, 0x7077, 0xfbb5, 0xfeb8, 0x0, 0x1);
        gbc.writeMem(0x4345, { 0xc3, 0x1d, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xbba5);
        EXPECT(gbc.pc(), 0xa61d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0364
        gbc.setState(0x6b09, 0x7b20, 0x1b40, 0x8214, 0xbc9, 0x449e, 0x0, 0x1);
        gbc.writeMem(0x6b09, { 0xc3, 0x7, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x7b20);
        EXPECT(gbc.pc(), 0x3a07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0365
        gbc.setState(0xd5f5, 0x3d47, 0x1820, 0xc1c9, 0x19b1, 0xbca3, 0x0, 0x0);
        gbc.writeMem(0xd5f5, { 0xc3, 0x4f, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x3d47);
        EXPECT(gbc.pc(), 0x2e4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5f5), 0xc3);
        EXPECT(gbc.readMem(0xd5f6), 0x4f);
        EXPECT(gbc.readMem(0xd5f7), 0x2e);
        // C3 0366
        gbc.setState(0x502b, 0xdf81, 0xd0b0, 0x5c1a, 0x548e, 0x8be8, 0x1, 0x0);
        gbc.writeMem(0x502b, { 0xc3, 0x5d, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xdf81);
        EXPECT(gbc.pc(), 0x465d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0367
        gbc.setState(0x7212, 0x78f1, 0x8620, 0x5f70, 0x4fe7, 0x5de3, 0x1, 0x1);
        gbc.writeMem(0x7212, { 0xc3, 0x9d, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x78f1);
        EXPECT(gbc.pc(), 0xa99d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0368
        gbc.setState(0x5f22, 0x8d3b, 0xbad0, 0xaba1, 0xea63, 0xcb14, 0x0, 0x1);
        gbc.writeMem(0x5f22, { 0xc3, 0x58, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x8d3b);
        EXPECT(gbc.pc(), 0x1958);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0369
        gbc.setState(0x7820, 0xfb04, 0x70d0, 0x6ce, 0xe8a1, 0x2982, 0x0, 0x0);
        gbc.writeMem(0x7820, { 0xc3, 0x31, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xfb04);
        EXPECT(gbc.pc(), 0xe931);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 036A
        gbc.setState(0x2f3d, 0x2610, 0xde60, 0x5914, 0x7a33, 0xbcd8, 0x1, 0x0);
        gbc.writeMem(0x2f3d, { 0xc3, 0x54, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x2610);
        EXPECT(gbc.pc(), 0xd554);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 036B
        gbc.setState(0x5b11, 0x6e18, 0xa360, 0xb107, 0x3212, 0xd204, 0x0, 0x0);
        gbc.writeMem(0x5b11, { 0xc3, 0x8c, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x6e18);
        EXPECT(gbc.pc(), 0xc78c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 036C
        gbc.setState(0x564c, 0x2f9f, 0x2b0, 0x6c00, 0xb16c, 0x6090, 0x0, 0x1);
        gbc.writeMem(0x564c, { 0xc3, 0x9b, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x2f9f);
        EXPECT(gbc.pc(), 0xb09b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 036D
        gbc.setState(0xc354, 0x5077, 0x9d90, 0xbc6c, 0x6baa, 0x2bc6, 0x0, 0x1);
        gbc.writeMem(0xc354, { 0xc3, 0x6c, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x5077);
        EXPECT(gbc.pc(), 0xa06c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc354), 0xc3);
        EXPECT(gbc.readMem(0xc355), 0x6c);
        EXPECT(gbc.readMem(0xc356), 0xa0);
        // C3 036E
        gbc.setState(0x2222, 0xfabc, 0xf4c0, 0xc5ce, 0xb0, 0x8f2f, 0x1, 0x0);
        gbc.writeMem(0x2222, { 0xc3, 0xf0, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xfabc);
        EXPECT(gbc.pc(), 0x3ef0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 036F
        gbc.setState(0xbf22, 0x6987, 0x2150, 0x7df, 0x806a, 0xfc82, 0x0, 0x0);
        gbc.writeMem(0xbf22, { 0xc3, 0xf0, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x6987);
        EXPECT(gbc.pc(), 0xbef0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf22), 0xc3);
        EXPECT(gbc.readMem(0xbf23), 0xf0);
        EXPECT(gbc.readMem(0xbf24), 0xbe);
        // C3 0370
        gbc.setState(0x7249, 0x33f0, 0x5f0, 0x4299, 0x2b1c, 0x585b, 0x1, 0x1);
        gbc.writeMem(0x7249, { 0xc3, 0xd4, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x33f0);
        EXPECT(gbc.pc(), 0x9ad4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 0371
        gbc.setState(0x15c4, 0x25e5, 0xc440, 0xede5, 0xfdb1, 0xaf0f, 0x1, 0x1);
        gbc.writeMem(0x15c4, { 0xc3, 0x27, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x25e5);
        EXPECT(gbc.pc(), 0x5027);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0372
        gbc.setState(0xbbf6, 0x19be, 0xfbb0, 0x74fe, 0x5e4e, 0x7026, 0x0, 0x1);
        gbc.writeMem(0xbbf6, { 0xc3, 0x1b, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x19be);
        EXPECT(gbc.pc(), 0xb11b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbf6), 0xc3);
        EXPECT(gbc.readMem(0xbbf7), 0x1b);
        EXPECT(gbc.readMem(0xbbf8), 0xb1);
        // C3 0373
        gbc.setState(0x7a66, 0x58e5, 0xed0, 0x45b5, 0x1a24, 0xf85a, 0x0, 0x0);
        gbc.writeMem(0x7a66, { 0xc3, 0x41, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x58e5);
        EXPECT(gbc.pc(), 0xa041);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0374
        gbc.setState(0xa82d, 0xeefa, 0x5400, 0xa56, 0x6c7d, 0xec9d, 0x1, 0x0);
        gbc.writeMem(0xa82d, { 0xc3, 0x17, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xeefa);
        EXPECT(gbc.pc(), 0xe217);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa82d), 0xc3);
        EXPECT(gbc.readMem(0xa82e), 0x17);
        EXPECT(gbc.readMem(0xa82f), 0xe2);
        // C3 0375
        gbc.setState(0x4f8, 0xea16, 0xcbd0, 0x7591, 0x228, 0xe30c, 0x1, 0x1);
        gbc.writeMem(0x4f8, { 0xc3, 0x50, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xea16);
        EXPECT(gbc.pc(), 0x2a50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0376
        gbc.setState(0x9e8f, 0xcc8, 0x1740, 0x552a, 0x802, 0x5298, 0x1, 0x0);
        gbc.writeMem(0x9e8f, { 0xc3, 0x56, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xcc8);
        EXPECT(gbc.pc(), 0x3156);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e8f), 0xc3);
        EXPECT(gbc.readMem(0x9e90), 0x56);
        EXPECT(gbc.readMem(0x9e91), 0x31);
        // C3 0377
        gbc.setState(0x9cc5, 0x834c, 0xe900, 0x1e0a, 0xe5fc, 0xb304, 0x1, 0x0);
        gbc.writeMem(0x9cc5, { 0xc3, 0xe0, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x834c);
        EXPECT(gbc.pc(), 0xe0e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cc5), 0xc3);
        EXPECT(gbc.readMem(0x9cc6), 0xe0);
        EXPECT(gbc.readMem(0x9cc7), 0xe0);
        // C3 0378
        gbc.setState(0xe372, 0x3401, 0x44d0, 0x12b8, 0x17ec, 0xad6b, 0x0, 0x0);
        gbc.writeMem(0xe372, { 0xc3, 0x2, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x3401);
        EXPECT(gbc.pc(), 0x2f02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe372), 0xc3);
        EXPECT(gbc.readMem(0xe373), 0x2);
        EXPECT(gbc.readMem(0xe374), 0x2f);
        // C3 0379
        gbc.setState(0x8b5b, 0x99b8, 0xc7a0, 0x4ca0, 0x23bc, 0x8d01, 0x0, 0x1);
        gbc.writeMem(0x8b5b, { 0xc3, 0xd, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x99b8);
        EXPECT(gbc.pc(), 0x380d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b5b), 0xc3);
        EXPECT(gbc.readMem(0x8b5c), 0xd);
        EXPECT(gbc.readMem(0x8b5d), 0x38);
        // C3 037A
        gbc.setState(0x9d45, 0x6306, 0x8ac0, 0xa8f6, 0x46de, 0x9f55, 0x0, 0x0);
        gbc.writeMem(0x9d45, { 0xc3, 0xbc, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x6306);
        EXPECT(gbc.pc(), 0x2dbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d45), 0xc3);
        EXPECT(gbc.readMem(0x9d46), 0xbc);
        EXPECT(gbc.readMem(0x9d47), 0x2d);
        // C3 037B
        gbc.setState(0xd29a, 0xd67b, 0x6b40, 0x6a08, 0x6fc3, 0x8a69, 0x1, 0x1);
        gbc.writeMem(0xd29a, { 0xc3, 0xaf, 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd67b);
        EXPECT(gbc.pc(), 0xdaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd29a), 0xc3);
        EXPECT(gbc.readMem(0xd29b), 0xaf);
        EXPECT(gbc.readMem(0xd29c), 0xd);
        // C3 037C
        gbc.setState(0x7147, 0x5435, 0x850, 0x734d, 0x6559, 0x24a6, 0x0, 0x1);
        gbc.writeMem(0x7147, { 0xc3, 0x37, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x5435);
        EXPECT(gbc.pc(), 0x5c37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 037D
        gbc.setState(0xc39c, 0x3e61, 0x1d00, 0x3093, 0x5ebe, 0xe9f, 0x0, 0x0);
        gbc.writeMem(0xc39c, { 0xc3, 0xb2, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x3e61);
        EXPECT(gbc.pc(), 0x83b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc39c), 0xc3);
        EXPECT(gbc.readMem(0xc39d), 0xb2);
        EXPECT(gbc.readMem(0xc39e), 0x83);
        // C3 037E
        gbc.setState(0x3fc6, 0x58fd, 0xb760, 0x1e32, 0x5449, 0xb1e2, 0x1, 0x1);
        gbc.writeMem(0x3fc6, { 0xc3, 0xb8, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x58fd);
        EXPECT(gbc.pc(), 0x33b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0380
        gbc.setState(0x7bf6, 0x159, 0xcc90, 0x35c6, 0x946b, 0x4c66, 0x1, 0x1);
        gbc.writeMem(0x7bf6, { 0xc3, 0x5e, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x159);
        EXPECT(gbc.pc(), 0xac5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0381
        gbc.setState(0xdd30, 0xbbfd, 0xd5c0, 0xd92b, 0xaee9, 0xbfa7, 0x0, 0x1);
        gbc.writeMem(0xdd30, { 0xc3, 0xb8, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xbbfd);
        EXPECT(gbc.pc(), 0x80b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd30), 0xc3);
        EXPECT(gbc.readMem(0xdd31), 0xb8);
        EXPECT(gbc.readMem(0xdd32), 0x80);
        // C3 0382
        gbc.setState(0x917f, 0xdf5d, 0xc0, 0x8d20, 0x82f2, 0x72ba, 0x0, 0x1);
        gbc.writeMem(0x917f, { 0xc3, 0x72, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xdf5d);
        EXPECT(gbc.pc(), 0x8572);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x917f), 0xc3);
        EXPECT(gbc.readMem(0x9180), 0x72);
        EXPECT(gbc.readMem(0x9181), 0x85);
        // C3 0383
        gbc.setState(0x3684, 0x9ebf, 0x1a00, 0xd635, 0x2c0f, 0xdbc4, 0x1, 0x1);
        gbc.writeMem(0x3684, { 0xc3, 0x87, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x9ebf);
        EXPECT(gbc.pc(), 0x1687);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0384
        gbc.setState(0x9366, 0xf7bd, 0xd6c0, 0xff72, 0xe111, 0x3e5c, 0x0, 0x0);
        gbc.writeMem(0x9366, { 0xc3, 0x33, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xf7bd);
        EXPECT(gbc.pc(), 0x3633);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9366), 0xc3);
        EXPECT(gbc.readMem(0x9367), 0x33);
        EXPECT(gbc.readMem(0x9368), 0x36);
        // C3 0385
        gbc.setState(0x143a, 0xe5ee, 0x5e80, 0x6b9f, 0x2e19, 0x3fe7, 0x0, 0x1);
        gbc.writeMem(0x143a, { 0xc3, 0x25, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xe5ee);
        EXPECT(gbc.pc(), 0x7a25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0386
        gbc.setState(0x6528, 0x43b5, 0x39e0, 0xa2f4, 0xf993, 0x360e, 0x1, 0x0);
        gbc.writeMem(0x6528, { 0xc3, 0x31, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x43b5);
        EXPECT(gbc.pc(), 0x6c31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 0387
        gbc.setState(0xe78d, 0x729e, 0x58a0, 0x8ab9, 0xace7, 0x46f3, 0x0, 0x1);
        gbc.writeMem(0xe78d, { 0xc3, 0x71, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x729e);
        EXPECT(gbc.pc(), 0x8e71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe78d), 0xc3);
        EXPECT(gbc.readMem(0xe78e), 0x71);
        EXPECT(gbc.readMem(0xe78f), 0x8e);
        // C3 0388
        gbc.setState(0x6dee, 0x17ec, 0x20e0, 0x3e10, 0x65e5, 0x501e, 0x0, 0x1);
        gbc.writeMem(0x6dee, { 0xc3, 0x79, 0x53 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x17ec);
        EXPECT(gbc.pc(), 0x5379);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 038A
        gbc.setState(0xe40e, 0xf0a5, 0x6df0, 0xa26d, 0x149e, 0x6f9a, 0x0, 0x0);
        gbc.writeMem(0xe40e, { 0xc3, 0x61, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xf0a5);
        EXPECT(gbc.pc(), 0x5561);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe40e), 0xc3);
        EXPECT(gbc.readMem(0xe40f), 0x61);
        EXPECT(gbc.readMem(0xe410), 0x55);
        // C3 038D
        gbc.setState(0xc906, 0xbded, 0xd290, 0x4b38, 0x671d, 0xb049, 0x1, 0x1);
        gbc.writeMem(0xc906, { 0xc3, 0xcb, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xbded);
        EXPECT(gbc.pc(), 0x3bcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc906), 0xc3);
        EXPECT(gbc.readMem(0xc907), 0xcb);
        EXPECT(gbc.readMem(0xc908), 0x3b);
        // C3 038E
        gbc.setState(0x1d3f, 0x7113, 0xe970, 0xdb2d, 0xbf8f, 0x946f, 0x1, 0x1);
        gbc.writeMem(0x1d3f, { 0xc3, 0x86, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x7113);
        EXPECT(gbc.pc(), 0x8486);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 038F
        gbc.setState(0xbe4d, 0x971, 0x5100, 0xc899, 0x64de, 0xc196, 0x1, 0x0);
        gbc.writeMem(0xbe4d, { 0xc3, 0x58, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x971);
        EXPECT(gbc.pc(), 0xc58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe4d), 0xc3);
        EXPECT(gbc.readMem(0xbe4e), 0x58);
        EXPECT(gbc.readMem(0xbe4f), 0xc);
        // C3 0390
        gbc.setState(0x75ff, 0xcfe4, 0xa7d0, 0x30b0, 0x7a5f, 0x2452, 0x0, 0x1);
        gbc.writeMem(0x75ff, { 0xc3, 0x5e, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xcfe4);
        EXPECT(gbc.pc(), 0x385e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 0392
        gbc.setState(0x87c6, 0xa90a, 0x8650, 0x59de, 0x6c24, 0xb240, 0x0, 0x1);
        gbc.writeMem(0x87c6, { 0xc3, 0x4, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xa90a);
        EXPECT(gbc.pc(), 0xff04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87c6), 0xc3);
        EXPECT(gbc.readMem(0x87c7), 0x4);
        EXPECT(gbc.readMem(0x87c8), 0xff);
        // C3 0393
        gbc.setState(0xd726, 0xc189, 0x53d0, 0x4ab6, 0x3d84, 0x34ee, 0x0, 0x1);
        gbc.writeMem(0xd726, { 0xc3, 0xca, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xc189);
        EXPECT(gbc.pc(), 0xdfca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd726), 0xc3);
        EXPECT(gbc.readMem(0xd727), 0xca);
        EXPECT(gbc.readMem(0xd728), 0xdf);
        // C3 0394
        gbc.setState(0xee0c, 0xabdf, 0x7c90, 0xb71c, 0x666e, 0x9fa6, 0x1, 0x1);
        gbc.writeMem(0xee0c, { 0xc3, 0xb4, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xabdf);
        EXPECT(gbc.pc(), 0x2ab4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee0c), 0xc3);
        EXPECT(gbc.readMem(0xee0d), 0xb4);
        EXPECT(gbc.readMem(0xee0e), 0x2a);
        // C3 0395
        gbc.setState(0xd56d, 0x285a, 0x33d0, 0x77c, 0x1e3a, 0xc9b4, 0x0, 0x0);
        gbc.writeMem(0xd56d, { 0xc3, 0x5b, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x285a);
        EXPECT(gbc.pc(), 0xe95b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd56d), 0xc3);
        EXPECT(gbc.readMem(0xd56e), 0x5b);
        EXPECT(gbc.readMem(0xd56f), 0xe9);
        // C3 0396
        gbc.setState(0x998d, 0x15a1, 0x7210, 0x17f9, 0xf103, 0xf711, 0x1, 0x0);
        gbc.writeMem(0x998d, { 0xc3, 0x9e, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x15a1);
        EXPECT(gbc.pc(), 0x119e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x998d), 0xc3);
        EXPECT(gbc.readMem(0x998e), 0x9e);
        EXPECT(gbc.readMem(0x998f), 0x11);
        // C3 0397
        gbc.setState(0x1f13, 0xac1c, 0x8300, 0x19ea, 0x73dc, 0xc873, 0x0, 0x1);
        gbc.writeMem(0x1f13, { 0xc3, 0xa5, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xac1c);
        EXPECT(gbc.pc(), 0xb7a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 0398
        gbc.setState(0xdbc3, 0x4e47, 0x1410, 0x8645, 0xab47, 0xf0ba, 0x1, 0x0);
        gbc.writeMem(0xdbc3, { 0xc3, 0xf5, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x4e47);
        EXPECT(gbc.pc(), 0x2f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbc3), 0xc3);
        EXPECT(gbc.readMem(0xdbc4), 0xf5);
        EXPECT(gbc.readMem(0xdbc5), 0x2);
        // C3 0399
        gbc.setState(0x6429, 0xf6c7, 0x6990, 0xe54, 0xcb92, 0x2eac, 0x0, 0x0);
        gbc.writeMem(0x6429, { 0xc3, 0x40, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf6c7);
        EXPECT(gbc.pc(), 0xe40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 039A
        gbc.setState(0xcd76, 0x3e29, 0x65e0, 0x4cc5, 0x5b34, 0x5a04, 0x1, 0x0);
        gbc.writeMem(0xcd76, { 0xc3, 0xf1, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x3e29);
        EXPECT(gbc.pc(), 0x6df1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd76), 0xc3);
        EXPECT(gbc.readMem(0xcd77), 0xf1);
        EXPECT(gbc.readMem(0xcd78), 0x6d);
        // C3 039B
        gbc.setState(0x4f67, 0x391c, 0x4a00, 0x6a43, 0xbd68, 0x864d, 0x0, 0x1);
        gbc.writeMem(0x4f67, { 0xc3, 0x41, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x391c);
        EXPECT(gbc.pc(), 0x8f41);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 039C
        gbc.setState(0x30aa, 0xbb1b, 0xe740, 0xd144, 0x3c0f, 0x7fe2, 0x0, 0x1);
        gbc.writeMem(0x30aa, { 0xc3, 0x64, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xbb1b);
        EXPECT(gbc.pc(), 0x8f64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 039D
        gbc.setState(0x18a0, 0x30c5, 0x3100, 0xc79e, 0x54cf, 0x4714, 0x0, 0x0);
        gbc.writeMem(0x18a0, { 0xc3, 0x59, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x30c5);
        EXPECT(gbc.pc(), 0xb459);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 039E
        gbc.setState(0x8a38, 0x87f3, 0x2680, 0x4164, 0x1e38, 0xbfda, 0x1, 0x0);
        gbc.writeMem(0x8a38, { 0xc3, 0xc8, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x87f3);
        EXPECT(gbc.pc(), 0x1dc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a38), 0xc3);
        EXPECT(gbc.readMem(0x8a39), 0xc8);
        EXPECT(gbc.readMem(0x8a3a), 0x1d);
        // C3 039F
        gbc.setState(0x5736, 0x7a39, 0x5460, 0x8b39, 0x7844, 0xcd47, 0x1, 0x0);
        gbc.writeMem(0x5736, { 0xc3, 0x42, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x7a39);
        EXPECT(gbc.pc(), 0xdc42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03A0
        gbc.setState(0x1048, 0x945e, 0x78d0, 0x1f56, 0xa449, 0x8db5, 0x0, 0x1);
        gbc.writeMem(0x1048, { 0xc3, 0xa1, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x945e);
        EXPECT(gbc.pc(), 0x5aa1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 03A1
        gbc.setState(0xdaaf, 0xeaa3, 0xeb00, 0x8248, 0x6d7a, 0x3fab, 0x0, 0x0);
        gbc.writeMem(0xdaaf, { 0xc3, 0xf0, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xeaa3);
        EXPECT(gbc.pc(), 0xa4f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaaf), 0xc3);
        EXPECT(gbc.readMem(0xdab0), 0xf0);
        EXPECT(gbc.readMem(0xdab1), 0xa4);
        // C3 03A2
        gbc.setState(0x26dd, 0xbd31, 0x8870, 0x1560, 0x9b07, 0x129b, 0x1, 0x1);
        gbc.writeMem(0x26dd, { 0xc3, 0x79, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xbd31);
        EXPECT(gbc.pc(), 0x4f79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 03A3
        gbc.setState(0x9171, 0x7faa, 0x3bd0, 0x4003, 0x2a54, 0x8dbf, 0x1, 0x1);
        gbc.writeMem(0x9171, { 0xc3, 0xd8, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x7faa);
        EXPECT(gbc.pc(), 0x32d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9171), 0xc3);
        EXPECT(gbc.readMem(0x9172), 0xd8);
        EXPECT(gbc.readMem(0x9173), 0x32);
        // C3 03A4
        gbc.setState(0xaa9, 0x6755, 0x7c30, 0x8c22, 0xb971, 0xfc5b, 0x1, 0x0);
        gbc.writeMem(0xaa9, { 0xc3, 0x84, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x6755);
        EXPECT(gbc.pc(), 0xab84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 03A5
        gbc.setState(0x7434, 0x9384, 0x5740, 0xe61a, 0xe98d, 0x1293, 0x0, 0x0);
        gbc.writeMem(0x7434, { 0xc3, 0x0, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x9384);
        EXPECT(gbc.pc(), 0x3300);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 03A7
        gbc.setState(0x8c38, 0x40f3, 0xa6b0, 0x28d5, 0x2a3d, 0x665d, 0x0, 0x1);
        gbc.writeMem(0x8c38, { 0xc3, 0x5b, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x40f3);
        EXPECT(gbc.pc(), 0x105b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c38), 0xc3);
        EXPECT(gbc.readMem(0x8c39), 0x5b);
        EXPECT(gbc.readMem(0x8c3a), 0x10);
        // C3 03A8
        gbc.setState(0xef3b, 0x5cde, 0x1330, 0x2cf5, 0xec1f, 0x148f, 0x0, 0x1);
        gbc.writeMem(0xef3b, { 0xc3, 0xee, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x5cde);
        EXPECT(gbc.pc(), 0xa5ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef3b), 0xc3);
        EXPECT(gbc.readMem(0xef3c), 0xee);
        EXPECT(gbc.readMem(0xef3d), 0xa5);
        // C3 03A9
        gbc.setState(0x8d9b, 0xe73b, 0xa1a0, 0x6519, 0xe803, 0xf9a9, 0x0, 0x0);
        gbc.writeMem(0x8d9b, { 0xc3, 0xab, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xe73b);
        EXPECT(gbc.pc(), 0xa0ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d9b), 0xc3);
        EXPECT(gbc.readMem(0x8d9c), 0xab);
        EXPECT(gbc.readMem(0x8d9d), 0xa0);
        // C3 03AA
        gbc.setState(0x33b3, 0x7317, 0x3f00, 0xada7, 0x9832, 0x334, 0x0, 0x0);
        gbc.writeMem(0x33b3, { 0xc3, 0x8, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x7317);
        EXPECT(gbc.pc(), 0xc208);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 03AB
        gbc.setState(0x35c5, 0x4b41, 0x4a00, 0x3860, 0x282e, 0x758, 0x0, 0x0);
        gbc.writeMem(0x35c5, { 0xc3, 0x1c, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x4b41);
        EXPECT(gbc.pc(), 0x6b1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 03AC
        gbc.setState(0x1efc, 0xb902, 0xf330, 0x8b4a, 0x1e24, 0x1340, 0x0, 0x1);
        gbc.writeMem(0x1efc, { 0xc3, 0x36, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xb902);
        EXPECT(gbc.pc(), 0x8436);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 03AD
        gbc.setState(0x55b4, 0xf4b0, 0xaa20, 0xbed6, 0xe0b0, 0x3e23, 0x1, 0x0);
        gbc.writeMem(0x55b4, { 0xc3, 0xe0, 0x48 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xf4b0);
        EXPECT(gbc.pc(), 0x48e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03AE
        gbc.setState(0x514c, 0x4125, 0x1e90, 0xb009, 0xd92a, 0x62b9, 0x1, 0x1);
        gbc.writeMem(0x514c, { 0xc3, 0x4c, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x4125);
        EXPECT(gbc.pc(), 0xa4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 03AF
        gbc.setState(0x5a32, 0x6795, 0xe0f0, 0x1e11, 0xc546, 0xce5c, 0x0, 0x0);
        gbc.writeMem(0x5a32, { 0xc3, 0xce, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x6795);
        EXPECT(gbc.pc(), 0x6ece);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 03B0
        gbc.setState(0x750e, 0x732b, 0x2d90, 0xc390, 0xa66b, 0xe76b, 0x0, 0x0);
        gbc.writeMem(0x750e, { 0xc3, 0xaf, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x732b);
        EXPECT(gbc.pc(), 0x5baf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 03B1
        gbc.setState(0x6c36, 0x312d, 0xca30, 0x93ba, 0x7098, 0x8bc, 0x0, 0x0);
        gbc.writeMem(0x6c36, { 0xc3, 0xe2, 0x1a });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x312d);
        EXPECT(gbc.pc(), 0x1ae2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 03B2
        gbc.setState(0xe93d, 0x7e2f, 0x26d0, 0x24e, 0xca5e, 0x786d, 0x0, 0x1);
        gbc.writeMem(0xe93d, { 0xc3, 0x15, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x7e2f);
        EXPECT(gbc.pc(), 0xec15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe93d), 0xc3);
        EXPECT(gbc.readMem(0xe93e), 0x15);
        EXPECT(gbc.readMem(0xe93f), 0xec);
        // C3 03B3
        gbc.setState(0x4fae, 0x453b, 0x7e20, 0x742e, 0x475c, 0xc0c4, 0x0, 0x1);
        gbc.writeMem(0x4fae, { 0xc3, 0x23, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x453b);
        EXPECT(gbc.pc(), 0x9123);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03B4
        gbc.setState(0xe13d, 0xbe8c, 0xbbb0, 0xfed5, 0xb7e7, 0x517d, 0x1, 0x0);
        gbc.writeMem(0xe13d, { 0xc3, 0xd9, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xbe8c);
        EXPECT(gbc.pc(), 0x61d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe13d), 0xc3);
        EXPECT(gbc.readMem(0xe13e), 0xd9);
        EXPECT(gbc.readMem(0xe13f), 0x61);
        // C3 03B5
        gbc.setState(0x1abd, 0xea8b, 0xdb50, 0xde11, 0x5342, 0xd748, 0x1, 0x1);
        gbc.writeMem(0x1abd, { 0xc3, 0x20, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xea8b);
        EXPECT(gbc.pc(), 0x2620);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 03B6
        gbc.setState(0x84f6, 0x9b52, 0x6050, 0x9b4e, 0x76b9, 0x35ad, 0x1, 0x0);
        gbc.writeMem(0x84f6, { 0xc3, 0xaa, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x9b52);
        EXPECT(gbc.pc(), 0x18aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84f6), 0xc3);
        EXPECT(gbc.readMem(0x84f7), 0xaa);
        EXPECT(gbc.readMem(0x84f8), 0x18);
        // C3 03B7
        gbc.setState(0x5f6e, 0x29eb, 0x1140, 0xc1cf, 0xfab, 0x8892, 0x0, 0x1);
        gbc.writeMem(0x5f6e, { 0xc3, 0xb6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x29eb);
        EXPECT(gbc.pc(), 0x27b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 03B8
        gbc.setState(0x76ff, 0x26c9, 0x2cd0, 0xbac7, 0xa16a, 0x231a, 0x0, 0x1);
        gbc.writeMem(0x76ff, { 0xc3, 0x44, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x26c9);
        EXPECT(gbc.pc(), 0xf944);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 03B9
        gbc.setState(0x6361, 0x1938, 0xdb60, 0x3bb2, 0xb635, 0x6e8, 0x1, 0x1);
        gbc.writeMem(0x6361, { 0xc3, 0xcf, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x1938);
        EXPECT(gbc.pc(), 0xbcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03BA
        gbc.setState(0x5d21, 0xd27, 0xfd20, 0x15f, 0x4d58, 0x40b2, 0x1, 0x0);
        gbc.writeMem(0x5d21, { 0xc3, 0x11, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xd27);
        EXPECT(gbc.pc(), 0x611);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03BB
        gbc.setState(0x1f49, 0x3a60, 0xda80, 0x118d, 0x517d, 0x19ba, 0x1, 0x0);
        gbc.writeMem(0x1f49, { 0xc3, 0x9c, 0x87 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x3a60);
        EXPECT(gbc.pc(), 0x879c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 03BC
        gbc.setState(0x6ebc, 0x4319, 0xfee0, 0xae44, 0x90b1, 0x236b, 0x0, 0x1);
        gbc.writeMem(0x6ebc, { 0xc3, 0xed, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x4319);
        EXPECT(gbc.pc(), 0xa5ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03BD
        gbc.setState(0xaac3, 0x56ae, 0xef90, 0xea19, 0xc8e3, 0x9394, 0x1, 0x0);
        gbc.writeMem(0xaac3, { 0xc3, 0x26, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x56ae);
        EXPECT(gbc.pc(), 0xb726);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaac3), 0xc3);
        EXPECT(gbc.readMem(0xaac4), 0x26);
        EXPECT(gbc.readMem(0xaac5), 0xb7);
        // C3 03BE
        gbc.setState(0x839, 0x8d4a, 0x5b40, 0x6e93, 0x76d5, 0xdce9, 0x0, 0x0);
        gbc.writeMem(0x839, { 0xc3, 0x95, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x8d4a);
        EXPECT(gbc.pc(), 0xd495);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 03BF
        gbc.setState(0x91a5, 0x25fc, 0x4640, 0x6fe7, 0x46f5, 0x7389, 0x1, 0x1);
        gbc.writeMem(0x91a5, { 0xc3, 0x10, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x25fc);
        EXPECT(gbc.pc(), 0x3410);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91a5), 0xc3);
        EXPECT(gbc.readMem(0x91a6), 0x10);
        EXPECT(gbc.readMem(0x91a7), 0x34);
        // C3 03C0
        gbc.setState(0x9ece, 0xcc07, 0x5900, 0xc3b7, 0x73d2, 0x6a84, 0x1, 0x1);
        gbc.writeMem(0x9ece, { 0xc3, 0xf3, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xcc07);
        EXPECT(gbc.pc(), 0x71f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ece), 0xc3);
        EXPECT(gbc.readMem(0x9ecf), 0xf3);
        EXPECT(gbc.readMem(0x9ed0), 0x71);
        // C3 03C1
        gbc.setState(0x8829, 0x9f3, 0xf830, 0x5388, 0x5077, 0x1c69, 0x0, 0x0);
        gbc.writeMem(0x8829, { 0xc3, 0xdb, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x9f3);
        EXPECT(gbc.pc(), 0x27db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8829), 0xc3);
        EXPECT(gbc.readMem(0x882a), 0xdb);
        EXPECT(gbc.readMem(0x882b), 0x27);
        // C3 03C2
        gbc.setState(0x8f4b, 0x408c, 0x8a60, 0xb6b5, 0xf053, 0x7c, 0x1, 0x1);
        gbc.writeMem(0x8f4b, { 0xc3, 0xaf, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x408c);
        EXPECT(gbc.pc(), 0xaeaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f4b), 0xc3);
        EXPECT(gbc.readMem(0x8f4c), 0xaf);
        EXPECT(gbc.readMem(0x8f4d), 0xae);
        // C3 03C3
        gbc.setState(0x15c3, 0x782d, 0x4160, 0x606d, 0x2a63, 0x4cad, 0x1, 0x1);
        gbc.writeMem(0x15c3, { 0xc3, 0x90, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x782d);
        EXPECT(gbc.pc(), 0x2790);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03C4
        gbc.setState(0xe2c8, 0x8efc, 0xbab0, 0x8e85, 0x68b1, 0x9e42, 0x1, 0x1);
        gbc.writeMem(0xe2c8, { 0xc3, 0x84, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x8efc);
        EXPECT(gbc.pc(), 0xc784);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2c8), 0xc3);
        EXPECT(gbc.readMem(0xe2c9), 0x84);
        EXPECT(gbc.readMem(0xe2ca), 0xc7);
        // C3 03C5
        gbc.setState(0x80ef, 0x887d, 0x8220, 0x17ba, 0x3bc9, 0x74c6, 0x0, 0x1);
        gbc.writeMem(0x80ef, { 0xc3, 0x40, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x887d);
        EXPECT(gbc.pc(), 0xdb40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80ef), 0xc3);
        EXPECT(gbc.readMem(0x80f0), 0x40);
        EXPECT(gbc.readMem(0x80f1), 0xdb);
        // C3 03C7
        gbc.setState(0x3da8, 0xcc74, 0x3560, 0xbccd, 0x6858, 0xbfa8, 0x0, 0x1);
        gbc.writeMem(0x3da8, { 0xc3, 0xbe, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xcc74);
        EXPECT(gbc.pc(), 0x7abe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03C8
        gbc.setState(0xd2f4, 0x2376, 0x79d0, 0xd60d, 0xf5c5, 0x1a2b, 0x1, 0x0);
        gbc.writeMem(0xd2f4, { 0xc3, 0x2f, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x2376);
        EXPECT(gbc.pc(), 0x782f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2f4), 0xc3);
        EXPECT(gbc.readMem(0xd2f5), 0x2f);
        EXPECT(gbc.readMem(0xd2f6), 0x78);
        // C3 03C9
        gbc.setState(0x3fc, 0x3a51, 0x3200, 0x8755, 0xdd91, 0xd71d, 0x1, 0x1);
        gbc.writeMem(0x3fc, { 0xc3, 0x6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x3a51);
        EXPECT(gbc.pc(), 0x9806);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 03CA
        gbc.setState(0x9e19, 0x8d96, 0x4a10, 0x247b, 0xfb, 0x86ec, 0x0, 0x0);
        gbc.writeMem(0x9e19, { 0xc3, 0xf7, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x8d96);
        EXPECT(gbc.pc(), 0xf6f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e19), 0xc3);
        EXPECT(gbc.readMem(0x9e1a), 0xf7);
        EXPECT(gbc.readMem(0x9e1b), 0xf6);
        // C3 03CB
        gbc.setState(0xcccd, 0xa8b2, 0xc510, 0xc93, 0xf9a6, 0x663, 0x0, 0x1);
        gbc.writeMem(0xcccd, { 0xc3, 0x24, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xa8b2);
        EXPECT(gbc.pc(), 0x4e24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcccd), 0xc3);
        EXPECT(gbc.readMem(0xccce), 0x24);
        EXPECT(gbc.readMem(0xcccf), 0x4e);
        // C3 03CC
        gbc.setState(0x3985, 0x9680, 0x2190, 0xc7ea, 0xe821, 0x9085, 0x1, 0x1);
        gbc.writeMem(0x3985, { 0xc3, 0x27, 0xf9 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x9680);
        EXPECT(gbc.pc(), 0xf927);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 03CD
        gbc.setState(0xbea4, 0x1bf3, 0x1c80, 0xe85f, 0xd79d, 0x9441, 0x1, 0x0);
        gbc.writeMem(0xbea4, { 0xc3, 0x86, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x1bf3);
        EXPECT(gbc.pc(), 0x6b86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbea4), 0xc3);
        EXPECT(gbc.readMem(0xbea5), 0x86);
        EXPECT(gbc.readMem(0xbea6), 0x6b);
        // C3 03CE
        gbc.setState(0x3616, 0x8526, 0x89c0, 0x463f, 0x333b, 0x57ad, 0x1, 0x1);
        gbc.writeMem(0x3616, { 0xc3, 0x2f, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x8526);
        EXPECT(gbc.pc(), 0xe12f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 03CF
        gbc.setState(0x7133, 0xe8e2, 0xc30, 0xbb86, 0x768f, 0x2dcc, 0x1, 0x1);
        gbc.writeMem(0x7133, { 0xc3, 0x16, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xe8e2);
        EXPECT(gbc.pc(), 0x4516);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 03D0
        gbc.setState(0x37f8, 0x1e4, 0xdd90, 0x61a6, 0x54e7, 0xca64, 0x1, 0x1);
        gbc.writeMem(0x37f8, { 0xc3, 0x69, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x1e4);
        EXPECT(gbc.pc(), 0xad69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // C3 03D1
        gbc.setState(0xb494, 0xce27, 0xeeb0, 0x9e42, 0xfbc0, 0xeb49, 0x0, 0x0);
        gbc.writeMem(0xb494, { 0xc3, 0x8d, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xce27);
        EXPECT(gbc.pc(), 0xed8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb494), 0xc3);
        EXPECT(gbc.readMem(0xb495), 0x8d);
        EXPECT(gbc.readMem(0xb496), 0xed);
        // C3 03D2
        gbc.setState(0xba54, 0x9b84, 0x3060, 0x853d, 0x4555, 0xecd6, 0x0, 0x0);
        gbc.writeMem(0xba54, { 0xc3, 0x53, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x9b84);
        EXPECT(gbc.pc(), 0xa353);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba54), 0xc3);
        EXPECT(gbc.readMem(0xba55), 0x53);
        EXPECT(gbc.readMem(0xba56), 0xa3);
        // C3 03D3
        gbc.setState(0x562c, 0x2117, 0xfe0, 0xbad5, 0x3831, 0xb7bb, 0x0, 0x1);
        gbc.writeMem(0x562c, { 0xc3, 0xb9, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2117);
        EXPECT(gbc.pc(), 0x5eb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03D4
        gbc.setState(0x6596, 0xda97, 0x1a20, 0xcf4f, 0xbb8c, 0xc668, 0x0, 0x1);
        gbc.writeMem(0x6596, { 0xc3, 0xd4, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xda97);
        EXPECT(gbc.pc(), 0x66d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03D5
        gbc.setState(0x36c1, 0x4923, 0x8a20, 0x5c05, 0xc846, 0xcb9, 0x0, 0x0);
        gbc.writeMem(0x36c1, { 0xc3, 0xf4, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x4923);
        EXPECT(gbc.pc(), 0x92f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03D6
        gbc.setState(0x7c6b, 0xbfac, 0xcec0, 0xa95d, 0xefae, 0xee86, 0x1, 0x1);
        gbc.writeMem(0x7c6b, { 0xc3, 0x53, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xbfac);
        EXPECT(gbc.pc(), 0x6753);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 03D7
        gbc.setState(0xabe7, 0x5de6, 0xdc00, 0x4e0b, 0x5c1, 0xcee0, 0x1, 0x1);
        gbc.writeMem(0xabe7, { 0xc3, 0xe4, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x5de6);
        EXPECT(gbc.pc(), 0xabe4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabe7), 0xc3);
        EXPECT(gbc.readMem(0xabe8), 0xe4);
        EXPECT(gbc.readMem(0xabe9), 0xab);
        // C3 03D8
        gbc.setState(0x6a2f, 0xbbe9, 0xfe60, 0x5e0b, 0x5669, 0x4f7c, 0x0, 0x0);
        gbc.writeMem(0x6a2f, { 0xc3, 0xc2, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xbbe9);
        EXPECT(gbc.pc(), 0xf6c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03D9
        gbc.setState(0xcc13, 0xf8ff, 0x6a0, 0xcce1, 0x4e31, 0xb049, 0x1, 0x0);
        gbc.writeMem(0xcc13, { 0xc3, 0xc9, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xf8ff);
        EXPECT(gbc.pc(), 0x67c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc13), 0xc3);
        EXPECT(gbc.readMem(0xcc14), 0xc9);
        EXPECT(gbc.readMem(0xcc15), 0x67);
        // C3 03DB
        gbc.setState(0x8eaa, 0xc7a3, 0x2110, 0xaef2, 0x6f01, 0xa38a, 0x1, 0x1);
        gbc.writeMem(0x8eaa, { 0xc3, 0x3b, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xc7a3);
        EXPECT(gbc.pc(), 0xcc3b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8eaa), 0xc3);
        EXPECT(gbc.readMem(0x8eab), 0x3b);
        EXPECT(gbc.readMem(0x8eac), 0xcc);
        // C3 03DC
        gbc.setState(0xbb9, 0x7904, 0xfb80, 0x8ad5, 0x393e, 0xdab3, 0x1, 0x1);
        gbc.writeMem(0xbb9, { 0xc3, 0xe5, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x7904);
        EXPECT(gbc.pc(), 0xfae5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 03DD
        gbc.setState(0x38e2, 0xf87a, 0x28c0, 0xaf0f, 0x8d44, 0x20a6, 0x0, 0x1);
        gbc.writeMem(0x38e2, { 0xc3, 0x35, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xf87a);
        EXPECT(gbc.pc(), 0x1b35);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 03DE
        gbc.setState(0xb7b6, 0x5684, 0x2d00, 0x6d97, 0x3e67, 0x6303, 0x1, 0x1);
        gbc.writeMem(0xb7b6, { 0xc3, 0x76, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x5684);
        EXPECT(gbc.pc(), 0xe876);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7b6), 0xc3);
        EXPECT(gbc.readMem(0xb7b7), 0x76);
        EXPECT(gbc.readMem(0xb7b8), 0xe8);
        // C3 03DF
        gbc.setState(0x1367, 0xaee2, 0x1d70, 0xdd8d, 0xb2fb, 0xfd38, 0x1, 0x1);
        gbc.writeMem(0x1367, { 0xc3, 0xd8, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xaee2);
        EXPECT(gbc.pc(), 0x83d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 03E0
        gbc.setState(0x3a93, 0x1e4d, 0xf320, 0x82aa, 0xe5b3, 0xde03, 0x0, 0x0);
        gbc.writeMem(0x3a93, { 0xc3, 0xaf, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x1e4d);
        EXPECT(gbc.pc(), 0xafaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03E1
        gbc.setState(0x5b09, 0xf765, 0x4800, 0x3ebc, 0x20fe, 0x811e, 0x1, 0x0);
        gbc.writeMem(0x5b09, { 0xc3, 0xf2, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf765);
        EXPECT(gbc.pc(), 0x3f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // C3 03E2
        gbc.setState(0x5407, 0x8c14, 0x6c60, 0x9d1d, 0x8e89, 0x6983, 0x1, 0x0);
        gbc.writeMem(0x5407, { 0xc3, 0xd, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x8c14);
        EXPECT(gbc.pc(), 0x270d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // C3 03E4
        gbc.setState(0x7a50, 0x16b6, 0xabb0, 0xca9a, 0x2615, 0x9c7b, 0x0, 0x1);
        gbc.writeMem(0x7a50, { 0xc3, 0xd8, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x16b6);
        EXPECT(gbc.pc(), 0x7cd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // C3 03E5
        gbc.setState(0xa325, 0xad50, 0xaaf0, 0xa6c1, 0x6601, 0xa747, 0x1, 0x1);
        gbc.writeMem(0xa325, { 0xc3, 0x4e, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xad50);
        EXPECT(gbc.pc(), 0x6b4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa325), 0xc3);
        EXPECT(gbc.readMem(0xa326), 0x4e);
        EXPECT(gbc.readMem(0xa327), 0x6b);
        // C3 03E6
        gbc.setState(0xcb94, 0x2e5f, 0xb4c0, 0x2329, 0x831f, 0x4156, 0x0, 0x0);
        gbc.writeMem(0xcb94, { 0xc3, 0x74, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x2e5f);
        EXPECT(gbc.pc(), 0xc574);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb94), 0xc3);
        EXPECT(gbc.readMem(0xcb95), 0x74);
        EXPECT(gbc.readMem(0xcb96), 0xc5);
        // C3 03E7
        gbc.setState(0x688f, 0x6524, 0xa920, 0xdd2f, 0xc1c4, 0xf141, 0x0, 0x1);
        gbc.writeMem(0x688f, { 0xc3, 0x38, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x6524);
        EXPECT(gbc.pc(), 0x3b38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
    }
