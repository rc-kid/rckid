    TEST(gbcemu, opcode_28) {
        GBCEmu gbc{"", nullptr};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 28 0000
        gbc.setState(0x21d8, 0x2ec8, 0xc080, 0xadcb, 0xc3c, 0x520d, 0x0, 0x1);
        gbc.writeMem(0x21d8, { 0x28, 0xd9 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x2ec8, gbc.sp());
        EXPECT(0x21b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0001
        gbc.setState(0x556f, 0xf61b, 0xeba0, 0xd633, 0xc459, 0x48c2, 0x1, 0x1);
        gbc.writeMem(0x556f, { 0x28, 0xc1 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xf61b, gbc.sp());
        EXPECT(0x5532, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0002
        gbc.setState(0x704d, 0xcf69, 0xd110, 0xa658, 0xcae9, 0x96bb, 0x0, 0x1);
        gbc.writeMem(0x704d, { 0x28, 0x9c });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xcf69, gbc.sp());
        EXPECT(0x704f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0003
        gbc.setState(0x30d2, 0xb697, 0x9d20, 0xca74, 0x9bda, 0x8f35, 0x1, 0x0);
        gbc.writeMem(0x30d2, { 0x28, 0x68 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xb697, gbc.sp());
        EXPECT(0x30d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0004
        gbc.setState(0x63f8, 0xcbab, 0xb040, 0x1bab, 0x673a, 0x90a7, 0x1, 0x0);
        gbc.writeMem(0x63f8, { 0x28, 0xbd });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xcbab, gbc.sp());
        EXPECT(0x63fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0006
        gbc.setState(0x7cf7, 0x165c, 0x51e0, 0xf1f9, 0x7685, 0x41b, 0x1, 0x0);
        gbc.writeMem(0x7cf7, { 0x28, 0xc9 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x165c, gbc.sp());
        EXPECT(0x7cc2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0007
        gbc.setState(0x819a, 0x8ce7, 0x84b0, 0x809, 0x4d59, 0x55d3, 0x1, 0x0);
        gbc.writeMem(0x819a, { 0x28, 0x2f });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x8ce7, gbc.sp());
        EXPECT(0x81cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x819a));
        EXPECT(0x2f, gbc.readMem(0x819b));
        // 28 0008
        gbc.setState(0xde2e, 0x5f60, 0xc460, 0xb6b9, 0x153b, 0x6dc7, 0x1, 0x0);
        gbc.writeMem(0xde2e, { 0x28, 0x23 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x5f60, gbc.sp());
        EXPECT(0xde30, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xde2e));
        EXPECT(0x23, gbc.readMem(0xde2f));
        // 28 0009
        gbc.setState(0x4b1c, 0xe845, 0x9f80, 0xc32c, 0xde9c, 0x26ab, 0x0, 0x0);
        gbc.writeMem(0x4b1c, { 0x28, 0x8d });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xe845, gbc.sp());
        EXPECT(0x4aab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 000A
        gbc.setState(0xa2de, 0xb9fc, 0xc3c0, 0xd8f4, 0xdd16, 0x3197, 0x1, 0x0);
        gbc.writeMem(0xa2de, { 0x28, 0x58 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xb9fc, gbc.sp());
        EXPECT(0xa338, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa2de));
        EXPECT(0x58, gbc.readMem(0xa2df));
        // 28 000B
        gbc.setState(0x4176, 0x648b, 0x2dc0, 0x462, 0xdda4, 0x7e54, 0x0, 0x0);
        gbc.writeMem(0x4176, { 0x28, 0x29 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x648b, gbc.sp());
        EXPECT(0x41a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 000C
        gbc.setState(0x8485, 0x30a1, 0xa4d0, 0x92da, 0x6df8, 0xb97b, 0x0, 0x1);
        gbc.writeMem(0x8485, { 0x28, 0xfe });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x30a1, gbc.sp());
        EXPECT(0x8485, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8485));
        EXPECT(0xfe, gbc.readMem(0x8486));
        // 28 000D
        gbc.setState(0x58e0, 0x7180, 0x1930, 0x8ed4, 0x7050, 0x16d6, 0x0, 0x1);
        gbc.writeMem(0x58e0, { 0x28, 0xd7 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x7180, gbc.sp());
        EXPECT(0x58e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 000E
        gbc.setState(0x956b, 0x54d2, 0x7160, 0x456b, 0x21b8, 0xed7a, 0x0, 0x1);
        gbc.writeMem(0x956b, { 0x28, 0xc1 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x54d2, gbc.sp());
        EXPECT(0x956d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x956b));
        EXPECT(0xc1, gbc.readMem(0x956c));
        // 28 000F
        gbc.setState(0x8777, 0xe022, 0xb980, 0x6fa2, 0x9a87, 0xf38, 0x0, 0x0);
        gbc.writeMem(0x8777, { 0x28, 0xa2 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xe022, gbc.sp());
        EXPECT(0x871b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8777));
        EXPECT(0xa2, gbc.readMem(0x8778));
        // 28 0010
        gbc.setState(0x9c63, 0x2daf, 0xff60, 0x8060, 0xd3c, 0xddd7, 0x0, 0x0);
        gbc.writeMem(0x9c63, { 0x28, 0x71 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x2daf, gbc.sp());
        EXPECT(0x9c65, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9c63));
        EXPECT(0x71, gbc.readMem(0x9c64));
        // 28 0011
        gbc.setState(0x52a1, 0x7724, 0x9d10, 0xd10d, 0xa302, 0xe8cb, 0x0, 0x1);
        gbc.writeMem(0x52a1, { 0x28, 0x7f });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x7724, gbc.sp());
        EXPECT(0x52a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0012
        gbc.setState(0x4e65, 0xd8e2, 0x6120, 0xe020, 0xdecb, 0xf0f2, 0x1, 0x1);
        gbc.writeMem(0x4e65, { 0x28, 0xd8 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xd8e2, gbc.sp());
        EXPECT(0x4e67, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0013
        gbc.setState(0xc13, 0xa8b, 0x3e10, 0x4f62, 0xbada, 0x191b, 0x1, 0x1);
        gbc.writeMem(0xc13, { 0x28, 0xe9 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xa8b, gbc.sp());
        EXPECT(0xc15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0014
        gbc.setState(0xb081, 0xafbb, 0xfc90, 0x91ab, 0x7511, 0xe90f, 0x0, 0x1);
        gbc.writeMem(0xb081, { 0x28, 0x31 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xafbb, gbc.sp());
        EXPECT(0xb0b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb081));
        EXPECT(0x31, gbc.readMem(0xb082));
        // 28 0015
        gbc.setState(0x918e, 0x2bba, 0xe1e0, 0x476b, 0xfd0b, 0x8522, 0x1, 0x1);
        gbc.writeMem(0x918e, { 0x28, 0x0 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x2bba, gbc.sp());
        EXPECT(0x9190, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x918e));
        EXPECT(0x0, gbc.readMem(0x918f));
        // 28 0016
        gbc.setState(0xb202, 0x4447, 0x55f0, 0x2a0d, 0x79b8, 0xe853, 0x0, 0x1);
        gbc.writeMem(0xb202, { 0x28, 0xdd });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x4447, gbc.sp());
        EXPECT(0xb1e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb202));
        EXPECT(0xdd, gbc.readMem(0xb203));
        // 28 0017
        gbc.setState(0x28e8, 0x1e08, 0x9500, 0x8eab, 0xcc6f, 0x7a36, 0x1, 0x0);
        gbc.writeMem(0x28e8, { 0x28, 0xf6 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x1e08, gbc.sp());
        EXPECT(0x28ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0018
        gbc.setState(0x9d2c, 0x5c61, 0xa030, 0x73dd, 0xf326, 0xe4c4, 0x1, 0x0);
        gbc.writeMem(0x9d2c, { 0x28, 0xf4 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x5c61, gbc.sp());
        EXPECT(0x9d2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9d2c));
        EXPECT(0xf4, gbc.readMem(0x9d2d));
        // 28 0019
        gbc.setState(0x7fde, 0x6746, 0x1e70, 0x8473, 0xca4a, 0x30d8, 0x1, 0x0);
        gbc.writeMem(0x7fde, { 0x28, 0x62 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x6746, gbc.sp());
        EXPECT(0x7fe0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 001A
        gbc.setState(0x4840, 0x3fd4, 0x2350, 0x1917, 0xa292, 0xbfed, 0x1, 0x0);
        gbc.writeMem(0x4840, { 0x28, 0x48 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x3fd4, gbc.sp());
        EXPECT(0x4842, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 001B
        gbc.setState(0x9418, 0x1c72, 0xf270, 0x81f2, 0x9015, 0x7cd3, 0x1, 0x0);
        gbc.writeMem(0x9418, { 0x28, 0x1c });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x1c72, gbc.sp());
        EXPECT(0x941a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9418));
        EXPECT(0x1c, gbc.readMem(0x9419));
        // 28 001C
        gbc.setState(0xdc43, 0x4ccd, 0xc010, 0x343e, 0xd3b7, 0x5a43, 0x1, 0x1);
        gbc.writeMem(0xdc43, { 0x28, 0xc2 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x4ccd, gbc.sp());
        EXPECT(0xdc45, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xdc43));
        EXPECT(0xc2, gbc.readMem(0xdc44));
        // 28 001D
        gbc.setState(0x372a, 0x611, 0xb990, 0xb6b5, 0x4229, 0xb7f3, 0x1, 0x1);
        gbc.writeMem(0x372a, { 0x28, 0xe6 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x611, gbc.sp());
        EXPECT(0x3712, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 001E
        gbc.setState(0xc675, 0x6194, 0xf5c0, 0x8622, 0x7c93, 0xb5fd, 0x1, 0x1);
        gbc.writeMem(0xc675, { 0x28, 0xd1 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x6194, gbc.sp());
        EXPECT(0xc648, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc675));
        EXPECT(0xd1, gbc.readMem(0xc676));
        // 28 001F
        gbc.setState(0x675c, 0x20b1, 0x18b0, 0xb910, 0x2a06, 0xc2c, 0x0, 0x1);
        gbc.writeMem(0x675c, { 0x28, 0xa6 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x20b1, gbc.sp());
        EXPECT(0x6704, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0021
        gbc.setState(0xe19f, 0x351, 0x31f0, 0x1e7e, 0xae4d, 0x40f8, 0x1, 0x1);
        gbc.writeMem(0xe19f, { 0x28, 0xa8 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x351, gbc.sp());
        EXPECT(0xe149, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe19f));
        EXPECT(0xa8, gbc.readMem(0xe1a0));
        // 28 0022
        gbc.setState(0xa342, 0xda01, 0x77b0, 0x2988, 0x2062, 0xd3d4, 0x0, 0x1);
        gbc.writeMem(0xa342, { 0x28, 0xd });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xda01, gbc.sp());
        EXPECT(0xa351, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa342));
        EXPECT(0xd, gbc.readMem(0xa343));
        // 28 0023
        gbc.setState(0x2453, 0xa4fb, 0xf930, 0x7b7a, 0x6b73, 0x590e, 0x0, 0x1);
        gbc.writeMem(0x2453, { 0x28, 0xc7 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xa4fb, gbc.sp());
        EXPECT(0x2455, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0024
        gbc.setState(0xeba5, 0xb783, 0xa9e0, 0xd32c, 0x4f64, 0x2a84, 0x1, 0x1);
        gbc.writeMem(0xeba5, { 0x28, 0x8f });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xb783, gbc.sp());
        EXPECT(0xeb36, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xeba5));
        EXPECT(0x8f, gbc.readMem(0xeba6));
        // 28 0025
        gbc.setState(0x92c6, 0xcf97, 0x4980, 0x9ed9, 0xb767, 0xdeab, 0x0, 0x1);
        gbc.writeMem(0x92c6, { 0x28, 0x7b });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xcf97, gbc.sp());
        EXPECT(0x9343, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x92c6));
        EXPECT(0x7b, gbc.readMem(0x92c7));
        // 28 0026
        gbc.setState(0x8ce, 0x1a07, 0xdc20, 0xcfb, 0x17d4, 0x1c40, 0x0, 0x1);
        gbc.writeMem(0x8ce, { 0x28, 0x24 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x1a07, gbc.sp());
        EXPECT(0x8d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0027
        gbc.setState(0xa32b, 0xdc75, 0xe7e0, 0x9ccc, 0xbdab, 0xdbc5, 0x0, 0x0);
        gbc.writeMem(0xa32b, { 0x28, 0x6d });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xdc75, gbc.sp());
        EXPECT(0xa39a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa32b));
        EXPECT(0x6d, gbc.readMem(0xa32c));
        // 28 0028
        gbc.setState(0x8c94, 0x8068, 0xc300, 0x1978, 0xf6a7, 0x6e08, 0x0, 0x0);
        gbc.writeMem(0x8c94, { 0x28, 0x1d });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x8068, gbc.sp());
        EXPECT(0x8c96, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8c94));
        EXPECT(0x1d, gbc.readMem(0x8c95));
        // 28 0029
        gbc.setState(0x73e1, 0x4090, 0xe2e0, 0x331e, 0x43da, 0x7803, 0x1, 0x0);
        gbc.writeMem(0x73e1, { 0x28, 0x53 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x4090, gbc.sp());
        EXPECT(0x7436, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 002A
        gbc.setState(0x2507, 0xbd4f, 0x7050, 0x913f, 0x7fd8, 0x6a78, 0x0, 0x0);
        gbc.writeMem(0x2507, { 0x28, 0xc4 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xbd4f, gbc.sp());
        EXPECT(0x2509, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 002B
        gbc.setState(0x4c7, 0x424d, 0xf1e0, 0xe30c, 0xcfc5, 0xa24d, 0x0, 0x1);
        gbc.writeMem(0x4c7, { 0x28, 0xb1 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x424d, gbc.sp());
        EXPECT(0x47a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 002D
        gbc.setState(0x4cc7, 0xbc54, 0xe510, 0x932a, 0xea1c, 0x331b, 0x0, 0x0);
        gbc.writeMem(0x4cc7, { 0x28, 0xb5 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xbc54, gbc.sp());
        EXPECT(0x4cc9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 002E
        gbc.setState(0x1465, 0xd401, 0x26a0, 0x96d6, 0xf152, 0xfb24, 0x0, 0x1);
        gbc.writeMem(0x1465, { 0x28, 0x4d });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xd401, gbc.sp());
        EXPECT(0x14b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 002F
        gbc.setState(0x62d8, 0x7606, 0x8600, 0x49a3, 0x7b0b, 0x7fe6, 0x1, 0x0);
        gbc.writeMem(0x62d8, { 0x28, 0x9c });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x7606, gbc.sp());
        EXPECT(0x62da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0030
        gbc.setState(0xb454, 0xe7ff, 0xb680, 0x3a86, 0x5913, 0xd0c9, 0x1, 0x1);
        gbc.writeMem(0xb454, { 0x28, 0x69 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xe7ff, gbc.sp());
        EXPECT(0xb4bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb454));
        EXPECT(0x69, gbc.readMem(0xb455));
        // 28 0031
        gbc.setState(0x615e, 0x2586, 0xa1c0, 0xb17b, 0x31e0, 0x458d, 0x0, 0x1);
        gbc.writeMem(0x615e, { 0x28, 0xaa });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x2586, gbc.sp());
        EXPECT(0x610a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0032
        gbc.setState(0x643a, 0x8f93, 0xc2c0, 0x5dea, 0x8fa7, 0x13eb, 0x0, 0x1);
        gbc.writeMem(0x643a, { 0x28, 0xd5 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x8f93, gbc.sp());
        EXPECT(0x6411, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0033
        gbc.setState(0xcc47, 0x2951, 0xea70, 0x254c, 0x48ab, 0x7bd9, 0x1, 0x0);
        gbc.writeMem(0xcc47, { 0x28, 0xd });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x2951, gbc.sp());
        EXPECT(0xcc49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcc47));
        EXPECT(0xd, gbc.readMem(0xcc48));
        // 28 0034
        gbc.setState(0x62e0, 0xdbea, 0xc650, 0xd7bd, 0xa11d, 0x5b1d, 0x1, 0x1);
        gbc.writeMem(0x62e0, { 0x28, 0x20 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xdbea, gbc.sp());
        EXPECT(0x62e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0035
        gbc.setState(0x5e6d, 0xc0f8, 0xe160, 0xed15, 0xe70f, 0x778d, 0x1, 0x1);
        gbc.writeMem(0x5e6d, { 0x28, 0x1 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xc0f8, gbc.sp());
        EXPECT(0x5e6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0036
        gbc.setState(0x3a65, 0xacf4, 0x37c0, 0x9e12, 0x64f3, 0xc712, 0x1, 0x1);
        gbc.writeMem(0x3a65, { 0x28, 0xa3 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xacf4, gbc.sp());
        EXPECT(0x3a0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0037
        gbc.setState(0x322c, 0x4a87, 0xa650, 0x11d9, 0x2f16, 0x2f54, 0x0, 0x1);
        gbc.writeMem(0x322c, { 0x28, 0x78 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x4a87, gbc.sp());
        EXPECT(0x322e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0038
        gbc.setState(0x17df, 0x4206, 0x4740, 0xe0c1, 0x1ff4, 0xa44a, 0x1, 0x0);
        gbc.writeMem(0x17df, { 0x28, 0x2 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x4206, gbc.sp());
        EXPECT(0x17e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0039
        gbc.setState(0xa518, 0x4dbb, 0xbb30, 0x808, 0x6282, 0xe371, 0x1, 0x1);
        gbc.writeMem(0xa518, { 0x28, 0xdd });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x4dbb, gbc.sp());
        EXPECT(0xa51a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa518));
        EXPECT(0xdd, gbc.readMem(0xa519));
        // 28 003A
        gbc.setState(0x4e09, 0xaa16, 0x7660, 0x3b21, 0x6788, 0x120, 0x1, 0x1);
        gbc.writeMem(0x4e09, { 0x28, 0xf0 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xaa16, gbc.sp());
        EXPECT(0x4e0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 003B
        gbc.setState(0xedce, 0x4057, 0x9a40, 0xe564, 0x8d9f, 0xd2a0, 0x0, 0x1);
        gbc.writeMem(0xedce, { 0x28, 0xbc });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x4057, gbc.sp());
        EXPECT(0xedd0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xedce));
        EXPECT(0xbc, gbc.readMem(0xedcf));
        // 28 003C
        gbc.setState(0x3463, 0xe9dc, 0x380, 0xb1a1, 0xa7fd, 0x36d3, 0x1, 0x0);
        gbc.writeMem(0x3463, { 0x28, 0x85 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xe9dc, gbc.sp());
        EXPECT(0x33ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 003D
        gbc.setState(0x7d1c, 0x3142, 0x2c40, 0x3a0f, 0xbcc7, 0x54b5, 0x1, 0x0);
        gbc.writeMem(0x7d1c, { 0x28, 0x26 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x3142, gbc.sp());
        EXPECT(0x7d1e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 003E
        gbc.setState(0xee34, 0xe663, 0xf490, 0xd993, 0x601d, 0x366e, 0x0, 0x1);
        gbc.writeMem(0xee34, { 0x28, 0x9a });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xe663, gbc.sp());
        EXPECT(0xedd0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xee34));
        EXPECT(0x9a, gbc.readMem(0xee35));
        // 28 003F
        gbc.setState(0x4c08, 0x34cd, 0x12e0, 0x7388, 0x5baf, 0xcb13, 0x1, 0x1);
        gbc.writeMem(0x4c08, { 0x28, 0xfe });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x34cd, gbc.sp());
        EXPECT(0x4c08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0040
        gbc.setState(0xb903, 0xee2a, 0xfa60, 0x6c0a, 0x18d2, 0x7d48, 0x0, 0x1);
        gbc.writeMem(0xb903, { 0x28, 0xf });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xee2a, gbc.sp());
        EXPECT(0xb905, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb903));
        EXPECT(0xf, gbc.readMem(0xb904));
        // 28 0041
        gbc.setState(0xa3f6, 0x3b76, 0xc720, 0x301f, 0xc597, 0xd147, 0x1, 0x1);
        gbc.writeMem(0xa3f6, { 0x28, 0xea });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x3b76, gbc.sp());
        EXPECT(0xa3f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa3f6));
        EXPECT(0xea, gbc.readMem(0xa3f7));
        // 28 0042
        gbc.setState(0x5a52, 0x743b, 0xdc30, 0x68cb, 0x8ddd, 0x6e2b, 0x1, 0x0);
        gbc.writeMem(0x5a52, { 0x28, 0xac });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x743b, gbc.sp());
        EXPECT(0x5a54, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0043
        gbc.setState(0x89, 0x7460, 0xf530, 0x9365, 0x93d2, 0x6266, 0x1, 0x1);
        gbc.writeMem(0x89, { 0x28, 0xce });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x7460, gbc.sp());
        EXPECT(0x8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0044
        gbc.setState(0x45cb, 0x9eda, 0xbfb0, 0xc738, 0x1231, 0x2c08, 0x0, 0x0);
        gbc.writeMem(0x45cb, { 0x28, 0x8b });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x9eda, gbc.sp());
        EXPECT(0x4558, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0045
        gbc.setState(0x6baf, 0xecf3, 0xf270, 0xe28b, 0x6188, 0xfd92, 0x1, 0x0);
        gbc.writeMem(0x6baf, { 0x28, 0x2e });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xecf3, gbc.sp());
        EXPECT(0x6bb1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0046
        gbc.setState(0x2d9c, 0xd145, 0x3ff0, 0xde71, 0xbd24, 0xd256, 0x1, 0x1);
        gbc.writeMem(0x2d9c, { 0x28, 0xf0 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xd145, gbc.sp());
        EXPECT(0x2d8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0047
        gbc.setState(0x81d0, 0x22de, 0x5eb0, 0xede5, 0x569a, 0xef4c, 0x1, 0x1);
        gbc.writeMem(0x81d0, { 0x28, 0x43 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x22de, gbc.sp());
        EXPECT(0x8215, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x81d0));
        EXPECT(0x43, gbc.readMem(0x81d1));
        // 28 0048
        gbc.setState(0xd9cf, 0x9cfc, 0x5a50, 0x2c6e, 0x3d85, 0x4c2d, 0x0, 0x1);
        gbc.writeMem(0xd9cf, { 0x28, 0xe9 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x9cfc, gbc.sp());
        EXPECT(0xd9d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd9cf));
        EXPECT(0xe9, gbc.readMem(0xd9d0));
        // 28 0049
        gbc.setState(0xecde, 0xd0b3, 0x2ae0, 0x8bc3, 0x96c0, 0xc1e7, 0x1, 0x0);
        gbc.writeMem(0xecde, { 0x28, 0x84 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xd0b3, gbc.sp());
        EXPECT(0xec64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xecde));
        EXPECT(0x84, gbc.readMem(0xecdf));
        // 28 004A
        gbc.setState(0x97ba, 0xbdf, 0x8730, 0xca7, 0xb3a2, 0xb60f, 0x1, 0x1);
        gbc.writeMem(0x97ba, { 0x28, 0x3c });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xbdf, gbc.sp());
        EXPECT(0x97bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x97ba));
        EXPECT(0x3c, gbc.readMem(0x97bb));
        // 28 004B
        gbc.setState(0x737c, 0xd116, 0x5690, 0xb5d2, 0x30fa, 0xe0b8, 0x0, 0x0);
        gbc.writeMem(0x737c, { 0x28, 0xfe });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xd116, gbc.sp());
        EXPECT(0x737c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 004C
        gbc.setState(0x98e7, 0xc9d, 0xe2e0, 0x6d93, 0x5cb3, 0x7f2c, 0x0, 0x1);
        gbc.writeMem(0x98e7, { 0x28, 0xb });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xc9d, gbc.sp());
        EXPECT(0x98f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x98e7));
        EXPECT(0xb, gbc.readMem(0x98e8));
        // 28 004D
        gbc.setState(0xd1f0, 0x2df0, 0xb6e0, 0x72c0, 0x48e7, 0xce33, 0x0, 0x1);
        gbc.writeMem(0xd1f0, { 0x28, 0xdc });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x2df0, gbc.sp());
        EXPECT(0xd1ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd1f0));
        EXPECT(0xdc, gbc.readMem(0xd1f1));
        // 28 004E
        gbc.setState(0x2460, 0xd9ca, 0xff30, 0x2f65, 0xc9fc, 0x2836, 0x1, 0x0);
        gbc.writeMem(0x2460, { 0x28, 0xc7 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xd9ca, gbc.sp());
        EXPECT(0x2462, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 004F
        gbc.setState(0x9da0, 0xe094, 0xcb90, 0xb55e, 0xa04e, 0x254f, 0x0, 0x0);
        gbc.writeMem(0x9da0, { 0x28, 0x57 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xe094, gbc.sp());
        EXPECT(0x9df9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9da0));
        EXPECT(0x57, gbc.readMem(0x9da1));
        // 28 0050
        gbc.setState(0x9781, 0xbee7, 0xb930, 0x93f4, 0x94eb, 0xb7dd, 0x0, 0x1);
        gbc.writeMem(0x9781, { 0x28, 0x98 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xbee7, gbc.sp());
        EXPECT(0x9783, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9781));
        EXPECT(0x98, gbc.readMem(0x9782));
        // 28 0051
        gbc.setState(0xe75a, 0x197f, 0x9de0, 0xb510, 0x26fc, 0x1c8a, 0x0, 0x0);
        gbc.writeMem(0xe75a, { 0x28, 0xcc });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x197f, gbc.sp());
        EXPECT(0xe728, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe75a));
        EXPECT(0xcc, gbc.readMem(0xe75b));
        // 28 0052
        gbc.setState(0xe654, 0x86a5, 0x2de0, 0xa2a6, 0xa474, 0x1f8c, 0x1, 0x0);
        gbc.writeMem(0xe654, { 0x28, 0x4b });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x86a5, gbc.sp());
        EXPECT(0xe6a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe654));
        EXPECT(0x4b, gbc.readMem(0xe655));
        // 28 0053
        gbc.setState(0x440d, 0x463c, 0xefa0, 0x3f80, 0xdb9, 0x2d51, 0x0, 0x0);
        gbc.writeMem(0x440d, { 0x28, 0x74 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x463c, gbc.sp());
        EXPECT(0x4483, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0054
        gbc.setState(0x93c6, 0x6cda, 0x4460, 0x5d97, 0x13de, 0xfdde, 0x1, 0x0);
        gbc.writeMem(0x93c6, { 0x28, 0xd3 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x6cda, gbc.sp());
        EXPECT(0x93c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x93c6));
        EXPECT(0xd3, gbc.readMem(0x93c7));
        // 28 0056
        gbc.setState(0xca55, 0xbf0e, 0x2e50, 0xc902, 0xcf26, 0x126b, 0x0, 0x1);
        gbc.writeMem(0xca55, { 0x28, 0x52 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xbf0e, gbc.sp());
        EXPECT(0xca57, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xca55));
        EXPECT(0x52, gbc.readMem(0xca56));
        // 28 0058
        gbc.setState(0xde51, 0xeb9f, 0x9ab0, 0xf46e, 0x1986, 0x1c84, 0x1, 0x1);
        gbc.writeMem(0xde51, { 0x28, 0xac });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xeb9f, gbc.sp());
        EXPECT(0xddff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xde51));
        EXPECT(0xac, gbc.readMem(0xde52));
        // 28 0059
        gbc.setState(0xc14, 0x24f2, 0xad40, 0x81d2, 0x82b0, 0x1a14, 0x0, 0x1);
        gbc.writeMem(0xc14, { 0x28, 0x48 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x24f2, gbc.sp());
        EXPECT(0xc16, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 005A
        gbc.setState(0x818a, 0x9c5a, 0x56e0, 0x723b, 0xadfb, 0xfdc0, 0x1, 0x0);
        gbc.writeMem(0x818a, { 0x28, 0xbe });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x9c5a, gbc.sp());
        EXPECT(0x814a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x818a));
        EXPECT(0xbe, gbc.readMem(0x818b));
        // 28 005B
        gbc.setState(0x8fc7, 0x4de, 0xdc0, 0x33ac, 0x43d4, 0xe3eb, 0x1, 0x1);
        gbc.writeMem(0x8fc7, { 0x28, 0xfe });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x4de, gbc.sp());
        EXPECT(0x8fc7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8fc7));
        EXPECT(0xfe, gbc.readMem(0x8fc8));
        // 28 005C
        gbc.setState(0x77a7, 0xb105, 0x66c0, 0xabe5, 0x7516, 0x22bd, 0x1, 0x1);
        gbc.writeMem(0x77a7, { 0x28, 0x85 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xb105, gbc.sp());
        EXPECT(0x772e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 005D
        gbc.setState(0x1109, 0xef5, 0x4230, 0x162e, 0x9457, 0xbfb0, 0x0, 0x0);
        gbc.writeMem(0x1109, { 0x28, 0xad });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xef5, gbc.sp());
        EXPECT(0x110b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 005E
        gbc.setState(0x6fc, 0x2665, 0x16d0, 0x42ad, 0xf0f5, 0xfeb0, 0x0, 0x0);
        gbc.writeMem(0x6fc, { 0x28, 0x14 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x2665, gbc.sp());
        EXPECT(0x712, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 005F
        gbc.setState(0x1848, 0x6e06, 0x9520, 0xf1c2, 0xeb74, 0xc29a, 0x1, 0x0);
        gbc.writeMem(0x1848, { 0x28, 0xeb });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x6e06, gbc.sp());
        EXPECT(0x184a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0060
        gbc.setState(0x451f, 0xaf6b, 0xb650, 0xe4da, 0xf621, 0xd913, 0x0, 0x1);
        gbc.writeMem(0x451f, { 0x28, 0x44 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xaf6b, gbc.sp());
        EXPECT(0x4521, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0061
        gbc.setState(0xc254, 0x3ee7, 0x5620, 0x7369, 0x35, 0xe7a5, 0x0, 0x1);
        gbc.writeMem(0xc254, { 0x28, 0xc0 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x3ee7, gbc.sp());
        EXPECT(0xc256, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc254));
        EXPECT(0xc0, gbc.readMem(0xc255));
        // 28 0062
        gbc.setState(0x49fe, 0x5882, 0xcfc0, 0xf9c, 0x401d, 0x5eaa, 0x0, 0x1);
        gbc.writeMem(0x49fe, { 0x28, 0xa7 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x5882, gbc.sp());
        EXPECT(0x49a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0063
        gbc.setState(0x5ad2, 0xc9fd, 0x8380, 0x86fe, 0xdd92, 0xee37, 0x0, 0x0);
        gbc.writeMem(0x5ad2, { 0x28, 0x6c });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xc9fd, gbc.sp());
        EXPECT(0x5b40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0064
        gbc.setState(0x67c, 0xb8f8, 0x370, 0xcb9d, 0xe36a, 0x2672, 0x0, 0x1);
        gbc.writeMem(0x67c, { 0x28, 0xdb });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xb8f8, gbc.sp());
        EXPECT(0x67e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0065
        gbc.setState(0xb233, 0xc0a5, 0x7680, 0x7aff, 0xd1a7, 0xf694, 0x0, 0x0);
        gbc.writeMem(0xb233, { 0x28, 0xe2 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xc0a5, gbc.sp());
        EXPECT(0xb217, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb233));
        EXPECT(0xe2, gbc.readMem(0xb234));
        // 28 0066
        gbc.setState(0x87b9, 0x165e, 0x8e20, 0x86a7, 0xa073, 0xc3de, 0x1, 0x0);
        gbc.writeMem(0x87b9, { 0x28, 0x9a });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x165e, gbc.sp());
        EXPECT(0x87bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x87b9));
        EXPECT(0x9a, gbc.readMem(0x87ba));
        // 28 0067
        gbc.setState(0x56e2, 0x9172, 0x9910, 0x416a, 0xc0aa, 0xa704, 0x0, 0x0);
        gbc.writeMem(0x56e2, { 0x28, 0xdf });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x9172, gbc.sp());
        EXPECT(0x56e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0068
        gbc.setState(0x27b8, 0x679d, 0x24b0, 0x6cb6, 0x6ee, 0x838f, 0x0, 0x1);
        gbc.writeMem(0x27b8, { 0x28, 0x8e });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x679d, gbc.sp());
        EXPECT(0x2748, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0069
        gbc.setState(0x459a, 0x3c8c, 0x5e40, 0xb885, 0x5cae, 0x74a, 0x1, 0x1);
        gbc.writeMem(0x459a, { 0x28, 0x8f });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x3c8c, gbc.sp());
        EXPECT(0x459c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 006A
        gbc.setState(0xc596, 0xf201, 0x8a90, 0xc51f, 0xcddb, 0x65d8, 0x0, 0x1);
        gbc.writeMem(0xc596, { 0x28, 0x47 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xf201, gbc.sp());
        EXPECT(0xc5df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc596));
        EXPECT(0x47, gbc.readMem(0xc597));
        // 28 006B
        gbc.setState(0x2ad1, 0x10c5, 0x7250, 0x70d0, 0x88fa, 0x9f69, 0x0, 0x1);
        gbc.writeMem(0x2ad1, { 0x28, 0x16 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x10c5, gbc.sp());
        EXPECT(0x2ad3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 006C
        gbc.setState(0xae10, 0x7f2b, 0x8390, 0x261f, 0x1c3c, 0x8757, 0x0, 0x1);
        gbc.writeMem(0xae10, { 0x28, 0xc7 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x7f2b, gbc.sp());
        EXPECT(0xadd9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xae10));
        EXPECT(0xc7, gbc.readMem(0xae11));
        // 28 006D
        gbc.setState(0xe9b2, 0x3cf0, 0xb630, 0x5480, 0x4d6f, 0xcfa1, 0x0, 0x0);
        gbc.writeMem(0xe9b2, { 0x28, 0x23 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x3cf0, gbc.sp());
        EXPECT(0xe9b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe9b2));
        EXPECT(0x23, gbc.readMem(0xe9b3));
        // 28 006E
        gbc.setState(0x973b, 0xf8d7, 0x4410, 0x511d, 0x4be6, 0x25b5, 0x0, 0x1);
        gbc.writeMem(0x973b, { 0x28, 0xcc });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xf8d7, gbc.sp());
        EXPECT(0x973d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x973b));
        EXPECT(0xcc, gbc.readMem(0x973c));
        // 28 006F
        gbc.setState(0x254e, 0x18f9, 0x1a20, 0x88bc, 0x91b, 0xd34f, 0x1, 0x0);
        gbc.writeMem(0x254e, { 0x28, 0x4a });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x18f9, gbc.sp());
        EXPECT(0x2550, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0070
        gbc.setState(0xe091, 0xf755, 0x30b0, 0xc873, 0x8ae, 0x9acc, 0x0, 0x0);
        gbc.writeMem(0xe091, { 0x28, 0x51 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xf755, gbc.sp());
        EXPECT(0xe0e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe091));
        EXPECT(0x51, gbc.readMem(0xe092));
        // 28 0071
        gbc.setState(0x34cb, 0x6d70, 0xe030, 0xfb45, 0xea57, 0x3c00, 0x1, 0x1);
        gbc.writeMem(0x34cb, { 0x28, 0xbb });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x6d70, gbc.sp());
        EXPECT(0x34cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0072
        gbc.setState(0xae73, 0xed3d, 0xa850, 0xd6b3, 0x2447, 0x7b75, 0x0, 0x1);
        gbc.writeMem(0xae73, { 0x28, 0x4b });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xed3d, gbc.sp());
        EXPECT(0xae75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xae73));
        EXPECT(0x4b, gbc.readMem(0xae74));
        // 28 0073
        gbc.setState(0x1331, 0x7321, 0xd070, 0xb1af, 0x3059, 0x3319, 0x0, 0x0);
        gbc.writeMem(0x1331, { 0x28, 0xe4 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x7321, gbc.sp());
        EXPECT(0x1333, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0074
        gbc.setState(0x2992, 0x75e0, 0xfbe0, 0xbe21, 0x215f, 0x4adb, 0x0, 0x1);
        gbc.writeMem(0x2992, { 0x28, 0x11 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x75e0, gbc.sp());
        EXPECT(0x29a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0075
        gbc.setState(0x3a76, 0xd72a, 0x8160, 0x699d, 0x25c0, 0x5512, 0x1, 0x1);
        gbc.writeMem(0x3a76, { 0x28, 0xcc });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xd72a, gbc.sp());
        EXPECT(0x3a78, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0076
        gbc.setState(0x7866, 0xbb5e, 0x3690, 0xfd79, 0x90c2, 0xd8a0, 0x1, 0x1);
        gbc.writeMem(0x7866, { 0x28, 0x67 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xbb5e, gbc.sp());
        EXPECT(0x78cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0077
        gbc.setState(0xd3e7, 0x548c, 0x73b0, 0x7628, 0xff3, 0x6a82, 0x1, 0x0);
        gbc.writeMem(0xd3e7, { 0x28, 0xe5 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x548c, gbc.sp());
        EXPECT(0xd3ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd3e7));
        EXPECT(0xe5, gbc.readMem(0xd3e8));
        // 28 0078
        gbc.setState(0x34c9, 0xdce5, 0x42e0, 0xf864, 0x71ff, 0xc881, 0x0, 0x1);
        gbc.writeMem(0x34c9, { 0x28, 0x9a });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xdce5, gbc.sp());
        EXPECT(0x3465, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0079
        gbc.setState(0x4d35, 0x214f, 0xe8e0, 0x9069, 0xa151, 0x5cc6, 0x1, 0x0);
        gbc.writeMem(0x4d35, { 0x28, 0x6c });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x214f, gbc.sp());
        EXPECT(0x4da3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 007A
        gbc.setState(0x34e7, 0x1bb6, 0xbe30, 0x1900, 0x910b, 0x5f38, 0x0, 0x1);
        gbc.writeMem(0x34e7, { 0x28, 0xa9 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x1bb6, gbc.sp());
        EXPECT(0x34e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 007B
        gbc.setState(0xf7e, 0x35df, 0xa660, 0x4d47, 0x2b6b, 0x3efd, 0x1, 0x0);
        gbc.writeMem(0xf7e, { 0x28, 0x13 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x35df, gbc.sp());
        EXPECT(0xf80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 007C
        gbc.setState(0x1984, 0x4937, 0xd8e0, 0x93a0, 0x1101, 0xb9d, 0x0, 0x0);
        gbc.writeMem(0x1984, { 0x28, 0xad });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x4937, gbc.sp());
        EXPECT(0x1933, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 007D
        gbc.setState(0xc07c, 0x1f0, 0x8b50, 0x9a58, 0xb59d, 0x1110, 0x1, 0x1);
        gbc.writeMem(0xc07c, { 0x28, 0x19 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x1f0, gbc.sp());
        EXPECT(0xc07e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc07c));
        EXPECT(0x19, gbc.readMem(0xc07d));
        // 28 007E
        gbc.setState(0xda45, 0x2994, 0x66d0, 0xc8a, 0x566a, 0xe30a, 0x0, 0x1);
        gbc.writeMem(0xda45, { 0x28, 0xcd });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x2994, gbc.sp());
        EXPECT(0xda14, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xda45));
        EXPECT(0xcd, gbc.readMem(0xda46));
        // 28 007F
        gbc.setState(0xd00f, 0x7093, 0xe040, 0xfed6, 0x5dce, 0x87eb, 0x0, 0x1);
        gbc.writeMem(0xd00f, { 0x28, 0x45 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x7093, gbc.sp());
        EXPECT(0xd011, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd00f));
        EXPECT(0x45, gbc.readMem(0xd010));
        // 28 0080
        gbc.setState(0xd63b, 0x7cfe, 0x3dc0, 0x8717, 0xbd68, 0xca58, 0x1, 0x1);
        gbc.writeMem(0xd63b, { 0x28, 0x9a });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x7cfe, gbc.sp());
        EXPECT(0xd5d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd63b));
        EXPECT(0x9a, gbc.readMem(0xd63c));
        // 28 0081
        gbc.setState(0x9d83, 0x7767, 0x9f30, 0x3e5d, 0x2e67, 0x1fa, 0x0, 0x1);
        gbc.writeMem(0x9d83, { 0x28, 0x4b });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x7767, gbc.sp());
        EXPECT(0x9d85, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9d83));
        EXPECT(0x4b, gbc.readMem(0x9d84));
        // 28 0082
        gbc.setState(0xe8f5, 0x233f, 0xd240, 0x6468, 0xe50e, 0xc45f, 0x1, 0x1);
        gbc.writeMem(0xe8f5, { 0x28, 0x3b });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x233f, gbc.sp());
        EXPECT(0xe8f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe8f5));
        EXPECT(0x3b, gbc.readMem(0xe8f6));
        // 28 0083
        gbc.setState(0xd67d, 0x2561, 0xe5d0, 0x583f, 0xdcb0, 0xc06e, 0x1, 0x1);
        gbc.writeMem(0xd67d, { 0x28, 0x2a });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x2561, gbc.sp());
        EXPECT(0xd6a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd67d));
        EXPECT(0x2a, gbc.readMem(0xd67e));
        // 28 0084
        gbc.setState(0x184d, 0xd88b, 0xb7e0, 0x6210, 0x2f93, 0xb82a, 0x0, 0x0);
        gbc.writeMem(0x184d, { 0x28, 0x92 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xd88b, gbc.sp());
        EXPECT(0x17e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0085
        gbc.setState(0x84a6, 0x3159, 0xffb0, 0x2710, 0xb98a, 0x5fd5, 0x0, 0x1);
        gbc.writeMem(0x84a6, { 0x28, 0x4d });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x3159, gbc.sp());
        EXPECT(0x84f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x84a6));
        EXPECT(0x4d, gbc.readMem(0x84a7));
        // 28 0086
        gbc.setState(0x20b2, 0x1c3, 0x6130, 0xcddf, 0xb05d, 0xf094, 0x0, 0x0);
        gbc.writeMem(0x20b2, { 0x28, 0xa7 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x1c3, gbc.sp());
        EXPECT(0x20b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0087
        gbc.setState(0x8518, 0x5741, 0x73b0, 0xd81b, 0x564, 0xee06, 0x1, 0x1);
        gbc.writeMem(0x8518, { 0x28, 0xed });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x5741, gbc.sp());
        EXPECT(0x8507, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8518));
        EXPECT(0xed, gbc.readMem(0x8519));
        // 28 0088
        gbc.setState(0x19fc, 0xf24, 0x2a50, 0x7bb, 0x20b1, 0xf332, 0x1, 0x0);
        gbc.writeMem(0x19fc, { 0x28, 0xba });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0xf24, gbc.sp());
        EXPECT(0x19fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0089
        gbc.setState(0xc697, 0xebea, 0x3a20, 0x4f5c, 0x3490, 0xf24, 0x1, 0x1);
        gbc.writeMem(0xc697, { 0x28, 0x8d });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xebea, gbc.sp());
        EXPECT(0xc699, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc697));
        EXPECT(0x8d, gbc.readMem(0xc698));
        // 28 008A
        gbc.setState(0x6afb, 0x84f1, 0x5dd0, 0x7dd0, 0xfd82, 0xfb0, 0x0, 0x0);
        gbc.writeMem(0x6afb, { 0x28, 0x27 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x84f1, gbc.sp());
        EXPECT(0x6b24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 008B
        gbc.setState(0xdc34, 0xdd84, 0x6b30, 0xe59d, 0xdfca, 0x8728, 0x0, 0x0);
        gbc.writeMem(0xdc34, { 0x28, 0xf7 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xdd84, gbc.sp());
        EXPECT(0xdc36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xdc34));
        EXPECT(0xf7, gbc.readMem(0xdc35));
        // 28 008C
        gbc.setState(0x21e3, 0xc4c0, 0xc1f0, 0x6235, 0x729e, 0xa57c, 0x1, 0x1);
        gbc.writeMem(0x21e3, { 0x28, 0x7f });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xc4c0, gbc.sp());
        EXPECT(0x2264, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 008D
        gbc.setState(0x907a, 0x1173, 0x6e40, 0x3173, 0xa5f4, 0x71d7, 0x0, 0x0);
        gbc.writeMem(0x907a, { 0x28, 0xe1 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x1173, gbc.sp());
        EXPECT(0x907c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x907a));
        EXPECT(0xe1, gbc.readMem(0x907b));
        // 28 008E
        gbc.setState(0xd1d6, 0x8ac3, 0xfc10, 0x4928, 0xdb63, 0xb19a, 0x1, 0x0);
        gbc.writeMem(0xd1d6, { 0x28, 0x7f });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x8ac3, gbc.sp());
        EXPECT(0xd1d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd1d6));
        EXPECT(0x7f, gbc.readMem(0xd1d7));
        // 28 008F
        gbc.setState(0x1d4c, 0x2827, 0x7ec0, 0xdb44, 0x168b, 0x7fe9, 0x1, 0x1);
        gbc.writeMem(0x1d4c, { 0x28, 0xb8 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x2827, gbc.sp());
        EXPECT(0x1d06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0090
        gbc.setState(0x77d1, 0xb287, 0xa740, 0xdcc1, 0x8c9e, 0x94c7, 0x0, 0x0);
        gbc.writeMem(0x77d1, { 0x28, 0x3a });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xb287, gbc.sp());
        EXPECT(0x77d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0091
        gbc.setState(0x8d7d, 0x4a2b, 0x7d0, 0x3ce1, 0x893f, 0xf561, 0x0, 0x1);
        gbc.writeMem(0x8d7d, { 0x28, 0xc2 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x4a2b, gbc.sp());
        EXPECT(0x8d41, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8d7d));
        EXPECT(0xc2, gbc.readMem(0x8d7e));
        // 28 0092
        gbc.setState(0xbbd8, 0x8c18, 0xadc0, 0xa379, 0x7d89, 0x1271, 0x1, 0x0);
        gbc.writeMem(0xbbd8, { 0x28, 0x34 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x8c18, gbc.sp());
        EXPECT(0xbc0e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xbbd8));
        EXPECT(0x34, gbc.readMem(0xbbd9));
        // 28 0093
        gbc.setState(0x2eec, 0x552, 0xb20, 0xc3f0, 0xdb61, 0xafd6, 0x0, 0x1);
        gbc.writeMem(0x2eec, { 0x28, 0x85 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x552, gbc.sp());
        EXPECT(0x2eee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0094
        gbc.setState(0x9e3e, 0xf3ec, 0xc530, 0xe06b, 0x1d6, 0xbbc, 0x1, 0x1);
        gbc.writeMem(0x9e3e, { 0x28, 0x56 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xf3ec, gbc.sp());
        EXPECT(0x9e40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9e3e));
        EXPECT(0x56, gbc.readMem(0x9e3f));
        // 28 0095
        gbc.setState(0x60e8, 0xb6c5, 0xbed0, 0xf659, 0x874a, 0x1f1e, 0x1, 0x0);
        gbc.writeMem(0x60e8, { 0x28, 0x34 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xb6c5, gbc.sp());
        EXPECT(0x611e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0096
        gbc.setState(0x6cd3, 0x1e9a, 0x80d0, 0x3dac, 0x7429, 0x1c97, 0x1, 0x1);
        gbc.writeMem(0x6cd3, { 0x28, 0x12 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x1e9a, gbc.sp());
        EXPECT(0x6ce7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0097
        gbc.setState(0xbff4, 0x5b54, 0x78a0, 0x3ee1, 0x45d3, 0xb672, 0x1, 0x0);
        gbc.writeMem(0xbff4, { 0x28, 0x33 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x5b54, gbc.sp());
        EXPECT(0xc029, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xbff4));
        EXPECT(0x33, gbc.readMem(0xbff5));
        // 28 0098
        gbc.setState(0x33ce, 0x7ac8, 0x1c50, 0xb6f5, 0xc9f4, 0xffcb, 0x1, 0x0);
        gbc.writeMem(0x33ce, { 0x28, 0x7c });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x7ac8, gbc.sp());
        EXPECT(0x33d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0099
        gbc.setState(0x24f8, 0xd3e8, 0xec40, 0xb6aa, 0x4df2, 0x5ba1, 0x1, 0x0);
        gbc.writeMem(0x24f8, { 0x28, 0x81 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xd3e8, gbc.sp());
        EXPECT(0x24fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 009A
        gbc.setState(0x65f, 0xba65, 0x1b40, 0x18a4, 0x9ce8, 0x9776, 0x0, 0x0);
        gbc.writeMem(0x65f, { 0x28, 0x89 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xba65, gbc.sp());
        EXPECT(0x661, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 009B
        gbc.setState(0x21c9, 0x437f, 0xa350, 0xe10c, 0x7b26, 0x5ac0, 0x0, 0x1);
        gbc.writeMem(0x21c9, { 0x28, 0xdc });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x437f, gbc.sp());
        EXPECT(0x21cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 009C
        gbc.setState(0x6a37, 0x5010, 0x4b60, 0xa589, 0xa727, 0xf020, 0x1, 0x0);
        gbc.writeMem(0x6a37, { 0x28, 0x49 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x5010, gbc.sp());
        EXPECT(0x6a39, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 009E
        gbc.setState(0x8758, 0x36ef, 0xffa0, 0xa774, 0xf52, 0x23a0, 0x1, 0x1);
        gbc.writeMem(0x8758, { 0x28, 0xe2 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x36ef, gbc.sp());
        EXPECT(0x873c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8758));
        EXPECT(0xe2, gbc.readMem(0x8759));
        // 28 009F
        gbc.setState(0x9623, 0xb403, 0x55c0, 0x7cb7, 0x4fe2, 0xeeb5, 0x0, 0x0);
        gbc.writeMem(0x9623, { 0x28, 0x9e });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xb403, gbc.sp());
        EXPECT(0x95c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9623));
        EXPECT(0x9e, gbc.readMem(0x9624));
        // 28 00A0
        gbc.setState(0x1213, 0x64c2, 0x8da0, 0x2982, 0xf297, 0xd722, 0x1, 0x0);
        gbc.writeMem(0x1213, { 0x28, 0xbb });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x64c2, gbc.sp());
        EXPECT(0x11d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00A1
        gbc.setState(0x42b3, 0x2fc8, 0xb8d0, 0x4f0e, 0xd2ed, 0x7580, 0x1, 0x1);
        gbc.writeMem(0x42b3, { 0x28, 0x88 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x2fc8, gbc.sp());
        EXPECT(0x423d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00A2
        gbc.setState(0xeb51, 0x6b67, 0xcd00, 0xebd9, 0x5ca2, 0x31bd, 0x0, 0x1);
        gbc.writeMem(0xeb51, { 0x28, 0x36 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x6b67, gbc.sp());
        EXPECT(0xeb53, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xeb51));
        EXPECT(0x36, gbc.readMem(0xeb52));
        // 28 00A3
        gbc.setState(0xda7f, 0xc601, 0x1960, 0x9de5, 0xfe7e, 0x40e2, 0x1, 0x1);
        gbc.writeMem(0xda7f, { 0x28, 0x56 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xc601, gbc.sp());
        EXPECT(0xda81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xda7f));
        EXPECT(0x56, gbc.readMem(0xda80));
        // 28 00A4
        gbc.setState(0xb52b, 0xbc05, 0xa80, 0xc144, 0x90e7, 0xff27, 0x0, 0x1);
        gbc.writeMem(0xb52b, { 0x28, 0x23 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xbc05, gbc.sp());
        EXPECT(0xb550, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb52b));
        EXPECT(0x23, gbc.readMem(0xb52c));
        // 28 00A5
        gbc.setState(0x1675, 0xf548, 0x2420, 0xae36, 0xbb65, 0x83e1, 0x0, 0x0);
        gbc.writeMem(0x1675, { 0x28, 0x10 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xf548, gbc.sp());
        EXPECT(0x1677, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00A6
        gbc.setState(0xb9e6, 0xcafe, 0x6190, 0x7d99, 0x5668, 0xabca, 0x1, 0x0);
        gbc.writeMem(0xb9e6, { 0x28, 0xb6 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xcafe, gbc.sp());
        EXPECT(0xb99e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb9e6));
        EXPECT(0xb6, gbc.readMem(0xb9e7));
        // 28 00A7
        gbc.setState(0x1524, 0x8278, 0x91a0, 0xc4c2, 0x81fd, 0x4f31, 0x0, 0x1);
        gbc.writeMem(0x1524, { 0x28, 0x7 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x8278, gbc.sp());
        EXPECT(0x152d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00A8
        gbc.setState(0x13c9, 0x272e, 0x390, 0x8631, 0x6012, 0x1abf, 0x1, 0x1);
        gbc.writeMem(0x13c9, { 0x28, 0x3d });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x272e, gbc.sp());
        EXPECT(0x1408, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00A9
        gbc.setState(0x780f, 0x7679, 0x85d0, 0x161a, 0xef46, 0x76bf, 0x0, 0x0);
        gbc.writeMem(0x780f, { 0x28, 0xbd });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x7679, gbc.sp());
        EXPECT(0x77ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00AA
        gbc.setState(0x56e7, 0x7b22, 0x7870, 0x85d2, 0x6519, 0x7185, 0x0, 0x1);
        gbc.writeMem(0x56e7, { 0x28, 0xd6 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x7b22, gbc.sp());
        EXPECT(0x56e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00AB
        gbc.setState(0x40c6, 0xf6d4, 0xf370, 0x95d1, 0x3bb9, 0xad15, 0x0, 0x1);
        gbc.writeMem(0x40c6, { 0x28, 0x63 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xf6d4, gbc.sp());
        EXPECT(0x40c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00AC
        gbc.setState(0x7514, 0x7d37, 0x3e30, 0x3ab5, 0xda3a, 0x70b0, 0x1, 0x1);
        gbc.writeMem(0x7514, { 0x28, 0x23 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x7d37, gbc.sp());
        EXPECT(0x7516, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00AD
        gbc.setState(0x4216, 0x36b1, 0x20a0, 0xc36, 0x16dd, 0x3b63, 0x0, 0x0);
        gbc.writeMem(0x4216, { 0x28, 0x6a });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x36b1, gbc.sp());
        EXPECT(0x4282, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00AE
        gbc.setState(0x5a8d, 0xa960, 0x6400, 0x18bd, 0x973f, 0xee70, 0x0, 0x1);
        gbc.writeMem(0x5a8d, { 0x28, 0x9f });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xa960, gbc.sp());
        EXPECT(0x5a8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00AF
        gbc.setState(0xd6f9, 0xbad3, 0x4be0, 0x9a8d, 0x4cf9, 0xfb9, 0x0, 0x0);
        gbc.writeMem(0xd6f9, { 0x28, 0x6 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xbad3, gbc.sp());
        EXPECT(0xd701, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd6f9));
        EXPECT(0x6, gbc.readMem(0xd6fa));
        // 28 00B0
        gbc.setState(0x4cf4, 0x7a5b, 0xa080, 0x8c6d, 0xe17e, 0x898, 0x0, 0x1);
        gbc.writeMem(0x4cf4, { 0x28, 0xd4 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x7a5b, gbc.sp());
        EXPECT(0x4cca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00B1
        gbc.setState(0x7ef1, 0xae9, 0x8f60, 0x3307, 0xc43d, 0xaef2, 0x1, 0x0);
        gbc.writeMem(0x7ef1, { 0x28, 0xa4 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xae9, gbc.sp());
        EXPECT(0x7ef3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00B2
        gbc.setState(0x5eaf, 0x55c5, 0x53a0, 0xc0c7, 0xddd9, 0x84e2, 0x1, 0x1);
        gbc.writeMem(0x5eaf, { 0x28, 0x7b });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x55c5, gbc.sp());
        EXPECT(0x5f2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00B3
        gbc.setState(0x3124, 0xfb00, 0xee90, 0x2d3b, 0xd0eb, 0x51bc, 0x1, 0x0);
        gbc.writeMem(0x3124, { 0x28, 0x1f });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xfb00, gbc.sp());
        EXPECT(0x3145, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00B4
        gbc.setState(0x6f3f, 0x4512, 0xc70, 0x4b5a, 0x669c, 0x10c6, 0x1, 0x1);
        gbc.writeMem(0x6f3f, { 0x28, 0x86 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x4512, gbc.sp());
        EXPECT(0x6f41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00B6
        gbc.setState(0x223d, 0x7717, 0xc6a0, 0x53e7, 0x5273, 0xcef3, 0x1, 0x0);
        gbc.writeMem(0x223d, { 0x28, 0x8 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x7717, gbc.sp());
        EXPECT(0x2247, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00B7
        gbc.setState(0xb4ae, 0x936e, 0x8680, 0x5061, 0x3557, 0x9ec, 0x0, 0x0);
        gbc.writeMem(0xb4ae, { 0x28, 0x19 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x936e, gbc.sp());
        EXPECT(0xb4c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb4ae));
        EXPECT(0x19, gbc.readMem(0xb4af));
        // 28 00B8
        gbc.setState(0xa172, 0x346e, 0xc170, 0xd68e, 0xbbfa, 0xa56, 0x1, 0x0);
        gbc.writeMem(0xa172, { 0x28, 0x92 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x346e, gbc.sp());
        EXPECT(0xa174, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa172));
        EXPECT(0x92, gbc.readMem(0xa173));
        // 28 00B9
        gbc.setState(0x9e24, 0xa398, 0x93c0, 0x745a, 0xba20, 0x709f, 0x0, 0x0);
        gbc.writeMem(0x9e24, { 0x28, 0x4b });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xa398, gbc.sp());
        EXPECT(0x9e71, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9e24));
        EXPECT(0x4b, gbc.readMem(0x9e25));
        // 28 00BA
        gbc.setState(0xb531, 0x3a4f, 0xa850, 0x40b1, 0x6da, 0x5694, 0x0, 0x1);
        gbc.writeMem(0xb531, { 0x28, 0xb });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x3a4f, gbc.sp());
        EXPECT(0xb533, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb531));
        EXPECT(0xb, gbc.readMem(0xb532));
        // 28 00BB
        gbc.setState(0x8bf7, 0x64d1, 0x56a0, 0x2278, 0xabd0, 0xe70e, 0x0, 0x0);
        gbc.writeMem(0x8bf7, { 0x28, 0x8b });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x64d1, gbc.sp());
        EXPECT(0x8b84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8bf7));
        EXPECT(0x8b, gbc.readMem(0x8bf8));
        // 28 00BC
        gbc.setState(0x7591, 0x4647, 0x2900, 0x6651, 0x4962, 0x4bf, 0x1, 0x1);
        gbc.writeMem(0x7591, { 0x28, 0x89 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x4647, gbc.sp());
        EXPECT(0x7593, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00BD
        gbc.setState(0x6509, 0xca6f, 0x4100, 0xfa58, 0x90ff, 0xc72b, 0x0, 0x0);
        gbc.writeMem(0x6509, { 0x28, 0xaa });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xca6f, gbc.sp());
        EXPECT(0x650b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00BE
        gbc.setState(0xb2e7, 0x679, 0x9fc0, 0x5be8, 0xc92c, 0x5217, 0x1, 0x1);
        gbc.writeMem(0xb2e7, { 0x28, 0x26 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x679, gbc.sp());
        EXPECT(0xb30f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb2e7));
        EXPECT(0x26, gbc.readMem(0xb2e8));
        // 28 00C1
        gbc.setState(0xb8ad, 0x4a86, 0xda80, 0x9285, 0xe3db, 0x84b5, 0x0, 0x1);
        gbc.writeMem(0xb8ad, { 0x28, 0x2 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x4a86, gbc.sp());
        EXPECT(0xb8b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb8ad));
        EXPECT(0x2, gbc.readMem(0xb8ae));
        // 28 00C2
        gbc.setState(0x4be4, 0xa66c, 0x20f0, 0x1ba2, 0x684c, 0xce3e, 0x0, 0x1);
        gbc.writeMem(0x4be4, { 0x28, 0xe6 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xa66c, gbc.sp());
        EXPECT(0x4bcc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00C3
        gbc.setState(0x7742, 0x3811, 0x1690, 0xa728, 0x3584, 0xd250, 0x0, 0x1);
        gbc.writeMem(0x7742, { 0x28, 0x1 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x3811, gbc.sp());
        EXPECT(0x7745, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00C4
        gbc.setState(0x3234, 0x1fae, 0x6cc0, 0xb5ee, 0xfbb, 0x2f7, 0x1, 0x0);
        gbc.writeMem(0x3234, { 0x28, 0xfb });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x1fae, gbc.sp());
        EXPECT(0x3231, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00C5
        gbc.setState(0xdeac, 0x4e34, 0x3b40, 0x5fc6, 0xaf5b, 0xf7e9, 0x0, 0x0);
        gbc.writeMem(0xdeac, { 0x28, 0xfb });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x4e34, gbc.sp());
        EXPECT(0xdeae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xdeac));
        EXPECT(0xfb, gbc.readMem(0xdead));
        // 28 00C6
        gbc.setState(0xd56d, 0xea5a, 0x2c20, 0x598a, 0x1535, 0x5b76, 0x1, 0x1);
        gbc.writeMem(0xd56d, { 0x28, 0x5b });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xea5a, gbc.sp());
        EXPECT(0xd56f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd56d));
        EXPECT(0x5b, gbc.readMem(0xd56e));
        // 28 00C7
        gbc.setState(0x1894, 0xef4f, 0xa320, 0xb37d, 0x9457, 0xf5f, 0x1, 0x1);
        gbc.writeMem(0x1894, { 0x28, 0xe2 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xef4f, gbc.sp());
        EXPECT(0x1896, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00C8
        gbc.setState(0xa98b, 0xd1ba, 0x9f30, 0x5070, 0x18d2, 0x1748, 0x1, 0x1);
        gbc.writeMem(0xa98b, { 0x28, 0x54 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xd1ba, gbc.sp());
        EXPECT(0xa98d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa98b));
        EXPECT(0x54, gbc.readMem(0xa98c));
        // 28 00C9
        gbc.setState(0x35a2, 0xe322, 0x69a0, 0x3c28, 0x6cc0, 0xd158, 0x0, 0x1);
        gbc.writeMem(0x35a2, { 0x28, 0x2d });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xe322, gbc.sp());
        EXPECT(0x35d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00CA
        gbc.setState(0xa3ac, 0xff36, 0xd440, 0x5ce8, 0x9710, 0x529b, 0x1, 0x0);
        gbc.writeMem(0xa3ac, { 0x28, 0x19 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xff36, gbc.sp());
        EXPECT(0xa3ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa3ac));
        EXPECT(0x19, gbc.readMem(0xa3ad));
        // 28 00CB
        gbc.setState(0xe0e7, 0xc884, 0x1770, 0x933d, 0x893e, 0x1014, 0x1, 0x1);
        gbc.writeMem(0xe0e7, { 0x28, 0xf6 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xc884, gbc.sp());
        EXPECT(0xe0e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe0e7));
        EXPECT(0xf6, gbc.readMem(0xe0e8));
        // 28 00CC
        gbc.setState(0xaa2c, 0xd3da, 0x5f90, 0xc905, 0x1d22, 0xdb49, 0x1, 0x0);
        gbc.writeMem(0xaa2c, { 0x28, 0x20 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xd3da, gbc.sp());
        EXPECT(0xaa4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xaa2c));
        EXPECT(0x20, gbc.readMem(0xaa2d));
        // 28 00CD
        gbc.setState(0x3ac9, 0x2d00, 0x8b30, 0x2ebb, 0xc6dd, 0x3f14, 0x0, 0x0);
        gbc.writeMem(0x3ac9, { 0x28, 0x3d });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x2d00, gbc.sp());
        EXPECT(0x3acb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00CE
        gbc.setState(0x7b15, 0x85c8, 0x2a90, 0x13f0, 0x585b, 0xcfef, 0x0, 0x1);
        gbc.writeMem(0x7b15, { 0x28, 0x47 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x85c8, gbc.sp());
        EXPECT(0x7b5e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00CF
        gbc.setState(0x2aad, 0x4633, 0x50f0, 0x46d5, 0x539f, 0x293b, 0x1, 0x1);
        gbc.writeMem(0x2aad, { 0x28, 0x75 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x4633, gbc.sp());
        EXPECT(0x2b24, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00D0
        gbc.setState(0x2067, 0xd50e, 0x1640, 0x4885, 0x1aae, 0x3a44, 0x1, 0x0);
        gbc.writeMem(0x2067, { 0x28, 0x20 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xd50e, gbc.sp());
        EXPECT(0x2069, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00D1
        gbc.setState(0xe074, 0x2be6, 0x3ed0, 0x8033, 0x796a, 0x3e79, 0x0, 0x0);
        gbc.writeMem(0xe074, { 0x28, 0x2 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x2be6, gbc.sp());
        EXPECT(0xe078, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe074));
        EXPECT(0x2, gbc.readMem(0xe075));
        // 28 00D2
        gbc.setState(0x2c3d, 0x80bd, 0x3920, 0x500a, 0xa9f8, 0xd04, 0x0, 0x1);
        gbc.writeMem(0x2c3d, { 0x28, 0x5 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x80bd, gbc.sp());
        EXPECT(0x2c3f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00D3
        gbc.setState(0xeedc, 0x8b43, 0x70, 0xd9b2, 0x15a0, 0xdefe, 0x1, 0x1);
        gbc.writeMem(0xeedc, { 0x28, 0xb5 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x8b43, gbc.sp());
        EXPECT(0xeede, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xeedc));
        EXPECT(0xb5, gbc.readMem(0xeedd));
        // 28 00D4
        gbc.setState(0x52d, 0xe9db, 0xcc10, 0x3741, 0x2bc5, 0x9744, 0x1, 0x1);
        gbc.writeMem(0x52d, { 0x28, 0x84 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xe9db, gbc.sp());
        EXPECT(0x52f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00D5
        gbc.setState(0x3105, 0xde1c, 0x1530, 0x7be2, 0xe80, 0x9ce5, 0x1, 0x1);
        gbc.writeMem(0x3105, { 0x28, 0x12 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xde1c, gbc.sp());
        EXPECT(0x3107, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00D6
        gbc.setState(0x1b6, 0xa91e, 0xa590, 0x4755, 0x210d, 0x9def, 0x1, 0x1);
        gbc.writeMem(0x1b6, { 0x28, 0xb0 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xa91e, gbc.sp());
        EXPECT(0x168, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00D7
        gbc.setState(0xa116, 0x5748, 0xdd40, 0xde98, 0xff0e, 0xf76, 0x0, 0x1);
        gbc.writeMem(0xa116, { 0x28, 0xd5 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x5748, gbc.sp());
        EXPECT(0xa118, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa116));
        EXPECT(0xd5, gbc.readMem(0xa117));
        // 28 00D9
        gbc.setState(0x61d9, 0xe40f, 0x9f60, 0x1244, 0x8039, 0x512d, 0x1, 0x0);
        gbc.writeMem(0x61d9, { 0x28, 0x4e });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xe40f, gbc.sp());
        EXPECT(0x61db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00DA
        gbc.setState(0x59d3, 0x916f, 0x4b40, 0x356a, 0x97cd, 0x69, 0x1, 0x0);
        gbc.writeMem(0x59d3, { 0x28, 0x1e });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x916f, gbc.sp());
        EXPECT(0x59d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00DB
        gbc.setState(0xc97d, 0x77e7, 0x4220, 0x9674, 0x1589, 0x549a, 0x0, 0x1);
        gbc.writeMem(0xc97d, { 0x28, 0x7f });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x77e7, gbc.sp());
        EXPECT(0xc97f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc97d));
        EXPECT(0x7f, gbc.readMem(0xc97e));
        // 28 00DC
        gbc.setState(0xd7d5, 0x3a3f, 0xdd60, 0x167f, 0x2de, 0xa045, 0x1, 0x0);
        gbc.writeMem(0xd7d5, { 0x28, 0xdc });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x3a3f, gbc.sp());
        EXPECT(0xd7d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd7d5));
        EXPECT(0xdc, gbc.readMem(0xd7d6));
        // 28 00DD
        gbc.setState(0x6064, 0xb404, 0x3360, 0xe060, 0x2554, 0x437c, 0x0, 0x0);
        gbc.writeMem(0x6064, { 0x28, 0x39 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xb404, gbc.sp());
        EXPECT(0x6066, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00DE
        gbc.setState(0xcc10, 0xe6e3, 0xc8e0, 0x7514, 0x7c51, 0xdabe, 0x1, 0x0);
        gbc.writeMem(0xcc10, { 0x28, 0xc2 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xe6e3, gbc.sp());
        EXPECT(0xcbd4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcc10));
        EXPECT(0xc2, gbc.readMem(0xcc11));
        // 28 00DF
        gbc.setState(0x51fd, 0x8100, 0x450, 0xf5a9, 0x7cc0, 0x694d, 0x0, 0x0);
        gbc.writeMem(0x51fd, { 0x28, 0xa9 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x8100, gbc.sp());
        EXPECT(0x51ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00E0
        gbc.setState(0xcc0, 0x79bf, 0x3600, 0x8a53, 0x88f7, 0xe9ad, 0x0, 0x0);
        gbc.writeMem(0xcc0, { 0x28, 0xf });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x79bf, gbc.sp());
        EXPECT(0xcc2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00E1
        gbc.setState(0xd3b, 0xf014, 0x7690, 0x2fca, 0xc245, 0x3e48, 0x1, 0x0);
        gbc.writeMem(0xd3b, { 0x28, 0x2d });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xf014, gbc.sp());
        EXPECT(0xd6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00E2
        gbc.setState(0xaa15, 0xa515, 0x3bf0, 0x9087, 0x34f2, 0xf7b3, 0x0, 0x1);
        gbc.writeMem(0xaa15, { 0x28, 0x78 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xa515, gbc.sp());
        EXPECT(0xaa8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xaa15));
        EXPECT(0x78, gbc.readMem(0xaa16));
        // 28 00E3
        gbc.setState(0xd461, 0xca, 0xbb80, 0x7771, 0xebee, 0x65b9, 0x0, 0x0);
        gbc.writeMem(0xd461, { 0x28, 0x0 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xca, gbc.sp());
        EXPECT(0xd463, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd461));
        EXPECT(0x0, gbc.readMem(0xd462));
        // 28 00E4
        gbc.setState(0x437c, 0x5816, 0x9450, 0x251b, 0x5660, 0x3c97, 0x0, 0x1);
        gbc.writeMem(0x437c, { 0x28, 0x0 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x5816, gbc.sp());
        EXPECT(0x437e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00E5
        gbc.setState(0xb2e6, 0x1c92, 0x1820, 0xfe75, 0x39fb, 0x53fc, 0x1, 0x1);
        gbc.writeMem(0xb2e6, { 0x28, 0x94 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x1c92, gbc.sp());
        EXPECT(0xb2e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb2e6));
        EXPECT(0x94, gbc.readMem(0xb2e7));
        // 28 00E6
        gbc.setState(0x5052, 0x5818, 0x8570, 0x2fa1, 0x5c9b, 0xdbee, 0x0, 0x1);
        gbc.writeMem(0x5052, { 0x28, 0x4e });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x5818, gbc.sp());
        EXPECT(0x5054, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00E7
        gbc.setState(0x5c00, 0xf68e, 0x40e0, 0x7a56, 0xcbd2, 0x4f95, 0x0, 0x1);
        gbc.writeMem(0x5c00, { 0x28, 0xbe });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xf68e, gbc.sp());
        EXPECT(0x5bc0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00E8
        gbc.setState(0xc9d8, 0x5450, 0xe210, 0xe1f4, 0x7399, 0x571a, 0x1, 0x1);
        gbc.writeMem(0xc9d8, { 0x28, 0xdb });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x5450, gbc.sp());
        EXPECT(0xc9da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc9d8));
        EXPECT(0xdb, gbc.readMem(0xc9d9));
        // 28 00E9
        gbc.setState(0x6dcd, 0x588b, 0xa080, 0x6d5a, 0x4a1d, 0xcc8d, 0x0, 0x1);
        gbc.writeMem(0x6dcd, { 0x28, 0x9d });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x588b, gbc.sp());
        EXPECT(0x6d6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00EA
        gbc.setState(0x67c, 0xaec2, 0xab60, 0x8448, 0x582b, 0xa95e, 0x0, 0x0);
        gbc.writeMem(0x67c, { 0x28, 0xdb });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xaec2, gbc.sp());
        EXPECT(0x67e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00EB
        gbc.setState(0xdf01, 0xc87d, 0xea40, 0xc359, 0x361e, 0xb89a, 0x1, 0x0);
        gbc.writeMem(0xdf01, { 0x28, 0x48 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xc87d, gbc.sp());
        EXPECT(0xdf03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xdf01));
        EXPECT(0x48, gbc.readMem(0xdf02));
        // 28 00EC
        gbc.setState(0x699f, 0x76bc, 0xa780, 0x6994, 0x5e7b, 0x4101, 0x0, 0x1);
        gbc.writeMem(0x699f, { 0x28, 0xd3 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x76bc, gbc.sp());
        EXPECT(0x6974, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00ED
        gbc.setState(0x1455, 0x88c, 0xf5d0, 0x6c67, 0x9c90, 0xbdfc, 0x1, 0x1);
        gbc.writeMem(0x1455, { 0x28, 0xf9 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x88c, gbc.sp());
        EXPECT(0x1450, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00EE
        gbc.setState(0x6957, 0xa5fd, 0x1830, 0x576b, 0xe294, 0x57, 0x0, 0x0);
        gbc.writeMem(0x6957, { 0x28, 0xcd });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xa5fd, gbc.sp());
        EXPECT(0x6959, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00EF
        gbc.setState(0xc645, 0x6d3d, 0x85f0, 0x96d, 0x6a9a, 0xe7b0, 0x1, 0x1);
        gbc.writeMem(0xc645, { 0x28, 0x55 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x6d3d, gbc.sp());
        EXPECT(0xc69c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc645));
        EXPECT(0x55, gbc.readMem(0xc646));
        // 28 00F0
        gbc.setState(0x1b8, 0x62df, 0x9660, 0x26e8, 0x3d2d, 0x2d3d, 0x1, 0x0);
        gbc.writeMem(0x1b8, { 0x28, 0x28 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x62df, gbc.sp());
        EXPECT(0x1ba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00F1
        gbc.setState(0xc984, 0x1d20, 0x2540, 0x6d5d, 0x6cf0, 0xad5c, 0x1, 0x0);
        gbc.writeMem(0xc984, { 0x28, 0xca });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x1d20, gbc.sp());
        EXPECT(0xc986, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc984));
        EXPECT(0xca, gbc.readMem(0xc985));
        // 28 00F2
        gbc.setState(0x2c80, 0xab6, 0x500, 0xf80, 0xa99d, 0x211f, 0x0, 0x1);
        gbc.writeMem(0x2c80, { 0x28, 0x4d });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xab6, gbc.sp());
        EXPECT(0x2c82, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00F3
        gbc.setState(0x62e0, 0xcc05, 0xe4a0, 0x2f32, 0x2382, 0x1a6f, 0x0, 0x0);
        gbc.writeMem(0x62e0, { 0x28, 0x20 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xcc05, gbc.sp());
        EXPECT(0x6302, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00F4
        gbc.setState(0xb3d4, 0xa063, 0x7ff0, 0xf805, 0xbef7, 0xfc6e, 0x1, 0x1);
        gbc.writeMem(0xb3d4, { 0x28, 0xe6 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xa063, gbc.sp());
        EXPECT(0xb3bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb3d4));
        EXPECT(0xe6, gbc.readMem(0xb3d5));
        // 28 00F5
        gbc.setState(0xca3d, 0x55d5, 0xf190, 0xbea0, 0xc734, 0xb3e9, 0x0, 0x1);
        gbc.writeMem(0xca3d, { 0x28, 0xb4 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x55d5, gbc.sp());
        EXPECT(0xc9f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xca3d));
        EXPECT(0xb4, gbc.readMem(0xca3e));
        // 28 00F6
        gbc.setState(0xb5fd, 0xda5b, 0x18a0, 0xd1b6, 0x91c6, 0xe980, 0x1, 0x0);
        gbc.writeMem(0xb5fd, { 0x28, 0x3d });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xda5b, gbc.sp());
        EXPECT(0xb63c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb5fd));
        EXPECT(0x3d, gbc.readMem(0xb5fe));
        // 28 00F8
        gbc.setState(0x8d0c, 0xda7, 0x10e0, 0x348, 0x9321, 0x4ccd, 0x0, 0x0);
        gbc.writeMem(0x8d0c, { 0x28, 0xc });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xda7, gbc.sp());
        EXPECT(0x8d1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8d0c));
        EXPECT(0xc, gbc.readMem(0x8d0d));
        // 28 00F9
        gbc.setState(0x75c1, 0x9d6, 0xd3c0, 0x769d, 0x9ef0, 0xfe4a, 0x0, 0x0);
        gbc.writeMem(0x75c1, { 0x28, 0x7b });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x9d6, gbc.sp());
        EXPECT(0x763e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00FA
        gbc.setState(0x7438, 0x3a4f, 0x6140, 0x9b5f, 0x485f, 0x526a, 0x0, 0x1);
        gbc.writeMem(0x7438, { 0x28, 0x35 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x3a4f, gbc.sp());
        EXPECT(0x743a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00FB
        gbc.setState(0x9984, 0x3b89, 0xec10, 0xed92, 0x8ab6, 0x2102, 0x0, 0x0);
        gbc.writeMem(0x9984, { 0x28, 0x3c });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x3b89, gbc.sp());
        EXPECT(0x9986, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9984));
        EXPECT(0x3c, gbc.readMem(0x9985));
        // 28 00FC
        gbc.setState(0x9fc3, 0x2e09, 0xde00, 0x263d, 0xeec0, 0x5fdc, 0x0, 0x0);
        gbc.writeMem(0x9fc3, { 0x28, 0x7f });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x2e09, gbc.sp());
        EXPECT(0x9fc5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9fc3));
        EXPECT(0x7f, gbc.readMem(0x9fc4));
        // 28 00FD
        gbc.setState(0x866, 0x558, 0x3810, 0x474d, 0x2f01, 0xd42c, 0x0, 0x0);
        gbc.writeMem(0x866, { 0x28, 0x62 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x558, gbc.sp());
        EXPECT(0x868, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 00FE
        gbc.setState(0x6b25, 0xa85a, 0x3a0, 0x4ed8, 0xa48c, 0x5630, 0x1, 0x0);
        gbc.writeMem(0x6b25, { 0x28, 0x17 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xa85a, gbc.sp());
        EXPECT(0x6b3e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 00FF
        gbc.setState(0x69d0, 0x69a5, 0x1790, 0x5ad0, 0x7bf3, 0xe8ee, 0x1, 0x1);
        gbc.writeMem(0x69d0, { 0x28, 0xcd });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x69a5, gbc.sp());
        EXPECT(0x699f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0100
        gbc.setState(0x554e, 0xd973, 0xc760, 0xe491, 0xc30d, 0x1ed, 0x0, 0x0);
        gbc.writeMem(0x554e, { 0x28, 0x43 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xd973, gbc.sp());
        EXPECT(0x5550, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0101
        gbc.setState(0xa446, 0xd8be, 0x1700, 0x4d8e, 0x5d24, 0xc02b, 0x1, 0x1);
        gbc.writeMem(0xa446, { 0x28, 0xfe });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xd8be, gbc.sp());
        EXPECT(0xa448, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa446));
        EXPECT(0xfe, gbc.readMem(0xa447));
        // 28 0102
        gbc.setState(0xad3d, 0x34bf, 0x6440, 0xe642, 0xcb2, 0xd58c, 0x0, 0x1);
        gbc.writeMem(0xad3d, { 0x28, 0x5a });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x34bf, gbc.sp());
        EXPECT(0xad3f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xad3d));
        EXPECT(0x5a, gbc.readMem(0xad3e));
        // 28 0103
        gbc.setState(0xde41, 0x5746, 0x48f0, 0x619e, 0x1b83, 0x9cbb, 0x1, 0x0);
        gbc.writeMem(0xde41, { 0x28, 0x8a });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x5746, gbc.sp());
        EXPECT(0xddcd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xde41));
        EXPECT(0x8a, gbc.readMem(0xde42));
        // 28 0104
        gbc.setState(0x2b37, 0xa92c, 0xeb90, 0x6172, 0x54ef, 0x5011, 0x1, 0x1);
        gbc.writeMem(0x2b37, { 0x28, 0x53 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xa92c, gbc.sp());
        EXPECT(0x2b8c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0105
        gbc.setState(0x3ebe, 0x8ef3, 0x18b0, 0x56d4, 0x1728, 0x75e1, 0x1, 0x1);
        gbc.writeMem(0x3ebe, { 0x28, 0x27 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x8ef3, gbc.sp());
        EXPECT(0x3ee7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0106
        gbc.setState(0x78d8, 0xff3a, 0xc170, 0xf1e5, 0x501e, 0xc314, 0x0, 0x0);
        gbc.writeMem(0x78d8, { 0x28, 0x15 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xff3a, gbc.sp());
        EXPECT(0x78da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0107
        gbc.setState(0xaa1, 0xd43b, 0x4eb0, 0x9077, 0x5338, 0xb56, 0x0, 0x0);
        gbc.writeMem(0xaa1, { 0x28, 0xc7 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xd43b, gbc.sp());
        EXPECT(0xa6a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0108
        gbc.setState(0xa120, 0x8b16, 0xb990, 0xddbd, 0xba61, 0x435c, 0x1, 0x1);
        gbc.writeMem(0xa120, { 0x28, 0xde });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x8b16, gbc.sp());
        EXPECT(0xa100, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa120));
        EXPECT(0xde, gbc.readMem(0xa121));
        // 28 0109
        gbc.setState(0x7405, 0x5ecd, 0x63a0, 0x493d, 0x68a9, 0x1d37, 0x0, 0x0);
        gbc.writeMem(0x7405, { 0x28, 0xe3 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x5ecd, gbc.sp());
        EXPECT(0x73ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 010A
        gbc.setState(0x7cd8, 0xb191, 0xda40, 0x916, 0x653b, 0x37d2, 0x1, 0x0);
        gbc.writeMem(0x7cd8, { 0x28, 0x6e });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xb191, gbc.sp());
        EXPECT(0x7cda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 010B
        gbc.setState(0xd797, 0x5683, 0xff90, 0x3a0e, 0x566c, 0xa0f1, 0x0, 0x0);
        gbc.writeMem(0xd797, { 0x28, 0x6a });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x5683, gbc.sp());
        EXPECT(0xd803, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd797));
        EXPECT(0x6a, gbc.readMem(0xd798));
        // 28 010C
        gbc.setState(0xb7ec, 0x115, 0xa320, 0xa1e2, 0xd6c8, 0xc9e1, 0x0, 0x0);
        gbc.writeMem(0xb7ec, { 0x28, 0xaf });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x115, gbc.sp());
        EXPECT(0xb7ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb7ec));
        EXPECT(0xaf, gbc.readMem(0xb7ed));
        // 28 010D
        gbc.setState(0xd76b, 0xe3b5, 0x4240, 0xc16, 0x2786, 0x5f5c, 0x1, 0x1);
        gbc.writeMem(0xd76b, { 0x28, 0xc8 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xe3b5, gbc.sp());
        EXPECT(0xd76d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd76b));
        EXPECT(0xc8, gbc.readMem(0xd76c));
        // 28 010E
        gbc.setState(0x2197, 0x65f4, 0x6e30, 0xcb41, 0x647f, 0x8aee, 0x1, 0x1);
        gbc.writeMem(0x2197, { 0x28, 0x86 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x65f4, gbc.sp());
        EXPECT(0x2199, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 010F
        gbc.setState(0xd92a, 0x2ebd, 0x9980, 0x78af, 0xf385, 0x1167, 0x0, 0x1);
        gbc.writeMem(0xd92a, { 0x28, 0x18 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x2ebd, gbc.sp());
        EXPECT(0xd944, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd92a));
        EXPECT(0x18, gbc.readMem(0xd92b));
        // 28 0110
        gbc.setState(0x5e0f, 0x9763, 0xcc30, 0x28df, 0xbab4, 0xf9, 0x0, 0x0);
        gbc.writeMem(0x5e0f, { 0x28, 0x5e });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x9763, gbc.sp());
        EXPECT(0x5e11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0111
        gbc.setState(0x99f9, 0x376b, 0xe390, 0x661c, 0xf293, 0x397e, 0x0, 0x1);
        gbc.writeMem(0x99f9, { 0x28, 0xb4 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x376b, gbc.sp());
        EXPECT(0x99af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x99f9));
        EXPECT(0xb4, gbc.readMem(0x99fa));
        // 28 0112
        gbc.setState(0x2bf, 0x6bb0, 0x5350, 0xa9ae, 0xef3c, 0x552d, 0x1, 0x1);
        gbc.writeMem(0x2bf, { 0x28, 0x36 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x6bb0, gbc.sp());
        EXPECT(0x2c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0114
        gbc.setState(0x8e6e, 0x41c, 0x1a90, 0xd4cf, 0x4ff9, 0x3f93, 0x0, 0x0);
        gbc.writeMem(0x8e6e, { 0x28, 0x2e });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x41c, gbc.sp());
        EXPECT(0x8e9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8e6e));
        EXPECT(0x2e, gbc.readMem(0x8e6f));
        // 28 0115
        gbc.setState(0xbb60, 0xe939, 0x2470, 0x32de, 0x7518, 0x5ef8, 0x1, 0x0);
        gbc.writeMem(0xbb60, { 0x28, 0x9e });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xe939, gbc.sp());
        EXPECT(0xbb62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xbb60));
        EXPECT(0x9e, gbc.readMem(0xbb61));
        // 28 0116
        gbc.setState(0xe5bb, 0xc3da, 0xda00, 0xd86f, 0x4a7c, 0xa0b0, 0x1, 0x0);
        gbc.writeMem(0xe5bb, { 0x28, 0x30 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xc3da, gbc.sp());
        EXPECT(0xe5bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe5bb));
        EXPECT(0x30, gbc.readMem(0xe5bc));
        // 28 0117
        gbc.setState(0x9170, 0xe46f, 0x5230, 0x2c2b, 0xff18, 0xb5bb, 0x0, 0x0);
        gbc.writeMem(0x9170, { 0x28, 0xd6 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xe46f, gbc.sp());
        EXPECT(0x9172, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9170));
        EXPECT(0xd6, gbc.readMem(0x9171));
        // 28 0118
        gbc.setState(0x8ca2, 0xe327, 0xb720, 0xbd6d, 0x627, 0xfa5b, 0x1, 0x0);
        gbc.writeMem(0x8ca2, { 0x28, 0x10 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xe327, gbc.sp());
        EXPECT(0x8ca4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8ca2));
        EXPECT(0x10, gbc.readMem(0x8ca3));
        // 28 0119
        gbc.setState(0x8a66, 0x828b, 0x20b0, 0xca05, 0xe090, 0x14c8, 0x1, 0x0);
        gbc.writeMem(0x8a66, { 0x28, 0x36 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x828b, gbc.sp());
        EXPECT(0x8a9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8a66));
        EXPECT(0x36, gbc.readMem(0x8a67));
        // 28 011A
        gbc.setState(0xc0b3, 0xf126, 0xc560, 0xf81a, 0x597, 0x9caf, 0x0, 0x0);
        gbc.writeMem(0xc0b3, { 0x28, 0xf8 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xf126, gbc.sp());
        EXPECT(0xc0b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc0b3));
        EXPECT(0xf8, gbc.readMem(0xc0b4));
        // 28 011B
        gbc.setState(0xdb6, 0x6b50, 0x78f0, 0xcf54, 0x9cf1, 0x4710, 0x0, 0x1);
        gbc.writeMem(0xdb6, { 0x28, 0x3a });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x6b50, gbc.sp());
        EXPECT(0xdf2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 011C
        gbc.setState(0xa72, 0xcbf, 0xc940, 0xffd2, 0x77b3, 0x425, 0x0, 0x0);
        gbc.writeMem(0xa72, { 0x28, 0xc3 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xcbf, gbc.sp());
        EXPECT(0xa74, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 011D
        gbc.setState(0x438, 0x8c08, 0xc820, 0xdf22, 0x3aa1, 0xbc93, 0x0, 0x0);
        gbc.writeMem(0x438, { 0x28, 0xda });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x8c08, gbc.sp());
        EXPECT(0x43a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 011E
        gbc.setState(0x1f2f, 0xd28e, 0xb8f0, 0x35da, 0x6c9f, 0xd1f8, 0x0, 0x0);
        gbc.writeMem(0x1f2f, { 0x28, 0x82 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xd28e, gbc.sp());
        EXPECT(0x1eb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 011F
        gbc.setState(0x271d, 0xc6b9, 0xb2e0, 0x1073, 0xf130, 0x376a, 0x1, 0x0);
        gbc.writeMem(0x271d, { 0x28, 0x61 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xc6b9, gbc.sp());
        EXPECT(0x2780, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0120
        gbc.setState(0xc849, 0xd4b, 0x4190, 0x209b, 0x5bcb, 0xa256, 0x1, 0x1);
        gbc.writeMem(0xc849, { 0x28, 0x8e });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xd4b, gbc.sp());
        EXPECT(0xc7d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc849));
        EXPECT(0x8e, gbc.readMem(0xc84a));
        // 28 0121
        gbc.setState(0x96fc, 0xef54, 0x6e70, 0x9ae6, 0x9685, 0xf3a8, 0x1, 0x1);
        gbc.writeMem(0x96fc, { 0x28, 0x91 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xef54, gbc.sp());
        EXPECT(0x96fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x96fc));
        EXPECT(0x91, gbc.readMem(0x96fd));
        // 28 0122
        gbc.setState(0x158c, 0x823b, 0xdc30, 0xde9b, 0xb651, 0xed5e, 0x0, 0x0);
        gbc.writeMem(0x158c, { 0x28, 0x22 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x823b, gbc.sp());
        EXPECT(0x158e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0123
        gbc.setState(0x7961, 0x56d8, 0x8e40, 0x3835, 0x45ff, 0x7323, 0x1, 0x0);
        gbc.writeMem(0x7961, { 0x28, 0x2 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x56d8, gbc.sp());
        EXPECT(0x7963, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0124
        gbc.setState(0x4a88, 0x223d, 0xd70, 0xe178, 0x487b, 0xf170, 0x0, 0x1);
        gbc.writeMem(0x4a88, { 0x28, 0x4d });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x223d, gbc.sp());
        EXPECT(0x4a8a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0125
        gbc.setState(0x9a0d, 0xa472, 0xd1b0, 0x2073, 0xb331, 0x999a, 0x0, 0x1);
        gbc.writeMem(0x9a0d, { 0x28, 0x40 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xa472, gbc.sp());
        EXPECT(0x9a4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9a0d));
        EXPECT(0x40, gbc.readMem(0x9a0e));
        // 28 0126
        gbc.setState(0x6143, 0xe919, 0xad40, 0x159b, 0x3210, 0x9a31, 0x0, 0x0);
        gbc.writeMem(0x6143, { 0x28, 0x19 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xe919, gbc.sp());
        EXPECT(0x6145, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0127
        gbc.setState(0x88c1, 0x85b3, 0x52f0, 0x7cbb, 0x14a0, 0x9565, 0x0, 0x0);
        gbc.writeMem(0x88c1, { 0x28, 0xe9 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x85b3, gbc.sp());
        EXPECT(0x88ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x88c1));
        EXPECT(0xe9, gbc.readMem(0x88c2));
        // 28 0128
        gbc.setState(0xee3, 0x8667, 0x7070, 0xff72, 0xadcb, 0xd001, 0x1, 0x1);
        gbc.writeMem(0xee3, { 0x28, 0xe7 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x8667, gbc.sp());
        EXPECT(0xee5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0129
        gbc.setState(0xe63, 0xf92, 0xc9c0, 0x185e, 0x29f1, 0x2fd3, 0x1, 0x0);
        gbc.writeMem(0xe63, { 0x28, 0x46 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xf92, gbc.sp());
        EXPECT(0xeab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 012B
        gbc.setState(0xc96e, 0x3c23, 0x99d0, 0xb059, 0x481, 0x3bc, 0x0, 0x0);
        gbc.writeMem(0xc96e, { 0x28, 0x66 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x3c23, gbc.sp());
        EXPECT(0xc9d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc96e));
        EXPECT(0x66, gbc.readMem(0xc96f));
        // 28 012C
        gbc.setState(0xd12a, 0x535a, 0x86f0, 0xf79f, 0x3b2, 0x73f1, 0x0, 0x1);
        gbc.writeMem(0xd12a, { 0x28, 0x56 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x535a, gbc.sp());
        EXPECT(0xd182, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd12a));
        EXPECT(0x56, gbc.readMem(0xd12b));
        // 28 012D
        gbc.setState(0xd672, 0x54a6, 0xd910, 0x31eb, 0x9d5c, 0x5321, 0x1, 0x1);
        gbc.writeMem(0xd672, { 0x28, 0xd7 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x54a6, gbc.sp());
        EXPECT(0xd674, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd672));
        EXPECT(0xd7, gbc.readMem(0xd673));
        // 28 012E
        gbc.setState(0x302c, 0x709e, 0xa20, 0xaf3, 0x768, 0xc0, 0x0, 0x0);
        gbc.writeMem(0x302c, { 0x28, 0x19 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x709e, gbc.sp());
        EXPECT(0x302e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 012F
        gbc.setState(0xe35, 0x20ed, 0x6d80, 0x2525, 0xbe13, 0xaafa, 0x1, 0x1);
        gbc.writeMem(0xe35, { 0x28, 0x5d });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x20ed, gbc.sp());
        EXPECT(0xe94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0130
        gbc.setState(0x6484, 0x93d9, 0x9d20, 0xc5e5, 0xfab, 0xbe4f, 0x1, 0x0);
        gbc.writeMem(0x6484, { 0x28, 0x89 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x93d9, gbc.sp());
        EXPECT(0x6486, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0131
        gbc.setState(0xb7db, 0x6fb3, 0x4490, 0xd6de, 0xd01c, 0x531d, 0x1, 0x0);
        gbc.writeMem(0xb7db, { 0x28, 0x6f });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x6fb3, gbc.sp());
        EXPECT(0xb84c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb7db));
        EXPECT(0x6f, gbc.readMem(0xb7dc));
        // 28 0132
        gbc.setState(0xade7, 0xe17a, 0x1410, 0x9327, 0x4f6f, 0xee61, 0x1, 0x1);
        gbc.writeMem(0xade7, { 0x28, 0xd6 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xe17a, gbc.sp());
        EXPECT(0xade9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xade7));
        EXPECT(0xd6, gbc.readMem(0xade8));
        // 28 0133
        gbc.setState(0xe279, 0xbc88, 0x22f0, 0x5f84, 0x60e9, 0xda5e, 0x1, 0x0);
        gbc.writeMem(0xe279, { 0x28, 0x6b });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xbc88, gbc.sp());
        EXPECT(0xe2e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe279));
        EXPECT(0x6b, gbc.readMem(0xe27a));
        // 28 0134
        gbc.setState(0xc996, 0xf022, 0xe30, 0xb640, 0x57d9, 0x4beb, 0x0, 0x0);
        gbc.writeMem(0xc996, { 0x28, 0x5b });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xf022, gbc.sp());
        EXPECT(0xc998, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc996));
        EXPECT(0x5b, gbc.readMem(0xc997));
        // 28 0135
        gbc.setState(0x9574, 0x1b71, 0x6810, 0xe059, 0x96c7, 0x8a8b, 0x1, 0x0);
        gbc.writeMem(0x9574, { 0x28, 0x1a });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x1b71, gbc.sp());
        EXPECT(0x9576, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9574));
        EXPECT(0x1a, gbc.readMem(0x9575));
        // 28 0136
        gbc.setState(0x4d36, 0x3f1c, 0xbbc0, 0xb096, 0x731f, 0x51d, 0x1, 0x1);
        gbc.writeMem(0x4d36, { 0x28, 0xc3 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x3f1c, gbc.sp());
        EXPECT(0x4cfb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0138
        gbc.setState(0x256b, 0xe077, 0x57c0, 0x5096, 0x443e, 0x1bfa, 0x0, 0x1);
        gbc.writeMem(0x256b, { 0x28, 0x3a });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xe077, gbc.sp());
        EXPECT(0x25a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0139
        gbc.setState(0x961e, 0x5e27, 0x3c30, 0xc41, 0x1306, 0xbdf8, 0x1, 0x1);
        gbc.writeMem(0x961e, { 0x28, 0x78 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x5e27, gbc.sp());
        EXPECT(0x9620, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x961e));
        EXPECT(0x78, gbc.readMem(0x961f));
        // 28 013A
        gbc.setState(0x10c5, 0xd1e2, 0xc7d0, 0x45c3, 0xa39c, 0x87d2, 0x0, 0x1);
        gbc.writeMem(0x10c5, { 0x28, 0xa9 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xd1e2, gbc.sp());
        EXPECT(0x1070, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 013B
        gbc.setState(0xd8a6, 0xed01, 0x9b0, 0x2577, 0xd22, 0xfe1b, 0x0, 0x0);
        gbc.writeMem(0xd8a6, { 0x28, 0x16 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xed01, gbc.sp());
        EXPECT(0xd8be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd8a6));
        EXPECT(0x16, gbc.readMem(0xd8a7));
        // 28 013C
        gbc.setState(0x6d36, 0xb643, 0xe9f0, 0xed75, 0x6ab9, 0x1793, 0x0, 0x0);
        gbc.writeMem(0x6d36, { 0x28, 0xe3 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xb643, gbc.sp());
        EXPECT(0x6d1b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 013D
        gbc.setState(0x7bc4, 0x7923, 0x5e80, 0x4697, 0xf79, 0x955, 0x0, 0x1);
        gbc.writeMem(0x7bc4, { 0x28, 0xa5 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x7923, gbc.sp());
        EXPECT(0x7b6b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 013E
        gbc.setState(0xd991, 0x8a0b, 0x5d80, 0x6bbb, 0x7e39, 0xd1cb, 0x0, 0x1);
        gbc.writeMem(0xd991, { 0x28, 0x62 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x8a0b, gbc.sp());
        EXPECT(0xd9f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd991));
        EXPECT(0x62, gbc.readMem(0xd992));
        // 28 013F
        gbc.setState(0x3a48, 0xfbc, 0x7120, 0xed45, 0x497d, 0xdeb0, 0x0, 0x1);
        gbc.writeMem(0x3a48, { 0x28, 0x83 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xfbc, gbc.sp());
        EXPECT(0x3a4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0140
        gbc.setState(0x3689, 0xd86d, 0xa80, 0xf8ad, 0xf4b9, 0x3f18, 0x0, 0x0);
        gbc.writeMem(0x3689, { 0x28, 0xf6 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xd86d, gbc.sp());
        EXPECT(0x3681, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0141
        gbc.setState(0xb588, 0xd35b, 0xf1c0, 0x74b0, 0x4e3a, 0x43b3, 0x1, 0x1);
        gbc.writeMem(0xb588, { 0x28, 0x7c });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xd35b, gbc.sp());
        EXPECT(0xb606, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb588));
        EXPECT(0x7c, gbc.readMem(0xb589));
        // 28 0142
        gbc.setState(0x585f, 0xf7ea, 0xd230, 0xbc3d, 0x4f9c, 0x8491, 0x0, 0x0);
        gbc.writeMem(0x585f, { 0x28, 0xb3 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xf7ea, gbc.sp());
        EXPECT(0x5861, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0143
        gbc.setState(0x8cb9, 0xcf76, 0xa770, 0x21dc, 0xf7fe, 0x8c1f, 0x0, 0x1);
        gbc.writeMem(0x8cb9, { 0x28, 0x1 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xcf76, gbc.sp());
        EXPECT(0x8cbb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8cb9));
        EXPECT(0x1, gbc.readMem(0x8cba));
        // 28 0144
        gbc.setState(0xbde7, 0xba7f, 0x9d90, 0xfecf, 0x7f6a, 0xcf12, 0x1, 0x0);
        gbc.writeMem(0xbde7, { 0x28, 0x33 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xba7f, gbc.sp());
        EXPECT(0xbe1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xbde7));
        EXPECT(0x33, gbc.readMem(0xbde8));
        // 28 0145
        gbc.setState(0x46b6, 0x4e22, 0x4d30, 0xefa1, 0x2afa, 0x5eef, 0x0, 0x0);
        gbc.writeMem(0x46b6, { 0x28, 0x54 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x4e22, gbc.sp());
        EXPECT(0x46b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0146
        gbc.setState(0x98f, 0x154d, 0x4da0, 0x8da4, 0x24b5, 0xa1bf, 0x1, 0x1);
        gbc.writeMem(0x98f, { 0x28, 0x8e });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x154d, gbc.sp());
        EXPECT(0x91f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0147
        gbc.setState(0x16fa, 0x1422, 0x9830, 0xdffc, 0xc187, 0x5cd6, 0x1, 0x1);
        gbc.writeMem(0x16fa, { 0x28, 0x88 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x1422, gbc.sp());
        EXPECT(0x16fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0148
        gbc.setState(0x5820, 0xfd2b, 0x1390, 0x4068, 0xd9a9, 0xae08, 0x0, 0x0);
        gbc.writeMem(0x5820, { 0x28, 0x7c });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xfd2b, gbc.sp());
        EXPECT(0x589e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0149
        gbc.setState(0x4c00, 0xdf4b, 0x6f70, 0x75df, 0x2d9c, 0x36b5, 0x1, 0x0);
        gbc.writeMem(0x4c00, { 0x28, 0x47 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xdf4b, gbc.sp());
        EXPECT(0x4c02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 014A
        gbc.setState(0xe9d2, 0x9c59, 0x3950, 0xe788, 0xc514, 0x9c65, 0x0, 0x1);
        gbc.writeMem(0xe9d2, { 0x28, 0x5d });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x9c59, gbc.sp());
        EXPECT(0xe9d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe9d2));
        EXPECT(0x5d, gbc.readMem(0xe9d3));
        // 28 014B
        gbc.setState(0xb2f5, 0x5992, 0x72b0, 0xa110, 0x9496, 0xc47d, 0x1, 0x0);
        gbc.writeMem(0xb2f5, { 0x28, 0x3a });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x5992, gbc.sp());
        EXPECT(0xb331, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb2f5));
        EXPECT(0x3a, gbc.readMem(0xb2f6));
        // 28 014C
        gbc.setState(0x4f60, 0xc858, 0x8600, 0x2c7c, 0xeda2, 0x947c, 0x0, 0x1);
        gbc.writeMem(0x4f60, { 0x28, 0xef });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xc858, gbc.sp());
        EXPECT(0x4f62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 014D
        gbc.setState(0x6662, 0x491, 0xc560, 0x3feb, 0x6513, 0x8395, 0x1, 0x0);
        gbc.writeMem(0x6662, { 0x28, 0xa });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x491, gbc.sp());
        EXPECT(0x6664, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 014E
        gbc.setState(0x694e, 0x8722, 0x2620, 0xfbe6, 0xc98c, 0xc308, 0x1, 0x0);
        gbc.writeMem(0x694e, { 0x28, 0x96 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x8722, gbc.sp());
        EXPECT(0x6950, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 014F
        gbc.setState(0x7dd, 0xd566, 0x640, 0x66ec, 0x16b0, 0xa71f, 0x0, 0x1);
        gbc.writeMem(0x7dd, { 0x28, 0x15 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xd566, gbc.sp());
        EXPECT(0x7df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0150
        gbc.setState(0xafc, 0xe1e0, 0x730, 0xbd7f, 0xf47d, 0xbdd1, 0x1, 0x1);
        gbc.writeMem(0xafc, { 0x28, 0xd3 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xe1e0, gbc.sp());
        EXPECT(0xafe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0151
        gbc.setState(0x5ba, 0xb03d, 0x8880, 0xeb95, 0x73c4, 0xb3, 0x1, 0x0);
        gbc.writeMem(0x5ba, { 0x28, 0x60 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xb03d, gbc.sp());
        EXPECT(0x61c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0152
        gbc.setState(0xc154, 0xe00f, 0x8440, 0x113d, 0x4eb4, 0x4489, 0x0, 0x0);
        gbc.writeMem(0xc154, { 0x28, 0x3f });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xe00f, gbc.sp());
        EXPECT(0xc156, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc154));
        EXPECT(0x3f, gbc.readMem(0xc155));
        // 28 0153
        gbc.setState(0xdf06, 0xcef, 0x320, 0xf55, 0xb856, 0xd62, 0x1, 0x1);
        gbc.writeMem(0xdf06, { 0x28, 0xe8 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xcef, gbc.sp());
        EXPECT(0xdf08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xdf06));
        EXPECT(0xe8, gbc.readMem(0xdf07));
        // 28 0154
        gbc.setState(0x18f3, 0x376f, 0xbc40, 0x9ac1, 0x74f2, 0x5ccc, 0x1, 0x0);
        gbc.writeMem(0x18f3, { 0x28, 0xb2 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x376f, gbc.sp());
        EXPECT(0x18f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0155
        gbc.setState(0x211f, 0x686c, 0x6f40, 0xb6ed, 0x4fe1, 0x46cd, 0x1, 0x1);
        gbc.writeMem(0x211f, { 0x28, 0x4a });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x686c, gbc.sp());
        EXPECT(0x2121, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0156
        gbc.setState(0xeed1, 0x77c5, 0xc950, 0x6846, 0x84bd, 0x47ce, 0x0, 0x1);
        gbc.writeMem(0xeed1, { 0x28, 0xe7 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x77c5, gbc.sp());
        EXPECT(0xeed3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xeed1));
        EXPECT(0xe7, gbc.readMem(0xeed2));
        // 28 0157
        gbc.setState(0x88b1, 0xa1f0, 0x3550, 0xa87b, 0x1cb0, 0x2b0f, 0x0, 0x1);
        gbc.writeMem(0x88b1, { 0x28, 0xc3 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xa1f0, gbc.sp());
        EXPECT(0x88b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x88b1));
        EXPECT(0xc3, gbc.readMem(0x88b2));
        // 28 0158
        gbc.setState(0xd760, 0x4254, 0xd250, 0x44a9, 0xc0dc, 0xaba8, 0x1, 0x1);
        gbc.writeMem(0xd760, { 0x28, 0x45 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x4254, gbc.sp());
        EXPECT(0xd762, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd760));
        EXPECT(0x45, gbc.readMem(0xd761));
        // 28 0159
        gbc.setState(0xe4a5, 0x9154, 0x8da0, 0x2566, 0xb4cc, 0x3760, 0x1, 0x0);
        gbc.writeMem(0xe4a5, { 0x28, 0x67 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x9154, gbc.sp());
        EXPECT(0xe50e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe4a5));
        EXPECT(0x67, gbc.readMem(0xe4a6));
        // 28 015A
        gbc.setState(0xa940, 0xf1c0, 0xb1e0, 0xe6bc, 0x696d, 0x3567, 0x1, 0x0);
        gbc.writeMem(0xa940, { 0x28, 0xa8 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xf1c0, gbc.sp());
        EXPECT(0xa8ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa940));
        EXPECT(0xa8, gbc.readMem(0xa941));
        // 28 015B
        gbc.setState(0x5d5, 0x1a81, 0xfbd0, 0x3acb, 0xdb1e, 0x573e, 0x1, 0x0);
        gbc.writeMem(0x5d5, { 0x28, 0xee });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x1a81, gbc.sp());
        EXPECT(0x5c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 015C
        gbc.setState(0x4d5, 0x33b6, 0x2d30, 0xecd4, 0x580, 0xcaed, 0x0, 0x1);
        gbc.writeMem(0x4d5, { 0x28, 0xe });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x33b6, gbc.sp());
        EXPECT(0x4d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 015D
        gbc.setState(0x9ff8, 0x6417, 0x8240, 0xa4c9, 0xdb5d, 0x458b, 0x1, 0x0);
        gbc.writeMem(0x9ff8, { 0x28, 0x2c });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x6417, gbc.sp());
        EXPECT(0x9ffa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9ff8));
        EXPECT(0x2c, gbc.readMem(0x9ff9));
        // 28 015E
        gbc.setState(0xbd91, 0x84a4, 0x7460, 0xccf5, 0x3586, 0x3cbf, 0x0, 0x0);
        gbc.writeMem(0xbd91, { 0x28, 0xa4 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x84a4, gbc.sp());
        EXPECT(0xbd93, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xbd91));
        EXPECT(0xa4, gbc.readMem(0xbd92));
        // 28 0160
        gbc.setState(0x8087, 0xfbb6, 0x8220, 0xdf3e, 0x5f82, 0x252c, 0x0, 0x0);
        gbc.writeMem(0x8087, { 0x28, 0x64 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xfbb6, gbc.sp());
        EXPECT(0x8089, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8087));
        EXPECT(0x64, gbc.readMem(0x8088));
        // 28 0161
        gbc.setState(0x549f, 0x36c0, 0x1250, 0xdf69, 0xf126, 0xb9c8, 0x0, 0x1);
        gbc.writeMem(0x549f, { 0x28, 0x60 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x36c0, gbc.sp());
        EXPECT(0x54a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0162
        gbc.setState(0xb8a5, 0x95ce, 0x19f0, 0xa937, 0x8760, 0xa4b0, 0x1, 0x0);
        gbc.writeMem(0xb8a5, { 0x28, 0x9d });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x95ce, gbc.sp());
        EXPECT(0xb844, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb8a5));
        EXPECT(0x9d, gbc.readMem(0xb8a6));
        // 28 0163
        gbc.setState(0x385f, 0x1b51, 0xc650, 0x156c, 0x8d23, 0x5a54, 0x0, 0x1);
        gbc.writeMem(0x385f, { 0x28, 0x74 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x1b51, gbc.sp());
        EXPECT(0x3861, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0164
        gbc.setState(0xe5aa, 0x3fb6, 0xadb0, 0x7b3c, 0x32b4, 0xda75, 0x1, 0x0);
        gbc.writeMem(0xe5aa, { 0x28, 0x62 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x3fb6, gbc.sp());
        EXPECT(0xe60e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe5aa));
        EXPECT(0x62, gbc.readMem(0xe5ab));
        // 28 0165
        gbc.setState(0x6589, 0xd158, 0x3630, 0x30fc, 0x2c77, 0x8204, 0x0, 0x0);
        gbc.writeMem(0x6589, { 0x28, 0x62 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xd158, gbc.sp());
        EXPECT(0x658b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0166
        gbc.setState(0x53ab, 0xa3b, 0xde20, 0x7f91, 0x102f, 0x2278, 0x0, 0x1);
        gbc.writeMem(0x53ab, { 0x28, 0x7e });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xa3b, gbc.sp());
        EXPECT(0x53ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0167
        gbc.setState(0xa0b1, 0x55d9, 0x8240, 0xbfab, 0xfb55, 0x8b69, 0x1, 0x0);
        gbc.writeMem(0xa0b1, { 0x28, 0x80 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x55d9, gbc.sp());
        EXPECT(0xa0b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa0b1));
        EXPECT(0x80, gbc.readMem(0xa0b2));
        // 28 0168
        gbc.setState(0x3d83, 0xb361, 0x6440, 0xe961, 0xb792, 0x87b5, 0x0, 0x1);
        gbc.writeMem(0x3d83, { 0x28, 0x2b });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xb361, gbc.sp());
        EXPECT(0x3d85, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 016A
        gbc.setState(0x28fa, 0xf0c6, 0x750, 0x1b, 0x8815, 0x3191, 0x1, 0x1);
        gbc.writeMem(0x28fa, { 0x28, 0x6b });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xf0c6, gbc.sp());
        EXPECT(0x28fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 016B
        gbc.setState(0x9f21, 0x3eb5, 0x6760, 0x642a, 0x9330, 0xeaff, 0x1, 0x0);
        gbc.writeMem(0x9f21, { 0x28, 0x5f });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x3eb5, gbc.sp());
        EXPECT(0x9f23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9f21));
        EXPECT(0x5f, gbc.readMem(0x9f22));
        // 28 016C
        gbc.setState(0x4d52, 0x7725, 0x74e0, 0x7564, 0xdce9, 0xf6c2, 0x1, 0x1);
        gbc.writeMem(0x4d52, { 0x28, 0x92 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x7725, gbc.sp());
        EXPECT(0x4ce6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 016D
        gbc.setState(0x76d1, 0x9310, 0x6120, 0x9457, 0xf69d, 0x6600, 0x1, 0x1);
        gbc.writeMem(0x76d1, { 0x28, 0xcc });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x9310, gbc.sp());
        EXPECT(0x76d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 016E
        gbc.setState(0x45fe, 0x3003, 0x8360, 0x9182, 0x78ab, 0x3b29, 0x0, 0x1);
        gbc.writeMem(0x45fe, { 0x28, 0x5b });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x3003, gbc.sp());
        EXPECT(0x4600, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 016F
        gbc.setState(0x52e3, 0xbfc6, 0x5900, 0xffb5, 0x10dd, 0x5d64, 0x1, 0x0);
        gbc.writeMem(0x52e3, { 0x28, 0x59 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xbfc6, gbc.sp());
        EXPECT(0x52e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0170
        gbc.setState(0x83af, 0x66fa, 0x3940, 0x90ee, 0x33dc, 0x972c, 0x1, 0x0);
        gbc.writeMem(0x83af, { 0x28, 0x74 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x66fa, gbc.sp());
        EXPECT(0x83b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x83af));
        EXPECT(0x74, gbc.readMem(0x83b0));
        // 28 0171
        gbc.setState(0xcee4, 0x68e, 0xafe0, 0x8edb, 0x8396, 0x471c, 0x1, 0x1);
        gbc.writeMem(0xcee4, { 0x28, 0xb1 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x68e, gbc.sp());
        EXPECT(0xce97, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcee4));
        EXPECT(0xb1, gbc.readMem(0xcee5));
        // 28 0172
        gbc.setState(0xac9e, 0xf780, 0x780, 0x1db0, 0xc29a, 0xa41a, 0x0, 0x0);
        gbc.writeMem(0xac9e, { 0x28, 0xb5 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xf780, gbc.sp());
        EXPECT(0xac55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xac9e));
        EXPECT(0xb5, gbc.readMem(0xac9f));
        // 28 0173
        gbc.setState(0x709f, 0x4fb7, 0xa490, 0x234, 0x7308, 0x31d8, 0x0, 0x1);
        gbc.writeMem(0x709f, { 0x28, 0x54 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x4fb7, gbc.sp());
        EXPECT(0x70f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0174
        gbc.setState(0x8116, 0xc150, 0xee90, 0x584c, 0xb745, 0xd847, 0x0, 0x1);
        gbc.writeMem(0x8116, { 0x28, 0x1c });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xc150, gbc.sp());
        EXPECT(0x8134, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8116));
        EXPECT(0x1c, gbc.readMem(0x8117));
        // 28 0175
        gbc.setState(0xe12a, 0xd3c4, 0x9190, 0x4c51, 0x6c52, 0x4eeb, 0x0, 0x0);
        gbc.writeMem(0xe12a, { 0x28, 0xa4 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xd3c4, gbc.sp());
        EXPECT(0xe0d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe12a));
        EXPECT(0xa4, gbc.readMem(0xe12b));
        // 28 0176
        gbc.setState(0x9c91, 0x659b, 0xca10, 0x28ea, 0x2f5f, 0xaae, 0x1, 0x1);
        gbc.writeMem(0x9c91, { 0x28, 0x60 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x659b, gbc.sp());
        EXPECT(0x9c93, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9c91));
        EXPECT(0x60, gbc.readMem(0x9c92));
        // 28 0177
        gbc.setState(0x4a2, 0xeba, 0x9330, 0x1ad9, 0x931a, 0xa2ff, 0x1, 0x0);
        gbc.writeMem(0x4a2, { 0x28, 0x1f });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xeba, gbc.sp());
        EXPECT(0x4a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0178
        gbc.setState(0x8dad, 0xa508, 0x9780, 0x2f9, 0x463, 0xe2e7, 0x0, 0x1);
        gbc.writeMem(0x8dad, { 0x28, 0x8f });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xa508, gbc.sp());
        EXPECT(0x8d3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8dad));
        EXPECT(0x8f, gbc.readMem(0x8dae));
        // 28 0179
        gbc.setState(0x8294, 0xbc44, 0xcea0, 0x34e2, 0x7f8d, 0x4cef, 0x0, 0x0);
        gbc.writeMem(0x8294, { 0x28, 0xd9 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xbc44, gbc.sp());
        EXPECT(0x826f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8294));
        EXPECT(0xd9, gbc.readMem(0x8295));
        // 28 017A
        gbc.setState(0x9d6a, 0xb847, 0xcb40, 0xd505, 0x484e, 0xc775, 0x0, 0x1);
        gbc.writeMem(0x9d6a, { 0x28, 0x9d });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xb847, gbc.sp());
        EXPECT(0x9d6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9d6a));
        EXPECT(0x9d, gbc.readMem(0x9d6b));
        // 28 017B
        gbc.setState(0x5d90, 0xd71c, 0x5c00, 0xb64c, 0xb795, 0x465a, 0x0, 0x1);
        gbc.writeMem(0x5d90, { 0x28, 0xd0 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xd71c, gbc.sp());
        EXPECT(0x5d92, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 017C
        gbc.setState(0x5679, 0x614f, 0x7d0, 0xecce, 0xf37c, 0x1370, 0x0, 0x0);
        gbc.writeMem(0x5679, { 0x28, 0x3a });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x614f, gbc.sp());
        EXPECT(0x56b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 017D
        gbc.setState(0xb4e6, 0x1e86, 0x1d20, 0x77ee, 0x8057, 0x8c3e, 0x0, 0x1);
        gbc.writeMem(0xb4e6, { 0x28, 0xfe });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x1e86, gbc.sp());
        EXPECT(0xb4e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb4e6));
        EXPECT(0xfe, gbc.readMem(0xb4e7));
        // 28 017E
        gbc.setState(0xc997, 0xa487, 0xb330, 0x103f, 0x269c, 0x1a4a, 0x1, 0x0);
        gbc.writeMem(0xc997, { 0x28, 0xa5 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xa487, gbc.sp());
        EXPECT(0xc999, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc997));
        EXPECT(0xa5, gbc.readMem(0xc998));
        // 28 017F
        gbc.setState(0x83b7, 0xf43f, 0xe430, 0x7063, 0x2374, 0x50e7, 0x0, 0x0);
        gbc.writeMem(0x83b7, { 0x28, 0x3 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xf43f, gbc.sp());
        EXPECT(0x83b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x83b7));
        EXPECT(0x3, gbc.readMem(0x83b8));
        // 28 0180
        gbc.setState(0xcf00, 0x7233, 0xc560, 0x159e, 0x1102, 0x5c5f, 0x0, 0x0);
        gbc.writeMem(0xcf00, { 0x28, 0xb0 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x7233, gbc.sp());
        EXPECT(0xcf02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcf00));
        EXPECT(0xb0, gbc.readMem(0xcf01));
        // 28 0181
        gbc.setState(0x16b5, 0x7ef9, 0x2ba0, 0x397d, 0xdd85, 0x7137, 0x0, 0x0);
        gbc.writeMem(0x16b5, { 0x28, 0x7f });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x7ef9, gbc.sp());
        EXPECT(0x1736, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0182
        gbc.setState(0x6d85, 0x1023, 0x100, 0x52ce, 0x13f, 0xe03c, 0x0, 0x1);
        gbc.writeMem(0x6d85, { 0x28, 0xef });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x1023, gbc.sp());
        EXPECT(0x6d87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0183
        gbc.setState(0xcdac, 0x5426, 0x53e0, 0x2aff, 0x6601, 0xa9a4, 0x1, 0x0);
        gbc.writeMem(0xcdac, { 0x28, 0x4c });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x5426, gbc.sp());
        EXPECT(0xcdfa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcdac));
        EXPECT(0x4c, gbc.readMem(0xcdad));
        // 28 0184
        gbc.setState(0x72f8, 0x2cbd, 0x7ee0, 0x9b9a, 0xb3fb, 0xb3aa, 0x1, 0x0);
        gbc.writeMem(0x72f8, { 0x28, 0xef });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x2cbd, gbc.sp());
        EXPECT(0x72e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0185
        gbc.setState(0xd917, 0xb9ab, 0x3e50, 0x15fc, 0x7179, 0xa298, 0x1, 0x0);
        gbc.writeMem(0xd917, { 0x28, 0x5e });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xb9ab, gbc.sp());
        EXPECT(0xd919, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd917));
        EXPECT(0x5e, gbc.readMem(0xd918));
        // 28 0186
        gbc.setState(0x1c49, 0x11c9, 0x3b60, 0x544f, 0x4dc1, 0x5443, 0x0, 0x0);
        gbc.writeMem(0x1c49, { 0x28, 0xef });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x11c9, gbc.sp());
        EXPECT(0x1c4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0187
        gbc.setState(0x19f9, 0xf3b4, 0x6b0, 0x930b, 0xecb0, 0xed46, 0x1, 0x1);
        gbc.writeMem(0x19f9, { 0x28, 0xc4 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xf3b4, gbc.sp());
        EXPECT(0x19bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0188
        gbc.setState(0x8d8c, 0x7b7f, 0x2c70, 0x7f74, 0x4b36, 0x5764, 0x0, 0x0);
        gbc.writeMem(0x8d8c, { 0x28, 0xdd });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x7b7f, gbc.sp());
        EXPECT(0x8d8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8d8c));
        EXPECT(0xdd, gbc.readMem(0x8d8d));
        // 28 0189
        gbc.setState(0xeda3, 0x12e5, 0x9c30, 0xa5c4, 0xb46f, 0xd143, 0x1, 0x1);
        gbc.writeMem(0xeda3, { 0x28, 0x6f });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x12e5, gbc.sp());
        EXPECT(0xeda5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xeda3));
        EXPECT(0x6f, gbc.readMem(0xeda4));
        // 28 018A
        gbc.setState(0xfbf, 0x3dd0, 0xd6c0, 0x9e62, 0x8dbf, 0xd020, 0x0, 0x1);
        gbc.writeMem(0xfbf, { 0x28, 0x60 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x3dd0, gbc.sp());
        EXPECT(0x1021, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 018B
        gbc.setState(0x800, 0x260b, 0x3ea0, 0x784a, 0x12d2, 0xe806, 0x1, 0x0);
        gbc.writeMem(0x800, { 0x28, 0xea });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x260b, gbc.sp());
        EXPECT(0x7ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 018C
        gbc.setState(0x85a4, 0x4b06, 0x5540, 0xdc71, 0x29fa, 0x27f8, 0x1, 0x0);
        gbc.writeMem(0x85a4, { 0x28, 0xf5 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x4b06, gbc.sp());
        EXPECT(0x85a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x85a4));
        EXPECT(0xf5, gbc.readMem(0x85a5));
        // 28 018D
        gbc.setState(0x9d98, 0x1d1e, 0xc630, 0xff0, 0x8915, 0x16f9, 0x1, 0x0);
        gbc.writeMem(0x9d98, { 0x28, 0x40 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x1d1e, gbc.sp());
        EXPECT(0x9d9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9d98));
        EXPECT(0x40, gbc.readMem(0x9d99));
        // 28 018E
        gbc.setState(0x3708, 0xabc1, 0x5df0, 0xf963, 0xc324, 0x8c99, 0x0, 0x1);
        gbc.writeMem(0x3708, { 0x28, 0x68 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xabc1, gbc.sp());
        EXPECT(0x3772, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 018F
        gbc.setState(0x82a1, 0x2fc2, 0x48b0, 0x9ea3, 0xad0, 0x9ba, 0x1, 0x1);
        gbc.writeMem(0x82a1, { 0x28, 0xe7 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x2fc2, gbc.sp());
        EXPECT(0x828a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x82a1));
        EXPECT(0xe7, gbc.readMem(0x82a2));
        // 28 0190
        gbc.setState(0x2024, 0x7da0, 0x48f0, 0x56da, 0xed6f, 0xa137, 0x1, 0x0);
        gbc.writeMem(0x2024, { 0x28, 0x26 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x7da0, gbc.sp());
        EXPECT(0x204c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0191
        gbc.setState(0x2da2, 0xe545, 0xdff0, 0xf54d, 0x86e8, 0xdebe, 0x0, 0x1);
        gbc.writeMem(0x2da2, { 0x28, 0xc3 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xe545, gbc.sp());
        EXPECT(0x2d67, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0192
        gbc.setState(0xb344, 0x5d2f, 0xac70, 0xa74d, 0xf3b3, 0x517e, 0x0, 0x1);
        gbc.writeMem(0xb344, { 0x28, 0x20 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x5d2f, gbc.sp());
        EXPECT(0xb346, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb344));
        EXPECT(0x20, gbc.readMem(0xb345));
        // 28 0193
        gbc.setState(0x31bc, 0x64b8, 0x8d10, 0xa8f8, 0x74c6, 0xbe36, 0x0, 0x1);
        gbc.writeMem(0x31bc, { 0x28, 0xda });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x64b8, gbc.sp());
        EXPECT(0x31be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0194
        gbc.setState(0xbfeb, 0xd135, 0xdc10, 0xc5aa, 0xfe8, 0x1653, 0x1, 0x0);
        gbc.writeMem(0xbfeb, { 0x28, 0xc3 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xd135, gbc.sp());
        EXPECT(0xbfed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xbfeb));
        EXPECT(0xc3, gbc.readMem(0xbfec));
        // 28 0195
        gbc.setState(0xa82e, 0xa77a, 0xf320, 0xa6dd, 0xb73e, 0xa78a, 0x1, 0x1);
        gbc.writeMem(0xa82e, { 0x28, 0xe2 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xa77a, gbc.sp());
        EXPECT(0xa830, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa82e));
        EXPECT(0xe2, gbc.readMem(0xa82f));
        // 28 0196
        gbc.setState(0x2ac3, 0x7794, 0x2440, 0xd839, 0x4eae, 0x6fc3, 0x0, 0x0);
        gbc.writeMem(0x2ac3, { 0x28, 0x13 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x7794, gbc.sp());
        EXPECT(0x2ac5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0197
        gbc.setState(0x7e05, 0xa2d4, 0x9220, 0xfc56, 0x2145, 0x21fa, 0x1, 0x0);
        gbc.writeMem(0x7e05, { 0x28, 0x3b });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xa2d4, gbc.sp());
        EXPECT(0x7e07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0198
        gbc.setState(0x4420, 0x9636, 0x57c0, 0xbc6d, 0xa3fe, 0x69d5, 0x1, 0x1);
        gbc.writeMem(0x4420, { 0x28, 0x9f });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x9636, gbc.sp());
        EXPECT(0x43c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0199
        gbc.setState(0x842f, 0xd107, 0x16b0, 0x3740, 0xf822, 0x2012, 0x1, 0x0);
        gbc.writeMem(0x842f, { 0x28, 0x3f });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xd107, gbc.sp());
        EXPECT(0x8470, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x842f));
        EXPECT(0x3f, gbc.readMem(0x8430));
        // 28 019A
        gbc.setState(0xfb2, 0xdb4d, 0x8020, 0xe0f4, 0xf522, 0xb67a, 0x0, 0x0);
        gbc.writeMem(0xfb2, { 0x28, 0xff });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xdb4d, gbc.sp());
        EXPECT(0xfb4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 019B
        gbc.setState(0x6060, 0x8399, 0x5d90, 0xeee3, 0x81d3, 0x205d, 0x1, 0x0);
        gbc.writeMem(0x6060, { 0x28, 0x82 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x8399, gbc.sp());
        EXPECT(0x5fe4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 019C
        gbc.setState(0xa2f, 0x6ec2, 0xa040, 0x9b4c, 0x6008, 0x9d28, 0x0, 0x1);
        gbc.writeMem(0xa2f, { 0x28, 0x4 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x6ec2, gbc.sp());
        EXPECT(0xa31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 019D
        gbc.setState(0x17ed, 0x84f3, 0x1ca0, 0x27a6, 0xa72f, 0xbf46, 0x1, 0x0);
        gbc.writeMem(0x17ed, { 0x28, 0xad });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x84f3, gbc.sp());
        EXPECT(0x179c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 019E
        gbc.setState(0x1ec6, 0x143f, 0x5910, 0xac1d, 0x6989, 0x7566, 0x1, 0x0);
        gbc.writeMem(0x1ec6, { 0x28, 0x43 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x143f, gbc.sp());
        EXPECT(0x1ec8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 019F
        gbc.setState(0x41e5, 0x8115, 0xe2e0, 0xd6c6, 0xec12, 0xecf, 0x1, 0x1);
        gbc.writeMem(0x41e5, { 0x28, 0x83 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x8115, gbc.sp());
        EXPECT(0x416a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01A0
        gbc.setState(0xa6ef, 0x5a7e, 0xe150, 0xf1c5, 0xeb20, 0xf9dc, 0x1, 0x0);
        gbc.writeMem(0xa6ef, { 0x28, 0x3d });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x5a7e, gbc.sp());
        EXPECT(0xa6f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa6ef));
        EXPECT(0x3d, gbc.readMem(0xa6f0));
        // 28 01A2
        gbc.setState(0xe99a, 0x2288, 0x1a20, 0x98e8, 0x6596, 0xe3a5, 0x1, 0x0);
        gbc.writeMem(0xe99a, { 0x28, 0x9d });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x2288, gbc.sp());
        EXPECT(0xe99c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe99a));
        EXPECT(0x9d, gbc.readMem(0xe99b));
        // 28 01A3
        gbc.setState(0x8a5a, 0xecb9, 0xc3e0, 0x5130, 0xaf2b, 0x34b9, 0x0, 0x0);
        gbc.writeMem(0x8a5a, { 0x28, 0xfa });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xecb9, gbc.sp());
        EXPECT(0x8a56, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8a5a));
        EXPECT(0xfa, gbc.readMem(0x8a5b));
        // 28 01A4
        gbc.setState(0x3bc7, 0xf53, 0xb6c0, 0xa0df, 0xe6d8, 0x9a99, 0x0, 0x0);
        gbc.writeMem(0x3bc7, { 0x28, 0x53 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xf53, gbc.sp());
        EXPECT(0x3c1c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01A5
        gbc.setState(0x4f0b, 0xd0ab, 0x5b10, 0x7351, 0x6635, 0xe012, 0x0, 0x0);
        gbc.writeMem(0x4f0b, { 0x28, 0x83 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xd0ab, gbc.sp());
        EXPECT(0x4f0d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01A6
        gbc.setState(0x664b, 0x6d86, 0x74e0, 0x750c, 0x9454, 0xa93, 0x1, 0x0);
        gbc.writeMem(0x664b, { 0x28, 0x8c });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x6d86, gbc.sp());
        EXPECT(0x65d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01A7
        gbc.setState(0x90f6, 0x2410, 0x1bb0, 0x9327, 0x29d7, 0x3938, 0x0, 0x0);
        gbc.writeMem(0x90f6, { 0x28, 0xb9 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x2410, gbc.sp());
        EXPECT(0x90b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x90f6));
        EXPECT(0xb9, gbc.readMem(0x90f7));
        // 28 01A8
        gbc.setState(0x5514, 0x37d7, 0x39c0, 0xe948, 0x1e75, 0xc94, 0x0, 0x1);
        gbc.writeMem(0x5514, { 0x28, 0x5f });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x37d7, gbc.sp());
        EXPECT(0x5575, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01A9
        gbc.setState(0x2b16, 0xbcaf, 0x46d0, 0x690b, 0x16c3, 0xf02e, 0x1, 0x1);
        gbc.writeMem(0x2b16, { 0x28, 0xba });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xbcaf, gbc.sp());
        EXPECT(0x2ad2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01AA
        gbc.setState(0xde85, 0x98c3, 0x8e60, 0x88f3, 0x2daf, 0x704, 0x0, 0x1);
        gbc.writeMem(0xde85, { 0x28, 0x9f });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x98c3, gbc.sp());
        EXPECT(0xde87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xde85));
        EXPECT(0x9f, gbc.readMem(0xde86));
        // 28 01AB
        gbc.setState(0x9d26, 0x44e4, 0xd8e0, 0x2f2a, 0x44b0, 0x4575, 0x1, 0x1);
        gbc.writeMem(0x9d26, { 0x28, 0x72 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x44e4, gbc.sp());
        EXPECT(0x9d9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9d26));
        EXPECT(0x72, gbc.readMem(0x9d27));
        // 28 01AC
        gbc.setState(0x7249, 0x4d03, 0xe20, 0xec04, 0x8d9e, 0x728a, 0x1, 0x1);
        gbc.writeMem(0x7249, { 0x28, 0xd4 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x4d03, gbc.sp());
        EXPECT(0x724b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01AD
        gbc.setState(0xe465, 0x3684, 0xfc10, 0x751c, 0xd282, 0xf3db, 0x0, 0x0);
        gbc.writeMem(0xe465, { 0x28, 0x7a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x3684, gbc.sp());
        EXPECT(0xe467, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe465));
        EXPECT(0x7a, gbc.readMem(0xe466));
        // 28 01AE
        gbc.setState(0x33cb, 0xd3df, 0xf4d0, 0x6bb6, 0x2905, 0x2480, 0x1, 0x0);
        gbc.writeMem(0x33cb, { 0x28, 0x5c });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xd3df, gbc.sp());
        EXPECT(0x3429, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01AF
        gbc.setState(0x3dde, 0x87c2, 0x4980, 0x1ccf, 0x38e6, 0x73e, 0x1, 0x1);
        gbc.writeMem(0x3dde, { 0x28, 0x10 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x87c2, gbc.sp());
        EXPECT(0x3df0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01B0
        gbc.setState(0x971d, 0x9963, 0x9b60, 0x13aa, 0x2eae, 0xfd66, 0x0, 0x0);
        gbc.writeMem(0x971d, { 0x28, 0x28 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x9963, gbc.sp());
        EXPECT(0x971f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x971d));
        EXPECT(0x28, gbc.readMem(0x971e));
        // 28 01B1
        gbc.setState(0x9781, 0x47a5, 0x3760, 0xc834, 0xe522, 0xc61c, 0x1, 0x1);
        gbc.writeMem(0x9781, { 0x28, 0x98 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x47a5, gbc.sp());
        EXPECT(0x9783, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9781));
        EXPECT(0x98, gbc.readMem(0x9782));
        // 28 01B2
        gbc.setState(0x5a55, 0x8415, 0x6910, 0x42c5, 0xf8f8, 0x311b, 0x0, 0x1);
        gbc.writeMem(0x5a55, { 0x28, 0x85 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x8415, gbc.sp());
        EXPECT(0x5a57, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01B3
        gbc.setState(0x23d3, 0x7e8a, 0xfc20, 0x21a8, 0x7149, 0x1618, 0x1, 0x0);
        gbc.writeMem(0x23d3, { 0x28, 0x84 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x7e8a, gbc.sp());
        EXPECT(0x23d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01B4
        gbc.setState(0x1be6, 0x445c, 0xcef0, 0x315a, 0x2d78, 0xe8a6, 0x1, 0x1);
        gbc.writeMem(0x1be6, { 0x28, 0x25 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x445c, gbc.sp());
        EXPECT(0x1c0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01B5
        gbc.setState(0x4d7e, 0xe8fb, 0xa1c0, 0x57b7, 0x3b81, 0x3802, 0x0, 0x0);
        gbc.writeMem(0x4d7e, { 0x28, 0xc6 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xe8fb, gbc.sp());
        EXPECT(0x4d46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01B6
        gbc.setState(0x45f, 0x6ea1, 0x4f80, 0xb941, 0x87c6, 0x499e, 0x1, 0x0);
        gbc.writeMem(0x45f, { 0x28, 0x32 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x6ea1, gbc.sp());
        EXPECT(0x493, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01B7
        gbc.setState(0xb7a9, 0x415f, 0x4140, 0x1b67, 0xad84, 0x9413, 0x0, 0x0);
        gbc.writeMem(0xb7a9, { 0x28, 0xdd });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x415f, gbc.sp());
        EXPECT(0xb7ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb7a9));
        EXPECT(0xdd, gbc.readMem(0xb7aa));
        // 28 01B8
        gbc.setState(0x1966, 0x770e, 0x5ca0, 0x6a8c, 0x107f, 0x3915, 0x1, 0x0);
        gbc.writeMem(0x1966, { 0x28, 0x1e });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x770e, gbc.sp());
        EXPECT(0x1986, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01B9
        gbc.setState(0xba4c, 0xd98b, 0x8fd0, 0x2014, 0x4e25, 0x72d4, 0x0, 0x1);
        gbc.writeMem(0xba4c, { 0x28, 0x21 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xd98b, gbc.sp());
        EXPECT(0xba6f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xba4c));
        EXPECT(0x21, gbc.readMem(0xba4d));
        // 28 01BA
        gbc.setState(0x8d67, 0x63d3, 0xeb10, 0xde54, 0x31c6, 0x3f32, 0x0, 0x1);
        gbc.writeMem(0x8d67, { 0x28, 0x98 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x63d3, gbc.sp());
        EXPECT(0x8d69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8d67));
        EXPECT(0x98, gbc.readMem(0x8d68));
        // 28 01BB
        gbc.setState(0x2403, 0x9da0, 0x6cd0, 0xa82c, 0x65e0, 0xe536, 0x1, 0x1);
        gbc.writeMem(0x2403, { 0x28, 0x5a });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x9da0, gbc.sp());
        EXPECT(0x245f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01BC
        gbc.setState(0x6984, 0xba30, 0x74e0, 0xe386, 0x82da, 0x1dc8, 0x0, 0x1);
        gbc.writeMem(0x6984, { 0x28, 0x54 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xba30, gbc.sp());
        EXPECT(0x69da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01BD
        gbc.setState(0x17e3, 0x7dd4, 0xd9d0, 0x5a49, 0xa0fe, 0x453f, 0x1, 0x0);
        gbc.writeMem(0x17e3, { 0x28, 0xd });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x7dd4, gbc.sp());
        EXPECT(0x17f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01BF
        gbc.setState(0x69b9, 0xaeb4, 0x2890, 0x97f8, 0x6d26, 0xda68, 0x0, 0x0);
        gbc.writeMem(0x69b9, { 0x28, 0xd8 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xaeb4, gbc.sp());
        EXPECT(0x6993, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01C1
        gbc.setState(0x3360, 0x2570, 0x4b50, 0x85f9, 0xaa73, 0xd794, 0x1, 0x1);
        gbc.writeMem(0x3360, { 0x28, 0xb5 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x2570, gbc.sp());
        EXPECT(0x3362, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01C3
        gbc.setState(0x41c3, 0x5fd9, 0xbd60, 0x4665, 0x1355, 0x74f2, 0x0, 0x0);
        gbc.writeMem(0x41c3, { 0x28, 0x5e });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x5fd9, gbc.sp());
        EXPECT(0x41c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01C4
        gbc.setState(0x86cb, 0x83, 0xfbd0, 0x44fe, 0x7fd8, 0xc53a, 0x1, 0x0);
        gbc.writeMem(0x86cb, { 0x28, 0xd7 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x83, gbc.sp());
        EXPECT(0x86a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x86cb));
        EXPECT(0xd7, gbc.readMem(0x86cc));
        // 28 01C5
        gbc.setState(0xd5e, 0x9f39, 0x6290, 0x4c63, 0xcad8, 0x78f2, 0x0, 0x0);
        gbc.writeMem(0xd5e, { 0x28, 0x5f });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x9f39, gbc.sp());
        EXPECT(0xdbf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01C6
        gbc.setState(0x6134, 0x6214, 0x61f0, 0x7389, 0xde1f, 0xd2bb, 0x0, 0x0);
        gbc.writeMem(0x6134, { 0x28, 0xe7 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x6214, gbc.sp());
        EXPECT(0x611d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01C7
        gbc.setState(0xc928, 0x2b8d, 0x6bf0, 0x614a, 0x51c5, 0x1010, 0x0, 0x1);
        gbc.writeMem(0xc928, { 0x28, 0xd5 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x2b8d, gbc.sp());
        EXPECT(0xc8ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc928));
        EXPECT(0xd5, gbc.readMem(0xc929));
        // 28 01C8
        gbc.setState(0xe560, 0xb64c, 0x14f0, 0x83b2, 0xce4, 0x1c6b, 0x0, 0x1);
        gbc.writeMem(0xe560, { 0x28, 0x24 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xb64c, gbc.sp());
        EXPECT(0xe586, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe560));
        EXPECT(0x24, gbc.readMem(0xe561));
        // 28 01C9
        gbc.setState(0xec, 0x64d7, 0xc710, 0xfa7f, 0xa848, 0x667e, 0x1, 0x0);
        gbc.writeMem(0xec, { 0x28, 0x84 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x64d7, gbc.sp());
        EXPECT(0xee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01CA
        gbc.setState(0xe598, 0xbb33, 0x32b0, 0x4bc4, 0xcbae, 0xf806, 0x1, 0x1);
        gbc.writeMem(0xe598, { 0x28, 0x67 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xbb33, gbc.sp());
        EXPECT(0xe601, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe598));
        EXPECT(0x67, gbc.readMem(0xe599));
        // 28 01CB
        gbc.setState(0x188c, 0x4e0e, 0xd1d0, 0x2368, 0x2ec8, 0x9c46, 0x0, 0x0);
        gbc.writeMem(0x188c, { 0x28, 0x16 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x4e0e, gbc.sp());
        EXPECT(0x18a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01CD
        gbc.setState(0x3f86, 0xe153, 0xa40, 0xfaac, 0x119d, 0xecc3, 0x1, 0x0);
        gbc.writeMem(0x3f86, { 0x28, 0xbc });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xe153, gbc.sp());
        EXPECT(0x3f88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01CE
        gbc.setState(0x5a74, 0x3254, 0x9aa0, 0xa7de, 0xa147, 0x6613, 0x1, 0x1);
        gbc.writeMem(0x5a74, { 0x28, 0xff });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x3254, gbc.sp());
        EXPECT(0x5a75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01CF
        gbc.setState(0xb5ba, 0x37d9, 0x8eb0, 0x2fbe, 0x14ed, 0x7df2, 0x0, 0x0);
        gbc.writeMem(0xb5ba, { 0x28, 0x2e });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x37d9, gbc.sp());
        EXPECT(0xb5ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb5ba));
        EXPECT(0x2e, gbc.readMem(0xb5bb));
        // 28 01D0
        gbc.setState(0xded8, 0x252e, 0xc650, 0xc3ad, 0x4a0d, 0x3994, 0x1, 0x1);
        gbc.writeMem(0xded8, { 0x28, 0xef });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x252e, gbc.sp());
        EXPECT(0xdeda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xded8));
        EXPECT(0xef, gbc.readMem(0xded9));
        // 28 01D1
        gbc.setState(0x9779, 0x14ed, 0x600, 0x8f41, 0x75fb, 0x3821, 0x0, 0x0);
        gbc.writeMem(0x9779, { 0x28, 0x24 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x14ed, gbc.sp());
        EXPECT(0x977b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9779));
        EXPECT(0x24, gbc.readMem(0x977a));
        // 28 01D2
        gbc.setState(0xddff, 0x5e6f, 0xb2f0, 0x297f, 0x39ba, 0xcd05, 0x0, 0x0);
        gbc.writeMem(0xddff, { 0x28, 0xb });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x5e6f, gbc.sp());
        EXPECT(0xde0c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xddff));
        EXPECT(0xb, gbc.readMem(0xde00));
        // 28 01D3
        gbc.setState(0xba75, 0x7788, 0xf580, 0xeb17, 0x826, 0x130b, 0x1, 0x0);
        gbc.writeMem(0xba75, { 0x28, 0x1b });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x7788, gbc.sp());
        EXPECT(0xba92, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xba75));
        EXPECT(0x1b, gbc.readMem(0xba76));
        // 28 01D5
        gbc.setState(0x18a, 0x5c86, 0x82c0, 0xa7d6, 0xc8f7, 0xdff0, 0x1, 0x0);
        gbc.writeMem(0x18a, { 0x28, 0x8f });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x5c86, gbc.sp());
        EXPECT(0x11b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01D8
        gbc.setState(0x4c2c, 0x1814, 0xc3c0, 0xf4c3, 0x19dd, 0x8ba6, 0x0, 0x0);
        gbc.writeMem(0x4c2c, { 0x28, 0x14 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x1814, gbc.sp());
        EXPECT(0x4c42, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01D9
        gbc.setState(0x2de4, 0xfca9, 0xdfb0, 0x526b, 0xde62, 0x37c8, 0x0, 0x0);
        gbc.writeMem(0x2de4, { 0x28, 0x15 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xfca9, gbc.sp());
        EXPECT(0x2dfb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01DA
        gbc.setState(0x44ff, 0x95fc, 0x3f40, 0xdf9a, 0xaf04, 0x65c2, 0x1, 0x1);
        gbc.writeMem(0x44ff, { 0x28, 0x2a });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x95fc, gbc.sp());
        EXPECT(0x4501, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01DB
        gbc.setState(0x58d1, 0xb94c, 0xbe80, 0x7f4f, 0x8292, 0xcadf, 0x1, 0x0);
        gbc.writeMem(0x58d1, { 0x28, 0x27 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xb94c, gbc.sp());
        EXPECT(0x58fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01DC
        gbc.setState(0x2cb0, 0xef54, 0x7bd0, 0xdd89, 0x2cf3, 0xa58d, 0x1, 0x1);
        gbc.writeMem(0x2cb0, { 0x28, 0xf0 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xef54, gbc.sp());
        EXPECT(0x2ca2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01DE
        gbc.setState(0x64c2, 0xe04d, 0x3a70, 0x61b3, 0x963d, 0xae5d, 0x1, 0x1);
        gbc.writeMem(0x64c2, { 0x28, 0x34 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xe04d, gbc.sp());
        EXPECT(0x64c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01DF
        gbc.setState(0x9006, 0x67ff, 0xde10, 0x64f6, 0x685e, 0x900, 0x0, 0x0);
        gbc.writeMem(0x9006, { 0x28, 0xc0 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x67ff, gbc.sp());
        EXPECT(0x9008, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9006));
        EXPECT(0xc0, gbc.readMem(0x9007));
        // 28 01E0
        gbc.setState(0x1c9b, 0x6c74, 0xc990, 0x286f, 0xa015, 0x794d, 0x0, 0x0);
        gbc.writeMem(0x1c9b, { 0x28, 0x85 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x6c74, gbc.sp());
        EXPECT(0x1c22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01E1
        gbc.setState(0xcd47, 0xece8, 0x5470, 0x5e20, 0xa36, 0x290d, 0x1, 0x0);
        gbc.writeMem(0xcd47, { 0x28, 0xb1 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xece8, gbc.sp());
        EXPECT(0xcd49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcd47));
        EXPECT(0xb1, gbc.readMem(0xcd48));
        // 28 01E2
        gbc.setState(0x5c6e, 0x2d40, 0x7cd0, 0x3377, 0xcbb9, 0x38a3, 0x0, 0x0);
        gbc.writeMem(0x5c6e, { 0x28, 0xc3 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x2d40, gbc.sp());
        EXPECT(0x5c33, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01E3
        gbc.setState(0x246, 0xcac5, 0xc950, 0x8006, 0x9195, 0x591, 0x1, 0x0);
        gbc.writeMem(0x246, { 0x28, 0xfc });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xcac5, gbc.sp());
        EXPECT(0x248, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01E4
        gbc.setState(0x38c, 0xeb9, 0xd9b0, 0x58e5, 0xb56b, 0xc8d9, 0x0, 0x1);
        gbc.writeMem(0x38c, { 0x28, 0xbc });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xeb9, gbc.sp());
        EXPECT(0x34a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01E5
        gbc.setState(0xd296, 0x10ca, 0xc3d0, 0xa683, 0x2ad9, 0x2dbe, 0x1, 0x0);
        gbc.writeMem(0xd296, { 0x28, 0xf });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x10ca, gbc.sp());
        EXPECT(0xd2a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd296));
        EXPECT(0xf, gbc.readMem(0xd297));
        // 28 01E6
        gbc.setState(0xc714, 0xb721, 0xf9d0, 0x5acf, 0x6c4b, 0xb94b, 0x1, 0x1);
        gbc.writeMem(0xc714, { 0x28, 0xc7 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xb721, gbc.sp());
        EXPECT(0xc6dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc714));
        EXPECT(0xc7, gbc.readMem(0xc715));
        // 28 01E7
        gbc.setState(0xea4, 0xbd5a, 0x1530, 0x7df0, 0xbff3, 0xd1fe, 0x1, 0x0);
        gbc.writeMem(0xea4, { 0x28, 0x5c });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xbd5a, gbc.sp());
        EXPECT(0xea6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01E8
        gbc.setState(0xd3ba, 0x1050, 0xac50, 0x6ae1, 0x3216, 0xf6f, 0x0, 0x0);
        gbc.writeMem(0xd3ba, { 0x28, 0xe1 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x1050, gbc.sp());
        EXPECT(0xd3bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd3ba));
        EXPECT(0xe1, gbc.readMem(0xd3bb));
        // 28 01E9
        gbc.setState(0x8870, 0xf7f9, 0x8c30, 0x30cf, 0x3d36, 0x732c, 0x1, 0x0);
        gbc.writeMem(0x8870, { 0x28, 0xd5 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xf7f9, gbc.sp());
        EXPECT(0x8872, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8870));
        EXPECT(0xd5, gbc.readMem(0x8871));
        // 28 01EA
        gbc.setState(0xbd0f, 0xd9f9, 0x9040, 0xf237, 0xec76, 0xf3e8, 0x0, 0x0);
        gbc.writeMem(0xbd0f, { 0x28, 0x8a });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xd9f9, gbc.sp());
        EXPECT(0xbd11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xbd0f));
        EXPECT(0x8a, gbc.readMem(0xbd10));
        // 28 01EB
        gbc.setState(0x571e, 0xd608, 0x270, 0x394a, 0x8ac5, 0xa1ac, 0x0, 0x1);
        gbc.writeMem(0x571e, { 0x28, 0xb7 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xd608, gbc.sp());
        EXPECT(0x5720, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01EC
        gbc.setState(0x5767, 0x5aea, 0x86b0, 0x2865, 0x993c, 0x6def, 0x1, 0x1);
        gbc.writeMem(0x5767, { 0x28, 0xcc });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x5aea, gbc.sp());
        EXPECT(0x5735, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01ED
        gbc.setState(0x4c66, 0x6a23, 0x64d0, 0x1035, 0x3df8, 0x66f1, 0x0, 0x0);
        gbc.writeMem(0x4c66, { 0x28, 0x64 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x6a23, gbc.sp());
        EXPECT(0x4ccc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01EE
        gbc.setState(0xcf57, 0xb40c, 0xd080, 0x6977, 0x2e77, 0xdf9d, 0x1, 0x1);
        gbc.writeMem(0xcf57, { 0x28, 0xa1 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xb40c, gbc.sp());
        EXPECT(0xcefa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcf57));
        EXPECT(0xa1, gbc.readMem(0xcf58));
        // 28 01EF
        gbc.setState(0x896e, 0x4e8, 0xd580, 0x45c1, 0x1321, 0x483, 0x0, 0x0);
        gbc.writeMem(0x896e, { 0x28, 0x44 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x4e8, gbc.sp());
        EXPECT(0x89b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x896e));
        EXPECT(0x44, gbc.readMem(0x896f));
        // 28 01F0
        gbc.setState(0x9372, 0x4eb8, 0xde50, 0xac1a, 0x88d7, 0xe489, 0x1, 0x0);
        gbc.writeMem(0x9372, { 0x28, 0xc0 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x4eb8, gbc.sp());
        EXPECT(0x9374, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9372));
        EXPECT(0xc0, gbc.readMem(0x9373));
        // 28 01F1
        gbc.setState(0x4385, 0xc3e, 0x84b0, 0xd47c, 0x8f82, 0x9867, 0x0, 0x1);
        gbc.writeMem(0x4385, { 0x28, 0x28 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xc3e, gbc.sp());
        EXPECT(0x43af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01F2
        gbc.setState(0x693e, 0x8192, 0xfc0, 0x6dde, 0x5896, 0xeb78, 0x1, 0x0);
        gbc.writeMem(0x693e, { 0x28, 0x32 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x8192, gbc.sp());
        EXPECT(0x6972, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01F3
        gbc.setState(0x796d, 0x6f87, 0xb840, 0x1208, 0xaf54, 0xd944, 0x0, 0x0);
        gbc.writeMem(0x796d, { 0x28, 0xb });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x6f87, gbc.sp());
        EXPECT(0x796f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01F4
        gbc.setState(0xc5d1, 0x5745, 0x7290, 0x14fb, 0x2b74, 0xe012, 0x0, 0x1);
        gbc.writeMem(0xc5d1, { 0x28, 0x98 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x5745, gbc.sp());
        EXPECT(0xc56b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc5d1));
        EXPECT(0x98, gbc.readMem(0xc5d2));
        // 28 01F6
        gbc.setState(0xece4, 0xece5, 0xf100, 0xfb18, 0x3cb0, 0x1bd5, 0x0, 0x0);
        gbc.writeMem(0xece4, { 0x28, 0x31 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xece5, gbc.sp());
        EXPECT(0xece6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xece4));
        EXPECT(0x31, gbc.readMem(0xece5));
        // 28 01F7
        gbc.setState(0xa86b, 0x885b, 0x7e00, 0x654b, 0x9f36, 0x60d6, 0x1, 0x1);
        gbc.writeMem(0xa86b, { 0x28, 0x60 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x885b, gbc.sp());
        EXPECT(0xa86d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa86b));
        EXPECT(0x60, gbc.readMem(0xa86c));
        // 28 01F8
        gbc.setState(0x24ec, 0xfdbe, 0x13b0, 0x6aa, 0x130b, 0xd378, 0x1, 0x0);
        gbc.writeMem(0x24ec, { 0x28, 0x28 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xfdbe, gbc.sp());
        EXPECT(0x2516, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 01F9
        gbc.setState(0xaacd, 0xe2fd, 0xfcf0, 0x97ad, 0xeab7, 0x1d6e, 0x1, 0x0);
        gbc.writeMem(0xaacd, { 0x28, 0xfc });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xe2fd, gbc.sp());
        EXPECT(0xaacb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xaacd));
        EXPECT(0xfc, gbc.readMem(0xaace));
        // 28 01FA
        gbc.setState(0xc59e, 0xc455, 0x14d0, 0xf8a5, 0x4c27, 0xccdd, 0x0, 0x1);
        gbc.writeMem(0xc59e, { 0x28, 0xce });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xc455, gbc.sp());
        EXPECT(0xc56e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc59e));
        EXPECT(0xce, gbc.readMem(0xc59f));
        // 28 01FB
        gbc.setState(0xafc4, 0x69cf, 0xb360, 0x51ee, 0x3d76, 0xa387, 0x0, 0x1);
        gbc.writeMem(0xafc4, { 0x28, 0x9b });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x69cf, gbc.sp());
        EXPECT(0xafc6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xafc4));
        EXPECT(0x9b, gbc.readMem(0xafc5));
        // 28 01FC
        gbc.setState(0xc663, 0x7a46, 0xbb0, 0x29da, 0xb5ff, 0x75e9, 0x1, 0x0);
        gbc.writeMem(0xc663, { 0x28, 0xe0 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x7a46, gbc.sp());
        EXPECT(0xc645, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc663));
        EXPECT(0xe0, gbc.readMem(0xc664));
        // 28 01FD
        gbc.setState(0xab25, 0x8c2f, 0xa660, 0xf1ad, 0xb001, 0x728b, 0x1, 0x1);
        gbc.writeMem(0xab25, { 0x28, 0x57 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x8c2f, gbc.sp());
        EXPECT(0xab27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xab25));
        EXPECT(0x57, gbc.readMem(0xab26));
        // 28 01FE
        gbc.setState(0x5a4f, 0xde07, 0xa2a0, 0x7cb0, 0x8db5, 0x2272, 0x0, 0x1);
        gbc.writeMem(0x5a4f, { 0x28, 0xb3 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xde07, gbc.sp());
        EXPECT(0x5a04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 01FF
        gbc.setState(0xeaba, 0x1af8, 0x1060, 0xeb90, 0xfb2c, 0x1bcb, 0x1, 0x1);
        gbc.writeMem(0xeaba, { 0x28, 0xca });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x1af8, gbc.sp());
        EXPECT(0xeabc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xeaba));
        EXPECT(0xca, gbc.readMem(0xeabb));
        // 28 0200
        gbc.setState(0x363f, 0x4aba, 0x24e0, 0x93b7, 0x7a17, 0x2ec9, 0x0, 0x1);
        gbc.writeMem(0x363f, { 0x28, 0xac });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x4aba, gbc.sp());
        EXPECT(0x35ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0201
        gbc.setState(0x418f, 0x60ab, 0x3ec0, 0x4549, 0x289e, 0x5deb, 0x1, 0x1);
        gbc.writeMem(0x418f, { 0x28, 0xaa });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x60ab, gbc.sp());
        EXPECT(0x413b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0202
        gbc.setState(0xc776, 0xccda, 0x3020, 0x1c5b, 0xe8db, 0x8e9e, 0x1, 0x0);
        gbc.writeMem(0xc776, { 0x28, 0x3d });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xccda, gbc.sp());
        EXPECT(0xc778, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc776));
        EXPECT(0x3d, gbc.readMem(0xc777));
        // 28 0203
        gbc.setState(0x3991, 0xc17f, 0x9f10, 0xbe67, 0x5906, 0x9714, 0x1, 0x1);
        gbc.writeMem(0x3991, { 0x28, 0x91 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xc17f, gbc.sp());
        EXPECT(0x3993, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0204
        gbc.setState(0x77bf, 0x152e, 0x4d90, 0xb37, 0x17ff, 0x6213, 0x1, 0x1);
        gbc.writeMem(0x77bf, { 0x28, 0x30 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x152e, gbc.sp());
        EXPECT(0x77f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0205
        gbc.setState(0xb20d, 0x4f0b, 0x4ae0, 0x1152, 0xe3eb, 0xaa6d, 0x0, 0x1);
        gbc.writeMem(0xb20d, { 0x28, 0xb9 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x4f0b, gbc.sp());
        EXPECT(0xb1c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb20d));
        EXPECT(0xb9, gbc.readMem(0xb20e));
        // 28 0206
        gbc.setState(0xedfc, 0xfdbc, 0x4c30, 0xd897, 0x5f7f, 0xe7b4, 0x0, 0x0);
        gbc.writeMem(0xedfc, { 0x28, 0x33 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xfdbc, gbc.sp());
        EXPECT(0xedfe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xedfc));
        EXPECT(0x33, gbc.readMem(0xedfd));
        // 28 0207
        gbc.setState(0x6157, 0x224c, 0x6020, 0x20da, 0x65a, 0xf682, 0x0, 0x0);
        gbc.writeMem(0x6157, { 0x28, 0x79 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x224c, gbc.sp());
        EXPECT(0x6159, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0208
        gbc.setState(0xae91, 0xacc9, 0xe150, 0x6e69, 0xbaf5, 0x85af, 0x1, 0x1);
        gbc.writeMem(0xae91, { 0x28, 0x7 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xacc9, gbc.sp());
        EXPECT(0xae93, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xae91));
        EXPECT(0x7, gbc.readMem(0xae92));
        // 28 0209
        gbc.setState(0x2aa7, 0x1278, 0x14f0, 0x339c, 0x2d57, 0x6407, 0x1, 0x1);
        gbc.writeMem(0x2aa7, { 0x28, 0xb1 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x1278, gbc.sp());
        EXPECT(0x2a5a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 020A
        gbc.setState(0x4c30, 0x346f, 0xb170, 0x4fbd, 0x61a4, 0xc1, 0x0, 0x0);
        gbc.writeMem(0x4c30, { 0x28, 0xe9 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x346f, gbc.sp());
        EXPECT(0x4c32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 020B
        gbc.setState(0xe18e, 0x4fb8, 0x3270, 0xd67, 0x4a9f, 0x6c10, 0x0, 0x1);
        gbc.writeMem(0xe18e, { 0x28, 0x4f });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x4fb8, gbc.sp());
        EXPECT(0xe190, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe18e));
        EXPECT(0x4f, gbc.readMem(0xe18f));
        // 28 020C
        gbc.setState(0x99cc, 0xa229, 0xed90, 0xe0d2, 0x387b, 0x5a21, 0x1, 0x1);
        gbc.writeMem(0x99cc, { 0x28, 0xa });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xa229, gbc.sp());
        EXPECT(0x99d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x99cc));
        EXPECT(0xa, gbc.readMem(0x99cd));
        // 28 020D
        gbc.setState(0x93a1, 0x9550, 0xab80, 0x2472, 0xd60, 0x4b9d, 0x0, 0x1);
        gbc.writeMem(0x93a1, { 0x28, 0x1b });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x9550, gbc.sp());
        EXPECT(0x93be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x93a1));
        EXPECT(0x1b, gbc.readMem(0x93a2));
        // 28 020E
        gbc.setState(0x523d, 0xcd4e, 0xb910, 0x5b9d, 0xbc33, 0x8958, 0x1, 0x0);
        gbc.writeMem(0x523d, { 0x28, 0xaf });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xcd4e, gbc.sp());
        EXPECT(0x523f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 020F
        gbc.setState(0x8e25, 0x5ba8, 0x76d0, 0x815f, 0x252, 0x69d9, 0x0, 0x1);
        gbc.writeMem(0x8e25, { 0x28, 0xc4 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x5ba8, gbc.sp());
        EXPECT(0x8deb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8e25));
        EXPECT(0xc4, gbc.readMem(0x8e26));
        // 28 0211
        gbc.setState(0xe93e, 0xc426, 0x5fb0, 0x802c, 0x2c3e, 0xc6d2, 0x0, 0x0);
        gbc.writeMem(0xe93e, { 0x28, 0xec });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xc426, gbc.sp());
        EXPECT(0xe92c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe93e));
        EXPECT(0xec, gbc.readMem(0xe93f));
        // 28 0212
        gbc.setState(0x2c51, 0xf8f6, 0x2950, 0xfbb5, 0x927e, 0xeb31, 0x0, 0x1);
        gbc.writeMem(0x2c51, { 0x28, 0xe1 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xf8f6, gbc.sp());
        EXPECT(0x2c53, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0213
        gbc.setState(0xde74, 0x6ddc, 0x8850, 0xdbf0, 0x7af9, 0x5814, 0x1, 0x1);
        gbc.writeMem(0xde74, { 0x28, 0x42 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x6ddc, gbc.sp());
        EXPECT(0xde76, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xde74));
        EXPECT(0x42, gbc.readMem(0xde75));
        // 28 0214
        gbc.setState(0xb330, 0x22f2, 0x6530, 0xb2c8, 0x3761, 0x4723, 0x0, 0x1);
        gbc.writeMem(0xb330, { 0x28, 0x9c });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x22f2, gbc.sp());
        EXPECT(0xb332, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb330));
        EXPECT(0x9c, gbc.readMem(0xb331));
        // 28 0215
        gbc.setState(0x20d1, 0xbab3, 0xded0, 0x6a27, 0xeaf9, 0x3c8e, 0x0, 0x0);
        gbc.writeMem(0x20d1, { 0x28, 0x3e });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xbab3, gbc.sp());
        EXPECT(0x2111, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0216
        gbc.setState(0x56ad, 0xaeae, 0x8cd0, 0x2058, 0x4835, 0x4ddb, 0x0, 0x0);
        gbc.writeMem(0x56ad, { 0x28, 0x1f });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xaeae, gbc.sp());
        EXPECT(0x56ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0217
        gbc.setState(0x4ac, 0xeca1, 0x62f0, 0xf67e, 0xe1c1, 0x4d2e, 0x0, 0x1);
        gbc.writeMem(0x4ac, { 0x28, 0x86 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xeca1, gbc.sp());
        EXPECT(0x434, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0218
        gbc.setState(0x8a8c, 0x766e, 0x8600, 0x20a7, 0xa897, 0x43ce, 0x1, 0x1);
        gbc.writeMem(0x8a8c, { 0x28, 0x90 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x766e, gbc.sp());
        EXPECT(0x8a8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8a8c));
        EXPECT(0x90, gbc.readMem(0x8a8d));
        // 28 0219
        gbc.setState(0xa78f, 0x6bfa, 0x2190, 0xa99a, 0x74e3, 0xe00, 0x1, 0x1);
        gbc.writeMem(0xa78f, { 0x28, 0xfa });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x6bfa, gbc.sp());
        EXPECT(0xa78b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa78f));
        EXPECT(0xfa, gbc.readMem(0xa790));
        // 28 021A
        gbc.setState(0x8d70, 0x5b6d, 0xb7b0, 0x8723, 0x835b, 0x2b92, 0x0, 0x0);
        gbc.writeMem(0x8d70, { 0x28, 0xba });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x5b6d, gbc.sp());
        EXPECT(0x8d2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8d70));
        EXPECT(0xba, gbc.readMem(0x8d71));
        // 28 021B
        gbc.setState(0x4023, 0x6fcd, 0x5c70, 0x459c, 0xd9ad, 0x35ae, 0x0, 0x0);
        gbc.writeMem(0x4023, { 0x28, 0x2e });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x6fcd, gbc.sp());
        EXPECT(0x4025, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 021C
        gbc.setState(0x249f, 0xd68a, 0xce60, 0x4cbc, 0x3c24, 0xdb4f, 0x0, 0x1);
        gbc.writeMem(0x249f, { 0x28, 0xed });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xd68a, gbc.sp());
        EXPECT(0x24a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 021D
        gbc.setState(0x1642, 0x82ab, 0x3220, 0xd3fe, 0x9063, 0xe2fd, 0x0, 0x0);
        gbc.writeMem(0x1642, { 0x28, 0x15 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x82ab, gbc.sp());
        EXPECT(0x1644, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 021E
        gbc.setState(0x840a, 0x957e, 0x6060, 0xb765, 0x7ae3, 0x2961, 0x0, 0x0);
        gbc.writeMem(0x840a, { 0x28, 0x84 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x957e, gbc.sp());
        EXPECT(0x840c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x840a));
        EXPECT(0x84, gbc.readMem(0x840b));
        // 28 0220
        gbc.setState(0x8974, 0x415d, 0xc6c0, 0x6d3b, 0x9031, 0x9d6c, 0x1, 0x1);
        gbc.writeMem(0x8974, { 0x28, 0xc9 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x415d, gbc.sp());
        EXPECT(0x893f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8974));
        EXPECT(0xc9, gbc.readMem(0x8975));
        // 28 0221
        gbc.setState(0x18c3, 0x9502, 0x92e0, 0x71f, 0x1f58, 0x332d, 0x1, 0x0);
        gbc.writeMem(0x18c3, { 0x28, 0x5a });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x9502, gbc.sp());
        EXPECT(0x191f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0222
        gbc.setState(0xda3, 0xa69, 0xc5b0, 0xd35f, 0x8496, 0x436f, 0x1, 0x0);
        gbc.writeMem(0xda3, { 0x28, 0xd2 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xa69, gbc.sp());
        EXPECT(0xd77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0223
        gbc.setState(0x3a37, 0x5077, 0xba20, 0x581d, 0x89af, 0x59b5, 0x1, 0x0);
        gbc.writeMem(0x3a37, { 0x28, 0x61 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x5077, gbc.sp());
        EXPECT(0x3a39, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0224
        gbc.setState(0x9cee, 0x9392, 0xc6e0, 0xe9e, 0xb195, 0x9a0f, 0x1, 0x0);
        gbc.writeMem(0x9cee, { 0x28, 0x91 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x9392, gbc.sp());
        EXPECT(0x9c81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9cee));
        EXPECT(0x91, gbc.readMem(0x9cef));
        // 28 0225
        gbc.setState(0xcc4f, 0xe61a, 0x5e80, 0x4289, 0x1851, 0x421f, 0x0, 0x0);
        gbc.writeMem(0xcc4f, { 0x28, 0x6e });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xe61a, gbc.sp());
        EXPECT(0xccbf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcc4f));
        EXPECT(0x6e, gbc.readMem(0xcc50));
        // 28 0227
        gbc.setState(0x829a, 0xdaf0, 0x8ab0, 0xfd3d, 0x38f5, 0x8bb9, 0x1, 0x1);
        gbc.writeMem(0x829a, { 0x28, 0x58 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xdaf0, gbc.sp());
        EXPECT(0x82f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x829a));
        EXPECT(0x58, gbc.readMem(0x829b));
        // 28 0228
        gbc.setState(0x15a1, 0x53fa, 0x2da0, 0xf4ea, 0xb8e, 0xac3e, 0x1, 0x1);
        gbc.writeMem(0x15a1, { 0x28, 0x1 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x53fa, gbc.sp());
        EXPECT(0x15a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0229
        gbc.setState(0x3b82, 0xfac2, 0xb8b0, 0x5113, 0x1ad4, 0x9c0c, 0x0, 0x1);
        gbc.writeMem(0x3b82, { 0x28, 0x3f });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xfac2, gbc.sp());
        EXPECT(0x3bc3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 022A
        gbc.setState(0xe968, 0x66d, 0x1fb0, 0x5f62, 0xfae, 0x254f, 0x0, 0x0);
        gbc.writeMem(0xe968, { 0x28, 0x51 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x66d, gbc.sp());
        EXPECT(0xe9bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe968));
        EXPECT(0x51, gbc.readMem(0xe969));
        // 28 022B
        gbc.setState(0xd041, 0x806b, 0x54a0, 0xa318, 0xd4b3, 0x5b91, 0x0, 0x0);
        gbc.writeMem(0xd041, { 0x28, 0x34 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x806b, gbc.sp());
        EXPECT(0xd077, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd041));
        EXPECT(0x34, gbc.readMem(0xd042));
        // 28 022C
        gbc.setState(0x86e2, 0xba28, 0x7630, 0xac34, 0xa1ff, 0xafa0, 0x1, 0x0);
        gbc.writeMem(0x86e2, { 0x28, 0xef });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xba28, gbc.sp());
        EXPECT(0x86e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x86e2));
        EXPECT(0xef, gbc.readMem(0x86e3));
        // 28 022E
        gbc.setState(0x9589, 0xffd0, 0xd720, 0x12d5, 0xb103, 0x2c0b, 0x1, 0x1);
        gbc.writeMem(0x9589, { 0x28, 0x8e });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xffd0, gbc.sp());
        EXPECT(0x958b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9589));
        EXPECT(0x8e, gbc.readMem(0x958a));
        // 28 0230
        gbc.setState(0xad4b, 0xea4f, 0xe60, 0x860b, 0x5f7b, 0x2a4b, 0x0, 0x0);
        gbc.writeMem(0xad4b, { 0x28, 0xad });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xea4f, gbc.sp());
        EXPECT(0xad4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xad4b));
        EXPECT(0xad, gbc.readMem(0xad4c));
        // 28 0231
        gbc.setState(0x7d1e, 0x38da, 0xf660, 0x4384, 0xa082, 0xc0c4, 0x1, 0x1);
        gbc.writeMem(0x7d1e, { 0x28, 0x51 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x38da, gbc.sp());
        EXPECT(0x7d20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0232
        gbc.setState(0x7e7c, 0x9e9e, 0x2180, 0x7bc4, 0x5e8a, 0xbf57, 0x1, 0x0);
        gbc.writeMem(0x7e7c, { 0x28, 0x38 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x9e9e, gbc.sp());
        EXPECT(0x7eb6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0233
        gbc.setState(0x5cdf, 0x33aa, 0xab50, 0xc10, 0x12d0, 0x3be4, 0x0, 0x0);
        gbc.writeMem(0x5cdf, { 0x28, 0x54 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x33aa, gbc.sp());
        EXPECT(0x5ce1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0234
        gbc.setState(0x4751, 0xab5e, 0x18d0, 0x7ab8, 0xf9d4, 0xaa43, 0x0, 0x0);
        gbc.writeMem(0x4751, { 0x28, 0x58 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xab5e, gbc.sp());
        EXPECT(0x47ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0235
        gbc.setState(0x4ff9, 0x360d, 0x9670, 0xa12a, 0xa0d1, 0xfccd, 0x0, 0x1);
        gbc.writeMem(0x4ff9, { 0x28, 0xe9 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x360d, gbc.sp());
        EXPECT(0x4ffb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0237
        gbc.setState(0xa91c, 0x2c6d, 0x5f20, 0x6a81, 0xbba5, 0x9ebc, 0x0, 0x1);
        gbc.writeMem(0xa91c, { 0x28, 0x1a });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x2c6d, gbc.sp());
        EXPECT(0xa91e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa91c));
        EXPECT(0x1a, gbc.readMem(0xa91d));
        // 28 0238
        gbc.setState(0x780b, 0x487f, 0x6750, 0x9477, 0x1085, 0xb671, 0x0, 0x0);
        gbc.writeMem(0x780b, { 0x28, 0x95 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x487f, gbc.sp());
        EXPECT(0x780d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0239
        gbc.setState(0x385e, 0x66b8, 0x6970, 0x97aa, 0xcd0e, 0xcbe6, 0x1, 0x1);
        gbc.writeMem(0x385e, { 0x28, 0x20 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x66b8, gbc.sp());
        EXPECT(0x3860, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 023A
        gbc.setState(0x1637, 0x830a, 0x3120, 0x5f4c, 0x607a, 0xbdcc, 0x1, 0x1);
        gbc.writeMem(0x1637, { 0x28, 0xcd });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x830a, gbc.sp());
        EXPECT(0x1639, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 023B
        gbc.setState(0x281c, 0x1f35, 0x5c0, 0xe41c, 0x5d54, 0x7802, 0x1, 0x0);
        gbc.writeMem(0x281c, { 0x28, 0x3a });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x1f35, gbc.sp());
        EXPECT(0x2858, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 023C
        gbc.setState(0xcf15, 0x6025, 0x6870, 0x4f84, 0x5979, 0x65f7, 0x1, 0x0);
        gbc.writeMem(0xcf15, { 0x28, 0xd });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x6025, gbc.sp());
        EXPECT(0xcf17, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcf15));
        EXPECT(0xd, gbc.readMem(0xcf16));
        // 28 023D
        gbc.setState(0x3dba, 0x1862, 0x2530, 0x37a2, 0xc1c2, 0x67e6, 0x0, 0x0);
        gbc.writeMem(0x3dba, { 0x28, 0x2e });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x1862, gbc.sp());
        EXPECT(0x3dbc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 023E
        gbc.setState(0xb6b, 0x7ff4, 0xb7a0, 0xece0, 0xce90, 0x5327, 0x0, 0x0);
        gbc.writeMem(0xb6b, { 0x28, 0x22 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x7ff4, gbc.sp());
        EXPECT(0xb8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 023F
        gbc.setState(0x1073, 0x9d13, 0x1780, 0x7c00, 0x101d, 0x1a1, 0x0, 0x0);
        gbc.writeMem(0x1073, { 0x28, 0x2b });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x9d13, gbc.sp());
        EXPECT(0x10a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0240
        gbc.setState(0xbf4d, 0xef93, 0xae60, 0x494e, 0xcbc5, 0x4a06, 0x0, 0x1);
        gbc.writeMem(0xbf4d, { 0x28, 0xf8 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xef93, gbc.sp());
        EXPECT(0xbf4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xbf4d));
        EXPECT(0xf8, gbc.readMem(0xbf4e));
        // 28 0241
        gbc.setState(0x14a3, 0x7901, 0x96b0, 0x4582, 0x148d, 0x7d54, 0x1, 0x0);
        gbc.writeMem(0x14a3, { 0x28, 0xc0 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x7901, gbc.sp());
        EXPECT(0x1465, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0242
        gbc.setState(0xafcf, 0x1452, 0x46a0, 0xddb8, 0x5b22, 0xb03a, 0x1, 0x0);
        gbc.writeMem(0xafcf, { 0x28, 0x3b });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x1452, gbc.sp());
        EXPECT(0xb00c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xafcf));
        EXPECT(0x3b, gbc.readMem(0xafd0));
        // 28 0243
        gbc.setState(0xd85, 0x9235, 0x8120, 0x905a, 0x7f4, 0xbc51, 0x1, 0x0);
        gbc.writeMem(0xd85, { 0x28, 0xd0 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x9235, gbc.sp());
        EXPECT(0xd87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0244
        gbc.setState(0xcf7f, 0xf3ed, 0xa9e0, 0xdbdb, 0x387a, 0xefe3, 0x0, 0x1);
        gbc.writeMem(0xcf7f, { 0x28, 0x54 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xf3ed, gbc.sp());
        EXPECT(0xcfd5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcf7f));
        EXPECT(0x54, gbc.readMem(0xcf80));
        // 28 0245
        gbc.setState(0xafa9, 0x3ac3, 0x3d70, 0x5125, 0xbc0b, 0x3751, 0x1, 0x0);
        gbc.writeMem(0xafa9, { 0x28, 0xa2 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x3ac3, gbc.sp());
        EXPECT(0xafab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xafa9));
        EXPECT(0xa2, gbc.readMem(0xafaa));
        // 28 0246
        gbc.setState(0x9a73, 0x515e, 0x5640, 0xf427, 0x3d6e, 0x685, 0x1, 0x1);
        gbc.writeMem(0x9a73, { 0x28, 0x16 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x515e, gbc.sp());
        EXPECT(0x9a75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9a73));
        EXPECT(0x16, gbc.readMem(0x9a74));
        // 28 0247
        gbc.setState(0xa1f2, 0x27f0, 0xbd50, 0xd877, 0x2095, 0x1692, 0x1, 0x0);
        gbc.writeMem(0xa1f2, { 0x28, 0x56 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x27f0, gbc.sp());
        EXPECT(0xa1f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa1f2));
        EXPECT(0x56, gbc.readMem(0xa1f3));
        // 28 0248
        gbc.setState(0xabd1, 0x48b0, 0xa1d0, 0xce9d, 0x20be, 0x6da1, 0x1, 0x0);
        gbc.writeMem(0xabd1, { 0x28, 0xcc });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x48b0, gbc.sp());
        EXPECT(0xab9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xabd1));
        EXPECT(0xcc, gbc.readMem(0xabd2));
        // 28 0249
        gbc.setState(0x1dbf, 0xd72e, 0x3fe0, 0xc0ec, 0x24cf, 0xceee, 0x0, 0x0);
        gbc.writeMem(0x1dbf, { 0x28, 0x87 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xd72e, gbc.sp());
        EXPECT(0x1d48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 024A
        gbc.setState(0x283c, 0x8ef5, 0x39a0, 0xbdd4, 0x70cf, 0x563, 0x0, 0x0);
        gbc.writeMem(0x283c, { 0x28, 0xe9 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x8ef5, gbc.sp());
        EXPECT(0x2827, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 024B
        gbc.setState(0x679f, 0xfe1d, 0x6210, 0xf346, 0x62a2, 0x3aae, 0x0, 0x0);
        gbc.writeMem(0x679f, { 0x28, 0xa2 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xfe1d, gbc.sp());
        EXPECT(0x67a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 024C
        gbc.setState(0x8aed, 0x21c0, 0x640, 0x4355, 0x38c4, 0x354a, 0x1, 0x1);
        gbc.writeMem(0x8aed, { 0x28, 0x2d });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x21c0, gbc.sp());
        EXPECT(0x8aef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8aed));
        EXPECT(0x2d, gbc.readMem(0x8aee));
        // 28 024D
        gbc.setState(0x459f, 0x7908, 0xe230, 0x26f0, 0x16af, 0xc9be, 0x0, 0x0);
        gbc.writeMem(0x459f, { 0x28, 0x7d });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x7908, gbc.sp());
        EXPECT(0x45a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 024E
        gbc.setState(0x9538, 0x6b00, 0x83e0, 0x60a5, 0xd318, 0x49f5, 0x1, 0x1);
        gbc.writeMem(0x9538, { 0x28, 0xf1 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x6b00, gbc.sp());
        EXPECT(0x952b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9538));
        EXPECT(0xf1, gbc.readMem(0x9539));
        // 28 024F
        gbc.setState(0xd216, 0xccd, 0x11d0, 0x203c, 0xd089, 0xc976, 0x1, 0x0);
        gbc.writeMem(0xd216, { 0x28, 0xcf });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xccd, gbc.sp());
        EXPECT(0xd1e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd216));
        EXPECT(0xcf, gbc.readMem(0xd217));
        // 28 0250
        gbc.setState(0x20f1, 0xcc57, 0x5810, 0xff73, 0x8b0f, 0xe3de, 0x0, 0x1);
        gbc.writeMem(0x20f1, { 0x28, 0x8 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xcc57, gbc.sp());
        EXPECT(0x20f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0251
        gbc.setState(0x53ac, 0x43d4, 0x27e0, 0xb31d, 0xf6e2, 0xdecd, 0x1, 0x1);
        gbc.writeMem(0x53ac, { 0x28, 0xa });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x43d4, gbc.sp());
        EXPECT(0x53b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0252
        gbc.setState(0x879b, 0x82b5, 0x5e40, 0x41f0, 0x5275, 0x4932, 0x1, 0x0);
        gbc.writeMem(0x879b, { 0x28, 0x5c });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x82b5, gbc.sp());
        EXPECT(0x879d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x879b));
        EXPECT(0x5c, gbc.readMem(0x879c));
        // 28 0253
        gbc.setState(0x5959, 0x82c2, 0x4100, 0xb149, 0x1b96, 0xee4e, 0x1, 0x1);
        gbc.writeMem(0x5959, { 0x28, 0xd5 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x82c2, gbc.sp());
        EXPECT(0x595b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0254
        gbc.setState(0x9d83, 0x47ac, 0x5c60, 0x3e6e, 0x4bfe, 0x7594, 0x1, 0x0);
        gbc.writeMem(0x9d83, { 0x28, 0x4b });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x47ac, gbc.sp());
        EXPECT(0x9d85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9d83));
        EXPECT(0x4b, gbc.readMem(0x9d84));
        // 28 0255
        gbc.setState(0x3377, 0xf88c, 0xfff0, 0xf1f2, 0x3b31, 0x1739, 0x1, 0x1);
        gbc.writeMem(0x3377, { 0x28, 0xab });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xf88c, gbc.sp());
        EXPECT(0x3324, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0256
        gbc.setState(0x1dfb, 0xb77e, 0xce20, 0xb947, 0xcfc7, 0x91a6, 0x0, 0x0);
        gbc.writeMem(0x1dfb, { 0x28, 0x26 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xb77e, gbc.sp());
        EXPECT(0x1dfd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0257
        gbc.setState(0x57c, 0x11b4, 0x7340, 0x9b5c, 0xe2d4, 0x3fa9, 0x0, 0x1);
        gbc.writeMem(0x57c, { 0x28, 0xc5 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x11b4, gbc.sp());
        EXPECT(0x57e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0258
        gbc.setState(0xe2e9, 0x9ac5, 0x2d0, 0xe757, 0x7a9, 0x32df, 0x0, 0x1);
        gbc.writeMem(0xe2e9, { 0x28, 0xf8 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x9ac5, gbc.sp());
        EXPECT(0xe2e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe2e9));
        EXPECT(0xf8, gbc.readMem(0xe2ea));
        // 28 0259
        gbc.setState(0xb3b6, 0x3de4, 0x5830, 0x3437, 0x5e2e, 0xe106, 0x1, 0x1);
        gbc.writeMem(0xb3b6, { 0x28, 0x1 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x3de4, gbc.sp());
        EXPECT(0xb3b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb3b6));
        EXPECT(0x1, gbc.readMem(0xb3b7));
        // 28 025A
        gbc.setState(0x5eaa, 0x6228, 0x3d0, 0xf1a7, 0xe09, 0x5d52, 0x0, 0x0);
        gbc.writeMem(0x5eaa, { 0x28, 0x26 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x6228, gbc.sp());
        EXPECT(0x5ed2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 025B
        gbc.setState(0x6a1f, 0x8024, 0x30b0, 0x90cb, 0xa835, 0xe9ec, 0x0, 0x1);
        gbc.writeMem(0x6a1f, { 0x28, 0x4c });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x8024, gbc.sp());
        EXPECT(0x6a6d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 025C
        gbc.setState(0x37e4, 0x161f, 0xc3d0, 0x548b, 0xc62c, 0x7d5b, 0x1, 0x0);
        gbc.writeMem(0x37e4, { 0x28, 0xf4 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x161f, gbc.sp());
        EXPECT(0x37da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 025D
        gbc.setState(0xa1ad, 0x9224, 0x9530, 0x537b, 0xc645, 0x7b3e, 0x0, 0x1);
        gbc.writeMem(0xa1ad, { 0x28, 0xd1 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x9224, gbc.sp());
        EXPECT(0xa1af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa1ad));
        EXPECT(0xd1, gbc.readMem(0xa1ae));
        // 28 025E
        gbc.setState(0x5df, 0xd856, 0x3920, 0x51f5, 0x2008, 0x69b1, 0x1, 0x0);
        gbc.writeMem(0x5df, { 0x28, 0x8 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xd856, gbc.sp());
        EXPECT(0x5e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 025F
        gbc.setState(0xeac4, 0x5368, 0xa970, 0x680d, 0x5428, 0x1edd, 0x1, 0x1);
        gbc.writeMem(0xeac4, { 0x28, 0xb5 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x5368, gbc.sp());
        EXPECT(0xeac6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xeac4));
        EXPECT(0xb5, gbc.readMem(0xeac5));
        // 28 0260
        gbc.setState(0x4461, 0x479, 0x2840, 0x6c5f, 0x4d6e, 0x5672, 0x1, 0x1);
        gbc.writeMem(0x4461, { 0x28, 0x27 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x479, gbc.sp());
        EXPECT(0x4463, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0261
        gbc.setState(0xabfe, 0x4451, 0xa330, 0x87f7, 0xd13b, 0x2b2d, 0x0, 0x1);
        gbc.writeMem(0xabfe, { 0x28, 0x1c });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x4451, gbc.sp());
        EXPECT(0xac00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xabfe));
        EXPECT(0x1c, gbc.readMem(0xabff));
        // 28 0262
        gbc.setState(0x890d, 0x5e1e, 0x2890, 0xb49d, 0xdf74, 0x341a, 0x0, 0x1);
        gbc.writeMem(0x890d, { 0x28, 0x42 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x5e1e, gbc.sp());
        EXPECT(0x8951, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x890d));
        EXPECT(0x42, gbc.readMem(0x890e));
        // 28 0263
        gbc.setState(0x40d1, 0xc569, 0x4db0, 0x208d, 0xe92, 0x8010, 0x1, 0x0);
        gbc.writeMem(0x40d1, { 0x28, 0x77 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xc569, gbc.sp());
        EXPECT(0x414a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0264
        gbc.setState(0xce01, 0x17, 0xcbd0, 0xdaca, 0x2c63, 0x853e, 0x0, 0x0);
        gbc.writeMem(0xce01, { 0x28, 0x6b });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x17, gbc.sp());
        EXPECT(0xce6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xce01));
        EXPECT(0x6b, gbc.readMem(0xce02));
        // 28 0265
        gbc.setState(0x5420, 0xd7d, 0xfc80, 0xedea, 0x84ac, 0x98c9, 0x0, 0x1);
        gbc.writeMem(0x5420, { 0x28, 0x6a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xd7d, gbc.sp());
        EXPECT(0x548c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0266
        gbc.setState(0x8b65, 0x8620, 0x4e10, 0xc563, 0xa588, 0x6188, 0x0, 0x0);
        gbc.writeMem(0x8b65, { 0x28, 0xdb });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x8620, gbc.sp());
        EXPECT(0x8b67, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8b65));
        EXPECT(0xdb, gbc.readMem(0x8b66));
        // 28 0267
        gbc.setState(0x9214, 0x83d0, 0xd710, 0x65a5, 0x46b5, 0xaa6f, 0x0, 0x0);
        gbc.writeMem(0x9214, { 0x28, 0x1b });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x83d0, gbc.sp());
        EXPECT(0x9216, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9214));
        EXPECT(0x1b, gbc.readMem(0x9215));
        // 28 0268
        gbc.setState(0x8810, 0x1886, 0x7db0, 0x361d, 0x3570, 0xc5d6, 0x1, 0x1);
        gbc.writeMem(0x8810, { 0x28, 0xf0 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x1886, gbc.sp());
        EXPECT(0x8802, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8810));
        EXPECT(0xf0, gbc.readMem(0x8811));
        // 28 0269
        gbc.setState(0x50ae, 0x3d73, 0x68a0, 0xe9d7, 0xee81, 0xb8ee, 0x1, 0x1);
        gbc.writeMem(0x50ae, { 0x28, 0x4b });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x3d73, gbc.sp());
        EXPECT(0x50fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 026A
        gbc.setState(0x71ef, 0x52e9, 0x97a0, 0x404, 0x16c7, 0xcbee, 0x0, 0x1);
        gbc.writeMem(0x71ef, { 0x28, 0x3b });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x52e9, gbc.sp());
        EXPECT(0x722c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 026B
        gbc.setState(0x80b6, 0x1a86, 0xd380, 0x8d26, 0xae72, 0xf3aa, 0x1, 0x1);
        gbc.writeMem(0x80b6, { 0x28, 0x83 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x1a86, gbc.sp());
        EXPECT(0x803b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x80b6));
        EXPECT(0x83, gbc.readMem(0x80b7));
        // 28 026C
        gbc.setState(0x47b6, 0xfa69, 0x65f0, 0x985f, 0x56b5, 0xd2c6, 0x0, 0x0);
        gbc.writeMem(0x47b6, { 0x28, 0xf5 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xfa69, gbc.sp());
        EXPECT(0x47ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 026D
        gbc.setState(0xd6cb, 0xebf, 0x7190, 0x8030, 0x8765, 0xe0c0, 0x1, 0x1);
        gbc.writeMem(0xd6cb, { 0x28, 0xb0 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xebf, gbc.sp());
        EXPECT(0xd67d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd6cb));
        EXPECT(0xb0, gbc.readMem(0xd6cc));
        // 28 026F
        gbc.setState(0x96af, 0x6e0a, 0x4490, 0x2a21, 0x4998, 0x9419, 0x1, 0x1);
        gbc.writeMem(0x96af, { 0x28, 0x2 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x6e0a, gbc.sp());
        EXPECT(0x96b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x96af));
        EXPECT(0x2, gbc.readMem(0x96b0));
        // 28 0270
        gbc.setState(0xbcfb, 0x4e91, 0xc1f0, 0x2ad9, 0x23f4, 0xbe9, 0x0, 0x0);
        gbc.writeMem(0xbcfb, { 0x28, 0xcd });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x4e91, gbc.sp());
        EXPECT(0xbcca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xbcfb));
        EXPECT(0xcd, gbc.readMem(0xbcfc));
        // 28 0271
        gbc.setState(0x99a0, 0x2f23, 0xb0a0, 0x28c5, 0x87bf, 0x8d66, 0x0, 0x1);
        gbc.writeMem(0x99a0, { 0x28, 0xd4 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x2f23, gbc.sp());
        EXPECT(0x9976, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x99a0));
        EXPECT(0xd4, gbc.readMem(0x99a1));
        // 28 0272
        gbc.setState(0xe140, 0x6542, 0x5a50, 0x2630, 0xb6bc, 0xa624, 0x0, 0x0);
        gbc.writeMem(0xe140, { 0x28, 0xa3 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x6542, gbc.sp());
        EXPECT(0xe142, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe140));
        EXPECT(0xa3, gbc.readMem(0xe141));
        // 28 0273
        gbc.setState(0x2629, 0x8276, 0x3810, 0x1bc6, 0x9f92, 0xe742, 0x0, 0x1);
        gbc.writeMem(0x2629, { 0x28, 0x3c });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x8276, gbc.sp());
        EXPECT(0x262b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0274
        gbc.setState(0x760c, 0x4350, 0xd300, 0x9730, 0x65e0, 0xf505, 0x0, 0x1);
        gbc.writeMem(0x760c, { 0x28, 0xf3 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x4350, gbc.sp());
        EXPECT(0x760e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0275
        gbc.setState(0x70cf, 0xdf6, 0x9990, 0x37c7, 0x4686, 0xe04e, 0x0, 0x0);
        gbc.writeMem(0x70cf, { 0x28, 0x95 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xdf6, gbc.sp());
        EXPECT(0x7066, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0276
        gbc.setState(0x9f68, 0xc5bf, 0x64c0, 0x3248, 0xad18, 0x7ed8, 0x0, 0x1);
        gbc.writeMem(0x9f68, { 0x28, 0xea });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xc5bf, gbc.sp());
        EXPECT(0x9f54, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9f68));
        EXPECT(0xea, gbc.readMem(0x9f69));
        // 28 0277
        gbc.setState(0x8a1e, 0xdc2a, 0x8770, 0xeb36, 0x6aae, 0x1753, 0x0, 0x0);
        gbc.writeMem(0x8a1e, { 0x28, 0x58 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xdc2a, gbc.sp());
        EXPECT(0x8a20, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8a1e));
        EXPECT(0x58, gbc.readMem(0x8a1f));
        // 28 0278
        gbc.setState(0xab25, 0x3a01, 0xfed0, 0xc4be, 0x32ca, 0xb3d6, 0x0, 0x0);
        gbc.writeMem(0xab25, { 0x28, 0x57 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x3a01, gbc.sp());
        EXPECT(0xab7e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xab25));
        EXPECT(0x57, gbc.readMem(0xab26));
        // 28 0279
        gbc.setState(0x3613, 0xc45b, 0xd2a0, 0x194b, 0x2112, 0x3b07, 0x0, 0x1);
        gbc.writeMem(0x3613, { 0x28, 0x23 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xc45b, gbc.sp());
        EXPECT(0x3638, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 027A
        gbc.setState(0x1458, 0xb6f5, 0x3bc0, 0xb836, 0xe68c, 0x90fa, 0x1, 0x0);
        gbc.writeMem(0x1458, { 0x28, 0x9a });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xb6f5, gbc.sp());
        EXPECT(0x13f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 027B
        gbc.setState(0x4590, 0x2b5d, 0xf030, 0x1686, 0x8462, 0xe15a, 0x1, 0x0);
        gbc.writeMem(0x4590, { 0x28, 0x91 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x2b5d, gbc.sp());
        EXPECT(0x4592, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 027C
        gbc.setState(0xd00c, 0x1250, 0xe950, 0xc32e, 0x10e5, 0x711d, 0x1, 0x1);
        gbc.writeMem(0xd00c, { 0x28, 0xd7 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x1250, gbc.sp());
        EXPECT(0xd00e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd00c));
        EXPECT(0xd7, gbc.readMem(0xd00d));
        // 28 027D
        gbc.setState(0x3ed5, 0xf92e, 0x9770, 0x27cf, 0x537, 0x2352, 0x0, 0x0);
        gbc.writeMem(0x3ed5, { 0x28, 0x59 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xf92e, gbc.sp());
        EXPECT(0x3ed7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 027E
        gbc.setState(0x3fa2, 0x5a69, 0xf710, 0x2ea2, 0x8c9a, 0x6c3e, 0x1, 0x1);
        gbc.writeMem(0x3fa2, { 0x28, 0x32 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x5a69, gbc.sp());
        EXPECT(0x3fa4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 027F
        gbc.setState(0xc977, 0xe4fd, 0x9090, 0x68c9, 0xe6ab, 0xea16, 0x0, 0x0);
        gbc.writeMem(0xc977, { 0x28, 0x56 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xe4fd, gbc.sp());
        EXPECT(0xc9cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc977));
        EXPECT(0x56, gbc.readMem(0xc978));
        // 28 0280
        gbc.setState(0x2c00, 0xb8bb, 0x6bf0, 0x4ff9, 0x56ab, 0x7659, 0x1, 0x0);
        gbc.writeMem(0x2c00, { 0x28, 0x2a });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xb8bb, gbc.sp());
        EXPECT(0x2c2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0283
        gbc.setState(0x717f, 0x285a, 0xf3f0, 0x9545, 0x4e1e, 0x21e1, 0x1, 0x1);
        gbc.writeMem(0x717f, { 0x28, 0xb1 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x285a, gbc.sp());
        EXPECT(0x7132, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0284
        gbc.setState(0x1663, 0x2af0, 0xb200, 0x61e6, 0x2c88, 0x6765, 0x1, 0x0);
        gbc.writeMem(0x1663, { 0x28, 0xfa });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x2af0, gbc.sp());
        EXPECT(0x1665, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0285
        gbc.setState(0xdf08, 0x8d22, 0x1e20, 0xd486, 0x98ce, 0xd0f8, 0x0, 0x1);
        gbc.writeMem(0xdf08, { 0x28, 0x6f });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x8d22, gbc.sp());
        EXPECT(0xdf0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xdf08));
        EXPECT(0x6f, gbc.readMem(0xdf09));
        // 28 0286
        gbc.setState(0xb4f8, 0xc944, 0x3c10, 0xd9d, 0x6c44, 0xeb46, 0x0, 0x1);
        gbc.writeMem(0xb4f8, { 0x28, 0xa8 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xc944, gbc.sp());
        EXPECT(0xb4fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb4f8));
        EXPECT(0xa8, gbc.readMem(0xb4f9));
        // 28 0287
        gbc.setState(0x9608, 0xad61, 0x6950, 0x2e3a, 0x6326, 0xde69, 0x0, 0x1);
        gbc.writeMem(0x9608, { 0x28, 0xb8 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xad61, gbc.sp());
        EXPECT(0x960a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9608));
        EXPECT(0xb8, gbc.readMem(0x9609));
        // 28 0288
        gbc.setState(0xccf1, 0x7e9c, 0x4070, 0xeec1, 0xf861, 0x3c3f, 0x0, 0x0);
        gbc.writeMem(0xccf1, { 0x28, 0xec });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x7e9c, gbc.sp());
        EXPECT(0xccf3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xccf1));
        EXPECT(0xec, gbc.readMem(0xccf2));
        // 28 0289
        gbc.setState(0xa15a, 0x7469, 0xdd10, 0xa895, 0x7b04, 0xa01f, 0x0, 0x0);
        gbc.writeMem(0xa15a, { 0x28, 0x67 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x7469, gbc.sp());
        EXPECT(0xa15c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa15a));
        EXPECT(0x67, gbc.readMem(0xa15b));
        // 28 028A
        gbc.setState(0xb4a9, 0x345e, 0x44d0, 0xf2ad, 0x4671, 0xc656, 0x1, 0x0);
        gbc.writeMem(0xb4a9, { 0x28, 0xa5 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x345e, gbc.sp());
        EXPECT(0xb450, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb4a9));
        EXPECT(0xa5, gbc.readMem(0xb4aa));
        // 28 028B
        gbc.setState(0x370c, 0x8224, 0xe480, 0x78dc, 0x6e75, 0x67ad, 0x1, 0x1);
        gbc.writeMem(0x370c, { 0x28, 0xf5 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x8224, gbc.sp());
        EXPECT(0x3703, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 028C
        gbc.setState(0xed48, 0x7bd8, 0x7920, 0x8d17, 0xee15, 0xd8c6, 0x0, 0x1);
        gbc.writeMem(0xed48, { 0x28, 0x57 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x7bd8, gbc.sp());
        EXPECT(0xed4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xed48));
        EXPECT(0x57, gbc.readMem(0xed49));
        // 28 028D
        gbc.setState(0x58ea, 0x1251, 0x4610, 0x7c9b, 0x9c9f, 0xb2cd, 0x0, 0x0);
        gbc.writeMem(0x58ea, { 0x28, 0xed });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x1251, gbc.sp());
        EXPECT(0x58ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 028E
        gbc.setState(0x7393, 0x4fbe, 0xcfd0, 0xed82, 0x37f1, 0x303a, 0x1, 0x1);
        gbc.writeMem(0x7393, { 0x28, 0x42 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x4fbe, gbc.sp());
        EXPECT(0x73d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 028F
        gbc.setState(0x96c6, 0x5f1e, 0x46d0, 0x6923, 0xb2ba, 0x82d3, 0x0, 0x0);
        gbc.writeMem(0x96c6, { 0x28, 0xfb });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x5f1e, gbc.sp());
        EXPECT(0x96c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x96c6));
        EXPECT(0xfb, gbc.readMem(0x96c7));
        // 28 0290
        gbc.setState(0x93f5, 0x2876, 0xdb00, 0x6c8b, 0x991, 0xe107, 0x1, 0x0);
        gbc.writeMem(0x93f5, { 0x28, 0x66 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x2876, gbc.sp());
        EXPECT(0x93f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x93f5));
        EXPECT(0x66, gbc.readMem(0x93f6));
        // 28 0291
        gbc.setState(0x8acc, 0xe08, 0xa330, 0x52aa, 0xea27, 0x7733, 0x1, 0x1);
        gbc.writeMem(0x8acc, { 0x28, 0x17 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xe08, gbc.sp());
        EXPECT(0x8ace, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8acc));
        EXPECT(0x17, gbc.readMem(0x8acd));
        // 28 0293
        gbc.setState(0xad4e, 0x503d, 0xc290, 0xfa6d, 0x96fe, 0xf2bb, 0x0, 0x0);
        gbc.writeMem(0xad4e, { 0x28, 0xdb });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x503d, gbc.sp());
        EXPECT(0xad2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xad4e));
        EXPECT(0xdb, gbc.readMem(0xad4f));
        // 28 0294
        gbc.setState(0xdae5, 0x61f4, 0xdd80, 0xa517, 0xdc6a, 0x9f13, 0x0, 0x0);
        gbc.writeMem(0xdae5, { 0x28, 0xef });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x61f4, gbc.sp());
        EXPECT(0xdad6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xdae5));
        EXPECT(0xef, gbc.readMem(0xdae6));
        // 28 0295
        gbc.setState(0xbb34, 0xa072, 0x7c00, 0x5001, 0xe3d5, 0x51b, 0x0, 0x1);
        gbc.writeMem(0xbb34, { 0x28, 0x81 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xa072, gbc.sp());
        EXPECT(0xbb36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xbb34));
        EXPECT(0x81, gbc.readMem(0xbb35));
        // 28 0296
        gbc.setState(0xb49a, 0x5c70, 0x52b0, 0xb107, 0x9ead, 0x3f89, 0x1, 0x1);
        gbc.writeMem(0xb49a, { 0x28, 0x97 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x5c70, gbc.sp());
        EXPECT(0xb433, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb49a));
        EXPECT(0x97, gbc.readMem(0xb49b));
        // 28 0297
        gbc.setState(0x5284, 0xdf89, 0x5bb0, 0x9a86, 0xe33c, 0x897, 0x1, 0x0);
        gbc.writeMem(0x5284, { 0x28, 0xb4 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xdf89, gbc.sp());
        EXPECT(0x523a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0298
        gbc.setState(0x12b2, 0x8c77, 0xafe0, 0x7eaa, 0xb467, 0x1015, 0x0, 0x1);
        gbc.writeMem(0x12b2, { 0x28, 0xad });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x8c77, gbc.sp());
        EXPECT(0x1261, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 029A
        gbc.setState(0xeb2b, 0x6fe7, 0xc930, 0x7479, 0x76c2, 0x71ff, 0x1, 0x1);
        gbc.writeMem(0xeb2b, { 0x28, 0x32 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x6fe7, gbc.sp());
        EXPECT(0xeb2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xeb2b));
        EXPECT(0x32, gbc.readMem(0xeb2c));
        // 28 029B
        gbc.setState(0x8ba8, 0xd344, 0xa5b0, 0x3eb6, 0x7a13, 0x17a, 0x1, 0x0);
        gbc.writeMem(0x8ba8, { 0x28, 0xc4 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xd344, gbc.sp());
        EXPECT(0x8b6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8ba8));
        EXPECT(0xc4, gbc.readMem(0x8ba9));
        // 28 029C
        gbc.setState(0x2efd, 0x5344, 0xc30, 0xd96b, 0x4823, 0x9f61, 0x1, 0x1);
        gbc.writeMem(0x2efd, { 0x28, 0x39 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x5344, gbc.sp());
        EXPECT(0x2eff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 029D
        gbc.setState(0x2dea, 0xd277, 0x12b0, 0xb194, 0x903f, 0x5e61, 0x0, 0x1);
        gbc.writeMem(0x2dea, { 0x28, 0x38 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xd277, gbc.sp());
        EXPECT(0x2e24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 029E
        gbc.setState(0x21ea, 0x9224, 0xbb70, 0xa226, 0x2a03, 0xdfa1, 0x0, 0x1);
        gbc.writeMem(0x21ea, { 0x28, 0xfb });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x9224, gbc.sp());
        EXPECT(0x21ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 029F
        gbc.setState(0x4859, 0x6304, 0x1650, 0xb63b, 0x2b9d, 0x35d1, 0x1, 0x0);
        gbc.writeMem(0x4859, { 0x28, 0x90 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x6304, gbc.sp());
        EXPECT(0x485b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02A0
        gbc.setState(0x4fc9, 0x36c, 0x1050, 0xc3a1, 0xd7f9, 0x2271, 0x0, 0x0);
        gbc.writeMem(0x4fc9, { 0x28, 0x66 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x36c, gbc.sp());
        EXPECT(0x4fcb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02A1
        gbc.setState(0xd2a9, 0x655d, 0x8c60, 0xd162, 0xa581, 0xc966, 0x1, 0x1);
        gbc.writeMem(0xd2a9, { 0x28, 0x79 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x655d, gbc.sp());
        EXPECT(0xd2ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd2a9));
        EXPECT(0x79, gbc.readMem(0xd2aa));
        // 28 02A2
        gbc.setState(0x4914, 0x184d, 0xf220, 0x3fa2, 0xcc0, 0xe98, 0x0, 0x1);
        gbc.writeMem(0x4914, { 0x28, 0x8c });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x184d, gbc.sp());
        EXPECT(0x4916, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02A3
        gbc.setState(0x543, 0x166b, 0x1080, 0x63e6, 0xa6f4, 0xed0, 0x0, 0x1);
        gbc.writeMem(0x543, { 0x28, 0x1c });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x166b, gbc.sp());
        EXPECT(0x561, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02A4
        gbc.setState(0x648c, 0xc118, 0x1440, 0xcc8, 0x8fa3, 0xb27d, 0x1, 0x0);
        gbc.writeMem(0x648c, { 0x28, 0xb3 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xc118, gbc.sp());
        EXPECT(0x648e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02A5
        gbc.setState(0x9de6, 0x81c6, 0x750, 0x2982, 0xbd82, 0x92c3, 0x1, 0x0);
        gbc.writeMem(0x9de6, { 0x28, 0x41 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x81c6, gbc.sp());
        EXPECT(0x9de8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9de6));
        EXPECT(0x41, gbc.readMem(0x9de7));
        // 28 02A6
        gbc.setState(0x1cd, 0xce78, 0x9ac0, 0xd2c2, 0xf05b, 0x3839, 0x0, 0x1);
        gbc.writeMem(0x1cd, { 0x28, 0x3c });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xce78, gbc.sp());
        EXPECT(0x20b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02A7
        gbc.setState(0x7a7d, 0x7f6, 0xa7c0, 0xf811, 0xb24e, 0x83d3, 0x0, 0x0);
        gbc.writeMem(0x7a7d, { 0x28, 0xd8 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x7f6, gbc.sp());
        EXPECT(0x7a57, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02A8
        gbc.setState(0x65e4, 0x6838, 0xeee0, 0x10a3, 0xf423, 0x5718, 0x1, 0x1);
        gbc.writeMem(0x65e4, { 0x28, 0x4 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x6838, gbc.sp());
        EXPECT(0x65ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02AA
        gbc.setState(0xc9ed, 0x7845, 0x66d0, 0x7efe, 0x63eb, 0xe462, 0x1, 0x1);
        gbc.writeMem(0xc9ed, { 0x28, 0x5b });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x7845, gbc.sp());
        EXPECT(0xca4a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc9ed));
        EXPECT(0x5b, gbc.readMem(0xc9ee));
        // 28 02AB
        gbc.setState(0x53ad, 0xc9bc, 0x92c0, 0x61ef, 0xc352, 0xf25e, 0x0, 0x0);
        gbc.writeMem(0x53ad, { 0x28, 0x2 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xc9bc, gbc.sp());
        EXPECT(0x53b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02AC
        gbc.setState(0x18a1, 0x640e, 0xf190, 0xf3b7, 0x69d8, 0x4258, 0x0, 0x1);
        gbc.writeMem(0x18a1, { 0x28, 0xb4 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x640e, gbc.sp());
        EXPECT(0x1857, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02AD
        gbc.setState(0xa835, 0xc212, 0x6c70, 0x20c0, 0x7904, 0x5ec1, 0x0, 0x0);
        gbc.writeMem(0xa835, { 0x28, 0xc3 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xc212, gbc.sp());
        EXPECT(0xa837, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa835));
        EXPECT(0xc3, gbc.readMem(0xa836));
        // 28 02AE
        gbc.setState(0xccfe, 0x429d, 0x9a20, 0xa582, 0xe39e, 0x218d, 0x0, 0x1);
        gbc.writeMem(0xccfe, { 0x28, 0x4 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x429d, gbc.sp());
        EXPECT(0xcd00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xccfe));
        EXPECT(0x4, gbc.readMem(0xccff));
        // 28 02AF
        gbc.setState(0x4b1d, 0x4ca4, 0xf390, 0x4f32, 0xe806, 0xd495, 0x1, 0x1);
        gbc.writeMem(0x4b1d, { 0x28, 0x45 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x4ca4, gbc.sp());
        EXPECT(0x4b64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02B0
        gbc.setState(0xaa07, 0x632b, 0xa800, 0x1edb, 0xa570, 0x36b9, 0x1, 0x1);
        gbc.writeMem(0xaa07, { 0x28, 0xa4 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x632b, gbc.sp());
        EXPECT(0xaa09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xaa07));
        EXPECT(0xa4, gbc.readMem(0xaa08));
        // 28 02B1
        gbc.setState(0x75f0, 0xc148, 0x6960, 0xd3e6, 0xe56c, 0x6795, 0x1, 0x0);
        gbc.writeMem(0x75f0, { 0x28, 0xb9 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xc148, gbc.sp());
        EXPECT(0x75f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02B2
        gbc.setState(0x44e3, 0x21da, 0x6e0, 0x3016, 0xb188, 0xbe33, 0x0, 0x1);
        gbc.writeMem(0x44e3, { 0x28, 0xa5 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x21da, gbc.sp());
        EXPECT(0x448a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02B3
        gbc.setState(0x7487, 0x7739, 0x2d80, 0xc4d6, 0x64cd, 0x7807, 0x1, 0x0);
        gbc.writeMem(0x7487, { 0x28, 0xe5 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x7739, gbc.sp());
        EXPECT(0x746e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02B4
        gbc.setState(0x73bf, 0x4113, 0x16a0, 0x78c6, 0xaae, 0x2ca7, 0x0, 0x1);
        gbc.writeMem(0x73bf, { 0x28, 0x4a });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x4113, gbc.sp());
        EXPECT(0x740b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02B5
        gbc.setState(0x9e9e, 0x197a, 0x3f90, 0xcd79, 0x69e4, 0x6c25, 0x0, 0x1);
        gbc.writeMem(0x9e9e, { 0x28, 0x9b });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x197a, gbc.sp());
        EXPECT(0x9e3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9e9e));
        EXPECT(0x9b, gbc.readMem(0x9e9f));
        // 28 02B7
        gbc.setState(0x2956, 0xc7ba, 0xd640, 0x229a, 0x372, 0xa146, 0x0, 0x0);
        gbc.writeMem(0x2956, { 0x28, 0x61 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xc7ba, gbc.sp());
        EXPECT(0x2958, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02B8
        gbc.setState(0x101, 0xeb91, 0x9dd0, 0x87de, 0x4b89, 0x8711, 0x1, 0x1);
        gbc.writeMem(0x101, { 0x28, 0x74 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xeb91, gbc.sp());
        EXPECT(0x177, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02B9
        gbc.setState(0xc510, 0x2714, 0x4dc0, 0x41bc, 0x2753, 0x8189, 0x1, 0x1);
        gbc.writeMem(0xc510, { 0x28, 0xad });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x2714, gbc.sp());
        EXPECT(0xc4bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc510));
        EXPECT(0xad, gbc.readMem(0xc511));
        // 28 02BB
        gbc.setState(0x8a0a, 0x6b41, 0xc170, 0x5112, 0xa3d8, 0xae0d, 0x1, 0x1);
        gbc.writeMem(0x8a0a, { 0x28, 0xf5 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x6b41, gbc.sp());
        EXPECT(0x8a0c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8a0a));
        EXPECT(0xf5, gbc.readMem(0x8a0b));
        // 28 02BC
        gbc.setState(0xa738, 0x9a14, 0x1db0, 0xe61d, 0xafe4, 0x703f, 0x1, 0x0);
        gbc.writeMem(0xa738, { 0x28, 0xd1 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x9a14, gbc.sp());
        EXPECT(0xa70b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa738));
        EXPECT(0xd1, gbc.readMem(0xa739));
        // 28 02BD
        gbc.setState(0xc631, 0x1873, 0x24c0, 0xf6c9, 0xec4b, 0x709b, 0x1, 0x1);
        gbc.writeMem(0xc631, { 0x28, 0xd4 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x1873, gbc.sp());
        EXPECT(0xc607, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc631));
        EXPECT(0xd4, gbc.readMem(0xc632));
        // 28 02BE
        gbc.setState(0x691d, 0xd641, 0x9020, 0xe827, 0x2d90, 0x8923, 0x0, 0x1);
        gbc.writeMem(0x691d, { 0x28, 0x94 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xd641, gbc.sp());
        EXPECT(0x691f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02BF
        gbc.setState(0x5aa1, 0x1bb3, 0xed60, 0x76a8, 0x4b6, 0xf9fd, 0x1, 0x1);
        gbc.writeMem(0x5aa1, { 0x28, 0xb2 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x1bb3, gbc.sp());
        EXPECT(0x5aa3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02C0
        gbc.setState(0xc1ba, 0x6128, 0x1550, 0xf062, 0x4792, 0xa292, 0x1, 0x0);
        gbc.writeMem(0xc1ba, { 0x28, 0xf0 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x6128, gbc.sp());
        EXPECT(0xc1bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc1ba));
        EXPECT(0xf0, gbc.readMem(0xc1bb));
        // 28 02C2
        gbc.setState(0x77df, 0xc331, 0xb9f0, 0xbd98, 0xd614, 0xde57, 0x1, 0x0);
        gbc.writeMem(0x77df, { 0x28, 0x5d });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xc331, gbc.sp());
        EXPECT(0x783e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02C3
        gbc.setState(0x5ffa, 0x3e9b, 0x6c20, 0x52b4, 0xddb8, 0xe1ec, 0x0, 0x0);
        gbc.writeMem(0x5ffa, { 0x28, 0x57 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x3e9b, gbc.sp());
        EXPECT(0x5ffc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02C4
        gbc.setState(0x818b, 0xa420, 0x31a0, 0xe9e7, 0xf983, 0xa931, 0x1, 0x0);
        gbc.writeMem(0x818b, { 0x28, 0x93 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xa420, gbc.sp());
        EXPECT(0x8120, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x818b));
        EXPECT(0x93, gbc.readMem(0x818c));
        // 28 02C5
        gbc.setState(0x65cf, 0x923c, 0x7a60, 0x311c, 0xf44f, 0x3577, 0x0, 0x0);
        gbc.writeMem(0x65cf, { 0x28, 0x22 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x923c, gbc.sp());
        EXPECT(0x65d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02C6
        gbc.setState(0x18cc, 0xbe71, 0xd330, 0xbf9d, 0xa988, 0x853f, 0x0, 0x1);
        gbc.writeMem(0x18cc, { 0x28, 0x81 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xbe71, gbc.sp());
        EXPECT(0x18ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02C7
        gbc.setState(0x25ba, 0x2c28, 0xaac0, 0x2ad3, 0x96bc, 0x4b83, 0x1, 0x0);
        gbc.writeMem(0x25ba, { 0x28, 0xed });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x2c28, gbc.sp());
        EXPECT(0x25a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02C8
        gbc.setState(0x6119, 0xd776, 0xe820, 0xca2d, 0x533f, 0xaa94, 0x0, 0x1);
        gbc.writeMem(0x6119, { 0x28, 0x67 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xd776, gbc.sp());
        EXPECT(0x611b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02C9
        gbc.setState(0x457a, 0x8690, 0x2f00, 0x5ee2, 0xa2ff, 0x7b6, 0x0, 0x1);
        gbc.writeMem(0x457a, { 0x28, 0x6 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x8690, gbc.sp());
        EXPECT(0x457c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02CA
        gbc.setState(0x3a06, 0x887d, 0x2350, 0x2ab, 0x3695, 0x49c9, 0x1, 0x1);
        gbc.writeMem(0x3a06, { 0x28, 0x2 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x887d, gbc.sp());
        EXPECT(0x3a08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02CB
        gbc.setState(0xb78d, 0xfad9, 0xeb00, 0x51a2, 0xd92f, 0x96cd, 0x0, 0x0);
        gbc.writeMem(0xb78d, { 0x28, 0xf });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xfad9, gbc.sp());
        EXPECT(0xb78f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb78d));
        EXPECT(0xf, gbc.readMem(0xb78e));
        // 28 02CC
        gbc.setState(0x3944, 0x8c49, 0xf6c0, 0x3160, 0x7681, 0xee5d, 0x1, 0x0);
        gbc.writeMem(0x3944, { 0x28, 0x9f });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x8c49, gbc.sp());
        EXPECT(0x38e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02CD
        gbc.setState(0xd432, 0x9e60, 0x1d10, 0xb3cf, 0x98cb, 0x7f83, 0x1, 0x0);
        gbc.writeMem(0xd432, { 0x28, 0xc1 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x9e60, gbc.sp());
        EXPECT(0xd434, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd432));
        EXPECT(0xc1, gbc.readMem(0xd433));
        // 28 02CE
        gbc.setState(0x3bbd, 0x3388, 0x7ce0, 0x9d85, 0x25e1, 0x61df, 0x1, 0x1);
        gbc.writeMem(0x3bbd, { 0x28, 0x50 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x3388, gbc.sp());
        EXPECT(0x3c0f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02CF
        gbc.setState(0xe2d9, 0x6c0f, 0x29c0, 0x1217, 0x1e60, 0x6cf1, 0x1, 0x0);
        gbc.writeMem(0xe2d9, { 0x28, 0xc0 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x6c0f, gbc.sp());
        EXPECT(0xe29b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe2d9));
        EXPECT(0xc0, gbc.readMem(0xe2da));
        // 28 02D0
        gbc.setState(0x24e4, 0xb94, 0x4410, 0x3883, 0x2e7c, 0x1f09, 0x0, 0x0);
        gbc.writeMem(0x24e4, { 0x28, 0xb2 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xb94, gbc.sp());
        EXPECT(0x24e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02D2
        gbc.setState(0x7d81, 0x104a, 0x18c0, 0x673e, 0x41d7, 0x654d, 0x1, 0x0);
        gbc.writeMem(0x7d81, { 0x28, 0x84 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x104a, gbc.sp());
        EXPECT(0x7d07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02D3
        gbc.setState(0x1cee, 0xfd7e, 0x9970, 0x5916, 0xe86f, 0xd2f5, 0x1, 0x0);
        gbc.writeMem(0x1cee, { 0x28, 0x68 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xfd7e, gbc.sp());
        EXPECT(0x1cf0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02D4
        gbc.setState(0x13ad, 0x45ad, 0xdcb0, 0xefa2, 0x485d, 0x81c5, 0x1, 0x1);
        gbc.writeMem(0x13ad, { 0x28, 0x3d });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x45ad, gbc.sp());
        EXPECT(0x13ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02D5
        gbc.setState(0x169f, 0xe2a7, 0x12b0, 0x8e0e, 0x5371, 0xa22a, 0x0, 0x0);
        gbc.writeMem(0x169f, { 0x28, 0xbb });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xe2a7, gbc.sp());
        EXPECT(0x165c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02D6
        gbc.setState(0x4b0, 0x7e6f, 0x6780, 0xd3ee, 0xcdb4, 0x88c9, 0x1, 0x1);
        gbc.writeMem(0x4b0, { 0x28, 0x1a });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x7e6f, gbc.sp());
        EXPECT(0x4cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02D7
        gbc.setState(0x2ac0, 0xb37e, 0x6e40, 0xa3c0, 0xf9e9, 0x669b, 0x0, 0x1);
        gbc.writeMem(0x2ac0, { 0x28, 0x2f });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xb37e, gbc.sp());
        EXPECT(0x2ac2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02D8
        gbc.setState(0x1652, 0xacf9, 0x5da0, 0xc864, 0xf967, 0x6d8b, 0x1, 0x0);
        gbc.writeMem(0x1652, { 0x28, 0xdc });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xacf9, gbc.sp());
        EXPECT(0x1630, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02D9
        gbc.setState(0x57f3, 0xbf91, 0xba90, 0x356a, 0x81b, 0x4c87, 0x0, 0x0);
        gbc.writeMem(0x57f3, { 0x28, 0x86 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xbf91, gbc.sp());
        EXPECT(0x577b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02DA
        gbc.setState(0xc236, 0x6831, 0x40f0, 0x6389, 0xdf83, 0xaad3, 0x0, 0x0);
        gbc.writeMem(0xc236, { 0x28, 0xa7 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x6831, gbc.sp());
        EXPECT(0xc1df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc236));
        EXPECT(0xa7, gbc.readMem(0xc237));
        // 28 02DB
        gbc.setState(0x99b7, 0xce9d, 0x6d30, 0x3a0c, 0x3297, 0x944b, 0x1, 0x1);
        gbc.writeMem(0x99b7, { 0x28, 0xd7 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xce9d, gbc.sp());
        EXPECT(0x99b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x99b7));
        EXPECT(0xd7, gbc.readMem(0x99b8));
        // 28 02DC
        gbc.setState(0xa3c6, 0x2038, 0xc9a0, 0x89a5, 0xe7f7, 0xa0db, 0x0, 0x1);
        gbc.writeMem(0xa3c6, { 0x28, 0x43 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x2038, gbc.sp());
        EXPECT(0xa40b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa3c6));
        EXPECT(0x43, gbc.readMem(0xa3c7));
        // 28 02DD
        gbc.setState(0xdc88, 0x4708, 0x2ab0, 0x5c9, 0x1747, 0xd5e4, 0x1, 0x0);
        gbc.writeMem(0xdc88, { 0x28, 0x26 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x4708, gbc.sp());
        EXPECT(0xdcb0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xdc88));
        EXPECT(0x26, gbc.readMem(0xdc89));
        // 28 02DF
        gbc.setState(0x535f, 0xff5b, 0x3e80, 0x7c22, 0x2668, 0xccd9, 0x0, 0x1);
        gbc.writeMem(0x535f, { 0x28, 0x85 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xff5b, gbc.sp());
        EXPECT(0x52e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02E0
        gbc.setState(0x39c6, 0x9d87, 0xced0, 0x374, 0xb521, 0x8029, 0x1, 0x1);
        gbc.writeMem(0x39c6, { 0x28, 0xa8 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x9d87, gbc.sp());
        EXPECT(0x3970, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02E1
        gbc.setState(0xe5, 0x89c1, 0xccf0, 0x73f7, 0x4da, 0xaef2, 0x0, 0x0);
        gbc.writeMem(0xe5, { 0x28, 0x69 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x89c1, gbc.sp());
        EXPECT(0x150, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02E2
        gbc.setState(0xb3e9, 0x1f1d, 0x4750, 0xb05d, 0xfc58, 0xeff9, 0x1, 0x1);
        gbc.writeMem(0xb3e9, { 0x28, 0xd });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x1f1d, gbc.sp());
        EXPECT(0xb3eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb3e9));
        EXPECT(0xd, gbc.readMem(0xb3ea));
        // 28 02E3
        gbc.setState(0xe744, 0xe15f, 0xb710, 0x69f3, 0xabe3, 0xeac1, 0x0, 0x0);
        gbc.writeMem(0xe744, { 0x28, 0x77 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xe15f, gbc.sp());
        EXPECT(0xe746, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe744));
        EXPECT(0x77, gbc.readMem(0xe745));
        // 28 02E4
        gbc.setState(0xe709, 0xf8c5, 0x5130, 0x3a2e, 0xbc0f, 0x9123, 0x0, 0x1);
        gbc.writeMem(0xe709, { 0x28, 0x3d });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xf8c5, gbc.sp());
        EXPECT(0xe70b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe709));
        EXPECT(0x3d, gbc.readMem(0xe70a));
        // 28 02E5
        gbc.setState(0xe49d, 0x7626, 0xbaa0, 0x4c59, 0x583e, 0xed8b, 0x0, 0x1);
        gbc.writeMem(0xe49d, { 0x28, 0x7 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x7626, gbc.sp());
        EXPECT(0xe4a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe49d));
        EXPECT(0x7, gbc.readMem(0xe49e));
        // 28 02E6
        gbc.setState(0x8e9d, 0x912a, 0x4e00, 0x6557, 0x496c, 0x374a, 0x0, 0x1);
        gbc.writeMem(0x8e9d, { 0x28, 0x6a });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x912a, gbc.sp());
        EXPECT(0x8e9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8e9d));
        EXPECT(0x6a, gbc.readMem(0x8e9e));
        // 28 02E7
        gbc.setState(0x4f06, 0x70be, 0x5600, 0x6404, 0x980c, 0xa929, 0x0, 0x1);
        gbc.writeMem(0x4f06, { 0x28, 0xc6 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x70be, gbc.sp());
        EXPECT(0x4f08, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02E8
        gbc.setState(0xcef6, 0x5ed5, 0xad40, 0x9bc1, 0x192a, 0x4db, 0x1, 0x0);
        gbc.writeMem(0xcef6, { 0x28, 0x7d });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x5ed5, gbc.sp());
        EXPECT(0xcef8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcef6));
        EXPECT(0x7d, gbc.readMem(0xcef7));
        // 28 02E9
        gbc.setState(0x515f, 0xba6c, 0xd50, 0x3482, 0xb740, 0x75bc, 0x1, 0x1);
        gbc.writeMem(0x515f, { 0x28, 0x28 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xba6c, gbc.sp());
        EXPECT(0x5161, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02EA
        gbc.setState(0x18cb, 0x766b, 0x3780, 0x2e80, 0xba61, 0x7e0a, 0x0, 0x0);
        gbc.writeMem(0x18cb, { 0x28, 0xb5 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x766b, gbc.sp());
        EXPECT(0x1882, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02EB
        gbc.setState(0xd663, 0x30e7, 0xa5a0, 0x318, 0x6283, 0x50cd, 0x1, 0x1);
        gbc.writeMem(0xd663, { 0x28, 0x75 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x30e7, gbc.sp());
        EXPECT(0xd6da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd663));
        EXPECT(0x75, gbc.readMem(0xd664));
        // 28 02EC
        gbc.setState(0xeeae, 0xe0b2, 0xb9d0, 0x61b3, 0xdbac, 0x2999, 0x1, 0x0);
        gbc.writeMem(0xeeae, { 0x28, 0x46 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xe0b2, gbc.sp());
        EXPECT(0xeef6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xeeae));
        EXPECT(0x46, gbc.readMem(0xeeaf));
        // 28 02ED
        gbc.setState(0x1da3, 0x9f11, 0x560, 0xa761, 0xa312, 0xe1d1, 0x0, 0x1);
        gbc.writeMem(0x1da3, { 0x28, 0xec });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x9f11, gbc.sp());
        EXPECT(0x1da5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02EE
        gbc.setState(0xdfea, 0x35a7, 0xbc00, 0xbd6c, 0x7e0d, 0xc6ff, 0x0, 0x1);
        gbc.writeMem(0xdfea, { 0x28, 0x55 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x35a7, gbc.sp());
        EXPECT(0xdfec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xdfea));
        EXPECT(0x55, gbc.readMem(0xdfeb));
        // 28 02EF
        gbc.setState(0x80d9, 0x8b1f, 0x2270, 0xcbfc, 0xcd79, 0x7257, 0x1, 0x0);
        gbc.writeMem(0x80d9, { 0x28, 0x19 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x8b1f, gbc.sp());
        EXPECT(0x80db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x80d9));
        EXPECT(0x19, gbc.readMem(0x80da));
        // 28 02F0
        gbc.setState(0xc6e9, 0x3dde, 0xe910, 0xc4bf, 0xeeb2, 0x3a72, 0x1, 0x0);
        gbc.writeMem(0xc6e9, { 0x28, 0x1a });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x3dde, gbc.sp());
        EXPECT(0xc6eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc6e9));
        EXPECT(0x1a, gbc.readMem(0xc6ea));
        // 28 02F1
        gbc.setState(0xe093, 0x1b19, 0xf50, 0x26b1, 0x9c6d, 0xdadc, 0x0, 0x0);
        gbc.writeMem(0xe093, { 0x28, 0xd3 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x1b19, gbc.sp());
        EXPECT(0xe095, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe093));
        EXPECT(0xd3, gbc.readMem(0xe094));
        // 28 02F2
        gbc.setState(0x61bc, 0x265a, 0x1280, 0xbaa0, 0xd764, 0x8a4c, 0x1, 0x0);
        gbc.writeMem(0x61bc, { 0x28, 0x94 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x265a, gbc.sp());
        EXPECT(0x6152, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02F3
        gbc.setState(0x6fdc, 0xf35, 0x59e0, 0x7d83, 0x5295, 0xe1e2, 0x1, 0x0);
        gbc.writeMem(0x6fdc, { 0x28, 0x51 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xf35, gbc.sp());
        EXPECT(0x702f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02F4
        gbc.setState(0x2573, 0x9094, 0x9410, 0xbae0, 0xaf8c, 0xd78a, 0x1, 0x0);
        gbc.writeMem(0x2573, { 0x28, 0xa8 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x9094, gbc.sp());
        EXPECT(0x2575, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02F5
        gbc.setState(0x4561, 0xad22, 0x2330, 0x165e, 0xb20, 0xb886, 0x0, 0x0);
        gbc.writeMem(0x4561, { 0x28, 0x78 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xad22, gbc.sp());
        EXPECT(0x4563, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02F6
        gbc.setState(0x7bdd, 0x6619, 0x9500, 0xbb03, 0x315a, 0x2f56, 0x0, 0x0);
        gbc.writeMem(0x7bdd, { 0x28, 0x6b });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x6619, gbc.sp());
        EXPECT(0x7bdf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02F7
        gbc.setState(0xc77d, 0xb82c, 0x51e0, 0xcf13, 0x5b44, 0x51b6, 0x0, 0x1);
        gbc.writeMem(0xc77d, { 0x28, 0x39 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xb82c, gbc.sp());
        EXPECT(0xc7b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc77d));
        EXPECT(0x39, gbc.readMem(0xc77e));
        // 28 02F9
        gbc.setState(0xebfb, 0x1dcf, 0xbcd0, 0xc966, 0x5914, 0x8477, 0x0, 0x0);
        gbc.writeMem(0xebfb, { 0x28, 0xb7 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x1dcf, gbc.sp());
        EXPECT(0xebb4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xebfb));
        EXPECT(0xb7, gbc.readMem(0xebfc));
        // 28 02FA
        gbc.setState(0x728d, 0x6feb, 0xe170, 0x4355, 0x6606, 0x90a1, 0x1, 0x0);
        gbc.writeMem(0x728d, { 0x28, 0xc9 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x6feb, gbc.sp());
        EXPECT(0x728f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 02FB
        gbc.setState(0x9df2, 0xa6cf, 0xe600, 0xc4a5, 0x2828, 0x9a27, 0x1, 0x0);
        gbc.writeMem(0x9df2, { 0x28, 0x7f });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xa6cf, gbc.sp());
        EXPECT(0x9df4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9df2));
        EXPECT(0x7f, gbc.readMem(0x9df3));
        // 28 02FC
        gbc.setState(0x51de, 0xc81a, 0xa180, 0x25dd, 0x6658, 0xca96, 0x0, 0x0);
        gbc.writeMem(0x51de, { 0x28, 0xce });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xc81a, gbc.sp());
        EXPECT(0x51ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02FD
        gbc.setState(0xc1ad, 0x887e, 0xc1c0, 0xec48, 0x8c46, 0x293f, 0x0, 0x0);
        gbc.writeMem(0xc1ad, { 0x28, 0xf7 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x887e, gbc.sp());
        EXPECT(0xc1a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc1ad));
        EXPECT(0xf7, gbc.readMem(0xc1ae));
        // 28 02FE
        gbc.setState(0x940, 0xab5f, 0xc7a0, 0x9e3e, 0xfc74, 0x5058, 0x0, 0x0);
        gbc.writeMem(0x940, { 0x28, 0x5a });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xab5f, gbc.sp());
        EXPECT(0x99c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 02FF
        gbc.setState(0x3624, 0x39d0, 0x9d40, 0x720d, 0xe235, 0x978c, 0x0, 0x1);
        gbc.writeMem(0x3624, { 0x28, 0xf2 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x39d0, gbc.sp());
        EXPECT(0x3626, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0300
        gbc.setState(0x5b71, 0x61b4, 0x86d0, 0x7028, 0xc836, 0x9288, 0x0, 0x1);
        gbc.writeMem(0x5b71, { 0x28, 0xb6 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x61b4, gbc.sp());
        EXPECT(0x5b29, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0301
        gbc.setState(0x67a9, 0x10c5, 0x9d00, 0xc650, 0xb9f9, 0x246c, 0x0, 0x1);
        gbc.writeMem(0x67a9, { 0x28, 0x62 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x10c5, gbc.sp());
        EXPECT(0x67ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0302
        gbc.setState(0x550f, 0xd36, 0xc8f0, 0xc4ff, 0x904d, 0x61ad, 0x1, 0x1);
        gbc.writeMem(0x550f, { 0x28, 0x1c });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xd36, gbc.sp());
        EXPECT(0x552d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0303
        gbc.setState(0xcd54, 0x197e, 0xa30, 0xcf64, 0x9ed6, 0x32fe, 0x1, 0x1);
        gbc.writeMem(0xcd54, { 0x28, 0x5d });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x197e, gbc.sp());
        EXPECT(0xcd56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcd54));
        EXPECT(0x5d, gbc.readMem(0xcd55));
        // 28 0304
        gbc.setState(0xb70c, 0x5654, 0xbb40, 0xec93, 0x7c6c, 0x1710, 0x1, 0x0);
        gbc.writeMem(0xb70c, { 0x28, 0x29 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x5654, gbc.sp());
        EXPECT(0xb70e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb70c));
        EXPECT(0x29, gbc.readMem(0xb70d));
        // 28 0305
        gbc.setState(0x6772, 0xc867, 0xd200, 0x617, 0x67df, 0x4997, 0x1, 0x1);
        gbc.writeMem(0x6772, { 0x28, 0x60 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xc867, gbc.sp());
        EXPECT(0x6774, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0306
        gbc.setState(0x5743, 0x8427, 0xd880, 0x7b2c, 0x7f70, 0x3a8b, 0x0, 0x0);
        gbc.writeMem(0x5743, { 0x28, 0x20 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x8427, gbc.sp());
        EXPECT(0x5765, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0307
        gbc.setState(0x5aca, 0x530a, 0xee60, 0xc44c, 0xff2a, 0xc275, 0x1, 0x1);
        gbc.writeMem(0x5aca, { 0x28, 0x56 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x530a, gbc.sp());
        EXPECT(0x5acc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0308
        gbc.setState(0x2599, 0x3ba3, 0x9920, 0xcdf1, 0x8ad, 0x5cb6, 0x1, 0x0);
        gbc.writeMem(0x2599, { 0x28, 0x25 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x3ba3, gbc.sp());
        EXPECT(0x259b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0309
        gbc.setState(0x421, 0x49b0, 0xb050, 0x220c, 0x3024, 0x3dfc, 0x1, 0x1);
        gbc.writeMem(0x421, { 0x28, 0xa8 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x49b0, gbc.sp());
        EXPECT(0x423, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 030B
        gbc.setState(0xbe0, 0xa9c5, 0x45f0, 0xabbe, 0x7b90, 0x76f6, 0x1, 0x0);
        gbc.writeMem(0xbe0, { 0x28, 0xeb });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xa9c5, gbc.sp());
        EXPECT(0xbcd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 030C
        gbc.setState(0x5ad0, 0x3f77, 0x140, 0x576e, 0xadec, 0x84f4, 0x1, 0x0);
        gbc.writeMem(0x5ad0, { 0x28, 0x59 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x3f77, gbc.sp());
        EXPECT(0x5ad2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 030D
        gbc.setState(0x2ab8, 0xa45d, 0x6e40, 0xdd9a, 0x6ad2, 0xc4d4, 0x0, 0x1);
        gbc.writeMem(0x2ab8, { 0x28, 0x2 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xa45d, gbc.sp());
        EXPECT(0x2aba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 030E
        gbc.setState(0x6265, 0xc680, 0xa590, 0x6c5d, 0xfcde, 0x257b, 0x1, 0x1);
        gbc.writeMem(0x6265, { 0x28, 0x29 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xc680, gbc.sp());
        EXPECT(0x6290, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 030F
        gbc.setState(0x636f, 0xa691, 0xea50, 0xcd02, 0xa139, 0xba47, 0x1, 0x0);
        gbc.writeMem(0x636f, { 0x28, 0xad });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xa691, gbc.sp());
        EXPECT(0x6371, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0310
        gbc.setState(0xedc1, 0x64f7, 0x2680, 0xf31d, 0xc9b3, 0xb73, 0x1, 0x1);
        gbc.writeMem(0xedc1, { 0x28, 0x71 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x64f7, gbc.sp());
        EXPECT(0xee34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xedc1));
        EXPECT(0x71, gbc.readMem(0xedc2));
        // 28 0311
        gbc.setState(0x50c7, 0x497e, 0x51f0, 0x8d82, 0x34c, 0x4d43, 0x1, 0x0);
        gbc.writeMem(0x50c7, { 0x28, 0x38 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x497e, gbc.sp());
        EXPECT(0x5101, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0312
        gbc.setState(0x88, 0x6723, 0xad40, 0x9ded, 0x3847, 0x3f4, 0x1, 0x0);
        gbc.writeMem(0x88, { 0x28, 0xd5 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x6723, gbc.sp());
        EXPECT(0x8a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0313
        gbc.setState(0x3074, 0xb3d3, 0x8360, 0xe8c3, 0x1a73, 0x6a69, 0x1, 0x1);
        gbc.writeMem(0x3074, { 0x28, 0x0 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xb3d3, gbc.sp());
        EXPECT(0x3076, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0314
        gbc.setState(0x2b82, 0xa875, 0x1450, 0xa6cb, 0xcc6, 0xfb9d, 0x0, 0x1);
        gbc.writeMem(0x2b82, { 0x28, 0xe7 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xa875, gbc.sp());
        EXPECT(0x2b84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0315
        gbc.setState(0xc3c9, 0x2e6, 0xe60, 0x3b5a, 0x8296, 0xdc60, 0x0, 0x1);
        gbc.writeMem(0xc3c9, { 0x28, 0x34 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x2e6, gbc.sp());
        EXPECT(0xc3cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc3c9));
        EXPECT(0x34, gbc.readMem(0xc3ca));
        // 28 0316
        gbc.setState(0x69f4, 0x6b70, 0xeb50, 0xa1ef, 0x17b3, 0x233d, 0x0, 0x0);
        gbc.writeMem(0x69f4, { 0x28, 0x4e });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x6b70, gbc.sp());
        EXPECT(0x69f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0318
        gbc.setState(0x2e43, 0x17ed, 0x4ac0, 0xfee1, 0xc86f, 0x92fc, 0x0, 0x0);
        gbc.writeMem(0x2e43, { 0x28, 0xf0 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x17ed, gbc.sp());
        EXPECT(0x2e35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0319
        gbc.setState(0xee34, 0x2be1, 0x93c0, 0xd01b, 0x1a, 0x42b1, 0x1, 0x1);
        gbc.writeMem(0xee34, { 0x28, 0x9a });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x2be1, gbc.sp());
        EXPECT(0xedd0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xee34));
        EXPECT(0x9a, gbc.readMem(0xee35));
        // 28 031A
        gbc.setState(0x9d88, 0x9cf8, 0x65b0, 0x741c, 0xa576, 0x2ae5, 0x1, 0x1);
        gbc.writeMem(0x9d88, { 0x28, 0x24 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x9cf8, gbc.sp());
        EXPECT(0x9dae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9d88));
        EXPECT(0x24, gbc.readMem(0x9d89));
        // 28 031B
        gbc.setState(0xc18f, 0x896b, 0x8f60, 0x95c0, 0x5824, 0x5fda, 0x0, 0x0);
        gbc.writeMem(0xc18f, { 0x28, 0x46 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x896b, gbc.sp());
        EXPECT(0xc191, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc18f));
        EXPECT(0x46, gbc.readMem(0xc190));
        // 28 031C
        gbc.setState(0x577a, 0xd1fb, 0x8750, 0x15e0, 0x505d, 0xeedb, 0x1, 0x0);
        gbc.writeMem(0x577a, { 0x28, 0x32 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xd1fb, gbc.sp());
        EXPECT(0x577c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 031D
        gbc.setState(0x8cfa, 0x360, 0x3640, 0xd370, 0xeb9b, 0x4a07, 0x1, 0x0);
        gbc.writeMem(0x8cfa, { 0x28, 0xef });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x360, gbc.sp());
        EXPECT(0x8cfc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8cfa));
        EXPECT(0xef, gbc.readMem(0x8cfb));
        // 28 031E
        gbc.setState(0x5fd0, 0xe8d9, 0x62a0, 0x9b7e, 0x1d3a, 0xe8f3, 0x0, 0x0);
        gbc.writeMem(0x5fd0, { 0x28, 0xf4 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xe8d9, gbc.sp());
        EXPECT(0x5fc6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0320
        gbc.setState(0x5322, 0x14d3, 0xcca0, 0x5ad0, 0x2a5e, 0xd2d6, 0x0, 0x0);
        gbc.writeMem(0x5322, { 0x28, 0x81 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x14d3, gbc.sp());
        EXPECT(0x52a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0321
        gbc.setState(0x23eb, 0x811c, 0xabb0, 0xe9f4, 0x851, 0x6f00, 0x0, 0x1);
        gbc.writeMem(0x23eb, { 0x28, 0x4b });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x811c, gbc.sp());
        EXPECT(0x2438, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0322
        gbc.setState(0x2125, 0x4103, 0xfe30, 0x90c6, 0xcb8f, 0x8a35, 0x0, 0x1);
        gbc.writeMem(0x2125, { 0x28, 0x52 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x4103, gbc.sp());
        EXPECT(0x2127, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0323
        gbc.setState(0x48ee, 0xf544, 0x5010, 0xb5e4, 0xdf30, 0x37c6, 0x1, 0x0);
        gbc.writeMem(0x48ee, { 0x28, 0x2a });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xf544, gbc.sp());
        EXPECT(0x48f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0324
        gbc.setState(0x404c, 0x6797, 0xa3f0, 0xf33f, 0xd1fc, 0x90e0, 0x1, 0x0);
        gbc.writeMem(0x404c, { 0x28, 0x29 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x6797, gbc.sp());
        EXPECT(0x4077, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0325
        gbc.setState(0x998d, 0xa404, 0xbff0, 0xe54e, 0xfb79, 0x489f, 0x1, 0x1);
        gbc.writeMem(0x998d, { 0x28, 0x9e });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xa404, gbc.sp());
        EXPECT(0x992d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x998d));
        EXPECT(0x9e, gbc.readMem(0x998e));
        // 28 0326
        gbc.setState(0x5192, 0x9911, 0x4530, 0xc49c, 0xcabb, 0x29fc, 0x1, 0x0);
        gbc.writeMem(0x5192, { 0x28, 0x99 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x9911, gbc.sp());
        EXPECT(0x5194, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0327
        gbc.setState(0x45fa, 0x38cc, 0xf9f0, 0x7746, 0x106a, 0x3b42, 0x1, 0x0);
        gbc.writeMem(0x45fa, { 0x28, 0xbf });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x38cc, gbc.sp());
        EXPECT(0x45bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0328
        gbc.setState(0xb204, 0x86ee, 0xfd80, 0xdc0c, 0x4acf, 0x2727, 0x1, 0x1);
        gbc.writeMem(0xb204, { 0x28, 0x90 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x86ee, gbc.sp());
        EXPECT(0xb196, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb204));
        EXPECT(0x90, gbc.readMem(0xb205));
        // 28 0329
        gbc.setState(0x9ca2, 0x1866, 0x3610, 0x41fc, 0xfef2, 0xa225, 0x1, 0x0);
        gbc.writeMem(0x9ca2, { 0x28, 0xe9 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x1866, gbc.sp());
        EXPECT(0x9ca4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9ca2));
        EXPECT(0xe9, gbc.readMem(0x9ca3));
        // 28 032B
        gbc.setState(0xcc35, 0x51c6, 0xe180, 0x1287, 0x957b, 0x5538, 0x0, 0x0);
        gbc.writeMem(0xcc35, { 0x28, 0x3f });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x51c6, gbc.sp());
        EXPECT(0xcc76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcc35));
        EXPECT(0x3f, gbc.readMem(0xcc36));
        // 28 032C
        gbc.setState(0x5302, 0xe2ce, 0xa430, 0x4867, 0x1e45, 0x1bf6, 0x0, 0x1);
        gbc.writeMem(0x5302, { 0x28, 0xb7 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xe2ce, gbc.sp());
        EXPECT(0x5304, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 032D
        gbc.setState(0xbf01, 0x2962, 0xdc70, 0x37b4, 0x8acc, 0x8ce8, 0x1, 0x0);
        gbc.writeMem(0xbf01, { 0x28, 0x38 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x2962, gbc.sp());
        EXPECT(0xbf03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xbf01));
        EXPECT(0x38, gbc.readMem(0xbf02));
        // 28 032E
        gbc.setState(0x1836, 0x78fe, 0x4310, 0x11b1, 0xd351, 0xce5a, 0x1, 0x1);
        gbc.writeMem(0x1836, { 0x28, 0x9e });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x78fe, gbc.sp());
        EXPECT(0x1838, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 032F
        gbc.setState(0x32e8, 0x399b, 0x5370, 0x114f, 0x780e, 0xf2ce, 0x0, 0x1);
        gbc.writeMem(0x32e8, { 0x28, 0x2b });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x399b, gbc.sp());
        EXPECT(0x32ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0330
        gbc.setState(0xea65, 0x35f0, 0xf520, 0xcaea, 0xc9b0, 0x7915, 0x1, 0x1);
        gbc.writeMem(0xea65, { 0x28, 0xa5 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x35f0, gbc.sp());
        EXPECT(0xea67, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xea65));
        EXPECT(0xa5, gbc.readMem(0xea66));
        // 28 0331
        gbc.setState(0xb717, 0xc4fb, 0x3770, 0x1387, 0x46f6, 0x4ea7, 0x1, 0x0);
        gbc.writeMem(0xb717, { 0x28, 0x92 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xc4fb, gbc.sp());
        EXPECT(0xb719, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb717));
        EXPECT(0x92, gbc.readMem(0xb718));
        // 28 0332
        gbc.setState(0x9d63, 0xd83e, 0xb060, 0x41ae, 0x3968, 0x609b, 0x0, 0x1);
        gbc.writeMem(0x9d63, { 0x28, 0xb4 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xd83e, gbc.sp());
        EXPECT(0x9d65, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9d63));
        EXPECT(0xb4, gbc.readMem(0x9d64));
        // 28 0333
        gbc.setState(0x5e54, 0x5616, 0x8700, 0xbf71, 0xdeb7, 0x1734, 0x1, 0x1);
        gbc.writeMem(0x5e54, { 0x28, 0x8e });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x5616, gbc.sp());
        EXPECT(0x5e56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0334
        gbc.setState(0xeac7, 0xc4b2, 0xb500, 0x3ead, 0x8992, 0x85a2, 0x1, 0x1);
        gbc.writeMem(0xeac7, { 0x28, 0xef });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xc4b2, gbc.sp());
        EXPECT(0xeac9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xeac7));
        EXPECT(0xef, gbc.readMem(0xeac8));
        // 28 0335
        gbc.setState(0x8976, 0x258f, 0x1730, 0xc3cb, 0xd181, 0x410b, 0x1, 0x1);
        gbc.writeMem(0x8976, { 0x28, 0x47 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x258f, gbc.sp());
        EXPECT(0x8978, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8976));
        EXPECT(0x47, gbc.readMem(0x8977));
        // 28 0336
        gbc.setState(0xb7cf, 0xba54, 0xa500, 0x8675, 0x8abb, 0xa03e, 0x0, 0x1);
        gbc.writeMem(0xb7cf, { 0x28, 0x38 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xba54, gbc.sp());
        EXPECT(0xb7d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb7cf));
        EXPECT(0x38, gbc.readMem(0xb7d0));
        // 28 0337
        gbc.setState(0x6209, 0xc4e0, 0x1c0, 0xe256, 0x42e1, 0x4e08, 0x0, 0x1);
        gbc.writeMem(0x6209, { 0x28, 0xf0 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xc4e0, gbc.sp());
        EXPECT(0x61fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0338
        gbc.setState(0x363a, 0xfc38, 0xd9f0, 0x284, 0xefb7, 0x6523, 0x1, 0x0);
        gbc.writeMem(0x363a, { 0x28, 0xe2 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xfc38, gbc.sp());
        EXPECT(0x361e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0339
        gbc.setState(0xa57, 0xcc6d, 0xa410, 0x4e8, 0xbb8a, 0x44bb, 0x0, 0x1);
        gbc.writeMem(0xa57, { 0x28, 0xc5 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xcc6d, gbc.sp());
        EXPECT(0xa59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 033A
        gbc.setState(0xda77, 0x8e3, 0x49c0, 0xeb73, 0x52a3, 0x859d, 0x1, 0x1);
        gbc.writeMem(0xda77, { 0x28, 0xeb });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x8e3, gbc.sp());
        EXPECT(0xda64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xda77));
        EXPECT(0xeb, gbc.readMem(0xda78));
        // 28 033B
        gbc.setState(0xfb5, 0x11a, 0xb630, 0xb182, 0xd942, 0x719, 0x0, 0x0);
        gbc.writeMem(0xfb5, { 0x28, 0xef });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x11a, gbc.sp());
        EXPECT(0xfb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 033C
        gbc.setState(0x4e55, 0xac1a, 0x9fb0, 0xe0d1, 0xf58, 0xce68, 0x0, 0x0);
        gbc.writeMem(0x4e55, { 0x28, 0xf0 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xac1a, gbc.sp());
        EXPECT(0x4e47, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 033D
        gbc.setState(0x305f, 0x5e60, 0x9d10, 0x94fb, 0x6945, 0x622e, 0x1, 0x1);
        gbc.writeMem(0x305f, { 0x28, 0xe6 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x5e60, gbc.sp());
        EXPECT(0x3061, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 033E
        gbc.setState(0xb600, 0x18e6, 0xf350, 0x4b77, 0xde8, 0x43f8, 0x1, 0x0);
        gbc.writeMem(0xb600, { 0x28, 0x52 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x18e6, gbc.sp());
        EXPECT(0xb602, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb600));
        EXPECT(0x52, gbc.readMem(0xb601));
        // 28 033F
        gbc.setState(0x119d, 0x6523, 0xf9e0, 0xe01b, 0xf62, 0x35ce, 0x1, 0x0);
        gbc.writeMem(0x119d, { 0x28, 0x3 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x6523, gbc.sp());
        EXPECT(0x11a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0340
        gbc.setState(0x7ed3, 0x6ad4, 0xb020, 0xc41b, 0x17ff, 0xca69, 0x1, 0x0);
        gbc.writeMem(0x7ed3, { 0x28, 0x4a });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x6ad4, gbc.sp());
        EXPECT(0x7ed5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0341
        gbc.setState(0x7bd8, 0x5e65, 0xa240, 0xae8d, 0xeddb, 0x4424, 0x1, 0x1);
        gbc.writeMem(0x7bd8, { 0x28, 0x72 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x5e65, gbc.sp());
        EXPECT(0x7bda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0342
        gbc.setState(0x49d2, 0xa4fe, 0x3e90, 0x15d, 0xee8, 0x59ea, 0x1, 0x1);
        gbc.writeMem(0x49d2, { 0x28, 0x68 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xa4fe, gbc.sp());
        EXPECT(0x4a3c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0343
        gbc.setState(0x57b7, 0x61d1, 0x4cc0, 0x9118, 0xf044, 0x718c, 0x0, 0x1);
        gbc.writeMem(0x57b7, { 0x28, 0x89 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x61d1, gbc.sp());
        EXPECT(0x5742, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0344
        gbc.setState(0x9b05, 0xeda8, 0x95e0, 0x72fb, 0x6ae2, 0x5913, 0x1, 0x1);
        gbc.writeMem(0x9b05, { 0x28, 0x21 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xeda8, gbc.sp());
        EXPECT(0x9b28, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9b05));
        EXPECT(0x21, gbc.readMem(0x9b06));
        // 28 0345
        gbc.setState(0xc5b7, 0xea9, 0x720, 0xd9bc, 0xed00, 0xb073, 0x0, 0x0);
        gbc.writeMem(0xc5b7, { 0x28, 0xf3 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xea9, gbc.sp());
        EXPECT(0xc5b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc5b7));
        EXPECT(0xf3, gbc.readMem(0xc5b8));
        // 28 0346
        gbc.setState(0x4866, 0x2b64, 0x6b0, 0x6934, 0xa85f, 0x5797, 0x1, 0x1);
        gbc.writeMem(0x4866, { 0x28, 0x6c });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x2b64, gbc.sp());
        EXPECT(0x48d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0347
        gbc.setState(0x8a82, 0xa590, 0x6060, 0x9c79, 0x148b, 0x76cb, 0x0, 0x0);
        gbc.writeMem(0x8a82, { 0x28, 0x61 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xa590, gbc.sp());
        EXPECT(0x8a84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8a82));
        EXPECT(0x61, gbc.readMem(0x8a83));
        // 28 0348
        gbc.setState(0x5e18, 0x3e99, 0xa0, 0xa9d8, 0x3d54, 0xd407, 0x0, 0x0);
        gbc.writeMem(0x5e18, { 0x28, 0xf6 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x3e99, gbc.sp());
        EXPECT(0x5e10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0349
        gbc.setState(0x4c45, 0xef18, 0x8540, 0xc0cc, 0x923f, 0x8907, 0x1, 0x0);
        gbc.writeMem(0x4c45, { 0x28, 0x43 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xef18, gbc.sp());
        EXPECT(0x4c47, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 034A
        gbc.setState(0xecae, 0x520d, 0x5910, 0x29df, 0xbd7a, 0xe2e4, 0x0, 0x1);
        gbc.writeMem(0xecae, { 0x28, 0x98 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x520d, gbc.sp());
        EXPECT(0xecb0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xecae));
        EXPECT(0x98, gbc.readMem(0xecaf));
        // 28 034B
        gbc.setState(0xa36a, 0x777e, 0xfa00, 0x9377, 0x3c46, 0x67f5, 0x1, 0x0);
        gbc.writeMem(0xa36a, { 0x28, 0x3c });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x777e, gbc.sp());
        EXPECT(0xa36c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa36a));
        EXPECT(0x3c, gbc.readMem(0xa36b));
        // 28 034C
        gbc.setState(0x9f7a, 0xe67d, 0xae30, 0xd7, 0xb3d2, 0x790, 0x1, 0x0);
        gbc.writeMem(0x9f7a, { 0x28, 0xc9 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xe67d, gbc.sp());
        EXPECT(0x9f7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9f7a));
        EXPECT(0xc9, gbc.readMem(0x9f7b));
        // 28 034D
        gbc.setState(0x949, 0x5a66, 0x7ea0, 0x6c19, 0xd86d, 0x4cef, 0x0, 0x1);
        gbc.writeMem(0x949, { 0x28, 0xb1 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x5a66, gbc.sp());
        EXPECT(0x8fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 034E
        gbc.setState(0xa434, 0x2ff4, 0x7ec0, 0xc15e, 0x7989, 0x4632, 0x1, 0x0);
        gbc.writeMem(0xa434, { 0x28, 0xcb });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x2ff4, gbc.sp());
        EXPECT(0xa401, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa434));
        EXPECT(0xcb, gbc.readMem(0xa435));
        // 28 034F
        gbc.setState(0x97a6, 0xcd72, 0x890, 0x91e9, 0x31b7, 0x26c7, 0x0, 0x1);
        gbc.writeMem(0x97a6, { 0x28, 0x90 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xcd72, gbc.sp());
        EXPECT(0x9738, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x97a6));
        EXPECT(0x90, gbc.readMem(0x97a7));
        // 28 0350
        gbc.setState(0xc294, 0xa0c9, 0x1e90, 0x357, 0x68f8, 0x350f, 0x1, 0x0);
        gbc.writeMem(0xc294, { 0x28, 0x32 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xa0c9, gbc.sp());
        EXPECT(0xc2c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc294));
        EXPECT(0x32, gbc.readMem(0xc295));
        // 28 0351
        gbc.setState(0xde2d, 0x1629, 0x3360, 0xcefd, 0xa6f5, 0x3791, 0x0, 0x0);
        gbc.writeMem(0xde2d, { 0x28, 0xf4 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x1629, gbc.sp());
        EXPECT(0xde2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xde2d));
        EXPECT(0xf4, gbc.readMem(0xde2e));
        // 28 0352
        gbc.setState(0x63e5, 0x4286, 0x66a0, 0x397a, 0x3651, 0xe74a, 0x1, 0x0);
        gbc.writeMem(0x63e5, { 0x28, 0xec });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x4286, gbc.sp());
        EXPECT(0x63d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0353
        gbc.setState(0xa3d8, 0xbfea, 0xd920, 0x268b, 0x36c4, 0x65f9, 0x1, 0x1);
        gbc.writeMem(0xa3d8, { 0x28, 0xf9 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xbfea, gbc.sp());
        EXPECT(0xa3da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa3d8));
        EXPECT(0xf9, gbc.readMem(0xa3d9));
        // 28 0354
        gbc.setState(0xc26c, 0x324, 0xee0, 0x2f8c, 0xf901, 0x4718, 0x1, 0x0);
        gbc.writeMem(0xc26c, { 0x28, 0xe5 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x324, gbc.sp());
        EXPECT(0xc253, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc26c));
        EXPECT(0xe5, gbc.readMem(0xc26d));
        // 28 0355
        gbc.setState(0x159f, 0xdfba, 0xec40, 0x45e4, 0x9bfd, 0xf72f, 0x1, 0x1);
        gbc.writeMem(0x159f, { 0x28, 0x8c });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xdfba, gbc.sp());
        EXPECT(0x15a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0356
        gbc.setState(0xbe67, 0x7b81, 0xad40, 0x1828, 0xf20c, 0xb7fc, 0x0, 0x1);
        gbc.writeMem(0xbe67, { 0x28, 0x67 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x7b81, gbc.sp());
        EXPECT(0xbe69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xbe67));
        EXPECT(0x67, gbc.readMem(0xbe68));
        // 28 0357
        gbc.setState(0xe6f6, 0xb7c8, 0x6720, 0x86a4, 0x7769, 0x5652, 0x1, 0x1);
        gbc.writeMem(0xe6f6, { 0x28, 0x9e });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xb7c8, gbc.sp());
        EXPECT(0xe6f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe6f6));
        EXPECT(0x9e, gbc.readMem(0xe6f7));
        // 28 0358
        gbc.setState(0xb67, 0xdb79, 0x8150, 0x3248, 0xb1c, 0xcfc2, 0x0, 0x0);
        gbc.writeMem(0xb67, { 0x28, 0x6d });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xdb79, gbc.sp());
        EXPECT(0xb69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0359
        gbc.setState(0x4103, 0xa726, 0x1e20, 0x54c6, 0x4224, 0xae82, 0x0, 0x1);
        gbc.writeMem(0x4103, { 0x28, 0xb });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xa726, gbc.sp());
        EXPECT(0x4105, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 035A
        gbc.setState(0x6f3a, 0x1dd4, 0xe5d0, 0xcac7, 0xf484, 0xdba7, 0x1, 0x0);
        gbc.writeMem(0x6f3a, { 0x28, 0x4a });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x1dd4, gbc.sp());
        EXPECT(0x6f86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 035B
        gbc.setState(0x3123, 0x531f, 0x4a40, 0xa88b, 0xb314, 0x6d19, 0x0, 0x0);
        gbc.writeMem(0x3123, { 0x28, 0xe7 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x531f, gbc.sp());
        EXPECT(0x3125, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 035C
        gbc.setState(0x87a6, 0xa0e9, 0xc0e0, 0x628b, 0xa446, 0x35d6, 0x1, 0x0);
        gbc.writeMem(0x87a6, { 0x28, 0x6a });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xa0e9, gbc.sp());
        EXPECT(0x8812, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x87a6));
        EXPECT(0x6a, gbc.readMem(0x87a7));
        // 28 035D
        gbc.setState(0x2552, 0x8ea7, 0x8db0, 0x1cbb, 0xec48, 0x64d7, 0x1, 0x0);
        gbc.writeMem(0x2552, { 0x28, 0x9b });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x8ea7, gbc.sp());
        EXPECT(0x24ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 035E
        gbc.setState(0xd658, 0x248f, 0x8190, 0x132d, 0xbc71, 0xf5fc, 0x0, 0x1);
        gbc.writeMem(0xd658, { 0x28, 0x54 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x248f, gbc.sp());
        EXPECT(0xd6ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd658));
        EXPECT(0x54, gbc.readMem(0xd659));
        // 28 035F
        gbc.setState(0x695f, 0x5b7e, 0x5850, 0xac7d, 0x5abe, 0xfb96, 0x0, 0x1);
        gbc.writeMem(0x695f, { 0x28, 0x5b });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x5b7e, gbc.sp());
        EXPECT(0x6961, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0360
        gbc.setState(0x7695, 0xc043, 0x54a0, 0x10b0, 0xd091, 0x8b3d, 0x1, 0x1);
        gbc.writeMem(0x7695, { 0x28, 0x4f });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xc043, gbc.sp());
        EXPECT(0x76e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0361
        gbc.setState(0x5992, 0x1baf, 0x8940, 0xf3dc, 0x7940, 0x3c3d, 0x0, 0x1);
        gbc.writeMem(0x5992, { 0x28, 0x1b });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x1baf, gbc.sp());
        EXPECT(0x5994, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0363
        gbc.setState(0x3b33, 0x1f07, 0x74b0, 0x41e5, 0xfbf0, 0x7626, 0x1, 0x0);
        gbc.writeMem(0x3b33, { 0x28, 0x2d });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x1f07, gbc.sp());
        EXPECT(0x3b62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0365
        gbc.setState(0x1415, 0x2e1a, 0xf730, 0x9177, 0x1c73, 0xd398, 0x0, 0x0);
        gbc.writeMem(0x1415, { 0x28, 0xfa });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x2e1a, gbc.sp());
        EXPECT(0x1417, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0366
        gbc.setState(0x4a5d, 0x8c11, 0xc4d0, 0x51f9, 0x6b6, 0xa38d, 0x1, 0x1);
        gbc.writeMem(0x4a5d, { 0x28, 0xfd });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x8c11, gbc.sp());
        EXPECT(0x4a5c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0367
        gbc.setState(0xe44c, 0x5fb7, 0x9fe0, 0x3cb9, 0x859e, 0x3cfd, 0x0, 0x1);
        gbc.writeMem(0xe44c, { 0x28, 0x29 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x5fb7, gbc.sp());
        EXPECT(0xe477, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe44c));
        EXPECT(0x29, gbc.readMem(0xe44d));
        // 28 0369
        gbc.setState(0x967b, 0xe833, 0x4850, 0x634d, 0x1cf5, 0xc6e1, 0x1, 0x0);
        gbc.writeMem(0x967b, { 0x28, 0x5c });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xe833, gbc.sp());
        EXPECT(0x967d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x967b));
        EXPECT(0x5c, gbc.readMem(0x967c));
        // 28 036A
        gbc.setState(0xc51c, 0x7870, 0xd9a0, 0xe0b9, 0xd3c7, 0x19e5, 0x0, 0x0);
        gbc.writeMem(0xc51c, { 0x28, 0x58 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x7870, gbc.sp());
        EXPECT(0xc576, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc51c));
        EXPECT(0x58, gbc.readMem(0xc51d));
        // 28 036B
        gbc.setState(0x83ad, 0x7151, 0xe540, 0x2f0f, 0x7a23, 0x74, 0x1, 0x0);
        gbc.writeMem(0x83ad, { 0x28, 0x8d });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x7151, gbc.sp());
        EXPECT(0x83af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x83ad));
        EXPECT(0x8d, gbc.readMem(0x83ae));
        // 28 036C
        gbc.setState(0x8807, 0x6aad, 0x3f30, 0xe034, 0x275e, 0xf164, 0x1, 0x0);
        gbc.writeMem(0x8807, { 0x28, 0x42 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x6aad, gbc.sp());
        EXPECT(0x8809, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8807));
        EXPECT(0x42, gbc.readMem(0x8808));
        // 28 036D
        gbc.setState(0xaa90, 0xa14c, 0xbe90, 0x1891, 0x220c, 0x20cd, 0x1, 0x1);
        gbc.writeMem(0xaa90, { 0x28, 0x61 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xa14c, gbc.sp());
        EXPECT(0xaaf3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xaa90));
        EXPECT(0x61, gbc.readMem(0xaa91));
        // 28 036E
        gbc.setState(0xdb07, 0xe34b, 0xed00, 0x973d, 0xe62f, 0x133d, 0x0, 0x1);
        gbc.writeMem(0xdb07, { 0x28, 0xbb });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xe34b, gbc.sp());
        EXPECT(0xdb09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xdb07));
        EXPECT(0xbb, gbc.readMem(0xdb08));
        // 28 036F
        gbc.setState(0x7f5a, 0x9f3a, 0x7b40, 0x7fad, 0x8c2e, 0xf70d, 0x0, 0x1);
        gbc.writeMem(0x7f5a, { 0x28, 0xf5 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x9f3a, gbc.sp());
        EXPECT(0x7f5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0370
        gbc.setState(0xce6a, 0xa767, 0xb730, 0x5f6, 0x441b, 0x6514, 0x1, 0x0);
        gbc.writeMem(0xce6a, { 0x28, 0xf2 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xa767, gbc.sp());
        EXPECT(0xce6c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xce6a));
        EXPECT(0xf2, gbc.readMem(0xce6b));
        // 28 0371
        gbc.setState(0xedaa, 0xace8, 0x7ec0, 0xfc8a, 0x53bd, 0xf0e0, 0x1, 0x1);
        gbc.writeMem(0xedaa, { 0x28, 0xd3 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xace8, gbc.sp());
        EXPECT(0xed7f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xedaa));
        EXPECT(0xd3, gbc.readMem(0xedab));
        // 28 0372
        gbc.setState(0xab3b, 0xbe7c, 0x9670, 0xb1b0, 0x4b75, 0x6bda, 0x0, 0x0);
        gbc.writeMem(0xab3b, { 0x28, 0xce });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xbe7c, gbc.sp());
        EXPECT(0xab3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xab3b));
        EXPECT(0xce, gbc.readMem(0xab3c));
        // 28 0373
        gbc.setState(0xeb05, 0x6d4b, 0xba30, 0x7aa8, 0x78db, 0xd57d, 0x1, 0x0);
        gbc.writeMem(0xeb05, { 0x28, 0x85 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x6d4b, gbc.sp());
        EXPECT(0xeb07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xeb05));
        EXPECT(0x85, gbc.readMem(0xeb06));
        // 28 0374
        gbc.setState(0x8638, 0xbae8, 0xd90, 0x5e7, 0xa81, 0x553b, 0x0, 0x0);
        gbc.writeMem(0x8638, { 0x28, 0x87 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xbae8, gbc.sp());
        EXPECT(0x85c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8638));
        EXPECT(0x87, gbc.readMem(0x8639));
        // 28 0375
        gbc.setState(0x9e51, 0x47b3, 0x2b40, 0x214e, 0xb90d, 0xb5fb, 0x1, 0x1);
        gbc.writeMem(0x9e51, { 0x28, 0xdf });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x47b3, gbc.sp());
        EXPECT(0x9e53, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9e51));
        EXPECT(0xdf, gbc.readMem(0x9e52));
        // 28 0376
        gbc.setState(0xb37b, 0xe800, 0xdb20, 0x20fc, 0xa714, 0x980f, 0x1, 0x0);
        gbc.writeMem(0xb37b, { 0x28, 0x81 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xe800, gbc.sp());
        EXPECT(0xb37d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb37b));
        EXPECT(0x81, gbc.readMem(0xb37c));
        // 28 0377
        gbc.setState(0x76c8, 0x6108, 0x850, 0xd7e3, 0x20b7, 0x95b, 0x0, 0x0);
        gbc.writeMem(0x76c8, { 0x28, 0xa5 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x6108, gbc.sp());
        EXPECT(0x76ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0378
        gbc.setState(0x5a1d, 0x15dd, 0x530, 0xcd51, 0xd525, 0x54cd, 0x0, 0x1);
        gbc.writeMem(0x5a1d, { 0x28, 0x8b });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x15dd, gbc.sp());
        EXPECT(0x5a1f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0379
        gbc.setState(0x95ac, 0xd934, 0x1bf0, 0x3b8b, 0x446d, 0x2de2, 0x0, 0x0);
        gbc.writeMem(0x95ac, { 0x28, 0xed });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xd934, gbc.sp());
        EXPECT(0x959b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x95ac));
        EXPECT(0xed, gbc.readMem(0x95ad));
        // 28 037A
        gbc.setState(0x2544, 0xe12c, 0x4870, 0x6e02, 0x6ddd, 0xa0b1, 0x0, 0x1);
        gbc.writeMem(0x2544, { 0x28, 0x4d });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xe12c, gbc.sp());
        EXPECT(0x2546, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 037B
        gbc.setState(0x3a36, 0x5f6a, 0xaba0, 0xb4eb, 0x8840, 0xe16b, 0x0, 0x1);
        gbc.writeMem(0x3a36, { 0x28, 0x1a });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x5f6a, gbc.sp());
        EXPECT(0x3a52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 037C
        gbc.setState(0xb2fe, 0xab3d, 0xda80, 0x4268, 0x8cc2, 0xb17d, 0x0, 0x1);
        gbc.writeMem(0xb2fe, { 0x28, 0xce });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xab3d, gbc.sp());
        EXPECT(0xb2ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb2fe));
        EXPECT(0xce, gbc.readMem(0xb2ff));
        // 28 037D
        gbc.setState(0x8e4, 0x1a93, 0xa190, 0x86b, 0x6c7d, 0x17d4, 0x1, 0x0);
        gbc.writeMem(0x8e4, { 0x28, 0xfd });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x1a93, gbc.sp());
        EXPECT(0x8e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 037E
        gbc.setState(0x8a5b, 0xdf0f, 0xa460, 0xa4e6, 0xa925, 0xd23b, 0x1, 0x0);
        gbc.writeMem(0x8a5b, { 0x28, 0x37 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xdf0f, gbc.sp());
        EXPECT(0x8a5d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8a5b));
        EXPECT(0x37, gbc.readMem(0x8a5c));
        // 28 037F
        gbc.setState(0x8fcc, 0x7f18, 0xee80, 0x3ca, 0x3074, 0xa333, 0x1, 0x0);
        gbc.writeMem(0x8fcc, { 0x28, 0x30 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x7f18, gbc.sp());
        EXPECT(0x8ffe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8fcc));
        EXPECT(0x30, gbc.readMem(0x8fcd));
        // 28 0380
        gbc.setState(0x3c7e, 0x6d62, 0x61f0, 0x9659, 0x2ec9, 0xc7d7, 0x1, 0x0);
        gbc.writeMem(0x3c7e, { 0x28, 0x3 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x6d62, gbc.sp());
        EXPECT(0x3c83, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0381
        gbc.setState(0x8917, 0x97bd, 0x3850, 0xbbdd, 0x404a, 0xce2c, 0x1, 0x1);
        gbc.writeMem(0x8917, { 0x28, 0x13 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x97bd, gbc.sp());
        EXPECT(0x8919, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8917));
        EXPECT(0x13, gbc.readMem(0x8918));
        // 28 0382
        gbc.setState(0x5057, 0x7865, 0xbff0, 0x7b6f, 0x6a9d, 0x35f1, 0x1, 0x1);
        gbc.writeMem(0x5057, { 0x28, 0x53 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x7865, gbc.sp());
        EXPECT(0x50ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0383
        gbc.setState(0x1059, 0x16c0, 0x1220, 0x8459, 0x6d1e, 0x4552, 0x1, 0x0);
        gbc.writeMem(0x1059, { 0x28, 0xe6 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x16c0, gbc.sp());
        EXPECT(0x105b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0384
        gbc.setState(0x329b, 0x138d, 0x9540, 0xa06d, 0x43db, 0x1784, 0x0, 0x1);
        gbc.writeMem(0x329b, { 0x28, 0xcb });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x138d, gbc.sp());
        EXPECT(0x329d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 0385
        gbc.setState(0x4ed0, 0xcda6, 0x5f90, 0x81b6, 0x181d, 0x4d56, 0x0, 0x0);
        gbc.writeMem(0x4ed0, { 0x28, 0x79 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xcda6, gbc.sp());
        EXPECT(0x4f4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0386
        gbc.setState(0x8456, 0xdecb, 0x1fa0, 0x8473, 0x508a, 0x45ac, 0x1, 0x0);
        gbc.writeMem(0x8456, { 0x28, 0xf });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xdecb, gbc.sp());
        EXPECT(0x8467, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8456));
        EXPECT(0xf, gbc.readMem(0x8457));
        // 28 0387
        gbc.setState(0x166a, 0xe431, 0x18b0, 0xc1ee, 0x1212, 0x9181, 0x0, 0x1);
        gbc.writeMem(0x166a, { 0x28, 0x38 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xe431, gbc.sp());
        EXPECT(0x16a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0388
        gbc.setState(0xc3f9, 0xfdfc, 0xcea0, 0x9221, 0x59c6, 0xc948, 0x1, 0x0);
        gbc.writeMem(0xc3f9, { 0x28, 0xd7 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xfdfc, gbc.sp());
        EXPECT(0xc3d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc3f9));
        EXPECT(0xd7, gbc.readMem(0xc3fa));
        // 28 0389
        gbc.setState(0xed3f, 0x66c1, 0x9c60, 0x7e0e, 0x4a9e, 0xb138, 0x0, 0x0);
        gbc.writeMem(0xed3f, { 0x28, 0xc });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x66c1, gbc.sp());
        EXPECT(0xed41, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xed3f));
        EXPECT(0xc, gbc.readMem(0xed40));
        // 28 038A
        gbc.setState(0x2fa, 0x9fcc, 0xdfc0, 0x85e9, 0xae21, 0xc011, 0x0, 0x0);
        gbc.writeMem(0x2fa, { 0x28, 0xe5 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x9fcc, gbc.sp());
        EXPECT(0x2e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 038B
        gbc.setState(0x5bd8, 0xeb32, 0x1200, 0xfda6, 0x2c98, 0x878a, 0x0, 0x0);
        gbc.writeMem(0x5bd8, { 0x28, 0x52 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xeb32, gbc.sp());
        EXPECT(0x5bda, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 038C
        gbc.setState(0x5336, 0xc01f, 0x2ba0, 0x1246, 0x509c, 0xf94f, 0x1, 0x0);
        gbc.writeMem(0x5336, { 0x28, 0x72 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xc01f, gbc.sp());
        EXPECT(0x53aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 038D
        gbc.setState(0xd3a0, 0xe2b1, 0x37c0, 0x4f44, 0xb24a, 0xb59f, 0x0, 0x0);
        gbc.writeMem(0xd3a0, { 0x28, 0x1f });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xe2b1, gbc.sp());
        EXPECT(0xd3c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd3a0));
        EXPECT(0x1f, gbc.readMem(0xd3a1));
        // 28 038E
        gbc.setState(0x4046, 0xc618, 0x2150, 0xf274, 0x2e1c, 0x442d, 0x0, 0x0);
        gbc.writeMem(0x4046, { 0x28, 0x98 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xc618, gbc.sp());
        EXPECT(0x4048, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 038F
        gbc.setState(0xd4d1, 0xcb2d, 0xf700, 0x6cb4, 0xa808, 0x1240, 0x1, 0x1);
        gbc.writeMem(0xd4d1, { 0x28, 0xc1 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xcb2d, gbc.sp());
        EXPECT(0xd4d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd4d1));
        EXPECT(0xc1, gbc.readMem(0xd4d2));
        // 28 0390
        gbc.setState(0xded3, 0xca84, 0xd9b0, 0x99e7, 0x5f7d, 0x9330, 0x0, 0x0);
        gbc.writeMem(0xded3, { 0x28, 0x44 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xca84, gbc.sp());
        EXPECT(0xdf19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xded3));
        EXPECT(0x44, gbc.readMem(0xded4));
        // 28 0391
        gbc.setState(0xd1ed, 0xa1eb, 0x6b30, 0xa66, 0x4211, 0x9fd3, 0x1, 0x0);
        gbc.writeMem(0xd1ed, { 0x28, 0x58 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xa1eb, gbc.sp());
        EXPECT(0xd1ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd1ed));
        EXPECT(0x58, gbc.readMem(0xd1ee));
        // 28 0392
        gbc.setState(0xb4ef, 0x81cb, 0xdc30, 0x173a, 0x14a0, 0x864c, 0x0, 0x1);
        gbc.writeMem(0xb4ef, { 0x28, 0xb9 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x81cb, gbc.sp());
        EXPECT(0xb4f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb4ef));
        EXPECT(0xb9, gbc.readMem(0xb4f0));
        // 28 0393
        gbc.setState(0xcdb8, 0xd32, 0x2530, 0xd56e, 0x1867, 0x9db6, 0x0, 0x1);
        gbc.writeMem(0xcdb8, { 0x28, 0x18 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xd32, gbc.sp());
        EXPECT(0xcdba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xcdb8));
        EXPECT(0x18, gbc.readMem(0xcdb9));
        // 28 0394
        gbc.setState(0xb14e, 0x87c4, 0xb2e0, 0xa14c, 0xf4c0, 0xfe5, 0x0, 0x1);
        gbc.writeMem(0xb14e, { 0x28, 0xd6 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x87c4, gbc.sp());
        EXPECT(0xb126, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb14e));
        EXPECT(0xd6, gbc.readMem(0xb14f));
        // 28 0395
        gbc.setState(0xb986, 0xa52c, 0x9de0, 0x52ea, 0xc87f, 0x1fd2, 0x1, 0x1);
        gbc.writeMem(0xb986, { 0x28, 0x2 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xa52c, gbc.sp());
        EXPECT(0xb98a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb986));
        EXPECT(0x2, gbc.readMem(0xb987));
        // 28 0396
        gbc.setState(0xc864, 0xaeb3, 0xb9c0, 0x2996, 0x2af5, 0x8e16, 0x1, 0x1);
        gbc.writeMem(0xc864, { 0x28, 0x82 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xaeb3, gbc.sp());
        EXPECT(0xc7e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc864));
        EXPECT(0x82, gbc.readMem(0xc865));
        // 28 0398
        gbc.setState(0x4fed, 0xeabb, 0x8150, 0xc9a9, 0x5178, 0xcef2, 0x0, 0x1);
        gbc.writeMem(0x4fed, { 0x28, 0xc6 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xeabb, gbc.sp());
        EXPECT(0x4fef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 0399
        gbc.setState(0x22cc, 0xeba5, 0x3610, 0xce64, 0x90c0, 0x1d71, 0x1, 0x1);
        gbc.writeMem(0x22cc, { 0x28, 0xd1 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xeba5, gbc.sp());
        EXPECT(0x22ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 039A
        gbc.setState(0xdcf9, 0x1862, 0xc520, 0x4486, 0x2c36, 0xb098, 0x0, 0x0);
        gbc.writeMem(0xdcf9, { 0x28, 0xf2 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x1862, gbc.sp());
        EXPECT(0xdcfb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xdcf9));
        EXPECT(0xf2, gbc.readMem(0xdcfa));
        // 28 039B
        gbc.setState(0x3aa9, 0xa14c, 0x160, 0x8f58, 0xb80a, 0xba7c, 0x1, 0x1);
        gbc.writeMem(0x3aa9, { 0x28, 0x73 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xa14c, gbc.sp());
        EXPECT(0x3aab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 039C
        gbc.setState(0x8910, 0x317b, 0xc3a0, 0x482a, 0xb375, 0x1a1c, 0x1, 0x1);
        gbc.writeMem(0x8910, { 0x28, 0x5e });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x317b, gbc.sp());
        EXPECT(0x8970, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8910));
        EXPECT(0x5e, gbc.readMem(0x8911));
        // 28 039D
        gbc.setState(0x855d, 0x8667, 0xae20, 0x46e3, 0x38a0, 0x8dad, 0x1, 0x0);
        gbc.writeMem(0x855d, { 0x28, 0xd4 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x8667, gbc.sp());
        EXPECT(0x855f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x855d));
        EXPECT(0xd4, gbc.readMem(0x855e));
        // 28 039E
        gbc.setState(0x32dd, 0x2b9a, 0x6070, 0x884e, 0x8bb3, 0x152c, 0x0, 0x1);
        gbc.writeMem(0x32dd, { 0x28, 0x4f });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x2b9a, gbc.sp());
        EXPECT(0x32df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 039F
        gbc.setState(0x453f, 0xcfad, 0x3bb0, 0x2cdf, 0xfd37, 0x4c72, 0x1, 0x1);
        gbc.writeMem(0x453f, { 0x28, 0x57 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xcfad, gbc.sp());
        EXPECT(0x4598, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03A0
        gbc.setState(0x1b25, 0x445e, 0xca70, 0x1281, 0x8e84, 0x4543, 0x0, 0x1);
        gbc.writeMem(0x1b25, { 0x28, 0xd4 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x445e, gbc.sp());
        EXPECT(0x1b27, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03A1
        gbc.setState(0xb6d9, 0x7e85, 0x7940, 0xd96c, 0x1754, 0x22c, 0x0, 0x0);
        gbc.writeMem(0xb6d9, { 0x28, 0xa0 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x7e85, gbc.sp());
        EXPECT(0xb6db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb6d9));
        EXPECT(0xa0, gbc.readMem(0xb6da));
        // 28 03A2
        gbc.setState(0xe783, 0x5416, 0x9fa0, 0x8ad6, 0x3c95, 0x9895, 0x0, 0x1);
        gbc.writeMem(0xe783, { 0x28, 0x73 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x5416, gbc.sp());
        EXPECT(0xe7f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe783));
        EXPECT(0x73, gbc.readMem(0xe784));
        // 28 03A3
        gbc.setState(0x95c3, 0x3905, 0x81b0, 0x1d26, 0x5fba, 0xd822, 0x0, 0x0);
        gbc.writeMem(0x95c3, { 0x28, 0x55 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x3905, gbc.sp());
        EXPECT(0x961a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x95c3));
        EXPECT(0x55, gbc.readMem(0x95c4));
        // 28 03A4
        gbc.setState(0xe97c, 0xdb4c, 0x4f00, 0x2c29, 0x8edb, 0xe478, 0x0, 0x1);
        gbc.writeMem(0xe97c, { 0x28, 0x5a });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xdb4c, gbc.sp());
        EXPECT(0xe97e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe97c));
        EXPECT(0x5a, gbc.readMem(0xe97d));
        // 28 03A5
        gbc.setState(0x1591, 0x8e7e, 0x21b0, 0x8e50, 0xabb3, 0x673d, 0x1, 0x0);
        gbc.writeMem(0x1591, { 0x28, 0xa3 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x8e7e, gbc.sp());
        EXPECT(0x1536, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03A6
        gbc.setState(0xdeab, 0x4f13, 0x8030, 0x418e, 0xafc3, 0xc589, 0x1, 0x1);
        gbc.writeMem(0xdeab, { 0x28, 0x72 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x4f13, gbc.sp());
        EXPECT(0xdead, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xdeab));
        EXPECT(0x72, gbc.readMem(0xdeac));
        // 28 03A7
        gbc.setState(0xaf4, 0x445f, 0xde30, 0x70e8, 0xc460, 0xfe86, 0x1, 0x0);
        gbc.writeMem(0xaf4, { 0x28, 0xb4 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x445f, gbc.sp());
        EXPECT(0xaf6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03A9
        gbc.setState(0x3ee5, 0x78d9, 0x9ef0, 0xf89e, 0xb301, 0x94d2, 0x0, 0x1);
        gbc.writeMem(0x3ee5, { 0x28, 0x13 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x78d9, gbc.sp());
        EXPECT(0x3efa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03AA
        gbc.setState(0x8dbf, 0x2860, 0xe2e0, 0xc2bc, 0x7b88, 0xaf96, 0x0, 0x0);
        gbc.writeMem(0x8dbf, { 0x28, 0x1d });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x2860, gbc.sp());
        EXPECT(0x8dde, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8dbf));
        EXPECT(0x1d, gbc.readMem(0x8dc0));
        // 28 03AB
        gbc.setState(0xd4af, 0xb3b, 0x5e90, 0x5c48, 0x6f09, 0x298a, 0x1, 0x0);
        gbc.writeMem(0xd4af, { 0x28, 0xde });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xb3b, gbc.sp());
        EXPECT(0xd48f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd4af));
        EXPECT(0xde, gbc.readMem(0xd4b0));
        // 28 03AC
        gbc.setState(0x6b0f, 0x79e2, 0x4df0, 0x4a5e, 0x9d08, 0x5522, 0x1, 0x0);
        gbc.writeMem(0x6b0f, { 0x28, 0xea });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x79e2, gbc.sp());
        EXPECT(0x6afb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03AD
        gbc.setState(0x127b, 0xc0a6, 0xa9a0, 0x83d4, 0xb3fa, 0x5fee, 0x1, 0x0);
        gbc.writeMem(0x127b, { 0x28, 0xa1 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xc0a6, gbc.sp());
        EXPECT(0x121e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 03AE
        gbc.setState(0x7329, 0x444, 0xc090, 0xdaf8, 0xa0d3, 0xc981, 0x1, 0x0);
        gbc.writeMem(0x7329, { 0x28, 0xcb });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x444, gbc.sp());
        EXPECT(0x72f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03AF
        gbc.setState(0x804f, 0xc0c6, 0xda30, 0xc42f, 0xfb6c, 0x5ab, 0x0, 0x1);
        gbc.writeMem(0x804f, { 0x28, 0x89 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xc0c6, gbc.sp());
        EXPECT(0x8051, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x804f));
        EXPECT(0x89, gbc.readMem(0x8050));
        // 28 03B0
        gbc.setState(0xa443, 0xe5ba, 0x26e0, 0x56df, 0x8447, 0xf8aa, 0x0, 0x0);
        gbc.writeMem(0xa443, { 0x28, 0xf8 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xe5ba, gbc.sp());
        EXPECT(0xa43d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa443));
        EXPECT(0xf8, gbc.readMem(0xa444));
        // 28 03B1
        gbc.setState(0x213, 0xa8ca, 0x46d0, 0xdbb7, 0xb89f, 0xd976, 0x0, 0x0);
        gbc.writeMem(0x213, { 0x28, 0x2b });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xa8ca, gbc.sp());
        EXPECT(0x240, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03B2
        gbc.setState(0xab6d, 0x96f5, 0x610, 0xf159, 0x8c16, 0x520e, 0x1, 0x0);
        gbc.writeMem(0xab6d, { 0x28, 0xff });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x96f5, gbc.sp());
        EXPECT(0xab6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xab6d));
        EXPECT(0xff, gbc.readMem(0xab6e));
        // 28 03B3
        gbc.setState(0xeb37, 0x1e97, 0xbdb0, 0xf159, 0x48c9, 0xf79, 0x1, 0x0);
        gbc.writeMem(0xeb37, { 0x28, 0x48 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x1e97, gbc.sp());
        EXPECT(0xeb81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xeb37));
        EXPECT(0x48, gbc.readMem(0xeb38));
        // 28 03B4
        gbc.setState(0xb2f1, 0xdf4b, 0x3ef0, 0xc706, 0x9c26, 0xe894, 0x1, 0x1);
        gbc.writeMem(0xb2f1, { 0x28, 0x37 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xdf4b, gbc.sp());
        EXPECT(0xb32a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb2f1));
        EXPECT(0x37, gbc.readMem(0xb2f2));
        // 28 03B5
        gbc.setState(0xd303, 0x8388, 0x6080, 0x9799, 0x3517, 0xabbe, 0x0, 0x1);
        gbc.writeMem(0xd303, { 0x28, 0x97 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x8388, gbc.sp());
        EXPECT(0xd29c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd303));
        EXPECT(0x97, gbc.readMem(0xd304));
        // 28 03B6
        gbc.setState(0xd3a5, 0xefb8, 0x14b0, 0x7de0, 0x414e, 0x7b88, 0x0, 0x0);
        gbc.writeMem(0xd3a5, { 0x28, 0xf7 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xefb8, gbc.sp());
        EXPECT(0xd39e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd3a5));
        EXPECT(0xf7, gbc.readMem(0xd3a6));
        // 28 03B7
        gbc.setState(0xd149, 0x2413, 0xd490, 0xd3df, 0x6731, 0xdac9, 0x0, 0x1);
        gbc.writeMem(0xd149, { 0x28, 0xed });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x2413, gbc.sp());
        EXPECT(0xd138, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd149));
        EXPECT(0xed, gbc.readMem(0xd14a));
        // 28 03B8
        gbc.setState(0xc65, 0xbec3, 0xb740, 0xb21f, 0x70f9, 0x9cf9, 0x1, 0x0);
        gbc.writeMem(0xc65, { 0x28, 0x6c });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xbec3, gbc.sp());
        EXPECT(0xc67, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 03B9
        gbc.setState(0xc7ce, 0x1b2a, 0xa820, 0x7f19, 0x62f5, 0xaff3, 0x0, 0x1);
        gbc.writeMem(0xc7ce, { 0x28, 0xb0 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x1b2a, gbc.sp());
        EXPECT(0xc7d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc7ce));
        EXPECT(0xb0, gbc.readMem(0xc7cf));
        // 28 03BA
        gbc.setState(0xc1b1, 0x2138, 0x9e90, 0x32fe, 0x43b1, 0x735f, 0x0, 0x1);
        gbc.writeMem(0xc1b1, { 0x28, 0xa6 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x2138, gbc.sp());
        EXPECT(0xc159, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc1b1));
        EXPECT(0xa6, gbc.readMem(0xc1b2));
        // 28 03BB
        gbc.setState(0x6200, 0x202a, 0xdef0, 0x30d6, 0xbc3b, 0x8c04, 0x1, 0x0);
        gbc.writeMem(0x6200, { 0x28, 0xa4 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x202a, gbc.sp());
        EXPECT(0x61a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03BC
        gbc.setState(0xe0bb, 0xfb7, 0x9d60, 0x4c5a, 0xf506, 0x2600, 0x1, 0x1);
        gbc.writeMem(0xe0bb, { 0x28, 0x8f });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xfb7, gbc.sp());
        EXPECT(0xe0bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe0bb));
        EXPECT(0x8f, gbc.readMem(0xe0bc));
        // 28 03BD
        gbc.setState(0xd288, 0x720d, 0x8210, 0x6b2f, 0x1147, 0x9d3e, 0x1, 0x1);
        gbc.writeMem(0xd288, { 0x28, 0x49 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x720d, gbc.sp());
        EXPECT(0xd28a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd288));
        EXPECT(0x49, gbc.readMem(0xd289));
        // 28 03BE
        gbc.setState(0xddf0, 0xd1d5, 0x5e0, 0x62b4, 0x56e4, 0x1999, 0x0, 0x1);
        gbc.writeMem(0xddf0, { 0x28, 0xd5 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xd1d5, gbc.sp());
        EXPECT(0xddc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xddf0));
        EXPECT(0xd5, gbc.readMem(0xddf1));
        // 28 03BF
        gbc.setState(0xf6e, 0x744e, 0xb300, 0x77a0, 0x74, 0xafc2, 0x1, 0x1);
        gbc.writeMem(0xf6e, { 0x28, 0x36 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x744e, gbc.sp());
        EXPECT(0xf70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 03C0
        gbc.setState(0xd17f, 0xb3b9, 0xa250, 0x7ebe, 0x5d3e, 0xf85e, 0x1, 0x0);
        gbc.writeMem(0xd17f, { 0x28, 0xb8 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xb3b9, gbc.sp());
        EXPECT(0xd181, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd17f));
        EXPECT(0xb8, gbc.readMem(0xd180));
        // 28 03C1
        gbc.setState(0x2146, 0xd56b, 0x73a0, 0xd953, 0x18a7, 0xa91d, 0x0, 0x1);
        gbc.writeMem(0x2146, { 0x28, 0x4d });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xd56b, gbc.sp());
        EXPECT(0x2195, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 03C2
        gbc.setState(0x9f5b, 0xf7b8, 0xd1a0, 0x65d5, 0x8977, 0xcda5, 0x0, 0x1);
        gbc.writeMem(0x9f5b, { 0x28, 0xf6 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xf7b8, gbc.sp());
        EXPECT(0x9f53, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9f5b));
        EXPECT(0xf6, gbc.readMem(0x9f5c));
        // 28 03C3
        gbc.setState(0x7f47, 0x9276, 0xbad0, 0x55fa, 0xd128, 0x327, 0x1, 0x0);
        gbc.writeMem(0x7f47, { 0x28, 0xe3 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x9276, gbc.sp());
        EXPECT(0x7f2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03C4
        gbc.setState(0x8fec, 0x15d1, 0x9b50, 0x1eb5, 0x477, 0xb47, 0x1, 0x0);
        gbc.writeMem(0x8fec, { 0x28, 0xc1 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x15d1, gbc.sp());
        EXPECT(0x8fee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8fec));
        EXPECT(0xc1, gbc.readMem(0x8fed));
        // 28 03C6
        gbc.setState(0xe4a7, 0xd8ba, 0x250, 0x4277, 0xebb3, 0xc914, 0x0, 0x0);
        gbc.writeMem(0xe4a7, { 0x28, 0x55 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xd8ba, gbc.sp());
        EXPECT(0xe4a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xe4a7));
        EXPECT(0x55, gbc.readMem(0xe4a8));
        // 28 03C7
        gbc.setState(0x9561, 0xb359, 0x3050, 0x3a8a, 0xa47f, 0x3531, 0x0, 0x1);
        gbc.writeMem(0x9561, { 0x28, 0x9e });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xb359, gbc.sp());
        EXPECT(0x9563, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9561));
        EXPECT(0x9e, gbc.readMem(0x9562));
        // 28 03C8
        gbc.setState(0x6f9a, 0x935b, 0x1730, 0x98c8, 0x32b2, 0xdf8d, 0x1, 0x0);
        gbc.writeMem(0x6f9a, { 0x28, 0xc5 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x935b, gbc.sp());
        EXPECT(0x6f9c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03C9
        gbc.setState(0x21cb, 0x453e, 0x4c50, 0x603d, 0x5633, 0x2e8c, 0x0, 0x1);
        gbc.writeMem(0x21cb, { 0x28, 0x70 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x453e, gbc.sp());
        EXPECT(0x21cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03CA
        gbc.setState(0x7d4c, 0xa276, 0x4be0, 0x6737, 0xa727, 0xf30b, 0x0, 0x1);
        gbc.writeMem(0x7d4c, { 0x28, 0xfe });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xa276, gbc.sp());
        EXPECT(0x7d4c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 03CB
        gbc.setState(0x2669, 0xebfc, 0x13b0, 0x2c15, 0x45b0, 0x58ab, 0x1, 0x1);
        gbc.writeMem(0x2669, { 0x28, 0xdc });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xebfc, gbc.sp());
        EXPECT(0x2647, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03CC
        gbc.setState(0x6d0a, 0x3865, 0x6930, 0x57a1, 0x275, 0x6ea0, 0x0, 0x0);
        gbc.writeMem(0x6d0a, { 0x28, 0x39 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x3865, gbc.sp());
        EXPECT(0x6d0c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03CD
        gbc.setState(0xb08c, 0xe05b, 0x5640, 0xd6bc, 0x8de2, 0xb3f6, 0x0, 0x0);
        gbc.writeMem(0xb08c, { 0x28, 0xab });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xe05b, gbc.sp());
        EXPECT(0xb08e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb08c));
        EXPECT(0xab, gbc.readMem(0xb08d));
        // 28 03CE
        gbc.setState(0x87a3, 0x8a31, 0xf2c0, 0x2619, 0x49f4, 0xf47e, 0x0, 0x1);
        gbc.writeMem(0x87a3, { 0x28, 0x86 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x8a31, gbc.sp());
        EXPECT(0x872b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x87a3));
        EXPECT(0x86, gbc.readMem(0x87a4));
        // 28 03CF
        gbc.setState(0x16ed, 0xffa6, 0xe550, 0xf75d, 0x20e0, 0x36b6, 0x1, 0x1);
        gbc.writeMem(0x16ed, { 0x28, 0x72 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xffa6, gbc.sp());
        EXPECT(0x16ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03D0
        gbc.setState(0x569f, 0x9f61, 0x52f0, 0x3276, 0x3855, 0x1e7, 0x0, 0x0);
        gbc.writeMem(0x569f, { 0x28, 0xcc });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x9f61, gbc.sp());
        EXPECT(0x566d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03D1
        gbc.setState(0xc489, 0x7317, 0xa560, 0x4723, 0x3f50, 0x3b7b, 0x0, 0x0);
        gbc.writeMem(0xc489, { 0x28, 0xc5 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x7317, gbc.sp());
        EXPECT(0xc48b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc489));
        EXPECT(0xc5, gbc.readMem(0xc48a));
        // 28 03D2
        gbc.setState(0xb339, 0x8c93, 0x8390, 0x341e, 0xc3aa, 0xcf69, 0x0, 0x1);
        gbc.writeMem(0xb339, { 0x28, 0xe });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x8c93, gbc.sp());
        EXPECT(0xb349, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xb339));
        EXPECT(0xe, gbc.readMem(0xb33a));
        // 28 03D3
        gbc.setState(0x61e7, 0x7087, 0x7c00, 0x20e1, 0xec81, 0x3268, 0x1, 0x1);
        gbc.writeMem(0x61e7, { 0x28, 0x3b });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x7087, gbc.sp());
        EXPECT(0x61e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 03D4
        gbc.setState(0x9676, 0xedac, 0x2860, 0xfd42, 0xf30e, 0x1e86, 0x0, 0x0);
        gbc.writeMem(0x9676, { 0x28, 0x57 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xedac, gbc.sp());
        EXPECT(0x9678, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x9676));
        EXPECT(0x57, gbc.readMem(0x9677));
        // 28 03D5
        gbc.setState(0xc3d2, 0x31c4, 0x1030, 0xd407, 0x1771, 0x1522, 0x0, 0x1);
        gbc.writeMem(0xc3d2, { 0x28, 0xb2 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x31c4, gbc.sp());
        EXPECT(0xc3d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xc3d2));
        EXPECT(0xb2, gbc.readMem(0xc3d3));
        // 28 03D6
        gbc.setState(0x4d0b, 0xa5f6, 0x3e70, 0x50ba, 0x9489, 0xc142, 0x0, 0x1);
        gbc.writeMem(0x4d0b, { 0x28, 0xa });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xa5f6, gbc.sp());
        EXPECT(0x4d0d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03D7
        gbc.setState(0x38f, 0xd54, 0x9800, 0x4234, 0x5a23, 0xa2c, 0x1, 0x1);
        gbc.writeMem(0x38f, { 0x28, 0x76 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xd54, gbc.sp());
        EXPECT(0x391, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 03D8
        gbc.setState(0x80f7, 0x6859, 0x9bb0, 0x231e, 0x23ab, 0xfdc1, 0x1, 0x1);
        gbc.writeMem(0x80f7, { 0x28, 0x90 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x6859, gbc.sp());
        EXPECT(0x8089, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x80f7));
        EXPECT(0x90, gbc.readMem(0x80f8));
        // 28 03D9
        gbc.setState(0x1c, 0xc843, 0xedf0, 0x861d, 0xbefc, 0x740d, 0x0, 0x0);
        gbc.writeMem(0x1c, { 0x28, 0x91 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xc843, gbc.sp());
        EXPECT(0xffaf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03DA
        gbc.setState(0x7c8a, 0x6137, 0x5f00, 0x4a95, 0x3e4b, 0x2075, 0x0, 0x1);
        gbc.writeMem(0x7c8a, { 0x28, 0x7e });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x6137, gbc.sp());
        EXPECT(0x7c8c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 03DB
        gbc.setState(0xa950, 0x2126, 0x16d0, 0xa94c, 0xc3c, 0x61d8, 0x1, 0x1);
        gbc.writeMem(0xa950, { 0x28, 0x29 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x2126, gbc.sp());
        EXPECT(0xa97b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xa950));
        EXPECT(0x29, gbc.readMem(0xa951));
        // 28 03DC
        gbc.setState(0xf4a, 0xd4c8, 0xa090, 0x90e5, 0xa5d0, 0x1b77, 0x1, 0x0);
        gbc.writeMem(0xf4a, { 0x28, 0x39 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xd4c8, gbc.sp());
        EXPECT(0xf85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03DD
        gbc.setState(0x6d33, 0xfd6d, 0xd910, 0xacf8, 0x45f5, 0x8cb0, 0x1, 0x0);
        gbc.writeMem(0x6d33, { 0x28, 0xa9 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xfd6d, gbc.sp());
        EXPECT(0x6d35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03DE
        gbc.setState(0xd4fa, 0x3ea6, 0x8210, 0x7c52, 0x3247, 0x8b2e, 0x1, 0x0);
        gbc.writeMem(0xd4fa, { 0x28, 0xd4 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x3ea6, gbc.sp());
        EXPECT(0xd4fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xd4fa));
        EXPECT(0xd4, gbc.readMem(0xd4fb));
        // 28 03DF
        gbc.setState(0x29e0, 0x57d6, 0x3450, 0xbf5d, 0x324c, 0xefa1, 0x1, 0x1);
        gbc.writeMem(0x29e0, { 0x28, 0xf5 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x57d6, gbc.sp());
        EXPECT(0x29e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03E0
        gbc.setState(0x8876, 0xdcd6, 0x9f10, 0xe125, 0x44ed, 0x7b1e, 0x0, 0x0);
        gbc.writeMem(0x8876, { 0x28, 0x19 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xdcd6, gbc.sp());
        EXPECT(0x8878, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8876));
        EXPECT(0x19, gbc.readMem(0x8877));
        // 28 03E1
        gbc.setState(0x14fe, 0x264f, 0x4340, 0xca94, 0xa99b, 0xbbc6, 0x1, 0x1);
        gbc.writeMem(0x14fe, { 0x28, 0x6f });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x264f, gbc.sp());
        EXPECT(0x1500, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 03E2
        gbc.setState(0x8d43, 0x85a4, 0x90c0, 0xe241, 0x8eb3, 0x2577, 0x1, 0x1);
        gbc.writeMem(0x8d43, { 0x28, 0x3d });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x85a4, gbc.sp());
        EXPECT(0x8d82, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0x8d43));
        EXPECT(0x3d, gbc.readMem(0x8d44));
        // 28 03E3
        gbc.setState(0xf75, 0xbb5b, 0x6040, 0xa6a8, 0x9f5b, 0xea37, 0x0, 0x0);
        gbc.writeMem(0xf75, { 0x28, 0xee });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xbb5b, gbc.sp());
        EXPECT(0xf77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 28 03E4
        gbc.setState(0xadd2, 0x239d, 0xfe60, 0x215, 0x7dd6, 0x1631, 0x1, 0x0);
        gbc.writeMem(0xadd2, { 0x28, 0x4c });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x239d, gbc.sp());
        EXPECT(0xadd4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xadd2));
        EXPECT(0x4c, gbc.readMem(0xadd3));
        // 28 03E5
        gbc.setState(0x7573, 0xc2bf, 0x63b0, 0xe34e, 0xe2ee, 0xb77a, 0x1, 0x1);
        gbc.writeMem(0x7573, { 0x28, 0x3d });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xc2bf, gbc.sp());
        EXPECT(0x75b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 28 03E6
        gbc.setState(0xbc40, 0x4821, 0x9720, 0x6206, 0x7c35, 0x2679, 0x0, 0x0);
        gbc.writeMem(0xbc40, { 0x28, 0x69 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x4821, gbc.sp());
        EXPECT(0xbc42, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xbc40));
        EXPECT(0x69, gbc.readMem(0xbc41));
        // 28 03E7
        gbc.setState(0x5a5, 0xa8da, 0x3f30, 0xcc27, 0xbde6, 0x6e18, 0x0, 0x1);
        gbc.writeMem(0x5a5, { 0x28, 0x27 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xa8da, gbc.sp());
        EXPECT(0x5a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
    }
