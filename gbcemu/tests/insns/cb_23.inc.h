    TEST(gbcemu, opcode_cb_23) {
        GBCEmu gbc{"", nullptr};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 23 0000
        gbc.setState(0xb6f2, 0x7fe6, 0xc420, 0xe309, 0x17f, 0xc71b, 0x0, 0x1);
        gbc.writeMem(0xb6f2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x7fe6, gbc.sp());
        EXPECT(0xb6f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb6f2));
        EXPECT(0x23, gbc.readMem(0xb6f3));
        // CB 23 0001
        gbc.setState(0xbb99, 0xfcd0, 0x9e90, 0x9824, 0x6060, 0xdf26, 0x1, 0x1);
        gbc.writeMem(0xbb99, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xfcd0, gbc.sp());
        EXPECT(0xbb9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb99));
        EXPECT(0x23, gbc.readMem(0xbb9a));
        // CB 23 0002
        gbc.setState(0x2d10, 0x1a84, 0x96d0, 0x292, 0xfc47, 0xdcd8, 0x0, 0x0);
        gbc.writeMem(0x2d10, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x1a84, gbc.sp());
        EXPECT(0x2d12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0004
        gbc.setState(0x8cb1, 0x387, 0x19e0, 0x5551, 0xc9bd, 0xaee4, 0x0, 0x1);
        gbc.writeMem(0x8cb1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x387, gbc.sp());
        EXPECT(0x8cb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8cb1));
        EXPECT(0x23, gbc.readMem(0x8cb2));
        // CB 23 0005
        gbc.setState(0xe584, 0x2dc4, 0xb80, 0xb202, 0x8b36, 0x9c09, 0x0, 0x0);
        gbc.writeMem(0xe584, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x2dc4, gbc.sp());
        EXPECT(0xe586, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe584));
        EXPECT(0x23, gbc.readMem(0xe585));
        // CB 23 0006
        gbc.setState(0xc435, 0xa700, 0x6250, 0x41a1, 0x779c, 0x8f6, 0x1, 0x0);
        gbc.writeMem(0xc435, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xa700, gbc.sp());
        EXPECT(0xc437, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc435));
        EXPECT(0x23, gbc.readMem(0xc436));
        // CB 23 0007
        gbc.setState(0x272c, 0x5646, 0x9780, 0xb72f, 0x3ffe, 0xc263, 0x0, 0x1);
        gbc.writeMem(0x272c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x5646, gbc.sp());
        EXPECT(0x272e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0008
        gbc.setState(0x3c35, 0xeb57, 0xd570, 0x1b53, 0x7b4b, 0xc01b, 0x0, 0x0);
        gbc.writeMem(0x3c35, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xeb57, gbc.sp());
        EXPECT(0x3c37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0009
        gbc.setState(0x253d, 0x5a5d, 0xe4a0, 0x29c, 0x288d, 0xcfe8, 0x0, 0x1);
        gbc.writeMem(0x253d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x5a5d, gbc.sp());
        EXPECT(0x253f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 000A
        gbc.setState(0x768f, 0x5ed6, 0xd430, 0x2696, 0x648f, 0x17d6, 0x0, 0x1);
        gbc.writeMem(0x768f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x5ed6, gbc.sp());
        EXPECT(0x7691, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 000B
        gbc.setState(0xba7d, 0xeb00, 0x78f0, 0xe66a, 0xcbe0, 0xe9a5, 0x1, 0x1);
        gbc.writeMem(0xba7d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xeb00, gbc.sp());
        EXPECT(0xba7f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba7d));
        EXPECT(0x23, gbc.readMem(0xba7e));
        // CB 23 000C
        gbc.setState(0x495c, 0xd6b5, 0x3da0, 0x7cd9, 0x3e81, 0xcf5d, 0x1, 0x1);
        gbc.writeMem(0x495c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xd6b5, gbc.sp());
        EXPECT(0x495e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 000D
        gbc.setState(0xeff0, 0xdae1, 0xdac0, 0x3df6, 0x687e, 0xaac4, 0x0, 0x0);
        gbc.writeMem(0xeff0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xdae1, gbc.sp());
        EXPECT(0xeff2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeff0));
        EXPECT(0x23, gbc.readMem(0xeff1));
        // CB 23 000E
        gbc.setState(0x82e2, 0x9303, 0x93e0, 0xdeea, 0x5bef, 0x3b58, 0x0, 0x1);
        gbc.writeMem(0x82e2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x9303, gbc.sp());
        EXPECT(0x82e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x82e2));
        EXPECT(0x23, gbc.readMem(0x82e3));
        // CB 23 000F
        gbc.setState(0xe4c9, 0xf8b9, 0x5520, 0x60a6, 0xca70, 0x75d2, 0x1, 0x0);
        gbc.writeMem(0xe4c9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xf8b9, gbc.sp());
        EXPECT(0xe4cb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe4c9));
        EXPECT(0x23, gbc.readMem(0xe4ca));
        // CB 23 0010
        gbc.setState(0xa9cc, 0x3a7, 0xc070, 0xac1f, 0x5aa3, 0xb603, 0x0, 0x0);
        gbc.writeMem(0xa9cc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x3a7, gbc.sp());
        EXPECT(0xa9ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa9cc));
        EXPECT(0x23, gbc.readMem(0xa9cd));
        // CB 23 0011
        gbc.setState(0xe431, 0x4f5f, 0xc760, 0x4503, 0xbd07, 0x9e01, 0x0, 0x1);
        gbc.writeMem(0xe431, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x4f5f, gbc.sp());
        EXPECT(0xe433, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe431));
        EXPECT(0x23, gbc.readMem(0xe432));
        // CB 23 0012
        gbc.setState(0x214, 0x72ad, 0xf0c0, 0x8f5, 0x596c, 0x9dd6, 0x1, 0x1);
        gbc.writeMem(0x214, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x72ad, gbc.sp());
        EXPECT(0x216, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0013
        gbc.setState(0xd161, 0x64fe, 0xf290, 0xf784, 0xa3dd, 0x6664, 0x0, 0x1);
        gbc.writeMem(0xd161, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x64fe, gbc.sp());
        EXPECT(0xd163, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd161));
        EXPECT(0x23, gbc.readMem(0xd162));
        // CB 23 0014
        gbc.setState(0x4c2f, 0x7e9a, 0x3100, 0x8d38, 0xc82c, 0x5c1d, 0x0, 0x0);
        gbc.writeMem(0x4c2f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x7e9a, gbc.sp());
        EXPECT(0x4c31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0015
        gbc.setState(0x6d6c, 0xc5e9, 0x5940, 0x54b2, 0xad48, 0xa48f, 0x0, 0x0);
        gbc.writeMem(0x6d6c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xc5e9, gbc.sp());
        EXPECT(0x6d6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0016
        gbc.setState(0xa0ad, 0xba69, 0x71d0, 0x1ab1, 0xdaa5, 0xa6e3, 0x1, 0x1);
        gbc.writeMem(0xa0ad, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xba69, gbc.sp());
        EXPECT(0xa0af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0ad));
        EXPECT(0x23, gbc.readMem(0xa0ae));
        // CB 23 0017
        gbc.setState(0x4d45, 0xfb60, 0xa7e0, 0x4585, 0x2ee8, 0x706c, 0x0, 0x1);
        gbc.writeMem(0x4d45, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xfb60, gbc.sp());
        EXPECT(0x4d47, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0018
        gbc.setState(0xb63, 0x52f8, 0xa590, 0xa715, 0x69b9, 0x64b1, 0x1, 0x1);
        gbc.writeMem(0xb63, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x52f8, gbc.sp());
        EXPECT(0xb65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 001A
        gbc.setState(0x10d, 0xbe99, 0x4f10, 0x1d14, 0x7ad4, 0x5d64, 0x0, 0x1);
        gbc.writeMem(0x10d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xbe99, gbc.sp());
        EXPECT(0x10f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 001B
        gbc.setState(0xac7f, 0x37d3, 0x6e60, 0x64a, 0x83d0, 0x7797, 0x1, 0x0);
        gbc.writeMem(0xac7f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x37d3, gbc.sp());
        EXPECT(0xac81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac7f));
        EXPECT(0x23, gbc.readMem(0xac80));
        // CB 23 001C
        gbc.setState(0x55e3, 0x402c, 0xac70, 0xba58, 0x7bb4, 0x3241, 0x0, 0x1);
        gbc.writeMem(0x55e3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x402c, gbc.sp());
        EXPECT(0x55e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 001D
        gbc.setState(0x14ab, 0xf5d, 0xae80, 0x1aa5, 0x4ea0, 0xb6e7, 0x0, 0x1);
        gbc.writeMem(0x14ab, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xf5d, gbc.sp());
        EXPECT(0x14ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 001E
        gbc.setState(0x999a, 0xd97, 0x4750, 0xb5f2, 0xe016, 0x8b48, 0x1, 0x1);
        gbc.writeMem(0x999a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xd97, gbc.sp());
        EXPECT(0x999c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x999a));
        EXPECT(0x23, gbc.readMem(0x999b));
        // CB 23 001F
        gbc.setState(0xac8b, 0x6675, 0x52d0, 0x84a, 0xf1f0, 0xccd4, 0x1, 0x0);
        gbc.writeMem(0xac8b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x6675, gbc.sp());
        EXPECT(0xac8d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac8b));
        EXPECT(0x23, gbc.readMem(0xac8c));
        // CB 23 0020
        gbc.setState(0x1187, 0x354a, 0x56b0, 0x8fdd, 0x5399, 0x2c24, 0x0, 0x1);
        gbc.writeMem(0x1187, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x354a, gbc.sp());
        EXPECT(0x1189, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0021
        gbc.setState(0xd49, 0x1786, 0x6fb0, 0x44a8, 0x2645, 0x9254, 0x0, 0x1);
        gbc.writeMem(0xd49, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x1786, gbc.sp());
        EXPECT(0xd4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0022
        gbc.setState(0xc04c, 0xe2bd, 0x5300, 0xec7a, 0xa6ce, 0xef8d, 0x1, 0x1);
        gbc.writeMem(0xc04c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xe2bd, gbc.sp());
        EXPECT(0xc04e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc04c));
        EXPECT(0x23, gbc.readMem(0xc04d));
        // CB 23 0024
        gbc.setState(0x6aff, 0x3646, 0xecc0, 0xe190, 0x7286, 0xb053, 0x0, 0x1);
        gbc.writeMem(0x6aff, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x3646, gbc.sp());
        EXPECT(0x6b01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0025
        gbc.setState(0xf0c, 0x3dd9, 0x6160, 0x6f96, 0x9a69, 0x12b, 0x0, 0x1);
        gbc.writeMem(0xf0c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x3dd9, gbc.sp());
        EXPECT(0xf0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0026
        gbc.setState(0xb446, 0xaeae, 0xd10, 0x263e, 0x6e6b, 0x3cfa, 0x0, 0x1);
        gbc.writeMem(0xb446, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xaeae, gbc.sp());
        EXPECT(0xb448, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb446));
        EXPECT(0x23, gbc.readMem(0xb447));
        // CB 23 0027
        gbc.setState(0xcccf, 0x22e6, 0x1870, 0xe074, 0xe397, 0xd07f, 0x1, 0x0);
        gbc.writeMem(0xcccf, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x22e6, gbc.sp());
        EXPECT(0xccd1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcccf));
        EXPECT(0x23, gbc.readMem(0xccd0));
        // CB 23 0028
        gbc.setState(0x56b8, 0x3e80, 0x1760, 0xeabf, 0x36d2, 0x1737, 0x0, 0x0);
        gbc.writeMem(0x56b8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x3e80, gbc.sp());
        EXPECT(0x56ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0029
        gbc.setState(0x3ff4, 0xe60f, 0x3f70, 0x29cb, 0x1336, 0xa9dd, 0x0, 0x1);
        gbc.writeMem(0x3ff4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xe60f, gbc.sp());
        EXPECT(0x3ff6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 002A
        gbc.setState(0xed20, 0x7d64, 0x9350, 0x5024, 0x2d21, 0x86ed, 0x0, 0x1);
        gbc.writeMem(0xed20, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x7d64, gbc.sp());
        EXPECT(0xed22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed20));
        EXPECT(0x23, gbc.readMem(0xed21));
        // CB 23 002B
        gbc.setState(0xdb93, 0xb365, 0x4ae0, 0x62c2, 0x8027, 0x9fd9, 0x0, 0x1);
        gbc.writeMem(0xdb93, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xb365, gbc.sp());
        EXPECT(0xdb95, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb93));
        EXPECT(0x23, gbc.readMem(0xdb94));
        // CB 23 002C
        gbc.setState(0x1ecd, 0xcb48, 0x4f30, 0x18bd, 0xf7e9, 0x1abb, 0x1, 0x1);
        gbc.writeMem(0x1ecd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xcb48, gbc.sp());
        EXPECT(0x1ecf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 002D
        gbc.setState(0x2a2b, 0x2052, 0x5c80, 0x43bf, 0xf3a7, 0x59b3, 0x1, 0x1);
        gbc.writeMem(0x2a2b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x2052, gbc.sp());
        EXPECT(0x2a2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 002E
        gbc.setState(0x657e, 0x8e64, 0xe650, 0x1ba8, 0xe28b, 0x143d, 0x0, 0x1);
        gbc.writeMem(0x657e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x8e64, gbc.sp());
        EXPECT(0x6580, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 002F
        gbc.setState(0x5e59, 0xaa65, 0xc700, 0x352, 0x7cc8, 0x3cd3, 0x1, 0x1);
        gbc.writeMem(0x5e59, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xaa65, gbc.sp());
        EXPECT(0x5e5b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0031
        gbc.setState(0xb07d, 0xf501, 0x37c0, 0xe0c3, 0x9b82, 0x88c6, 0x0, 0x1);
        gbc.writeMem(0xb07d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xf501, gbc.sp());
        EXPECT(0xb07f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb07d));
        EXPECT(0x23, gbc.readMem(0xb07e));
        // CB 23 0032
        gbc.setState(0x49c2, 0x64f1, 0xe5e0, 0xe371, 0x5f01, 0xe73d, 0x0, 0x1);
        gbc.writeMem(0x49c2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x64f1, gbc.sp());
        EXPECT(0x49c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0033
        gbc.setState(0x55a3, 0x2b5, 0x3260, 0xe7cc, 0x146a, 0xdbf1, 0x0, 0x1);
        gbc.writeMem(0x55a3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x2b5, gbc.sp());
        EXPECT(0x55a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0034
        gbc.setState(0x7d53, 0x6b70, 0xbf20, 0x8a40, 0xdf14, 0x1366, 0x0, 0x1);
        gbc.writeMem(0x7d53, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x6b70, gbc.sp());
        EXPECT(0x7d55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0035
        gbc.setState(0x4de, 0x9b1a, 0xee00, 0xa9c7, 0x880f, 0x310f, 0x1, 0x0);
        gbc.writeMem(0x4de, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x9b1a, gbc.sp());
        EXPECT(0x4e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0036
        gbc.setState(0xe242, 0x3199, 0x8c60, 0xc13d, 0xf8b1, 0x5c7e, 0x1, 0x0);
        gbc.writeMem(0xe242, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x3199, gbc.sp());
        EXPECT(0xe244, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe242));
        EXPECT(0x23, gbc.readMem(0xe243));
        // CB 23 0037
        gbc.setState(0xabaf, 0x44a7, 0x750, 0x2690, 0xe573, 0xff7b, 0x0, 0x1);
        gbc.writeMem(0xabaf, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x44a7, gbc.sp());
        EXPECT(0xabb1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xabaf));
        EXPECT(0x23, gbc.readMem(0xabb0));
        // CB 23 0038
        gbc.setState(0xe4e2, 0x9957, 0x1400, 0x2d87, 0x6460, 0x9198, 0x0, 0x1);
        gbc.writeMem(0xe4e2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x9957, gbc.sp());
        EXPECT(0xe4e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe4e2));
        EXPECT(0x23, gbc.readMem(0xe4e3));
        // CB 23 003A
        gbc.setState(0x4b95, 0x23f7, 0xd9b0, 0xb6c4, 0x4582, 0x5f83, 0x0, 0x1);
        gbc.writeMem(0x4b95, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x23f7, gbc.sp());
        EXPECT(0x4b97, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 003B
        gbc.setState(0x6d4c, 0x414a, 0x71a0, 0x6444, 0x9e10, 0x64f2, 0x0, 0x1);
        gbc.writeMem(0x6d4c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x414a, gbc.sp());
        EXPECT(0x6d4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 003C
        gbc.setState(0xbb1e, 0x9b32, 0x66c0, 0x4d74, 0xd23c, 0xe747, 0x0, 0x1);
        gbc.writeMem(0xbb1e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x9b32, gbc.sp());
        EXPECT(0xbb20, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb1e));
        EXPECT(0x23, gbc.readMem(0xbb1f));
        // CB 23 003D
        gbc.setState(0x9b72, 0x7f31, 0xb60, 0xa3b0, 0x179a, 0x55e5, 0x1, 0x1);
        gbc.writeMem(0x9b72, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x7f31, gbc.sp());
        EXPECT(0x9b74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b72));
        EXPECT(0x23, gbc.readMem(0x9b73));
        // CB 23 003E
        gbc.setState(0x5e23, 0x879d, 0x17e0, 0xbbef, 0xb72, 0x2763, 0x0, 0x1);
        gbc.writeMem(0x5e23, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x879d, gbc.sp());
        EXPECT(0x5e25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 003F
        gbc.setState(0xa781, 0x83b3, 0xd1a0, 0x8e25, 0x4b9f, 0x92cd, 0x0, 0x1);
        gbc.writeMem(0xa781, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x83b3, gbc.sp());
        EXPECT(0xa783, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa781));
        EXPECT(0x23, gbc.readMem(0xa782));
        // CB 23 0040
        gbc.setState(0x6ec9, 0x769b, 0x9ec0, 0x56ad, 0xcceb, 0x47cd, 0x0, 0x0);
        gbc.writeMem(0x6ec9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x769b, gbc.sp());
        EXPECT(0x6ecb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0041
        gbc.setState(0x5419, 0x5613, 0x9bc0, 0x2131, 0x27fb, 0xbad9, 0x1, 0x0);
        gbc.writeMem(0x5419, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x5613, gbc.sp());
        EXPECT(0x541b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0042
        gbc.setState(0x580a, 0x4b2d, 0xfcf0, 0x8d14, 0xcf5d, 0x2945, 0x0, 0x1);
        gbc.writeMem(0x580a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x4b2d, gbc.sp());
        EXPECT(0x580c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0044
        gbc.setState(0x2f35, 0x5a8a, 0xaa70, 0x3306, 0x9a19, 0x1485, 0x0, 0x1);
        gbc.writeMem(0x2f35, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x5a8a, gbc.sp());
        EXPECT(0x2f37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0045
        gbc.setState(0x51c1, 0x2f9b, 0xa4e0, 0x36cd, 0xf10c, 0xa005, 0x0, 0x1);
        gbc.writeMem(0x51c1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x2f9b, gbc.sp());
        EXPECT(0x51c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0046
        gbc.setState(0x3370, 0x9a81, 0xab10, 0x6df8, 0xa17c, 0x6cc, 0x1, 0x0);
        gbc.writeMem(0x3370, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x9a81, gbc.sp());
        EXPECT(0x3372, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0047
        gbc.setState(0x65b1, 0xa68d, 0xe8e0, 0x90ef, 0xe401, 0x5b72, 0x0, 0x0);
        gbc.writeMem(0x65b1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xa68d, gbc.sp());
        EXPECT(0x65b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0049
        gbc.setState(0xfa1, 0xebf1, 0x4c20, 0xbe7a, 0x9ad7, 0x724a, 0x0, 0x1);
        gbc.writeMem(0xfa1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xebf1, gbc.sp());
        EXPECT(0xfa3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 004A
        gbc.setState(0x7025, 0xfb47, 0x9bc0, 0xd082, 0x53c, 0xfacc, 0x0, 0x1);
        gbc.writeMem(0x7025, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xfb47, gbc.sp());
        EXPECT(0x7027, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 004B
        gbc.setState(0xac02, 0x98bb, 0x700, 0xe3aa, 0x70f2, 0x6cfb, 0x0, 0x0);
        gbc.writeMem(0xac02, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x98bb, gbc.sp());
        EXPECT(0xac04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac02));
        EXPECT(0x23, gbc.readMem(0xac03));
        // CB 23 004C
        gbc.setState(0xd448, 0x94be, 0x3840, 0xfa44, 0xf411, 0xaf0f, 0x1, 0x1);
        gbc.writeMem(0xd448, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x94be, gbc.sp());
        EXPECT(0xd44a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd448));
        EXPECT(0x23, gbc.readMem(0xd449));
        // CB 23 004D
        gbc.setState(0x39eb, 0x410b, 0x6e20, 0xe560, 0x6030, 0x44, 0x1, 0x1);
        gbc.writeMem(0x39eb, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x410b, gbc.sp());
        EXPECT(0x39ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 004E
        gbc.setState(0x49c5, 0x7ad8, 0x1cb0, 0x9a02, 0xd5a5, 0xb8f4, 0x1, 0x1);
        gbc.writeMem(0x49c5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x7ad8, gbc.sp());
        EXPECT(0x49c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 004F
        gbc.setState(0x1b2b, 0x10d5, 0xb550, 0x810f, 0x79fa, 0x743c, 0x1, 0x0);
        gbc.writeMem(0x1b2b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x10d5, gbc.sp());
        EXPECT(0x1b2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0052
        gbc.setState(0x864c, 0x92ca, 0xeb0, 0xa262, 0xfc46, 0xd024, 0x0, 0x0);
        gbc.writeMem(0x864c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x92ca, gbc.sp());
        EXPECT(0x864e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x864c));
        EXPECT(0x23, gbc.readMem(0x864d));
        // CB 23 0053
        gbc.setState(0x9d3, 0xeac5, 0xed50, 0x3d67, 0xac6e, 0xf3fb, 0x1, 0x0);
        gbc.writeMem(0x9d3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xeac5, gbc.sp());
        EXPECT(0x9d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0054
        gbc.setState(0xefea, 0xc450, 0xe3b0, 0x6050, 0xfee2, 0x1c71, 0x0, 0x0);
        gbc.writeMem(0xefea, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xc450, gbc.sp());
        EXPECT(0xefec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xefea));
        EXPECT(0x23, gbc.readMem(0xefeb));
        // CB 23 0055
        gbc.setState(0xa4cc, 0xe352, 0x4f50, 0x3dc2, 0x137d, 0x80e9, 0x0, 0x0);
        gbc.writeMem(0xa4cc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xe352, gbc.sp());
        EXPECT(0xa4ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4cc));
        EXPECT(0x23, gbc.readMem(0xa4cd));
        // CB 23 0056
        gbc.setState(0xc0ca, 0xb7c4, 0x5420, 0x27a, 0x2a09, 0x2153, 0x1, 0x1);
        gbc.writeMem(0xc0ca, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xb7c4, gbc.sp());
        EXPECT(0xc0cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0ca));
        EXPECT(0x23, gbc.readMem(0xc0cb));
        // CB 23 0057
        gbc.setState(0x52e, 0xee1a, 0xd490, 0xa311, 0x9040, 0xd4f6, 0x1, 0x1);
        gbc.writeMem(0x52e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xee1a, gbc.sp());
        EXPECT(0x530, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0059
        gbc.setState(0x50ce, 0x3091, 0xc730, 0xa294, 0x920f, 0xfbf2, 0x0, 0x1);
        gbc.writeMem(0x50ce, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x3091, gbc.sp());
        EXPECT(0x50d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 005A
        gbc.setState(0xde1d, 0xeffd, 0xe0f0, 0xca59, 0x19eb, 0xbd8, 0x0, 0x1);
        gbc.writeMem(0xde1d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xeffd, gbc.sp());
        EXPECT(0xde1f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde1d));
        EXPECT(0x23, gbc.readMem(0xde1e));
        // CB 23 005B
        gbc.setState(0x630f, 0x8706, 0x9570, 0xdbcd, 0xecce, 0x6a60, 0x1, 0x1);
        gbc.writeMem(0x630f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x8706, gbc.sp());
        EXPECT(0x6311, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 005C
        gbc.setState(0x18b1, 0xe0de, 0x53d0, 0x8e53, 0x8b5e, 0xbe26, 0x1, 0x1);
        gbc.writeMem(0x18b1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xe0de, gbc.sp());
        EXPECT(0x18b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 005D
        gbc.setState(0xc63e, 0x4117, 0x97e0, 0xa4aa, 0xb97, 0x48a8, 0x1, 0x0);
        gbc.writeMem(0xc63e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x4117, gbc.sp());
        EXPECT(0xc640, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc63e));
        EXPECT(0x23, gbc.readMem(0xc63f));
        // CB 23 005E
        gbc.setState(0xd886, 0xe4a6, 0xd940, 0x2cec, 0x6faf, 0xa366, 0x0, 0x1);
        gbc.writeMem(0xd886, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xe4a6, gbc.sp());
        EXPECT(0xd888, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd886));
        EXPECT(0x23, gbc.readMem(0xd887));
        // CB 23 005F
        gbc.setState(0x5ac, 0xedf8, 0xa590, 0x6aa9, 0x66fd, 0x2a04, 0x0, 0x0);
        gbc.writeMem(0x5ac, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xedf8, gbc.sp());
        EXPECT(0x5ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0060
        gbc.setState(0x2de2, 0xd86c, 0xa1a0, 0x2039, 0x3ee6, 0xf6ad, 0x0, 0x0);
        gbc.writeMem(0x2de2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xd86c, gbc.sp());
        EXPECT(0x2de4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0061
        gbc.setState(0xd07b, 0x8775, 0xcce0, 0xd628, 0x48c8, 0x382f, 0x0, 0x1);
        gbc.writeMem(0xd07b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x8775, gbc.sp());
        EXPECT(0xd07d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd07b));
        EXPECT(0x23, gbc.readMem(0xd07c));
        // CB 23 0062
        gbc.setState(0x5efd, 0xb3d9, 0xfa00, 0x2830, 0xa090, 0x481b, 0x1, 0x1);
        gbc.writeMem(0x5efd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xb3d9, gbc.sp());
        EXPECT(0x5eff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0063
        gbc.setState(0x5476, 0x5f1d, 0x9550, 0x2802, 0x36e9, 0x4792, 0x1, 0x1);
        gbc.writeMem(0x5476, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x5f1d, gbc.sp());
        EXPECT(0x5478, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0064
        gbc.setState(0x957a, 0xbfac, 0x6770, 0x1aa5, 0x753c, 0x4754, 0x1, 0x0);
        gbc.writeMem(0x957a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xbfac, gbc.sp());
        EXPECT(0x957c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x957a));
        EXPECT(0x23, gbc.readMem(0x957b));
        // CB 23 0065
        gbc.setState(0x2418, 0xb7bd, 0xf990, 0x3eeb, 0x2a97, 0xb61b, 0x0, 0x1);
        gbc.writeMem(0x2418, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xb7bd, gbc.sp());
        EXPECT(0x241a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0066
        gbc.setState(0xd72d, 0x599a, 0x3100, 0xa894, 0xedbc, 0xc28a, 0x0, 0x0);
        gbc.writeMem(0xd72d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x599a, gbc.sp());
        EXPECT(0xd72f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd72d));
        EXPECT(0x23, gbc.readMem(0xd72e));
        // CB 23 0067
        gbc.setState(0x1c21, 0xae9c, 0x6270, 0x6516, 0x30bf, 0xb20d, 0x1, 0x0);
        gbc.writeMem(0x1c21, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xae9c, gbc.sp());
        EXPECT(0x1c23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0068
        gbc.setState(0x2345, 0x320, 0x9450, 0xb710, 0x9725, 0xeca, 0x1, 0x1);
        gbc.writeMem(0x2345, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x320, gbc.sp());
        EXPECT(0x2347, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0069
        gbc.setState(0x9171, 0x2a50, 0x6c00, 0xc670, 0x79cc, 0x757d, 0x0, 0x0);
        gbc.writeMem(0x9171, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x2a50, gbc.sp());
        EXPECT(0x9173, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9171));
        EXPECT(0x23, gbc.readMem(0x9172));
        // CB 23 006A
        gbc.setState(0x1c71, 0x4017, 0x9ee0, 0xf360, 0x182e, 0xb950, 0x0, 0x0);
        gbc.writeMem(0x1c71, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x4017, gbc.sp());
        EXPECT(0x1c73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 006B
        gbc.setState(0x3675, 0xb170, 0xdda0, 0xc69d, 0x972c, 0xe07b, 0x0, 0x1);
        gbc.writeMem(0x3675, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xb170, gbc.sp());
        EXPECT(0x3677, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 006C
        gbc.setState(0x3406, 0xf902, 0x2240, 0x1568, 0x7fc9, 0x94aa, 0x0, 0x0);
        gbc.writeMem(0x3406, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xf902, gbc.sp());
        EXPECT(0x3408, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 006E
        gbc.setState(0x4549, 0x2857, 0xed50, 0x2463, 0x27a6, 0x81a8, 0x1, 0x0);
        gbc.writeMem(0x4549, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x2857, gbc.sp());
        EXPECT(0x454b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 006F
        gbc.setState(0xc249, 0xf011, 0xb0, 0xcb4e, 0xc994, 0x7036, 0x1, 0x0);
        gbc.writeMem(0xc249, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xf011, gbc.sp());
        EXPECT(0xc24b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc249));
        EXPECT(0x23, gbc.readMem(0xc24a));
        // CB 23 0071
        gbc.setState(0xc6c2, 0xbed5, 0xf050, 0x8cf8, 0xf9c2, 0x2bc2, 0x1, 0x1);
        gbc.writeMem(0xc6c2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xbed5, gbc.sp());
        EXPECT(0xc6c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc6c2));
        EXPECT(0x23, gbc.readMem(0xc6c3));
        // CB 23 0072
        gbc.setState(0x12cf, 0xaed, 0x6780, 0x84c2, 0xac31, 0xaba3, 0x0, 0x1);
        gbc.writeMem(0x12cf, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xaed, gbc.sp());
        EXPECT(0x12d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0075
        gbc.setState(0x89a3, 0x3ba, 0xb7f0, 0x7f32, 0x1463, 0xa5b6, 0x0, 0x1);
        gbc.writeMem(0x89a3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x3ba, gbc.sp());
        EXPECT(0x89a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89a3));
        EXPECT(0x23, gbc.readMem(0x89a4));
        // CB 23 0076
        gbc.setState(0x1e67, 0x3bc, 0x25b0, 0x6542, 0xc108, 0x4cc0, 0x1, 0x1);
        gbc.writeMem(0x1e67, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x3bc, gbc.sp());
        EXPECT(0x1e69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0077
        gbc.setState(0xe6df, 0xd3f7, 0xeb80, 0x1ead, 0x3f9f, 0x7ca5, 0x1, 0x1);
        gbc.writeMem(0xe6df, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xd3f7, gbc.sp());
        EXPECT(0xe6e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe6df));
        EXPECT(0x23, gbc.readMem(0xe6e0));
        // CB 23 0078
        gbc.setState(0xdafd, 0x6d29, 0xf660, 0x440, 0x18d8, 0x3e7b, 0x0, 0x1);
        gbc.writeMem(0xdafd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x6d29, gbc.sp());
        EXPECT(0xdaff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdafd));
        EXPECT(0x23, gbc.readMem(0xdafe));
        // CB 23 0079
        gbc.setState(0x8cd3, 0xeafb, 0x1ee0, 0xd774, 0xa77, 0xa270, 0x1, 0x1);
        gbc.writeMem(0x8cd3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xeafb, gbc.sp());
        EXPECT(0x8cd5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8cd3));
        EXPECT(0x23, gbc.readMem(0x8cd4));
        // CB 23 007A
        gbc.setState(0x5668, 0x141a, 0x65c0, 0x5db, 0xe4f1, 0x884d, 0x0, 0x0);
        gbc.writeMem(0x5668, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x141a, gbc.sp());
        EXPECT(0x566a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 007B
        gbc.setState(0xef74, 0x99b0, 0x1ed0, 0xd888, 0xcd13, 0x86e5, 0x0, 0x1);
        gbc.writeMem(0xef74, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x99b0, gbc.sp());
        EXPECT(0xef76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef74));
        EXPECT(0x23, gbc.readMem(0xef75));
        // CB 23 007D
        gbc.setState(0xacaf, 0x95dc, 0xde80, 0xebb7, 0x78d7, 0x2b73, 0x1, 0x1);
        gbc.writeMem(0xacaf, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x95dc, gbc.sp());
        EXPECT(0xacb1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xacaf));
        EXPECT(0x23, gbc.readMem(0xacb0));
        // CB 23 007E
        gbc.setState(0x7676, 0xbf2, 0x4800, 0x898c, 0x3640, 0x2bfd, 0x0, 0x1);
        gbc.writeMem(0x7676, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xbf2, gbc.sp());
        EXPECT(0x7678, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 007F
        gbc.setState(0xc372, 0x8f08, 0x1020, 0x8535, 0x9cf4, 0xb25d, 0x1, 0x1);
        gbc.writeMem(0xc372, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x8f08, gbc.sp());
        EXPECT(0xc374, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc372));
        EXPECT(0x23, gbc.readMem(0xc373));
        // CB 23 0080
        gbc.setState(0xc2ff, 0x8ee8, 0x1ed0, 0x1c88, 0x701f, 0x6443, 0x0, 0x0);
        gbc.writeMem(0xc2ff, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x8ee8, gbc.sp());
        EXPECT(0xc301, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc2ff));
        EXPECT(0x23, gbc.readMem(0xc300));
        // CB 23 0081
        gbc.setState(0x8ea6, 0x478f, 0x7130, 0x40ae, 0xef34, 0x1a39, 0x1, 0x0);
        gbc.writeMem(0x8ea6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x478f, gbc.sp());
        EXPECT(0x8ea8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ea6));
        EXPECT(0x23, gbc.readMem(0x8ea7));
        // CB 23 0082
        gbc.setState(0xca06, 0x8962, 0x90e0, 0x0, 0x635e, 0xea48, 0x0, 0x0);
        gbc.writeMem(0xca06, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x8962, gbc.sp());
        EXPECT(0xca08, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca06));
        EXPECT(0x23, gbc.readMem(0xca07));
        // CB 23 0083
        gbc.setState(0x79e7, 0x67ef, 0x2a0, 0x53b7, 0xd02b, 0x66bf, 0x1, 0x0);
        gbc.writeMem(0x79e7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x67ef, gbc.sp());
        EXPECT(0x79e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0084
        gbc.setState(0xc943, 0x7a73, 0x7b90, 0x2dc8, 0x7798, 0x8082, 0x1, 0x1);
        gbc.writeMem(0xc943, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x7a73, gbc.sp());
        EXPECT(0xc945, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc943));
        EXPECT(0x23, gbc.readMem(0xc944));
        // CB 23 0085
        gbc.setState(0xc076, 0x7fda, 0x76a0, 0x4dc2, 0x10a2, 0xa999, 0x0, 0x0);
        gbc.writeMem(0xc076, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x7fda, gbc.sp());
        EXPECT(0xc078, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc076));
        EXPECT(0x23, gbc.readMem(0xc077));
        // CB 23 0087
        gbc.setState(0x9554, 0x3dff, 0x8ed0, 0x19e8, 0x4a31, 0xf7bb, 0x0, 0x1);
        gbc.writeMem(0x9554, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x3dff, gbc.sp());
        EXPECT(0x9556, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9554));
        EXPECT(0x23, gbc.readMem(0x9555));
        // CB 23 0088
        gbc.setState(0x8eee, 0x50b9, 0xd970, 0xa223, 0xef28, 0x874f, 0x0, 0x0);
        gbc.writeMem(0x8eee, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x50b9, gbc.sp());
        EXPECT(0x8ef0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8eee));
        EXPECT(0x23, gbc.readMem(0x8eef));
        // CB 23 0089
        gbc.setState(0x81fa, 0x7b1a, 0x9a40, 0x69ab, 0x4411, 0xce1, 0x0, 0x0);
        gbc.writeMem(0x81fa, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x7b1a, gbc.sp());
        EXPECT(0x81fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x81fa));
        EXPECT(0x23, gbc.readMem(0x81fb));
        // CB 23 008A
        gbc.setState(0x535b, 0x9115, 0xe360, 0x866e, 0x9b9c, 0xe23, 0x1, 0x0);
        gbc.writeMem(0x535b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x9115, gbc.sp());
        EXPECT(0x535d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 008B
        gbc.setState(0xcf31, 0xe6cd, 0x20c0, 0xab74, 0x4ab, 0x720f, 0x1, 0x0);
        gbc.writeMem(0xcf31, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xe6cd, gbc.sp());
        EXPECT(0xcf33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf31));
        EXPECT(0x23, gbc.readMem(0xcf32));
        // CB 23 008C
        gbc.setState(0x881d, 0x71fc, 0xefe0, 0x4d7a, 0xb942, 0x4799, 0x0, 0x1);
        gbc.writeMem(0x881d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x71fc, gbc.sp());
        EXPECT(0x881f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x881d));
        EXPECT(0x23, gbc.readMem(0x881e));
        // CB 23 008D
        gbc.setState(0x650, 0xb29d, 0x8080, 0xd1cd, 0x25b, 0xfb9d, 0x1, 0x1);
        gbc.writeMem(0x650, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xb29d, gbc.sp());
        EXPECT(0x652, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 008E
        gbc.setState(0x4a26, 0x56b6, 0x8180, 0xd7e8, 0xe0d2, 0x3671, 0x0, 0x0);
        gbc.writeMem(0x4a26, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x56b6, gbc.sp());
        EXPECT(0x4a28, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 008F
        gbc.setState(0x89b1, 0x9ee0, 0x33b0, 0x256f, 0x5814, 0x50e0, 0x0, 0x0);
        gbc.writeMem(0x89b1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x9ee0, gbc.sp());
        EXPECT(0x89b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89b1));
        EXPECT(0x23, gbc.readMem(0x89b2));
        // CB 23 0090
        gbc.setState(0x9a89, 0x5e89, 0x1790, 0x2969, 0xf337, 0x2625, 0x1, 0x0);
        gbc.writeMem(0x9a89, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x5e89, gbc.sp());
        EXPECT(0x9a8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a89));
        EXPECT(0x23, gbc.readMem(0x9a8a));
        // CB 23 0091
        gbc.setState(0x7131, 0x58f2, 0x2a30, 0x8f3a, 0xb57e, 0xf077, 0x1, 0x0);
        gbc.writeMem(0x7131, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x58f2, gbc.sp());
        EXPECT(0x7133, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0092
        gbc.setState(0x7371, 0x4c37, 0xf0d0, 0x9672, 0x8370, 0x3dd4, 0x1, 0x1);
        gbc.writeMem(0x7371, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x4c37, gbc.sp());
        EXPECT(0x7373, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0093
        gbc.setState(0xdb44, 0x873c, 0x9550, 0x697f, 0xd1e9, 0x280a, 0x1, 0x1);
        gbc.writeMem(0xdb44, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x873c, gbc.sp());
        EXPECT(0xdb46, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb44));
        EXPECT(0x23, gbc.readMem(0xdb45));
        // CB 23 0094
        gbc.setState(0xb3ff, 0x311a, 0x9770, 0x7c, 0x72a6, 0x9564, 0x1, 0x1);
        gbc.writeMem(0xb3ff, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x311a, gbc.sp());
        EXPECT(0xb401, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb3ff));
        EXPECT(0x23, gbc.readMem(0xb400));
        // CB 23 0095
        gbc.setState(0x9203, 0x28a8, 0x24e0, 0xef3f, 0xe99b, 0x1fb4, 0x1, 0x0);
        gbc.writeMem(0x9203, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x28a8, gbc.sp());
        EXPECT(0x9205, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9203));
        EXPECT(0x23, gbc.readMem(0x9204));
        // CB 23 0096
        gbc.setState(0x2caf, 0x2e23, 0x500, 0x6e91, 0xb5e1, 0x85a4, 0x1, 0x1);
        gbc.writeMem(0x2caf, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x2e23, gbc.sp());
        EXPECT(0x2cb1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0097
        gbc.setState(0x4864, 0x771e, 0x8b40, 0xe5c5, 0x2d8a, 0xb615, 0x1, 0x0);
        gbc.writeMem(0x4864, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x771e, gbc.sp());
        EXPECT(0x4866, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0098
        gbc.setState(0x3135, 0x5de7, 0x7880, 0x703a, 0xabd0, 0xacbd, 0x1, 0x1);
        gbc.writeMem(0x3135, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x5de7, gbc.sp());
        EXPECT(0x3137, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 009A
        gbc.setState(0x9d0a, 0x381f, 0x7d90, 0xe349, 0x42a9, 0x8883, 0x0, 0x1);
        gbc.writeMem(0x9d0a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x381f, gbc.sp());
        EXPECT(0x9d0c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d0a));
        EXPECT(0x23, gbc.readMem(0x9d0b));
        // CB 23 009B
        gbc.setState(0xa259, 0x9f0e, 0xf7d0, 0xb3eb, 0xbb94, 0xb39d, 0x1, 0x0);
        gbc.writeMem(0xa259, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x9f0e, gbc.sp());
        EXPECT(0xa25b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa259));
        EXPECT(0x23, gbc.readMem(0xa25a));
        // CB 23 009C
        gbc.setState(0x9dc8, 0x38d6, 0xb430, 0xd4b5, 0x734a, 0x51c0, 0x1, 0x0);
        gbc.writeMem(0x9dc8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x38d6, gbc.sp());
        EXPECT(0x9dca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9dc8));
        EXPECT(0x23, gbc.readMem(0x9dc9));
        // CB 23 009D
        gbc.setState(0xca46, 0x7c9c, 0x6d80, 0x1d, 0x16c6, 0x7c2d, 0x1, 0x1);
        gbc.writeMem(0xca46, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x7c9c, gbc.sp());
        EXPECT(0xca48, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca46));
        EXPECT(0x23, gbc.readMem(0xca47));
        // CB 23 009E
        gbc.setState(0x8840, 0x17c0, 0x45e0, 0x2a47, 0xb7e, 0x7007, 0x1, 0x1);
        gbc.writeMem(0x8840, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x17c0, gbc.sp());
        EXPECT(0x8842, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8840));
        EXPECT(0x23, gbc.readMem(0x8841));
        // CB 23 00A0
        gbc.setState(0x72dc, 0x7869, 0xaa90, 0xa820, 0xa27a, 0x40b8, 0x0, 0x1);
        gbc.writeMem(0x72dc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x7869, gbc.sp());
        EXPECT(0x72de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00A2
        gbc.setState(0xc34, 0xb551, 0xc330, 0x7d73, 0x2b02, 0xf785, 0x1, 0x0);
        gbc.writeMem(0xc34, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xb551, gbc.sp());
        EXPECT(0xc36, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00A3
        gbc.setState(0x8515, 0x8f3c, 0xef40, 0x32e3, 0x3ee1, 0x5d38, 0x0, 0x0);
        gbc.writeMem(0x8515, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x8f3c, gbc.sp());
        EXPECT(0x8517, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8515));
        EXPECT(0x23, gbc.readMem(0x8516));
        // CB 23 00A4
        gbc.setState(0x4ab8, 0xfc43, 0xbfc0, 0x3c68, 0xbff5, 0xb159, 0x0, 0x1);
        gbc.writeMem(0x4ab8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xfc43, gbc.sp());
        EXPECT(0x4aba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00A5
        gbc.setState(0x49b9, 0xccd4, 0x6400, 0x2b45, 0x7738, 0x7507, 0x1, 0x0);
        gbc.writeMem(0x49b9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xccd4, gbc.sp());
        EXPECT(0x49bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00A6
        gbc.setState(0x7ae0, 0x95bf, 0xeb20, 0xf29a, 0x653a, 0xff5c, 0x1, 0x1);
        gbc.writeMem(0x7ae0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x95bf, gbc.sp());
        EXPECT(0x7ae2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00A7
        gbc.setState(0x8912, 0xfe7d, 0x8fd0, 0x1fb9, 0x32d8, 0x5efb, 0x0, 0x1);
        gbc.writeMem(0x8912, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xfe7d, gbc.sp());
        EXPECT(0x8914, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8912));
        EXPECT(0x23, gbc.readMem(0x8913));
        // CB 23 00A8
        gbc.setState(0x1338, 0x95b9, 0x9150, 0xcb77, 0x9391, 0x748f, 0x0, 0x1);
        gbc.writeMem(0x1338, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x95b9, gbc.sp());
        EXPECT(0x133a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00A9
        gbc.setState(0x1ded, 0xcf76, 0xcd10, 0xbcbd, 0xe3d6, 0xb2ee, 0x0, 0x1);
        gbc.writeMem(0x1ded, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xcf76, gbc.sp());
        EXPECT(0x1def, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00AA
        gbc.setState(0x3d3, 0xe18b, 0x1e0, 0xc5c5, 0x9eca, 0x25aa, 0x0, 0x1);
        gbc.writeMem(0x3d3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xe18b, gbc.sp());
        EXPECT(0x3d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00AB
        gbc.setState(0xca03, 0x64c9, 0x57c0, 0x6d16, 0x5f6b, 0xbbc6, 0x1, 0x1);
        gbc.writeMem(0xca03, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x64c9, gbc.sp());
        EXPECT(0xca05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca03));
        EXPECT(0x23, gbc.readMem(0xca04));
        // CB 23 00AC
        gbc.setState(0x646a, 0xc2a3, 0x8250, 0x7560, 0x1b4f, 0xf6b0, 0x0, 0x1);
        gbc.writeMem(0x646a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xc2a3, gbc.sp());
        EXPECT(0x646c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00AD
        gbc.setState(0xb185, 0x64db, 0x1850, 0xafdf, 0xdd5c, 0x8035, 0x1, 0x0);
        gbc.writeMem(0xb185, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x64db, gbc.sp());
        EXPECT(0xb187, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb185));
        EXPECT(0x23, gbc.readMem(0xb186));
        // CB 23 00AE
        gbc.setState(0x1caf, 0x887a, 0xc5b0, 0x3b63, 0xcb9c, 0xf35c, 0x1, 0x0);
        gbc.writeMem(0x1caf, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x887a, gbc.sp());
        EXPECT(0x1cb1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00AF
        gbc.setState(0x5f1d, 0xf290, 0x25d0, 0xff, 0x16ff, 0x621, 0x1, 0x0);
        gbc.writeMem(0x5f1d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xf290, gbc.sp());
        EXPECT(0x5f1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00B0
        gbc.setState(0xcf38, 0x2d42, 0x4d20, 0xe402, 0xc8fd, 0xb67f, 0x0, 0x0);
        gbc.writeMem(0xcf38, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x2d42, gbc.sp());
        EXPECT(0xcf3a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf38));
        EXPECT(0x23, gbc.readMem(0xcf39));
        // CB 23 00B1
        gbc.setState(0xb130, 0xec17, 0xe6c0, 0xc893, 0xbbbf, 0xeea0, 0x0, 0x1);
        gbc.writeMem(0xb130, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xec17, gbc.sp());
        EXPECT(0xb132, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb130));
        EXPECT(0x23, gbc.readMem(0xb131));
        // CB 23 00B2
        gbc.setState(0xbc64, 0x8457, 0xf50, 0x4d3b, 0xed72, 0x384b, 0x1, 0x1);
        gbc.writeMem(0xbc64, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x8457, gbc.sp());
        EXPECT(0xbc66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc64));
        EXPECT(0x23, gbc.readMem(0xbc65));
        // CB 23 00B3
        gbc.setState(0xb98c, 0x237, 0x4480, 0x7b82, 0x78cb, 0x9988, 0x1, 0x0);
        gbc.writeMem(0xb98c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x237, gbc.sp());
        EXPECT(0xb98e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb98c));
        EXPECT(0x23, gbc.readMem(0xb98d));
        // CB 23 00B4
        gbc.setState(0x7558, 0xa2bb, 0x1a30, 0xc7ea, 0xe6ba, 0xa06e, 0x0, 0x1);
        gbc.writeMem(0x7558, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xa2bb, gbc.sp());
        EXPECT(0x755a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00B5
        gbc.setState(0x757d, 0x4fc7, 0x1c70, 0x1fa, 0x6a8b, 0x2af4, 0x0, 0x1);
        gbc.writeMem(0x757d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x4fc7, gbc.sp());
        EXPECT(0x757f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00B6
        gbc.setState(0x38d2, 0xafc7, 0x1430, 0xe27b, 0xc36e, 0xd8df, 0x1, 0x1);
        gbc.writeMem(0x38d2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xafc7, gbc.sp());
        EXPECT(0x38d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00B7
        gbc.setState(0x12e4, 0x9135, 0x4510, 0x7a20, 0x2afb, 0xefcb, 0x0, 0x1);
        gbc.writeMem(0x12e4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x9135, gbc.sp());
        EXPECT(0x12e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00B8
        gbc.setState(0xa290, 0xcb49, 0x84a0, 0x366d, 0x4c83, 0xd8b, 0x0, 0x1);
        gbc.writeMem(0xa290, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xcb49, gbc.sp());
        EXPECT(0xa292, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa290));
        EXPECT(0x23, gbc.readMem(0xa291));
        // CB 23 00B9
        gbc.setState(0x2001, 0xfc52, 0x540, 0x44bd, 0xe89a, 0xb40d, 0x0, 0x1);
        gbc.writeMem(0x2001, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xfc52, gbc.sp());
        EXPECT(0x2003, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00BA
        gbc.setState(0xb4dd, 0x1786, 0x1b20, 0x73a1, 0x1f0c, 0x1e35, 0x1, 0x0);
        gbc.writeMem(0xb4dd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x1786, gbc.sp());
        EXPECT(0xb4df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb4dd));
        EXPECT(0x23, gbc.readMem(0xb4de));
        // CB 23 00BB
        gbc.setState(0x351b, 0x70ad, 0xbe10, 0x356b, 0x81eb, 0x9eb2, 0x0, 0x0);
        gbc.writeMem(0x351b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x70ad, gbc.sp());
        EXPECT(0x351d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00BC
        gbc.setState(0xcbaa, 0xcd9f, 0x4010, 0xca83, 0xae5c, 0xe35d, 0x0, 0x1);
        gbc.writeMem(0xcbaa, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xcd9f, gbc.sp());
        EXPECT(0xcbac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbaa));
        EXPECT(0x23, gbc.readMem(0xcbab));
        // CB 23 00BD
        gbc.setState(0x86ed, 0x6af, 0x3a80, 0x785b, 0xb0a2, 0xd83f, 0x1, 0x0);
        gbc.writeMem(0x86ed, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x6af, gbc.sp());
        EXPECT(0x86ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x86ed));
        EXPECT(0x23, gbc.readMem(0x86ee));
        // CB 23 00BE
        gbc.setState(0xc7d8, 0x7444, 0xbdf0, 0x17fe, 0xff6b, 0x6fef, 0x0, 0x0);
        gbc.writeMem(0xc7d8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x7444, gbc.sp());
        EXPECT(0xc7da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc7d8));
        EXPECT(0x23, gbc.readMem(0xc7d9));
        // CB 23 00BF
        gbc.setState(0x6001, 0x858f, 0xba80, 0x5913, 0x4daa, 0xc1c7, 0x0, 0x1);
        gbc.writeMem(0x6001, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x858f, gbc.sp());
        EXPECT(0x6003, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00C0
        gbc.setState(0xa05, 0x8981, 0x99e0, 0xdb2d, 0xb69, 0xfc68, 0x1, 0x1);
        gbc.writeMem(0xa05, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x8981, gbc.sp());
        EXPECT(0xa07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00C1
        gbc.setState(0x2755, 0x7d2e, 0xb700, 0xa625, 0xe956, 0x6d88, 0x1, 0x0);
        gbc.writeMem(0x2755, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x7d2e, gbc.sp());
        EXPECT(0x2757, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00C2
        gbc.setState(0xbfce, 0xb526, 0x90b0, 0x1bf5, 0xbd70, 0xc4b3, 0x1, 0x0);
        gbc.writeMem(0xbfce, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xb526, gbc.sp());
        EXPECT(0xbfd0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfce));
        EXPECT(0x23, gbc.readMem(0xbfcf));
        // CB 23 00C3
        gbc.setState(0x9983, 0x6ddb, 0x950, 0x3bcd, 0x46ee, 0xa487, 0x0, 0x0);
        gbc.writeMem(0x9983, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x6ddb, gbc.sp());
        EXPECT(0x9985, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9983));
        EXPECT(0x23, gbc.readMem(0x9984));
        // CB 23 00C4
        gbc.setState(0x6f52, 0x519f, 0xc210, 0x435e, 0x607, 0x7fc9, 0x1, 0x0);
        gbc.writeMem(0x6f52, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x519f, gbc.sp());
        EXPECT(0x6f54, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00C5
        gbc.setState(0xe3a3, 0x36d4, 0x4ad0, 0x3845, 0xb44b, 0x2a33, 0x0, 0x0);
        gbc.writeMem(0xe3a3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x36d4, gbc.sp());
        EXPECT(0xe3a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3a3));
        EXPECT(0x23, gbc.readMem(0xe3a4));
        // CB 23 00C6
        gbc.setState(0x4fe8, 0xa165, 0x6970, 0xb89b, 0xd144, 0x7d3c, 0x0, 0x0);
        gbc.writeMem(0x4fe8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xa165, gbc.sp());
        EXPECT(0x4fea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00C7
        gbc.setState(0x1b2c, 0xbc75, 0x40d0, 0x4ea7, 0x1c68, 0x94c9, 0x0, 0x1);
        gbc.writeMem(0x1b2c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xbc75, gbc.sp());
        EXPECT(0x1b2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00C8
        gbc.setState(0xda6d, 0x71c, 0xa50, 0x9d57, 0xf354, 0x517a, 0x1, 0x1);
        gbc.writeMem(0xda6d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x71c, gbc.sp());
        EXPECT(0xda6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda6d));
        EXPECT(0x23, gbc.readMem(0xda6e));
        // CB 23 00C9
        gbc.setState(0xc5d0, 0xbb47, 0x8910, 0x5999, 0xb112, 0x8ff9, 0x0, 0x0);
        gbc.writeMem(0xc5d0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xbb47, gbc.sp());
        EXPECT(0xc5d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc5d0));
        EXPECT(0x23, gbc.readMem(0xc5d1));
        // CB 23 00CA
        gbc.setState(0xa81b, 0x4700, 0xfc80, 0xe361, 0xbd57, 0x509d, 0x0, 0x0);
        gbc.writeMem(0xa81b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x4700, gbc.sp());
        EXPECT(0xa81d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa81b));
        EXPECT(0x23, gbc.readMem(0xa81c));
        // CB 23 00CB
        gbc.setState(0xddf0, 0x23f3, 0xad50, 0xe1de, 0x6979, 0xb333, 0x0, 0x0);
        gbc.writeMem(0xddf0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x23f3, gbc.sp());
        EXPECT(0xddf2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xddf0));
        EXPECT(0x23, gbc.readMem(0xddf1));
        // CB 23 00CC
        gbc.setState(0x7bea, 0x6bc6, 0x70b0, 0xc82b, 0x25b3, 0x98cd, 0x1, 0x1);
        gbc.writeMem(0x7bea, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x6bc6, gbc.sp());
        EXPECT(0x7bec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00CD
        gbc.setState(0x26a, 0x2321, 0x17e0, 0x1f2a, 0xd9a9, 0xf266, 0x0, 0x0);
        gbc.writeMem(0x26a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x2321, gbc.sp());
        EXPECT(0x26c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00CE
        gbc.setState(0x26d9, 0x7731, 0xd130, 0xf5f5, 0x5597, 0x8261, 0x1, 0x0);
        gbc.writeMem(0x26d9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x7731, gbc.sp());
        EXPECT(0x26db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00CF
        gbc.setState(0x78db, 0xd9ef, 0xef30, 0xea4f, 0xcc13, 0xe84e, 0x0, 0x0);
        gbc.writeMem(0x78db, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xd9ef, gbc.sp());
        EXPECT(0x78dd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00D0
        gbc.setState(0x7838, 0x5c8f, 0xfff0, 0x24a8, 0x9d6f, 0x7349, 0x1, 0x1);
        gbc.writeMem(0x7838, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x5c8f, gbc.sp());
        EXPECT(0x783a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00D1
        gbc.setState(0x662f, 0x25bc, 0xdd50, 0x6560, 0xa8c5, 0x4c7, 0x1, 0x0);
        gbc.writeMem(0x662f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x25bc, gbc.sp());
        EXPECT(0x6631, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00D2
        gbc.setState(0x1fa5, 0xcd8d, 0x8d00, 0xbd8, 0xac69, 0xf59a, 0x1, 0x0);
        gbc.writeMem(0x1fa5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xcd8d, gbc.sp());
        EXPECT(0x1fa7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00D3
        gbc.setState(0x67f0, 0xc193, 0x4330, 0x1eab, 0x3bac, 0xe24b, 0x1, 0x0);
        gbc.writeMem(0x67f0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xc193, gbc.sp());
        EXPECT(0x67f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00D4
        gbc.setState(0x1f0, 0xdf45, 0x3140, 0x9a32, 0xa632, 0x3aff, 0x0, 0x0);
        gbc.writeMem(0x1f0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xdf45, gbc.sp());
        EXPECT(0x1f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00D5
        gbc.setState(0x1082, 0xb024, 0xf7b0, 0x48fb, 0x869d, 0xb39, 0x1, 0x1);
        gbc.writeMem(0x1082, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xb024, gbc.sp());
        EXPECT(0x1084, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00D6
        gbc.setState(0x89d1, 0x9c60, 0x2290, 0xea1, 0xb15a, 0x668b, 0x1, 0x0);
        gbc.writeMem(0x89d1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x9c60, gbc.sp());
        EXPECT(0x89d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89d1));
        EXPECT(0x23, gbc.readMem(0x89d2));
        // CB 23 00D7
        gbc.setState(0x3001, 0x73bf, 0x8f80, 0x6e6c, 0x6214, 0xef37, 0x1, 0x0);
        gbc.writeMem(0x3001, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x73bf, gbc.sp());
        EXPECT(0x3003, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00D8
        gbc.setState(0xa65f, 0xcdc7, 0x68f0, 0x7c70, 0x9285, 0xc675, 0x0, 0x0);
        gbc.writeMem(0xa65f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xcdc7, gbc.sp());
        EXPECT(0xa661, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa65f));
        EXPECT(0x23, gbc.readMem(0xa660));
        // CB 23 00D9
        gbc.setState(0x1bb4, 0x2510, 0x1930, 0xc753, 0xcd6c, 0x2abc, 0x0, 0x1);
        gbc.writeMem(0x1bb4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x2510, gbc.sp());
        EXPECT(0x1bb6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00DA
        gbc.setState(0xbeef, 0xf74b, 0x460, 0x53db, 0x8210, 0x5c5, 0x1, 0x1);
        gbc.writeMem(0xbeef, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xf74b, gbc.sp());
        EXPECT(0xbef1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbeef));
        EXPECT(0x23, gbc.readMem(0xbef0));
        // CB 23 00DB
        gbc.setState(0x6b2f, 0x5dbd, 0x7400, 0xda8b, 0x2c36, 0x483a, 0x0, 0x1);
        gbc.writeMem(0x6b2f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x5dbd, gbc.sp());
        EXPECT(0x6b31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00DC
        gbc.setState(0xe56d, 0xfb46, 0x9610, 0x3849, 0xd6fd, 0xd9df, 0x1, 0x1);
        gbc.writeMem(0xe56d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xfb46, gbc.sp());
        EXPECT(0xe56f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe56d));
        EXPECT(0x23, gbc.readMem(0xe56e));
        // CB 23 00DD
        gbc.setState(0x5561, 0x6105, 0x5130, 0xcecc, 0x19be, 0x8c6a, 0x0, 0x1);
        gbc.writeMem(0x5561, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x6105, gbc.sp());
        EXPECT(0x5563, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00DE
        gbc.setState(0x3bab, 0x6bc6, 0xd530, 0xa350, 0xa079, 0xdf3b, 0x1, 0x0);
        gbc.writeMem(0x3bab, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x6bc6, gbc.sp());
        EXPECT(0x3bad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00E0
        gbc.setState(0x2ba9, 0xbcdb, 0xf970, 0xc645, 0x6171, 0xc739, 0x1, 0x1);
        gbc.writeMem(0x2ba9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xbcdb, gbc.sp());
        EXPECT(0x2bab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00E1
        gbc.setState(0xddf5, 0x7d7f, 0xc030, 0x4559, 0xb40d, 0x880b, 0x1, 0x1);
        gbc.writeMem(0xddf5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x7d7f, gbc.sp());
        EXPECT(0xddf7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xddf5));
        EXPECT(0x23, gbc.readMem(0xddf6));
        // CB 23 00E2
        gbc.setState(0x9c02, 0x50c9, 0x25e0, 0x8b96, 0xf834, 0x35eb, 0x0, 0x0);
        gbc.writeMem(0x9c02, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x50c9, gbc.sp());
        EXPECT(0x9c04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c02));
        EXPECT(0x23, gbc.readMem(0x9c03));
        // CB 23 00E3
        gbc.setState(0xd41a, 0xfe22, 0x97b0, 0x1d64, 0x1cfe, 0x24a1, 0x1, 0x1);
        gbc.writeMem(0xd41a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xfe22, gbc.sp());
        EXPECT(0xd41c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd41a));
        EXPECT(0x23, gbc.readMem(0xd41b));
        // CB 23 00E4
        gbc.setState(0x6018, 0xfc9b, 0xeb70, 0xd2ec, 0xe6d6, 0x52f5, 0x0, 0x0);
        gbc.writeMem(0x6018, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xfc9b, gbc.sp());
        EXPECT(0x601a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00E5
        gbc.setState(0x7d10, 0xf20d, 0xb840, 0x913b, 0x5bce, 0x6b3, 0x1, 0x1);
        gbc.writeMem(0x7d10, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xf20d, gbc.sp());
        EXPECT(0x7d12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00E6
        gbc.setState(0x4b91, 0x3b9, 0x1f40, 0xc5fb, 0x4a20, 0xa212, 0x1, 0x1);
        gbc.writeMem(0x4b91, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x3b9, gbc.sp());
        EXPECT(0x4b93, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00E7
        gbc.setState(0x4af9, 0x92f6, 0xad60, 0x594a, 0x1c67, 0xe1d7, 0x1, 0x1);
        gbc.writeMem(0x4af9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x92f6, gbc.sp());
        EXPECT(0x4afb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00E8
        gbc.setState(0x4739, 0x4f7, 0xd2a0, 0xfc4c, 0xf046, 0x4bc4, 0x1, 0x0);
        gbc.writeMem(0x4739, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x4f7, gbc.sp());
        EXPECT(0x473b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00E9
        gbc.setState(0xcdf2, 0xc20b, 0x7f60, 0x223c, 0x212a, 0xa4f2, 0x1, 0x0);
        gbc.writeMem(0xcdf2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xc20b, gbc.sp());
        EXPECT(0xcdf4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcdf2));
        EXPECT(0x23, gbc.readMem(0xcdf3));
        // CB 23 00EA
        gbc.setState(0x6734, 0xb2b2, 0xcc80, 0x186d, 0x5980, 0xc4c1, 0x1, 0x0);
        gbc.writeMem(0x6734, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xb2b2, gbc.sp());
        EXPECT(0x6736, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00EB
        gbc.setState(0xed8f, 0x60cf, 0xc6c0, 0x2825, 0x6083, 0x18d, 0x1, 0x1);
        gbc.writeMem(0xed8f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x60cf, gbc.sp());
        EXPECT(0xed91, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed8f));
        EXPECT(0x23, gbc.readMem(0xed90));
        // CB 23 00EC
        gbc.setState(0x80d3, 0xd7b0, 0xd7d0, 0x8748, 0x23fc, 0x8b9, 0x1, 0x0);
        gbc.writeMem(0x80d3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xd7b0, gbc.sp());
        EXPECT(0x80d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80d3));
        EXPECT(0x23, gbc.readMem(0x80d4));
        // CB 23 00ED
        gbc.setState(0xcc43, 0x6005, 0xa7e0, 0x1cd9, 0xf68e, 0x45db, 0x1, 0x1);
        gbc.writeMem(0xcc43, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x6005, gbc.sp());
        EXPECT(0xcc45, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc43));
        EXPECT(0x23, gbc.readMem(0xcc44));
        // CB 23 00EE
        gbc.setState(0xc3f0, 0xdbbd, 0xe100, 0x7405, 0x5112, 0x4ab0, 0x1, 0x1);
        gbc.writeMem(0xc3f0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xdbbd, gbc.sp());
        EXPECT(0xc3f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3f0));
        EXPECT(0x23, gbc.readMem(0xc3f1));
        // CB 23 00EF
        gbc.setState(0x5f8, 0x28b1, 0x8dd0, 0x2976, 0xa82d, 0x3c11, 0x1, 0x1);
        gbc.writeMem(0x5f8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x28b1, gbc.sp());
        EXPECT(0x5fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00F1
        gbc.setState(0x69f3, 0xe411, 0xf50, 0x3d48, 0x54c4, 0x7130, 0x0, 0x0);
        gbc.writeMem(0x69f3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xe411, gbc.sp());
        EXPECT(0x69f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00F2
        gbc.setState(0xd279, 0x35ad, 0x5950, 0x3d88, 0x2d43, 0x6632, 0x0, 0x1);
        gbc.writeMem(0xd279, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x35ad, gbc.sp());
        EXPECT(0xd27b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd279));
        EXPECT(0x23, gbc.readMem(0xd27a));
        // CB 23 00F3
        gbc.setState(0x376b, 0x124, 0xd4f0, 0xba27, 0xe4de, 0xbfbe, 0x0, 0x0);
        gbc.writeMem(0x376b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x124, gbc.sp());
        EXPECT(0x376d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00F4
        gbc.setState(0x4c27, 0x5582, 0x5400, 0x65e6, 0x258c, 0xa169, 0x1, 0x0);
        gbc.writeMem(0x4c27, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x5582, gbc.sp());
        EXPECT(0x4c29, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00F5
        gbc.setState(0xbda5, 0x4f4, 0x3f70, 0xc8e4, 0x619d, 0x78b0, 0x1, 0x0);
        gbc.writeMem(0xbda5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x4f4, gbc.sp());
        EXPECT(0xbda7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbda5));
        EXPECT(0x23, gbc.readMem(0xbda6));
        // CB 23 00F6
        gbc.setState(0x8e48, 0x5e9, 0x95f0, 0x85c6, 0x5a0b, 0x2e4d, 0x1, 0x1);
        gbc.writeMem(0x8e48, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x5e9, gbc.sp());
        EXPECT(0x8e4a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e48));
        EXPECT(0x23, gbc.readMem(0x8e49));
        // CB 23 00F7
        gbc.setState(0x98d, 0xce92, 0x2b70, 0x2f4e, 0x9b2, 0xe5e8, 0x0, 0x1);
        gbc.writeMem(0x98d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xce92, gbc.sp());
        EXPECT(0x98f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00F8
        gbc.setState(0xb641, 0x6238, 0xf080, 0xee66, 0x124e, 0x7065, 0x1, 0x0);
        gbc.writeMem(0xb641, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x6238, gbc.sp());
        EXPECT(0xb643, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb641));
        EXPECT(0x23, gbc.readMem(0xb642));
        // CB 23 00F9
        gbc.setState(0xe6ec, 0xd9c1, 0xbe80, 0xb00d, 0x6d3e, 0x96, 0x1, 0x0);
        gbc.writeMem(0xe6ec, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xd9c1, gbc.sp());
        EXPECT(0xe6ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe6ec));
        EXPECT(0x23, gbc.readMem(0xe6ed));
        // CB 23 00FA
        gbc.setState(0xa902, 0x402c, 0xfbc0, 0xe01d, 0x4f78, 0x19b6, 0x1, 0x0);
        gbc.writeMem(0xa902, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x402c, gbc.sp());
        EXPECT(0xa904, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa902));
        EXPECT(0x23, gbc.readMem(0xa903));
        // CB 23 00FB
        gbc.setState(0x6939, 0x7622, 0xd5e0, 0xf29d, 0x5a45, 0x3227, 0x0, 0x1);
        gbc.writeMem(0x6939, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x7622, gbc.sp());
        EXPECT(0x693b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 00FC
        gbc.setState(0x295f, 0x21d4, 0xa9c0, 0x2b1f, 0x64fd, 0x9517, 0x0, 0x0);
        gbc.writeMem(0x295f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x21d4, gbc.sp());
        EXPECT(0x2961, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 00FD
        gbc.setState(0xcc00, 0x6157, 0x6bb0, 0xb7d3, 0x550d, 0xe720, 0x1, 0x1);
        gbc.writeMem(0xcc00, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x6157, gbc.sp());
        EXPECT(0xcc02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc00));
        EXPECT(0x23, gbc.readMem(0xcc01));
        // CB 23 00FE
        gbc.setState(0xb803, 0xc9ad, 0x5a80, 0xa21d, 0x8915, 0x4d8d, 0x0, 0x1);
        gbc.writeMem(0xb803, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xc9ad, gbc.sp());
        EXPECT(0xb805, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb803));
        EXPECT(0x23, gbc.readMem(0xb804));
        // CB 23 00FF
        gbc.setState(0xb754, 0x9804, 0xff90, 0x365, 0xd54c, 0x8c44, 0x1, 0x1);
        gbc.writeMem(0xb754, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x9804, gbc.sp());
        EXPECT(0xb756, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb754));
        EXPECT(0x23, gbc.readMem(0xb755));
        // CB 23 0100
        gbc.setState(0xeba7, 0xfa3a, 0xc010, 0xbc70, 0x5c8e, 0x133c, 0x0, 0x1);
        gbc.writeMem(0xeba7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xfa3a, gbc.sp());
        EXPECT(0xeba9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeba7));
        EXPECT(0x23, gbc.readMem(0xeba8));
        // CB 23 0101
        gbc.setState(0xec49, 0x9a9f, 0xbcb0, 0x6804, 0x80b2, 0xbbc2, 0x0, 0x1);
        gbc.writeMem(0xec49, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x9a9f, gbc.sp());
        EXPECT(0xec4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec49));
        EXPECT(0x23, gbc.readMem(0xec4a));
        // CB 23 0103
        gbc.setState(0x52b9, 0x5796, 0xccb0, 0xeef4, 0x7e4d, 0xb059, 0x1, 0x1);
        gbc.writeMem(0x52b9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x5796, gbc.sp());
        EXPECT(0x52bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0104
        gbc.setState(0x8a02, 0xbe05, 0xe010, 0x2710, 0xd171, 0x3dc7, 0x0, 0x1);
        gbc.writeMem(0x8a02, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xbe05, gbc.sp());
        EXPECT(0x8a04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a02));
        EXPECT(0x23, gbc.readMem(0x8a03));
        // CB 23 0105
        gbc.setState(0x5810, 0xc31c, 0xda10, 0x987e, 0x57f7, 0xd314, 0x1, 0x0);
        gbc.writeMem(0x5810, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xc31c, gbc.sp());
        EXPECT(0x5812, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0107
        gbc.setState(0x1f22, 0xa903, 0x96c0, 0xaaa5, 0xa31d, 0x9911, 0x0, 0x0);
        gbc.writeMem(0x1f22, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xa903, gbc.sp());
        EXPECT(0x1f24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0108
        gbc.setState(0x2d05, 0x6147, 0xf320, 0x8802, 0xe277, 0xc59b, 0x1, 0x0);
        gbc.writeMem(0x2d05, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x6147, gbc.sp());
        EXPECT(0x2d07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0109
        gbc.setState(0x1570, 0x40b0, 0xc4a0, 0x2236, 0xe0f3, 0x2325, 0x0, 0x1);
        gbc.writeMem(0x1570, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x40b0, gbc.sp());
        EXPECT(0x1572, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 010A
        gbc.setState(0xb736, 0x4c84, 0x3470, 0xc557, 0x9d92, 0x94bc, 0x0, 0x0);
        gbc.writeMem(0xb736, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x4c84, gbc.sp());
        EXPECT(0xb738, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb736));
        EXPECT(0x23, gbc.readMem(0xb737));
        // CB 23 010C
        gbc.setState(0xeb02, 0x7b75, 0xce20, 0x5e0e, 0x2292, 0xc7ff, 0x1, 0x0);
        gbc.writeMem(0xeb02, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x7b75, gbc.sp());
        EXPECT(0xeb04, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb02));
        EXPECT(0x23, gbc.readMem(0xeb03));
        // CB 23 010D
        gbc.setState(0x71f4, 0xbd00, 0xa0b0, 0xc544, 0xabf4, 0xb4b3, 0x0, 0x0);
        gbc.writeMem(0x71f4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xbd00, gbc.sp());
        EXPECT(0x71f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 010E
        gbc.setState(0xa0c2, 0xe1b9, 0xe360, 0xb14f, 0xd36b, 0x46aa, 0x1, 0x1);
        gbc.writeMem(0xa0c2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xe1b9, gbc.sp());
        EXPECT(0xa0c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0c2));
        EXPECT(0x23, gbc.readMem(0xa0c3));
        // CB 23 010F
        gbc.setState(0x57c4, 0x9ab8, 0x9c60, 0x7f3b, 0xefb2, 0x34ed, 0x0, 0x0);
        gbc.writeMem(0x57c4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x9ab8, gbc.sp());
        EXPECT(0x57c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0110
        gbc.setState(0xb1bc, 0x2019, 0xf440, 0x4509, 0x3c7c, 0x2481, 0x1, 0x0);
        gbc.writeMem(0xb1bc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x2019, gbc.sp());
        EXPECT(0xb1be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb1bc));
        EXPECT(0x23, gbc.readMem(0xb1bd));
        // CB 23 0111
        gbc.setState(0x91a5, 0x8449, 0x4ce0, 0xc882, 0x8bfe, 0xd541, 0x0, 0x0);
        gbc.writeMem(0x91a5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x8449, gbc.sp());
        EXPECT(0x91a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91a5));
        EXPECT(0x23, gbc.readMem(0x91a6));
        // CB 23 0112
        gbc.setState(0xdbe6, 0xac6d, 0x8ae0, 0x6315, 0x275c, 0xadd0, 0x0, 0x1);
        gbc.writeMem(0xdbe6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xac6d, gbc.sp());
        EXPECT(0xdbe8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbe6));
        EXPECT(0x23, gbc.readMem(0xdbe7));
        // CB 23 0113
        gbc.setState(0x8eed, 0x8855, 0xac00, 0xd758, 0x2c97, 0x19e7, 0x1, 0x0);
        gbc.writeMem(0x8eed, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x8855, gbc.sp());
        EXPECT(0x8eef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8eed));
        EXPECT(0x23, gbc.readMem(0x8eee));
        // CB 23 0114
        gbc.setState(0x3f02, 0xd60e, 0x1780, 0x3e18, 0xd2e9, 0x3598, 0x1, 0x0);
        gbc.writeMem(0x3f02, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xd60e, gbc.sp());
        EXPECT(0x3f04, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0115
        gbc.setState(0xd0b1, 0xeb97, 0x84f0, 0xb5f8, 0x2ba, 0x1937, 0x1, 0x1);
        gbc.writeMem(0xd0b1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xeb97, gbc.sp());
        EXPECT(0xd0b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd0b1));
        EXPECT(0x23, gbc.readMem(0xd0b2));
        // CB 23 0116
        gbc.setState(0x10ef, 0xa999, 0x59d0, 0x6ba7, 0x4bdb, 0x6100, 0x0, 0x1);
        gbc.writeMem(0x10ef, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xa999, gbc.sp());
        EXPECT(0x10f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0117
        gbc.setState(0xc677, 0xe175, 0x5110, 0xe430, 0x68fb, 0x15c3, 0x0, 0x1);
        gbc.writeMem(0xc677, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xe175, gbc.sp());
        EXPECT(0xc679, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc677));
        EXPECT(0x23, gbc.readMem(0xc678));
        // CB 23 0118
        gbc.setState(0xe033, 0x999, 0xb7d0, 0x5446, 0x1282, 0xbca7, 0x0, 0x1);
        gbc.writeMem(0xe033, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x999, gbc.sp());
        EXPECT(0xe035, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe033));
        EXPECT(0x23, gbc.readMem(0xe034));
        // CB 23 0119
        gbc.setState(0x7c28, 0x6d81, 0x7730, 0xa732, 0x1f32, 0x182d, 0x1, 0x1);
        gbc.writeMem(0x7c28, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x6d81, gbc.sp());
        EXPECT(0x7c2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 011B
        gbc.setState(0x286c, 0x2f64, 0xf7d0, 0xfe82, 0x7805, 0xddb4, 0x0, 0x1);
        gbc.writeMem(0x286c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x2f64, gbc.sp());
        EXPECT(0x286e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 011C
        gbc.setState(0xaf2d, 0xc4bb, 0xd220, 0xa144, 0x9ad5, 0x60be, 0x1, 0x1);
        gbc.writeMem(0xaf2d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xc4bb, gbc.sp());
        EXPECT(0xaf2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf2d));
        EXPECT(0x23, gbc.readMem(0xaf2e));
        // CB 23 011F
        gbc.setState(0xa2a6, 0x8d48, 0xaf90, 0xeab0, 0x351c, 0xc8bd, 0x1, 0x0);
        gbc.writeMem(0xa2a6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x8d48, gbc.sp());
        EXPECT(0xa2a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa2a6));
        EXPECT(0x23, gbc.readMem(0xa2a7));
        // CB 23 0120
        gbc.setState(0x2273, 0x7131, 0xaca0, 0x788, 0xa4a5, 0xc0b, 0x0, 0x1);
        gbc.writeMem(0x2273, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x7131, gbc.sp());
        EXPECT(0x2275, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0121
        gbc.setState(0xbb5c, 0xc2f0, 0x9720, 0x9493, 0xcdf6, 0xd0a4, 0x1, 0x0);
        gbc.writeMem(0xbb5c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xc2f0, gbc.sp());
        EXPECT(0xbb5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb5c));
        EXPECT(0x23, gbc.readMem(0xbb5d));
        // CB 23 0122
        gbc.setState(0x7fdd, 0x5912, 0xbb80, 0x745b, 0x8120, 0x344d, 0x0, 0x0);
        gbc.writeMem(0x7fdd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x5912, gbc.sp());
        EXPECT(0x7fdf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0123
        gbc.setState(0x5144, 0x51eb, 0x6b60, 0x7229, 0x8879, 0x50ca, 0x1, 0x1);
        gbc.writeMem(0x5144, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x51eb, gbc.sp());
        EXPECT(0x5146, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0124
        gbc.setState(0xcb6d, 0x9bf1, 0x95b0, 0x811d, 0x1c67, 0xaaed, 0x1, 0x0);
        gbc.writeMem(0xcb6d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x9bf1, gbc.sp());
        EXPECT(0xcb6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb6d));
        EXPECT(0x23, gbc.readMem(0xcb6e));
        // CB 23 0125
        gbc.setState(0x7e80, 0x49c, 0xa70, 0x942, 0x9b66, 0x45b4, 0x1, 0x1);
        gbc.writeMem(0x7e80, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x49c, gbc.sp());
        EXPECT(0x7e82, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0126
        gbc.setState(0xcccc, 0x63b6, 0x1370, 0x3b06, 0x69c6, 0x65b8, 0x1, 0x1);
        gbc.writeMem(0xcccc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x63b6, gbc.sp());
        EXPECT(0xccce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcccc));
        EXPECT(0x23, gbc.readMem(0xcccd));
        // CB 23 0127
        gbc.setState(0x3479, 0xc9c8, 0xa6d0, 0x8992, 0xc214, 0x6295, 0x1, 0x0);
        gbc.writeMem(0x3479, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xc9c8, gbc.sp());
        EXPECT(0x347b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0128
        gbc.setState(0x60c, 0x6629, 0x1710, 0x9fb2, 0xf1bd, 0x2564, 0x1, 0x1);
        gbc.writeMem(0x60c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x6629, gbc.sp());
        EXPECT(0x60e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0129
        gbc.setState(0x6d35, 0xc7ce, 0xd8f0, 0xdd3c, 0x367a, 0x11c7, 0x0, 0x1);
        gbc.writeMem(0x6d35, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xc7ce, gbc.sp());
        EXPECT(0x6d37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 012A
        gbc.setState(0x5589, 0x12ae, 0xdc50, 0x937f, 0x556f, 0xa4b7, 0x1, 0x1);
        gbc.writeMem(0x5589, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x12ae, gbc.sp());
        EXPECT(0x558b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 012B
        gbc.setState(0x1999, 0x4ba, 0xdc70, 0x843c, 0x61ee, 0xc82, 0x1, 0x1);
        gbc.writeMem(0x1999, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x4ba, gbc.sp());
        EXPECT(0x199b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 012C
        gbc.setState(0x95df, 0xe5b1, 0xbe20, 0x3024, 0x5bc7, 0x5f65, 0x1, 0x0);
        gbc.writeMem(0x95df, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xe5b1, gbc.sp());
        EXPECT(0x95e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x95df));
        EXPECT(0x23, gbc.readMem(0x95e0));
        // CB 23 012D
        gbc.setState(0x41e7, 0x5fa0, 0xcbb0, 0xecd7, 0x2120, 0xf245, 0x0, 0x1);
        gbc.writeMem(0x41e7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x5fa0, gbc.sp());
        EXPECT(0x41e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 012E
        gbc.setState(0xe25f, 0x9ba7, 0x5fd0, 0x7560, 0xa108, 0x6bbb, 0x0, 0x1);
        gbc.writeMem(0xe25f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x9ba7, gbc.sp());
        EXPECT(0xe261, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe25f));
        EXPECT(0x23, gbc.readMem(0xe260));
        // CB 23 012F
        gbc.setState(0x8d75, 0x2cd5, 0x8bd0, 0x54ec, 0x72b2, 0xda63, 0x0, 0x0);
        gbc.writeMem(0x8d75, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x2cd5, gbc.sp());
        EXPECT(0x8d77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d75));
        EXPECT(0x23, gbc.readMem(0x8d76));
        // CB 23 0130
        gbc.setState(0x1067, 0x48b, 0xdfc0, 0xcee1, 0xc63e, 0xe9ab, 0x0, 0x0);
        gbc.writeMem(0x1067, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x48b, gbc.sp());
        EXPECT(0x1069, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0131
        gbc.setState(0x73c2, 0xf260, 0x2110, 0x2bb6, 0xfcd5, 0x67eb, 0x0, 0x0);
        gbc.writeMem(0x73c2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xf260, gbc.sp());
        EXPECT(0x73c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0132
        gbc.setState(0x6c1d, 0x5a17, 0xc0a0, 0xaa19, 0x5b71, 0x420e, 0x1, 0x1);
        gbc.writeMem(0x6c1d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x5a17, gbc.sp());
        EXPECT(0x6c1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0133
        gbc.setState(0xccf1, 0xb76, 0x5920, 0xaf6a, 0x74f8, 0x2131, 0x0, 0x1);
        gbc.writeMem(0xccf1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xb76, gbc.sp());
        EXPECT(0xccf3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccf1));
        EXPECT(0x23, gbc.readMem(0xccf2));
        // CB 23 0135
        gbc.setState(0xcd49, 0x6f87, 0x8fb0, 0x301a, 0xb85d, 0x56fe, 0x1, 0x1);
        gbc.writeMem(0xcd49, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x6f87, gbc.sp());
        EXPECT(0xcd4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd49));
        EXPECT(0x23, gbc.readMem(0xcd4a));
        // CB 23 0136
        gbc.setState(0x5334, 0xcfe0, 0x23a0, 0x383c, 0xa9c9, 0x574, 0x1, 0x1);
        gbc.writeMem(0x5334, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xcfe0, gbc.sp());
        EXPECT(0x5336, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0137
        gbc.setState(0xdb15, 0xffb6, 0x6d50, 0x40a6, 0xe21b, 0x3808, 0x0, 0x1);
        gbc.writeMem(0xdb15, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xffb6, gbc.sp());
        EXPECT(0xdb17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb15));
        EXPECT(0x23, gbc.readMem(0xdb16));
        // CB 23 0138
        gbc.setState(0xa0cd, 0x4d92, 0x1710, 0x54f2, 0x38a, 0x4ed8, 0x1, 0x0);
        gbc.writeMem(0xa0cd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x4d92, gbc.sp());
        EXPECT(0xa0cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0cd));
        EXPECT(0x23, gbc.readMem(0xa0ce));
        // CB 23 0139
        gbc.setState(0x2533, 0xa788, 0xb9b0, 0x290f, 0x570e, 0x6d4, 0x1, 0x0);
        gbc.writeMem(0x2533, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xa788, gbc.sp());
        EXPECT(0x2535, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 013A
        gbc.setState(0x5bfb, 0xa90a, 0xa540, 0xdced, 0x532f, 0x6ffa, 0x1, 0x0);
        gbc.writeMem(0x5bfb, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xa90a, gbc.sp());
        EXPECT(0x5bfd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 013B
        gbc.setState(0x48dc, 0xfb57, 0xf990, 0xca24, 0x1fe5, 0x4918, 0x0, 0x0);
        gbc.writeMem(0x48dc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xfb57, gbc.sp());
        EXPECT(0x48de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 013C
        gbc.setState(0x701d, 0x7222, 0xc270, 0x73bb, 0x3c90, 0x801d, 0x0, 0x1);
        gbc.writeMem(0x701d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x7222, gbc.sp());
        EXPECT(0x701f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 013D
        gbc.setState(0xb797, 0xfcad, 0x1880, 0x7406, 0x650b, 0x4f75, 0x1, 0x1);
        gbc.writeMem(0xb797, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xfcad, gbc.sp());
        EXPECT(0xb799, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb797));
        EXPECT(0x23, gbc.readMem(0xb798));
        // CB 23 013E
        gbc.setState(0x142f, 0x9c88, 0x3fd0, 0x553, 0x43ac, 0x1cc1, 0x1, 0x0);
        gbc.writeMem(0x142f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x9c88, gbc.sp());
        EXPECT(0x1431, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 013F
        gbc.setState(0x7380, 0xb6f6, 0x6660, 0x7d2b, 0x1795, 0xaeb0, 0x1, 0x1);
        gbc.writeMem(0x7380, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xb6f6, gbc.sp());
        EXPECT(0x7382, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0141
        gbc.setState(0xdd05, 0xd9c1, 0x9d50, 0x734c, 0xd365, 0xf9d7, 0x0, 0x0);
        gbc.writeMem(0xdd05, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xd9c1, gbc.sp());
        EXPECT(0xdd07, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd05));
        EXPECT(0x23, gbc.readMem(0xdd06));
        // CB 23 0142
        gbc.setState(0x54f3, 0xe79, 0x6290, 0xf83, 0x6f6d, 0x4d37, 0x1, 0x0);
        gbc.writeMem(0x54f3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xe79, gbc.sp());
        EXPECT(0x54f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0143
        gbc.setState(0xc463, 0x6ba3, 0x9ee0, 0xd16a, 0xf276, 0x777c, 0x1, 0x0);
        gbc.writeMem(0xc463, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x6ba3, gbc.sp());
        EXPECT(0xc465, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc463));
        EXPECT(0x23, gbc.readMem(0xc464));
        // CB 23 0144
        gbc.setState(0x2989, 0x51b6, 0xb8e0, 0xb3b8, 0x24b9, 0xda68, 0x1, 0x1);
        gbc.writeMem(0x2989, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x51b6, gbc.sp());
        EXPECT(0x298b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0145
        gbc.setState(0x6d43, 0xdd5d, 0x8290, 0x1ad4, 0x209a, 0xe979, 0x1, 0x1);
        gbc.writeMem(0x6d43, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xdd5d, gbc.sp());
        EXPECT(0x6d45, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0146
        gbc.setState(0x4a8c, 0xb912, 0x9e90, 0x6162, 0x6dd4, 0xe982, 0x0, 0x0);
        gbc.writeMem(0x4a8c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xb912, gbc.sp());
        EXPECT(0x4a8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0147
        gbc.setState(0x8989, 0x4b68, 0x9240, 0x3a6f, 0x8350, 0x542c, 0x0, 0x0);
        gbc.writeMem(0x8989, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x4b68, gbc.sp());
        EXPECT(0x898b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8989));
        EXPECT(0x23, gbc.readMem(0x898a));
        // CB 23 0148
        gbc.setState(0x35, 0x9143, 0x8510, 0xa7df, 0x4580, 0x54bc, 0x1, 0x1);
        gbc.writeMem(0x35, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x9143, gbc.sp());
        EXPECT(0x37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0149
        gbc.setState(0xc62d, 0xd20f, 0x9f10, 0x17de, 0xa016, 0x639e, 0x0, 0x1);
        gbc.writeMem(0xc62d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xd20f, gbc.sp());
        EXPECT(0xc62f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc62d));
        EXPECT(0x23, gbc.readMem(0xc62e));
        // CB 23 014A
        gbc.setState(0x829d, 0xe5ae, 0x3020, 0xdd46, 0xb4e5, 0xb92b, 0x1, 0x0);
        gbc.writeMem(0x829d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xe5ae, gbc.sp());
        EXPECT(0x829f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x829d));
        EXPECT(0x23, gbc.readMem(0x829e));
        // CB 23 014B
        gbc.setState(0x8f9f, 0xb1e0, 0x8d50, 0x3fdd, 0x79e3, 0x6640, 0x1, 0x0);
        gbc.writeMem(0x8f9f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xb1e0, gbc.sp());
        EXPECT(0x8fa1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f9f));
        EXPECT(0x23, gbc.readMem(0x8fa0));
        // CB 23 014C
        gbc.setState(0x767e, 0x53c4, 0x5530, 0x68bb, 0x4cb4, 0xbfdf, 0x0, 0x0);
        gbc.writeMem(0x767e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x53c4, gbc.sp());
        EXPECT(0x7680, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 014D
        gbc.setState(0x502d, 0xde70, 0x870, 0x75c5, 0x582c, 0x6b42, 0x1, 0x0);
        gbc.writeMem(0x502d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xde70, gbc.sp());
        EXPECT(0x502f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 014E
        gbc.setState(0x2649, 0x9eab, 0x20d0, 0xf006, 0xce5b, 0xa2f4, 0x1, 0x1);
        gbc.writeMem(0x2649, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x9eab, gbc.sp());
        EXPECT(0x264b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 014F
        gbc.setState(0xbf50, 0x1549, 0xc490, 0xe155, 0x4590, 0x1f42, 0x0, 0x1);
        gbc.writeMem(0xbf50, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x1549, gbc.sp());
        EXPECT(0xbf52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf50));
        EXPECT(0x23, gbc.readMem(0xbf51));
        // CB 23 0150
        gbc.setState(0xa98b, 0x5570, 0xf950, 0x9202, 0x3de5, 0xe52d, 0x0, 0x0);
        gbc.writeMem(0xa98b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x5570, gbc.sp());
        EXPECT(0xa98d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa98b));
        EXPECT(0x23, gbc.readMem(0xa98c));
        // CB 23 0151
        gbc.setState(0xaf90, 0x4f52, 0xebb0, 0x351f, 0xaea1, 0x14eb, 0x0, 0x1);
        gbc.writeMem(0xaf90, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x4f52, gbc.sp());
        EXPECT(0xaf92, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf90));
        EXPECT(0x23, gbc.readMem(0xaf91));
        // CB 23 0152
        gbc.setState(0x17c8, 0x675d, 0xd70, 0xa4f3, 0x5678, 0x6614, 0x1, 0x1);
        gbc.writeMem(0x17c8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x675d, gbc.sp());
        EXPECT(0x17ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0153
        gbc.setState(0x7f67, 0x274e, 0xef20, 0xcff4, 0x6a8c, 0x74a5, 0x0, 0x1);
        gbc.writeMem(0x7f67, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x274e, gbc.sp());
        EXPECT(0x7f69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0154
        gbc.setState(0x9f42, 0x3742, 0x1140, 0xe4da, 0x68e1, 0x3ce3, 0x1, 0x0);
        gbc.writeMem(0x9f42, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x3742, gbc.sp());
        EXPECT(0x9f44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f42));
        EXPECT(0x23, gbc.readMem(0x9f43));
        // CB 23 0155
        gbc.setState(0xe8f0, 0xc374, 0x4150, 0x79f7, 0xf149, 0xbcc1, 0x1, 0x1);
        gbc.writeMem(0xe8f0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xc374, gbc.sp());
        EXPECT(0xe8f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe8f0));
        EXPECT(0x23, gbc.readMem(0xe8f1));
        // CB 23 0156
        gbc.setState(0x57be, 0xbdf6, 0x70, 0x92f8, 0x3785, 0x6ffb, 0x0, 0x1);
        gbc.writeMem(0x57be, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xbdf6, gbc.sp());
        EXPECT(0x57c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0157
        gbc.setState(0x61a1, 0xa328, 0x39e0, 0xcc83, 0xebf3, 0x24d4, 0x1, 0x1);
        gbc.writeMem(0x61a1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xa328, gbc.sp());
        EXPECT(0x61a3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0158
        gbc.setState(0x7c85, 0x8de0, 0x6780, 0xc525, 0x2ab0, 0xce5e, 0x0, 0x1);
        gbc.writeMem(0x7c85, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x8de0, gbc.sp());
        EXPECT(0x7c87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0159
        gbc.setState(0x6869, 0x92eb, 0x9320, 0x126f, 0x16b7, 0x8e7d, 0x0, 0x0);
        gbc.writeMem(0x6869, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x92eb, gbc.sp());
        EXPECT(0x686b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 015A
        gbc.setState(0x436, 0x526c, 0xc560, 0x325c, 0xa8e4, 0x3e5, 0x0, 0x1);
        gbc.writeMem(0x436, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x526c, gbc.sp());
        EXPECT(0x438, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 015B
        gbc.setState(0x92b9, 0x57f, 0xbf40, 0xde8, 0xf06b, 0xfa8a, 0x1, 0x1);
        gbc.writeMem(0x92b9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x57f, gbc.sp());
        EXPECT(0x92bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92b9));
        EXPECT(0x23, gbc.readMem(0x92ba));
        // CB 23 015C
        gbc.setState(0x3902, 0x580c, 0xb4a0, 0xf16b, 0x2395, 0x972b, 0x0, 0x1);
        gbc.writeMem(0x3902, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x580c, gbc.sp());
        EXPECT(0x3904, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 015D
        gbc.setState(0xd403, 0xfa7b, 0xae70, 0xa2e7, 0xcea5, 0xc7a8, 0x1, 0x1);
        gbc.writeMem(0xd403, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xfa7b, gbc.sp());
        EXPECT(0xd405, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd403));
        EXPECT(0x23, gbc.readMem(0xd404));
        // CB 23 015E
        gbc.setState(0xbf79, 0xdf3a, 0xfb00, 0x13c1, 0x440, 0x94d2, 0x1, 0x0);
        gbc.writeMem(0xbf79, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xdf3a, gbc.sp());
        EXPECT(0xbf7b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf79));
        EXPECT(0x23, gbc.readMem(0xbf7a));
        // CB 23 015F
        gbc.setState(0x606f, 0x23ff, 0x6060, 0x820f, 0x75ee, 0x6ca7, 0x0, 0x1);
        gbc.writeMem(0x606f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x23ff, gbc.sp());
        EXPECT(0x6071, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0160
        gbc.setState(0x3e4d, 0xcec9, 0x92c0, 0x259c, 0x2ba7, 0xf25c, 0x1, 0x0);
        gbc.writeMem(0x3e4d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xcec9, gbc.sp());
        EXPECT(0x3e4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0161
        gbc.setState(0x479a, 0xa98c, 0x7d90, 0xb820, 0x110f, 0x3cd, 0x0, 0x0);
        gbc.writeMem(0x479a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xa98c, gbc.sp());
        EXPECT(0x479c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0162
        gbc.setState(0xc232, 0xa23a, 0x6930, 0xde07, 0x81b8, 0x848d, 0x0, 0x0);
        gbc.writeMem(0xc232, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xa23a, gbc.sp());
        EXPECT(0xc234, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc232));
        EXPECT(0x23, gbc.readMem(0xc233));
        // CB 23 0163
        gbc.setState(0xa3f3, 0x1da4, 0xff00, 0x3798, 0x9697, 0x6158, 0x0, 0x0);
        gbc.writeMem(0xa3f3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x1da4, gbc.sp());
        EXPECT(0xa3f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa3f3));
        EXPECT(0x23, gbc.readMem(0xa3f4));
        // CB 23 0164
        gbc.setState(0xe966, 0x6875, 0xb4b0, 0x4587, 0x3b2f, 0x612e, 0x0, 0x0);
        gbc.writeMem(0xe966, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x6875, gbc.sp());
        EXPECT(0xe968, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe966));
        EXPECT(0x23, gbc.readMem(0xe967));
        // CB 23 0165
        gbc.setState(0xe6dd, 0x41ce, 0x2040, 0xf744, 0xe1d7, 0x19a8, 0x0, 0x0);
        gbc.writeMem(0xe6dd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x41ce, gbc.sp());
        EXPECT(0xe6df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe6dd));
        EXPECT(0x23, gbc.readMem(0xe6de));
        // CB 23 0167
        gbc.setState(0xcbdc, 0x40e5, 0x6de0, 0x572d, 0xedf2, 0x7588, 0x1, 0x1);
        gbc.writeMem(0xcbdc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x40e5, gbc.sp());
        EXPECT(0xcbde, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbdc));
        EXPECT(0x23, gbc.readMem(0xcbdd));
        // CB 23 0168
        gbc.setState(0x4635, 0x5b9, 0xd190, 0x88d2, 0xf68a, 0xd227, 0x0, 0x1);
        gbc.writeMem(0x4635, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x5b9, gbc.sp());
        EXPECT(0x4637, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0169
        gbc.setState(0xa064, 0xe290, 0x84f0, 0xbfbc, 0x3678, 0x8a13, 0x0, 0x0);
        gbc.writeMem(0xa064, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xe290, gbc.sp());
        EXPECT(0xa066, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa064));
        EXPECT(0x23, gbc.readMem(0xa065));
        // CB 23 016A
        gbc.setState(0xdacb, 0xc844, 0x9d30, 0x91d6, 0x5ef6, 0x7bd, 0x0, 0x0);
        gbc.writeMem(0xdacb, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xc844, gbc.sp());
        EXPECT(0xdacd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdacb));
        EXPECT(0x23, gbc.readMem(0xdacc));
        // CB 23 016B
        gbc.setState(0x8dab, 0x2430, 0xeb90, 0xef95, 0x4f69, 0x5c8, 0x0, 0x1);
        gbc.writeMem(0x8dab, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x2430, gbc.sp());
        EXPECT(0x8dad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8dab));
        EXPECT(0x23, gbc.readMem(0x8dac));
        // CB 23 016C
        gbc.setState(0x9fc9, 0xe4fe, 0xbc90, 0x28e8, 0xd805, 0x3f0b, 0x0, 0x1);
        gbc.writeMem(0x9fc9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xe4fe, gbc.sp());
        EXPECT(0x9fcb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9fc9));
        EXPECT(0x23, gbc.readMem(0x9fca));
        // CB 23 016E
        gbc.setState(0x5520, 0xad17, 0x8ab0, 0x6958, 0x4d88, 0xdb3b, 0x0, 0x1);
        gbc.writeMem(0x5520, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xad17, gbc.sp());
        EXPECT(0x5522, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 016F
        gbc.setState(0xd23e, 0xdf90, 0x93c0, 0xf49e, 0xb24b, 0x72d, 0x1, 0x0);
        gbc.writeMem(0xd23e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xdf90, gbc.sp());
        EXPECT(0xd240, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd23e));
        EXPECT(0x23, gbc.readMem(0xd23f));
        // CB 23 0170
        gbc.setState(0x9ccd, 0x1238, 0xbbd0, 0x536c, 0x598e, 0x5c31, 0x0, 0x1);
        gbc.writeMem(0x9ccd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x1238, gbc.sp());
        EXPECT(0x9ccf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9ccd));
        EXPECT(0x23, gbc.readMem(0x9cce));
        // CB 23 0171
        gbc.setState(0x5d7e, 0x8503, 0x4510, 0x76c5, 0xd6ad, 0x475a, 0x0, 0x0);
        gbc.writeMem(0x5d7e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x8503, gbc.sp());
        EXPECT(0x5d80, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0172
        gbc.setState(0x191b, 0x5326, 0xe600, 0xf400, 0xe70b, 0x83a7, 0x0, 0x1);
        gbc.writeMem(0x191b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x5326, gbc.sp());
        EXPECT(0x191d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0173
        gbc.setState(0x501a, 0x9923, 0x5290, 0xba18, 0x1479, 0x3634, 0x1, 0x1);
        gbc.writeMem(0x501a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x9923, gbc.sp());
        EXPECT(0x501c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0175
        gbc.setState(0x4640, 0xee5a, 0x7520, 0xc2d8, 0xb37b, 0xcb5c, 0x0, 0x1);
        gbc.writeMem(0x4640, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xee5a, gbc.sp());
        EXPECT(0x4642, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0176
        gbc.setState(0xd4d1, 0x46d, 0x6960, 0xf3f1, 0xf295, 0x5c36, 0x0, 0x0);
        gbc.writeMem(0xd4d1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x46d, gbc.sp());
        EXPECT(0xd4d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4d1));
        EXPECT(0x23, gbc.readMem(0xd4d2));
        // CB 23 0177
        gbc.setState(0x4ce6, 0xfca3, 0x5e60, 0xc10f, 0x69, 0x5d47, 0x1, 0x1);
        gbc.writeMem(0x4ce6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xfca3, gbc.sp());
        EXPECT(0x4ce8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0178
        gbc.setState(0x1232, 0x60e4, 0x5900, 0xeb4c, 0xed87, 0x7c72, 0x0, 0x0);
        gbc.writeMem(0x1232, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x60e4, gbc.sp());
        EXPECT(0x1234, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0179
        gbc.setState(0x3aa6, 0xdda, 0x6230, 0x2a1, 0x872e, 0x17ef, 0x0, 0x0);
        gbc.writeMem(0x3aa6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xdda, gbc.sp());
        EXPECT(0x3aa8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 017A
        gbc.setState(0x1f8c, 0xe7e5, 0x2720, 0xdd1b, 0x5bd4, 0xd713, 0x0, 0x0);
        gbc.writeMem(0x1f8c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xe7e5, gbc.sp());
        EXPECT(0x1f8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 017B
        gbc.setState(0x2328, 0xe6eb, 0x3b20, 0xcba1, 0xb288, 0x956e, 0x1, 0x1);
        gbc.writeMem(0x2328, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xe6eb, gbc.sp());
        EXPECT(0x232a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 017D
        gbc.setState(0x610a, 0x605e, 0xbba0, 0x7bd5, 0x3c7a, 0x9e41, 0x1, 0x0);
        gbc.writeMem(0x610a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x605e, gbc.sp());
        EXPECT(0x610c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 017F
        gbc.setState(0xb377, 0xa2c4, 0xd5a0, 0xc5c5, 0x97c, 0x13b3, 0x1, 0x0);
        gbc.writeMem(0xb377, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xa2c4, gbc.sp());
        EXPECT(0xb379, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb377));
        EXPECT(0x23, gbc.readMem(0xb378));
        // CB 23 0180
        gbc.setState(0x21e7, 0x17ae, 0xd9c0, 0xe93d, 0x6b0f, 0x4bb9, 0x1, 0x0);
        gbc.writeMem(0x21e7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x17ae, gbc.sp());
        EXPECT(0x21e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0181
        gbc.setState(0x44d1, 0xafb7, 0x2950, 0x97ea, 0x861d, 0x9ccc, 0x1, 0x0);
        gbc.writeMem(0x44d1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xafb7, gbc.sp());
        EXPECT(0x44d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0182
        gbc.setState(0xd7f9, 0xd458, 0x8ea0, 0xa352, 0xd8a9, 0x2bf3, 0x0, 0x0);
        gbc.writeMem(0xd7f9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xd458, gbc.sp());
        EXPECT(0xd7fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd7f9));
        EXPECT(0x23, gbc.readMem(0xd7fa));
        // CB 23 0183
        gbc.setState(0xafd5, 0xba1d, 0xc710, 0x34dd, 0xf62f, 0x35de, 0x0, 0x0);
        gbc.writeMem(0xafd5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xba1d, gbc.sp());
        EXPECT(0xafd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafd5));
        EXPECT(0x23, gbc.readMem(0xafd6));
        // CB 23 0185
        gbc.setState(0xeabc, 0x4bf3, 0x8020, 0x4b76, 0xe948, 0x579b, 0x0, 0x1);
        gbc.writeMem(0xeabc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x4bf3, gbc.sp());
        EXPECT(0xeabe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeabc));
        EXPECT(0x23, gbc.readMem(0xeabd));
        // CB 23 0186
        gbc.setState(0xc73, 0x5a00, 0x8400, 0x3650, 0xa50c, 0xe290, 0x1, 0x0);
        gbc.writeMem(0xc73, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x5a00, gbc.sp());
        EXPECT(0xc75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0187
        gbc.setState(0x3825, 0x8ffd, 0x6b0, 0xe9b2, 0xec1d, 0xaf47, 0x0, 0x1);
        gbc.writeMem(0x3825, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x8ffd, gbc.sp());
        EXPECT(0x3827, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0188
        gbc.setState(0xefd5, 0xb460, 0x970, 0x5817, 0xa7c5, 0xfe1f, 0x0, 0x0);
        gbc.writeMem(0xefd5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xb460, gbc.sp());
        EXPECT(0xefd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xefd5));
        EXPECT(0x23, gbc.readMem(0xefd6));
        // CB 23 0189
        gbc.setState(0x7c5e, 0xbe43, 0xff10, 0x2f02, 0x3260, 0xb278, 0x1, 0x0);
        gbc.writeMem(0x7c5e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xbe43, gbc.sp());
        EXPECT(0x7c60, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 018A
        gbc.setState(0x6c7f, 0x1a76, 0xe430, 0x3a05, 0x5e68, 0x858a, 0x1, 0x0);
        gbc.writeMem(0x6c7f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x1a76, gbc.sp());
        EXPECT(0x6c81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 018B
        gbc.setState(0xa1b3, 0x47f, 0xed70, 0x494f, 0x7f61, 0x3fb, 0x0, 0x0);
        gbc.writeMem(0xa1b3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x47f, gbc.sp());
        EXPECT(0xa1b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1b3));
        EXPECT(0x23, gbc.readMem(0xa1b4));
        // CB 23 018D
        gbc.setState(0x1f4c, 0xa9d1, 0x3850, 0xc1d9, 0xdd0a, 0x9c23, 0x1, 0x0);
        gbc.writeMem(0x1f4c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xa9d1, gbc.sp());
        EXPECT(0x1f4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 018E
        gbc.setState(0x6531, 0x971b, 0xc50, 0x398f, 0x704f, 0xea1c, 0x0, 0x0);
        gbc.writeMem(0x6531, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x971b, gbc.sp());
        EXPECT(0x6533, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 018F
        gbc.setState(0x9ae4, 0xdd4d, 0x6560, 0xa043, 0xc2fe, 0x6047, 0x1, 0x1);
        gbc.writeMem(0x9ae4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xdd4d, gbc.sp());
        EXPECT(0x9ae6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9ae4));
        EXPECT(0x23, gbc.readMem(0x9ae5));
        // CB 23 0190
        gbc.setState(0x8508, 0x5918, 0x5d10, 0x6855, 0x90fa, 0xe41f, 0x0, 0x1);
        gbc.writeMem(0x8508, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x5918, gbc.sp());
        EXPECT(0x850a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8508));
        EXPECT(0x23, gbc.readMem(0x8509));
        // CB 23 0191
        gbc.setState(0xe476, 0x33b7, 0xb5b0, 0x8e39, 0xca06, 0x7d86, 0x1, 0x0);
        gbc.writeMem(0xe476, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x33b7, gbc.sp());
        EXPECT(0xe478, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe476));
        EXPECT(0x23, gbc.readMem(0xe477));
        // CB 23 0192
        gbc.setState(0x4520, 0x772f, 0xdf00, 0xda76, 0xc547, 0xe6a2, 0x0, 0x1);
        gbc.writeMem(0x4520, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x772f, gbc.sp());
        EXPECT(0x4522, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0193
        gbc.setState(0xd246, 0x9ec2, 0x59a0, 0x6c25, 0x8101, 0x57cd, 0x1, 0x1);
        gbc.writeMem(0xd246, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x9ec2, gbc.sp());
        EXPECT(0xd248, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd246));
        EXPECT(0x23, gbc.readMem(0xd247));
        // CB 23 0194
        gbc.setState(0x220f, 0xfe3f, 0x5470, 0x3354, 0x8cd0, 0x3e7a, 0x0, 0x1);
        gbc.writeMem(0x220f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xfe3f, gbc.sp());
        EXPECT(0x2211, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0195
        gbc.setState(0x2811, 0xfbd4, 0xec10, 0xd0de, 0xbd56, 0xec30, 0x1, 0x0);
        gbc.writeMem(0x2811, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xfbd4, gbc.sp());
        EXPECT(0x2813, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0196
        gbc.setState(0x821a, 0x59bc, 0xac90, 0x81b0, 0x2362, 0xae7b, 0x0, 0x0);
        gbc.writeMem(0x821a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x59bc, gbc.sp());
        EXPECT(0x821c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x821a));
        EXPECT(0x23, gbc.readMem(0x821b));
        // CB 23 0197
        gbc.setState(0xd625, 0x1097, 0x7ee0, 0xdcd, 0x410e, 0xac20, 0x1, 0x0);
        gbc.writeMem(0xd625, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x1097, gbc.sp());
        EXPECT(0xd627, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd625));
        EXPECT(0x23, gbc.readMem(0xd626));
        // CB 23 0198
        gbc.setState(0xa247, 0xbe6a, 0x7110, 0xd6e2, 0x8f85, 0xfc79, 0x1, 0x1);
        gbc.writeMem(0xa247, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xbe6a, gbc.sp());
        EXPECT(0xa249, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa247));
        EXPECT(0x23, gbc.readMem(0xa248));
        // CB 23 0199
        gbc.setState(0x5bbd, 0x6f39, 0x8d00, 0xdbce, 0xe6ff, 0xbb0d, 0x0, 0x1);
        gbc.writeMem(0x5bbd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x6f39, gbc.sp());
        EXPECT(0x5bbf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 019A
        gbc.setState(0x73b8, 0xd5c3, 0x6ce0, 0x1f03, 0x723c, 0x3f6, 0x1, 0x0);
        gbc.writeMem(0x73b8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xd5c3, gbc.sp());
        EXPECT(0x73ba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 019B
        gbc.setState(0xae85, 0xc8df, 0xa4e0, 0xe55b, 0xb171, 0x9a55, 0x0, 0x1);
        gbc.writeMem(0xae85, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xc8df, gbc.sp());
        EXPECT(0xae87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae85));
        EXPECT(0x23, gbc.readMem(0xae86));
        // CB 23 019C
        gbc.setState(0xd2c, 0xc428, 0xbe60, 0x402f, 0xab9d, 0x25, 0x0, 0x0);
        gbc.writeMem(0xd2c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xc428, gbc.sp());
        EXPECT(0xd2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 019D
        gbc.setState(0xb383, 0x6b6c, 0x20f0, 0xcc72, 0x9891, 0x23b9, 0x1, 0x1);
        gbc.writeMem(0xb383, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x6b6c, gbc.sp());
        EXPECT(0xb385, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb383));
        EXPECT(0x23, gbc.readMem(0xb384));
        // CB 23 019E
        gbc.setState(0xe84c, 0xa3b9, 0xc470, 0x9b94, 0xecdc, 0x85fa, 0x1, 0x1);
        gbc.writeMem(0xe84c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xa3b9, gbc.sp());
        EXPECT(0xe84e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe84c));
        EXPECT(0x23, gbc.readMem(0xe84d));
        // CB 23 019F
        gbc.setState(0x3e6e, 0x7eef, 0x4be0, 0x9161, 0x40f, 0x2031, 0x1, 0x0);
        gbc.writeMem(0x3e6e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x7eef, gbc.sp());
        EXPECT(0x3e70, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01A0
        gbc.setState(0xd3a, 0x280f, 0x7840, 0x41be, 0x9926, 0x2079, 0x0, 0x1);
        gbc.writeMem(0xd3a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x280f, gbc.sp());
        EXPECT(0xd3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01A1
        gbc.setState(0xd58c, 0x8121, 0xe540, 0xe2fc, 0x898c, 0x852a, 0x1, 0x1);
        gbc.writeMem(0xd58c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x8121, gbc.sp());
        EXPECT(0xd58e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd58c));
        EXPECT(0x23, gbc.readMem(0xd58d));
        // CB 23 01A2
        gbc.setState(0x236f, 0x9212, 0xd70, 0xb083, 0x67fa, 0x2d1c, 0x0, 0x1);
        gbc.writeMem(0x236f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x9212, gbc.sp());
        EXPECT(0x2371, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01A3
        gbc.setState(0x1ea6, 0x1b08, 0x5e60, 0xcae1, 0x656a, 0x94bf, 0x1, 0x1);
        gbc.writeMem(0x1ea6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x1b08, gbc.sp());
        EXPECT(0x1ea8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01A5
        gbc.setState(0x4782, 0xab8b, 0x2a20, 0x4b02, 0xa015, 0x8860, 0x0, 0x1);
        gbc.writeMem(0x4782, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xab8b, gbc.sp());
        EXPECT(0x4784, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01A6
        gbc.setState(0x256a, 0xb2a6, 0xd450, 0x2f4e, 0xfa6f, 0xc84e, 0x0, 0x0);
        gbc.writeMem(0x256a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xb2a6, gbc.sp());
        EXPECT(0x256c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01A7
        gbc.setState(0x3e4b, 0x19eb, 0x2310, 0x1231, 0xbdff, 0x8692, 0x0, 0x1);
        gbc.writeMem(0x3e4b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x19eb, gbc.sp());
        EXPECT(0x3e4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01A8
        gbc.setState(0xe61c, 0xb6d9, 0x79e0, 0xa9d6, 0xaaf4, 0xf107, 0x0, 0x0);
        gbc.writeMem(0xe61c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xb6d9, gbc.sp());
        EXPECT(0xe61e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe61c));
        EXPECT(0x23, gbc.readMem(0xe61d));
        // CB 23 01A9
        gbc.setState(0x2cac, 0x34b3, 0xfcf0, 0x6cb5, 0xedda, 0xe288, 0x0, 0x1);
        gbc.writeMem(0x2cac, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x34b3, gbc.sp());
        EXPECT(0x2cae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01AA
        gbc.setState(0x4249, 0xf501, 0x1060, 0x88fe, 0x7063, 0x1564, 0x1, 0x0);
        gbc.writeMem(0x4249, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xf501, gbc.sp());
        EXPECT(0x424b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01AB
        gbc.setState(0xdefc, 0xede5, 0x6f50, 0x3930, 0x3671, 0xbff4, 0x1, 0x0);
        gbc.writeMem(0xdefc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xede5, gbc.sp());
        EXPECT(0xdefe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdefc));
        EXPECT(0x23, gbc.readMem(0xdefd));
        // CB 23 01AC
        gbc.setState(0x1a8e, 0x3435, 0x6360, 0xad44, 0xc700, 0xe6bf, 0x1, 0x0);
        gbc.writeMem(0x1a8e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x3435, gbc.sp());
        EXPECT(0x1a90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01AD
        gbc.setState(0x4ddd, 0xe773, 0x17b0, 0xd31f, 0x15f8, 0x593d, 0x0, 0x1);
        gbc.writeMem(0x4ddd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xe773, gbc.sp());
        EXPECT(0x4ddf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01AE
        gbc.setState(0xe0a5, 0x4e2b, 0x9820, 0xb7b9, 0xcf0f, 0x743e, 0x1, 0x0);
        gbc.writeMem(0xe0a5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x4e2b, gbc.sp());
        EXPECT(0xe0a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe0a5));
        EXPECT(0x23, gbc.readMem(0xe0a6));
        // CB 23 01AF
        gbc.setState(0x9401, 0x116, 0x8f00, 0xdcd3, 0x9728, 0x9ea4, 0x0, 0x1);
        gbc.writeMem(0x9401, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x116, gbc.sp());
        EXPECT(0x9403, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9401));
        EXPECT(0x23, gbc.readMem(0x9402));
        // CB 23 01B1
        gbc.setState(0xabc5, 0x732, 0xe510, 0x834a, 0xdd04, 0xc608, 0x1, 0x1);
        gbc.writeMem(0xabc5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x732, gbc.sp());
        EXPECT(0xabc7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xabc5));
        EXPECT(0x23, gbc.readMem(0xabc6));
        // CB 23 01B2
        gbc.setState(0x208e, 0xb5eb, 0xba90, 0xd18a, 0x3b7b, 0xa036, 0x0, 0x1);
        gbc.writeMem(0x208e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xb5eb, gbc.sp());
        EXPECT(0x2090, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01B3
        gbc.setState(0x3148, 0xbba0, 0x57f0, 0x208, 0x76a6, 0xcc83, 0x1, 0x0);
        gbc.writeMem(0x3148, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xbba0, gbc.sp());
        EXPECT(0x314a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01B4
        gbc.setState(0x1599, 0xb14a, 0x2a70, 0x91d0, 0x2e99, 0x45af, 0x1, 0x0);
        gbc.writeMem(0x1599, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xb14a, gbc.sp());
        EXPECT(0x159b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01B5
        gbc.setState(0x77ae, 0x71d8, 0x1a00, 0xf707, 0xd68b, 0xdbc2, 0x0, 0x1);
        gbc.writeMem(0x77ae, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x71d8, gbc.sp());
        EXPECT(0x77b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01B7
        gbc.setState(0x41cc, 0x369c, 0xfeb0, 0x678, 0x97ac, 0x8efe, 0x0, 0x1);
        gbc.writeMem(0x41cc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x369c, gbc.sp());
        EXPECT(0x41ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01B8
        gbc.setState(0x4b26, 0xf8da, 0x1cf0, 0xf85e, 0x83bb, 0xe8b3, 0x0, 0x0);
        gbc.writeMem(0x4b26, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xf8da, gbc.sp());
        EXPECT(0x4b28, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01B9
        gbc.setState(0x207c, 0x30e5, 0xdcf0, 0x21e3, 0xb665, 0x748f, 0x1, 0x0);
        gbc.writeMem(0x207c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x30e5, gbc.sp());
        EXPECT(0x207e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01BA
        gbc.setState(0xd2f, 0x8072, 0x15d0, 0xa087, 0x9153, 0x6d86, 0x1, 0x0);
        gbc.writeMem(0xd2f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x8072, gbc.sp());
        EXPECT(0xd31, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01BB
        gbc.setState(0x990f, 0xafb9, 0xb240, 0x8ff1, 0x6e51, 0xc277, 0x1, 0x0);
        gbc.writeMem(0x990f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xafb9, gbc.sp());
        EXPECT(0x9911, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x990f));
        EXPECT(0x23, gbc.readMem(0x9910));
        // CB 23 01BC
        gbc.setState(0xd023, 0x28b9, 0x51d0, 0x222e, 0x1a1f, 0xc5c, 0x0, 0x1);
        gbc.writeMem(0xd023, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x28b9, gbc.sp());
        EXPECT(0xd025, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd023));
        EXPECT(0x23, gbc.readMem(0xd024));
        // CB 23 01BD
        gbc.setState(0x40c9, 0x1334, 0xe350, 0xccec, 0xf94f, 0x63db, 0x0, 0x0);
        gbc.writeMem(0x40c9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x1334, gbc.sp());
        EXPECT(0x40cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01BE
        gbc.setState(0xcb3b, 0xc64e, 0x60c0, 0x4aaf, 0x397b, 0xbf4e, 0x0, 0x0);
        gbc.writeMem(0xcb3b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xc64e, gbc.sp());
        EXPECT(0xcb3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb3b));
        EXPECT(0x23, gbc.readMem(0xcb3c));
        // CB 23 01BF
        gbc.setState(0x9121, 0x8eb5, 0x5b90, 0x9b15, 0x61d1, 0x5344, 0x0, 0x0);
        gbc.writeMem(0x9121, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x8eb5, gbc.sp());
        EXPECT(0x9123, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9121));
        EXPECT(0x23, gbc.readMem(0x9122));
        // CB 23 01C0
        gbc.setState(0x3926, 0xd8c6, 0xc540, 0xcc0a, 0x750, 0x3801, 0x0, 0x0);
        gbc.writeMem(0x3926, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xd8c6, gbc.sp());
        EXPECT(0x3928, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01C1
        gbc.setState(0x126, 0x4e2e, 0xa6f0, 0x3b54, 0x7bce, 0x114d, 0x0, 0x1);
        gbc.writeMem(0x126, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x4e2e, gbc.sp());
        EXPECT(0x128, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01C2
        gbc.setState(0x10c8, 0x9a27, 0xfda0, 0x71b7, 0x74e4, 0xc000, 0x1, 0x1);
        gbc.writeMem(0x10c8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x9a27, gbc.sp());
        EXPECT(0x10ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01C3
        gbc.setState(0x4308, 0x4588, 0x9d60, 0x687a, 0xd8b6, 0x304e, 0x0, 0x0);
        gbc.writeMem(0x4308, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x4588, gbc.sp());
        EXPECT(0x430a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01C4
        gbc.setState(0x4006, 0x9ae7, 0xca40, 0xa289, 0xeea9, 0x3997, 0x0, 0x1);
        gbc.writeMem(0x4006, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x9ae7, gbc.sp());
        EXPECT(0x4008, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01C5
        gbc.setState(0xcea2, 0xebb8, 0xa540, 0xa8ac, 0x5378, 0xebdc, 0x0, 0x0);
        gbc.writeMem(0xcea2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xebb8, gbc.sp());
        EXPECT(0xcea4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcea2));
        EXPECT(0x23, gbc.readMem(0xcea3));
        // CB 23 01C6
        gbc.setState(0x9e07, 0xb115, 0x9c80, 0xe3c4, 0x4e7a, 0xabd6, 0x1, 0x0);
        gbc.writeMem(0x9e07, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xb115, gbc.sp());
        EXPECT(0x9e09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e07));
        EXPECT(0x23, gbc.readMem(0x9e08));
        // CB 23 01C7
        gbc.setState(0x1a5f, 0x3144, 0x3ef0, 0xa2b8, 0xfd52, 0x84f7, 0x0, 0x1);
        gbc.writeMem(0x1a5f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x3144, gbc.sp());
        EXPECT(0x1a61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01C8
        gbc.setState(0xa267, 0x54e9, 0x10d0, 0x6a3a, 0xb759, 0xf20c, 0x0, 0x1);
        gbc.writeMem(0xa267, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x54e9, gbc.sp());
        EXPECT(0xa269, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa267));
        EXPECT(0x23, gbc.readMem(0xa268));
        // CB 23 01C9
        gbc.setState(0x5cc3, 0x53d0, 0xbdb0, 0x4cd5, 0xcffd, 0xc2db, 0x1, 0x0);
        gbc.writeMem(0x5cc3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x53d0, gbc.sp());
        EXPECT(0x5cc5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01CA
        gbc.setState(0x1456, 0x579d, 0x2530, 0xaaf6, 0xf6fb, 0x9a99, 0x0, 0x1);
        gbc.writeMem(0x1456, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x579d, gbc.sp());
        EXPECT(0x1458, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01CB
        gbc.setState(0x240c, 0xc57d, 0xd200, 0x53b7, 0x42ab, 0x4022, 0x0, 0x1);
        gbc.writeMem(0x240c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xc57d, gbc.sp());
        EXPECT(0x240e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01CC
        gbc.setState(0x40e9, 0x9f48, 0x14c0, 0xf3e1, 0x94ce, 0x6ef9, 0x0, 0x0);
        gbc.writeMem(0x40e9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x9f48, gbc.sp());
        EXPECT(0x40eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01CD
        gbc.setState(0xf7c, 0x36b8, 0x17e0, 0xe802, 0x629c, 0x81ec, 0x1, 0x1);
        gbc.writeMem(0xf7c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x36b8, gbc.sp());
        EXPECT(0xf7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01CE
        gbc.setState(0x8452, 0xca3c, 0xa9d0, 0xeda7, 0xfa7, 0x8337, 0x1, 0x1);
        gbc.writeMem(0x8452, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xca3c, gbc.sp());
        EXPECT(0x8454, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8452));
        EXPECT(0x23, gbc.readMem(0x8453));
        // CB 23 01CF
        gbc.setState(0x2709, 0xa9d2, 0xe9a0, 0x1b40, 0x9b96, 0xa951, 0x0, 0x0);
        gbc.writeMem(0x2709, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xa9d2, gbc.sp());
        EXPECT(0x270b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01D0
        gbc.setState(0x812a, 0xaea0, 0x7fb0, 0x8ff7, 0x52f, 0x5f49, 0x0, 0x1);
        gbc.writeMem(0x812a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xaea0, gbc.sp());
        EXPECT(0x812c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x812a));
        EXPECT(0x23, gbc.readMem(0x812b));
        // CB 23 01D1
        gbc.setState(0x281a, 0x3518, 0xf740, 0xf8a4, 0xd8a5, 0xb4b, 0x0, 0x1);
        gbc.writeMem(0x281a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x3518, gbc.sp());
        EXPECT(0x281c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01D2
        gbc.setState(0xb61f, 0xd8d5, 0xa520, 0x708, 0x3457, 0x9cab, 0x0, 0x0);
        gbc.writeMem(0xb61f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xd8d5, gbc.sp());
        EXPECT(0xb621, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb61f));
        EXPECT(0x23, gbc.readMem(0xb620));
        // CB 23 01D3
        gbc.setState(0x395d, 0x6fa9, 0x5210, 0x9943, 0xe53a, 0xd416, 0x0, 0x0);
        gbc.writeMem(0x395d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x6fa9, gbc.sp());
        EXPECT(0x395f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01D4
        gbc.setState(0x58d3, 0xeded, 0xad0, 0x42cf, 0xee7c, 0x38df, 0x1, 0x0);
        gbc.writeMem(0x58d3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xeded, gbc.sp());
        EXPECT(0x58d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01D5
        gbc.setState(0xc906, 0x704c, 0xc080, 0x159e, 0x42f8, 0x24c9, 0x1, 0x1);
        gbc.writeMem(0xc906, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x704c, gbc.sp());
        EXPECT(0xc908, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc906));
        EXPECT(0x23, gbc.readMem(0xc907));
        // CB 23 01D6
        gbc.setState(0x95fe, 0xef70, 0x7f90, 0x8359, 0xfe45, 0x7723, 0x0, 0x1);
        gbc.writeMem(0x95fe, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xef70, gbc.sp());
        EXPECT(0x9600, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x95fe));
        EXPECT(0x23, gbc.readMem(0x95ff));
        // CB 23 01D7
        gbc.setState(0x9bc6, 0x49f9, 0x2b30, 0xa622, 0xe7ca, 0x8b3, 0x0, 0x1);
        gbc.writeMem(0x9bc6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x49f9, gbc.sp());
        EXPECT(0x9bc8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9bc6));
        EXPECT(0x23, gbc.readMem(0x9bc7));
        // CB 23 01D8
        gbc.setState(0x8874, 0x93c0, 0x2720, 0xdaa0, 0x3e7d, 0xce19, 0x1, 0x0);
        gbc.writeMem(0x8874, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x93c0, gbc.sp());
        EXPECT(0x8876, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8874));
        EXPECT(0x23, gbc.readMem(0x8875));
        // CB 23 01D9
        gbc.setState(0x5194, 0xa847, 0x5090, 0xe953, 0x6203, 0x9239, 0x1, 0x0);
        gbc.writeMem(0x5194, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xa847, gbc.sp());
        EXPECT(0x5196, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01DB
        gbc.setState(0x4b4e, 0xb592, 0xaff0, 0x12ae, 0xe1b, 0xc3c7, 0x1, 0x1);
        gbc.writeMem(0x4b4e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xb592, gbc.sp());
        EXPECT(0x4b50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01DC
        gbc.setState(0x3f1a, 0x8de3, 0x53d0, 0x725f, 0x573b, 0xb7ab, 0x1, 0x1);
        gbc.writeMem(0x3f1a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x8de3, gbc.sp());
        EXPECT(0x3f1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01DD
        gbc.setState(0xad04, 0xc4d7, 0xc1d0, 0x3dc0, 0x6f3d, 0xdef1, 0x0, 0x1);
        gbc.writeMem(0xad04, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xc4d7, gbc.sp());
        EXPECT(0xad06, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad04));
        EXPECT(0x23, gbc.readMem(0xad05));
        // CB 23 01DE
        gbc.setState(0x7fc2, 0xdbf7, 0xe860, 0xc317, 0xa859, 0xd91f, 0x1, 0x0);
        gbc.writeMem(0x7fc2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xdbf7, gbc.sp());
        EXPECT(0x7fc4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01DF
        gbc.setState(0x412c, 0xa2af, 0x61b0, 0xa398, 0xa93f, 0x1006, 0x0, 0x1);
        gbc.writeMem(0x412c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xa2af, gbc.sp());
        EXPECT(0x412e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01E0
        gbc.setState(0xaea8, 0x7c2d, 0xd5f0, 0x4729, 0xf393, 0x4574, 0x0, 0x0);
        gbc.writeMem(0xaea8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x7c2d, gbc.sp());
        EXPECT(0xaeaa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaea8));
        EXPECT(0x23, gbc.readMem(0xaea9));
        // CB 23 01E1
        gbc.setState(0x86d4, 0x9adc, 0xefe0, 0x537e, 0xf720, 0x97bb, 0x0, 0x0);
        gbc.writeMem(0x86d4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x9adc, gbc.sp());
        EXPECT(0x86d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x86d4));
        EXPECT(0x23, gbc.readMem(0x86d5));
        // CB 23 01E2
        gbc.setState(0x5252, 0xf3ff, 0xe460, 0x7d2d, 0x1370, 0x2e93, 0x1, 0x0);
        gbc.writeMem(0x5252, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xf3ff, gbc.sp());
        EXPECT(0x5254, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01E3
        gbc.setState(0x4c78, 0x7a18, 0x2840, 0x4b70, 0xe83b, 0xe041, 0x1, 0x1);
        gbc.writeMem(0x4c78, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x7a18, gbc.sp());
        EXPECT(0x4c7a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01E4
        gbc.setState(0x1612, 0xc278, 0xcc20, 0xf32c, 0xfa27, 0xb406, 0x0, 0x0);
        gbc.writeMem(0x1612, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xc278, gbc.sp());
        EXPECT(0x1614, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01E5
        gbc.setState(0x2236, 0xf147, 0x3800, 0xab97, 0x6d22, 0xd3a0, 0x0, 0x1);
        gbc.writeMem(0x2236, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xf147, gbc.sp());
        EXPECT(0x2238, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01E6
        gbc.setState(0x5d65, 0x320d, 0x5ac0, 0x88da, 0x5f9a, 0x4e3d, 0x0, 0x0);
        gbc.writeMem(0x5d65, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x320d, gbc.sp());
        EXPECT(0x5d67, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01E7
        gbc.setState(0xb70c, 0xe587, 0xd5b0, 0xa8b1, 0xc95b, 0x8b89, 0x1, 0x1);
        gbc.writeMem(0xb70c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xe587, gbc.sp());
        EXPECT(0xb70e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb70c));
        EXPECT(0x23, gbc.readMem(0xb70d));
        // CB 23 01E8
        gbc.setState(0xa37e, 0x5e7a, 0x98d0, 0xcfc0, 0xd999, 0x18ed, 0x0, 0x1);
        gbc.writeMem(0xa37e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x5e7a, gbc.sp());
        EXPECT(0xa380, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa37e));
        EXPECT(0x23, gbc.readMem(0xa37f));
        // CB 23 01E9
        gbc.setState(0x26e0, 0x4483, 0x1640, 0xbb02, 0x3ef5, 0xc69e, 0x0, 0x1);
        gbc.writeMem(0x26e0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x4483, gbc.sp());
        EXPECT(0x26e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01EA
        gbc.setState(0xdb3c, 0x9685, 0xf440, 0x8f56, 0x7f31, 0xf07b, 0x1, 0x0);
        gbc.writeMem(0xdb3c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x9685, gbc.sp());
        EXPECT(0xdb3e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb3c));
        EXPECT(0x23, gbc.readMem(0xdb3d));
        // CB 23 01EB
        gbc.setState(0x40a5, 0x4f90, 0x79f0, 0xc9a6, 0xb9e7, 0x1a36, 0x1, 0x0);
        gbc.writeMem(0x40a5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x4f90, gbc.sp());
        EXPECT(0x40a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01EC
        gbc.setState(0x4392, 0xbd56, 0xd30, 0x8967, 0xeb51, 0xe2f7, 0x1, 0x1);
        gbc.writeMem(0x4392, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xbd56, gbc.sp());
        EXPECT(0x4394, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01ED
        gbc.setState(0x3804, 0xb620, 0xe6f0, 0x534c, 0xa2c8, 0xa185, 0x1, 0x1);
        gbc.writeMem(0x3804, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xb620, gbc.sp());
        EXPECT(0x3806, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01EE
        gbc.setState(0xde08, 0xe686, 0xb2b0, 0xff57, 0xbc14, 0xea53, 0x0, 0x1);
        gbc.writeMem(0xde08, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xe686, gbc.sp());
        EXPECT(0xde0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde08));
        EXPECT(0x23, gbc.readMem(0xde09));
        // CB 23 01EF
        gbc.setState(0x9cf9, 0x311e, 0xdd0, 0x2622, 0xcce7, 0x8ad8, 0x1, 0x1);
        gbc.writeMem(0x9cf9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x311e, gbc.sp());
        EXPECT(0x9cfb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9cf9));
        EXPECT(0x23, gbc.readMem(0x9cfa));
        // CB 23 01F0
        gbc.setState(0xb621, 0xf253, 0xef20, 0xb135, 0x74da, 0x817a, 0x1, 0x0);
        gbc.writeMem(0xb621, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xf253, gbc.sp());
        EXPECT(0xb623, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb621));
        EXPECT(0x23, gbc.readMem(0xb622));
        // CB 23 01F2
        gbc.setState(0x399b, 0xbd97, 0xfa10, 0x6628, 0x6fb8, 0xd616, 0x0, 0x0);
        gbc.writeMem(0x399b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xbd97, gbc.sp());
        EXPECT(0x399d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 01F3
        gbc.setState(0x7f0a, 0x3467, 0x7400, 0xc2c5, 0x4004, 0x61a8, 0x1, 0x0);
        gbc.writeMem(0x7f0a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x3467, gbc.sp());
        EXPECT(0x7f0c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01F4
        gbc.setState(0xca9a, 0x46c1, 0x2ba0, 0xe9c9, 0x1bfd, 0xbbd9, 0x1, 0x1);
        gbc.writeMem(0xca9a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x46c1, gbc.sp());
        EXPECT(0xca9c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca9a));
        EXPECT(0x23, gbc.readMem(0xca9b));
        // CB 23 01F5
        gbc.setState(0x9843, 0x417e, 0x6390, 0xcbd0, 0xa491, 0xc1f7, 0x1, 0x1);
        gbc.writeMem(0x9843, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x417e, gbc.sp());
        EXPECT(0x9845, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9843));
        EXPECT(0x23, gbc.readMem(0x9844));
        // CB 23 01F6
        gbc.setState(0x56bf, 0x4b1d, 0x1c70, 0xa502, 0x9630, 0xb9db, 0x1, 0x1);
        gbc.writeMem(0x56bf, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x4b1d, gbc.sp());
        EXPECT(0x56c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01F7
        gbc.setState(0x963, 0xc665, 0x2b30, 0xf39e, 0x494a, 0x58a, 0x0, 0x1);
        gbc.writeMem(0x963, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xc665, gbc.sp());
        EXPECT(0x965, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01F8
        gbc.setState(0x6c8d, 0xf1b2, 0x2060, 0x43f8, 0x906d, 0xc09f, 0x0, 0x1);
        gbc.writeMem(0x6c8d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xf1b2, gbc.sp());
        EXPECT(0x6c8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01F9
        gbc.setState(0xbf1f, 0x61ad, 0xb970, 0xd873, 0x109d, 0xecbc, 0x0, 0x1);
        gbc.writeMem(0xbf1f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x61ad, gbc.sp());
        EXPECT(0xbf21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf1f));
        EXPECT(0x23, gbc.readMem(0xbf20));
        // CB 23 01FA
        gbc.setState(0x5fdb, 0xbae9, 0xa670, 0x5c02, 0x9d59, 0xe166, 0x1, 0x0);
        gbc.writeMem(0x5fdb, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xbae9, gbc.sp());
        EXPECT(0x5fdd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01FB
        gbc.setState(0x29c2, 0xfa35, 0x60f0, 0xdc8d, 0xe858, 0x4081, 0x0, 0x0);
        gbc.writeMem(0x29c2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xfa35, gbc.sp());
        EXPECT(0x29c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 01FC
        gbc.setState(0x8b10, 0xe137, 0xc0c0, 0x44dc, 0x71aa, 0x658e, 0x1, 0x0);
        gbc.writeMem(0x8b10, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xe137, gbc.sp());
        EXPECT(0x8b12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b10));
        EXPECT(0x23, gbc.readMem(0x8b11));
        // CB 23 01FD
        gbc.setState(0x922f, 0x6f17, 0x9960, 0x2b72, 0x320d, 0xe35e, 0x0, 0x0);
        gbc.writeMem(0x922f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x6f17, gbc.sp());
        EXPECT(0x9231, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x922f));
        EXPECT(0x23, gbc.readMem(0x9230));
        // CB 23 01FE
        gbc.setState(0x15b6, 0x129c, 0x680, 0xb695, 0xd946, 0xd23d, 0x0, 0x0);
        gbc.writeMem(0x15b6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x129c, gbc.sp());
        EXPECT(0x15b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0200
        gbc.setState(0xe05d, 0x53cb, 0xfae0, 0x626c, 0x4027, 0x493f, 0x1, 0x1);
        gbc.writeMem(0xe05d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x53cb, gbc.sp());
        EXPECT(0xe05f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe05d));
        EXPECT(0x23, gbc.readMem(0xe05e));
        // CB 23 0201
        gbc.setState(0x7d68, 0xc32b, 0xc080, 0x23f7, 0xde93, 0x53e9, 0x1, 0x1);
        gbc.writeMem(0x7d68, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xc32b, gbc.sp());
        EXPECT(0x7d6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0202
        gbc.setState(0x7404, 0xd5d6, 0xfde0, 0x288f, 0x8bf2, 0x7344, 0x1, 0x0);
        gbc.writeMem(0x7404, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xd5d6, gbc.sp());
        EXPECT(0x7406, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0204
        gbc.setState(0x13d7, 0xf2fe, 0xa0e0, 0x4a52, 0x959, 0x7719, 0x1, 0x1);
        gbc.writeMem(0x13d7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xf2fe, gbc.sp());
        EXPECT(0x13d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0205
        gbc.setState(0x49fb, 0xd7d3, 0xf6d0, 0x6b0a, 0xef, 0xbb91, 0x0, 0x1);
        gbc.writeMem(0x49fb, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xd7d3, gbc.sp());
        EXPECT(0x49fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0206
        gbc.setState(0x54a5, 0x94fe, 0xb3b0, 0x2913, 0xb1c7, 0xc76b, 0x1, 0x0);
        gbc.writeMem(0x54a5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x94fe, gbc.sp());
        EXPECT(0x54a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0207
        gbc.setState(0x5681, 0x4ce8, 0xe40, 0x26, 0xbdbb, 0x886a, 0x1, 0x1);
        gbc.writeMem(0x5681, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x4ce8, gbc.sp());
        EXPECT(0x5683, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0208
        gbc.setState(0x850c, 0x8ba2, 0x6010, 0x8cc, 0x51ae, 0x391, 0x1, 0x0);
        gbc.writeMem(0x850c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x8ba2, gbc.sp());
        EXPECT(0x850e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x850c));
        EXPECT(0x23, gbc.readMem(0x850d));
        // CB 23 0209
        gbc.setState(0x2561, 0x2a22, 0xfc30, 0xc2c6, 0xe91e, 0x996, 0x1, 0x1);
        gbc.writeMem(0x2561, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x2a22, gbc.sp());
        EXPECT(0x2563, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 020A
        gbc.setState(0x439e, 0x983d, 0x9760, 0xa5e, 0xad7b, 0x1a14, 0x0, 0x0);
        gbc.writeMem(0x439e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x983d, gbc.sp());
        EXPECT(0x43a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 020B
        gbc.setState(0xc4de, 0xe7aa, 0xcec0, 0x83d7, 0xba46, 0x2064, 0x0, 0x0);
        gbc.writeMem(0xc4de, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xe7aa, gbc.sp());
        EXPECT(0xc4e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4de));
        EXPECT(0x23, gbc.readMem(0xc4df));
        // CB 23 020C
        gbc.setState(0x1ade, 0x9ad1, 0x7f50, 0xf94b, 0xb96c, 0x2f38, 0x1, 0x1);
        gbc.writeMem(0x1ade, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x9ad1, gbc.sp());
        EXPECT(0x1ae0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 020D
        gbc.setState(0x8adc, 0xf1e8, 0x9fe0, 0x44df, 0xc910, 0xcf38, 0x0, 0x0);
        gbc.writeMem(0x8adc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xf1e8, gbc.sp());
        EXPECT(0x8ade, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8adc));
        EXPECT(0x23, gbc.readMem(0x8add));
        // CB 23 020E
        gbc.setState(0x2192, 0x56db, 0xb0d0, 0x737a, 0x508f, 0xc0be, 0x0, 0x0);
        gbc.writeMem(0x2192, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x56db, gbc.sp());
        EXPECT(0x2194, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 020F
        gbc.setState(0xa67c, 0xbe20, 0xbea0, 0xe55d, 0xc39c, 0x7b2c, 0x1, 0x1);
        gbc.writeMem(0xa67c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xbe20, gbc.sp());
        EXPECT(0xa67e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa67c));
        EXPECT(0x23, gbc.readMem(0xa67d));
        // CB 23 0210
        gbc.setState(0xceb4, 0x9a70, 0xe140, 0x203f, 0x8ff1, 0xdc45, 0x1, 0x1);
        gbc.writeMem(0xceb4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x9a70, gbc.sp());
        EXPECT(0xceb6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xceb4));
        EXPECT(0x23, gbc.readMem(0xceb5));
        // CB 23 0211
        gbc.setState(0x2626, 0x569e, 0x9f0, 0x345, 0xbd1d, 0xd6e9, 0x1, 0x0);
        gbc.writeMem(0x2626, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x569e, gbc.sp());
        EXPECT(0x2628, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0212
        gbc.setState(0xb973, 0xc135, 0xaf60, 0x6791, 0x600f, 0xf939, 0x0, 0x0);
        gbc.writeMem(0xb973, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xc135, gbc.sp());
        EXPECT(0xb975, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb973));
        EXPECT(0x23, gbc.readMem(0xb974));
        // CB 23 0213
        gbc.setState(0x2e47, 0xa7e3, 0x71d0, 0x9f9, 0xa141, 0xd38f, 0x1, 0x1);
        gbc.writeMem(0x2e47, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xa7e3, gbc.sp());
        EXPECT(0x2e49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0214
        gbc.setState(0xe1df, 0x20bc, 0x61b0, 0x1f9e, 0x7a7e, 0x419f, 0x0, 0x0);
        gbc.writeMem(0xe1df, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x20bc, gbc.sp());
        EXPECT(0xe1e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1df));
        EXPECT(0x23, gbc.readMem(0xe1e0));
        // CB 23 0215
        gbc.setState(0xa871, 0x92c5, 0x55a0, 0xd474, 0x58d3, 0xd61b, 0x1, 0x0);
        gbc.writeMem(0xa871, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x92c5, gbc.sp());
        EXPECT(0xa873, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa871));
        EXPECT(0x23, gbc.readMem(0xa872));
        // CB 23 0216
        gbc.setState(0x1597, 0x6d67, 0x120, 0x2836, 0x2df4, 0xa771, 0x1, 0x1);
        gbc.writeMem(0x1597, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x6d67, gbc.sp());
        EXPECT(0x1599, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0217
        gbc.setState(0xd813, 0xcbe5, 0x2090, 0xc252, 0x96d3, 0x36a, 0x1, 0x1);
        gbc.writeMem(0xd813, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xcbe5, gbc.sp());
        EXPECT(0xd815, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd813));
        EXPECT(0x23, gbc.readMem(0xd814));
        // CB 23 0218
        gbc.setState(0x770b, 0xab51, 0x5220, 0x13f0, 0x9263, 0xc0f5, 0x1, 0x0);
        gbc.writeMem(0x770b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xab51, gbc.sp());
        EXPECT(0x770d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0219
        gbc.setState(0x80a5, 0x74a9, 0xd3e0, 0x2725, 0x76b, 0x876c, 0x0, 0x0);
        gbc.writeMem(0x80a5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x74a9, gbc.sp());
        EXPECT(0x80a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80a5));
        EXPECT(0x23, gbc.readMem(0x80a6));
        // CB 23 021A
        gbc.setState(0xade6, 0x4a46, 0x5390, 0x5055, 0xb464, 0x3b86, 0x1, 0x0);
        gbc.writeMem(0xade6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x4a46, gbc.sp());
        EXPECT(0xade8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xade6));
        EXPECT(0x23, gbc.readMem(0xade7));
        // CB 23 021B
        gbc.setState(0xb436, 0x5a82, 0xfef0, 0x4fbc, 0xe315, 0xe928, 0x0, 0x1);
        gbc.writeMem(0xb436, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x5a82, gbc.sp());
        EXPECT(0xb438, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb436));
        EXPECT(0x23, gbc.readMem(0xb437));
        // CB 23 021C
        gbc.setState(0xb1c, 0x9d1a, 0x26c0, 0x80c9, 0x460d, 0xd3d2, 0x1, 0x1);
        gbc.writeMem(0xb1c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x9d1a, gbc.sp());
        EXPECT(0xb1e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 021D
        gbc.setState(0x77e2, 0xfaf5, 0xd610, 0x2752, 0xe0a3, 0x3062, 0x1, 0x1);
        gbc.writeMem(0x77e2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xfaf5, gbc.sp());
        EXPECT(0x77e4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 021E
        gbc.setState(0x63a7, 0x859d, 0x2940, 0xa886, 0x57a4, 0xabb9, 0x1, 0x0);
        gbc.writeMem(0x63a7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x859d, gbc.sp());
        EXPECT(0x63a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 021F
        gbc.setState(0xc0c6, 0x73bc, 0xa8a0, 0x1117, 0xf58a, 0x62f6, 0x0, 0x0);
        gbc.writeMem(0xc0c6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x73bc, gbc.sp());
        EXPECT(0xc0c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0c6));
        EXPECT(0x23, gbc.readMem(0xc0c7));
        // CB 23 0220
        gbc.setState(0x9489, 0x5bbb, 0xac90, 0x3020, 0xfbc2, 0x99d9, 0x0, 0x1);
        gbc.writeMem(0x9489, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x5bbb, gbc.sp());
        EXPECT(0x948b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9489));
        EXPECT(0x23, gbc.readMem(0x948a));
        // CB 23 0221
        gbc.setState(0x5971, 0xffd6, 0xf50, 0xe24e, 0x1fb3, 0x2fec, 0x0, 0x0);
        gbc.writeMem(0x5971, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xffd6, gbc.sp());
        EXPECT(0x5973, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0222
        gbc.setState(0xc8d6, 0xd874, 0xd50, 0xc871, 0xc351, 0xdebe, 0x0, 0x0);
        gbc.writeMem(0xc8d6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xd874, gbc.sp());
        EXPECT(0xc8d8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8d6));
        EXPECT(0x23, gbc.readMem(0xc8d7));
        // CB 23 0223
        gbc.setState(0x3257, 0x4313, 0x4580, 0x9405, 0x20, 0xf4d2, 0x1, 0x0);
        gbc.writeMem(0x3257, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x4313, gbc.sp());
        EXPECT(0x3259, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0224
        gbc.setState(0xaa53, 0x3bc, 0x24b0, 0x76ab, 0x2a3, 0xb88d, 0x1, 0x0);
        gbc.writeMem(0xaa53, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x3bc, gbc.sp());
        EXPECT(0xaa55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa53));
        EXPECT(0x23, gbc.readMem(0xaa54));
        // CB 23 0225
        gbc.setState(0xa5a, 0x2251, 0xf700, 0x1a88, 0x69e9, 0x13d7, 0x0, 0x0);
        gbc.writeMem(0xa5a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x2251, gbc.sp());
        EXPECT(0xa5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0226
        gbc.setState(0x1f45, 0xd158, 0x7ed0, 0xab20, 0x38df, 0x2079, 0x0, 0x1);
        gbc.writeMem(0x1f45, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xd158, gbc.sp());
        EXPECT(0x1f47, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0227
        gbc.setState(0xe9b9, 0x8ec, 0x14a0, 0x8d68, 0xc8ab, 0xc9f6, 0x1, 0x1);
        gbc.writeMem(0xe9b9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x8ec, gbc.sp());
        EXPECT(0xe9bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe9b9));
        EXPECT(0x23, gbc.readMem(0xe9ba));
        // CB 23 0228
        gbc.setState(0xead2, 0xfd8f, 0xfb20, 0x48b5, 0x8f64, 0x92c2, 0x1, 0x1);
        gbc.writeMem(0xead2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xfd8f, gbc.sp());
        EXPECT(0xead4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xead2));
        EXPECT(0x23, gbc.readMem(0xead3));
        // CB 23 0229
        gbc.setState(0x17dc, 0x7e56, 0x5060, 0xbfe3, 0x8389, 0xefd8, 0x0, 0x0);
        gbc.writeMem(0x17dc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x7e56, gbc.sp());
        EXPECT(0x17de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 022A
        gbc.setState(0xd6ef, 0x2121, 0x6010, 0x66d0, 0x447f, 0xb7b9, 0x0, 0x0);
        gbc.writeMem(0xd6ef, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x2121, gbc.sp());
        EXPECT(0xd6f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6ef));
        EXPECT(0x23, gbc.readMem(0xd6f0));
        // CB 23 022B
        gbc.setState(0x867f, 0x4a93, 0x9940, 0xa9f, 0x73cb, 0xd096, 0x1, 0x0);
        gbc.writeMem(0x867f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x4a93, gbc.sp());
        EXPECT(0x8681, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x867f));
        EXPECT(0x23, gbc.readMem(0x8680));
        // CB 23 022D
        gbc.setState(0x233a, 0xc54f, 0x5410, 0xf2ea, 0xde44, 0x5f4a, 0x1, 0x0);
        gbc.writeMem(0x233a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xc54f, gbc.sp());
        EXPECT(0x233c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 022E
        gbc.setState(0xbfae, 0x2aef, 0x3bd0, 0x28f9, 0x8653, 0x5193, 0x0, 0x1);
        gbc.writeMem(0xbfae, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x2aef, gbc.sp());
        EXPECT(0xbfb0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfae));
        EXPECT(0x23, gbc.readMem(0xbfaf));
        // CB 23 022F
        gbc.setState(0xcf12, 0x26e0, 0x6010, 0xf5e5, 0xc19, 0xa239, 0x1, 0x1);
        gbc.writeMem(0xcf12, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x26e0, gbc.sp());
        EXPECT(0xcf14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf12));
        EXPECT(0x23, gbc.readMem(0xcf13));
        // CB 23 0230
        gbc.setState(0x9597, 0x995c, 0x3220, 0x85f9, 0xa012, 0x108, 0x1, 0x0);
        gbc.writeMem(0x9597, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x995c, gbc.sp());
        EXPECT(0x9599, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9597));
        EXPECT(0x23, gbc.readMem(0x9598));
        // CB 23 0231
        gbc.setState(0x8045, 0xae55, 0xc1a0, 0x4986, 0x451a, 0xe0ab, 0x1, 0x1);
        gbc.writeMem(0x8045, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xae55, gbc.sp());
        EXPECT(0x8047, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8045));
        EXPECT(0x23, gbc.readMem(0x8046));
        // CB 23 0232
        gbc.setState(0xd6ef, 0x7152, 0xb980, 0x81af, 0xb7aa, 0xbafc, 0x1, 0x1);
        gbc.writeMem(0xd6ef, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x7152, gbc.sp());
        EXPECT(0xd6f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6ef));
        EXPECT(0x23, gbc.readMem(0xd6f0));
        // CB 23 0233
        gbc.setState(0xeeec, 0x49c2, 0x6bb0, 0xc3ad, 0x2b4c, 0xddf5, 0x1, 0x1);
        gbc.writeMem(0xeeec, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x49c2, gbc.sp());
        EXPECT(0xeeee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeeec));
        EXPECT(0x23, gbc.readMem(0xeeed));
        // CB 23 0234
        gbc.setState(0x9204, 0x2639, 0x5bc0, 0x5ad7, 0x9896, 0x458f, 0x1, 0x0);
        gbc.writeMem(0x9204, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x2639, gbc.sp());
        EXPECT(0x9206, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9204));
        EXPECT(0x23, gbc.readMem(0x9205));
        // CB 23 0235
        gbc.setState(0xe7e9, 0xf7d5, 0x7f80, 0xcc34, 0x1c73, 0x6521, 0x0, 0x0);
        gbc.writeMem(0xe7e9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xf7d5, gbc.sp());
        EXPECT(0xe7eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe7e9));
        EXPECT(0x23, gbc.readMem(0xe7ea));
        // CB 23 0236
        gbc.setState(0xb912, 0xe9b0, 0x8310, 0xb748, 0xf42, 0x7888, 0x0, 0x1);
        gbc.writeMem(0xb912, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xe9b0, gbc.sp());
        EXPECT(0xb914, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb912));
        EXPECT(0x23, gbc.readMem(0xb913));
        // CB 23 0237
        gbc.setState(0xe2b5, 0x17ce, 0x7810, 0xf7aa, 0x6e6f, 0xd28f, 0x1, 0x1);
        gbc.writeMem(0xe2b5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x17ce, gbc.sp());
        EXPECT(0xe2b7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe2b5));
        EXPECT(0x23, gbc.readMem(0xe2b6));
        // CB 23 0238
        gbc.setState(0x69e9, 0x6618, 0x7ee0, 0xe824, 0x4c70, 0xe935, 0x0, 0x1);
        gbc.writeMem(0x69e9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x6618, gbc.sp());
        EXPECT(0x69eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 023A
        gbc.setState(0x9a12, 0xfc56, 0xa450, 0x9d38, 0xd0e0, 0xa75a, 0x1, 0x0);
        gbc.writeMem(0x9a12, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xfc56, gbc.sp());
        EXPECT(0x9a14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a12));
        EXPECT(0x23, gbc.readMem(0x9a13));
        // CB 23 023B
        gbc.setState(0x1a26, 0xa532, 0x44f0, 0x9308, 0x41da, 0x7fc9, 0x0, 0x0);
        gbc.writeMem(0x1a26, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xa532, gbc.sp());
        EXPECT(0x1a28, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 023C
        gbc.setState(0x30a0, 0xd17f, 0x8890, 0x7c0f, 0x71a1, 0xc23, 0x1, 0x1);
        gbc.writeMem(0x30a0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xd17f, gbc.sp());
        EXPECT(0x30a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 023D
        gbc.setState(0xe5e3, 0x4ffd, 0xa120, 0x3bd6, 0x9672, 0x5814, 0x0, 0x0);
        gbc.writeMem(0xe5e3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x4ffd, gbc.sp());
        EXPECT(0xe5e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe5e3));
        EXPECT(0x23, gbc.readMem(0xe5e4));
        // CB 23 023F
        gbc.setState(0x36ad, 0x17, 0x12d0, 0x65b2, 0xa2ab, 0xfbca, 0x0, 0x1);
        gbc.writeMem(0x36ad, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x17, gbc.sp());
        EXPECT(0x36af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0240
        gbc.setState(0xabe8, 0x6874, 0xb440, 0xcc72, 0x29, 0x5ca4, 0x0, 0x1);
        gbc.writeMem(0xabe8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x6874, gbc.sp());
        EXPECT(0xabea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xabe8));
        EXPECT(0x23, gbc.readMem(0xabe9));
        // CB 23 0241
        gbc.setState(0x8947, 0xf79a, 0x8aa0, 0x26cc, 0x6c75, 0x9906, 0x0, 0x1);
        gbc.writeMem(0x8947, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xf79a, gbc.sp());
        EXPECT(0x8949, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8947));
        EXPECT(0x23, gbc.readMem(0x8948));
        // CB 23 0242
        gbc.setState(0x6a21, 0xa69a, 0xd6f0, 0xaba9, 0xc1b7, 0xd816, 0x0, 0x0);
        gbc.writeMem(0x6a21, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xa69a, gbc.sp());
        EXPECT(0x6a23, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0243
        gbc.setState(0x6214, 0x14d0, 0x33d0, 0x61b5, 0x47e7, 0x8ffc, 0x1, 0x1);
        gbc.writeMem(0x6214, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x14d0, gbc.sp());
        EXPECT(0x6216, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0244
        gbc.setState(0x6015, 0xf9eb, 0x8430, 0xbd63, 0xc3fa, 0xc2ae, 0x0, 0x0);
        gbc.writeMem(0x6015, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xf9eb, gbc.sp());
        EXPECT(0x6017, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0245
        gbc.setState(0x4050, 0xdd49, 0x2fd0, 0xa345, 0x4fc, 0x6190, 0x1, 0x0);
        gbc.writeMem(0x4050, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xdd49, gbc.sp());
        EXPECT(0x4052, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0246
        gbc.setState(0xd928, 0x7702, 0xea90, 0x71a2, 0x5fb, 0x6385, 0x1, 0x1);
        gbc.writeMem(0xd928, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x7702, gbc.sp());
        EXPECT(0xd92a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd928));
        EXPECT(0x23, gbc.readMem(0xd929));
        // CB 23 0247
        gbc.setState(0x3c20, 0xb1b6, 0x92c0, 0x5706, 0xe0c6, 0xcd9d, 0x0, 0x0);
        gbc.writeMem(0x3c20, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xb1b6, gbc.sp());
        EXPECT(0x3c22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0248
        gbc.setState(0x393b, 0xf144, 0x9f20, 0x67d3, 0xb85f, 0xdef8, 0x0, 0x0);
        gbc.writeMem(0x393b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xf144, gbc.sp());
        EXPECT(0x393d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0249
        gbc.setState(0x5aa1, 0x8454, 0x62b0, 0xfa35, 0x3baa, 0xd7e9, 0x1, 0x0);
        gbc.writeMem(0x5aa1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x8454, gbc.sp());
        EXPECT(0x5aa3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 024A
        gbc.setState(0x57f5, 0x6d81, 0x5d30, 0x8b39, 0x8e50, 0x167e, 0x1, 0x1);
        gbc.writeMem(0x57f5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x6d81, gbc.sp());
        EXPECT(0x57f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 024B
        gbc.setState(0x151c, 0x8016, 0x2a10, 0x7c81, 0x5b94, 0x344b, 0x0, 0x1);
        gbc.writeMem(0x151c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x8016, gbc.sp());
        EXPECT(0x151e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 024C
        gbc.setState(0x388e, 0x5b4d, 0xe460, 0x2843, 0x8f1d, 0x39b2, 0x1, 0x1);
        gbc.writeMem(0x388e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x5b4d, gbc.sp());
        EXPECT(0x3890, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 024D
        gbc.setState(0x1cf6, 0xdf4f, 0x53f0, 0x2464, 0x3fbb, 0x35, 0x1, 0x0);
        gbc.writeMem(0x1cf6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xdf4f, gbc.sp());
        EXPECT(0x1cf8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 024E
        gbc.setState(0x5174, 0x153f, 0xac20, 0x1c7a, 0xef00, 0xb81e, 0x1, 0x0);
        gbc.writeMem(0x5174, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x153f, gbc.sp());
        EXPECT(0x5176, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 024F
        gbc.setState(0xe2a3, 0xc38c, 0x6f20, 0xd456, 0xe0a4, 0x238f, 0x1, 0x0);
        gbc.writeMem(0xe2a3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xc38c, gbc.sp());
        EXPECT(0xe2a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe2a3));
        EXPECT(0x23, gbc.readMem(0xe2a4));
        // CB 23 0250
        gbc.setState(0x7be0, 0xd2ef, 0xef20, 0xdcce, 0xf606, 0xd0fe, 0x1, 0x0);
        gbc.writeMem(0x7be0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xd2ef, gbc.sp());
        EXPECT(0x7be2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0251
        gbc.setState(0x2087, 0x753e, 0x3c80, 0xdfa, 0xaa5a, 0x32c8, 0x1, 0x0);
        gbc.writeMem(0x2087, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x753e, gbc.sp());
        EXPECT(0x2089, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0252
        gbc.setState(0xb3c4, 0x1c74, 0x46f0, 0x4be, 0xc7fe, 0x4278, 0x1, 0x1);
        gbc.writeMem(0xb3c4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x1c74, gbc.sp());
        EXPECT(0xb3c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb3c4));
        EXPECT(0x23, gbc.readMem(0xb3c5));
        // CB 23 0253
        gbc.setState(0x7042, 0xc091, 0xa0c0, 0x8caf, 0xb1c7, 0x7a58, 0x0, 0x0);
        gbc.writeMem(0x7042, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xc091, gbc.sp());
        EXPECT(0x7044, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0255
        gbc.setState(0xd5c, 0x30d0, 0x3be0, 0xdff2, 0x6e7e, 0x9cea, 0x1, 0x0);
        gbc.writeMem(0xd5c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x30d0, gbc.sp());
        EXPECT(0xd5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0256
        gbc.setState(0xde51, 0xc11f, 0x1380, 0x4a19, 0x237d, 0x75bc, 0x1, 0x0);
        gbc.writeMem(0xde51, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xc11f, gbc.sp());
        EXPECT(0xde53, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde51));
        EXPECT(0x23, gbc.readMem(0xde52));
        // CB 23 0257
        gbc.setState(0x7c82, 0x803d, 0x5860, 0x3480, 0xa04b, 0xe1a8, 0x0, 0x1);
        gbc.writeMem(0x7c82, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x803d, gbc.sp());
        EXPECT(0x7c84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0258
        gbc.setState(0x6d75, 0xd367, 0x8cb0, 0xd660, 0x2dab, 0x6501, 0x1, 0x1);
        gbc.writeMem(0x6d75, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xd367, gbc.sp());
        EXPECT(0x6d77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0259
        gbc.setState(0x42e, 0x6afa, 0xce80, 0xa1ad, 0x320b, 0x9835, 0x0, 0x0);
        gbc.writeMem(0x42e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x6afa, gbc.sp());
        EXPECT(0x430, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 025A
        gbc.setState(0x1abe, 0xd64c, 0x9590, 0x6ff8, 0x7b54, 0x752a, 0x0, 0x1);
        gbc.writeMem(0x1abe, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xd64c, gbc.sp());
        EXPECT(0x1ac0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 025B
        gbc.setState(0xd315, 0xcf4c, 0x7b0, 0x6024, 0x594c, 0x54a6, 0x1, 0x0);
        gbc.writeMem(0xd315, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xcf4c, gbc.sp());
        EXPECT(0xd317, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd315));
        EXPECT(0x23, gbc.readMem(0xd316));
        // CB 23 025C
        gbc.setState(0xc721, 0xfb38, 0xd8e0, 0x40e4, 0x377a, 0x9a8d, 0x1, 0x1);
        gbc.writeMem(0xc721, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xfb38, gbc.sp());
        EXPECT(0xc723, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc721));
        EXPECT(0x23, gbc.readMem(0xc722));
        // CB 23 025D
        gbc.setState(0x8ac3, 0x4a06, 0x98d0, 0xe3f8, 0xaa3c, 0xe65, 0x0, 0x0);
        gbc.writeMem(0x8ac3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x4a06, gbc.sp());
        EXPECT(0x8ac5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ac3));
        EXPECT(0x23, gbc.readMem(0x8ac4));
        // CB 23 025E
        gbc.setState(0xb4b0, 0x4476, 0x7fc0, 0xd051, 0xf305, 0x68f7, 0x0, 0x1);
        gbc.writeMem(0xb4b0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x4476, gbc.sp());
        EXPECT(0xb4b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb4b0));
        EXPECT(0x23, gbc.readMem(0xb4b1));
        // CB 23 025F
        gbc.setState(0xac29, 0x372f, 0x6c60, 0x6d43, 0xe47c, 0x5809, 0x0, 0x0);
        gbc.writeMem(0xac29, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x372f, gbc.sp());
        EXPECT(0xac2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac29));
        EXPECT(0x23, gbc.readMem(0xac2a));
        // CB 23 0260
        gbc.setState(0x4745, 0x36ab, 0x5c70, 0xfbd6, 0x90e1, 0xf127, 0x1, 0x0);
        gbc.writeMem(0x4745, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x36ab, gbc.sp());
        EXPECT(0x4747, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0261
        gbc.setState(0xbc5f, 0xe01b, 0x3b30, 0xd31e, 0x4e4a, 0x8c8c, 0x1, 0x1);
        gbc.writeMem(0xbc5f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xe01b, gbc.sp());
        EXPECT(0xbc61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc5f));
        EXPECT(0x23, gbc.readMem(0xbc60));
        // CB 23 0262
        gbc.setState(0x2420, 0x97f0, 0x2de0, 0xf34f, 0xac3e, 0x413c, 0x1, 0x0);
        gbc.writeMem(0x2420, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x97f0, gbc.sp());
        EXPECT(0x2422, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0263
        gbc.setState(0x84de, 0x2977, 0x6770, 0xf6c2, 0xaa89, 0x4e2a, 0x1, 0x0);
        gbc.writeMem(0x84de, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x2977, gbc.sp());
        EXPECT(0x84e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x84de));
        EXPECT(0x23, gbc.readMem(0x84df));
        // CB 23 0264
        gbc.setState(0x2925, 0xa1c, 0x89f0, 0x4e3a, 0x8f8d, 0xc79, 0x1, 0x1);
        gbc.writeMem(0x2925, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xa1c, gbc.sp());
        EXPECT(0x2927, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0265
        gbc.setState(0xc69e, 0x4d6e, 0x6060, 0x2c5e, 0x40e7, 0x5c01, 0x0, 0x0);
        gbc.writeMem(0xc69e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x4d6e, gbc.sp());
        EXPECT(0xc6a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc69e));
        EXPECT(0x23, gbc.readMem(0xc69f));
        // CB 23 0266
        gbc.setState(0x3606, 0xa816, 0x4460, 0xb4f5, 0xc234, 0xdc6d, 0x1, 0x1);
        gbc.writeMem(0x3606, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xa816, gbc.sp());
        EXPECT(0x3608, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0267
        gbc.setState(0x537d, 0x524, 0xafe0, 0x43bd, 0x5fd7, 0xa9b4, 0x1, 0x0);
        gbc.writeMem(0x537d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x524, gbc.sp());
        EXPECT(0x537f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0268
        gbc.setState(0x106c, 0xf9d5, 0xe180, 0x2b7e, 0x18da, 0xbc3c, 0x1, 0x0);
        gbc.writeMem(0x106c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xf9d5, gbc.sp());
        EXPECT(0x106e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0269
        gbc.setState(0x6164, 0x74fc, 0x7920, 0x737b, 0x6e91, 0x9e03, 0x1, 0x0);
        gbc.writeMem(0x6164, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x74fc, gbc.sp());
        EXPECT(0x6166, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 026A
        gbc.setState(0xdf82, 0x5d5a, 0xa320, 0x62dd, 0x2d47, 0xd2ff, 0x1, 0x0);
        gbc.writeMem(0xdf82, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x5d5a, gbc.sp());
        EXPECT(0xdf84, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf82));
        EXPECT(0x23, gbc.readMem(0xdf83));
        // CB 23 026B
        gbc.setState(0x78a6, 0x4134, 0xb120, 0x2ecd, 0xbdb3, 0x8000, 0x0, 0x0);
        gbc.writeMem(0x78a6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x4134, gbc.sp());
        EXPECT(0x78a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 026D
        gbc.setState(0x8001, 0x29a5, 0x1700, 0x69d1, 0x11f8, 0xc716, 0x0, 0x0);
        gbc.writeMem(0x8001, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x29a5, gbc.sp());
        EXPECT(0x8003, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8001));
        EXPECT(0x23, gbc.readMem(0x8002));
        // CB 23 026E
        gbc.setState(0xb1f8, 0x6f2d, 0xaca0, 0x57bc, 0x3629, 0x3fc2, 0x0, 0x0);
        gbc.writeMem(0xb1f8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x6f2d, gbc.sp());
        EXPECT(0xb1fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb1f8));
        EXPECT(0x23, gbc.readMem(0xb1f9));
        // CB 23 026F
        gbc.setState(0x5f94, 0x59b1, 0x49f0, 0xf7f, 0xe51c, 0x389d, 0x1, 0x0);
        gbc.writeMem(0x5f94, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x59b1, gbc.sp());
        EXPECT(0x5f96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0270
        gbc.setState(0xe776, 0x534, 0xb990, 0x673b, 0x8dd4, 0x7a02, 0x0, 0x0);
        gbc.writeMem(0xe776, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x534, gbc.sp());
        EXPECT(0xe778, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe776));
        EXPECT(0x23, gbc.readMem(0xe777));
        // CB 23 0271
        gbc.setState(0x28ba, 0x48ba, 0x3c70, 0x5a0e, 0xe30c, 0x27db, 0x0, 0x1);
        gbc.writeMem(0x28ba, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x48ba, gbc.sp());
        EXPECT(0x28bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0272
        gbc.setState(0x6a8e, 0xb411, 0xa690, 0x3e64, 0x9efc, 0x591, 0x0, 0x0);
        gbc.writeMem(0x6a8e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xb411, gbc.sp());
        EXPECT(0x6a90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0273
        gbc.setState(0xa91f, 0x53a3, 0x47a0, 0xa92f, 0x10bb, 0x8837, 0x0, 0x0);
        gbc.writeMem(0xa91f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x53a3, gbc.sp());
        EXPECT(0xa921, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa91f));
        EXPECT(0x23, gbc.readMem(0xa920));
        // CB 23 0274
        gbc.setState(0x1530, 0x1f45, 0xe440, 0x9ddf, 0x7c3a, 0xb4f0, 0x1, 0x0);
        gbc.writeMem(0x1530, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x1f45, gbc.sp());
        EXPECT(0x1532, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0275
        gbc.setState(0xa45e, 0xf2f0, 0xf180, 0xb6c, 0xaccd, 0xf769, 0x1, 0x0);
        gbc.writeMem(0xa45e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xf2f0, gbc.sp());
        EXPECT(0xa460, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa45e));
        EXPECT(0x23, gbc.readMem(0xa45f));
        // CB 23 0277
        gbc.setState(0xef7f, 0xe00, 0x3910, 0x6b95, 0x5aa7, 0xfde4, 0x0, 0x1);
        gbc.writeMem(0xef7f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xe00, gbc.sp());
        EXPECT(0xef81, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef7f));
        EXPECT(0x23, gbc.readMem(0xef80));
        // CB 23 0278
        gbc.setState(0xcf26, 0x296a, 0xf0f0, 0xb697, 0x1df, 0x7743, 0x1, 0x1);
        gbc.writeMem(0xcf26, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x296a, gbc.sp());
        EXPECT(0xcf28, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf26));
        EXPECT(0x23, gbc.readMem(0xcf27));
        // CB 23 0279
        gbc.setState(0x4df5, 0xaece, 0x6af0, 0xdfaf, 0xf21, 0x7712, 0x1, 0x0);
        gbc.writeMem(0x4df5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xaece, gbc.sp());
        EXPECT(0x4df7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 027A
        gbc.setState(0xb4ef, 0x5baf, 0xa20, 0x14fb, 0x3a8b, 0x5a98, 0x1, 0x1);
        gbc.writeMem(0xb4ef, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x5baf, gbc.sp());
        EXPECT(0xb4f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb4ef));
        EXPECT(0x23, gbc.readMem(0xb4f0));
        // CB 23 027B
        gbc.setState(0x9580, 0xce5d, 0xfd20, 0xa5e9, 0xe83, 0xf284, 0x0, 0x0);
        gbc.writeMem(0x9580, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xce5d, gbc.sp());
        EXPECT(0x9582, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9580));
        EXPECT(0x23, gbc.readMem(0x9581));
        // CB 23 027C
        gbc.setState(0x2fc5, 0xc450, 0xc100, 0x3b3b, 0x8619, 0xf22f, 0x0, 0x0);
        gbc.writeMem(0x2fc5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xc450, gbc.sp());
        EXPECT(0x2fc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 027D
        gbc.setState(0x6ad7, 0xbb49, 0x14e0, 0x4b1c, 0xb8bc, 0x1afa, 0x0, 0x0);
        gbc.writeMem(0x6ad7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xbb49, gbc.sp());
        EXPECT(0x6ad9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 027E
        gbc.setState(0x7b41, 0xdfe8, 0x1680, 0x77bc, 0xf282, 0x4e28, 0x0, 0x1);
        gbc.writeMem(0x7b41, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xdfe8, gbc.sp());
        EXPECT(0x7b43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 027F
        gbc.setState(0xc95a, 0xe40, 0xb750, 0xdab0, 0x7c66, 0xa11d, 0x0, 0x1);
        gbc.writeMem(0xc95a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xe40, gbc.sp());
        EXPECT(0xc95c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc95a));
        EXPECT(0x23, gbc.readMem(0xc95b));
        // CB 23 0280
        gbc.setState(0x9738, 0xc761, 0x1a80, 0x45f9, 0xdb4c, 0xbbbd, 0x0, 0x0);
        gbc.writeMem(0x9738, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xc761, gbc.sp());
        EXPECT(0x973a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9738));
        EXPECT(0x23, gbc.readMem(0x9739));
        // CB 23 0281
        gbc.setState(0xcd1, 0x104, 0xbf50, 0x87ff, 0x8dc8, 0x2698, 0x0, 0x0);
        gbc.writeMem(0xcd1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x104, gbc.sp());
        EXPECT(0xcd3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0282
        gbc.setState(0x402a, 0x124b, 0x5c90, 0xbcda, 0xc6b2, 0x1936, 0x1, 0x0);
        gbc.writeMem(0x402a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x124b, gbc.sp());
        EXPECT(0x402c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0283
        gbc.setState(0x91ab, 0xc74c, 0x7400, 0x7944, 0xe488, 0xf9b1, 0x0, 0x1);
        gbc.writeMem(0x91ab, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xc74c, gbc.sp());
        EXPECT(0x91ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91ab));
        EXPECT(0x23, gbc.readMem(0x91ac));
        // CB 23 0284
        gbc.setState(0xe207, 0x334f, 0x1250, 0xe0a9, 0x3242, 0xa1f7, 0x1, 0x0);
        gbc.writeMem(0xe207, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x334f, gbc.sp());
        EXPECT(0xe209, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe207));
        EXPECT(0x23, gbc.readMem(0xe208));
        // CB 23 0285
        gbc.setState(0xcd0f, 0x2389, 0xa510, 0xfbe2, 0xd5dc, 0x5528, 0x1, 0x1);
        gbc.writeMem(0xcd0f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x2389, gbc.sp());
        EXPECT(0xcd11, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd0f));
        EXPECT(0x23, gbc.readMem(0xcd10));
        // CB 23 0286
        gbc.setState(0xa592, 0x7dc9, 0x5a60, 0xaa42, 0x6661, 0x3510, 0x0, 0x1);
        gbc.writeMem(0xa592, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x7dc9, gbc.sp());
        EXPECT(0xa594, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa592));
        EXPECT(0x23, gbc.readMem(0xa593));
        // CB 23 0287
        gbc.setState(0xee9e, 0xd779, 0x3600, 0xa1d6, 0x1b19, 0x2eab, 0x1, 0x1);
        gbc.writeMem(0xee9e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xd779, gbc.sp());
        EXPECT(0xeea0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee9e));
        EXPECT(0x23, gbc.readMem(0xee9f));
        // CB 23 0288
        gbc.setState(0x62a6, 0x7d85, 0x7350, 0xc819, 0xd734, 0x5335, 0x0, 0x1);
        gbc.writeMem(0x62a6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x7d85, gbc.sp());
        EXPECT(0x62a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0289
        gbc.setState(0xa10b, 0x5b72, 0x3180, 0xb721, 0xf93d, 0xc3e1, 0x1, 0x1);
        gbc.writeMem(0xa10b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x5b72, gbc.sp());
        EXPECT(0xa10d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa10b));
        EXPECT(0x23, gbc.readMem(0xa10c));
        // CB 23 028A
        gbc.setState(0xc977, 0xf407, 0xc60, 0x239a, 0x16a, 0x367e, 0x1, 0x1);
        gbc.writeMem(0xc977, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xf407, gbc.sp());
        EXPECT(0xc979, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc977));
        EXPECT(0x23, gbc.readMem(0xc978));
        // CB 23 028B
        gbc.setState(0x3644, 0xefe3, 0x5f0, 0x4d33, 0x23ae, 0x43a1, 0x0, 0x1);
        gbc.writeMem(0x3644, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xefe3, gbc.sp());
        EXPECT(0x3646, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 028C
        gbc.setState(0xb7d3, 0x2a4e, 0x3e70, 0x55b0, 0xac0b, 0x5fe5, 0x1, 0x0);
        gbc.writeMem(0xb7d3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x2a4e, gbc.sp());
        EXPECT(0xb7d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7d3));
        EXPECT(0x23, gbc.readMem(0xb7d4));
        // CB 23 028D
        gbc.setState(0x72bb, 0x555c, 0xc470, 0x6d1b, 0xc1f6, 0x4db2, 0x0, 0x0);
        gbc.writeMem(0x72bb, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x555c, gbc.sp());
        EXPECT(0x72bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 028E
        gbc.setState(0x8367, 0xeef7, 0x7f30, 0x322e, 0x1f24, 0x8de3, 0x1, 0x1);
        gbc.writeMem(0x8367, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xeef7, gbc.sp());
        EXPECT(0x8369, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8367));
        EXPECT(0x23, gbc.readMem(0x8368));
        // CB 23 028F
        gbc.setState(0x970a, 0x3b66, 0x9460, 0x711b, 0x4f80, 0x76c5, 0x0, 0x1);
        gbc.writeMem(0x970a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x3b66, gbc.sp());
        EXPECT(0x970c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x970a));
        EXPECT(0x23, gbc.readMem(0x970b));
        // CB 23 0291
        gbc.setState(0x2ed3, 0x91bb, 0xdce0, 0x496b, 0x4ec9, 0xadc5, 0x0, 0x0);
        gbc.writeMem(0x2ed3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x91bb, gbc.sp());
        EXPECT(0x2ed5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0292
        gbc.setState(0xdf63, 0xf5f5, 0x79c0, 0x33f3, 0xa4d1, 0xa6ea, 0x1, 0x0);
        gbc.writeMem(0xdf63, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xf5f5, gbc.sp());
        EXPECT(0xdf65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf63));
        EXPECT(0x23, gbc.readMem(0xdf64));
        // CB 23 0293
        gbc.setState(0xafaa, 0x4882, 0xb540, 0x161c, 0x96f0, 0x53e4, 0x0, 0x1);
        gbc.writeMem(0xafaa, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x4882, gbc.sp());
        EXPECT(0xafac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafaa));
        EXPECT(0x23, gbc.readMem(0xafab));
        // CB 23 0294
        gbc.setState(0x2185, 0x8c73, 0x7500, 0x8ccd, 0xbeaf, 0x6a0, 0x1, 0x0);
        gbc.writeMem(0x2185, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x8c73, gbc.sp());
        EXPECT(0x2187, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0295
        gbc.setState(0x2a81, 0xc745, 0x9800, 0xd9a9, 0xf698, 0x3902, 0x0, 0x1);
        gbc.writeMem(0x2a81, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xc745, gbc.sp());
        EXPECT(0x2a83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0296
        gbc.setState(0xcf72, 0x50c7, 0x15c0, 0x6556, 0xd52a, 0xb733, 0x0, 0x0);
        gbc.writeMem(0xcf72, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x50c7, gbc.sp());
        EXPECT(0xcf74, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf72));
        EXPECT(0x23, gbc.readMem(0xcf73));
        // CB 23 0297
        gbc.setState(0xdabb, 0xf840, 0xfc20, 0x4e8e, 0x6ca9, 0xa29, 0x1, 0x1);
        gbc.writeMem(0xdabb, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xf840, gbc.sp());
        EXPECT(0xdabd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdabb));
        EXPECT(0x23, gbc.readMem(0xdabc));
        // CB 23 0298
        gbc.setState(0x31c0, 0xf196, 0x6dd0, 0x6bce, 0x84dd, 0x839d, 0x1, 0x1);
        gbc.writeMem(0x31c0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xf196, gbc.sp());
        EXPECT(0x31c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0299
        gbc.setState(0xbcb0, 0x935d, 0xb690, 0xd0ad, 0x607d, 0xb4c1, 0x0, 0x1);
        gbc.writeMem(0xbcb0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x935d, gbc.sp());
        EXPECT(0xbcb2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbcb0));
        EXPECT(0x23, gbc.readMem(0xbcb1));
        // CB 23 029A
        gbc.setState(0xd885, 0x613f, 0x950, 0xc349, 0xefd4, 0x5d5f, 0x1, 0x1);
        gbc.writeMem(0xd885, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x613f, gbc.sp());
        EXPECT(0xd887, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd885));
        EXPECT(0x23, gbc.readMem(0xd886));
        // CB 23 029B
        gbc.setState(0x4db7, 0xce98, 0xab20, 0x74e2, 0x993b, 0x87f9, 0x0, 0x1);
        gbc.writeMem(0x4db7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xce98, gbc.sp());
        EXPECT(0x4db9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 029C
        gbc.setState(0xd7d4, 0xc32c, 0x64b0, 0x2133, 0x15d5, 0x6a97, 0x1, 0x0);
        gbc.writeMem(0xd7d4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xc32c, gbc.sp());
        EXPECT(0xd7d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd7d4));
        EXPECT(0x23, gbc.readMem(0xd7d5));
        // CB 23 029D
        gbc.setState(0x7302, 0x2f7e, 0xe40, 0xc9d8, 0xdf3a, 0x641d, 0x0, 0x1);
        gbc.writeMem(0x7302, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x2f7e, gbc.sp());
        EXPECT(0x7304, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 029E
        gbc.setState(0xb507, 0x1553, 0x5970, 0x32d, 0x6f82, 0x8ae7, 0x1, 0x1);
        gbc.writeMem(0xb507, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x1553, gbc.sp());
        EXPECT(0xb509, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb507));
        EXPECT(0x23, gbc.readMem(0xb508));
        // CB 23 029F
        gbc.setState(0x34ac, 0x8150, 0x43a0, 0x258e, 0xb4d0, 0x3dcc, 0x0, 0x0);
        gbc.writeMem(0x34ac, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x8150, gbc.sp());
        EXPECT(0x34ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02A0
        gbc.setState(0xe9cf, 0x26, 0xac10, 0xe61e, 0x738b, 0x1a7d, 0x1, 0x0);
        gbc.writeMem(0xe9cf, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x26, gbc.sp());
        EXPECT(0xe9d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe9cf));
        EXPECT(0x23, gbc.readMem(0xe9d0));
        // CB 23 02A1
        gbc.setState(0x2928, 0x5ffa, 0xac10, 0xcc53, 0x13b, 0x3af0, 0x1, 0x1);
        gbc.writeMem(0x2928, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x5ffa, gbc.sp());
        EXPECT(0x292a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02A2
        gbc.setState(0xa919, 0xdb74, 0x86b0, 0x7ff5, 0x30e7, 0xc20f, 0x1, 0x1);
        gbc.writeMem(0xa919, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xdb74, gbc.sp());
        EXPECT(0xa91b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa919));
        EXPECT(0x23, gbc.readMem(0xa91a));
        // CB 23 02A3
        gbc.setState(0xd2be, 0x1e28, 0x9aa0, 0x7113, 0x4fde, 0xacc8, 0x1, 0x1);
        gbc.writeMem(0xd2be, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x1e28, gbc.sp());
        EXPECT(0xd2c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd2be));
        EXPECT(0x23, gbc.readMem(0xd2bf));
        // CB 23 02A5
        gbc.setState(0x8a11, 0x351e, 0x9170, 0x33e9, 0xffcd, 0x2f36, 0x1, 0x0);
        gbc.writeMem(0x8a11, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x351e, gbc.sp());
        EXPECT(0x8a13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a11));
        EXPECT(0x23, gbc.readMem(0x8a12));
        // CB 23 02A6
        gbc.setState(0x747c, 0xac30, 0x8900, 0x262f, 0xb949, 0xcd96, 0x1, 0x1);
        gbc.writeMem(0x747c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xac30, gbc.sp());
        EXPECT(0x747e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02A7
        gbc.setState(0xa323, 0xa530, 0xcd20, 0x9dbc, 0x7e6f, 0x317a, 0x0, 0x0);
        gbc.writeMem(0xa323, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xa530, gbc.sp());
        EXPECT(0xa325, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa323));
        EXPECT(0x23, gbc.readMem(0xa324));
        // CB 23 02A8
        gbc.setState(0xe6a5, 0xa90d, 0x7d20, 0x98a6, 0x127c, 0xb725, 0x0, 0x0);
        gbc.writeMem(0xe6a5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xa90d, gbc.sp());
        EXPECT(0xe6a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe6a5));
        EXPECT(0x23, gbc.readMem(0xe6a6));
        // CB 23 02A9
        gbc.setState(0x45f9, 0x8cce, 0x4450, 0x276, 0x164b, 0xe3f6, 0x0, 0x0);
        gbc.writeMem(0x45f9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x8cce, gbc.sp());
        EXPECT(0x45fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02AA
        gbc.setState(0xda9b, 0xdf93, 0x2190, 0x389f, 0xfe9a, 0xc502, 0x0, 0x0);
        gbc.writeMem(0xda9b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xdf93, gbc.sp());
        EXPECT(0xda9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda9b));
        EXPECT(0x23, gbc.readMem(0xda9c));
        // CB 23 02AB
        gbc.setState(0x4f6a, 0xc17d, 0xba10, 0x95b8, 0x1bdc, 0x67d2, 0x0, 0x0);
        gbc.writeMem(0x4f6a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xc17d, gbc.sp());
        EXPECT(0x4f6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02AE
        gbc.setState(0x2c0a, 0xf1bb, 0xcfc0, 0xc0a4, 0xde57, 0xe6ac, 0x0, 0x1);
        gbc.writeMem(0x2c0a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xf1bb, gbc.sp());
        EXPECT(0x2c0c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02AF
        gbc.setState(0x407d, 0x20ff, 0xf840, 0x31aa, 0xc306, 0x516b, 0x0, 0x1);
        gbc.writeMem(0x407d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x20ff, gbc.sp());
        EXPECT(0x407f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02B0
        gbc.setState(0xd66e, 0x322f, 0xb9d0, 0x5ab1, 0x1e81, 0x2f91, 0x0, 0x0);
        gbc.writeMem(0xd66e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x322f, gbc.sp());
        EXPECT(0xd670, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd66e));
        EXPECT(0x23, gbc.readMem(0xd66f));
        // CB 23 02B1
        gbc.setState(0x8539, 0x75e4, 0xd350, 0x47f3, 0x8fd3, 0xa86b, 0x0, 0x1);
        gbc.writeMem(0x8539, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x75e4, gbc.sp());
        EXPECT(0x853b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8539));
        EXPECT(0x23, gbc.readMem(0x853a));
        // CB 23 02B2
        gbc.setState(0x3469, 0x5514, 0x66e0, 0x6b07, 0x64e6, 0x732c, 0x1, 0x1);
        gbc.writeMem(0x3469, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x5514, gbc.sp());
        EXPECT(0x346b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02B3
        gbc.setState(0x9286, 0xe62c, 0x8350, 0xadcb, 0xfd40, 0xa04a, 0x0, 0x1);
        gbc.writeMem(0x9286, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xe62c, gbc.sp());
        EXPECT(0x9288, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9286));
        EXPECT(0x23, gbc.readMem(0x9287));
        // CB 23 02B4
        gbc.setState(0x593a, 0xdd90, 0x4050, 0x793c, 0xb247, 0x18c7, 0x1, 0x1);
        gbc.writeMem(0x593a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xdd90, gbc.sp());
        EXPECT(0x593c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02B5
        gbc.setState(0x288c, 0x61a5, 0xd110, 0x24aa, 0x5242, 0x77c8, 0x1, 0x1);
        gbc.writeMem(0x288c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x61a5, gbc.sp());
        EXPECT(0x288e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02B6
        gbc.setState(0xe7bf, 0xab58, 0x7660, 0x893f, 0x82ef, 0x8b1b, 0x0, 0x0);
        gbc.writeMem(0xe7bf, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xab58, gbc.sp());
        EXPECT(0xe7c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe7bf));
        EXPECT(0x23, gbc.readMem(0xe7c0));
        // CB 23 02B7
        gbc.setState(0x1ed4, 0xb494, 0x6aa0, 0x61f7, 0x7dcf, 0xef7, 0x0, 0x0);
        gbc.writeMem(0x1ed4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xb494, gbc.sp());
        EXPECT(0x1ed6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02B9
        gbc.setState(0x19b6, 0x13a2, 0x6f0, 0xd9f3, 0xd69d, 0xe7f4, 0x0, 0x0);
        gbc.writeMem(0x19b6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x13a2, gbc.sp());
        EXPECT(0x19b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02BA
        gbc.setState(0x202c, 0x6fde, 0xe410, 0xe6b2, 0xd8c0, 0xb004, 0x0, 0x1);
        gbc.writeMem(0x202c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x6fde, gbc.sp());
        EXPECT(0x202e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02BB
        gbc.setState(0x349d, 0xacf8, 0xd7b0, 0xe180, 0xe3aa, 0x5620, 0x0, 0x1);
        gbc.writeMem(0x349d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xacf8, gbc.sp());
        EXPECT(0x349f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02BC
        gbc.setState(0x2e5a, 0xd5ab, 0x57a0, 0x3c3c, 0x9eba, 0x89af, 0x0, 0x1);
        gbc.writeMem(0x2e5a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xd5ab, gbc.sp());
        EXPECT(0x2e5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02BD
        gbc.setState(0x3ef4, 0x24e3, 0xd980, 0x3e83, 0x85e4, 0xdf8b, 0x1, 0x0);
        gbc.writeMem(0x3ef4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x24e3, gbc.sp());
        EXPECT(0x3ef6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02BE
        gbc.setState(0xb58d, 0xd4e5, 0xccd0, 0xa89e, 0xe739, 0xb98c, 0x0, 0x0);
        gbc.writeMem(0xb58d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xd4e5, gbc.sp());
        EXPECT(0xb58f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb58d));
        EXPECT(0x23, gbc.readMem(0xb58e));
        // CB 23 02BF
        gbc.setState(0x3b43, 0x653, 0xc820, 0xefd5, 0xd4d2, 0x5649, 0x0, 0x1);
        gbc.writeMem(0x3b43, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x653, gbc.sp());
        EXPECT(0x3b45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02C0
        gbc.setState(0x34bd, 0x62e6, 0xac80, 0x960a, 0xee94, 0x204b, 0x1, 0x0);
        gbc.writeMem(0x34bd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x62e6, gbc.sp());
        EXPECT(0x34bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02C1
        gbc.setState(0xacda, 0x6d17, 0x1570, 0x665, 0x1e83, 0x529c, 0x1, 0x1);
        gbc.writeMem(0xacda, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x6d17, gbc.sp());
        EXPECT(0xacdc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xacda));
        EXPECT(0x23, gbc.readMem(0xacdb));
        // CB 23 02C2
        gbc.setState(0x543f, 0x231d, 0x7260, 0x15fe, 0x1d81, 0xaa8, 0x1, 0x0);
        gbc.writeMem(0x543f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x231d, gbc.sp());
        EXPECT(0x5441, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02C3
        gbc.setState(0xb3a6, 0x369b, 0x55d0, 0x4ed7, 0xabba, 0x9d2c, 0x1, 0x1);
        gbc.writeMem(0xb3a6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x369b, gbc.sp());
        EXPECT(0xb3a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb3a6));
        EXPECT(0x23, gbc.readMem(0xb3a7));
        // CB 23 02C4
        gbc.setState(0x6418, 0x6bb1, 0xc8b0, 0xab3d, 0x899c, 0x6a5c, 0x0, 0x1);
        gbc.writeMem(0x6418, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x6bb1, gbc.sp());
        EXPECT(0x641a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02C5
        gbc.setState(0xd5b9, 0x30ad, 0x480, 0x75fe, 0xfdaa, 0x52f4, 0x1, 0x0);
        gbc.writeMem(0xd5b9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x30ad, gbc.sp());
        EXPECT(0xd5bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5b9));
        EXPECT(0x23, gbc.readMem(0xd5ba));
        // CB 23 02C6
        gbc.setState(0xb208, 0x23d7, 0x5e10, 0xe71c, 0x6c40, 0xef9d, 0x0, 0x1);
        gbc.writeMem(0xb208, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x23d7, gbc.sp());
        EXPECT(0xb20a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb208));
        EXPECT(0x23, gbc.readMem(0xb209));
        // CB 23 02C7
        gbc.setState(0x1320, 0xa71d, 0xb6b0, 0x4018, 0xd896, 0x7d67, 0x1, 0x0);
        gbc.writeMem(0x1320, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xa71d, gbc.sp());
        EXPECT(0x1322, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02C8
        gbc.setState(0xdf2a, 0x5397, 0x1800, 0x1f31, 0xb885, 0x7f69, 0x0, 0x0);
        gbc.writeMem(0xdf2a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x5397, gbc.sp());
        EXPECT(0xdf2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf2a));
        EXPECT(0x23, gbc.readMem(0xdf2b));
        // CB 23 02C9
        gbc.setState(0x16a1, 0x5365, 0x8390, 0x577, 0x6c16, 0xa794, 0x1, 0x1);
        gbc.writeMem(0x16a1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x5365, gbc.sp());
        EXPECT(0x16a3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02CA
        gbc.setState(0x277c, 0xb501, 0x1f20, 0x79d8, 0xfa4d, 0x9c5c, 0x1, 0x1);
        gbc.writeMem(0x277c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xb501, gbc.sp());
        EXPECT(0x277e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02CB
        gbc.setState(0x2b8b, 0x9736, 0x5410, 0x6916, 0xffd0, 0x908c, 0x0, 0x0);
        gbc.writeMem(0x2b8b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x9736, gbc.sp());
        EXPECT(0x2b8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02CC
        gbc.setState(0x167f, 0xd289, 0x5cd0, 0xacdf, 0x4643, 0x798f, 0x1, 0x0);
        gbc.writeMem(0x167f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xd289, gbc.sp());
        EXPECT(0x1681, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02CD
        gbc.setState(0xc9a1, 0x6460, 0x9aa0, 0x2ea9, 0xe6f8, 0x8a6e, 0x1, 0x1);
        gbc.writeMem(0xc9a1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x6460, gbc.sp());
        EXPECT(0xc9a3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc9a1));
        EXPECT(0x23, gbc.readMem(0xc9a2));
        // CB 23 02CE
        gbc.setState(0xb784, 0xb501, 0x5b70, 0x49ce, 0xfce4, 0xc758, 0x1, 0x0);
        gbc.writeMem(0xb784, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xb501, gbc.sp());
        EXPECT(0xb786, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb784));
        EXPECT(0x23, gbc.readMem(0xb785));
        // CB 23 02CF
        gbc.setState(0x2dc6, 0x3941, 0xad10, 0x790e, 0x449d, 0x61c3, 0x0, 0x1);
        gbc.writeMem(0x2dc6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x3941, gbc.sp());
        EXPECT(0x2dc8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02D0
        gbc.setState(0x69a8, 0xe311, 0x9280, 0x1339, 0xe8c2, 0xda1a, 0x0, 0x1);
        gbc.writeMem(0x69a8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xe311, gbc.sp());
        EXPECT(0x69aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02D1
        gbc.setState(0x96d0, 0x9fca, 0x2f10, 0x5efd, 0x726f, 0xaebf, 0x0, 0x1);
        gbc.writeMem(0x96d0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x9fca, gbc.sp());
        EXPECT(0x96d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96d0));
        EXPECT(0x23, gbc.readMem(0x96d1));
        // CB 23 02D2
        gbc.setState(0x6bad, 0xeef1, 0xce40, 0x649d, 0xcdf8, 0xe590, 0x1, 0x0);
        gbc.writeMem(0x6bad, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xeef1, gbc.sp());
        EXPECT(0x6baf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02D3
        gbc.setState(0x96af, 0x7a14, 0xe3e0, 0xb8a5, 0x82bb, 0x6f3b, 0x1, 0x0);
        gbc.writeMem(0x96af, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x7a14, gbc.sp());
        EXPECT(0x96b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96af));
        EXPECT(0x23, gbc.readMem(0x96b0));
        // CB 23 02D4
        gbc.setState(0x36d6, 0x9086, 0xc240, 0xf9ca, 0x3d9b, 0x3219, 0x0, 0x0);
        gbc.writeMem(0x36d6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x9086, gbc.sp());
        EXPECT(0x36d8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02D5
        gbc.setState(0x5342, 0x3cfd, 0x2040, 0x9f08, 0x9f, 0xab47, 0x0, 0x0);
        gbc.writeMem(0x5342, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x3cfd, gbc.sp());
        EXPECT(0x5344, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02D6
        gbc.setState(0xa306, 0x1874, 0xbb40, 0x869d, 0x13c8, 0xca0, 0x1, 0x0);
        gbc.writeMem(0xa306, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x1874, gbc.sp());
        EXPECT(0xa308, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa306));
        EXPECT(0x23, gbc.readMem(0xa307));
        // CB 23 02D7
        gbc.setState(0xce10, 0x6cd9, 0xd720, 0xec26, 0x5f4e, 0xf819, 0x0, 0x0);
        gbc.writeMem(0xce10, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x6cd9, gbc.sp());
        EXPECT(0xce12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce10));
        EXPECT(0x23, gbc.readMem(0xce11));
        // CB 23 02D8
        gbc.setState(0x1a77, 0x6848, 0x71c0, 0xf1dd, 0x3801, 0x9d5d, 0x1, 0x1);
        gbc.writeMem(0x1a77, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x6848, gbc.sp());
        EXPECT(0x1a79, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02D9
        gbc.setState(0xa8a7, 0xe062, 0x6f20, 0x6221, 0xa061, 0x8124, 0x1, 0x1);
        gbc.writeMem(0xa8a7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xe062, gbc.sp());
        EXPECT(0xa8a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8a7));
        EXPECT(0x23, gbc.readMem(0xa8a8));
        // CB 23 02DA
        gbc.setState(0xda5b, 0x8d6d, 0xc7d0, 0x389c, 0xcb5e, 0xcbb1, 0x0, 0x0);
        gbc.writeMem(0xda5b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x8d6d, gbc.sp());
        EXPECT(0xda5d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda5b));
        EXPECT(0x23, gbc.readMem(0xda5c));
        // CB 23 02DB
        gbc.setState(0xa3e7, 0x383b, 0xd500, 0xc5b1, 0x24c8, 0x425c, 0x0, 0x0);
        gbc.writeMem(0xa3e7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x383b, gbc.sp());
        EXPECT(0xa3e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa3e7));
        EXPECT(0x23, gbc.readMem(0xa3e8));
        // CB 23 02DC
        gbc.setState(0x789e, 0x1760, 0xe80, 0xc346, 0x63bc, 0x9bcc, 0x1, 0x0);
        gbc.writeMem(0x789e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x1760, gbc.sp());
        EXPECT(0x78a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02DD
        gbc.setState(0x9146, 0x93e6, 0xa680, 0x9d0, 0x3cda, 0xaa60, 0x1, 0x1);
        gbc.writeMem(0x9146, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x93e6, gbc.sp());
        EXPECT(0x9148, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9146));
        EXPECT(0x23, gbc.readMem(0x9147));
        // CB 23 02DE
        gbc.setState(0x7d8c, 0xe67c, 0x4f80, 0xe672, 0x2c5f, 0xcaca, 0x1, 0x1);
        gbc.writeMem(0x7d8c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xe67c, gbc.sp());
        EXPECT(0x7d8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02DF
        gbc.setState(0x3318, 0xa8b4, 0x4bc0, 0x9155, 0xc45c, 0x1a89, 0x0, 0x1);
        gbc.writeMem(0x3318, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xa8b4, gbc.sp());
        EXPECT(0x331a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02E0
        gbc.setState(0x16ce, 0x5a4d, 0xe9a0, 0xd641, 0x8c77, 0x67d5, 0x1, 0x0);
        gbc.writeMem(0x16ce, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x5a4d, gbc.sp());
        EXPECT(0x16d0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02E1
        gbc.setState(0xae4b, 0x40eb, 0xed40, 0xa187, 0xa1af, 0xfce1, 0x0, 0x1);
        gbc.writeMem(0xae4b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x40eb, gbc.sp());
        EXPECT(0xae4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae4b));
        EXPECT(0x23, gbc.readMem(0xae4c));
        // CB 23 02E2
        gbc.setState(0xa38e, 0x72c1, 0xbbb0, 0x6711, 0x2536, 0x1f50, 0x1, 0x0);
        gbc.writeMem(0xa38e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x72c1, gbc.sp());
        EXPECT(0xa390, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa38e));
        EXPECT(0x23, gbc.readMem(0xa38f));
        // CB 23 02E3
        gbc.setState(0xbe7f, 0xfbc5, 0xd0b0, 0xb84b, 0x3d21, 0xe9da, 0x0, 0x1);
        gbc.writeMem(0xbe7f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xfbc5, gbc.sp());
        EXPECT(0xbe81, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe7f));
        EXPECT(0x23, gbc.readMem(0xbe80));
        // CB 23 02E4
        gbc.setState(0x6e14, 0xc7d7, 0x8820, 0x968a, 0xe34, 0xd40e, 0x0, 0x1);
        gbc.writeMem(0x6e14, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xc7d7, gbc.sp());
        EXPECT(0x6e16, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02E5
        gbc.setState(0xf58, 0x5fe3, 0x73c0, 0x403b, 0x177d, 0xfd6b, 0x0, 0x1);
        gbc.writeMem(0xf58, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x5fe3, gbc.sp());
        EXPECT(0xf5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02E7
        gbc.setState(0xd8ed, 0xa128, 0x4880, 0x1776, 0x5822, 0x5d1, 0x1, 0x1);
        gbc.writeMem(0xd8ed, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xa128, gbc.sp());
        EXPECT(0xd8ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd8ed));
        EXPECT(0x23, gbc.readMem(0xd8ee));
        // CB 23 02E8
        gbc.setState(0x2d0d, 0xf5d7, 0x7e40, 0xc784, 0xd749, 0x9e42, 0x0, 0x0);
        gbc.writeMem(0x2d0d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xf5d7, gbc.sp());
        EXPECT(0x2d0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02E9
        gbc.setState(0xecd7, 0x1928, 0x63d0, 0x80b3, 0x6ad, 0x9009, 0x0, 0x0);
        gbc.writeMem(0xecd7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x1928, gbc.sp());
        EXPECT(0xecd9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xecd7));
        EXPECT(0x23, gbc.readMem(0xecd8));
        // CB 23 02EA
        gbc.setState(0x3e2b, 0xb31b, 0xeed0, 0x1e72, 0x3f03, 0x407c, 0x0, 0x0);
        gbc.writeMem(0x3e2b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xb31b, gbc.sp());
        EXPECT(0x3e2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02EB
        gbc.setState(0xd3ae, 0xb76, 0xb770, 0x7f56, 0x4d0d, 0xa29d, 0x0, 0x0);
        gbc.writeMem(0xd3ae, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xb76, gbc.sp());
        EXPECT(0xd3b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3ae));
        EXPECT(0x23, gbc.readMem(0xd3af));
        // CB 23 02EC
        gbc.setState(0xa629, 0xa5eb, 0x3b40, 0x823b, 0xcfc6, 0x4dc7, 0x0, 0x0);
        gbc.writeMem(0xa629, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xa5eb, gbc.sp());
        EXPECT(0xa62b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa629));
        EXPECT(0x23, gbc.readMem(0xa62a));
        // CB 23 02ED
        gbc.setState(0xafb7, 0xd2e4, 0xed30, 0x3411, 0x8a35, 0xe49, 0x0, 0x1);
        gbc.writeMem(0xafb7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xd2e4, gbc.sp());
        EXPECT(0xafb9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafb7));
        EXPECT(0x23, gbc.readMem(0xafb8));
        // CB 23 02EE
        gbc.setState(0x3641, 0x17d6, 0x2230, 0x4669, 0x1404, 0x6084, 0x1, 0x1);
        gbc.writeMem(0x3641, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x17d6, gbc.sp());
        EXPECT(0x3643, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02EF
        gbc.setState(0x337a, 0x64d1, 0x9730, 0xf8b2, 0x371c, 0xaec3, 0x0, 0x0);
        gbc.writeMem(0x337a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x64d1, gbc.sp());
        EXPECT(0x337c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02F0
        gbc.setState(0x14a7, 0x6444, 0x870, 0xd60d, 0x5eeb, 0x19ac, 0x0, 0x0);
        gbc.writeMem(0x14a7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x6444, gbc.sp());
        EXPECT(0x14a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02F1
        gbc.setState(0xdca0, 0xe44f, 0x8350, 0x82fd, 0xd6d4, 0x2151, 0x0, 0x1);
        gbc.writeMem(0xdca0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xe44f, gbc.sp());
        EXPECT(0xdca2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdca0));
        EXPECT(0x23, gbc.readMem(0xdca1));
        // CB 23 02F3
        gbc.setState(0x9488, 0xe14b, 0xe970, 0x27f0, 0xb088, 0x296b, 0x1, 0x1);
        gbc.writeMem(0x9488, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xe14b, gbc.sp());
        EXPECT(0x948a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9488));
        EXPECT(0x23, gbc.readMem(0x9489));
        // CB 23 02F4
        gbc.setState(0xc30, 0x4224, 0xb000, 0x5092, 0xb72c, 0x36c6, 0x1, 0x0);
        gbc.writeMem(0xc30, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x4224, gbc.sp());
        EXPECT(0xc32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02F5
        gbc.setState(0x80aa, 0xbadf, 0x39c0, 0x762b, 0x774, 0xb762, 0x0, 0x1);
        gbc.writeMem(0x80aa, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xbadf, gbc.sp());
        EXPECT(0x80ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80aa));
        EXPECT(0x23, gbc.readMem(0x80ab));
        // CB 23 02F6
        gbc.setState(0xaaea, 0x28fa, 0x8fe0, 0x8ed4, 0xc861, 0x3120, 0x1, 0x1);
        gbc.writeMem(0xaaea, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x28fa, gbc.sp());
        EXPECT(0xaaec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaaea));
        EXPECT(0x23, gbc.readMem(0xaaeb));
        // CB 23 02F7
        gbc.setState(0xc58e, 0xc000, 0x370, 0xc86a, 0x741b, 0x1898, 0x0, 0x1);
        gbc.writeMem(0xc58e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xc000, gbc.sp());
        EXPECT(0xc590, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc58e));
        EXPECT(0x23, gbc.readMem(0xc58f));
        // CB 23 02F8
        gbc.setState(0xe26b, 0xc087, 0xcdf0, 0xb2ba, 0x4066, 0x28d, 0x1, 0x0);
        gbc.writeMem(0xe26b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xc087, gbc.sp());
        EXPECT(0xe26d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe26b));
        EXPECT(0x23, gbc.readMem(0xe26c));
        // CB 23 02F9
        gbc.setState(0x369d, 0xe753, 0x7980, 0xd165, 0xfc51, 0xc83a, 0x0, 0x1);
        gbc.writeMem(0x369d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xe753, gbc.sp());
        EXPECT(0x369f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02FA
        gbc.setState(0x418d, 0x6494, 0xa620, 0xba7d, 0x59a7, 0xceed, 0x0, 0x1);
        gbc.writeMem(0x418d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x6494, gbc.sp());
        EXPECT(0x418f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02FB
        gbc.setState(0xb9f3, 0x441d, 0xa580, 0x1368, 0x79b9, 0x5825, 0x1, 0x1);
        gbc.writeMem(0xb9f3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x441d, gbc.sp());
        EXPECT(0xb9f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb9f3));
        EXPECT(0x23, gbc.readMem(0xb9f4));
        // CB 23 02FD
        gbc.setState(0x1836, 0x10f2, 0x2e80, 0x4f27, 0x84bb, 0x7387, 0x1, 0x0);
        gbc.writeMem(0x1836, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x10f2, gbc.sp());
        EXPECT(0x1838, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 02FE
        gbc.setState(0x7a25, 0x23d0, 0x10c0, 0x230c, 0xc438, 0xc4d2, 0x0, 0x0);
        gbc.writeMem(0x7a25, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x23d0, gbc.sp());
        EXPECT(0x7a27, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 02FF
        gbc.setState(0x270d, 0x6b84, 0x9cd0, 0xbd8a, 0xa4c8, 0x7d0, 0x1, 0x1);
        gbc.writeMem(0x270d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x6b84, gbc.sp());
        EXPECT(0x270f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0300
        gbc.setState(0x7431, 0x700a, 0xc550, 0x8073, 0x4b77, 0xe8ec, 0x0, 0x0);
        gbc.writeMem(0x7431, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x700a, gbc.sp());
        EXPECT(0x7433, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0301
        gbc.setState(0x4c1d, 0x3133, 0xdb80, 0x6a14, 0x611e, 0x486e, 0x1, 0x1);
        gbc.writeMem(0x4c1d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x3133, gbc.sp());
        EXPECT(0x4c1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0302
        gbc.setState(0x5e6a, 0x149b, 0x8580, 0x2cfa, 0xce5, 0xe9b, 0x1, 0x1);
        gbc.writeMem(0x5e6a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x149b, gbc.sp());
        EXPECT(0x5e6c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0303
        gbc.setState(0xac83, 0x9ccd, 0xcfb0, 0x109c, 0x907, 0x83d9, 0x1, 0x1);
        gbc.writeMem(0xac83, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x9ccd, gbc.sp());
        EXPECT(0xac85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac83));
        EXPECT(0x23, gbc.readMem(0xac84));
        // CB 23 0304
        gbc.setState(0x7a55, 0xaf95, 0x4720, 0x491e, 0xa3ca, 0xdce8, 0x0, 0x1);
        gbc.writeMem(0x7a55, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xaf95, gbc.sp());
        EXPECT(0x7a57, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0305
        gbc.setState(0x38df, 0x8880, 0x9c00, 0xca2c, 0xd18b, 0xcc6f, 0x1, 0x0);
        gbc.writeMem(0x38df, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x8880, gbc.sp());
        EXPECT(0x38e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0306
        gbc.setState(0x3737, 0x588a, 0x610, 0x858d, 0x6d85, 0x9d6c, 0x0, 0x0);
        gbc.writeMem(0x3737, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x588a, gbc.sp());
        EXPECT(0x3739, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0307
        gbc.setState(0x6223, 0xd6f9, 0x1280, 0xe9a7, 0x5c32, 0x51a4, 0x0, 0x1);
        gbc.writeMem(0x6223, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xd6f9, gbc.sp());
        EXPECT(0x6225, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0308
        gbc.setState(0xef97, 0x278c, 0xfe10, 0x13f3, 0xf4c6, 0xf5a7, 0x1, 0x0);
        gbc.writeMem(0xef97, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x278c, gbc.sp());
        EXPECT(0xef99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef97));
        EXPECT(0x23, gbc.readMem(0xef98));
        // CB 23 0309
        gbc.setState(0x7fd5, 0xeaa, 0x78d0, 0x8175, 0x4b96, 0x38e5, 0x1, 0x1);
        gbc.writeMem(0x7fd5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xeaa, gbc.sp());
        EXPECT(0x7fd7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 030A
        gbc.setState(0xe24c, 0xe380, 0xe6e0, 0x4d09, 0x2c39, 0xf9d4, 0x0, 0x1);
        gbc.writeMem(0xe24c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xe380, gbc.sp());
        EXPECT(0xe24e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe24c));
        EXPECT(0x23, gbc.readMem(0xe24d));
        // CB 23 030B
        gbc.setState(0x9df4, 0x38a8, 0x8b30, 0xe338, 0x9df7, 0xc4d4, 0x1, 0x0);
        gbc.writeMem(0x9df4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x38a8, gbc.sp());
        EXPECT(0x9df6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9df4));
        EXPECT(0x23, gbc.readMem(0x9df5));
        // CB 23 030C
        gbc.setState(0x3566, 0x126a, 0x90b0, 0xe3e5, 0x8645, 0x758e, 0x0, 0x1);
        gbc.writeMem(0x3566, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x126a, gbc.sp());
        EXPECT(0x3568, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 030D
        gbc.setState(0x30a0, 0xda37, 0x7a40, 0xabf5, 0x9fcf, 0x8c9b, 0x1, 0x1);
        gbc.writeMem(0x30a0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xda37, gbc.sp());
        EXPECT(0x30a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 030E
        gbc.setState(0x1a3a, 0x62c6, 0x7ab0, 0x5f62, 0x6e19, 0x587b, 0x0, 0x0);
        gbc.writeMem(0x1a3a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x62c6, gbc.sp());
        EXPECT(0x1a3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 030F
        gbc.setState(0xb98f, 0x21ff, 0xb0d0, 0xca5f, 0x864f, 0x19f6, 0x0, 0x0);
        gbc.writeMem(0xb98f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x21ff, gbc.sp());
        EXPECT(0xb991, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb98f));
        EXPECT(0x23, gbc.readMem(0xb990));
        // CB 23 0310
        gbc.setState(0xaa82, 0x8727, 0x43e0, 0x2610, 0x9378, 0x6707, 0x1, 0x1);
        gbc.writeMem(0xaa82, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x8727, gbc.sp());
        EXPECT(0xaa84, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa82));
        EXPECT(0x23, gbc.readMem(0xaa83));
        // CB 23 0311
        gbc.setState(0xe342, 0x4dd4, 0xe9c0, 0x8e55, 0x95df, 0x46bb, 0x0, 0x1);
        gbc.writeMem(0xe342, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x4dd4, gbc.sp());
        EXPECT(0xe344, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe342));
        EXPECT(0x23, gbc.readMem(0xe343));
        // CB 23 0313
        gbc.setState(0x3f16, 0x6aa3, 0xe7a0, 0x9e78, 0x2323, 0xc38d, 0x1, 0x1);
        gbc.writeMem(0x3f16, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x6aa3, gbc.sp());
        EXPECT(0x3f18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0314
        gbc.setState(0xa39b, 0x9d06, 0x9940, 0xc6a, 0x27fb, 0xb84b, 0x1, 0x0);
        gbc.writeMem(0xa39b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x9d06, gbc.sp());
        EXPECT(0xa39d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa39b));
        EXPECT(0x23, gbc.readMem(0xa39c));
        // CB 23 0315
        gbc.setState(0xc50f, 0xd0fd, 0x840, 0xf57c, 0x40d8, 0xebf7, 0x1, 0x0);
        gbc.writeMem(0xc50f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xd0fd, gbc.sp());
        EXPECT(0xc511, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc50f));
        EXPECT(0x23, gbc.readMem(0xc510));
        // CB 23 0316
        gbc.setState(0x5338, 0x64ba, 0xfae0, 0x5563, 0x70ff, 0xa1b1, 0x1, 0x0);
        gbc.writeMem(0x5338, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x64ba, gbc.sp());
        EXPECT(0x533a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0317
        gbc.setState(0xa03a, 0x5d75, 0x6830, 0x2dc1, 0xb99d, 0xa38d, 0x1, 0x0);
        gbc.writeMem(0xa03a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x5d75, gbc.sp());
        EXPECT(0xa03c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa03a));
        EXPECT(0x23, gbc.readMem(0xa03b));
        // CB 23 0318
        gbc.setState(0x5f30, 0xf634, 0x5c20, 0x6ed6, 0x1be7, 0x94c2, 0x0, 0x0);
        gbc.writeMem(0x5f30, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xf634, gbc.sp());
        EXPECT(0x5f32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0319
        gbc.setState(0x7d, 0x1a48, 0xccc0, 0x54bf, 0x9d1a, 0xabdf, 0x0, 0x1);
        gbc.writeMem(0x7d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x1a48, gbc.sp());
        EXPECT(0x7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 031A
        gbc.setState(0x1dc1, 0x622d, 0x5b90, 0xedfa, 0x6a48, 0x9f5f, 0x1, 0x1);
        gbc.writeMem(0x1dc1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x622d, gbc.sp());
        EXPECT(0x1dc3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 031B
        gbc.setState(0x7d0a, 0xbabf, 0x6030, 0xadc3, 0x70bf, 0xb711, 0x0, 0x0);
        gbc.writeMem(0x7d0a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xbabf, gbc.sp());
        EXPECT(0x7d0c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 031C
        gbc.setState(0x3852, 0x3c6e, 0x2400, 0x5564, 0x5896, 0x4b2e, 0x1, 0x1);
        gbc.writeMem(0x3852, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x3c6e, gbc.sp());
        EXPECT(0x3854, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 031D
        gbc.setState(0x4958, 0xc154, 0xb340, 0x8f9, 0x9a9c, 0x13c1, 0x0, 0x1);
        gbc.writeMem(0x4958, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xc154, gbc.sp());
        EXPECT(0x495a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 031E
        gbc.setState(0x173c, 0xf318, 0x7160, 0x2694, 0xd04e, 0x10f6, 0x0, 0x1);
        gbc.writeMem(0x173c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xf318, gbc.sp());
        EXPECT(0x173e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 031F
        gbc.setState(0xb833, 0xccfb, 0xef0, 0xd89, 0x5083, 0xcc53, 0x0, 0x0);
        gbc.writeMem(0xb833, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xccfb, gbc.sp());
        EXPECT(0xb835, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb833));
        EXPECT(0x23, gbc.readMem(0xb834));
        // CB 23 0320
        gbc.setState(0x558d, 0x9fb5, 0xd270, 0xbc36, 0x3023, 0x5d66, 0x0, 0x0);
        gbc.writeMem(0x558d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x9fb5, gbc.sp());
        EXPECT(0x558f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0321
        gbc.setState(0xc0dc, 0xc08f, 0x8a80, 0x61ba, 0x97b4, 0x3340, 0x0, 0x1);
        gbc.writeMem(0xc0dc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xc08f, gbc.sp());
        EXPECT(0xc0de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0dc));
        EXPECT(0x23, gbc.readMem(0xc0dd));
        // CB 23 0322
        gbc.setState(0xcb5b, 0xd5d2, 0x20f0, 0x5b6c, 0xc03c, 0xdd45, 0x0, 0x1);
        gbc.writeMem(0xcb5b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xd5d2, gbc.sp());
        EXPECT(0xcb5d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb5b));
        EXPECT(0x23, gbc.readMem(0xcb5c));
        // CB 23 0323
        gbc.setState(0x7b5a, 0x4c28, 0x890, 0x4deb, 0xe39f, 0xcdd3, 0x0, 0x1);
        gbc.writeMem(0x7b5a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x4c28, gbc.sp());
        EXPECT(0x7b5c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0324
        gbc.setState(0x4f43, 0x2c1d, 0xda90, 0x9c40, 0x1bbd, 0xe0a1, 0x1, 0x0);
        gbc.writeMem(0x4f43, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x2c1d, gbc.sp());
        EXPECT(0x4f45, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0325
        gbc.setState(0xa35c, 0xd717, 0xc7a0, 0x3e17, 0xb583, 0xd794, 0x0, 0x1);
        gbc.writeMem(0xa35c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xd717, gbc.sp());
        EXPECT(0xa35e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa35c));
        EXPECT(0x23, gbc.readMem(0xa35d));
        // CB 23 0326
        gbc.setState(0x1e18, 0xe69b, 0x8c80, 0x9691, 0xdbc6, 0xa2d0, 0x1, 0x1);
        gbc.writeMem(0x1e18, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xe69b, gbc.sp());
        EXPECT(0x1e1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0327
        gbc.setState(0x1665, 0xd139, 0x7920, 0x1f10, 0x1910, 0x3139, 0x0, 0x0);
        gbc.writeMem(0x1665, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xd139, gbc.sp());
        EXPECT(0x1667, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0328
        gbc.setState(0x2c78, 0x8ee8, 0x6e30, 0xfdbe, 0x2e71, 0xc98f, 0x1, 0x0);
        gbc.writeMem(0x2c78, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x8ee8, gbc.sp());
        EXPECT(0x2c7a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0329
        gbc.setState(0x3b31, 0xd9eb, 0xf2e0, 0x970f, 0xfb9a, 0x79dc, 0x1, 0x0);
        gbc.writeMem(0x3b31, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xd9eb, gbc.sp());
        EXPECT(0x3b33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 032A
        gbc.setState(0x659d, 0xcea7, 0x3830, 0x343d, 0x9530, 0x58d1, 0x1, 0x0);
        gbc.writeMem(0x659d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xcea7, gbc.sp());
        EXPECT(0x659f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 032B
        gbc.setState(0xcfaf, 0x881e, 0x1280, 0xd23e, 0xb83b, 0x8fa8, 0x1, 0x0);
        gbc.writeMem(0xcfaf, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x881e, gbc.sp());
        EXPECT(0xcfb1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcfaf));
        EXPECT(0x23, gbc.readMem(0xcfb0));
        // CB 23 032C
        gbc.setState(0xcc2a, 0x291b, 0x8880, 0x5d4d, 0x81d7, 0x994c, 0x1, 0x1);
        gbc.writeMem(0xcc2a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x291b, gbc.sp());
        EXPECT(0xcc2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc2a));
        EXPECT(0x23, gbc.readMem(0xcc2b));
        // CB 23 032D
        gbc.setState(0x3544, 0x646e, 0x5290, 0x4904, 0x1fc8, 0x242b, 0x0, 0x0);
        gbc.writeMem(0x3544, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x646e, gbc.sp());
        EXPECT(0x3546, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 032E
        gbc.setState(0x2e34, 0x108d, 0x93c0, 0x5746, 0xfd95, 0xe6c4, 0x0, 0x0);
        gbc.writeMem(0x2e34, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x108d, gbc.sp());
        EXPECT(0x2e36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 032F
        gbc.setState(0x3cfd, 0x8adf, 0xafd0, 0x9b7d, 0xa283, 0xeb8c, 0x0, 0x1);
        gbc.writeMem(0x3cfd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x8adf, gbc.sp());
        EXPECT(0x3cff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0331
        gbc.setState(0x23b5, 0xf24, 0xe930, 0xecae, 0x415e, 0xf4a9, 0x0, 0x0);
        gbc.writeMem(0x23b5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xf24, gbc.sp());
        EXPECT(0x23b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0332
        gbc.setState(0xa1bd, 0xc27d, 0xfe0, 0x5281, 0x35b6, 0xffc9, 0x1, 0x0);
        gbc.writeMem(0xa1bd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xc27d, gbc.sp());
        EXPECT(0xa1bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1bd));
        EXPECT(0x23, gbc.readMem(0xa1be));
        // CB 23 0333
        gbc.setState(0xa1b9, 0xe6b0, 0x8080, 0xb3fb, 0x9a50, 0x3b6e, 0x0, 0x0);
        gbc.writeMem(0xa1b9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xe6b0, gbc.sp());
        EXPECT(0xa1bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1b9));
        EXPECT(0x23, gbc.readMem(0xa1ba));
        // CB 23 0334
        gbc.setState(0x3f13, 0x8e46, 0x87d0, 0xad1a, 0xa616, 0xba14, 0x0, 0x1);
        gbc.writeMem(0x3f13, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x8e46, gbc.sp());
        EXPECT(0x3f15, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0335
        gbc.setState(0x65f2, 0x7a1d, 0xc1c0, 0xfe8f, 0xaead, 0x8470, 0x0, 0x0);
        gbc.writeMem(0x65f2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x7a1d, gbc.sp());
        EXPECT(0x65f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0336
        gbc.setState(0x3588, 0xd383, 0xd660, 0xaa6f, 0xbd92, 0xb78e, 0x1, 0x1);
        gbc.writeMem(0x3588, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xd383, gbc.sp());
        EXPECT(0x358a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0337
        gbc.setState(0x68c1, 0xdb5a, 0x62a0, 0x40b, 0x939b, 0x25a1, 0x0, 0x1);
        gbc.writeMem(0x68c1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xdb5a, gbc.sp());
        EXPECT(0x68c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0338
        gbc.setState(0xcc71, 0x7713, 0x8e10, 0x2f0d, 0x9ab5, 0x9576, 0x1, 0x1);
        gbc.writeMem(0xcc71, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x7713, gbc.sp());
        EXPECT(0xcc73, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc71));
        EXPECT(0x23, gbc.readMem(0xcc72));
        // CB 23 0339
        gbc.setState(0x3705, 0x9364, 0xd550, 0x4808, 0x88a5, 0xc3c, 0x0, 0x0);
        gbc.writeMem(0x3705, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x9364, gbc.sp());
        EXPECT(0x3707, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 033A
        gbc.setState(0xd902, 0xfe0d, 0x92b0, 0x84a4, 0x79ea, 0xb2a5, 0x0, 0x0);
        gbc.writeMem(0xd902, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xfe0d, gbc.sp());
        EXPECT(0xd904, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd902));
        EXPECT(0x23, gbc.readMem(0xd903));
        // CB 23 033B
        gbc.setState(0x9946, 0x5c47, 0x87f0, 0x8ebc, 0x999c, 0x1741, 0x1, 0x1);
        gbc.writeMem(0x9946, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x5c47, gbc.sp());
        EXPECT(0x9948, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9946));
        EXPECT(0x23, gbc.readMem(0x9947));
        // CB 23 033C
        gbc.setState(0x50ae, 0xc0f7, 0xccf0, 0x467e, 0xb4e1, 0x31ed, 0x1, 0x1);
        gbc.writeMem(0x50ae, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xc0f7, gbc.sp());
        EXPECT(0x50b0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 033D
        gbc.setState(0x433c, 0xc863, 0x1610, 0x6581, 0xb09e, 0x9e4e, 0x1, 0x1);
        gbc.writeMem(0x433c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xc863, gbc.sp());
        EXPECT(0x433e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 033E
        gbc.setState(0xc2a6, 0x992, 0xfe30, 0xe54c, 0xf456, 0x1293, 0x1, 0x0);
        gbc.writeMem(0xc2a6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x992, gbc.sp());
        EXPECT(0xc2a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc2a6));
        EXPECT(0x23, gbc.readMem(0xc2a7));
        // CB 23 033F
        gbc.setState(0x838c, 0xa9c5, 0x2020, 0x2b9f, 0x6ccd, 0xddec, 0x1, 0x1);
        gbc.writeMem(0x838c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xa9c5, gbc.sp());
        EXPECT(0x838e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x838c));
        EXPECT(0x23, gbc.readMem(0x838d));
        // CB 23 0340
        gbc.setState(0x6aef, 0xda1b, 0xfe50, 0xf1ba, 0xf321, 0x6821, 0x1, 0x1);
        gbc.writeMem(0x6aef, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xda1b, gbc.sp());
        EXPECT(0x6af1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0341
        gbc.setState(0x7861, 0x9373, 0x6690, 0xd32, 0x9f8c, 0x3cf3, 0x1, 0x1);
        gbc.writeMem(0x7861, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x9373, gbc.sp());
        EXPECT(0x7863, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0342
        gbc.setState(0x1e30, 0x4a21, 0x36b0, 0x8a25, 0x3146, 0x6639, 0x1, 0x1);
        gbc.writeMem(0x1e30, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x4a21, gbc.sp());
        EXPECT(0x1e32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0343
        gbc.setState(0x28b8, 0x1319, 0xf890, 0x104e, 0xc7f4, 0x25e, 0x1, 0x1);
        gbc.writeMem(0x28b8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x1319, gbc.sp());
        EXPECT(0x28ba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0344
        gbc.setState(0x4da9, 0xe521, 0x95c0, 0x4729, 0x8a55, 0xbadb, 0x0, 0x0);
        gbc.writeMem(0x4da9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xe521, gbc.sp());
        EXPECT(0x4dab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0345
        gbc.setState(0x4394, 0x41da, 0xc2d0, 0xaa42, 0x2ae7, 0x98c1, 0x1, 0x0);
        gbc.writeMem(0x4394, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x41da, gbc.sp());
        EXPECT(0x4396, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0346
        gbc.setState(0xca86, 0x8447, 0x7430, 0x1e71, 0x3f9d, 0xa0f8, 0x0, 0x0);
        gbc.writeMem(0xca86, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x8447, gbc.sp());
        EXPECT(0xca88, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca86));
        EXPECT(0x23, gbc.readMem(0xca87));
        // CB 23 0347
        gbc.setState(0xcc26, 0x7100, 0xddd0, 0x26a8, 0x5fe3, 0x9687, 0x0, 0x0);
        gbc.writeMem(0xcc26, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x7100, gbc.sp());
        EXPECT(0xcc28, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc26));
        EXPECT(0x23, gbc.readMem(0xcc27));
        // CB 23 0348
        gbc.setState(0x2c6b, 0x3142, 0xc50, 0x9081, 0x212, 0xba6b, 0x1, 0x0);
        gbc.writeMem(0x2c6b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x3142, gbc.sp());
        EXPECT(0x2c6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0349
        gbc.setState(0xbf6d, 0x69cf, 0xb410, 0xe4d7, 0x4634, 0xc8f4, 0x1, 0x1);
        gbc.writeMem(0xbf6d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x69cf, gbc.sp());
        EXPECT(0xbf6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf6d));
        EXPECT(0x23, gbc.readMem(0xbf6e));
        // CB 23 034A
        gbc.setState(0x34cb, 0x8615, 0xf200, 0xd334, 0x2925, 0x4f51, 0x1, 0x0);
        gbc.writeMem(0x34cb, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x8615, gbc.sp());
        EXPECT(0x34cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 034B
        gbc.setState(0x4fb7, 0x2a12, 0xdde0, 0x3efa, 0x69e5, 0xf6e5, 0x0, 0x1);
        gbc.writeMem(0x4fb7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x2a12, gbc.sp());
        EXPECT(0x4fb9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 034D
        gbc.setState(0x3453, 0x23fc, 0x7660, 0x6319, 0x2ae0, 0x88e0, 0x0, 0x0);
        gbc.writeMem(0x3453, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x23fc, gbc.sp());
        EXPECT(0x3455, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 034E
        gbc.setState(0x512d, 0xdff, 0x33f0, 0xd7f6, 0x171f, 0x1db9, 0x1, 0x0);
        gbc.writeMem(0x512d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xdff, gbc.sp());
        EXPECT(0x512f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 034F
        gbc.setState(0xaef2, 0x80f5, 0x44c0, 0xc3e8, 0x8411, 0x3282, 0x1, 0x0);
        gbc.writeMem(0xaef2, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x80f5, gbc.sp());
        EXPECT(0xaef4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaef2));
        EXPECT(0x23, gbc.readMem(0xaef3));
        // CB 23 0350
        gbc.setState(0x5ab0, 0x411d, 0xebf0, 0x7fdb, 0xd7d4, 0xa993, 0x1, 0x0);
        gbc.writeMem(0x5ab0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x411d, gbc.sp());
        EXPECT(0x5ab2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0351
        gbc.setState(0xe623, 0xfea8, 0x78e0, 0x1dd4, 0xc8dc, 0xe167, 0x1, 0x0);
        gbc.writeMem(0xe623, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xfea8, gbc.sp());
        EXPECT(0xe625, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe623));
        EXPECT(0x23, gbc.readMem(0xe624));
        // CB 23 0352
        gbc.setState(0xdbf9, 0x841b, 0xb640, 0x6fee, 0xa7d, 0x333b, 0x1, 0x1);
        gbc.writeMem(0xdbf9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x841b, gbc.sp());
        EXPECT(0xdbfb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbf9));
        EXPECT(0x23, gbc.readMem(0xdbfa));
        // CB 23 0353
        gbc.setState(0x85f8, 0x35d8, 0x4240, 0xfeee, 0xa6de, 0x3337, 0x1, 0x0);
        gbc.writeMem(0x85f8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x35d8, gbc.sp());
        EXPECT(0x85fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x85f8));
        EXPECT(0x23, gbc.readMem(0x85f9));
        // CB 23 0354
        gbc.setState(0x50ad, 0x2537, 0x2ab0, 0x1b99, 0xbb26, 0xb1cd, 0x0, 0x0);
        gbc.writeMem(0x50ad, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x2537, gbc.sp());
        EXPECT(0x50af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0355
        gbc.setState(0xee8a, 0xe361, 0xa3a0, 0x331d, 0x1842, 0x1646, 0x0, 0x1);
        gbc.writeMem(0xee8a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xe361, gbc.sp());
        EXPECT(0xee8c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee8a));
        EXPECT(0x23, gbc.readMem(0xee8b));
        // CB 23 0356
        gbc.setState(0x764d, 0x1494, 0x2850, 0xcb8b, 0x2f35, 0x734b, 0x1, 0x1);
        gbc.writeMem(0x764d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x1494, gbc.sp());
        EXPECT(0x764f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0358
        gbc.setState(0x7df7, 0xc0e1, 0xf6d0, 0x525e, 0x4ddb, 0x1b83, 0x1, 0x1);
        gbc.writeMem(0x7df7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xc0e1, gbc.sp());
        EXPECT(0x7df9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0359
        gbc.setState(0x791b, 0xf6b8, 0xda70, 0x8dcd, 0x49d2, 0x9d8d, 0x0, 0x0);
        gbc.writeMem(0x791b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xf6b8, gbc.sp());
        EXPECT(0x791d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 035A
        gbc.setState(0xd5b6, 0x65d9, 0xa4f0, 0x6927, 0x9ef8, 0x6b7f, 0x1, 0x1);
        gbc.writeMem(0xd5b6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x65d9, gbc.sp());
        EXPECT(0xd5b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5b6));
        EXPECT(0x23, gbc.readMem(0xd5b7));
        // CB 23 035B
        gbc.setState(0x9501, 0xc691, 0xa670, 0x93ae, 0xd6d, 0xf534, 0x0, 0x1);
        gbc.writeMem(0x9501, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xc691, gbc.sp());
        EXPECT(0x9503, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9501));
        EXPECT(0x23, gbc.readMem(0x9502));
        // CB 23 035C
        gbc.setState(0x3fa4, 0x1662, 0x10c0, 0xd89c, 0x2c7a, 0x9853, 0x0, 0x0);
        gbc.writeMem(0x3fa4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x1662, gbc.sp());
        EXPECT(0x3fa6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 035D
        gbc.setState(0x8d28, 0x4f5a, 0xd0a0, 0xdad9, 0xf987, 0x949a, 0x1, 0x0);
        gbc.writeMem(0x8d28, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x4f5a, gbc.sp());
        EXPECT(0x8d2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d28));
        EXPECT(0x23, gbc.readMem(0x8d29));
        // CB 23 035E
        gbc.setState(0xa250, 0xa46d, 0x94b0, 0xe70a, 0x5ea1, 0x9722, 0x0, 0x0);
        gbc.writeMem(0xa250, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xa46d, gbc.sp());
        EXPECT(0xa252, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa250));
        EXPECT(0x23, gbc.readMem(0xa251));
        // CB 23 035F
        gbc.setState(0x56dd, 0xeb01, 0xbcc0, 0x3300, 0x3250, 0xd1fb, 0x0, 0x0);
        gbc.writeMem(0x56dd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xeb01, gbc.sp());
        EXPECT(0x56df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0360
        gbc.setState(0x1abe, 0x143f, 0xe470, 0x78ec, 0x8721, 0x1dc1, 0x1, 0x1);
        gbc.writeMem(0x1abe, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x143f, gbc.sp());
        EXPECT(0x1ac0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0361
        gbc.setState(0x6cae, 0xfed8, 0xf080, 0x467f, 0xe83b, 0xc6a3, 0x1, 0x1);
        gbc.writeMem(0x6cae, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xfed8, gbc.sp());
        EXPECT(0x6cb0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0362
        gbc.setState(0x900c, 0x3af5, 0xfcc0, 0x69b0, 0xb947, 0x8197, 0x1, 0x1);
        gbc.writeMem(0x900c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x3af5, gbc.sp());
        EXPECT(0x900e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x900c));
        EXPECT(0x23, gbc.readMem(0x900d));
        // CB 23 0363
        gbc.setState(0xcdc3, 0x5253, 0x2320, 0x1a1, 0xe8f3, 0x7d86, 0x1, 0x1);
        gbc.writeMem(0xcdc3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x5253, gbc.sp());
        EXPECT(0xcdc5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcdc3));
        EXPECT(0x23, gbc.readMem(0xcdc4));
        // CB 23 0364
        gbc.setState(0xed09, 0x2b21, 0x26f0, 0xb2ad, 0xdea4, 0xceb9, 0x0, 0x1);
        gbc.writeMem(0xed09, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x2b21, gbc.sp());
        EXPECT(0xed0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed09));
        EXPECT(0x23, gbc.readMem(0xed0a));
        // CB 23 0366
        gbc.setState(0x4f98, 0xfe4, 0x9690, 0x8272, 0x6a20, 0xab47, 0x1, 0x1);
        gbc.writeMem(0x4f98, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xfe4, gbc.sp());
        EXPECT(0x4f9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0367
        gbc.setState(0x4f72, 0x3662, 0xd160, 0x35ce, 0x8e2, 0x70a7, 0x0, 0x1);
        gbc.writeMem(0x4f72, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x3662, gbc.sp());
        EXPECT(0x4f74, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0368
        gbc.setState(0x64bb, 0x9ef1, 0x7e90, 0x3507, 0x8809, 0x1f68, 0x0, 0x0);
        gbc.writeMem(0x64bb, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x9ef1, gbc.sp());
        EXPECT(0x64bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0369
        gbc.setState(0x887, 0x3dc9, 0x8110, 0x4c4d, 0x1e15, 0xe398, 0x1, 0x0);
        gbc.writeMem(0x887, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x3dc9, gbc.sp());
        EXPECT(0x889, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 036B
        gbc.setState(0x5884, 0xdb6, 0x1500, 0x96cd, 0xc33c, 0xf2ee, 0x1, 0x1);
        gbc.writeMem(0x5884, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xdb6, gbc.sp());
        EXPECT(0x5886, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 036D
        gbc.setState(0x9548, 0x3560, 0x8d50, 0x2fab, 0x8c73, 0xe8ab, 0x0, 0x1);
        gbc.writeMem(0x9548, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x3560, gbc.sp());
        EXPECT(0x954a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9548));
        EXPECT(0x23, gbc.readMem(0x9549));
        // CB 23 036E
        gbc.setState(0xca05, 0xacc, 0x4b90, 0xfd23, 0xa918, 0xecf0, 0x1, 0x1);
        gbc.writeMem(0xca05, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xacc, gbc.sp());
        EXPECT(0xca07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca05));
        EXPECT(0x23, gbc.readMem(0xca06));
        // CB 23 036F
        gbc.setState(0x8d74, 0x5e6b, 0xc8b0, 0x9d5, 0xbfe, 0x92a0, 0x0, 0x1);
        gbc.writeMem(0x8d74, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x5e6b, gbc.sp());
        EXPECT(0x8d76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d74));
        EXPECT(0x23, gbc.readMem(0x8d75));
        // CB 23 0370
        gbc.setState(0xd653, 0x604, 0xa160, 0x3060, 0x3dae, 0x325d, 0x0, 0x0);
        gbc.writeMem(0xd653, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x604, gbc.sp());
        EXPECT(0xd655, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd653));
        EXPECT(0x23, gbc.readMem(0xd654));
        // CB 23 0371
        gbc.setState(0xb2ec, 0x7927, 0x8c0, 0x8685, 0x98c, 0x1f5c, 0x1, 0x0);
        gbc.writeMem(0xb2ec, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x7927, gbc.sp());
        EXPECT(0xb2ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb2ec));
        EXPECT(0x23, gbc.readMem(0xb2ed));
        // CB 23 0372
        gbc.setState(0xb9c3, 0x8e8f, 0xdac0, 0xa80f, 0x79dc, 0x22e9, 0x1, 0x0);
        gbc.writeMem(0xb9c3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x8e8f, gbc.sp());
        EXPECT(0xb9c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb9c3));
        EXPECT(0x23, gbc.readMem(0xb9c4));
        // CB 23 0373
        gbc.setState(0x9f9c, 0xee2f, 0xf840, 0x10b0, 0x387f, 0x4b4, 0x0, 0x1);
        gbc.writeMem(0x9f9c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xee2f, gbc.sp());
        EXPECT(0x9f9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f9c));
        EXPECT(0x23, gbc.readMem(0x9f9d));
        // CB 23 0374
        gbc.setState(0x505a, 0xf072, 0xd3e0, 0x70d, 0xee6c, 0xb19c, 0x0, 0x1);
        gbc.writeMem(0x505a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xf072, gbc.sp());
        EXPECT(0x505c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0375
        gbc.setState(0x82bd, 0xc25, 0xab10, 0x2554, 0xb4ac, 0x86ee, 0x1, 0x1);
        gbc.writeMem(0x82bd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xc25, gbc.sp());
        EXPECT(0x82bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x82bd));
        EXPECT(0x23, gbc.readMem(0x82be));
        // CB 23 0376
        gbc.setState(0x85b0, 0x2c48, 0xae10, 0x97a, 0x8e25, 0x8fbf, 0x0, 0x1);
        gbc.writeMem(0x85b0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x2c48, gbc.sp());
        EXPECT(0x85b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x85b0));
        EXPECT(0x23, gbc.readMem(0x85b1));
        // CB 23 0377
        gbc.setState(0xbdbd, 0x5884, 0x2ba0, 0x1504, 0x79f5, 0xf24f, 0x1, 0x0);
        gbc.writeMem(0xbdbd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x5884, gbc.sp());
        EXPECT(0xbdbf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbdbd));
        EXPECT(0x23, gbc.readMem(0xbdbe));
        // CB 23 0378
        gbc.setState(0x97b5, 0x2736, 0xa0c0, 0xc5ee, 0x5185, 0xc29e, 0x1, 0x1);
        gbc.writeMem(0x97b5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x2736, gbc.sp());
        EXPECT(0x97b7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x97b5));
        EXPECT(0x23, gbc.readMem(0x97b6));
        // CB 23 0379
        gbc.setState(0x6528, 0xa5bd, 0xc180, 0xda01, 0x7241, 0x16c3, 0x1, 0x1);
        gbc.writeMem(0x6528, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xa5bd, gbc.sp());
        EXPECT(0x652a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 037A
        gbc.setState(0xc163, 0xaab8, 0xfae0, 0xc8de, 0xfdd1, 0xf29a, 0x1, 0x0);
        gbc.writeMem(0xc163, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xaab8, gbc.sp());
        EXPECT(0xc165, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc163));
        EXPECT(0x23, gbc.readMem(0xc164));
        // CB 23 037B
        gbc.setState(0xb6e8, 0xf164, 0x25e0, 0x7f5d, 0x859f, 0x86d6, 0x0, 0x1);
        gbc.writeMem(0xb6e8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xf164, gbc.sp());
        EXPECT(0xb6ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb6e8));
        EXPECT(0x23, gbc.readMem(0xb6e9));
        // CB 23 037C
        gbc.setState(0xc456, 0x508e, 0xe570, 0xcd04, 0xedd7, 0xde64, 0x0, 0x0);
        gbc.writeMem(0xc456, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x508e, gbc.sp());
        EXPECT(0xc458, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc456));
        EXPECT(0x23, gbc.readMem(0xc457));
        // CB 23 037D
        gbc.setState(0xb2dc, 0x7fb3, 0x1cc0, 0x9c8f, 0xa98b, 0xb808, 0x0, 0x1);
        gbc.writeMem(0xb2dc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x7fb3, gbc.sp());
        EXPECT(0xb2de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb2dc));
        EXPECT(0x23, gbc.readMem(0xb2dd));
        // CB 23 037E
        gbc.setState(0x16ca, 0x25d2, 0xc790, 0xb826, 0xef12, 0x4a0e, 0x1, 0x0);
        gbc.writeMem(0x16ca, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x25d2, gbc.sp());
        EXPECT(0x16cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 037F
        gbc.setState(0xe8b6, 0x5dfc, 0x4020, 0xd7b6, 0xd497, 0x15a8, 0x1, 0x1);
        gbc.writeMem(0xe8b6, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x5dfc, gbc.sp());
        EXPECT(0xe8b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe8b6));
        EXPECT(0x23, gbc.readMem(0xe8b7));
        // CB 23 0380
        gbc.setState(0x7c2e, 0x51d6, 0x5c20, 0xebdb, 0xd0c3, 0x829d, 0x1, 0x0);
        gbc.writeMem(0x7c2e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x51d6, gbc.sp());
        EXPECT(0x7c30, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0381
        gbc.setState(0x7efa, 0xa636, 0x6800, 0x5d90, 0xac44, 0xcd3a, 0x0, 0x0);
        gbc.writeMem(0x7efa, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xa636, gbc.sp());
        EXPECT(0x7efc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 0382
        gbc.setState(0xbae7, 0x2b38, 0x4150, 0x7c08, 0x619b, 0x7a5, 0x1, 0x1);
        gbc.writeMem(0xbae7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x2b38, gbc.sp());
        EXPECT(0xbae9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbae7));
        EXPECT(0x23, gbc.readMem(0xbae8));
        // CB 23 0383
        gbc.setState(0x5019, 0x3425, 0xa9f0, 0xa3e1, 0xdd7, 0x901e, 0x1, 0x0);
        gbc.writeMem(0x5019, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x3425, gbc.sp());
        EXPECT(0x501b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0384
        gbc.setState(0xeaed, 0xb0b7, 0xc900, 0xa8fd, 0xdd38, 0x5f28, 0x1, 0x0);
        gbc.writeMem(0xeaed, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xb0b7, gbc.sp());
        EXPECT(0xeaef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeaed));
        EXPECT(0x23, gbc.readMem(0xeaee));
        // CB 23 0385
        gbc.setState(0x71c3, 0xadc3, 0x1f20, 0xc2d0, 0x2ffa, 0xe69, 0x1, 0x0);
        gbc.writeMem(0x71c3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xadc3, gbc.sp());
        EXPECT(0x71c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0386
        gbc.setState(0xdd44, 0xbff6, 0x3170, 0xe5af, 0x9b58, 0x62f1, 0x1, 0x1);
        gbc.writeMem(0xdd44, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xbff6, gbc.sp());
        EXPECT(0xdd46, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd44));
        EXPECT(0x23, gbc.readMem(0xdd45));
        // CB 23 0387
        gbc.setState(0x9ef5, 0x5cc6, 0xb5e0, 0xd38c, 0xac23, 0x77fb, 0x1, 0x0);
        gbc.writeMem(0x9ef5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x5cc6, gbc.sp());
        EXPECT(0x9ef7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9ef5));
        EXPECT(0x23, gbc.readMem(0x9ef6));
        // CB 23 0388
        gbc.setState(0xd750, 0xaef2, 0xb8b0, 0xa78f, 0x6e1, 0x5d61, 0x0, 0x0);
        gbc.writeMem(0xd750, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xaef2, gbc.sp());
        EXPECT(0xd752, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd750));
        EXPECT(0x23, gbc.readMem(0xd751));
        // CB 23 0389
        gbc.setState(0xdc86, 0xbf21, 0xe450, 0xbcc6, 0xec0, 0x7375, 0x0, 0x0);
        gbc.writeMem(0xdc86, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xbf21, gbc.sp());
        EXPECT(0xdc88, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc86));
        EXPECT(0x23, gbc.readMem(0xdc87));
        // CB 23 038A
        gbc.setState(0xb166, 0xe937, 0x24b0, 0xa1d1, 0x5e53, 0x76f8, 0x1, 0x0);
        gbc.writeMem(0xb166, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xe937, gbc.sp());
        EXPECT(0xb168, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb166));
        EXPECT(0x23, gbc.readMem(0xb167));
        // CB 23 038B
        gbc.setState(0xcff5, 0x4f5b, 0x780, 0xc127, 0x8609, 0x847a, 0x1, 0x1);
        gbc.writeMem(0xcff5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x4f5b, gbc.sp());
        EXPECT(0xcff7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcff5));
        EXPECT(0x23, gbc.readMem(0xcff6));
        // CB 23 038C
        gbc.setState(0x4076, 0x2201, 0x9b30, 0xf36b, 0xfd21, 0xd3ab, 0x0, 0x0);
        gbc.writeMem(0x4076, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x2201, gbc.sp());
        EXPECT(0x4078, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 038D
        gbc.setState(0xd579, 0xbb39, 0xdc80, 0x718d, 0x8f20, 0xc08b, 0x0, 0x1);
        gbc.writeMem(0xd579, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xbb39, gbc.sp());
        EXPECT(0xd57b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd579));
        EXPECT(0x23, gbc.readMem(0xd57a));
        // CB 23 038E
        gbc.setState(0x3f3, 0xcd4c, 0xe8b0, 0xf8ad, 0x1259, 0x5961, 0x1, 0x0);
        gbc.writeMem(0x3f3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xcd4c, gbc.sp());
        EXPECT(0x3f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 038F
        gbc.setState(0xd5af, 0x7743, 0x5550, 0xd18c, 0x8db0, 0xd2a0, 0x1, 0x1);
        gbc.writeMem(0xd5af, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x7743, gbc.sp());
        EXPECT(0xd5b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5af));
        EXPECT(0x23, gbc.readMem(0xd5b0));
        // CB 23 0390
        gbc.setState(0x34ee, 0x81ae, 0x1020, 0x734d, 0x1e9b, 0x8bb9, 0x1, 0x1);
        gbc.writeMem(0x34ee, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x81ae, gbc.sp());
        EXPECT(0x34f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0391
        gbc.setState(0x6631, 0xbde2, 0xbb40, 0xa4a3, 0xa1b3, 0xea5b, 0x1, 0x0);
        gbc.writeMem(0x6631, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xbde2, gbc.sp());
        EXPECT(0x6633, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0392
        gbc.setState(0x1eb4, 0x8278, 0x1270, 0xb85, 0x98f6, 0x1c36, 0x1, 0x0);
        gbc.writeMem(0x1eb4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x8278, gbc.sp());
        EXPECT(0x1eb6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0393
        gbc.setState(0xb1b7, 0x87aa, 0xc990, 0x3f30, 0xc61d, 0x1905, 0x1, 0x1);
        gbc.writeMem(0xb1b7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x87aa, gbc.sp());
        EXPECT(0xb1b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb1b7));
        EXPECT(0x23, gbc.readMem(0xb1b8));
        // CB 23 0394
        gbc.setState(0x8e91, 0x66eb, 0x4c40, 0x960f, 0xf673, 0xedf3, 0x0, 0x1);
        gbc.writeMem(0x8e91, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x66eb, gbc.sp());
        EXPECT(0x8e93, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e91));
        EXPECT(0x23, gbc.readMem(0x8e92));
        // CB 23 0395
        gbc.setState(0xb50c, 0xc736, 0xf730, 0xda84, 0x3df4, 0x58a5, 0x1, 0x1);
        gbc.writeMem(0xb50c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xc736, gbc.sp());
        EXPECT(0xb50e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb50c));
        EXPECT(0x23, gbc.readMem(0xb50d));
        // CB 23 0396
        gbc.setState(0x3a0d, 0x1b13, 0x74b0, 0x5481, 0x2dd1, 0x8601, 0x0, 0x1);
        gbc.writeMem(0x3a0d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x1b13, gbc.sp());
        EXPECT(0x3a0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 0398
        gbc.setState(0x876c, 0x4fad, 0xd680, 0x3bb8, 0x971b, 0x61d2, 0x1, 0x0);
        gbc.writeMem(0x876c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x4fad, gbc.sp());
        EXPECT(0x876e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x876c));
        EXPECT(0x23, gbc.readMem(0x876d));
        // CB 23 0399
        gbc.setState(0xb1b8, 0x998a, 0x39d0, 0x575e, 0x4fbd, 0xedb7, 0x0, 0x1);
        gbc.writeMem(0xb1b8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x998a, gbc.sp());
        EXPECT(0xb1ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb1b8));
        EXPECT(0x23, gbc.readMem(0xb1b9));
        // CB 23 039A
        gbc.setState(0xdb84, 0xf1e9, 0x8dc0, 0xd808, 0x208d, 0x7563, 0x1, 0x0);
        gbc.writeMem(0xdb84, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xf1e9, gbc.sp());
        EXPECT(0xdb86, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb84));
        EXPECT(0x23, gbc.readMem(0xdb85));
        // CB 23 039B
        gbc.setState(0x33a5, 0xa8a9, 0xce80, 0xa1cd, 0xd68f, 0x5a4f, 0x1, 0x1);
        gbc.writeMem(0x33a5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xa8a9, gbc.sp());
        EXPECT(0x33a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 039C
        gbc.setState(0xb3cc, 0x2121, 0xff90, 0x2241, 0x5ecf, 0xebda, 0x0, 0x0);
        gbc.writeMem(0xb3cc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x2121, gbc.sp());
        EXPECT(0xb3ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb3cc));
        EXPECT(0x23, gbc.readMem(0xb3cd));
        // CB 23 039D
        gbc.setState(0x622c, 0x44d3, 0x70f0, 0xb7b1, 0x5fdb, 0x450c, 0x1, 0x1);
        gbc.writeMem(0x622c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x44d3, gbc.sp());
        EXPECT(0x622e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 039E
        gbc.setState(0x2246, 0x6d95, 0xa880, 0xcd84, 0x5b9e, 0xad2c, 0x1, 0x0);
        gbc.writeMem(0x2246, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x6d95, gbc.sp());
        EXPECT(0x2248, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 039F
        gbc.setState(0x6e2e, 0xc399, 0x7f00, 0xd7a8, 0x7cca, 0xc04d, 0x1, 0x0);
        gbc.writeMem(0x6e2e, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xc399, gbc.sp());
        EXPECT(0x6e30, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03A0
        gbc.setState(0x4989, 0xe93f, 0xa440, 0x4e08, 0x17e9, 0x9e1d, 0x1, 0x0);
        gbc.writeMem(0x4989, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xe93f, gbc.sp());
        EXPECT(0x498b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03A1
        gbc.setState(0x45d9, 0x59a4, 0xc8b0, 0x8dee, 0x73f9, 0xebdb, 0x0, 0x0);
        gbc.writeMem(0x45d9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x59a4, gbc.sp());
        EXPECT(0x45db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03A2
        gbc.setState(0x253, 0x44df, 0x15e0, 0x4a62, 0xde75, 0x80f5, 0x1, 0x0);
        gbc.writeMem(0x253, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x44df, gbc.sp());
        EXPECT(0x255, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03A3
        gbc.setState(0x3150, 0xafe0, 0xee0, 0x734e, 0x189f, 0x2119, 0x0, 0x0);
        gbc.writeMem(0x3150, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xafe0, gbc.sp());
        EXPECT(0x3152, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03A4
        gbc.setState(0x9755, 0xdd9a, 0x47f0, 0x8be0, 0xe54f, 0xaa65, 0x1, 0x0);
        gbc.writeMem(0x9755, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xdd9a, gbc.sp());
        EXPECT(0x9757, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9755));
        EXPECT(0x23, gbc.readMem(0x9756));
        // CB 23 03A5
        gbc.setState(0x2202, 0x2d1f, 0x9cd0, 0x9d85, 0x4320, 0xf3ac, 0x0, 0x0);
        gbc.writeMem(0x2202, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x2d1f, gbc.sp());
        EXPECT(0x2204, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03A6
        gbc.setState(0x79e1, 0x7d4c, 0xf130, 0x2d52, 0x48f, 0xebb9, 0x1, 0x1);
        gbc.writeMem(0x79e1, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x7d4c, gbc.sp());
        EXPECT(0x79e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03A7
        gbc.setState(0xa2aa, 0x1ae8, 0xd350, 0x4755, 0xc550, 0x69be, 0x1, 0x0);
        gbc.writeMem(0xa2aa, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x1ae8, gbc.sp());
        EXPECT(0xa2ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa2aa));
        EXPECT(0x23, gbc.readMem(0xa2ab));
        // CB 23 03A8
        gbc.setState(0xe104, 0xbc02, 0xdd80, 0x9dfd, 0x22f, 0x8c19, 0x1, 0x0);
        gbc.writeMem(0xe104, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xbc02, gbc.sp());
        EXPECT(0xe106, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe104));
        EXPECT(0x23, gbc.readMem(0xe105));
        // CB 23 03A9
        gbc.setState(0x6eb5, 0x3048, 0x8ee0, 0x4d71, 0x708c, 0xafb0, 0x1, 0x0);
        gbc.writeMem(0x6eb5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x3048, gbc.sp());
        EXPECT(0x6eb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03AA
        gbc.setState(0x560a, 0xe150, 0xd270, 0xfec8, 0xf0c5, 0x8a5f, 0x0, 0x0);
        gbc.writeMem(0x560a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xe150, gbc.sp());
        EXPECT(0x560c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03AB
        gbc.setState(0xdd13, 0x69a3, 0x9e90, 0x3d14, 0x9390, 0x42ee, 0x0, 0x1);
        gbc.writeMem(0xdd13, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x69a3, gbc.sp());
        EXPECT(0xdd15, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd13));
        EXPECT(0x23, gbc.readMem(0xdd14));
        // CB 23 03AC
        gbc.setState(0xe2cc, 0x21b5, 0xd6d0, 0x78e3, 0x2892, 0xd637, 0x0, 0x0);
        gbc.writeMem(0xe2cc, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x21b5, gbc.sp());
        EXPECT(0xe2ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe2cc));
        EXPECT(0x23, gbc.readMem(0xe2cd));
        // CB 23 03AE
        gbc.setState(0xd2da, 0x3c8, 0x5cb0, 0x2d12, 0x582d, 0x29af, 0x1, 0x1);
        gbc.writeMem(0xd2da, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x3c8, gbc.sp());
        EXPECT(0xd2dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd2da));
        EXPECT(0x23, gbc.readMem(0xd2db));
        // CB 23 03AF
        gbc.setState(0xa514, 0x9f9e, 0xe160, 0x2312, 0x3809, 0xd7e6, 0x0, 0x1);
        gbc.writeMem(0xa514, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x9f9e, gbc.sp());
        EXPECT(0xa516, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa514));
        EXPECT(0x23, gbc.readMem(0xa515));
        // CB 23 03B0
        gbc.setState(0x6999, 0x4895, 0xd920, 0x6eeb, 0x97ad, 0x8f8a, 0x1, 0x0);
        gbc.writeMem(0x6999, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x4895, gbc.sp());
        EXPECT(0x699b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03B2
        gbc.setState(0x2555, 0x9434, 0xf7d0, 0x91a3, 0xdc49, 0x1974, 0x0, 0x1);
        gbc.writeMem(0x2555, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x9434, gbc.sp());
        EXPECT(0x2557, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03B3
        gbc.setState(0xbfb8, 0x4ce4, 0x17e0, 0x53bb, 0xa63, 0xc596, 0x0, 0x0);
        gbc.writeMem(0xbfb8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x4ce4, gbc.sp());
        EXPECT(0xbfba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfb8));
        EXPECT(0x23, gbc.readMem(0xbfb9));
        // CB 23 03B4
        gbc.setState(0x380d, 0xf2a3, 0xe3d0, 0x27fb, 0xfcee, 0xed4f, 0x1, 0x1);
        gbc.writeMem(0x380d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xf2a3, gbc.sp());
        EXPECT(0x380f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03B5
        gbc.setState(0x520c, 0xf896, 0xa290, 0xa8f3, 0x76b3, 0xf935, 0x1, 0x1);
        gbc.writeMem(0x520c, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xf896, gbc.sp());
        EXPECT(0x520e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03B6
        gbc.setState(0xe5df, 0x59be, 0xfe80, 0x1cd3, 0xdaed, 0x6fff, 0x1, 0x0);
        gbc.writeMem(0xe5df, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x59be, gbc.sp());
        EXPECT(0xe5e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe5df));
        EXPECT(0x23, gbc.readMem(0xe5e0));
        // CB 23 03B7
        gbc.setState(0x634b, 0x966f, 0xd520, 0x1a8d, 0xfd28, 0xe289, 0x1, 0x1);
        gbc.writeMem(0x634b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x966f, gbc.sp());
        EXPECT(0x634d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03B8
        gbc.setState(0x940a, 0x6341, 0xab00, 0x7cbf, 0x7a, 0xab7f, 0x0, 0x0);
        gbc.writeMem(0x940a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x6341, gbc.sp());
        EXPECT(0x940c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x940a));
        EXPECT(0x23, gbc.readMem(0x940b));
        // CB 23 03B9
        gbc.setState(0xe68, 0x6b91, 0x7970, 0x8f93, 0x2be7, 0x38ac, 0x0, 0x0);
        gbc.writeMem(0xe68, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x6b91, gbc.sp());
        EXPECT(0xe6a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03BA
        gbc.setState(0xbd09, 0x953d, 0x52c0, 0xd505, 0xc7e9, 0x8673, 0x0, 0x0);
        gbc.writeMem(0xbd09, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x953d, gbc.sp());
        EXPECT(0xbd0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd09));
        EXPECT(0x23, gbc.readMem(0xbd0a));
        // CB 23 03BB
        gbc.setState(0x93df, 0x3721, 0xcee0, 0xde18, 0x2b98, 0x83c4, 0x1, 0x1);
        gbc.writeMem(0x93df, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x3721, gbc.sp());
        EXPECT(0x93e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93df));
        EXPECT(0x23, gbc.readMem(0x93e0));
        // CB 23 03BD
        gbc.setState(0xebbd, 0x3059, 0x6ca0, 0x13f4, 0x2085, 0x885d, 0x0, 0x0);
        gbc.writeMem(0xebbd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x3059, gbc.sp());
        EXPECT(0xebbf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xebbd));
        EXPECT(0x23, gbc.readMem(0xebbe));
        // CB 23 03BE
        gbc.setState(0x3ed8, 0x8613, 0x4c0, 0xf7ea, 0xdc1b, 0xd607, 0x1, 0x0);
        gbc.writeMem(0x3ed8, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x8613, gbc.sp());
        EXPECT(0x3eda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03BF
        gbc.setState(0x1920, 0xf126, 0x13c0, 0xb428, 0x8df2, 0x21f7, 0x0, 0x1);
        gbc.writeMem(0x1920, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xf126, gbc.sp());
        EXPECT(0x1922, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03C0
        gbc.setState(0x2efe, 0x7c82, 0xf9a0, 0xbf81, 0x9f86, 0xb9e4, 0x1, 0x0);
        gbc.writeMem(0x2efe, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x7c82, gbc.sp());
        EXPECT(0x2f00, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03C1
        gbc.setState(0x9082, 0x3cad, 0xb800, 0xaa5d, 0xcc01, 0x549e, 0x0, 0x1);
        gbc.writeMem(0x9082, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x3cad, gbc.sp());
        EXPECT(0x9084, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9082));
        EXPECT(0x23, gbc.readMem(0x9083));
        // CB 23 03C2
        gbc.setState(0x1016, 0x6571, 0xd350, 0x4a7b, 0xc802, 0x8089, 0x1, 0x1);
        gbc.writeMem(0x1016, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x6571, gbc.sp());
        EXPECT(0x1018, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03C4
        gbc.setState(0xbd87, 0x6053, 0xa400, 0x32eb, 0x2a89, 0x685d, 0x0, 0x1);
        gbc.writeMem(0xbd87, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x6053, gbc.sp());
        EXPECT(0xbd89, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd87));
        EXPECT(0x23, gbc.readMem(0xbd88));
        // CB 23 03C5
        gbc.setState(0x38f, 0x4af9, 0x1690, 0xffce, 0xe94e, 0x6957, 0x0, 0x0);
        gbc.writeMem(0x38f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x4af9, gbc.sp());
        EXPECT(0x391, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03C6
        gbc.setState(0x5c86, 0x1229, 0x3e0, 0x6bf6, 0x342e, 0x6e0e, 0x1, 0x0);
        gbc.writeMem(0x5c86, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x1229, gbc.sp());
        EXPECT(0x5c88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03C7
        gbc.setState(0x6f6f, 0xae90, 0x1280, 0xf6d, 0xb7a4, 0x9baa, 0x0, 0x0);
        gbc.writeMem(0x6f6f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xae90, gbc.sp());
        EXPECT(0x6f71, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03C8
        gbc.setState(0x833a, 0x7b47, 0xe330, 0xaec7, 0xc391, 0x58d5, 0x1, 0x0);
        gbc.writeMem(0x833a, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x7b47, gbc.sp());
        EXPECT(0x833c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x833a));
        EXPECT(0x23, gbc.readMem(0x833b));
        // CB 23 03C9
        gbc.setState(0x3f63, 0x43ed, 0x5820, 0x27ce, 0x3843, 0x74b9, 0x1, 0x1);
        gbc.writeMem(0x3f63, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x43ed, gbc.sp());
        EXPECT(0x3f65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03CA
        gbc.setState(0x50a9, 0xdf7d, 0xff80, 0xfac7, 0x5f06, 0x79ce, 0x0, 0x0);
        gbc.writeMem(0x50a9, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xdf7d, gbc.sp());
        EXPECT(0x50ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03CB
        gbc.setState(0xe3d7, 0xfbfe, 0x2af0, 0x7975, 0xea2e, 0xce66, 0x1, 0x0);
        gbc.writeMem(0xe3d7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xfbfe, gbc.sp());
        EXPECT(0xe3d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3d7));
        EXPECT(0x23, gbc.readMem(0xe3d8));
        // CB 23 03CC
        gbc.setState(0xaf6d, 0x9595, 0xc570, 0xbe3d, 0x8aa2, 0x7751, 0x1, 0x1);
        gbc.writeMem(0xaf6d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x9595, gbc.sp());
        EXPECT(0xaf6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf6d));
        EXPECT(0x23, gbc.readMem(0xaf6e));
        // CB 23 03CD
        gbc.setState(0x9e47, 0x4a4f, 0x8550, 0x7c45, 0x3b4e, 0xd250, 0x0, 0x0);
        gbc.writeMem(0x9e47, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x4a4f, gbc.sp());
        EXPECT(0x9e49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e47));
        EXPECT(0x23, gbc.readMem(0x9e48));
        // CB 23 03CE
        gbc.setState(0xc27f, 0x93c5, 0x21c0, 0x2453, 0xff58, 0x4d63, 0x1, 0x1);
        gbc.writeMem(0xc27f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x93c5, gbc.sp());
        EXPECT(0xc281, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc27f));
        EXPECT(0x23, gbc.readMem(0xc280));
        // CB 23 03CF
        gbc.setState(0x47ee, 0x3cd7, 0x72e0, 0xc069, 0x4d6, 0xaedb, 0x0, 0x1);
        gbc.writeMem(0x47ee, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x3cd7, gbc.sp());
        EXPECT(0x47f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03D0
        gbc.setState(0xc5b3, 0x83e2, 0xeb90, 0x6290, 0x504f, 0x24c6, 0x1, 0x1);
        gbc.writeMem(0xc5b3, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x83e2, gbc.sp());
        EXPECT(0xc5b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc5b3));
        EXPECT(0x23, gbc.readMem(0xc5b4));
        // CB 23 03D1
        gbc.setState(0x39a4, 0xcab5, 0x7a50, 0x8772, 0xefc9, 0xbce1, 0x1, 0x1);
        gbc.writeMem(0x39a4, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xcab5, gbc.sp());
        EXPECT(0x39a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03D2
        gbc.setState(0x7a75, 0xe703, 0x4700, 0xf451, 0x4b68, 0x7913, 0x0, 0x0);
        gbc.writeMem(0x7a75, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xe703, gbc.sp());
        EXPECT(0x7a77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03D4
        gbc.setState(0x17bf, 0xbfb2, 0xbcf0, 0x6916, 0x2349, 0x3e00, 0x1, 0x1);
        gbc.writeMem(0x17bf, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xbfb2, gbc.sp());
        EXPECT(0x17c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03D5
        gbc.setState(0xb5c5, 0xba1, 0x4660, 0xfc54, 0x2bed, 0x54ed, 0x0, 0x1);
        gbc.writeMem(0xb5c5, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xba1, gbc.sp());
        EXPECT(0xb5c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb5c5));
        EXPECT(0x23, gbc.readMem(0xb5c6));
        // CB 23 03D6
        gbc.setState(0xd876, 0x9c75, 0x86e0, 0x18c, 0x2a26, 0x97da, 0x1, 0x0);
        gbc.writeMem(0xd876, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x9c75, gbc.sp());
        EXPECT(0xd878, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd876));
        EXPECT(0x23, gbc.readMem(0xd877));
        // CB 23 03D7
        gbc.setState(0x4fdd, 0x539f, 0x74f0, 0xfd96, 0x235d, 0x2859, 0x1, 0x1);
        gbc.writeMem(0x4fdd, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x539f, gbc.sp());
        EXPECT(0x4fdf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03D8
        gbc.setState(0xec0b, 0x88e8, 0x2a20, 0x9b0f, 0xddc8, 0xddec, 0x1, 0x0);
        gbc.writeMem(0xec0b, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x88e8, gbc.sp());
        EXPECT(0xec0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec0b));
        EXPECT(0x23, gbc.readMem(0xec0c));
        // CB 23 03D9
        gbc.setState(0xa478, 0x95a5, 0x240, 0x4066, 0xd759, 0x3e68, 0x1, 0x1);
        gbc.writeMem(0xa478, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x95a5, gbc.sp());
        EXPECT(0xa47a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa478));
        EXPECT(0x23, gbc.readMem(0xa479));
        // CB 23 03DA
        gbc.setState(0x760f, 0x183b, 0x2230, 0x27b5, 0xae0c, 0xe122, 0x1, 0x1);
        gbc.writeMem(0x760f, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x183b, gbc.sp());
        EXPECT(0x7611, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03DB
        gbc.setState(0x3a10, 0x27bf, 0x19f0, 0xcceb, 0x21cf, 0x1f9d, 0x1, 0x1);
        gbc.writeMem(0x3a10, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x27bf, gbc.sp());
        EXPECT(0x3a12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03DC
        gbc.setState(0x4d7d, 0x2ec, 0x14e0, 0x2e2a, 0xfff5, 0xf3b1, 0x0, 0x1);
        gbc.writeMem(0x4d7d, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x2ec, gbc.sp());
        EXPECT(0x4d7f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03DD
        gbc.setState(0x40ec, 0xea98, 0x42b0, 0x6a24, 0xb83e, 0x6c0d, 0x0, 0x1);
        gbc.writeMem(0x40ec, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xea98, gbc.sp());
        EXPECT(0x40ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03DE
        gbc.setState(0xaa80, 0x9d58, 0x4480, 0x1e81, 0x41c3, 0x9c84, 0x1, 0x0);
        gbc.writeMem(0xaa80, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x9d58, gbc.sp());
        EXPECT(0xaa82, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa80));
        EXPECT(0x23, gbc.readMem(0xaa81));
        // CB 23 03DF
        gbc.setState(0xba84, 0xa352, 0x2e70, 0x1157, 0xd45b, 0x49bf, 0x0, 0x0);
        gbc.writeMem(0xba84, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0xa352, gbc.sp());
        EXPECT(0xba86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba84));
        EXPECT(0x23, gbc.readMem(0xba85));
        // CB 23 03E0
        gbc.setState(0xe7c7, 0xf73f, 0x91c0, 0xb270, 0x8190, 0xa49, 0x1, 0x0);
        gbc.writeMem(0xe7c7, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xf73f, gbc.sp());
        EXPECT(0xe7c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe7c7));
        EXPECT(0x23, gbc.readMem(0xe7c8));
        // CB 23 03E2
        gbc.setState(0x8759, 0xdf9e, 0x6d10, 0xbe1b, 0x6f90, 0x1a7c, 0x0, 0x1);
        gbc.writeMem(0x8759, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xdf9e, gbc.sp());
        EXPECT(0x875b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8759));
        EXPECT(0x23, gbc.readMem(0x875a));
        // CB 23 03E3
        gbc.setState(0x5505, 0x45de, 0x7250, 0xde98, 0x3180, 0x3dff, 0x1, 0x0);
        gbc.writeMem(0x5505, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x45de, gbc.sp());
        EXPECT(0x5507, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 23 03E4
        gbc.setState(0x6d42, 0x7062, 0x6ae0, 0xb4a2, 0xd937, 0x4e9, 0x1, 0x1);
        gbc.writeMem(0x6d42, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x7062, gbc.sp());
        EXPECT(0x6d44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03E5
        gbc.setState(0xce45, 0xf9cc, 0xdff0, 0xc0aa, 0xb51d, 0xd061, 0x1, 0x0);
        gbc.writeMem(0xce45, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xf9cc, gbc.sp());
        EXPECT(0xce47, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xce45));
        EXPECT(0x23, gbc.readMem(0xce46));
        // CB 23 03E6
        gbc.setState(0x1a0, 0x16eb, 0x4a70, 0x7200, 0xdd19, 0x40e4, 0x0, 0x1);
        gbc.writeMem(0x1a0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x16eb, gbc.sp());
        EXPECT(0x1a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 23 03E7
        gbc.setState(0xa1f0, 0x1c93, 0xa3e0, 0xad43, 0x7a1a, 0x46e6, 0x1, 0x0);
        gbc.writeMem(0xa1f0, { 0xcb, 0x23 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x1c93, gbc.sp());
        EXPECT(0xa1f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1f0));
        EXPECT(0x23, gbc.readMem(0xa1f1));
    }
