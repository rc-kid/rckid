#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_cb_94)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_cb_94) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 94 0000
        gbc.setState(0x5b00, 0x2b7f, 0x3ab0, 0x2d82, 0xa65e, 0x75c8, 0x0, 0x1);
        gbc.writeMem(0x5b00, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x2b7f);
        EXPECT(gbc.pc(), 0x5b02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0001
        gbc.setState(0x5f66, 0x326b, 0x35e0, 0xbdde, 0x39bf, 0x913b, 0x0, 0x0);
        gbc.writeMem(0x5f66, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x326b);
        EXPECT(gbc.pc(), 0x5f68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0002
        gbc.setState(0xb1e9, 0x3787, 0xc310, 0xcc25, 0xf5bc, 0x4b7e, 0x0, 0x0);
        gbc.writeMem(0xb1e9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x3787);
        EXPECT(gbc.pc(), 0xb1eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1e9), 0xcb);
        EXPECT(gbc.readMem(0xb1ea), 0x94);
        // CB 94 0003
        gbc.setState(0x29d9, 0x62de, 0xf9f0, 0x2270, 0x9095, 0xcb1, 0x1, 0x1);
        gbc.writeMem(0x29d9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x62de);
        EXPECT(gbc.pc(), 0x29db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0004
        gbc.setState(0x211, 0xfe59, 0xd7a0, 0xcd7, 0xd8d6, 0xc78b, 0x1, 0x0);
        gbc.writeMem(0x211, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xfe59);
        EXPECT(gbc.pc(), 0x213);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0005
        gbc.setState(0xb541, 0xb7b6, 0x5170, 0x71ed, 0xb718, 0xccc9, 0x1, 0x0);
        gbc.writeMem(0xb541, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xb7b6);
        EXPECT(gbc.pc(), 0xb543);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb541), 0xcb);
        EXPECT(gbc.readMem(0xb542), 0x94);
        // CB 94 0006
        gbc.setState(0x8961, 0x919e, 0xd370, 0x8167, 0x5d14, 0x7d15, 0x0, 0x0);
        gbc.writeMem(0x8961, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x919e);
        EXPECT(gbc.pc(), 0x8963);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8961), 0xcb);
        EXPECT(gbc.readMem(0x8962), 0x94);
        // CB 94 0007
        gbc.setState(0xad2b, 0xec38, 0xd830, 0x9b75, 0x5bdb, 0x859, 0x0, 0x0);
        gbc.writeMem(0xad2b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xec38);
        EXPECT(gbc.pc(), 0xad2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad2b), 0xcb);
        EXPECT(gbc.readMem(0xad2c), 0x94);
        // CB 94 0008
        gbc.setState(0x266, 0x4874, 0xbf60, 0x7b9f, 0x86cf, 0xcb26, 0x1, 0x1);
        gbc.writeMem(0x266, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x4874);
        EXPECT(gbc.pc(), 0x268);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0009
        gbc.setState(0x9b25, 0x8064, 0xb5c0, 0xd99, 0x155, 0x219a, 0x0, 0x1);
        gbc.writeMem(0x9b25, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x8064);
        EXPECT(gbc.pc(), 0x9b27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b25), 0xcb);
        EXPECT(gbc.readMem(0x9b26), 0x94);
        // CB 94 000A
        gbc.setState(0xbccb, 0x2c42, 0x92d0, 0xfeb7, 0xc795, 0xb2a0, 0x1, 0x1);
        gbc.writeMem(0xbccb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x2c42);
        EXPECT(gbc.pc(), 0xbccd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbccb), 0xcb);
        EXPECT(gbc.readMem(0xbccc), 0x94);
        // CB 94 000B
        gbc.setState(0x7cac, 0x882, 0x9b70, 0x7a0, 0xc4f2, 0xb530, 0x0, 0x1);
        gbc.writeMem(0x7cac, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x882);
        EXPECT(gbc.pc(), 0x7cae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 000C
        gbc.setState(0xb3f9, 0x78b2, 0x6820, 0xb1a3, 0xbef9, 0xe612, 0x0, 0x1);
        gbc.writeMem(0xb3f9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x78b2);
        EXPECT(gbc.pc(), 0xb3fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3f9), 0xcb);
        EXPECT(gbc.readMem(0xb3fa), 0x94);
        // CB 94 000D
        gbc.setState(0xe4f1, 0x6243, 0xc730, 0xdda9, 0xb930, 0xf11e, 0x1, 0x0);
        gbc.writeMem(0xe4f1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x6243);
        EXPECT(gbc.pc(), 0xe4f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4f1), 0xcb);
        EXPECT(gbc.readMem(0xe4f2), 0x94);
        // CB 94 000E
        gbc.setState(0x10ab, 0xa5e, 0x7420, 0x9bd2, 0xa1d2, 0x58f5, 0x0, 0x1);
        gbc.writeMem(0x10ab, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xa5e);
        EXPECT(gbc.pc(), 0x10ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 000F
        gbc.setState(0x4a93, 0x6d97, 0xf7b0, 0xeb54, 0x64a7, 0xab14, 0x0, 0x1);
        gbc.writeMem(0x4a93, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x6d97);
        EXPECT(gbc.pc(), 0x4a95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0010
        gbc.setState(0xc010, 0xa2a9, 0x69e0, 0x56, 0x2d52, 0x42ae, 0x1, 0x1);
        gbc.writeMem(0xc010, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xa2a9);
        EXPECT(gbc.pc(), 0xc012);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc010), 0xcb);
        EXPECT(gbc.readMem(0xc011), 0x94);
        // CB 94 0011
        gbc.setState(0x35f9, 0x461, 0x3530, 0x551a, 0x9f88, 0x5b80, 0x0, 0x0);
        gbc.writeMem(0x35f9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x461);
        EXPECT(gbc.pc(), 0x35fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0012
        gbc.setState(0x3a0f, 0xc922, 0x3320, 0x6be1, 0xb65b, 0x18b1, 0x0, 0x0);
        gbc.writeMem(0x3a0f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xc922);
        EXPECT(gbc.pc(), 0x3a11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0013
        gbc.setState(0x3fcb, 0xca53, 0x850, 0x4c65, 0xa74, 0x5976, 0x1, 0x0);
        gbc.writeMem(0x3fcb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xca53);
        EXPECT(gbc.pc(), 0x3fcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0014
        gbc.setState(0xaf68, 0x30d5, 0x12d0, 0x16b9, 0xc7b, 0x6951, 0x1, 0x0);
        gbc.writeMem(0xaf68, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x30d5);
        EXPECT(gbc.pc(), 0xaf6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf68), 0xcb);
        EXPECT(gbc.readMem(0xaf69), 0x94);
        // CB 94 0015
        gbc.setState(0x524d, 0x9961, 0x7e00, 0x1513, 0x6d90, 0x7247, 0x1, 0x1);
        gbc.writeMem(0x524d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x9961);
        EXPECT(gbc.pc(), 0x524f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0016
        gbc.setState(0xcf3b, 0xb30c, 0xcdc0, 0x4212, 0x49d7, 0x947c, 0x0, 0x0);
        gbc.writeMem(0xcf3b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xb30c);
        EXPECT(gbc.pc(), 0xcf3d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf3b), 0xcb);
        EXPECT(gbc.readMem(0xcf3c), 0x94);
        // CB 94 0017
        gbc.setState(0x7e8d, 0x3a61, 0x1e00, 0xda4b, 0xabd6, 0x7df2, 0x0, 0x0);
        gbc.writeMem(0x7e8d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x3a61);
        EXPECT(gbc.pc(), 0x7e8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0018
        gbc.setState(0x368f, 0x28d7, 0x22f0, 0x9961, 0x128, 0x6115, 0x0, 0x1);
        gbc.writeMem(0x368f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x28d7);
        EXPECT(gbc.pc(), 0x3691);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0019
        gbc.setState(0x42ee, 0x49d3, 0xed80, 0x5625, 0x97c5, 0x4596, 0x1, 0x1);
        gbc.writeMem(0x42ee, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x49d3);
        EXPECT(gbc.pc(), 0x42f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 001A
        gbc.setState(0xbb32, 0x99f5, 0xf670, 0x461d, 0x9e8, 0x39c9, 0x0, 0x1);
        gbc.writeMem(0xbb32, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x99f5);
        EXPECT(gbc.pc(), 0xbb34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb32), 0xcb);
        EXPECT(gbc.readMem(0xbb33), 0x94);
        // CB 94 001B
        gbc.setState(0x150e, 0xdcb1, 0xdc10, 0xdd68, 0x66e7, 0x8dcd, 0x1, 0x0);
        gbc.writeMem(0x150e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xdcb1);
        EXPECT(gbc.pc(), 0x1510);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 001C
        gbc.setState(0xd62b, 0x306f, 0x5b10, 0xe10c, 0x25ae, 0xdae1, 0x0, 0x1);
        gbc.writeMem(0xd62b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x306f);
        EXPECT(gbc.pc(), 0xd62d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd62b), 0xcb);
        EXPECT(gbc.readMem(0xd62c), 0x94);
        // CB 94 001D
        gbc.setState(0x7e5b, 0x52a2, 0x83f0, 0xfb68, 0xcda3, 0xe68a, 0x1, 0x1);
        gbc.writeMem(0x7e5b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x52a2);
        EXPECT(gbc.pc(), 0x7e5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 001E
        gbc.setState(0xa226, 0xa907, 0x2980, 0xc624, 0x9c9d, 0xf07, 0x1, 0x1);
        gbc.writeMem(0xa226, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xa907);
        EXPECT(gbc.pc(), 0xa228);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa226), 0xcb);
        EXPECT(gbc.readMem(0xa227), 0x94);
        // CB 94 001F
        gbc.setState(0x280b, 0x84d4, 0xe240, 0x6fa4, 0x1b2f, 0x3f2d, 0x0, 0x0);
        gbc.writeMem(0x280b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x84d4);
        EXPECT(gbc.pc(), 0x280d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0020
        gbc.setState(0xa24d, 0x7b03, 0xd540, 0x3f92, 0x9d73, 0x728, 0x0, 0x0);
        gbc.writeMem(0xa24d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x7b03);
        EXPECT(gbc.pc(), 0xa24f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa24d), 0xcb);
        EXPECT(gbc.readMem(0xa24e), 0x94);
        // CB 94 0021
        gbc.setState(0xdd35, 0xa8d3, 0x8370, 0xd880, 0x2c05, 0x5b0e, 0x1, 0x0);
        gbc.writeMem(0xdd35, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xa8d3);
        EXPECT(gbc.pc(), 0xdd37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd35), 0xcb);
        EXPECT(gbc.readMem(0xdd36), 0x94);
        // CB 94 0022
        gbc.setState(0xd979, 0x2417, 0xdc70, 0x2ed2, 0x993, 0x4d00, 0x0, 0x1);
        gbc.writeMem(0xd979, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x2417);
        EXPECT(gbc.pc(), 0xd97b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd979), 0xcb);
        EXPECT(gbc.readMem(0xd97a), 0x94);
        // CB 94 0023
        gbc.setState(0x5b5d, 0x5972, 0xe8b0, 0xb2d8, 0x6b34, 0x2aad, 0x1, 0x1);
        gbc.writeMem(0x5b5d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x5972);
        EXPECT(gbc.pc(), 0x5b5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0024
        gbc.setState(0x865c, 0x4c5a, 0x1e0, 0xe7b2, 0x17f9, 0x2a58, 0x1, 0x0);
        gbc.writeMem(0x865c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x4c5a);
        EXPECT(gbc.pc(), 0x865e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x865c), 0xcb);
        EXPECT(gbc.readMem(0x865d), 0x94);
        // CB 94 0025
        gbc.setState(0x374c, 0x68e7, 0x78d0, 0x6004, 0x5724, 0xc1ac, 0x1, 0x0);
        gbc.writeMem(0x374c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x68e7);
        EXPECT(gbc.pc(), 0x374e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0026
        gbc.setState(0xc8f5, 0x588d, 0xd1b0, 0xff90, 0xa138, 0xb4f4, 0x0, 0x1);
        gbc.writeMem(0xc8f5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x588d);
        EXPECT(gbc.pc(), 0xc8f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8f5), 0xcb);
        EXPECT(gbc.readMem(0xc8f6), 0x94);
        // CB 94 0027
        gbc.setState(0xe326, 0xba97, 0xdc50, 0x9cc7, 0x20b4, 0x178a, 0x0, 0x0);
        gbc.writeMem(0xe326, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xba97);
        EXPECT(gbc.pc(), 0xe328);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe326), 0xcb);
        EXPECT(gbc.readMem(0xe327), 0x94);
        // CB 94 0028
        gbc.setState(0xea4b, 0x90dd, 0x2420, 0x73a4, 0xdde9, 0x227d, 0x1, 0x0);
        gbc.writeMem(0xea4b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x90dd);
        EXPECT(gbc.pc(), 0xea4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea4b), 0xcb);
        EXPECT(gbc.readMem(0xea4c), 0x94);
        // CB 94 0029
        gbc.setState(0xd554, 0xb858, 0x9dc0, 0xe05a, 0x7f98, 0x3adb, 0x0, 0x0);
        gbc.writeMem(0xd554, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xb858);
        EXPECT(gbc.pc(), 0xd556);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd554), 0xcb);
        EXPECT(gbc.readMem(0xd555), 0x94);
        // CB 94 002A
        gbc.setState(0x246a, 0xa125, 0x91d0, 0x13fd, 0xc1e9, 0xa9e, 0x0, 0x1);
        gbc.writeMem(0x246a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xa125);
        EXPECT(gbc.pc(), 0x246c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 002B
        gbc.setState(0x327, 0x7114, 0x6b60, 0x135e, 0x9e71, 0x8814, 0x0, 0x0);
        gbc.writeMem(0x327, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x7114);
        EXPECT(gbc.pc(), 0x329);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 002C
        gbc.setState(0x1b62, 0x32b3, 0xaf0, 0xd86e, 0x4e47, 0x726e, 0x1, 0x1);
        gbc.writeMem(0x1b62, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x32b3);
        EXPECT(gbc.pc(), 0x1b64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 002D
        gbc.setState(0x1241, 0x36b, 0xbb90, 0x2a6, 0x474, 0xe75c, 0x1, 0x0);
        gbc.writeMem(0x1241, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x36b);
        EXPECT(gbc.pc(), 0x1243);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 002E
        gbc.setState(0x9b41, 0xee76, 0x38d0, 0xb096, 0x4ca, 0xede1, 0x1, 0x0);
        gbc.writeMem(0x9b41, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xee76);
        EXPECT(gbc.pc(), 0x9b43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b41), 0xcb);
        EXPECT(gbc.readMem(0x9b42), 0x94);
        // CB 94 002F
        gbc.setState(0x4b99, 0x49b9, 0x2a00, 0x3aa5, 0x57e5, 0x5af8, 0x0, 0x1);
        gbc.writeMem(0x4b99, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x49b9);
        EXPECT(gbc.pc(), 0x4b9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0030
        gbc.setState(0x1c68, 0x99e8, 0xc980, 0xae3, 0x94e, 0xd06d, 0x0, 0x0);
        gbc.writeMem(0x1c68, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x99e8);
        EXPECT(gbc.pc(), 0x1c6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0031
        gbc.setState(0x37e4, 0xed3a, 0x8090, 0x8e80, 0x434e, 0x88a0, 0x1, 0x0);
        gbc.writeMem(0x37e4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xed3a);
        EXPECT(gbc.pc(), 0x37e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0032
        gbc.setState(0x5a34, 0x4159, 0xd8a0, 0xb85f, 0x1765, 0x1aca, 0x0, 0x1);
        gbc.writeMem(0x5a34, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x4159);
        EXPECT(gbc.pc(), 0x5a36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0033
        gbc.setState(0x6bcf, 0x3739, 0x4740, 0x78d6, 0x7603, 0xb445, 0x1, 0x1);
        gbc.writeMem(0x6bcf, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x3739);
        EXPECT(gbc.pc(), 0x6bd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0034
        gbc.setState(0x4c21, 0x1a5e, 0xd280, 0xc99f, 0x9a77, 0x33b, 0x0, 0x1);
        gbc.writeMem(0x4c21, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x1a5e);
        EXPECT(gbc.pc(), 0x4c23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0035
        gbc.setState(0x185a, 0x458, 0x5e10, 0x3432, 0xeb70, 0x491a, 0x0, 0x1);
        gbc.writeMem(0x185a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x458);
        EXPECT(gbc.pc(), 0x185c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0036
        gbc.setState(0x5855, 0xf3be, 0xdc50, 0xcad8, 0x50cd, 0xe51c, 0x0, 0x1);
        gbc.writeMem(0x5855, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xf3be);
        EXPECT(gbc.pc(), 0x5857);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0037
        gbc.setState(0xc0ee, 0xed9e, 0xd7b0, 0x67e6, 0x9ae3, 0xb8dc, 0x1, 0x0);
        gbc.writeMem(0xc0ee, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xed9e);
        EXPECT(gbc.pc(), 0xc0f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0ee), 0xcb);
        EXPECT(gbc.readMem(0xc0ef), 0x94);
        // CB 94 0038
        gbc.setState(0x4604, 0xf469, 0xbe60, 0x6b19, 0x52a4, 0x9352, 0x0, 0x0);
        gbc.writeMem(0x4604, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xf469);
        EXPECT(gbc.pc(), 0x4606);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0039
        gbc.setState(0xab20, 0xb36, 0x3f20, 0x2b5, 0xa338, 0x7866, 0x1, 0x1);
        gbc.writeMem(0xab20, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xb36);
        EXPECT(gbc.pc(), 0xab22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab20), 0xcb);
        EXPECT(gbc.readMem(0xab21), 0x94);
        // CB 94 003A
        gbc.setState(0x9f73, 0x235a, 0xe8c0, 0x3c14, 0x2e39, 0x9e9a, 0x0, 0x1);
        gbc.writeMem(0x9f73, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x235a);
        EXPECT(gbc.pc(), 0x9f75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f73), 0xcb);
        EXPECT(gbc.readMem(0x9f74), 0x94);
        // CB 94 003B
        gbc.setState(0x6b2a, 0x91cc, 0xfa60, 0x6804, 0x52ac, 0xea02, 0x1, 0x0);
        gbc.writeMem(0x6b2a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x91cc);
        EXPECT(gbc.pc(), 0x6b2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 003C
        gbc.setState(0xa7d1, 0x4c47, 0xfae0, 0xb81b, 0x1c1a, 0xf254, 0x0, 0x1);
        gbc.writeMem(0xa7d1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x4c47);
        EXPECT(gbc.pc(), 0xa7d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7d1), 0xcb);
        EXPECT(gbc.readMem(0xa7d2), 0x94);
        // CB 94 003D
        gbc.setState(0x1413, 0xc9ad, 0x4d00, 0x9d8b, 0x3c5d, 0x39f, 0x1, 0x1);
        gbc.writeMem(0x1413, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xc9ad);
        EXPECT(gbc.pc(), 0x1415);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 003E
        gbc.setState(0xdea, 0x3410, 0x3050, 0x33a4, 0x3eb0, 0x8fdc, 0x1, 0x0);
        gbc.writeMem(0xdea, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x3410);
        EXPECT(gbc.pc(), 0xdec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 003F
        gbc.setState(0xb15c, 0x3288, 0xf7f0, 0xa691, 0xf2c1, 0x8add, 0x0, 0x1);
        gbc.writeMem(0xb15c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x3288);
        EXPECT(gbc.pc(), 0xb15e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb15c), 0xcb);
        EXPECT(gbc.readMem(0xb15d), 0x94);
        // CB 94 0040
        gbc.setState(0x821a, 0x1a2a, 0x25c0, 0xec80, 0x13be, 0x6fb0, 0x1, 0x1);
        gbc.writeMem(0x821a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x1a2a);
        EXPECT(gbc.pc(), 0x821c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x821a), 0xcb);
        EXPECT(gbc.readMem(0x821b), 0x94);
        // CB 94 0041
        gbc.setState(0xd3ea, 0x5b80, 0x3330, 0x50e1, 0xe420, 0xf52d, 0x0, 0x1);
        gbc.writeMem(0xd3ea, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x5b80);
        EXPECT(gbc.pc(), 0xd3ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd3ea), 0xcb);
        EXPECT(gbc.readMem(0xd3eb), 0x94);
        // CB 94 0042
        gbc.setState(0x14d8, 0x99d7, 0x16e0, 0x6c9c, 0x37d2, 0xe4ad, 0x1, 0x1);
        gbc.writeMem(0x14d8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x99d7);
        EXPECT(gbc.pc(), 0x14da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0043
        gbc.setState(0x9e88, 0x2b33, 0xd920, 0x6167, 0xb74b, 0xab0, 0x1, 0x1);
        gbc.writeMem(0x9e88, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x2b33);
        EXPECT(gbc.pc(), 0x9e8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e88), 0xcb);
        EXPECT(gbc.readMem(0x9e89), 0x94);
        // CB 94 0044
        gbc.setState(0xb9ef, 0xc7bb, 0xca30, 0xccbd, 0xafe, 0x5c1b, 0x0, 0x0);
        gbc.writeMem(0xb9ef, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xc7bb);
        EXPECT(gbc.pc(), 0xb9f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9ef), 0xcb);
        EXPECT(gbc.readMem(0xb9f0), 0x94);
        // CB 94 0045
        gbc.setState(0x8360, 0xb70d, 0xf0d0, 0xbcaf, 0x2241, 0xe65a, 0x0, 0x1);
        gbc.writeMem(0x8360, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xb70d);
        EXPECT(gbc.pc(), 0x8362);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8360), 0xcb);
        EXPECT(gbc.readMem(0x8361), 0x94);
        // CB 94 0047
        gbc.setState(0x281c, 0xd1d5, 0x1d20, 0x30b6, 0xb247, 0xca79, 0x1, 0x0);
        gbc.writeMem(0x281c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xd1d5);
        EXPECT(gbc.pc(), 0x281e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0048
        gbc.setState(0x581, 0x7df2, 0x5560, 0xb0b7, 0xe0b7, 0x81bd, 0x1, 0x1);
        gbc.writeMem(0x581, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x7df2);
        EXPECT(gbc.pc(), 0x583);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0049
        gbc.setState(0xc490, 0xd2f9, 0xf210, 0x6119, 0xa96d, 0xb573, 0x0, 0x1);
        gbc.writeMem(0xc490, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xd2f9);
        EXPECT(gbc.pc(), 0xc492);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc490), 0xcb);
        EXPECT(gbc.readMem(0xc491), 0x94);
        // CB 94 004A
        gbc.setState(0x1f1b, 0x176d, 0xdbd0, 0xd5c6, 0x50a8, 0x5530, 0x0, 0x1);
        gbc.writeMem(0x1f1b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x176d);
        EXPECT(gbc.pc(), 0x1f1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 004B
        gbc.setState(0xcc29, 0x3850, 0xb020, 0xe240, 0x6b0b, 0x4ffd, 0x0, 0x0);
        gbc.writeMem(0xcc29, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x3850);
        EXPECT(gbc.pc(), 0xcc2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc29), 0xcb);
        EXPECT(gbc.readMem(0xcc2a), 0x94);
        // CB 94 004C
        gbc.setState(0x1d1f, 0xdfeb, 0x65f0, 0x37bd, 0xffed, 0x6834, 0x1, 0x0);
        gbc.writeMem(0x1d1f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xdfeb);
        EXPECT(gbc.pc(), 0x1d21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 004D
        gbc.setState(0x1948, 0xc6e1, 0xba70, 0xdb2a, 0x90e0, 0x6af, 0x1, 0x1);
        gbc.writeMem(0x1948, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xc6e1);
        EXPECT(gbc.pc(), 0x194a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 004E
        gbc.setState(0x49ae, 0x25ca, 0xd9b0, 0x9062, 0x9fdb, 0x878f, 0x1, 0x1);
        gbc.writeMem(0x49ae, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x25ca);
        EXPECT(gbc.pc(), 0x49b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 004F
        gbc.setState(0xc1c6, 0x888c, 0x1740, 0x3684, 0x11be, 0x869d, 0x1, 0x0);
        gbc.writeMem(0xc1c6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x888c);
        EXPECT(gbc.pc(), 0xc1c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1c6), 0xcb);
        EXPECT(gbc.readMem(0xc1c7), 0x94);
        // CB 94 0050
        gbc.setState(0xe56f, 0x84d0, 0xc3d0, 0x4c88, 0x66d5, 0xa7e8, 0x0, 0x1);
        gbc.writeMem(0xe56f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x84d0);
        EXPECT(gbc.pc(), 0xe571);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe56f), 0xcb);
        EXPECT(gbc.readMem(0xe570), 0x94);
        // CB 94 0051
        gbc.setState(0x6ce8, 0x77ef, 0x8f30, 0x361b, 0x8683, 0xa32a, 0x0, 0x0);
        gbc.writeMem(0x6ce8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x77ef);
        EXPECT(gbc.pc(), 0x6cea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0052
        gbc.setState(0xeae9, 0xb186, 0x3040, 0x28ba, 0x2af3, 0x6d62, 0x1, 0x0);
        gbc.writeMem(0xeae9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xb186);
        EXPECT(gbc.pc(), 0xeaeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeae9), 0xcb);
        EXPECT(gbc.readMem(0xeaea), 0x94);
        // CB 94 0053
        gbc.setState(0xa11c, 0x3d08, 0x9530, 0x7f56, 0xaaac, 0x1749, 0x0, 0x0);
        gbc.writeMem(0xa11c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x3d08);
        EXPECT(gbc.pc(), 0xa11e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa11c), 0xcb);
        EXPECT(gbc.readMem(0xa11d), 0x94);
        // CB 94 0054
        gbc.setState(0xee30, 0x2885, 0xc4d0, 0x2d48, 0x61e1, 0xa1c8, 0x0, 0x0);
        gbc.writeMem(0xee30, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x2885);
        EXPECT(gbc.pc(), 0xee32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee30), 0xcb);
        EXPECT(gbc.readMem(0xee31), 0x94);
        // CB 94 0055
        gbc.setState(0xe677, 0xec4d, 0xc4d0, 0x7213, 0xa856, 0xce5c, 0x0, 0x1);
        gbc.writeMem(0xe677, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xec4d);
        EXPECT(gbc.pc(), 0xe679);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe677), 0xcb);
        EXPECT(gbc.readMem(0xe678), 0x94);
        // CB 94 0056
        gbc.setState(0xd235, 0x13c7, 0x2750, 0x982a, 0x35e6, 0x1491, 0x0, 0x0);
        gbc.writeMem(0xd235, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x13c7);
        EXPECT(gbc.pc(), 0xd237);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd235), 0xcb);
        EXPECT(gbc.readMem(0xd236), 0x94);
        // CB 94 0057
        gbc.setState(0x82bb, 0x26e9, 0xb4d0, 0x427d, 0x888, 0xf7da, 0x1, 0x1);
        gbc.writeMem(0x82bb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x26e9);
        EXPECT(gbc.pc(), 0x82bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82bb), 0xcb);
        EXPECT(gbc.readMem(0x82bc), 0x94);
        // CB 94 0058
        gbc.setState(0xa928, 0xceb4, 0x2900, 0x10f6, 0x52ee, 0xa1bd, 0x0, 0x0);
        gbc.writeMem(0xa928, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xceb4);
        EXPECT(gbc.pc(), 0xa92a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa928), 0xcb);
        EXPECT(gbc.readMem(0xa929), 0x94);
        // CB 94 0059
        gbc.setState(0xca5b, 0xbcc4, 0x56d0, 0xcebd, 0x25b8, 0x8c19, 0x1, 0x1);
        gbc.writeMem(0xca5b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xbcc4);
        EXPECT(gbc.pc(), 0xca5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca5b), 0xcb);
        EXPECT(gbc.readMem(0xca5c), 0x94);
        // CB 94 005A
        gbc.setState(0x42dd, 0x5722, 0xdd0, 0xe8a7, 0xb837, 0x28a3, 0x0, 0x1);
        gbc.writeMem(0x42dd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x5722);
        EXPECT(gbc.pc(), 0x42df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 005B
        gbc.setState(0x2878, 0x66b4, 0x8790, 0xbac8, 0x172, 0x7bd4, 0x1, 0x0);
        gbc.writeMem(0x2878, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x66b4);
        EXPECT(gbc.pc(), 0x287a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 005C
        gbc.setState(0xbcf0, 0xf8af, 0xf240, 0xfeb8, 0xe863, 0x421a, 0x1, 0x0);
        gbc.writeMem(0xbcf0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xf8af);
        EXPECT(gbc.pc(), 0xbcf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcf0), 0xcb);
        EXPECT(gbc.readMem(0xbcf1), 0x94);
        // CB 94 005E
        gbc.setState(0x65de, 0x9120, 0x1210, 0x152b, 0x3463, 0x5dfe, 0x0, 0x1);
        gbc.writeMem(0x65de, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x9120);
        EXPECT(gbc.pc(), 0x65e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0060
        gbc.setState(0x98f4, 0x7486, 0x6680, 0xfb4c, 0xb38f, 0xea36, 0x0, 0x0);
        gbc.writeMem(0x98f4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x7486);
        EXPECT(gbc.pc(), 0x98f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98f4), 0xcb);
        EXPECT(gbc.readMem(0x98f5), 0x94);
        // CB 94 0061
        gbc.setState(0x1e8d, 0x4b62, 0xe760, 0x4b90, 0xb069, 0x44cb, 0x0, 0x1);
        gbc.writeMem(0x1e8d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x4b62);
        EXPECT(gbc.pc(), 0x1e8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0062
        gbc.setState(0x34ad, 0xe876, 0x5440, 0x5050, 0x427c, 0x8f7e, 0x1, 0x0);
        gbc.writeMem(0x34ad, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xe876);
        EXPECT(gbc.pc(), 0x34af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0063
        gbc.setState(0x20b, 0x8aae, 0x7630, 0x67e1, 0xe83a, 0x7ad2, 0x1, 0x1);
        gbc.writeMem(0x20b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x8aae);
        EXPECT(gbc.pc(), 0x20d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0064
        gbc.setState(0xda17, 0xad9b, 0x4820, 0x5ed1, 0x4e9e, 0x8623, 0x1, 0x1);
        gbc.writeMem(0xda17, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xad9b);
        EXPECT(gbc.pc(), 0xda19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda17), 0xcb);
        EXPECT(gbc.readMem(0xda18), 0x94);
        // CB 94 0065
        gbc.setState(0x5994, 0x1d88, 0x67d0, 0x9431, 0xecfa, 0xd756, 0x0, 0x0);
        gbc.writeMem(0x5994, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x1d88);
        EXPECT(gbc.pc(), 0x5996);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0066
        gbc.setState(0xa9dd, 0x7392, 0x5df0, 0x1271, 0x720a, 0x5126, 0x1, 0x0);
        gbc.writeMem(0xa9dd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x7392);
        EXPECT(gbc.pc(), 0xa9df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9dd), 0xcb);
        EXPECT(gbc.readMem(0xa9de), 0x94);
        // CB 94 0067
        gbc.setState(0x5403, 0xa1d0, 0xe940, 0x6e0c, 0x8a5a, 0x6831, 0x1, 0x0);
        gbc.writeMem(0x5403, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xa1d0);
        EXPECT(gbc.pc(), 0x5405);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0068
        gbc.setState(0xdeee, 0x249b, 0x5210, 0x53b0, 0x4f87, 0x951e, 0x1, 0x1);
        gbc.writeMem(0xdeee, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x249b);
        EXPECT(gbc.pc(), 0xdef0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdeee), 0xcb);
        EXPECT(gbc.readMem(0xdeef), 0x94);
        // CB 94 0069
        gbc.setState(0x91e, 0xdd42, 0x7ec0, 0x9290, 0xfb97, 0x11a9, 0x0, 0x1);
        gbc.writeMem(0x91e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xdd42);
        EXPECT(gbc.pc(), 0x920);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 006A
        gbc.setState(0x5a56, 0x3843, 0x2d80, 0xc361, 0xeba0, 0x3728, 0x1, 0x0);
        gbc.writeMem(0x5a56, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x3843);
        EXPECT(gbc.pc(), 0x5a58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 006B
        gbc.setState(0x12f6, 0xa7cf, 0x9bf0, 0x4c93, 0x6d6e, 0xe455, 0x0, 0x1);
        gbc.writeMem(0x12f6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xa7cf);
        EXPECT(gbc.pc(), 0x12f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 006C
        gbc.setState(0xc48c, 0xe349, 0x870, 0x1c09, 0xe81e, 0x7535, 0x1, 0x1);
        gbc.writeMem(0xc48c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xe349);
        EXPECT(gbc.pc(), 0xc48e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc48c), 0xcb);
        EXPECT(gbc.readMem(0xc48d), 0x94);
        // CB 94 006D
        gbc.setState(0xd030, 0x4a46, 0x6140, 0x15a1, 0x798, 0x8864, 0x1, 0x1);
        gbc.writeMem(0xd030, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x4a46);
        EXPECT(gbc.pc(), 0xd032);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd030), 0xcb);
        EXPECT(gbc.readMem(0xd031), 0x94);
        // CB 94 006E
        gbc.setState(0x4825, 0x1606, 0x3f90, 0x61, 0x51a0, 0xba07, 0x1, 0x0);
        gbc.writeMem(0x4825, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x1606);
        EXPECT(gbc.pc(), 0x4827);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 006F
        gbc.setState(0xe88a, 0x4fca, 0xd630, 0xd176, 0xe86b, 0x939c, 0x1, 0x0);
        gbc.writeMem(0xe88a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x4fca);
        EXPECT(gbc.pc(), 0xe88c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe88a), 0xcb);
        EXPECT(gbc.readMem(0xe88b), 0x94);
        // CB 94 0071
        gbc.setState(0x7504, 0x88b9, 0x3110, 0x9cf8, 0xc1d2, 0xcfaa, 0x1, 0x0);
        gbc.writeMem(0x7504, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x88b9);
        EXPECT(gbc.pc(), 0x7506);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0072
        gbc.setState(0xc879, 0x3da9, 0x4740, 0x6167, 0xd24f, 0x5fb0, 0x1, 0x1);
        gbc.writeMem(0xc879, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x3da9);
        EXPECT(gbc.pc(), 0xc87b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc879), 0xcb);
        EXPECT(gbc.readMem(0xc87a), 0x94);
        // CB 94 0073
        gbc.setState(0x4737, 0x2b9, 0x1ee0, 0x9509, 0x2df, 0xfa76, 0x1, 0x1);
        gbc.writeMem(0x4737, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x2b9);
        EXPECT(gbc.pc(), 0x4739);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0074
        gbc.setState(0x7561, 0xafac, 0x42d0, 0x1133, 0xd5c5, 0x7eff, 0x1, 0x1);
        gbc.writeMem(0x7561, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xafac);
        EXPECT(gbc.pc(), 0x7563);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0075
        gbc.setState(0xa93c, 0x4473, 0x5b20, 0x77f4, 0x18ff, 0xb7de, 0x0, 0x1);
        gbc.writeMem(0xa93c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x4473);
        EXPECT(gbc.pc(), 0xa93e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa93c), 0xcb);
        EXPECT(gbc.readMem(0xa93d), 0x94);
        // CB 94 0076
        gbc.setState(0x3665, 0xf430, 0x5c90, 0xb876, 0x2458, 0xdaf, 0x0, 0x0);
        gbc.writeMem(0x3665, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xf430);
        EXPECT(gbc.pc(), 0x3667);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0077
        gbc.setState(0xcf1c, 0x54d8, 0x7890, 0xbb86, 0xaa58, 0x3d97, 0x1, 0x0);
        gbc.writeMem(0xcf1c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x54d8);
        EXPECT(gbc.pc(), 0xcf1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf1c), 0xcb);
        EXPECT(gbc.readMem(0xcf1d), 0x94);
        // CB 94 0078
        gbc.setState(0x368f, 0x9b53, 0xbd10, 0x6bf6, 0x7c4e, 0x3898, 0x1, 0x1);
        gbc.writeMem(0x368f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x9b53);
        EXPECT(gbc.pc(), 0x3691);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0079
        gbc.setState(0x1757, 0x8976, 0x6e80, 0xfac3, 0x517a, 0xd250, 0x1, 0x0);
        gbc.writeMem(0x1757, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x8976);
        EXPECT(gbc.pc(), 0x1759);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 007A
        gbc.setState(0x3d33, 0x9114, 0x7b60, 0x14da, 0xb83f, 0xa78c, 0x1, 0x1);
        gbc.writeMem(0x3d33, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x9114);
        EXPECT(gbc.pc(), 0x3d35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 007B
        gbc.setState(0xb7ac, 0x145d, 0xbbe0, 0xa9ed, 0x7da4, 0xb01f, 0x0, 0x0);
        gbc.writeMem(0xb7ac, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x145d);
        EXPECT(gbc.pc(), 0xb7ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7ac), 0xcb);
        EXPECT(gbc.readMem(0xb7ad), 0x94);
        // CB 94 007C
        gbc.setState(0x54ce, 0xb01f, 0x18a0, 0x8d76, 0x2099, 0x2439, 0x1, 0x0);
        gbc.writeMem(0x54ce, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xb01f);
        EXPECT(gbc.pc(), 0x54d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 007D
        gbc.setState(0xe302, 0xf922, 0x8400, 0x9d8f, 0x314e, 0xf306, 0x0, 0x0);
        gbc.writeMem(0xe302, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xf922);
        EXPECT(gbc.pc(), 0xe304);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe302), 0xcb);
        EXPECT(gbc.readMem(0xe303), 0x94);
        // CB 94 007E
        gbc.setState(0x95c5, 0xd76e, 0x3f80, 0x6de6, 0xb501, 0x709f, 0x1, 0x0);
        gbc.writeMem(0x95c5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xd76e);
        EXPECT(gbc.pc(), 0x95c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95c5), 0xcb);
        EXPECT(gbc.readMem(0x95c6), 0x94);
        // CB 94 007F
        gbc.setState(0x26be, 0xdf84, 0x4050, 0x389d, 0x4f7, 0x2044, 0x0, 0x0);
        gbc.writeMem(0x26be, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xdf84);
        EXPECT(gbc.pc(), 0x26c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0080
        gbc.setState(0xe3ca, 0x250c, 0xc550, 0x92f7, 0xa849, 0xe515, 0x0, 0x0);
        gbc.writeMem(0xe3ca, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x250c);
        EXPECT(gbc.pc(), 0xe3cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3ca), 0xcb);
        EXPECT(gbc.readMem(0xe3cb), 0x94);
        // CB 94 0081
        gbc.setState(0xa0dd, 0x7944, 0xa060, 0x7376, 0x2707, 0xa2ec, 0x1, 0x1);
        gbc.writeMem(0xa0dd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x7944);
        EXPECT(gbc.pc(), 0xa0df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0dd), 0xcb);
        EXPECT(gbc.readMem(0xa0de), 0x94);
        // CB 94 0082
        gbc.setState(0xec06, 0xf5f4, 0x7640, 0x5edc, 0xdf98, 0x56cd, 0x1, 0x0);
        gbc.writeMem(0xec06, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf5f4);
        EXPECT(gbc.pc(), 0xec08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec06), 0xcb);
        EXPECT(gbc.readMem(0xec07), 0x94);
        // CB 94 0083
        gbc.setState(0x6d6d, 0x2ce1, 0x960, 0x1943, 0x5c08, 0x1269, 0x0, 0x1);
        gbc.writeMem(0x6d6d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x2ce1);
        EXPECT(gbc.pc(), 0x6d6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0084
        gbc.setState(0x34b7, 0xea63, 0x7e70, 0xf8bb, 0xd38b, 0xb0ff, 0x0, 0x1);
        gbc.writeMem(0x34b7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xea63);
        EXPECT(gbc.pc(), 0x34b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0085
        gbc.setState(0x87cf, 0xee2d, 0x77b0, 0x37d2, 0xf993, 0x1f08, 0x1, 0x0);
        gbc.writeMem(0x87cf, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xee2d);
        EXPECT(gbc.pc(), 0x87d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87cf), 0xcb);
        EXPECT(gbc.readMem(0x87d0), 0x94);
        // CB 94 0087
        gbc.setState(0xa6a, 0x132e, 0x1bc0, 0x3569, 0xfee7, 0x7be3, 0x1, 0x0);
        gbc.writeMem(0xa6a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x132e);
        EXPECT(gbc.pc(), 0xa6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0088
        gbc.setState(0x108b, 0xcb58, 0x9830, 0x2a2f, 0x9dff, 0xa92d, 0x1, 0x1);
        gbc.writeMem(0x108b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xcb58);
        EXPECT(gbc.pc(), 0x108d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0089
        gbc.setState(0xc1ea, 0x710b, 0xf2a0, 0x5b90, 0x9f30, 0x776e, 0x1, 0x0);
        gbc.writeMem(0xc1ea, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x710b);
        EXPECT(gbc.pc(), 0xc1ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1ea), 0xcb);
        EXPECT(gbc.readMem(0xc1eb), 0x94);
        // CB 94 008A
        gbc.setState(0xa391, 0x320d, 0xe1a0, 0xf2e3, 0x9a8f, 0xc17e, 0x1, 0x1);
        gbc.writeMem(0xa391, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x320d);
        EXPECT(gbc.pc(), 0xa393);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa391), 0xcb);
        EXPECT(gbc.readMem(0xa392), 0x94);
        // CB 94 008B
        gbc.setState(0x2e1b, 0x8169, 0x67b0, 0x8f94, 0xb089, 0xa96, 0x0, 0x1);
        gbc.writeMem(0x2e1b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x8169);
        EXPECT(gbc.pc(), 0x2e1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 008C
        gbc.setState(0x27a6, 0xc89d, 0x1000, 0xe59d, 0x2cf9, 0x3119, 0x1, 0x1);
        gbc.writeMem(0x27a6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xc89d);
        EXPECT(gbc.pc(), 0x27a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 008D
        gbc.setState(0xe5a2, 0x8db, 0xa530, 0x6e24, 0x391e, 0x2a49, 0x0, 0x1);
        gbc.writeMem(0xe5a2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x8db);
        EXPECT(gbc.pc(), 0xe5a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5a2), 0xcb);
        EXPECT(gbc.readMem(0xe5a3), 0x94);
        // CB 94 008E
        gbc.setState(0xa508, 0x760e, 0xdc60, 0xa86, 0xeee, 0xa3a5, 0x0, 0x0);
        gbc.writeMem(0xa508, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x760e);
        EXPECT(gbc.pc(), 0xa50a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa508), 0xcb);
        EXPECT(gbc.readMem(0xa509), 0x94);
        // CB 94 008F
        gbc.setState(0x8f3, 0x5715, 0x3f20, 0xbd77, 0x6cd6, 0x301e, 0x0, 0x1);
        gbc.writeMem(0x8f3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x5715);
        EXPECT(gbc.pc(), 0x8f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0090
        gbc.setState(0x45b5, 0x56ed, 0x3f80, 0xe4d7, 0x70c8, 0xceed, 0x0, 0x1);
        gbc.writeMem(0x45b5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x56ed);
        EXPECT(gbc.pc(), 0x45b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0091
        gbc.setState(0x847d, 0xa019, 0xc90, 0x1412, 0xa1f6, 0x1885, 0x1, 0x1);
        gbc.writeMem(0x847d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xa019);
        EXPECT(gbc.pc(), 0x847f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x847d), 0xcb);
        EXPECT(gbc.readMem(0x847e), 0x94);
        // CB 94 0092
        gbc.setState(0x52a0, 0x6be1, 0x5b80, 0xc419, 0x50b8, 0x11b5, 0x0, 0x1);
        gbc.writeMem(0x52a0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x6be1);
        EXPECT(gbc.pc(), 0x52a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0093
        gbc.setState(0x41b1, 0xc9e, 0xdf30, 0x39a2, 0xcc0, 0xa139, 0x1, 0x0);
        gbc.writeMem(0x41b1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xc9e);
        EXPECT(gbc.pc(), 0x41b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0094
        gbc.setState(0xed2a, 0x37d6, 0x8e50, 0x4d12, 0x9aa9, 0xbf3, 0x1, 0x0);
        gbc.writeMem(0xed2a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x37d6);
        EXPECT(gbc.pc(), 0xed2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed2a), 0xcb);
        EXPECT(gbc.readMem(0xed2b), 0x94);
        // CB 94 0095
        gbc.setState(0xc661, 0x57cf, 0xb470, 0xab16, 0x8bd5, 0x66f0, 0x1, 0x1);
        gbc.writeMem(0xc661, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x57cf);
        EXPECT(gbc.pc(), 0xc663);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc661), 0xcb);
        EXPECT(gbc.readMem(0xc662), 0x94);
        // CB 94 0096
        gbc.setState(0x8834, 0xd6f2, 0x2af0, 0xbc67, 0x7033, 0x9d18, 0x1, 0x1);
        gbc.writeMem(0x8834, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xd6f2);
        EXPECT(gbc.pc(), 0x8836);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8834), 0xcb);
        EXPECT(gbc.readMem(0x8835), 0x94);
        // CB 94 0097
        gbc.setState(0xb6e5, 0x1adb, 0xc640, 0x659, 0xb3de, 0xd74b, 0x1, 0x0);
        gbc.writeMem(0xb6e5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x1adb);
        EXPECT(gbc.pc(), 0xb6e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6e5), 0xcb);
        EXPECT(gbc.readMem(0xb6e6), 0x94);
        // CB 94 0098
        gbc.setState(0x7dfc, 0x11d, 0x4420, 0xa705, 0x98a2, 0xf55c, 0x0, 0x1);
        gbc.writeMem(0x7dfc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x11d);
        EXPECT(gbc.pc(), 0x7dfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0099
        gbc.setState(0x7c3d, 0xb435, 0xeb90, 0x79e4, 0xf7d2, 0x252e, 0x0, 0x1);
        gbc.writeMem(0x7c3d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xb435);
        EXPECT(gbc.pc(), 0x7c3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 009A
        gbc.setState(0x3591, 0x339c, 0x57f0, 0x15f6, 0xf444, 0xcc2d, 0x0, 0x1);
        gbc.writeMem(0x3591, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x339c);
        EXPECT(gbc.pc(), 0x3593);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 009B
        gbc.setState(0x2fae, 0xbcf, 0xe1d0, 0x67f8, 0x5eaf, 0xcf5c, 0x0, 0x0);
        gbc.writeMem(0x2fae, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xbcf);
        EXPECT(gbc.pc(), 0x2fb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 009C
        gbc.setState(0xaf05, 0x9e34, 0x5620, 0x5dda, 0x501d, 0x8845, 0x1, 0x0);
        gbc.writeMem(0xaf05, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x9e34);
        EXPECT(gbc.pc(), 0xaf07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf05), 0xcb);
        EXPECT(gbc.readMem(0xaf06), 0x94);
        // CB 94 009D
        gbc.setState(0xe5cb, 0x2a08, 0xff70, 0xb12, 0x3e9a, 0xe66a, 0x1, 0x1);
        gbc.writeMem(0xe5cb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2a08);
        EXPECT(gbc.pc(), 0xe5cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5cb), 0xcb);
        EXPECT(gbc.readMem(0xe5cc), 0x94);
        // CB 94 009E
        gbc.setState(0x4387, 0x6669, 0xe2b0, 0xf42, 0xe4f3, 0xc233, 0x0, 0x1);
        gbc.writeMem(0x4387, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x6669);
        EXPECT(gbc.pc(), 0x4389);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 009F
        gbc.setState(0x2480, 0x542c, 0x4830, 0x56a4, 0x145f, 0xcb8d, 0x0, 0x0);
        gbc.writeMem(0x2480, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x542c);
        EXPECT(gbc.pc(), 0x2482);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00A0
        gbc.setState(0xade, 0xe3cb, 0xf100, 0x51eb, 0x8124, 0x32f9, 0x0, 0x0);
        gbc.writeMem(0xade, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xe3cb);
        EXPECT(gbc.pc(), 0xae0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00A1
        gbc.setState(0xb3f7, 0x5dbe, 0xef70, 0xf4f3, 0xb81e, 0xb8cb, 0x1, 0x0);
        gbc.writeMem(0xb3f7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x5dbe);
        EXPECT(gbc.pc(), 0xb3f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3f7), 0xcb);
        EXPECT(gbc.readMem(0xb3f8), 0x94);
        // CB 94 00A2
        gbc.setState(0xd853, 0x536e, 0x4400, 0xe251, 0x7423, 0xa289, 0x0, 0x0);
        gbc.writeMem(0xd853, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x536e);
        EXPECT(gbc.pc(), 0xd855);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd853), 0xcb);
        EXPECT(gbc.readMem(0xd854), 0x94);
        // CB 94 00A3
        gbc.setState(0x5c05, 0xed5d, 0xf030, 0x8b80, 0x1dc1, 0x139, 0x1, 0x1);
        gbc.writeMem(0x5c05, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xed5d);
        EXPECT(gbc.pc(), 0x5c07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00A4
        gbc.setState(0xe2b9, 0xd685, 0xf2a0, 0x48a8, 0x84b7, 0x73b0, 0x1, 0x1);
        gbc.writeMem(0xe2b9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xd685);
        EXPECT(gbc.pc(), 0xe2bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2b9), 0xcb);
        EXPECT(gbc.readMem(0xe2ba), 0x94);
        // CB 94 00A5
        gbc.setState(0x33d3, 0xc7f0, 0x1ba0, 0x26fe, 0x2e7d, 0x7cc2, 0x0, 0x0);
        gbc.writeMem(0x33d3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xc7f0);
        EXPECT(gbc.pc(), 0x33d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00A6
        gbc.setState(0x84ab, 0xae23, 0xa4e0, 0x3b, 0xd058, 0x944f, 0x1, 0x1);
        gbc.writeMem(0x84ab, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xae23);
        EXPECT(gbc.pc(), 0x84ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84ab), 0xcb);
        EXPECT(gbc.readMem(0x84ac), 0x94);
        // CB 94 00A7
        gbc.setState(0x23e3, 0x6cd0, 0x8720, 0xcf3a, 0x2617, 0x4314, 0x1, 0x1);
        gbc.writeMem(0x23e3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x6cd0);
        EXPECT(gbc.pc(), 0x23e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00A8
        gbc.setState(0x10da, 0x70fe, 0x9800, 0x374d, 0x3a47, 0xb2d4, 0x1, 0x1);
        gbc.writeMem(0x10da, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x70fe);
        EXPECT(gbc.pc(), 0x10dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00A9
        gbc.setState(0xdaad, 0x3ee0, 0x690, 0x99f7, 0x6ee0, 0x8ff3, 0x0, 0x0);
        gbc.writeMem(0xdaad, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x3ee0);
        EXPECT(gbc.pc(), 0xdaaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdaad), 0xcb);
        EXPECT(gbc.readMem(0xdaae), 0x94);
        // CB 94 00AA
        gbc.setState(0x3dcb, 0xb857, 0x4990, 0x5cec, 0x5fce, 0xf421, 0x0, 0x1);
        gbc.writeMem(0x3dcb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xb857);
        EXPECT(gbc.pc(), 0x3dcd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00AB
        gbc.setState(0x42f5, 0x1273, 0x5870, 0xe7bd, 0xcf83, 0xe463, 0x0, 0x0);
        gbc.writeMem(0x42f5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x1273);
        EXPECT(gbc.pc(), 0x42f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00AC
        gbc.setState(0x1d01, 0x9cb1, 0x2ee0, 0x92, 0x95af, 0x55b6, 0x1, 0x0);
        gbc.writeMem(0x1d01, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x9cb1);
        EXPECT(gbc.pc(), 0x1d03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00AD
        gbc.setState(0x436b, 0x8ea2, 0x19d0, 0xa1b4, 0xb302, 0xae63, 0x0, 0x1);
        gbc.writeMem(0x436b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x8ea2);
        EXPECT(gbc.pc(), 0x436d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00AE
        gbc.setState(0x2964, 0x602e, 0xe480, 0xaf54, 0x2af2, 0xe591, 0x1, 0x1);
        gbc.writeMem(0x2964, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x602e);
        EXPECT(gbc.pc(), 0x2966);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00AF
        gbc.setState(0x7ee9, 0x17f4, 0xf0b0, 0x8f03, 0x548, 0x265c, 0x0, 0x1);
        gbc.writeMem(0x7ee9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x17f4);
        EXPECT(gbc.pc(), 0x7eeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00B0
        gbc.setState(0x3dc7, 0xa4d1, 0x7a70, 0xe4c5, 0xdf7b, 0xae03, 0x0, 0x0);
        gbc.writeMem(0x3dc7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa4d1);
        EXPECT(gbc.pc(), 0x3dc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00B1
        gbc.setState(0xeb6, 0x37e2, 0xdb10, 0xcd5, 0x4858, 0x5cf5, 0x0, 0x1);
        gbc.writeMem(0xeb6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x37e2);
        EXPECT(gbc.pc(), 0xeb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00B2
        gbc.setState(0x9f9c, 0x964a, 0x6ec0, 0xb41a, 0xad2f, 0x4ec9, 0x0, 0x0);
        gbc.writeMem(0x9f9c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x964a);
        EXPECT(gbc.pc(), 0x9f9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f9c), 0xcb);
        EXPECT(gbc.readMem(0x9f9d), 0x94);
        // CB 94 00B3
        gbc.setState(0x1c0, 0xfd58, 0x9b70, 0xb83b, 0x7913, 0xb771, 0x1, 0x1);
        gbc.writeMem(0x1c0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xfd58);
        EXPECT(gbc.pc(), 0x1c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00B4
        gbc.setState(0xe3a1, 0x8fa1, 0x67e0, 0xc801, 0xfe3e, 0x2fce, 0x0, 0x0);
        gbc.writeMem(0xe3a1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x8fa1);
        EXPECT(gbc.pc(), 0xe3a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3a1), 0xcb);
        EXPECT(gbc.readMem(0xe3a2), 0x94);
        // CB 94 00B5
        gbc.setState(0xa81e, 0x65fa, 0xf700, 0x9a8c, 0x3d96, 0xd918, 0x0, 0x1);
        gbc.writeMem(0xa81e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x65fa);
        EXPECT(gbc.pc(), 0xa820);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa81e), 0xcb);
        EXPECT(gbc.readMem(0xa81f), 0x94);
        // CB 94 00B7
        gbc.setState(0x6790, 0x48e7, 0xaa30, 0xa643, 0x40e6, 0x212f, 0x1, 0x0);
        gbc.writeMem(0x6790, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x48e7);
        EXPECT(gbc.pc(), 0x6792);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00B8
        gbc.setState(0x867, 0x8a75, 0x90e0, 0xe0ba, 0xe171, 0x5954, 0x0, 0x0);
        gbc.writeMem(0x867, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x8a75);
        EXPECT(gbc.pc(), 0x869);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00B9
        gbc.setState(0x5c04, 0x4dfa, 0xfa40, 0x22a9, 0x5719, 0xb964, 0x1, 0x0);
        gbc.writeMem(0x5c04, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x4dfa);
        EXPECT(gbc.pc(), 0x5c06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00BA
        gbc.setState(0x11c, 0x6b50, 0xe170, 0x96e9, 0x64fb, 0x7358, 0x1, 0x0);
        gbc.writeMem(0x11c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x6b50);
        EXPECT(gbc.pc(), 0x11e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00BB
        gbc.setState(0xade7, 0xaed3, 0x1f60, 0x4839, 0x81a1, 0x2ac6, 0x1, 0x1);
        gbc.writeMem(0xade7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xaed3);
        EXPECT(gbc.pc(), 0xade9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xade7), 0xcb);
        EXPECT(gbc.readMem(0xade8), 0x94);
        // CB 94 00BC
        gbc.setState(0xba8c, 0xefed, 0xee60, 0x2028, 0x2cc8, 0xe752, 0x1, 0x1);
        gbc.writeMem(0xba8c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xefed);
        EXPECT(gbc.pc(), 0xba8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba8c), 0xcb);
        EXPECT(gbc.readMem(0xba8d), 0x94);
        // CB 94 00BD
        gbc.setState(0x690c, 0xb5c6, 0x32e0, 0x3305, 0x3ece, 0x660e, 0x1, 0x0);
        gbc.writeMem(0x690c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xb5c6);
        EXPECT(gbc.pc(), 0x690e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00BE
        gbc.setState(0x28e9, 0xbccb, 0x7e20, 0x7088, 0x95a3, 0xf453, 0x0, 0x1);
        gbc.writeMem(0x28e9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xbccb);
        EXPECT(gbc.pc(), 0x28eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00BF
        gbc.setState(0xe15a, 0x40c8, 0xdb80, 0xebcd, 0x27af, 0x4e3, 0x1, 0x1);
        gbc.writeMem(0xe15a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x40c8);
        EXPECT(gbc.pc(), 0xe15c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe15a), 0xcb);
        EXPECT(gbc.readMem(0xe15b), 0x94);
        // CB 94 00C0
        gbc.setState(0x66fc, 0x259a, 0x2030, 0xb916, 0xac95, 0x864c, 0x1, 0x1);
        gbc.writeMem(0x66fc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x259a);
        EXPECT(gbc.pc(), 0x66fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00C1
        gbc.setState(0x1dc8, 0xbb0a, 0xbc60, 0x4dd, 0x9e66, 0xb6b4, 0x1, 0x1);
        gbc.writeMem(0x1dc8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xbb0a);
        EXPECT(gbc.pc(), 0x1dca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00C3
        gbc.setState(0x4681, 0xbf29, 0x9f00, 0x48f7, 0x668b, 0x9335, 0x1, 0x1);
        gbc.writeMem(0x4681, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xbf29);
        EXPECT(gbc.pc(), 0x4683);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00C4
        gbc.setState(0xd0c8, 0x8f9f, 0xf2b0, 0xe6b4, 0x1654, 0xcfe9, 0x0, 0x1);
        gbc.writeMem(0xd0c8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x8f9f);
        EXPECT(gbc.pc(), 0xd0ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0c8), 0xcb);
        EXPECT(gbc.readMem(0xd0c9), 0x94);
        // CB 94 00C5
        gbc.setState(0xac83, 0xa06c, 0xb590, 0x9106, 0x6574, 0xff97, 0x1, 0x1);
        gbc.writeMem(0xac83, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa06c);
        EXPECT(gbc.pc(), 0xac85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac83), 0xcb);
        EXPECT(gbc.readMem(0xac84), 0x94);
        // CB 94 00C6
        gbc.setState(0x1a7f, 0xc824, 0x39a0, 0xf282, 0x8d5f, 0x81dc, 0x1, 0x0);
        gbc.writeMem(0x1a7f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xc824);
        EXPECT(gbc.pc(), 0x1a81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00C7
        gbc.setState(0x957b, 0x86d1, 0xfce0, 0x9df, 0xe2b4, 0xd99a, 0x1, 0x1);
        gbc.writeMem(0x957b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x86d1);
        EXPECT(gbc.pc(), 0x957d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x957b), 0xcb);
        EXPECT(gbc.readMem(0x957c), 0x94);
        // CB 94 00C8
        gbc.setState(0x4d03, 0x2d61, 0x2050, 0xe77d, 0x986f, 0x4a8d, 0x0, 0x0);
        gbc.writeMem(0x4d03, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x2d61);
        EXPECT(gbc.pc(), 0x4d05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00CA
        gbc.setState(0xd7f7, 0x2603, 0xe020, 0x774c, 0xd1a9, 0xe7a5, 0x0, 0x1);
        gbc.writeMem(0xd7f7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2603);
        EXPECT(gbc.pc(), 0xd7f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7f7), 0xcb);
        EXPECT(gbc.readMem(0xd7f8), 0x94);
        // CB 94 00CB
        gbc.setState(0xbebb, 0xc9d3, 0xe750, 0xad4a, 0x273b, 0x2e8e, 0x1, 0x1);
        gbc.writeMem(0xbebb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xc9d3);
        EXPECT(gbc.pc(), 0xbebd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbebb), 0xcb);
        EXPECT(gbc.readMem(0xbebc), 0x94);
        // CB 94 00CC
        gbc.setState(0x798e, 0x5674, 0xe940, 0x685e, 0x1833, 0x3a59, 0x1, 0x0);
        gbc.writeMem(0x798e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x5674);
        EXPECT(gbc.pc(), 0x7990);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00CD
        gbc.setState(0xe97, 0x887f, 0x93d0, 0x97bb, 0x2c7b, 0x98e8, 0x1, 0x0);
        gbc.writeMem(0xe97, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x887f);
        EXPECT(gbc.pc(), 0xe99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00CE
        gbc.setState(0x5b3d, 0x6dc2, 0x9aa0, 0x361d, 0x83a, 0x541e, 0x0, 0x1);
        gbc.writeMem(0x5b3d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x6dc2);
        EXPECT(gbc.pc(), 0x5b3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00CF
        gbc.setState(0x853e, 0xbf76, 0xe320, 0xc75f, 0xe82d, 0x1167, 0x0, 0x1);
        gbc.writeMem(0x853e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xbf76);
        EXPECT(gbc.pc(), 0x8540);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x853e), 0xcb);
        EXPECT(gbc.readMem(0x853f), 0x94);
        // CB 94 00D0
        gbc.setState(0x6284, 0xb550, 0x42c0, 0x3a83, 0xe2da, 0xc0a3, 0x1, 0x0);
        gbc.writeMem(0x6284, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xb550);
        EXPECT(gbc.pc(), 0x6286);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00D1
        gbc.setState(0xada6, 0x1fe6, 0xba10, 0xf79f, 0x5f13, 0xc5a4, 0x0, 0x1);
        gbc.writeMem(0xada6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x1fe6);
        EXPECT(gbc.pc(), 0xada8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xada6), 0xcb);
        EXPECT(gbc.readMem(0xada7), 0x94);
        // CB 94 00D2
        gbc.setState(0x90fe, 0x539e, 0x5b0, 0xfb38, 0x67cd, 0x78cd, 0x0, 0x0);
        gbc.writeMem(0x90fe, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x539e);
        EXPECT(gbc.pc(), 0x9100);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90fe), 0xcb);
        EXPECT(gbc.readMem(0x90ff), 0x94);
        // CB 94 00D3
        gbc.setState(0xe86a, 0x9ce3, 0xe0e0, 0xd775, 0x95a8, 0xac18, 0x1, 0x1);
        gbc.writeMem(0xe86a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x9ce3);
        EXPECT(gbc.pc(), 0xe86c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe86a), 0xcb);
        EXPECT(gbc.readMem(0xe86b), 0x94);
        // CB 94 00D4
        gbc.setState(0xaf76, 0xcbc0, 0x6230, 0x7d9c, 0xf3e8, 0xa82e, 0x0, 0x1);
        gbc.writeMem(0xaf76, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xcbc0);
        EXPECT(gbc.pc(), 0xaf78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf76), 0xcb);
        EXPECT(gbc.readMem(0xaf77), 0x94);
        // CB 94 00D5
        gbc.setState(0x33f8, 0x468a, 0x4d80, 0x3a9d, 0xa02, 0xaf90, 0x0, 0x1);
        gbc.writeMem(0x33f8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x468a);
        EXPECT(gbc.pc(), 0x33fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00D6
        gbc.setState(0x4f8f, 0x7c66, 0xb350, 0x795f, 0xf42, 0x8190, 0x0, 0x0);
        gbc.writeMem(0x4f8f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x7c66);
        EXPECT(gbc.pc(), 0x4f91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00D7
        gbc.setState(0x2947, 0x4fc6, 0xb4c0, 0x29b1, 0xea3d, 0x3261, 0x1, 0x1);
        gbc.writeMem(0x2947, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x4fc6);
        EXPECT(gbc.pc(), 0x2949);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00D8
        gbc.setState(0x3a2c, 0xc07, 0x4820, 0xb686, 0xb351, 0x56a2, 0x0, 0x0);
        gbc.writeMem(0x3a2c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xc07);
        EXPECT(gbc.pc(), 0x3a2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00D9
        gbc.setState(0xadff, 0x7571, 0x54a0, 0x721a, 0x22fb, 0xeec, 0x0, 0x1);
        gbc.writeMem(0xadff, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x7571);
        EXPECT(gbc.pc(), 0xae01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadff), 0xcb);
        EXPECT(gbc.readMem(0xae00), 0x94);
        // CB 94 00DA
        gbc.setState(0x5531, 0xc16, 0xf700, 0x4b8e, 0x8f3a, 0x38ac, 0x1, 0x0);
        gbc.writeMem(0x5531, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc16);
        EXPECT(gbc.pc(), 0x5533);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00DC
        gbc.setState(0xb96f, 0xc871, 0x3ee0, 0x5701, 0xdc4f, 0x30b8, 0x1, 0x1);
        gbc.writeMem(0xb96f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xc871);
        EXPECT(gbc.pc(), 0xb971);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb96f), 0xcb);
        EXPECT(gbc.readMem(0xb970), 0x94);
        // CB 94 00DD
        gbc.setState(0x6cf7, 0xec97, 0x79a0, 0x599b, 0x6ed1, 0x72d4, 0x0, 0x1);
        gbc.writeMem(0x6cf7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xec97);
        EXPECT(gbc.pc(), 0x6cf9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00DE
        gbc.setState(0x9d9b, 0x3b0a, 0x5720, 0x6050, 0xe753, 0x8f41, 0x1, 0x1);
        gbc.writeMem(0x9d9b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x3b0a);
        EXPECT(gbc.pc(), 0x9d9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d9b), 0xcb);
        EXPECT(gbc.readMem(0x9d9c), 0x94);
        // CB 94 00DF
        gbc.setState(0x7f2d, 0x8de8, 0x97b0, 0x5a45, 0x44a7, 0x1164, 0x0, 0x1);
        gbc.writeMem(0x7f2d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x8de8);
        EXPECT(gbc.pc(), 0x7f2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00E0
        gbc.setState(0xb148, 0x801e, 0xb640, 0x4cb2, 0xdc0, 0xe8f, 0x1, 0x0);
        gbc.writeMem(0xb148, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x801e);
        EXPECT(gbc.pc(), 0xb14a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb148), 0xcb);
        EXPECT(gbc.readMem(0xb149), 0x94);
        // CB 94 00E1
        gbc.setState(0x1075, 0x2f52, 0x32b0, 0x5403, 0xe14c, 0x1dc4, 0x1, 0x1);
        gbc.writeMem(0x1075, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2f52);
        EXPECT(gbc.pc(), 0x1077);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00E2
        gbc.setState(0x4228, 0xf8c0, 0xd7c0, 0xb82, 0xd801, 0xb5b3, 0x1, 0x0);
        gbc.writeMem(0x4228, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xf8c0);
        EXPECT(gbc.pc(), 0x422a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00E3
        gbc.setState(0x2cc0, 0x6a49, 0x1af0, 0x7f28, 0xd1c9, 0x4103, 0x1, 0x1);
        gbc.writeMem(0x2cc0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x6a49);
        EXPECT(gbc.pc(), 0x2cc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00E4
        gbc.setState(0xe4c9, 0x9121, 0x570, 0x863d, 0x81a7, 0x3fcc, 0x1, 0x1);
        gbc.writeMem(0xe4c9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x9121);
        EXPECT(gbc.pc(), 0xe4cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4c9), 0xcb);
        EXPECT(gbc.readMem(0xe4ca), 0x94);
        // CB 94 00E5
        gbc.setState(0x87ae, 0x9286, 0x4e0, 0x6db1, 0x5ac8, 0xba1f, 0x0, 0x1);
        gbc.writeMem(0x87ae, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x9286);
        EXPECT(gbc.pc(), 0x87b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87ae), 0xcb);
        EXPECT(gbc.readMem(0x87af), 0x94);
        // CB 94 00E6
        gbc.setState(0x2a56, 0x81d0, 0xd300, 0xe582, 0xfa31, 0x2577, 0x0, 0x0);
        gbc.writeMem(0x2a56, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x81d0);
        EXPECT(gbc.pc(), 0x2a58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00E7
        gbc.setState(0x4f6c, 0x2da8, 0xfd20, 0xc61c, 0x1d70, 0xbcbd, 0x1, 0x0);
        gbc.writeMem(0x4f6c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x2da8);
        EXPECT(gbc.pc(), 0x4f6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00E8
        gbc.setState(0x2db2, 0x799b, 0x8ea0, 0x4a1b, 0x28e8, 0x8631, 0x1, 0x1);
        gbc.writeMem(0x2db2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x799b);
        EXPECT(gbc.pc(), 0x2db4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00E9
        gbc.setState(0x50a8, 0xc900, 0xe1c0, 0xc370, 0x9e51, 0x13af, 0x0, 0x1);
        gbc.writeMem(0x50a8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xc900);
        EXPECT(gbc.pc(), 0x50aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00EA
        gbc.setState(0xeb97, 0x2ab2, 0xcfb0, 0xcf5b, 0x1ec5, 0x86ac, 0x0, 0x1);
        gbc.writeMem(0xeb97, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x2ab2);
        EXPECT(gbc.pc(), 0xeb99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb97), 0xcb);
        EXPECT(gbc.readMem(0xeb98), 0x94);
        // CB 94 00EB
        gbc.setState(0xd5d3, 0xefc9, 0x7110, 0x7ed4, 0x3de6, 0xb7c, 0x1, 0x0);
        gbc.writeMem(0xd5d3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xefc9);
        EXPECT(gbc.pc(), 0xd5d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5d3), 0xcb);
        EXPECT(gbc.readMem(0xd5d4), 0x94);
        // CB 94 00EC
        gbc.setState(0xb3a8, 0xdcea, 0x1260, 0x5881, 0x9a1a, 0x74e5, 0x1, 0x0);
        gbc.writeMem(0xb3a8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xdcea);
        EXPECT(gbc.pc(), 0xb3aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3a8), 0xcb);
        EXPECT(gbc.readMem(0xb3a9), 0x94);
        // CB 94 00ED
        gbc.setState(0x704e, 0x5884, 0x17e0, 0x31e4, 0x7c91, 0x5f02, 0x0, 0x1);
        gbc.writeMem(0x704e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x5884);
        EXPECT(gbc.pc(), 0x7050);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00EE
        gbc.setState(0x1f16, 0xf6b0, 0xf2c0, 0x4ecd, 0x8a7b, 0xba4e, 0x0, 0x0);
        gbc.writeMem(0x1f16, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xf6b0);
        EXPECT(gbc.pc(), 0x1f18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00EF
        gbc.setState(0xdb25, 0x2fe2, 0xd120, 0xe6d4, 0x3888, 0xf7a9, 0x1, 0x1);
        gbc.writeMem(0xdb25, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x2fe2);
        EXPECT(gbc.pc(), 0xdb27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb25), 0xcb);
        EXPECT(gbc.readMem(0xdb26), 0x94);
        // CB 94 00F0
        gbc.setState(0x75a2, 0x891d, 0xd410, 0x2895, 0x7fd3, 0x9fe2, 0x1, 0x1);
        gbc.writeMem(0x75a2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x891d);
        EXPECT(gbc.pc(), 0x75a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00F1
        gbc.setState(0x2a4e, 0x4e9a, 0xe6f0, 0xf7bd, 0xfc96, 0xf96f, 0x1, 0x1);
        gbc.writeMem(0x2a4e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x4e9a);
        EXPECT(gbc.pc(), 0x2a50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00F2
        gbc.setState(0x21d6, 0xfb4d, 0xb0c0, 0x43ad, 0xc01e, 0x8db2, 0x1, 0x0);
        gbc.writeMem(0x21d6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xfb4d);
        EXPECT(gbc.pc(), 0x21d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00F3
        gbc.setState(0xe3eb, 0x4bed, 0x11b0, 0x4ce, 0x4ca1, 0xd184, 0x1, 0x0);
        gbc.writeMem(0xe3eb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x4bed);
        EXPECT(gbc.pc(), 0xe3ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3eb), 0xcb);
        EXPECT(gbc.readMem(0xe3ec), 0x94);
        // CB 94 00F4
        gbc.setState(0xe6b7, 0x2a00, 0x8100, 0xc54e, 0x433e, 0xf784, 0x1, 0x0);
        gbc.writeMem(0xe6b7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x2a00);
        EXPECT(gbc.pc(), 0xe6b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6b7), 0xcb);
        EXPECT(gbc.readMem(0xe6b8), 0x94);
        // CB 94 00F5
        gbc.setState(0x5af0, 0x2e21, 0xc290, 0x2f22, 0x1a73, 0x510c, 0x1, 0x1);
        gbc.writeMem(0x5af0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x2e21);
        EXPECT(gbc.pc(), 0x5af2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00F6
        gbc.setState(0xd225, 0xcfbe, 0xb4f0, 0xa3aa, 0xf7d9, 0x8fa0, 0x0, 0x0);
        gbc.writeMem(0xd225, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xcfbe);
        EXPECT(gbc.pc(), 0xd227);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd225), 0xcb);
        EXPECT(gbc.readMem(0xd226), 0x94);
        // CB 94 00F7
        gbc.setState(0xdde9, 0x6d5e, 0x7290, 0x2ed1, 0xa38b, 0xd7b, 0x0, 0x0);
        gbc.writeMem(0xdde9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x6d5e);
        EXPECT(gbc.pc(), 0xddeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdde9), 0xcb);
        EXPECT(gbc.readMem(0xddea), 0x94);
        // CB 94 00F8
        gbc.setState(0xa7f2, 0x6bf7, 0x4dc0, 0x4dd7, 0x2859, 0xf593, 0x1, 0x0);
        gbc.writeMem(0xa7f2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x6bf7);
        EXPECT(gbc.pc(), 0xa7f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7f2), 0xcb);
        EXPECT(gbc.readMem(0xa7f3), 0x94);
        // CB 94 00F9
        gbc.setState(0x65ef, 0xceb3, 0xf1c0, 0x9b2c, 0x9afa, 0xf581, 0x1, 0x1);
        gbc.writeMem(0x65ef, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xceb3);
        EXPECT(gbc.pc(), 0x65f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00FB
        gbc.setState(0x319d, 0x9f29, 0xe560, 0xcd75, 0x5254, 0xaeac, 0x1, 0x0);
        gbc.writeMem(0x319d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x9f29);
        EXPECT(gbc.pc(), 0x319f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00FC
        gbc.setState(0xd39a, 0x7952, 0x8880, 0xc658, 0x7aff, 0xea7, 0x0, 0x0);
        gbc.writeMem(0xd39a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x7952);
        EXPECT(gbc.pc(), 0xd39c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd39a), 0xcb);
        EXPECT(gbc.readMem(0xd39b), 0x94);
        // CB 94 00FD
        gbc.setState(0x57ca, 0xea15, 0x3c30, 0x55b8, 0x4a0f, 0x6a7c, 0x0, 0x1);
        gbc.writeMem(0x57ca, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xea15);
        EXPECT(gbc.pc(), 0x57cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 00FE
        gbc.setState(0x7b7f, 0x335, 0xb960, 0x5d00, 0xf541, 0xf9c, 0x0, 0x1);
        gbc.writeMem(0x7b7f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x335);
        EXPECT(gbc.pc(), 0x7b81);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 00FF
        gbc.setState(0xe9e0, 0x7c81, 0x4ca0, 0x7fe8, 0x5fb6, 0xd653, 0x1, 0x1);
        gbc.writeMem(0xe9e0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7c81);
        EXPECT(gbc.pc(), 0xe9e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9e0), 0xcb);
        EXPECT(gbc.readMem(0xe9e1), 0x94);
        // CB 94 0100
        gbc.setState(0x9b34, 0xf183, 0x99d0, 0x9b7, 0xced6, 0xfbc0, 0x0, 0x1);
        gbc.writeMem(0x9b34, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xf183);
        EXPECT(gbc.pc(), 0x9b36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b34), 0xcb);
        EXPECT(gbc.readMem(0x9b35), 0x94);
        // CB 94 0101
        gbc.setState(0xb1cc, 0x8cc6, 0x21a0, 0xb5e1, 0x41ab, 0xb6c3, 0x0, 0x1);
        gbc.writeMem(0xb1cc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x8cc6);
        EXPECT(gbc.pc(), 0xb1ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1cc), 0xcb);
        EXPECT(gbc.readMem(0xb1cd), 0x94);
        // CB 94 0102
        gbc.setState(0xc751, 0x669c, 0xe730, 0x78, 0xa321, 0xf9, 0x1, 0x1);
        gbc.writeMem(0xc751, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x669c);
        EXPECT(gbc.pc(), 0xc753);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc751), 0xcb);
        EXPECT(gbc.readMem(0xc752), 0x94);
        // CB 94 0103
        gbc.setState(0x9332, 0x7c90, 0x3870, 0xde54, 0xec22, 0x8432, 0x1, 0x1);
        gbc.writeMem(0x9332, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7c90);
        EXPECT(gbc.pc(), 0x9334);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9332), 0xcb);
        EXPECT(gbc.readMem(0x9333), 0x94);
        // CB 94 0104
        gbc.setState(0x8260, 0x3c50, 0x52c0, 0x638b, 0x7fa8, 0x85f4, 0x0, 0x1);
        gbc.writeMem(0x8260, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x3c50);
        EXPECT(gbc.pc(), 0x8262);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8260), 0xcb);
        EXPECT(gbc.readMem(0x8261), 0x94);
        // CB 94 0105
        gbc.setState(0xca99, 0x62fe, 0x9070, 0xbabf, 0x6ea4, 0xc7fb, 0x0, 0x1);
        gbc.writeMem(0xca99, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x62fe);
        EXPECT(gbc.pc(), 0xca9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca99), 0xcb);
        EXPECT(gbc.readMem(0xca9a), 0x94);
        // CB 94 0106
        gbc.setState(0x3d25, 0x97d0, 0xd120, 0x142e, 0x2e31, 0x8e99, 0x1, 0x1);
        gbc.writeMem(0x3d25, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x97d0);
        EXPECT(gbc.pc(), 0x3d27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0107
        gbc.setState(0x170e, 0x8f32, 0x6250, 0xff48, 0x44e8, 0x9f18, 0x1, 0x1);
        gbc.writeMem(0x170e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x8f32);
        EXPECT(gbc.pc(), 0x1710);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0108
        gbc.setState(0x6f54, 0xc588, 0x4f40, 0xd787, 0x8cd3, 0x958f, 0x0, 0x1);
        gbc.writeMem(0x6f54, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xc588);
        EXPECT(gbc.pc(), 0x6f56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0109
        gbc.setState(0xd5e0, 0x9301, 0x6f90, 0x3902, 0xc017, 0xf290, 0x1, 0x1);
        gbc.writeMem(0xd5e0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x9301);
        EXPECT(gbc.pc(), 0xd5e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5e0), 0xcb);
        EXPECT(gbc.readMem(0xd5e1), 0x94);
        // CB 94 010A
        gbc.setState(0x179c, 0x3739, 0x3320, 0x6a77, 0xaff7, 0xca8c, 0x0, 0x0);
        gbc.writeMem(0x179c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x3739);
        EXPECT(gbc.pc(), 0x179e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 010B
        gbc.setState(0x9484, 0x6fea, 0x7e40, 0x30e7, 0x218f, 0x317c, 0x1, 0x0);
        gbc.writeMem(0x9484, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x6fea);
        EXPECT(gbc.pc(), 0x9486);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9484), 0xcb);
        EXPECT(gbc.readMem(0x9485), 0x94);
        // CB 94 010C
        gbc.setState(0x6c7, 0x84df, 0xa330, 0xeb66, 0xe96e, 0xbd9, 0x1, 0x0);
        gbc.writeMem(0x6c7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x84df);
        EXPECT(gbc.pc(), 0x6c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 010D
        gbc.setState(0x3303, 0x3c42, 0x2620, 0x442a, 0xdd49, 0xf5f9, 0x1, 0x1);
        gbc.writeMem(0x3303, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x3c42);
        EXPECT(gbc.pc(), 0x3305);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 010E
        gbc.setState(0x780c, 0xbbc0, 0xff60, 0x32eb, 0x96c5, 0xba68, 0x0, 0x1);
        gbc.writeMem(0x780c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xbbc0);
        EXPECT(gbc.pc(), 0x780e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 010F
        gbc.setState(0xcabf, 0x1134, 0xbf00, 0x9bf4, 0xaae2, 0xd0d, 0x0, 0x0);
        gbc.writeMem(0xcabf, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x1134);
        EXPECT(gbc.pc(), 0xcac1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcabf), 0xcb);
        EXPECT(gbc.readMem(0xcac0), 0x94);
        // CB 94 0110
        gbc.setState(0x3a4e, 0xec8f, 0xc320, 0x9bd4, 0xc0d4, 0x7c8, 0x1, 0x1);
        gbc.writeMem(0x3a4e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xec8f);
        EXPECT(gbc.pc(), 0x3a50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0111
        gbc.setState(0xed3a, 0x76c1, 0x9f20, 0x67e6, 0x4d38, 0x7836, 0x1, 0x1);
        gbc.writeMem(0xed3a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x76c1);
        EXPECT(gbc.pc(), 0xed3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed3a), 0xcb);
        EXPECT(gbc.readMem(0xed3b), 0x94);
        // CB 94 0112
        gbc.setState(0x7718, 0xd853, 0xe5f0, 0x3e6e, 0xe753, 0x6b6, 0x1, 0x1);
        gbc.writeMem(0x7718, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xd853);
        EXPECT(gbc.pc(), 0x771a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0113
        gbc.setState(0xa24f, 0x2b01, 0xb00, 0x56c5, 0x2fd1, 0xb76a, 0x1, 0x1);
        gbc.writeMem(0xa24f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2b01);
        EXPECT(gbc.pc(), 0xa251);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa24f), 0xcb);
        EXPECT(gbc.readMem(0xa250), 0x94);
        // CB 94 0114
        gbc.setState(0x54ae, 0x924f, 0x5600, 0x775e, 0x4b97, 0xb377, 0x1, 0x1);
        gbc.writeMem(0x54ae, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x924f);
        EXPECT(gbc.pc(), 0x54b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0115
        gbc.setState(0x857c, 0xf56d, 0xb9d0, 0xc616, 0x5b60, 0x76d0, 0x0, 0x1);
        gbc.writeMem(0x857c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xf56d);
        EXPECT(gbc.pc(), 0x857e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x857c), 0xcb);
        EXPECT(gbc.readMem(0x857d), 0x94);
        // CB 94 0116
        gbc.setState(0xbb27, 0x779, 0x4270, 0xd0b7, 0xbf62, 0x6921, 0x1, 0x0);
        gbc.writeMem(0xbb27, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x779);
        EXPECT(gbc.pc(), 0xbb29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb27), 0xcb);
        EXPECT(gbc.readMem(0xbb28), 0x94);
        // CB 94 0117
        gbc.setState(0x2804, 0x7cd8, 0x6490, 0xa05e, 0x79b5, 0xfe6f, 0x1, 0x1);
        gbc.writeMem(0x2804, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x7cd8);
        EXPECT(gbc.pc(), 0x2806);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0118
        gbc.setState(0x9866, 0x19ce, 0x9360, 0xca47, 0x895b, 0x6c4d, 0x0, 0x1);
        gbc.writeMem(0x9866, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x19ce);
        EXPECT(gbc.pc(), 0x9868);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9866), 0xcb);
        EXPECT(gbc.readMem(0x9867), 0x94);
        // CB 94 0119
        gbc.setState(0x700e, 0xc51c, 0x8e70, 0xbc7b, 0x6f79, 0x1cb3, 0x1, 0x1);
        gbc.writeMem(0x700e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xc51c);
        EXPECT(gbc.pc(), 0x7010);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 011A
        gbc.setState(0x92cc, 0x42d3, 0x5e10, 0xac4a, 0x1488, 0x60e4, 0x0, 0x1);
        gbc.writeMem(0x92cc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x42d3);
        EXPECT(gbc.pc(), 0x92ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92cc), 0xcb);
        EXPECT(gbc.readMem(0x92cd), 0x94);
        // CB 94 011B
        gbc.setState(0x7217, 0x6a02, 0x8a0, 0x2a12, 0x3fe2, 0x2173, 0x0, 0x0);
        gbc.writeMem(0x7217, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x6a02);
        EXPECT(gbc.pc(), 0x7219);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 011C
        gbc.setState(0xd95e, 0x45cd, 0x33c0, 0x5dd0, 0xbe1b, 0xa2c6, 0x1, 0x0);
        gbc.writeMem(0xd95e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x45cd);
        EXPECT(gbc.pc(), 0xd960);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd95e), 0xcb);
        EXPECT(gbc.readMem(0xd95f), 0x94);
        // CB 94 011D
        gbc.setState(0x3dcd, 0x3131, 0x2aa0, 0x9be1, 0x8aa9, 0xf29f, 0x1, 0x1);
        gbc.writeMem(0x3dcd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x3131);
        EXPECT(gbc.pc(), 0x3dcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 011E
        gbc.setState(0x733b, 0xef7c, 0xde00, 0xcd6c, 0x76ca, 0xa333, 0x1, 0x1);
        gbc.writeMem(0x733b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xef7c);
        EXPECT(gbc.pc(), 0x733d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 011F
        gbc.setState(0xb126, 0x5217, 0x7ff0, 0x501c, 0xbffb, 0x9408, 0x0, 0x0);
        gbc.writeMem(0xb126, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x5217);
        EXPECT(gbc.pc(), 0xb128);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb126), 0xcb);
        EXPECT(gbc.readMem(0xb127), 0x94);
        // CB 94 0120
        gbc.setState(0x2e16, 0x706e, 0xe9e0, 0x7b8c, 0x81e, 0x3a41, 0x0, 0x0);
        gbc.writeMem(0x2e16, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x706e);
        EXPECT(gbc.pc(), 0x2e18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0121
        gbc.setState(0x159c, 0xf035, 0x1e40, 0x35de, 0x8966, 0xf307, 0x0, 0x0);
        gbc.writeMem(0x159c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xf035);
        EXPECT(gbc.pc(), 0x159e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0122
        gbc.setState(0x7a0d, 0xf298, 0x94c0, 0xae55, 0xfcbb, 0x56ab, 0x0, 0x1);
        gbc.writeMem(0x7a0d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xf298);
        EXPECT(gbc.pc(), 0x7a0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0123
        gbc.setState(0x3f8c, 0x3606, 0x5f30, 0x6dad, 0x1bf8, 0xb06e, 0x0, 0x0);
        gbc.writeMem(0x3f8c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x3606);
        EXPECT(gbc.pc(), 0x3f8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0124
        gbc.setState(0x35bf, 0x919c, 0xbda0, 0xf99b, 0xbe5e, 0x8ada, 0x0, 0x1);
        gbc.writeMem(0x35bf, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x919c);
        EXPECT(gbc.pc(), 0x35c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0125
        gbc.setState(0xed4a, 0x44f9, 0x9d0, 0x7fe, 0x9ebc, 0x4f5d, 0x1, 0x0);
        gbc.writeMem(0xed4a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x44f9);
        EXPECT(gbc.pc(), 0xed4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed4a), 0xcb);
        EXPECT(gbc.readMem(0xed4b), 0x94);
        // CB 94 0126
        gbc.setState(0xa7ad, 0x441f, 0xece0, 0xe287, 0x91be, 0xd3e9, 0x1, 0x1);
        gbc.writeMem(0xa7ad, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x441f);
        EXPECT(gbc.pc(), 0xa7af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7ad), 0xcb);
        EXPECT(gbc.readMem(0xa7ae), 0x94);
        // CB 94 0127
        gbc.setState(0xbee2, 0x12ad, 0x1550, 0x546f, 0x77d3, 0x8648, 0x1, 0x0);
        gbc.writeMem(0xbee2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x12ad);
        EXPECT(gbc.pc(), 0xbee4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbee2), 0xcb);
        EXPECT(gbc.readMem(0xbee3), 0x94);
        // CB 94 0128
        gbc.setState(0x1884, 0xcfa5, 0xa3a0, 0x22e2, 0xe5b5, 0x27d8, 0x1, 0x1);
        gbc.writeMem(0x1884, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xcfa5);
        EXPECT(gbc.pc(), 0x1886);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0129
        gbc.setState(0x4ec7, 0x87c, 0x1030, 0x70e3, 0xd254, 0xb6c1, 0x0, 0x1);
        gbc.writeMem(0x4ec7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x87c);
        EXPECT(gbc.pc(), 0x4ec9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 012A
        gbc.setState(0xe0cb, 0x30a7, 0x7c10, 0x35b4, 0x76f3, 0xe86c, 0x0, 0x0);
        gbc.writeMem(0xe0cb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x30a7);
        EXPECT(gbc.pc(), 0xe0cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0cb), 0xcb);
        EXPECT(gbc.readMem(0xe0cc), 0x94);
        // CB 94 012B
        gbc.setState(0xcae6, 0xe457, 0xa190, 0xbf6e, 0xfdb5, 0xb774, 0x0, 0x0);
        gbc.writeMem(0xcae6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xe457);
        EXPECT(gbc.pc(), 0xcae8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcae6), 0xcb);
        EXPECT(gbc.readMem(0xcae7), 0x94);
        // CB 94 012C
        gbc.setState(0x3d8c, 0x961d, 0x7460, 0xefab, 0x259d, 0x564b, 0x0, 0x1);
        gbc.writeMem(0x3d8c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x961d);
        EXPECT(gbc.pc(), 0x3d8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 012E
        gbc.setState(0x813f, 0x1ee, 0xf860, 0xb0dd, 0xd4f7, 0xe641, 0x0, 0x1);
        gbc.writeMem(0x813f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x1ee);
        EXPECT(gbc.pc(), 0x8141);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x813f), 0xcb);
        EXPECT(gbc.readMem(0x8140), 0x94);
        // CB 94 012F
        gbc.setState(0x9d47, 0x68ee, 0x5a10, 0xd26c, 0x7df0, 0x52bd, 0x0, 0x1);
        gbc.writeMem(0x9d47, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x68ee);
        EXPECT(gbc.pc(), 0x9d49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d47), 0xcb);
        EXPECT(gbc.readMem(0x9d48), 0x94);
        // CB 94 0130
        gbc.setState(0x88c1, 0x9b92, 0x5140, 0x63b9, 0xe785, 0x974b, 0x0, 0x1);
        gbc.writeMem(0x88c1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x9b92);
        EXPECT(gbc.pc(), 0x88c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88c1), 0xcb);
        EXPECT(gbc.readMem(0x88c2), 0x94);
        // CB 94 0131
        gbc.setState(0x5fd9, 0xaa57, 0x61e0, 0xd4eb, 0x5c9f, 0x9470, 0x1, 0x0);
        gbc.writeMem(0x5fd9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xaa57);
        EXPECT(gbc.pc(), 0x5fdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0132
        gbc.setState(0x9a5c, 0x355f, 0xcb30, 0xc604, 0xaa45, 0xfc28, 0x0, 0x1);
        gbc.writeMem(0x9a5c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x355f);
        EXPECT(gbc.pc(), 0x9a5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a5c), 0xcb);
        EXPECT(gbc.readMem(0x9a5d), 0x94);
        // CB 94 0133
        gbc.setState(0xaf57, 0x6aea, 0xaa20, 0xd70e, 0x43c, 0x69c1, 0x0, 0x1);
        gbc.writeMem(0xaf57, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x6aea);
        EXPECT(gbc.pc(), 0xaf59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf57), 0xcb);
        EXPECT(gbc.readMem(0xaf58), 0x94);
        // CB 94 0134
        gbc.setState(0xa9cd, 0x2a48, 0xc5c0, 0xa42e, 0xd0fd, 0xe459, 0x0, 0x0);
        gbc.writeMem(0xa9cd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x2a48);
        EXPECT(gbc.pc(), 0xa9cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9cd), 0xcb);
        EXPECT(gbc.readMem(0xa9ce), 0x94);
        // CB 94 0135
        gbc.setState(0xd0ad, 0xfb9a, 0xdb00, 0x34da, 0x3a9, 0x74ca, 0x1, 0x1);
        gbc.writeMem(0xd0ad, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xfb9a);
        EXPECT(gbc.pc(), 0xd0af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0ad), 0xcb);
        EXPECT(gbc.readMem(0xd0ae), 0x94);
        // CB 94 0136
        gbc.setState(0x681a, 0xff8c, 0x7a30, 0x6a96, 0xe583, 0x248e, 0x1, 0x0);
        gbc.writeMem(0x681a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xff8c);
        EXPECT(gbc.pc(), 0x681c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0137
        gbc.setState(0x3b1, 0x8b41, 0x27d0, 0x6416, 0xc63c, 0x2470, 0x1, 0x0);
        gbc.writeMem(0x3b1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x8b41);
        EXPECT(gbc.pc(), 0x3b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0138
        gbc.setState(0xa727, 0x6b75, 0x89a0, 0xb81c, 0x7b93, 0xe38a, 0x0, 0x1);
        gbc.writeMem(0xa727, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x6b75);
        EXPECT(gbc.pc(), 0xa729);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa727), 0xcb);
        EXPECT(gbc.readMem(0xa728), 0x94);
        // CB 94 0139
        gbc.setState(0x2050, 0x474c, 0x69a0, 0xd25f, 0xe95a, 0xb9cc, 0x1, 0x0);
        gbc.writeMem(0x2050, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x474c);
        EXPECT(gbc.pc(), 0x2052);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 013A
        gbc.setState(0xd876, 0xffb3, 0x24f0, 0x1a00, 0xb6cd, 0x132b, 0x1, 0x0);
        gbc.writeMem(0xd876, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xffb3);
        EXPECT(gbc.pc(), 0xd878);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd876), 0xcb);
        EXPECT(gbc.readMem(0xd877), 0x94);
        // CB 94 013B
        gbc.setState(0xe6c2, 0xbcd7, 0x5a30, 0xcd25, 0xeda, 0xc0b2, 0x1, 0x1);
        gbc.writeMem(0xe6c2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xbcd7);
        EXPECT(gbc.pc(), 0xe6c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6c2), 0xcb);
        EXPECT(gbc.readMem(0xe6c3), 0x94);
        // CB 94 013C
        gbc.setState(0x33e8, 0x2a81, 0xbfd0, 0x8ca5, 0xc5f1, 0xbdd5, 0x1, 0x0);
        gbc.writeMem(0x33e8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x2a81);
        EXPECT(gbc.pc(), 0x33ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 013D
        gbc.setState(0x5f99, 0xb7af, 0x5b10, 0x1338, 0x990e, 0x6b10, 0x1, 0x1);
        gbc.writeMem(0x5f99, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xb7af);
        EXPECT(gbc.pc(), 0x5f9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 013E
        gbc.setState(0x7cf0, 0xa63, 0xf140, 0xfce3, 0x36a5, 0x1473, 0x1, 0x0);
        gbc.writeMem(0x7cf0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xa63);
        EXPECT(gbc.pc(), 0x7cf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 013F
        gbc.setState(0x1984, 0x524c, 0xb550, 0x792a, 0xb829, 0x1df6, 0x1, 0x0);
        gbc.writeMem(0x1984, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x524c);
        EXPECT(gbc.pc(), 0x1986);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0140
        gbc.setState(0x4427, 0xf4df, 0x4bf0, 0xca2e, 0xaace, 0x5ced, 0x0, 0x0);
        gbc.writeMem(0x4427, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xf4df);
        EXPECT(gbc.pc(), 0x4429);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0141
        gbc.setState(0x7d89, 0xa032, 0x95b0, 0xff83, 0x49b2, 0xc0a6, 0x0, 0x1);
        gbc.writeMem(0x7d89, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xa032);
        EXPECT(gbc.pc(), 0x7d8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0142
        gbc.setState(0x3e0b, 0xccc6, 0xb900, 0x2cc5, 0xca0, 0x75b7, 0x0, 0x1);
        gbc.writeMem(0x3e0b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xccc6);
        EXPECT(gbc.pc(), 0x3e0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0143
        gbc.setState(0x90c4, 0x3ece, 0xbf0, 0xd931, 0x978, 0xf2ac, 0x1, 0x1);
        gbc.writeMem(0x90c4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x3ece);
        EXPECT(gbc.pc(), 0x90c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90c4), 0xcb);
        EXPECT(gbc.readMem(0x90c5), 0x94);
        // CB 94 0144
        gbc.setState(0xeafb, 0x2802, 0xb160, 0xfd2a, 0x9519, 0x2cd1, 0x1, 0x0);
        gbc.writeMem(0xeafb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x2802);
        EXPECT(gbc.pc(), 0xeafd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeafb), 0xcb);
        EXPECT(gbc.readMem(0xeafc), 0x94);
        // CB 94 0145
        gbc.setState(0x6900, 0x14c1, 0x1c70, 0xf0e1, 0x2afe, 0xfe4c, 0x1, 0x1);
        gbc.writeMem(0x6900, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x14c1);
        EXPECT(gbc.pc(), 0x6902);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0146
        gbc.setState(0x192e, 0xe2d6, 0x8fc0, 0xab55, 0x103e, 0x8115, 0x0, 0x1);
        gbc.writeMem(0x192e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe2d6);
        EXPECT(gbc.pc(), 0x1930);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0147
        gbc.setState(0x4890, 0x3e27, 0x66d0, 0xf1cb, 0x1c8b, 0x3b29, 0x0, 0x1);
        gbc.writeMem(0x4890, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x3e27);
        EXPECT(gbc.pc(), 0x4892);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0148
        gbc.setState(0xcbe9, 0xcfce, 0xf950, 0xdd8, 0xd499, 0xa58f, 0x0, 0x1);
        gbc.writeMem(0xcbe9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xcfce);
        EXPECT(gbc.pc(), 0xcbeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbe9), 0xcb);
        EXPECT(gbc.readMem(0xcbea), 0x94);
        // CB 94 0149
        gbc.setState(0x611c, 0x70a4, 0x2640, 0x73f1, 0x3850, 0xc756, 0x0, 0x0);
        gbc.writeMem(0x611c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x70a4);
        EXPECT(gbc.pc(), 0x611e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 014A
        gbc.setState(0x8fed, 0xf249, 0xc4f0, 0x754a, 0xf4bf, 0x33b3, 0x1, 0x0);
        gbc.writeMem(0x8fed, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xf249);
        EXPECT(gbc.pc(), 0x8fef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fed), 0xcb);
        EXPECT(gbc.readMem(0x8fee), 0x94);
        // CB 94 014B
        gbc.setState(0xccfb, 0xbd0a, 0xe180, 0x6242, 0x79bf, 0x44ad, 0x1, 0x0);
        gbc.writeMem(0xccfb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xbd0a);
        EXPECT(gbc.pc(), 0xccfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccfb), 0xcb);
        EXPECT(gbc.readMem(0xccfc), 0x94);
        // CB 94 014C
        gbc.setState(0x6f8, 0x251b, 0x790, 0xaea, 0x876, 0x40b9, 0x1, 0x0);
        gbc.writeMem(0x6f8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x251b);
        EXPECT(gbc.pc(), 0x6fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 014D
        gbc.setState(0x5426, 0x8270, 0xe600, 0x49fe, 0x1c42, 0x1ef0, 0x1, 0x0);
        gbc.writeMem(0x5426, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x8270);
        EXPECT(gbc.pc(), 0x5428);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 014E
        gbc.setState(0x59df, 0x5c7c, 0x5120, 0xc2b2, 0x61bf, 0x1230, 0x0, 0x1);
        gbc.writeMem(0x59df, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x5c7c);
        EXPECT(gbc.pc(), 0x59e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 014F
        gbc.setState(0x16f2, 0x7c54, 0x76f0, 0xc431, 0xe2fa, 0xf623, 0x0, 0x1);
        gbc.writeMem(0x16f2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x7c54);
        EXPECT(gbc.pc(), 0x16f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0150
        gbc.setState(0xaf5b, 0xf501, 0x8b40, 0xceab, 0xb61b, 0xd005, 0x0, 0x0);
        gbc.writeMem(0xaf5b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xf501);
        EXPECT(gbc.pc(), 0xaf5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf5b), 0xcb);
        EXPECT(gbc.readMem(0xaf5c), 0x94);
        // CB 94 0151
        gbc.setState(0x64d4, 0xda5c, 0x7b50, 0x2b1b, 0xd46, 0xc65a, 0x1, 0x0);
        gbc.writeMem(0x64d4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xda5c);
        EXPECT(gbc.pc(), 0x64d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0152
        gbc.setState(0xcca1, 0x9ed6, 0x5890, 0xf4e, 0x3a12, 0xfb0f, 0x0, 0x0);
        gbc.writeMem(0xcca1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x9ed6);
        EXPECT(gbc.pc(), 0xcca3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcca1), 0xcb);
        EXPECT(gbc.readMem(0xcca2), 0x94);
        // CB 94 0153
        gbc.setState(0x4062, 0x23fd, 0x9530, 0x1434, 0x6a02, 0x53e3, 0x1, 0x0);
        gbc.writeMem(0x4062, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x23fd);
        EXPECT(gbc.pc(), 0x4064);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0154
        gbc.setState(0xe5ed, 0xb386, 0x1f40, 0xf851, 0x57fd, 0x7232, 0x0, 0x1);
        gbc.writeMem(0xe5ed, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xb386);
        EXPECT(gbc.pc(), 0xe5ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe5ed), 0xcb);
        EXPECT(gbc.readMem(0xe5ee), 0x94);
        // CB 94 0155
        gbc.setState(0x5040, 0xbe7, 0xd40, 0x3067, 0x1c59, 0x1cbe, 0x0, 0x0);
        gbc.writeMem(0x5040, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xbe7);
        EXPECT(gbc.pc(), 0x5042);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0156
        gbc.setState(0x4751, 0xcc6c, 0x13e0, 0xabde, 0x2193, 0x1110, 0x0, 0x1);
        gbc.writeMem(0x4751, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xcc6c);
        EXPECT(gbc.pc(), 0x4753);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0157
        gbc.setState(0x513, 0x1566, 0xc910, 0x6803, 0xfef9, 0x8a47, 0x0, 0x0);
        gbc.writeMem(0x513, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x1566);
        EXPECT(gbc.pc(), 0x515);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0158
        gbc.setState(0x48d4, 0x8703, 0x8920, 0x36cf, 0x8f0c, 0x2ade, 0x1, 0x1);
        gbc.writeMem(0x48d4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x8703);
        EXPECT(gbc.pc(), 0x48d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0159
        gbc.setState(0x4892, 0x5589, 0xf870, 0x23e, 0x3ac1, 0x9942, 0x1, 0x1);
        gbc.writeMem(0x4892, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x5589);
        EXPECT(gbc.pc(), 0x4894);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 015A
        gbc.setState(0x66b2, 0x536c, 0x94d0, 0x8078, 0x482a, 0x7e93, 0x1, 0x1);
        gbc.writeMem(0x66b2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x536c);
        EXPECT(gbc.pc(), 0x66b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 015B
        gbc.setState(0x8ce4, 0x519b, 0x2070, 0xb4fa, 0x27f6, 0xca41, 0x1, 0x1);
        gbc.writeMem(0x8ce4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x519b);
        EXPECT(gbc.pc(), 0x8ce6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ce4), 0xcb);
        EXPECT(gbc.readMem(0x8ce5), 0x94);
        // CB 94 015C
        gbc.setState(0xb70c, 0xbc52, 0x92a0, 0xcc7a, 0xe2af, 0x595b, 0x0, 0x0);
        gbc.writeMem(0xb70c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xbc52);
        EXPECT(gbc.pc(), 0xb70e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb70c), 0xcb);
        EXPECT(gbc.readMem(0xb70d), 0x94);
        // CB 94 015D
        gbc.setState(0x5f6b, 0xd679, 0xaf30, 0x7b6a, 0x1be9, 0x5fcf, 0x0, 0x0);
        gbc.writeMem(0x5f6b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xd679);
        EXPECT(gbc.pc(), 0x5f6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 015E
        gbc.setState(0x413c, 0xb5f5, 0x8970, 0x8f49, 0x11fc, 0x16b0, 0x1, 0x1);
        gbc.writeMem(0x413c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xb5f5);
        EXPECT(gbc.pc(), 0x413e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 015F
        gbc.setState(0xc445, 0x9dfc, 0x1e10, 0xd225, 0x7a8b, 0x7c2, 0x0, 0x1);
        gbc.writeMem(0xc445, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x9dfc);
        EXPECT(gbc.pc(), 0xc447);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc445), 0xcb);
        EXPECT(gbc.readMem(0xc446), 0x94);
        // CB 94 0160
        gbc.setState(0x1d60, 0x69e7, 0x5b30, 0x84bd, 0xa563, 0x481b, 0x0, 0x1);
        gbc.writeMem(0x1d60, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x69e7);
        EXPECT(gbc.pc(), 0x1d62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0161
        gbc.setState(0xb8c0, 0xb8b8, 0xc530, 0x21bc, 0xc650, 0x8ad, 0x0, 0x1);
        gbc.writeMem(0xb8c0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xb8b8);
        EXPECT(gbc.pc(), 0xb8c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8c0), 0xcb);
        EXPECT(gbc.readMem(0xb8c1), 0x94);
        // CB 94 0162
        gbc.setState(0xd149, 0x3e37, 0xbe80, 0x149c, 0x70a3, 0x6f44, 0x0, 0x0);
        gbc.writeMem(0xd149, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x3e37);
        EXPECT(gbc.pc(), 0xd14b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd149), 0xcb);
        EXPECT(gbc.readMem(0xd14a), 0x94);
        // CB 94 0164
        gbc.setState(0xc3f4, 0xe7c3, 0xd9e0, 0x1355, 0x9db3, 0xb4a4, 0x1, 0x1);
        gbc.writeMem(0xc3f4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xe7c3);
        EXPECT(gbc.pc(), 0xc3f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc3f4), 0xcb);
        EXPECT(gbc.readMem(0xc3f5), 0x94);
        // CB 94 0165
        gbc.setState(0x708f, 0x6658, 0xbab0, 0xec4d, 0xde6c, 0xa173, 0x1, 0x0);
        gbc.writeMem(0x708f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x6658);
        EXPECT(gbc.pc(), 0x7091);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0166
        gbc.setState(0x61c3, 0x4b1b, 0x4e50, 0x955a, 0xc74a, 0x9113, 0x0, 0x1);
        gbc.writeMem(0x61c3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x4b1b);
        EXPECT(gbc.pc(), 0x61c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0167
        gbc.setState(0xa5df, 0x5837, 0x5ee0, 0xb494, 0x8584, 0x9b, 0x1, 0x0);
        gbc.writeMem(0xa5df, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x5837);
        EXPECT(gbc.pc(), 0xa5e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5df), 0xcb);
        EXPECT(gbc.readMem(0xa5e0), 0x94);
        // CB 94 0168
        gbc.setState(0xe5b, 0xa256, 0xb9b0, 0x13f, 0xb808, 0xd28, 0x0, 0x0);
        gbc.writeMem(0xe5b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xa256);
        EXPECT(gbc.pc(), 0xe5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0169
        gbc.setState(0x3009, 0x66ca, 0xb510, 0x77ae, 0x6d0d, 0x40e0, 0x1, 0x1);
        gbc.writeMem(0x3009, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x66ca);
        EXPECT(gbc.pc(), 0x300b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 016A
        gbc.setState(0x23b3, 0xc7e4, 0x470, 0x183d, 0xa634, 0xac36, 0x1, 0x0);
        gbc.writeMem(0x23b3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xc7e4);
        EXPECT(gbc.pc(), 0x23b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 016B
        gbc.setState(0x6f17, 0x1d8a, 0x9260, 0x3d59, 0xd58d, 0x29fd, 0x1, 0x1);
        gbc.writeMem(0x6f17, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x1d8a);
        EXPECT(gbc.pc(), 0x6f19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 016C
        gbc.setState(0x18c8, 0x32f4, 0xc640, 0xd2ef, 0xe394, 0x8a27, 0x0, 0x0);
        gbc.writeMem(0x18c8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x32f4);
        EXPECT(gbc.pc(), 0x18ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 016D
        gbc.setState(0x3e62, 0x2305, 0x7d00, 0x3e94, 0x1a8, 0xec3, 0x0, 0x1);
        gbc.writeMem(0x3e62, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x2305);
        EXPECT(gbc.pc(), 0x3e64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 016E
        gbc.setState(0x6288, 0xdfc2, 0xb2b0, 0xfa91, 0x714a, 0x5e94, 0x0, 0x0);
        gbc.writeMem(0x6288, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xdfc2);
        EXPECT(gbc.pc(), 0x628a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 016F
        gbc.setState(0x16aa, 0x7511, 0xd0d0, 0x7590, 0x5534, 0x9d76, 0x0, 0x0);
        gbc.writeMem(0x16aa, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x7511);
        EXPECT(gbc.pc(), 0x16ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0170
        gbc.setState(0x8f6b, 0xfa45, 0x2390, 0x9567, 0x7785, 0xe996, 0x0, 0x0);
        gbc.writeMem(0x8f6b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xfa45);
        EXPECT(gbc.pc(), 0x8f6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f6b), 0xcb);
        EXPECT(gbc.readMem(0x8f6c), 0x94);
        // CB 94 0171
        gbc.setState(0x5001, 0x6e60, 0xfe50, 0x9050, 0xdc90, 0x7804, 0x0, 0x1);
        gbc.writeMem(0x5001, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x6e60);
        EXPECT(gbc.pc(), 0x5003);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0172
        gbc.setState(0x25, 0xdeee, 0xc8a0, 0x3d3c, 0xa3c, 0xba81, 0x1, 0x1);
        gbc.writeMem(0x25, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xdeee);
        EXPECT(gbc.pc(), 0x27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0173
        gbc.setState(0xb62a, 0xcb84, 0x4be0, 0x2819, 0x8307, 0xfabd, 0x1, 0x0);
        gbc.writeMem(0xb62a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xcb84);
        EXPECT(gbc.pc(), 0xb62c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb62a), 0xcb);
        EXPECT(gbc.readMem(0xb62b), 0x94);
        // CB 94 0174
        gbc.setState(0x1a3c, 0x5681, 0xca50, 0x2788, 0x381f, 0xeb8f, 0x0, 0x0);
        gbc.writeMem(0x1a3c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x5681);
        EXPECT(gbc.pc(), 0x1a3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0175
        gbc.setState(0xab51, 0xa4de, 0xf1d0, 0xbd83, 0x3953, 0xfbc7, 0x0, 0x1);
        gbc.writeMem(0xab51, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xa4de);
        EXPECT(gbc.pc(), 0xab53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab51), 0xcb);
        EXPECT(gbc.readMem(0xab52), 0x94);
        // CB 94 0176
        gbc.setState(0x3211, 0x50c6, 0xe110, 0x11dd, 0x12fa, 0x3ffb, 0x1, 0x1);
        gbc.writeMem(0x3211, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x50c6);
        EXPECT(gbc.pc(), 0x3213);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0177
        gbc.setState(0x21bc, 0xa014, 0x5cf0, 0x99fd, 0x40b9, 0x7045, 0x1, 0x0);
        gbc.writeMem(0x21bc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa014);
        EXPECT(gbc.pc(), 0x21be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0178
        gbc.setState(0x3af0, 0x6265, 0x81f0, 0x196d, 0x2f7c, 0x9ed2, 0x1, 0x0);
        gbc.writeMem(0x3af0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x6265);
        EXPECT(gbc.pc(), 0x3af2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0179
        gbc.setState(0x95f6, 0xde22, 0x6520, 0x864f, 0x7de6, 0xf42, 0x0, 0x0);
        gbc.writeMem(0x95f6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xde22);
        EXPECT(gbc.pc(), 0x95f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95f6), 0xcb);
        EXPECT(gbc.readMem(0x95f7), 0x94);
        // CB 94 017A
        gbc.setState(0x1ea9, 0xe25e, 0xf8d0, 0xfd9a, 0xf79, 0x3f65, 0x0, 0x0);
        gbc.writeMem(0x1ea9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xe25e);
        EXPECT(gbc.pc(), 0x1eab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 017B
        gbc.setState(0xef82, 0xe46e, 0x3d20, 0xaf29, 0x827a, 0x2c30, 0x1, 0x0);
        gbc.writeMem(0xef82, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xe46e);
        EXPECT(gbc.pc(), 0xef84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef82), 0xcb);
        EXPECT(gbc.readMem(0xef83), 0x94);
        // CB 94 017C
        gbc.setState(0x55d8, 0xf7ca, 0x7580, 0x2e36, 0x3785, 0x59e7, 0x1, 0x0);
        gbc.writeMem(0x55d8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xf7ca);
        EXPECT(gbc.pc(), 0x55da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 017D
        gbc.setState(0x4a45, 0xc99b, 0xe680, 0x36e3, 0x6c00, 0x6067, 0x1, 0x0);
        gbc.writeMem(0x4a45, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xc99b);
        EXPECT(gbc.pc(), 0x4a47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 017E
        gbc.setState(0x222c, 0x9ecb, 0x9470, 0x8ded, 0x916e, 0x14d4, 0x1, 0x1);
        gbc.writeMem(0x222c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x9ecb);
        EXPECT(gbc.pc(), 0x222e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 017F
        gbc.setState(0x39ef, 0xfc2c, 0x78a0, 0x9b77, 0xd856, 0x6921, 0x1, 0x0);
        gbc.writeMem(0x39ef, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xfc2c);
        EXPECT(gbc.pc(), 0x39f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0180
        gbc.setState(0xb3fd, 0x6af7, 0x1c0, 0xbdf7, 0x1ee4, 0xefd3, 0x0, 0x0);
        gbc.writeMem(0xb3fd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x6af7);
        EXPECT(gbc.pc(), 0xb3ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3fd), 0xcb);
        EXPECT(gbc.readMem(0xb3fe), 0x94);
        // CB 94 0182
        gbc.setState(0x6cd0, 0x5f8f, 0x4460, 0xf475, 0x8053, 0xff38, 0x0, 0x1);
        gbc.writeMem(0x6cd0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x5f8f);
        EXPECT(gbc.pc(), 0x6cd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0183
        gbc.setState(0x4a7b, 0x8af7, 0x4e80, 0x4239, 0x72a2, 0x7a9c, 0x0, 0x0);
        gbc.writeMem(0x4a7b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x8af7);
        EXPECT(gbc.pc(), 0x4a7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0184
        gbc.setState(0x494d, 0xa998, 0x7990, 0xeb38, 0xea1, 0x88c3, 0x1, 0x1);
        gbc.writeMem(0x494d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xa998);
        EXPECT(gbc.pc(), 0x494f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0185
        gbc.setState(0xa8da, 0xb62e, 0x1560, 0x76eb, 0x89c8, 0x5a74, 0x1, 0x1);
        gbc.writeMem(0xa8da, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xb62e);
        EXPECT(gbc.pc(), 0xa8dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8da), 0xcb);
        EXPECT(gbc.readMem(0xa8db), 0x94);
        // CB 94 0186
        gbc.setState(0x2ded, 0x5db4, 0x6b0, 0x373d, 0xc579, 0x9dd5, 0x1, 0x1);
        gbc.writeMem(0x2ded, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x5db4);
        EXPECT(gbc.pc(), 0x2def);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0187
        gbc.setState(0xcbb2, 0xbd97, 0x7490, 0x733c, 0x4fcb, 0xe7c4, 0x0, 0x1);
        gbc.writeMem(0xcbb2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xbd97);
        EXPECT(gbc.pc(), 0xcbb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcbb2), 0xcb);
        EXPECT(gbc.readMem(0xcbb3), 0x94);
        // CB 94 0188
        gbc.setState(0x98fa, 0x7e4, 0xd1f0, 0x9e8a, 0x29, 0xf1c1, 0x1, 0x0);
        gbc.writeMem(0x98fa, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x7e4);
        EXPECT(gbc.pc(), 0x98fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98fa), 0xcb);
        EXPECT(gbc.readMem(0x98fb), 0x94);
        // CB 94 0189
        gbc.setState(0xe9db, 0xc9ff, 0x6f50, 0xd392, 0x5563, 0x961, 0x0, 0x0);
        gbc.writeMem(0xe9db, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xc9ff);
        EXPECT(gbc.pc(), 0xe9dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9db), 0xcb);
        EXPECT(gbc.readMem(0xe9dc), 0x94);
        // CB 94 018A
        gbc.setState(0x71cd, 0x7354, 0x5490, 0x6899, 0x4d41, 0xa47d, 0x1, 0x1);
        gbc.writeMem(0x71cd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x7354);
        EXPECT(gbc.pc(), 0x71cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 018B
        gbc.setState(0x1f8d, 0xcfc4, 0x6bf0, 0x52f1, 0xbc9e, 0xfde9, 0x0, 0x1);
        gbc.writeMem(0x1f8d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xcfc4);
        EXPECT(gbc.pc(), 0x1f8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 018C
        gbc.setState(0xa480, 0x91c, 0x97d0, 0xef27, 0xcb2a, 0xf64b, 0x0, 0x1);
        gbc.writeMem(0xa480, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x91c);
        EXPECT(gbc.pc(), 0xa482);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa480), 0xcb);
        EXPECT(gbc.readMem(0xa481), 0x94);
        // CB 94 018D
        gbc.setState(0xe864, 0x60d4, 0xcde0, 0xa194, 0xc4a5, 0x22d1, 0x1, 0x1);
        gbc.writeMem(0xe864, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x60d4);
        EXPECT(gbc.pc(), 0xe866);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe864), 0xcb);
        EXPECT(gbc.readMem(0xe865), 0x94);
        // CB 94 018E
        gbc.setState(0xdeb4, 0x6c6c, 0xf0f0, 0x8b41, 0x5e27, 0x3803, 0x0, 0x0);
        gbc.writeMem(0xdeb4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x6c6c);
        EXPECT(gbc.pc(), 0xdeb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdeb4), 0xcb);
        EXPECT(gbc.readMem(0xdeb5), 0x94);
        // CB 94 018F
        gbc.setState(0xd5c6, 0xa051, 0x4e00, 0xdd21, 0xcd06, 0x6a97, 0x0, 0x0);
        gbc.writeMem(0xd5c6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa051);
        EXPECT(gbc.pc(), 0xd5c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5c6), 0xcb);
        EXPECT(gbc.readMem(0xd5c7), 0x94);
        // CB 94 0190
        gbc.setState(0xb469, 0x19e8, 0x95c0, 0x9fd1, 0x21da, 0x77f1, 0x0, 0x0);
        gbc.writeMem(0xb469, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x19e8);
        EXPECT(gbc.pc(), 0xb46b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb469), 0xcb);
        EXPECT(gbc.readMem(0xb46a), 0x94);
        // CB 94 0191
        gbc.setState(0x6024, 0xd084, 0x4930, 0x4e58, 0x485b, 0x7c2e, 0x1, 0x0);
        gbc.writeMem(0x6024, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xd084);
        EXPECT(gbc.pc(), 0x6026);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0192
        gbc.setState(0x6e4e, 0xb48, 0x1040, 0xa4a7, 0x8bc6, 0x4b82, 0x1, 0x0);
        gbc.writeMem(0x6e4e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xb48);
        EXPECT(gbc.pc(), 0x6e50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0193
        gbc.setState(0xcf91, 0x31da, 0xca50, 0x52ab, 0x50a0, 0x8376, 0x0, 0x1);
        gbc.writeMem(0xcf91, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x31da);
        EXPECT(gbc.pc(), 0xcf93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf91), 0xcb);
        EXPECT(gbc.readMem(0xcf92), 0x94);
        // CB 94 0194
        gbc.setState(0x6354, 0xa8e6, 0x670, 0xdddc, 0x5972, 0xaefc, 0x0, 0x0);
        gbc.writeMem(0x6354, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xa8e6);
        EXPECT(gbc.pc(), 0x6356);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0195
        gbc.setState(0x7390, 0x5072, 0x1b10, 0x8022, 0x5ab5, 0x8270, 0x0, 0x1);
        gbc.writeMem(0x7390, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x5072);
        EXPECT(gbc.pc(), 0x7392);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0196
        gbc.setState(0x64f, 0xa829, 0x240, 0xa36, 0xd179, 0x665e, 0x0, 0x1);
        gbc.writeMem(0x64f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xa829);
        EXPECT(gbc.pc(), 0x651);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0197
        gbc.setState(0x1935, 0xa8f, 0x2840, 0xc6bb, 0x28af, 0x7290, 0x0, 0x0);
        gbc.writeMem(0x1935, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xa8f);
        EXPECT(gbc.pc(), 0x1937);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0198
        gbc.setState(0x837f, 0x87f5, 0x960, 0x11b, 0x619, 0x3285, 0x1, 0x0);
        gbc.writeMem(0x837f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x87f5);
        EXPECT(gbc.pc(), 0x8381);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x837f), 0xcb);
        EXPECT(gbc.readMem(0x8380), 0x94);
        // CB 94 0199
        gbc.setState(0xca11, 0x4d71, 0x1ff0, 0x65ec, 0xeeb2, 0x52a9, 0x1, 0x0);
        gbc.writeMem(0xca11, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x4d71);
        EXPECT(gbc.pc(), 0xca13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca11), 0xcb);
        EXPECT(gbc.readMem(0xca12), 0x94);
        // CB 94 019A
        gbc.setState(0x8a7d, 0x1a4a, 0xe100, 0x9336, 0xb4e8, 0x16eb, 0x1, 0x0);
        gbc.writeMem(0x8a7d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x1a4a);
        EXPECT(gbc.pc(), 0x8a7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a7d), 0xcb);
        EXPECT(gbc.readMem(0x8a7e), 0x94);
        // CB 94 019B
        gbc.setState(0xbec2, 0x90b7, 0xee30, 0xf3b, 0x403d, 0x8472, 0x1, 0x0);
        gbc.writeMem(0xbec2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x90b7);
        EXPECT(gbc.pc(), 0xbec4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbec2), 0xcb);
        EXPECT(gbc.readMem(0xbec3), 0x94);
        // CB 94 019C
        gbc.setState(0xad88, 0xecb2, 0xef60, 0xaa4b, 0x525e, 0x828c, 0x0, 0x0);
        gbc.writeMem(0xad88, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xecb2);
        EXPECT(gbc.pc(), 0xad8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad88), 0xcb);
        EXPECT(gbc.readMem(0xad89), 0x94);
        // CB 94 019D
        gbc.setState(0xa980, 0xcff, 0x360, 0xa6c6, 0xcf7d, 0xbaf8, 0x1, 0x1);
        gbc.writeMem(0xa980, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xcff);
        EXPECT(gbc.pc(), 0xa982);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa980), 0xcb);
        EXPECT(gbc.readMem(0xa981), 0x94);
        // CB 94 019E
        gbc.setState(0x9249, 0xab94, 0x86c0, 0x4e86, 0x7608, 0x844, 0x0, 0x0);
        gbc.writeMem(0x9249, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xab94);
        EXPECT(gbc.pc(), 0x924b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9249), 0xcb);
        EXPECT(gbc.readMem(0x924a), 0x94);
        // CB 94 019F
        gbc.setState(0x1a67, 0x4944, 0xe1f0, 0xb854, 0x1791, 0xd209, 0x0, 0x0);
        gbc.writeMem(0x1a67, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x4944);
        EXPECT(gbc.pc(), 0x1a69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01A0
        gbc.setState(0xdc7, 0x237f, 0xec80, 0x627a, 0xe51b, 0x1d, 0x1, 0x0);
        gbc.writeMem(0xdc7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x237f);
        EXPECT(gbc.pc(), 0xdc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01A1
        gbc.setState(0x7a88, 0xc641, 0x510, 0xf4a, 0xe452, 0x71e3, 0x0, 0x0);
        gbc.writeMem(0x7a88, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xc641);
        EXPECT(gbc.pc(), 0x7a8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01A2
        gbc.setState(0xb2a2, 0xc14a, 0xae50, 0x1803, 0x6236, 0x7242, 0x1, 0x1);
        gbc.writeMem(0xb2a2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xc14a);
        EXPECT(gbc.pc(), 0xb2a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2a2), 0xcb);
        EXPECT(gbc.readMem(0xb2a3), 0x94);
        // CB 94 01A3
        gbc.setState(0x7d69, 0x2869, 0xf2e0, 0xe5c8, 0xe93b, 0x165b, 0x0, 0x0);
        gbc.writeMem(0x7d69, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x2869);
        EXPECT(gbc.pc(), 0x7d6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01A4
        gbc.setState(0x87e6, 0xcbfa, 0x5c50, 0x5898, 0x6953, 0x9bb4, 0x0, 0x1);
        gbc.writeMem(0x87e6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xcbfa);
        EXPECT(gbc.pc(), 0x87e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87e6), 0xcb);
        EXPECT(gbc.readMem(0x87e7), 0x94);
        // CB 94 01A5
        gbc.setState(0xd4cd, 0xcfef, 0x1be0, 0x7da5, 0xba44, 0x425e, 0x0, 0x1);
        gbc.writeMem(0xd4cd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xcfef);
        EXPECT(gbc.pc(), 0xd4cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4cd), 0xcb);
        EXPECT(gbc.readMem(0xd4ce), 0x94);
        // CB 94 01A6
        gbc.setState(0x70f9, 0x7098, 0x3670, 0xa6de, 0xdfba, 0x2a1a, 0x0, 0x1);
        gbc.writeMem(0x70f9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x7098);
        EXPECT(gbc.pc(), 0x70fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01A7
        gbc.setState(0xa42a, 0xadde, 0x4460, 0xadd2, 0x260f, 0x81fa, 0x0, 0x1);
        gbc.writeMem(0xa42a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xadde);
        EXPECT(gbc.pc(), 0xa42c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa42a), 0xcb);
        EXPECT(gbc.readMem(0xa42b), 0x94);
        // CB 94 01A8
        gbc.setState(0xd94c, 0x847, 0xf4d0, 0x35c7, 0x5c54, 0x9c59, 0x0, 0x1);
        gbc.writeMem(0xd94c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x847);
        EXPECT(gbc.pc(), 0xd94e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd94c), 0xcb);
        EXPECT(gbc.readMem(0xd94d), 0x94);
        // CB 94 01A9
        gbc.setState(0x5231, 0x8e2a, 0xa0e0, 0xc238, 0x7f3b, 0x3582, 0x0, 0x0);
        gbc.writeMem(0x5231, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x8e2a);
        EXPECT(gbc.pc(), 0x5233);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01AA
        gbc.setState(0x5ac0, 0x97b4, 0x7840, 0x7b, 0x6f53, 0x9e80, 0x0, 0x1);
        gbc.writeMem(0x5ac0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x97b4);
        EXPECT(gbc.pc(), 0x5ac2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01AB
        gbc.setState(0x97e9, 0xceef, 0x58f0, 0x8f42, 0xd041, 0x1663, 0x0, 0x0);
        gbc.writeMem(0x97e9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xceef);
        EXPECT(gbc.pc(), 0x97eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97e9), 0xcb);
        EXPECT(gbc.readMem(0x97ea), 0x94);
        // CB 94 01AC
        gbc.setState(0x1893, 0x63e2, 0x3c0, 0xc7d8, 0x1f9a, 0xbd46, 0x0, 0x1);
        gbc.writeMem(0x1893, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x63e2);
        EXPECT(gbc.pc(), 0x1895);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01AD
        gbc.setState(0x4337, 0x281b, 0xf020, 0x939b, 0xe62f, 0x8d86, 0x0, 0x1);
        gbc.writeMem(0x4337, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x281b);
        EXPECT(gbc.pc(), 0x4339);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01AF
        gbc.setState(0x56c2, 0xf0d7, 0xbc50, 0xc054, 0xc63c, 0x1bb0, 0x1, 0x1);
        gbc.writeMem(0x56c2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xf0d7);
        EXPECT(gbc.pc(), 0x56c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01B0
        gbc.setState(0xea46, 0x39b9, 0xbd80, 0xabf8, 0x7ec1, 0xe37e, 0x1, 0x0);
        gbc.writeMem(0xea46, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x39b9);
        EXPECT(gbc.pc(), 0xea48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea46), 0xcb);
        EXPECT(gbc.readMem(0xea47), 0x94);
        // CB 94 01B1
        gbc.setState(0x7cbd, 0x8bd, 0xffb0, 0x2204, 0x21ce, 0x9db, 0x1, 0x0);
        gbc.writeMem(0x7cbd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x8bd);
        EXPECT(gbc.pc(), 0x7cbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01B2
        gbc.setState(0x75c8, 0xcea3, 0x1f30, 0xe583, 0x5cf1, 0xda6b, 0x0, 0x1);
        gbc.writeMem(0x75c8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xcea3);
        EXPECT(gbc.pc(), 0x75ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01B3
        gbc.setState(0xa227, 0x119f, 0xcef0, 0x491f, 0xf9e6, 0xa6e6, 0x1, 0x0);
        gbc.writeMem(0xa227, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x119f);
        EXPECT(gbc.pc(), 0xa229);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa227), 0xcb);
        EXPECT(gbc.readMem(0xa228), 0x94);
        // CB 94 01B4
        gbc.setState(0xb827, 0xc032, 0xd760, 0x73a7, 0x614a, 0x737, 0x0, 0x0);
        gbc.writeMem(0xb827, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xc032);
        EXPECT(gbc.pc(), 0xb829);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb827), 0xcb);
        EXPECT(gbc.readMem(0xb828), 0x94);
        // CB 94 01B5
        gbc.setState(0xe198, 0xd3f2, 0x4d80, 0xb7e6, 0xe0bd, 0xf1d7, 0x0, 0x1);
        gbc.writeMem(0xe198, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xd3f2);
        EXPECT(gbc.pc(), 0xe19a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe198), 0xcb);
        EXPECT(gbc.readMem(0xe199), 0x94);
        // CB 94 01B6
        gbc.setState(0x910b, 0xb1bb, 0xb230, 0x6119, 0x80f, 0xfc66, 0x0, 0x0);
        gbc.writeMem(0x910b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xb1bb);
        EXPECT(gbc.pc(), 0x910d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x910b), 0xcb);
        EXPECT(gbc.readMem(0x910c), 0x94);
        // CB 94 01B7
        gbc.setState(0x24dd, 0xbb51, 0xdd40, 0x55c, 0x562d, 0xfb02, 0x1, 0x0);
        gbc.writeMem(0x24dd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xbb51);
        EXPECT(gbc.pc(), 0x24df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01B8
        gbc.setState(0xe99c, 0xa90e, 0x4560, 0x1fb9, 0x69a2, 0xacb7, 0x1, 0x0);
        gbc.writeMem(0xe99c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xa90e);
        EXPECT(gbc.pc(), 0xe99e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe99c), 0xcb);
        EXPECT(gbc.readMem(0xe99d), 0x94);
        // CB 94 01B9
        gbc.setState(0x7ef3, 0xb108, 0x70a0, 0xe61e, 0x7d5, 0xafd8, 0x1, 0x0);
        gbc.writeMem(0x7ef3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xb108);
        EXPECT(gbc.pc(), 0x7ef5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01BA
        gbc.setState(0x57de, 0x5988, 0xfb20, 0x4a17, 0xcf52, 0x8f56, 0x0, 0x0);
        gbc.writeMem(0x57de, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x5988);
        EXPECT(gbc.pc(), 0x57e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01BC
        gbc.setState(0x705f, 0x59cf, 0x6870, 0x9b27, 0x9704, 0xde02, 0x0, 0x1);
        gbc.writeMem(0x705f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x59cf);
        EXPECT(gbc.pc(), 0x7061);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01BD
        gbc.setState(0x64ff, 0x9c74, 0xd890, 0xee59, 0x68a6, 0xb9cc, 0x0, 0x1);
        gbc.writeMem(0x64ff, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x9c74);
        EXPECT(gbc.pc(), 0x6501);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01BE
        gbc.setState(0x8a95, 0x8b73, 0x73e0, 0xbc7f, 0x59de, 0x474e, 0x0, 0x1);
        gbc.writeMem(0x8a95, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x8b73);
        EXPECT(gbc.pc(), 0x8a97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a95), 0xcb);
        EXPECT(gbc.readMem(0x8a96), 0x94);
        // CB 94 01BF
        gbc.setState(0x5cbe, 0x99fb, 0xea10, 0x43fd, 0x996e, 0x8ebf, 0x0, 0x1);
        gbc.writeMem(0x5cbe, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x99fb);
        EXPECT(gbc.pc(), 0x5cc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01C0
        gbc.setState(0x1a0a, 0x6244, 0xd9c0, 0x4c51, 0x440d, 0x29a7, 0x0, 0x1);
        gbc.writeMem(0x1a0a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x6244);
        EXPECT(gbc.pc(), 0x1a0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01C2
        gbc.setState(0x1556, 0xe050, 0xea90, 0xea26, 0x89a7, 0x2290, 0x1, 0x1);
        gbc.writeMem(0x1556, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xe050);
        EXPECT(gbc.pc(), 0x1558);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01C3
        gbc.setState(0xbd43, 0xbc29, 0x6d90, 0x4044, 0x48d7, 0x8a27, 0x0, 0x0);
        gbc.writeMem(0xbd43, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xbc29);
        EXPECT(gbc.pc(), 0xbd45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd43), 0xcb);
        EXPECT(gbc.readMem(0xbd44), 0x94);
        // CB 94 01C4
        gbc.setState(0x201c, 0x28a, 0x5090, 0xa83b, 0x59af, 0xca6e, 0x0, 0x0);
        gbc.writeMem(0x201c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x28a);
        EXPECT(gbc.pc(), 0x201e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01C5
        gbc.setState(0xa7ca, 0x5be, 0xac00, 0xa225, 0x3108, 0x1965, 0x0, 0x0);
        gbc.writeMem(0xa7ca, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x5be);
        EXPECT(gbc.pc(), 0xa7cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7ca), 0xcb);
        EXPECT(gbc.readMem(0xa7cb), 0x94);
        // CB 94 01C6
        gbc.setState(0x635f, 0x9da3, 0x3d30, 0x482e, 0xc93f, 0xfd7d, 0x1, 0x1);
        gbc.writeMem(0x635f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x9da3);
        EXPECT(gbc.pc(), 0x6361);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01C7
        gbc.setState(0xa0b4, 0x224a, 0x6180, 0x3696, 0x7b9b, 0xbe3d, 0x0, 0x0);
        gbc.writeMem(0xa0b4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x224a);
        EXPECT(gbc.pc(), 0xa0b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0b4), 0xcb);
        EXPECT(gbc.readMem(0xa0b5), 0x94);
        // CB 94 01C8
        gbc.setState(0x5be6, 0x5761, 0x67b0, 0xdef, 0xa761, 0xc525, 0x0, 0x0);
        gbc.writeMem(0x5be6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x5761);
        EXPECT(gbc.pc(), 0x5be8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01C9
        gbc.setState(0xd885, 0xee7a, 0x2f0, 0xefee, 0xf4de, 0xd3a8, 0x1, 0x0);
        gbc.writeMem(0xd885, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xee7a);
        EXPECT(gbc.pc(), 0xd887);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd885), 0xcb);
        EXPECT(gbc.readMem(0xd886), 0x94);
        // CB 94 01CA
        gbc.setState(0xd0ab, 0xcbcc, 0x5160, 0xe9cc, 0x51bb, 0x6087, 0x0, 0x0);
        gbc.writeMem(0xd0ab, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xcbcc);
        EXPECT(gbc.pc(), 0xd0ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0ab), 0xcb);
        EXPECT(gbc.readMem(0xd0ac), 0x94);
        // CB 94 01CB
        gbc.setState(0x3ff2, 0x3580, 0xf900, 0xa32f, 0x1674, 0xa735, 0x0, 0x0);
        gbc.writeMem(0x3ff2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x3580);
        EXPECT(gbc.pc(), 0x3ff4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01CC
        gbc.setState(0xd4b4, 0xbbac, 0x7d50, 0xebfb, 0x4f8c, 0x70ea, 0x0, 0x1);
        gbc.writeMem(0xd4b4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xbbac);
        EXPECT(gbc.pc(), 0xd4b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4b4), 0xcb);
        EXPECT(gbc.readMem(0xd4b5), 0x94);
        // CB 94 01CD
        gbc.setState(0x2be5, 0xbdfe, 0xde50, 0x774f, 0x2a9b, 0x8e8e, 0x1, 0x1);
        gbc.writeMem(0x2be5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xbdfe);
        EXPECT(gbc.pc(), 0x2be7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01CE
        gbc.setState(0xcb8, 0x5266, 0x1930, 0x27b4, 0x499b, 0xbc2f, 0x1, 0x1);
        gbc.writeMem(0xcb8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x5266);
        EXPECT(gbc.pc(), 0xcba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01CF
        gbc.setState(0x4468, 0x8219, 0xec0, 0x74ed, 0x9ff6, 0x2cb6, 0x0, 0x0);
        gbc.writeMem(0x4468, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x8219);
        EXPECT(gbc.pc(), 0x446a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01D0
        gbc.setState(0x2197, 0xb1ed, 0x9280, 0x9f5a, 0x3eb6, 0xde39, 0x0, 0x1);
        gbc.writeMem(0x2197, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xb1ed);
        EXPECT(gbc.pc(), 0x2199);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01D1
        gbc.setState(0x4ecf, 0xb5c2, 0xe30, 0x7e7f, 0x1c2a, 0x68b2, 0x1, 0x0);
        gbc.writeMem(0x4ecf, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb5c2);
        EXPECT(gbc.pc(), 0x4ed1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01D2
        gbc.setState(0x90c9, 0xac66, 0x7d90, 0x983f, 0x92ca, 0xe288, 0x0, 0x1);
        gbc.writeMem(0x90c9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xac66);
        EXPECT(gbc.pc(), 0x90cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90c9), 0xcb);
        EXPECT(gbc.readMem(0x90ca), 0x94);
        // CB 94 01D3
        gbc.setState(0x28b3, 0xadab, 0x9bb0, 0xc5a, 0x61cf, 0x56cf, 0x1, 0x0);
        gbc.writeMem(0x28b3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xadab);
        EXPECT(gbc.pc(), 0x28b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01D4
        gbc.setState(0x1a87, 0x2cab, 0x2940, 0x6ad3, 0xa066, 0x9cbe, 0x0, 0x1);
        gbc.writeMem(0x1a87, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x2cab);
        EXPECT(gbc.pc(), 0x1a89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01D5
        gbc.setState(0x29a9, 0xe822, 0xb050, 0x899e, 0xf209, 0x5db5, 0x1, 0x1);
        gbc.writeMem(0x29a9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xe822);
        EXPECT(gbc.pc(), 0x29ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01D6
        gbc.setState(0xb49d, 0xcef2, 0x20e0, 0x1b30, 0xcf04, 0x68e8, 0x0, 0x0);
        gbc.writeMem(0xb49d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xcef2);
        EXPECT(gbc.pc(), 0xb49f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb49d), 0xcb);
        EXPECT(gbc.readMem(0xb49e), 0x94);
        // CB 94 01D7
        gbc.setState(0x3071, 0x702, 0x4910, 0xd5ae, 0xa7bf, 0xb577, 0x1, 0x1);
        gbc.writeMem(0x3071, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x702);
        EXPECT(gbc.pc(), 0x3073);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01D8
        gbc.setState(0x118c, 0xf112, 0xbb00, 0xb8bb, 0xe6bb, 0x7694, 0x0, 0x1);
        gbc.writeMem(0x118c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xf112);
        EXPECT(gbc.pc(), 0x118e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01D9
        gbc.setState(0x93ad, 0x2905, 0x5ce0, 0x2904, 0xb7a9, 0x61e2, 0x0, 0x0);
        gbc.writeMem(0x93ad, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x2905);
        EXPECT(gbc.pc(), 0x93af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93ad), 0xcb);
        EXPECT(gbc.readMem(0x93ae), 0x94);
        // CB 94 01DA
        gbc.setState(0xb4d0, 0x7f77, 0x8dc0, 0x2ff0, 0xf165, 0x4157, 0x0, 0x1);
        gbc.writeMem(0xb4d0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x7f77);
        EXPECT(gbc.pc(), 0xb4d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4d0), 0xcb);
        EXPECT(gbc.readMem(0xb4d1), 0x94);
        // CB 94 01DB
        gbc.setState(0x3898, 0xfdbb, 0xfd40, 0xe3d0, 0xcfc, 0x47dc, 0x1, 0x1);
        gbc.writeMem(0x3898, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xfdbb);
        EXPECT(gbc.pc(), 0x389a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01DC
        gbc.setState(0xd958, 0x535f, 0xd7c0, 0x672b, 0xb6e6, 0xaf54, 0x0, 0x0);
        gbc.writeMem(0xd958, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x535f);
        EXPECT(gbc.pc(), 0xd95a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd958), 0xcb);
        EXPECT(gbc.readMem(0xd959), 0x94);
        // CB 94 01DD
        gbc.setState(0x48a3, 0xd5d2, 0x4de0, 0xcb6d, 0x6872, 0x5833, 0x0, 0x0);
        gbc.writeMem(0x48a3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xd5d2);
        EXPECT(gbc.pc(), 0x48a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01DE
        gbc.setState(0x19cb, 0x5522, 0xb820, 0xcbc8, 0xd018, 0xf006, 0x0, 0x0);
        gbc.writeMem(0x19cb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x5522);
        EXPECT(gbc.pc(), 0x19cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01DF
        gbc.setState(0xeb08, 0x8305, 0xfaa0, 0xbfef, 0x7d9a, 0x93be, 0x0, 0x0);
        gbc.writeMem(0xeb08, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x8305);
        EXPECT(gbc.pc(), 0xeb0a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb08), 0xcb);
        EXPECT(gbc.readMem(0xeb09), 0x94);
        // CB 94 01E0
        gbc.setState(0x4e58, 0x96f4, 0x29d0, 0x4b6c, 0xbda0, 0x2ddc, 0x1, 0x0);
        gbc.writeMem(0x4e58, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x96f4);
        EXPECT(gbc.pc(), 0x4e5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01E1
        gbc.setState(0xe914, 0xe47, 0x7400, 0xda39, 0x3254, 0xccf5, 0x0, 0x1);
        gbc.writeMem(0xe914, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xe47);
        EXPECT(gbc.pc(), 0xe916);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe914), 0xcb);
        EXPECT(gbc.readMem(0xe915), 0x94);
        // CB 94 01E2
        gbc.setState(0x51c5, 0xa3dc, 0xce10, 0xdf57, 0x87c3, 0xfa80, 0x0, 0x1);
        gbc.writeMem(0x51c5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xa3dc);
        EXPECT(gbc.pc(), 0x51c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01E3
        gbc.setState(0xc37b, 0x5806, 0x9e40, 0x2c4d, 0x4a9a, 0xa93c, 0x0, 0x1);
        gbc.writeMem(0xc37b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x5806);
        EXPECT(gbc.pc(), 0xc37d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc37b), 0xcb);
        EXPECT(gbc.readMem(0xc37c), 0x94);
        // CB 94 01E4
        gbc.setState(0xc4a, 0x106d, 0xde90, 0xaf66, 0x532f, 0x896, 0x0, 0x1);
        gbc.writeMem(0xc4a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x106d);
        EXPECT(gbc.pc(), 0xc4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01E5
        gbc.setState(0xa1ec, 0xf26f, 0xfe20, 0xc5e3, 0x8e18, 0xb18d, 0x0, 0x1);
        gbc.writeMem(0xa1ec, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xf26f);
        EXPECT(gbc.pc(), 0xa1ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1ec), 0xcb);
        EXPECT(gbc.readMem(0xa1ed), 0x94);
        // CB 94 01E6
        gbc.setState(0x35f8, 0xb0b3, 0xdf80, 0x960a, 0x87f4, 0xbacd, 0x0, 0x1);
        gbc.writeMem(0x35f8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xb0b3);
        EXPECT(gbc.pc(), 0x35fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01E7
        gbc.setState(0x412b, 0xa115, 0x2fb0, 0xff1f, 0xd3dd, 0x5f87, 0x1, 0x1);
        gbc.writeMem(0x412b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xa115);
        EXPECT(gbc.pc(), 0x412d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01E8
        gbc.setState(0x19fd, 0x141b, 0x8ba0, 0xbf12, 0x1ebb, 0xa19d, 0x0, 0x1);
        gbc.writeMem(0x19fd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x141b);
        EXPECT(gbc.pc(), 0x19ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01E9
        gbc.setState(0x1385, 0x2e92, 0xb6f0, 0x981, 0x5440, 0xe35e, 0x1, 0x1);
        gbc.writeMem(0x1385, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x2e92);
        EXPECT(gbc.pc(), 0x1387);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01EA
        gbc.setState(0xbcba, 0x1ba8, 0x9e80, 0xd5e1, 0x4e7b, 0xa6cd, 0x1, 0x0);
        gbc.writeMem(0xbcba, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x1ba8);
        EXPECT(gbc.pc(), 0xbcbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcba), 0xcb);
        EXPECT(gbc.readMem(0xbcbb), 0x94);
        // CB 94 01EB
        gbc.setState(0x68bd, 0xcaf8, 0x96b0, 0x1eb4, 0x4e7, 0x8dd4, 0x0, 0x0);
        gbc.writeMem(0x68bd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xcaf8);
        EXPECT(gbc.pc(), 0x68bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01EC
        gbc.setState(0x9644, 0xc8e3, 0xcf00, 0xaff, 0x8f83, 0x510e, 0x0, 0x1);
        gbc.writeMem(0x9644, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xc8e3);
        EXPECT(gbc.pc(), 0x9646);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9644), 0xcb);
        EXPECT(gbc.readMem(0x9645), 0x94);
        // CB 94 01ED
        gbc.setState(0x18af, 0x760, 0x45d0, 0x5227, 0x5955, 0x28f8, 0x0, 0x1);
        gbc.writeMem(0x18af, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x760);
        EXPECT(gbc.pc(), 0x18b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01EE
        gbc.setState(0x239b, 0xa0f1, 0xf730, 0x233d, 0xc89a, 0x2215, 0x1, 0x1);
        gbc.writeMem(0x239b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xa0f1);
        EXPECT(gbc.pc(), 0x239d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01EF
        gbc.setState(0x8e96, 0xc034, 0x6150, 0xbbe, 0xafac, 0x93be, 0x1, 0x0);
        gbc.writeMem(0x8e96, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xc034);
        EXPECT(gbc.pc(), 0x8e98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e96), 0xcb);
        EXPECT(gbc.readMem(0x8e97), 0x94);
        // CB 94 01F0
        gbc.setState(0x9f57, 0x7617, 0x56b0, 0x61ed, 0xe365, 0x746b, 0x1, 0x1);
        gbc.writeMem(0x9f57, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x7617);
        EXPECT(gbc.pc(), 0x9f59);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f57), 0xcb);
        EXPECT(gbc.readMem(0x9f58), 0x94);
        // CB 94 01F1
        gbc.setState(0x51e5, 0x7daa, 0x2320, 0x2135, 0x78b6, 0xd04f, 0x0, 0x0);
        gbc.writeMem(0x51e5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x7daa);
        EXPECT(gbc.pc(), 0x51e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01F2
        gbc.setState(0x2bb0, 0xf3eb, 0xb230, 0x9659, 0xddee, 0x8c8f, 0x1, 0x1);
        gbc.writeMem(0x2bb0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf3eb);
        EXPECT(gbc.pc(), 0x2bb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01F3
        gbc.setState(0x1e35, 0x8b2d, 0x7980, 0x91f8, 0x46f5, 0xf7ce, 0x0, 0x0);
        gbc.writeMem(0x1e35, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x8b2d);
        EXPECT(gbc.pc(), 0x1e37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01F4
        gbc.setState(0xe335, 0xe668, 0x95f0, 0x585e, 0x1317, 0x1aa5, 0x1, 0x0);
        gbc.writeMem(0xe335, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xe668);
        EXPECT(gbc.pc(), 0xe337);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe335), 0xcb);
        EXPECT(gbc.readMem(0xe336), 0x94);
        // CB 94 01F5
        gbc.setState(0x9f88, 0xeb14, 0xd5e0, 0xdd51, 0x79f0, 0x8509, 0x1, 0x0);
        gbc.writeMem(0x9f88, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xeb14);
        EXPECT(gbc.pc(), 0x9f8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f88), 0xcb);
        EXPECT(gbc.readMem(0x9f89), 0x94);
        // CB 94 01F6
        gbc.setState(0x44b1, 0x48bc, 0x3730, 0xfac0, 0x7ee8, 0xaa3f, 0x1, 0x0);
        gbc.writeMem(0x44b1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x48bc);
        EXPECT(gbc.pc(), 0x44b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01F7
        gbc.setState(0xced, 0xf4f2, 0x4520, 0xafc0, 0xf1e5, 0xdc16, 0x0, 0x0);
        gbc.writeMem(0xced, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xf4f2);
        EXPECT(gbc.pc(), 0xcef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01F8
        gbc.setState(0x538d, 0x500, 0xfac0, 0x5490, 0x909c, 0x1539, 0x1, 0x0);
        gbc.writeMem(0x538d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x500);
        EXPECT(gbc.pc(), 0x538f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01F9
        gbc.setState(0x2279, 0xfcbc, 0x2590, 0xc2bc, 0x93f5, 0x807a, 0x0, 0x1);
        gbc.writeMem(0x2279, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xfcbc);
        EXPECT(gbc.pc(), 0x227b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 01FA
        gbc.setState(0xecdb, 0xe528, 0x1390, 0x68ac, 0xc735, 0x9a05, 0x0, 0x0);
        gbc.writeMem(0xecdb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xe528);
        EXPECT(gbc.pc(), 0xecdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecdb), 0xcb);
        EXPECT(gbc.readMem(0xecdc), 0x94);
        // CB 94 01FC
        gbc.setState(0xeb60, 0x9be1, 0xdbe0, 0x30f2, 0x64d4, 0x7bce, 0x0, 0x0);
        gbc.writeMem(0xeb60, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x9be1);
        EXPECT(gbc.pc(), 0xeb62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb60), 0xcb);
        EXPECT(gbc.readMem(0xeb61), 0x94);
        // CB 94 01FD
        gbc.setState(0xee2f, 0x6966, 0xe480, 0xba0c, 0x17e7, 0x4470, 0x0, 0x1);
        gbc.writeMem(0xee2f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x6966);
        EXPECT(gbc.pc(), 0xee31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee2f), 0xcb);
        EXPECT(gbc.readMem(0xee30), 0x94);
        // CB 94 01FE
        gbc.setState(0x1644, 0xf428, 0x3840, 0x31e2, 0xd560, 0x91b6, 0x0, 0x0);
        gbc.writeMem(0x1644, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xf428);
        EXPECT(gbc.pc(), 0x1646);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 01FF
        gbc.setState(0x69bc, 0x876f, 0xf790, 0xeb68, 0xa4f0, 0x6b1e, 0x0, 0x1);
        gbc.writeMem(0x69bc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x876f);
        EXPECT(gbc.pc(), 0x69be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0200
        gbc.setState(0x81d8, 0xdc02, 0xd750, 0x1dda, 0x24ca, 0x7544, 0x0, 0x1);
        gbc.writeMem(0x81d8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xdc02);
        EXPECT(gbc.pc(), 0x81da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81d8), 0xcb);
        EXPECT(gbc.readMem(0x81d9), 0x94);
        // CB 94 0201
        gbc.setState(0x3f7d, 0xd879, 0x9580, 0x2cf3, 0xf760, 0xabfe, 0x1, 0x1);
        gbc.writeMem(0x3f7d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xd879);
        EXPECT(gbc.pc(), 0x3f7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0202
        gbc.setState(0xc020, 0xfd4c, 0x5fe0, 0x45e6, 0xb8e3, 0xb256, 0x1, 0x0);
        gbc.writeMem(0xc020, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xfd4c);
        EXPECT(gbc.pc(), 0xc022);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc020), 0xcb);
        EXPECT(gbc.readMem(0xc021), 0x94);
        // CB 94 0203
        gbc.setState(0xe457, 0xaca3, 0x8100, 0xc4cd, 0x92d1, 0x2ecb, 0x1, 0x1);
        gbc.writeMem(0xe457, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xaca3);
        EXPECT(gbc.pc(), 0xe459);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe457), 0xcb);
        EXPECT(gbc.readMem(0xe458), 0x94);
        // CB 94 0204
        gbc.setState(0x390d, 0x3c54, 0x6eb0, 0x9114, 0x281e, 0x75a2, 0x1, 0x0);
        gbc.writeMem(0x390d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x3c54);
        EXPECT(gbc.pc(), 0x390f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0205
        gbc.setState(0xb1c9, 0xd3e5, 0x8030, 0x1b8a, 0xba6d, 0x48a0, 0x1, 0x0);
        gbc.writeMem(0xb1c9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xd3e5);
        EXPECT(gbc.pc(), 0xb1cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1c9), 0xcb);
        EXPECT(gbc.readMem(0xb1ca), 0x94);
        // CB 94 0206
        gbc.setState(0xad9f, 0xc409, 0xb980, 0xcf1, 0x8fc0, 0x3e3c, 0x0, 0x0);
        gbc.writeMem(0xad9f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xc409);
        EXPECT(gbc.pc(), 0xada1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad9f), 0xcb);
        EXPECT(gbc.readMem(0xada0), 0x94);
        // CB 94 0207
        gbc.setState(0x32a, 0x74ab, 0x7140, 0x8c37, 0x8967, 0x52fd, 0x1, 0x1);
        gbc.writeMem(0x32a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x74ab);
        EXPECT(gbc.pc(), 0x32c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0208
        gbc.setState(0xc61, 0xbd86, 0x34f0, 0x7c7b, 0xf9e0, 0x42a1, 0x0, 0x0);
        gbc.writeMem(0xc61, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xbd86);
        EXPECT(gbc.pc(), 0xc63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0209
        gbc.setState(0x3dee, 0x67b8, 0xf040, 0x64a, 0xfb79, 0x6b30, 0x0, 0x1);
        gbc.writeMem(0x3dee, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x67b8);
        EXPECT(gbc.pc(), 0x3df0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 020A
        gbc.setState(0x4c7e, 0xe349, 0x29f0, 0xe2dc, 0xdc6, 0x7ef5, 0x0, 0x0);
        gbc.writeMem(0x4c7e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xe349);
        EXPECT(gbc.pc(), 0x4c80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 020B
        gbc.setState(0x582, 0x4c4b, 0x7490, 0x57f2, 0x73f9, 0xf316, 0x0, 0x1);
        gbc.writeMem(0x582, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x4c4b);
        EXPECT(gbc.pc(), 0x584);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 020C
        gbc.setState(0x3f0e, 0xefb9, 0x9650, 0x6d36, 0xc15e, 0xe585, 0x1, 0x1);
        gbc.writeMem(0x3f0e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xefb9);
        EXPECT(gbc.pc(), 0x3f10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 020D
        gbc.setState(0x633, 0x23bb, 0x930, 0xb759, 0xfcfc, 0xe7bf, 0x1, 0x0);
        gbc.writeMem(0x633, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x23bb);
        EXPECT(gbc.pc(), 0x635);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 020E
        gbc.setState(0xfa0, 0x655b, 0xbad0, 0xa683, 0x833b, 0x5aa1, 0x1, 0x1);
        gbc.writeMem(0xfa0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x655b);
        EXPECT(gbc.pc(), 0xfa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 020F
        gbc.setState(0x7f04, 0x1544, 0x76b0, 0x3fd8, 0xaa91, 0x4ba0, 0x1, 0x0);
        gbc.writeMem(0x7f04, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x1544);
        EXPECT(gbc.pc(), 0x7f06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0211
        gbc.setState(0xa9d0, 0x6ed2, 0x80, 0x69d6, 0x9c66, 0x2777, 0x0, 0x0);
        gbc.writeMem(0xa9d0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x6ed2);
        EXPECT(gbc.pc(), 0xa9d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9d0), 0xcb);
        EXPECT(gbc.readMem(0xa9d1), 0x94);
        // CB 94 0212
        gbc.setState(0x6ad8, 0xa3e1, 0xd2e0, 0x108b, 0xb4fa, 0x254f, 0x1, 0x1);
        gbc.writeMem(0x6ad8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xa3e1);
        EXPECT(gbc.pc(), 0x6ada);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0213
        gbc.setState(0x2008, 0xe946, 0xecf0, 0x22b7, 0x914, 0x122a, 0x1, 0x1);
        gbc.writeMem(0x2008, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xe946);
        EXPECT(gbc.pc(), 0x200a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0214
        gbc.setState(0x1b2f, 0x717d, 0x78f0, 0x25ee, 0x4b8e, 0x6d81, 0x1, 0x0);
        gbc.writeMem(0x1b2f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x717d);
        EXPECT(gbc.pc(), 0x1b31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0215
        gbc.setState(0x8243, 0xdb9c, 0xe430, 0x9c84, 0x36e3, 0xc405, 0x0, 0x1);
        gbc.writeMem(0x8243, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xdb9c);
        EXPECT(gbc.pc(), 0x8245);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8243), 0xcb);
        EXPECT(gbc.readMem(0x8244), 0x94);
        // CB 94 0216
        gbc.setState(0x65f1, 0xdab6, 0x6770, 0x6a2a, 0x1e07, 0x87fd, 0x1, 0x0);
        gbc.writeMem(0x65f1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xdab6);
        EXPECT(gbc.pc(), 0x65f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0217
        gbc.setState(0x9fd6, 0x3245, 0x33d0, 0xafe1, 0xf4fa, 0x1877, 0x0, 0x1);
        gbc.writeMem(0x9fd6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x3245);
        EXPECT(gbc.pc(), 0x9fd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fd6), 0xcb);
        EXPECT(gbc.readMem(0x9fd7), 0x94);
        // CB 94 0218
        gbc.setState(0x211e, 0xb113, 0x5410, 0x73ff, 0xc390, 0x77b0, 0x0, 0x1);
        gbc.writeMem(0x211e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xb113);
        EXPECT(gbc.pc(), 0x2120);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0219
        gbc.setState(0x7733, 0xce30, 0x7760, 0x8ac1, 0xf928, 0xf5a6, 0x1, 0x1);
        gbc.writeMem(0x7733, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xce30);
        EXPECT(gbc.pc(), 0x7735);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 021A
        gbc.setState(0x251a, 0x9802, 0xc1d0, 0xc490, 0xdf2d, 0xfd5c, 0x1, 0x1);
        gbc.writeMem(0x251a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x9802);
        EXPECT(gbc.pc(), 0x251c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 021B
        gbc.setState(0xed3, 0xdb2e, 0xde40, 0x58f1, 0x64f8, 0xf1b7, 0x0, 0x1);
        gbc.writeMem(0xed3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xdb2e);
        EXPECT(gbc.pc(), 0xed5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 021C
        gbc.setState(0xa4f3, 0xc6be, 0x4ab0, 0x1eaa, 0x67af, 0xfce8, 0x1, 0x0);
        gbc.writeMem(0xa4f3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xc6be);
        EXPECT(gbc.pc(), 0xa4f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4f3), 0xcb);
        EXPECT(gbc.readMem(0xa4f4), 0x94);
        // CB 94 021D
        gbc.setState(0x78b2, 0x8cfb, 0xa400, 0x9418, 0xaea3, 0x8226, 0x0, 0x1);
        gbc.writeMem(0x78b2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x8cfb);
        EXPECT(gbc.pc(), 0x78b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 021E
        gbc.setState(0x6aa3, 0x793b, 0x8450, 0x68bb, 0x68b1, 0x5dc1, 0x0, 0x1);
        gbc.writeMem(0x6aa3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x793b);
        EXPECT(gbc.pc(), 0x6aa5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 021F
        gbc.setState(0x45b1, 0x7704, 0x15f0, 0xecac, 0xd587, 0x1439, 0x1, 0x0);
        gbc.writeMem(0x45b1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x7704);
        EXPECT(gbc.pc(), 0x45b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0220
        gbc.setState(0x31, 0x3f39, 0x4380, 0x9dee, 0xa943, 0xd5c5, 0x0, 0x1);
        gbc.writeMem(0x31, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x3f39);
        EXPECT(gbc.pc(), 0x33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0221
        gbc.setState(0x1c49, 0x1db6, 0xbd90, 0xae85, 0x5fba, 0xa568, 0x0, 0x1);
        gbc.writeMem(0x1c49, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x1db6);
        EXPECT(gbc.pc(), 0x1c4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0222
        gbc.setState(0xa4ad, 0xf336, 0xaa0, 0xa21c, 0xba04, 0x6af2, 0x1, 0x1);
        gbc.writeMem(0xa4ad, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xf336);
        EXPECT(gbc.pc(), 0xa4af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4ad), 0xcb);
        EXPECT(gbc.readMem(0xa4ae), 0x94);
        // CB 94 0223
        gbc.setState(0x9d1f, 0x1c71, 0x4fc0, 0xb16c, 0xd5a8, 0xad0, 0x0, 0x0);
        gbc.writeMem(0x9d1f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x1c71);
        EXPECT(gbc.pc(), 0x9d21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d1f), 0xcb);
        EXPECT(gbc.readMem(0x9d20), 0x94);
        // CB 94 0224
        gbc.setState(0xd0fa, 0x4852, 0x3d90, 0x7187, 0xd9d7, 0x53a1, 0x0, 0x1);
        gbc.writeMem(0xd0fa, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x4852);
        EXPECT(gbc.pc(), 0xd0fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0fa), 0xcb);
        EXPECT(gbc.readMem(0xd0fb), 0x94);
        // CB 94 0225
        gbc.setState(0xc6c1, 0x1d7d, 0x4fe0, 0x2d46, 0x6cea, 0x1923, 0x1, 0x1);
        gbc.writeMem(0xc6c1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1d7d);
        EXPECT(gbc.pc(), 0xc6c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6c1), 0xcb);
        EXPECT(gbc.readMem(0xc6c2), 0x94);
        // CB 94 0226
        gbc.setState(0x4bba, 0xbb55, 0x4860, 0x8af9, 0xf386, 0x6a34, 0x0, 0x1);
        gbc.writeMem(0x4bba, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xbb55);
        EXPECT(gbc.pc(), 0x4bbc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0227
        gbc.setState(0xe6e9, 0x903f, 0x86a0, 0xc62f, 0xdf5a, 0x51e, 0x0, 0x1);
        gbc.writeMem(0xe6e9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x903f);
        EXPECT(gbc.pc(), 0xe6eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6e9), 0xcb);
        EXPECT(gbc.readMem(0xe6ea), 0x94);
        // CB 94 0228
        gbc.setState(0x8116, 0xa959, 0xbfc0, 0xf3a2, 0xbe6e, 0xdaf5, 0x1, 0x1);
        gbc.writeMem(0x8116, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xa959);
        EXPECT(gbc.pc(), 0x8118);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8116), 0xcb);
        EXPECT(gbc.readMem(0x8117), 0x94);
        // CB 94 0229
        gbc.setState(0x8d19, 0x4301, 0xa8d0, 0xd5e2, 0xb3f7, 0xb034, 0x0, 0x1);
        gbc.writeMem(0x8d19, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x4301);
        EXPECT(gbc.pc(), 0x8d1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d19), 0xcb);
        EXPECT(gbc.readMem(0x8d1a), 0x94);
        // CB 94 022A
        gbc.setState(0xc7a, 0xd89a, 0x6040, 0xce80, 0xd639, 0xfba7, 0x0, 0x1);
        gbc.writeMem(0xc7a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xd89a);
        EXPECT(gbc.pc(), 0xc7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 022C
        gbc.setState(0xe73a, 0x249b, 0x37d0, 0xe141, 0x2c42, 0x93ef, 0x0, 0x1);
        gbc.writeMem(0xe73a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x249b);
        EXPECT(gbc.pc(), 0xe73c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe73a), 0xcb);
        EXPECT(gbc.readMem(0xe73b), 0x94);
        // CB 94 022D
        gbc.setState(0x6cbf, 0xf96f, 0x15d0, 0x5da3, 0xef03, 0x472f, 0x0, 0x1);
        gbc.writeMem(0x6cbf, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xf96f);
        EXPECT(gbc.pc(), 0x6cc1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 022E
        gbc.setState(0x7814, 0x2cfb, 0xead0, 0x1118, 0x4954, 0x2a02, 0x1, 0x1);
        gbc.writeMem(0x7814, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x2cfb);
        EXPECT(gbc.pc(), 0x7816);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 022F
        gbc.setState(0x8756, 0xd1d2, 0xec30, 0x9ade, 0x7483, 0xb285, 0x1, 0x0);
        gbc.writeMem(0x8756, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xd1d2);
        EXPECT(gbc.pc(), 0x8758);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8756), 0xcb);
        EXPECT(gbc.readMem(0x8757), 0x94);
        // CB 94 0230
        gbc.setState(0xe3ee, 0xe0e0, 0xd10, 0xb2b2, 0x9ebe, 0x4c4a, 0x0, 0x1);
        gbc.writeMem(0xe3ee, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xe0e0);
        EXPECT(gbc.pc(), 0xe3f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3ee), 0xcb);
        EXPECT(gbc.readMem(0xe3ef), 0x94);
        // CB 94 0231
        gbc.setState(0x32f9, 0xe473, 0x40, 0x72c8, 0x57ca, 0xfb9f, 0x0, 0x0);
        gbc.writeMem(0x32f9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xe473);
        EXPECT(gbc.pc(), 0x32fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0232
        gbc.setState(0x7559, 0x75b3, 0x1d90, 0x115e, 0x5cdb, 0x1883, 0x1, 0x1);
        gbc.writeMem(0x7559, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x75b3);
        EXPECT(gbc.pc(), 0x755b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0233
        gbc.setState(0xcd4, 0xe484, 0x6780, 0x8517, 0x282c, 0xb1ad, 0x0, 0x1);
        gbc.writeMem(0xcd4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xe484);
        EXPECT(gbc.pc(), 0xcd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0234
        gbc.setState(0x5386, 0x1a81, 0x4ad0, 0x5a12, 0x7288, 0x19d3, 0x1, 0x1);
        gbc.writeMem(0x5386, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x1a81);
        EXPECT(gbc.pc(), 0x5388);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0235
        gbc.setState(0x4886, 0x1e88, 0x2960, 0x6a6d, 0x2aed, 0xd49b, 0x0, 0x0);
        gbc.writeMem(0x4886, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x1e88);
        EXPECT(gbc.pc(), 0x4888);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0236
        gbc.setState(0xa220, 0x38fc, 0xe010, 0x9bfc, 0xe93d, 0x403f, 0x0, 0x1);
        gbc.writeMem(0xa220, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x38fc);
        EXPECT(gbc.pc(), 0xa222);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa220), 0xcb);
        EXPECT(gbc.readMem(0xa221), 0x94);
        // CB 94 0237
        gbc.setState(0x8f31, 0x1d62, 0x1ac0, 0x278a, 0x81c, 0x9f08, 0x0, 0x0);
        gbc.writeMem(0x8f31, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x1d62);
        EXPECT(gbc.pc(), 0x8f33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f31), 0xcb);
        EXPECT(gbc.readMem(0x8f32), 0x94);
        // CB 94 0238
        gbc.setState(0x9d2b, 0xb602, 0xd140, 0xd474, 0x8ecf, 0x81b7, 0x0, 0x0);
        gbc.writeMem(0x9d2b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xb602);
        EXPECT(gbc.pc(), 0x9d2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d2b), 0xcb);
        EXPECT(gbc.readMem(0x9d2c), 0x94);
        // CB 94 0239
        gbc.setState(0xba6a, 0xfd14, 0xf500, 0x3652, 0x8cec, 0xfb80, 0x1, 0x0);
        gbc.writeMem(0xba6a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xfd14);
        EXPECT(gbc.pc(), 0xba6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba6a), 0xcb);
        EXPECT(gbc.readMem(0xba6b), 0x94);
        // CB 94 023A
        gbc.setState(0x50a5, 0x1d6e, 0xe930, 0xa11c, 0xea29, 0x1086, 0x0, 0x1);
        gbc.writeMem(0x50a5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x1d6e);
        EXPECT(gbc.pc(), 0x50a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 023B
        gbc.setState(0xa683, 0xbfbc, 0x5bd0, 0xe5ba, 0x5d2c, 0x7634, 0x0, 0x1);
        gbc.writeMem(0xa683, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xbfbc);
        EXPECT(gbc.pc(), 0xa685);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa683), 0xcb);
        EXPECT(gbc.readMem(0xa684), 0x94);
        // CB 94 023C
        gbc.setState(0xd72c, 0x3931, 0x6be0, 0x35a8, 0xea14, 0x7558, 0x1, 0x1);
        gbc.writeMem(0xd72c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x3931);
        EXPECT(gbc.pc(), 0xd72e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd72c), 0xcb);
        EXPECT(gbc.readMem(0xd72d), 0x94);
        // CB 94 023E
        gbc.setState(0x6b87, 0xb565, 0x6ef0, 0x1f7b, 0x374c, 0xaffb, 0x0, 0x0);
        gbc.writeMem(0x6b87, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0xb565);
        EXPECT(gbc.pc(), 0x6b89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 023F
        gbc.setState(0xb3e9, 0x9812, 0x9ce0, 0x74ef, 0x8a7e, 0x3608, 0x1, 0x0);
        gbc.writeMem(0xb3e9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x9812);
        EXPECT(gbc.pc(), 0xb3eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3e9), 0xcb);
        EXPECT(gbc.readMem(0xb3ea), 0x94);
        // CB 94 0240
        gbc.setState(0x603, 0x4357, 0x5d10, 0xd014, 0xb636, 0xcf1b, 0x1, 0x1);
        gbc.writeMem(0x603, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x4357);
        EXPECT(gbc.pc(), 0x605);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0241
        gbc.setState(0x6531, 0x6a2a, 0x7a0, 0x2979, 0xf8e7, 0x8844, 0x1, 0x1);
        gbc.writeMem(0x6531, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x6a2a);
        EXPECT(gbc.pc(), 0x6533);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0242
        gbc.setState(0xd465, 0x5b6b, 0xe430, 0xd43b, 0x63f3, 0xaeae, 0x1, 0x0);
        gbc.writeMem(0xd465, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x5b6b);
        EXPECT(gbc.pc(), 0xd467);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd465), 0xcb);
        EXPECT(gbc.readMem(0xd466), 0x94);
        // CB 94 0243
        gbc.setState(0xeace, 0xd088, 0xee00, 0x46b, 0x2691, 0xca0c, 0x0, 0x0);
        gbc.writeMem(0xeace, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xd088);
        EXPECT(gbc.pc(), 0xead0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeace), 0xcb);
        EXPECT(gbc.readMem(0xeacf), 0x94);
        // CB 94 0244
        gbc.setState(0xbafc, 0x3635, 0xe560, 0x5f85, 0x62ef, 0x6546, 0x1, 0x0);
        gbc.writeMem(0xbafc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x3635);
        EXPECT(gbc.pc(), 0xbafe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbafc), 0xcb);
        EXPECT(gbc.readMem(0xbafd), 0x94);
        // CB 94 0245
        gbc.setState(0x54a6, 0xa90a, 0xd680, 0xe3ab, 0x560a, 0x59f8, 0x0, 0x1);
        gbc.writeMem(0x54a6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xa90a);
        EXPECT(gbc.pc(), 0x54a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0246
        gbc.setState(0x887a, 0x5e75, 0x2430, 0x2890, 0x5c05, 0xa7fd, 0x1, 0x1);
        gbc.writeMem(0x887a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x5e75);
        EXPECT(gbc.pc(), 0x887c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x887a), 0xcb);
        EXPECT(gbc.readMem(0x887b), 0x94);
        // CB 94 0247
        gbc.setState(0x254b, 0xb71, 0x2ad0, 0xd7df, 0xe1bd, 0x263d, 0x1, 0x1);
        gbc.writeMem(0x254b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xb71);
        EXPECT(gbc.pc(), 0x254d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0248
        gbc.setState(0x5847, 0xa4a6, 0x560, 0xed03, 0x7367, 0x23d4, 0x0, 0x1);
        gbc.writeMem(0x5847, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xa4a6);
        EXPECT(gbc.pc(), 0x5849);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0249
        gbc.setState(0x7e5e, 0xd756, 0x59e0, 0xdd87, 0xe54, 0xf9c7, 0x1, 0x0);
        gbc.writeMem(0x7e5e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xd756);
        EXPECT(gbc.pc(), 0x7e60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 024A
        gbc.setState(0x8cd2, 0x7ec, 0x360, 0xdf8c, 0x3705, 0xb520, 0x1, 0x1);
        gbc.writeMem(0x8cd2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x7ec);
        EXPECT(gbc.pc(), 0x8cd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cd2), 0xcb);
        EXPECT(gbc.readMem(0x8cd3), 0x94);
        // CB 94 024B
        gbc.setState(0x56ae, 0x6e1a, 0x7060, 0xd6ff, 0xeb9d, 0x35ea, 0x1, 0x1);
        gbc.writeMem(0x56ae, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x6e1a);
        EXPECT(gbc.pc(), 0x56b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 024C
        gbc.setState(0xe50, 0xabd2, 0x7410, 0x2de9, 0x6015, 0x642a, 0x0, 0x0);
        gbc.writeMem(0xe50, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xabd2);
        EXPECT(gbc.pc(), 0xe52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 024D
        gbc.setState(0x2278, 0x866a, 0xf030, 0x63df, 0xd59, 0x83be, 0x0, 0x0);
        gbc.writeMem(0x2278, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x866a);
        EXPECT(gbc.pc(), 0x227a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 024E
        gbc.setState(0xa6, 0xfedf, 0x4590, 0xce9c, 0x771c, 0x5b72, 0x1, 0x1);
        gbc.writeMem(0xa6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xfedf);
        EXPECT(gbc.pc(), 0xa8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 024F
        gbc.setState(0x225a, 0x908, 0x79a0, 0x7eba, 0x4359, 0x90fc, 0x0, 0x0);
        gbc.writeMem(0x225a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x908);
        EXPECT(gbc.pc(), 0x225c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0250
        gbc.setState(0x453f, 0x1c85, 0x8760, 0xd62d, 0xc367, 0x5b04, 0x1, 0x1);
        gbc.writeMem(0x453f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x1c85);
        EXPECT(gbc.pc(), 0x4541);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0251
        gbc.setState(0xbb4b, 0x9d5f, 0x77e0, 0x11a5, 0xffc6, 0x368f, 0x0, 0x1);
        gbc.writeMem(0xbb4b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x9d5f);
        EXPECT(gbc.pc(), 0xbb4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb4b), 0xcb);
        EXPECT(gbc.readMem(0xbb4c), 0x94);
        // CB 94 0252
        gbc.setState(0x6cc7, 0x3a6f, 0x10f0, 0x49be, 0xeb27, 0xb6ca, 0x0, 0x1);
        gbc.writeMem(0x6cc7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x3a6f);
        EXPECT(gbc.pc(), 0x6cc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0253
        gbc.setState(0xacf6, 0x382d, 0x41e0, 0xf8ee, 0xe53e, 0x9849, 0x0, 0x1);
        gbc.writeMem(0xacf6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x382d);
        EXPECT(gbc.pc(), 0xacf8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacf6), 0xcb);
        EXPECT(gbc.readMem(0xacf7), 0x94);
        // CB 94 0254
        gbc.setState(0x1f51, 0x25ec, 0xe30, 0x5009, 0x1da7, 0x15cd, 0x1, 0x0);
        gbc.writeMem(0x1f51, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x25ec);
        EXPECT(gbc.pc(), 0x1f53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0255
        gbc.setState(0xbe13, 0x8c50, 0x4330, 0x7c08, 0x1e07, 0x6d20, 0x1, 0x0);
        gbc.writeMem(0xbe13, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8c50);
        EXPECT(gbc.pc(), 0xbe15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe13), 0xcb);
        EXPECT(gbc.readMem(0xbe14), 0x94);
        // CB 94 0256
        gbc.setState(0x647d, 0xbd14, 0xed0, 0xadbc, 0x1b1d, 0x1dd0, 0x0, 0x0);
        gbc.writeMem(0x647d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xbd14);
        EXPECT(gbc.pc(), 0x647f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0257
        gbc.setState(0xba75, 0xda75, 0x2b80, 0xc509, 0xf8c5, 0xa752, 0x0, 0x1);
        gbc.writeMem(0xba75, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xda75);
        EXPECT(gbc.pc(), 0xba77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba75), 0xcb);
        EXPECT(gbc.readMem(0xba76), 0x94);
        // CB 94 0258
        gbc.setState(0x20b, 0x3007, 0x71b0, 0x44d, 0x2706, 0xebc3, 0x0, 0x1);
        gbc.writeMem(0x20b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x3007);
        EXPECT(gbc.pc(), 0x20d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0259
        gbc.setState(0xa1dd, 0xe25a, 0x7f70, 0x6bc7, 0xae26, 0xf53f, 0x1, 0x1);
        gbc.writeMem(0xa1dd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe25a);
        EXPECT(gbc.pc(), 0xa1df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1dd), 0xcb);
        EXPECT(gbc.readMem(0xa1de), 0x94);
        // CB 94 025A
        gbc.setState(0xd328, 0xe5d6, 0xf460, 0xc669, 0xf161, 0x932b, 0x0, 0x0);
        gbc.writeMem(0xd328, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xe5d6);
        EXPECT(gbc.pc(), 0xd32a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd328), 0xcb);
        EXPECT(gbc.readMem(0xd329), 0x94);
        // CB 94 025B
        gbc.setState(0xe6ac, 0x23f0, 0xf560, 0xac37, 0xc0ef, 0x7a2f, 0x0, 0x1);
        gbc.writeMem(0xe6ac, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x23f0);
        EXPECT(gbc.pc(), 0xe6ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6ac), 0xcb);
        EXPECT(gbc.readMem(0xe6ad), 0x94);
        // CB 94 025C
        gbc.setState(0xc37f, 0x1035, 0x1500, 0x7dfc, 0x8787, 0x1fb5, 0x0, 0x1);
        gbc.writeMem(0xc37f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x1035);
        EXPECT(gbc.pc(), 0xc381);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc37f), 0xcb);
        EXPECT(gbc.readMem(0xc380), 0x94);
        // CB 94 025E
        gbc.setState(0x7956, 0x5b06, 0x3830, 0x9018, 0xb32, 0x274b, 0x0, 0x0);
        gbc.writeMem(0x7956, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x5b06);
        EXPECT(gbc.pc(), 0x7958);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 025F
        gbc.setState(0xbdd5, 0x5b7, 0xad20, 0xd489, 0x22a5, 0x5155, 0x1, 0x1);
        gbc.writeMem(0xbdd5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x5b7);
        EXPECT(gbc.pc(), 0xbdd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdd5), 0xcb);
        EXPECT(gbc.readMem(0xbdd6), 0x94);
        // CB 94 0260
        gbc.setState(0x17a3, 0xfd27, 0x5f30, 0x633e, 0xa3de, 0xc2a3, 0x0, 0x1);
        gbc.writeMem(0x17a3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xfd27);
        EXPECT(gbc.pc(), 0x17a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0262
        gbc.setState(0xae41, 0x43c9, 0x6ea0, 0xca3f, 0x776b, 0x8cc8, 0x1, 0x0);
        gbc.writeMem(0xae41, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x43c9);
        EXPECT(gbc.pc(), 0xae43);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae41), 0xcb);
        EXPECT(gbc.readMem(0xae42), 0x94);
        // CB 94 0263
        gbc.setState(0xd35a, 0x2b4e, 0x2910, 0xa069, 0xe4e7, 0xe66b, 0x0, 0x0);
        gbc.writeMem(0xd35a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x2b4e);
        EXPECT(gbc.pc(), 0xd35c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd35a), 0xcb);
        EXPECT(gbc.readMem(0xd35b), 0x94);
        // CB 94 0264
        gbc.setState(0xce81, 0x20e8, 0xaf20, 0xd4aa, 0xa6b6, 0x2b68, 0x1, 0x1);
        gbc.writeMem(0xce81, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x20e8);
        EXPECT(gbc.pc(), 0xce83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce81), 0xcb);
        EXPECT(gbc.readMem(0xce82), 0x94);
        // CB 94 0265
        gbc.setState(0x7d77, 0x714b, 0xf100, 0x179e, 0xc8ca, 0xebba, 0x0, 0x0);
        gbc.writeMem(0x7d77, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x714b);
        EXPECT(gbc.pc(), 0x7d79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0266
        gbc.setState(0x4e39, 0x1d43, 0x3580, 0xa959, 0xde65, 0xa245, 0x0, 0x0);
        gbc.writeMem(0x4e39, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x1d43);
        EXPECT(gbc.pc(), 0x4e3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0267
        gbc.setState(0xe570, 0xfbfc, 0xf540, 0x298, 0xd593, 0x198c, 0x1, 0x1);
        gbc.writeMem(0xe570, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xfbfc);
        EXPECT(gbc.pc(), 0xe572);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe570), 0xcb);
        EXPECT(gbc.readMem(0xe571), 0x94);
        // CB 94 0268
        gbc.setState(0x5a99, 0x6e50, 0x1840, 0xd81, 0xba2a, 0x1045, 0x0, 0x1);
        gbc.writeMem(0x5a99, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x6e50);
        EXPECT(gbc.pc(), 0x5a9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0269
        gbc.setState(0xd1ab, 0xe368, 0x9a40, 0x65b1, 0x35bc, 0x8f7f, 0x1, 0x1);
        gbc.writeMem(0xd1ab, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xe368);
        EXPECT(gbc.pc(), 0xd1ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1ab), 0xcb);
        EXPECT(gbc.readMem(0xd1ac), 0x94);
        // CB 94 026A
        gbc.setState(0xe7a6, 0x130c, 0x2470, 0x7e63, 0x10ff, 0x507c, 0x1, 0x0);
        gbc.writeMem(0xe7a6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x130c);
        EXPECT(gbc.pc(), 0xe7a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7a6), 0xcb);
        EXPECT(gbc.readMem(0xe7a7), 0x94);
        // CB 94 026B
        gbc.setState(0xec3e, 0xbdfe, 0xb220, 0xe610, 0xd5e, 0x6af7, 0x1, 0x0);
        gbc.writeMem(0xec3e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xbdfe);
        EXPECT(gbc.pc(), 0xec40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec3e), 0xcb);
        EXPECT(gbc.readMem(0xec3f), 0x94);
        // CB 94 026C
        gbc.setState(0x9c45, 0x402e, 0x1ab0, 0x91ff, 0x3b90, 0x5150, 0x1, 0x0);
        gbc.writeMem(0x9c45, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x402e);
        EXPECT(gbc.pc(), 0x9c47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c45), 0xcb);
        EXPECT(gbc.readMem(0x9c46), 0x94);
        // CB 94 026D
        gbc.setState(0x766c, 0xdd89, 0x47a0, 0x467c, 0x9, 0x6199, 0x0, 0x0);
        gbc.writeMem(0x766c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xdd89);
        EXPECT(gbc.pc(), 0x766e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 026E
        gbc.setState(0x484a, 0x3034, 0xee00, 0x70ff, 0xccd2, 0x5d9e, 0x0, 0x0);
        gbc.writeMem(0x484a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x3034);
        EXPECT(gbc.pc(), 0x484c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 026F
        gbc.setState(0x9d98, 0x66ee, 0xe2d0, 0xd9fd, 0x2e0e, 0xcaf3, 0x0, 0x0);
        gbc.writeMem(0x9d98, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x66ee);
        EXPECT(gbc.pc(), 0x9d9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d98), 0xcb);
        EXPECT(gbc.readMem(0x9d99), 0x94);
        // CB 94 0270
        gbc.setState(0x411c, 0x130f, 0x750, 0xf1ec, 0x714c, 0xda85, 0x0, 0x1);
        gbc.writeMem(0x411c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x130f);
        EXPECT(gbc.pc(), 0x411e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0271
        gbc.setState(0x6e54, 0xfe9a, 0xf60, 0x5ca2, 0xd15, 0x84bf, 0x0, 0x0);
        gbc.writeMem(0x6e54, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xfe9a);
        EXPECT(gbc.pc(), 0x6e56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0272
        gbc.setState(0x4c62, 0x8740, 0x6180, 0xff88, 0x1d00, 0x8d27, 0x1, 0x1);
        gbc.writeMem(0x4c62, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x8740);
        EXPECT(gbc.pc(), 0x4c64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0273
        gbc.setState(0x7b0a, 0x6742, 0x3440, 0x397a, 0xe73, 0xba8e, 0x0, 0x0);
        gbc.writeMem(0x7b0a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6742);
        EXPECT(gbc.pc(), 0x7b0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0274
        gbc.setState(0x7a80, 0x7678, 0xc2d0, 0x3638, 0xd949, 0x7839, 0x1, 0x0);
        gbc.writeMem(0x7a80, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x7678);
        EXPECT(gbc.pc(), 0x7a82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0275
        gbc.setState(0xc390, 0xd71d, 0x15d0, 0xe7f6, 0x72b7, 0x6f38, 0x0, 0x0);
        gbc.writeMem(0xc390, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xd71d);
        EXPECT(gbc.pc(), 0xc392);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc390), 0xcb);
        EXPECT(gbc.readMem(0xc391), 0x94);
        // CB 94 0276
        gbc.setState(0xb2a0, 0xc18e, 0xd300, 0x4946, 0xa94a, 0xe98, 0x0, 0x1);
        gbc.writeMem(0xb2a0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xc18e);
        EXPECT(gbc.pc(), 0xb2a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2a0), 0xcb);
        EXPECT(gbc.readMem(0xb2a1), 0x94);
        // CB 94 0277
        gbc.setState(0x5024, 0x3782, 0x1400, 0x3956, 0x2506, 0x1dfd, 0x0, 0x1);
        gbc.writeMem(0x5024, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x3782);
        EXPECT(gbc.pc(), 0x5026);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0278
        gbc.setState(0x1154, 0x1f3, 0xc50, 0xe0bb, 0x8d91, 0xc918, 0x0, 0x0);
        gbc.writeMem(0x1154, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x1f3);
        EXPECT(gbc.pc(), 0x1156);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0279
        gbc.setState(0xecb9, 0xf0a, 0x85d0, 0x4e31, 0x9000, 0x170a, 0x1, 0x1);
        gbc.writeMem(0xecb9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xf0a);
        EXPECT(gbc.pc(), 0xecbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecb9), 0xcb);
        EXPECT(gbc.readMem(0xecba), 0x94);
        // CB 94 027A
        gbc.setState(0x8d24, 0xf9ba, 0xf990, 0x3495, 0x586, 0xa4db, 0x0, 0x1);
        gbc.writeMem(0x8d24, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xf9ba);
        EXPECT(gbc.pc(), 0x8d26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d24), 0xcb);
        EXPECT(gbc.readMem(0x8d25), 0x94);
        // CB 94 027B
        gbc.setState(0x9870, 0x79b0, 0x7160, 0xf07e, 0x3d05, 0x7425, 0x1, 0x1);
        gbc.writeMem(0x9870, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x79b0);
        EXPECT(gbc.pc(), 0x9872);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9870), 0xcb);
        EXPECT(gbc.readMem(0x9871), 0x94);
        // CB 94 027C
        gbc.setState(0xc1b1, 0x9423, 0x89c0, 0x1eee, 0xbe35, 0x3702, 0x0, 0x1);
        gbc.writeMem(0xc1b1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x9423);
        EXPECT(gbc.pc(), 0xc1b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1b1), 0xcb);
        EXPECT(gbc.readMem(0xc1b2), 0x94);
        // CB 94 027D
        gbc.setState(0x3005, 0x42, 0xdcc0, 0xe02c, 0xec2a, 0xd7f6, 0x1, 0x0);
        gbc.writeMem(0x3005, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x42);
        EXPECT(gbc.pc(), 0x3007);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 027E
        gbc.setState(0x8dc3, 0x4ea4, 0xf980, 0x5d4, 0x4c01, 0x5938, 0x0, 0x0);
        gbc.writeMem(0x8dc3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x4ea4);
        EXPECT(gbc.pc(), 0x8dc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dc3), 0xcb);
        EXPECT(gbc.readMem(0x8dc4), 0x94);
        // CB 94 027F
        gbc.setState(0xcfb9, 0xe284, 0xea30, 0xbdfb, 0x2502, 0xd57e, 0x0, 0x1);
        gbc.writeMem(0xcfb9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xe284);
        EXPECT(gbc.pc(), 0xcfbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfb9), 0xcb);
        EXPECT(gbc.readMem(0xcfba), 0x94);
        // CB 94 0280
        gbc.setState(0x3ad7, 0x67e4, 0xe290, 0x33db, 0x39a1, 0x320, 0x1, 0x0);
        gbc.writeMem(0x3ad7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x67e4);
        EXPECT(gbc.pc(), 0x3ad9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0281
        gbc.setState(0x991, 0xfee9, 0x5ed0, 0xe293, 0x4eb, 0xe140, 0x1, 0x0);
        gbc.writeMem(0x991, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xfee9);
        EXPECT(gbc.pc(), 0x993);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0282
        gbc.setState(0xc4e1, 0x4000, 0xe150, 0x3d51, 0xaaa, 0xfece, 0x1, 0x0);
        gbc.writeMem(0xc4e1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x4000);
        EXPECT(gbc.pc(), 0xc4e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4e1), 0xcb);
        EXPECT(gbc.readMem(0xc4e2), 0x94);
        // CB 94 0283
        gbc.setState(0x1820, 0xfd05, 0xb140, 0xdb61, 0x93ab, 0x1bf0, 0x0, 0x1);
        gbc.writeMem(0x1820, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xfd05);
        EXPECT(gbc.pc(), 0x1822);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0284
        gbc.setState(0x83f4, 0x4eda, 0x6b80, 0x61e, 0x6d5b, 0x4d48, 0x1, 0x0);
        gbc.writeMem(0x83f4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x4eda);
        EXPECT(gbc.pc(), 0x83f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83f4), 0xcb);
        EXPECT(gbc.readMem(0x83f5), 0x94);
        // CB 94 0285
        gbc.setState(0x156a, 0x38, 0xd050, 0x64d, 0xc3d1, 0xe48d, 0x1, 0x0);
        gbc.writeMem(0x156a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x38);
        EXPECT(gbc.pc(), 0x156c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0286
        gbc.setState(0x2478, 0xb562, 0x85a0, 0xe141, 0xe490, 0xfec3, 0x0, 0x0);
        gbc.writeMem(0x2478, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb562);
        EXPECT(gbc.pc(), 0x247a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0287
        gbc.setState(0xeaa1, 0x3a1e, 0x2ef0, 0x223d, 0xe700, 0x60f1, 0x1, 0x1);
        gbc.writeMem(0xeaa1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x3a1e);
        EXPECT(gbc.pc(), 0xeaa3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeaa1), 0xcb);
        EXPECT(gbc.readMem(0xeaa2), 0x94);
        // CB 94 0288
        gbc.setState(0x8282, 0x4614, 0xe770, 0x4fc4, 0x6771, 0x1f54, 0x0, 0x1);
        gbc.writeMem(0x8282, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x4614);
        EXPECT(gbc.pc(), 0x8284);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8282), 0xcb);
        EXPECT(gbc.readMem(0x8283), 0x94);
        // CB 94 0289
        gbc.setState(0x687, 0xb869, 0xb200, 0x3bbc, 0xf6d, 0xb464, 0x0, 0x1);
        gbc.writeMem(0x687, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xb869);
        EXPECT(gbc.pc(), 0x689);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 028A
        gbc.setState(0x514, 0x569a, 0x8e60, 0x45a3, 0xe596, 0xb409, 0x1, 0x0);
        gbc.writeMem(0x514, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x569a);
        EXPECT(gbc.pc(), 0x516);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 028B
        gbc.setState(0xbcab, 0x3392, 0x7a10, 0xc6f3, 0xa610, 0xb5ef, 0x0, 0x1);
        gbc.writeMem(0xbcab, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x3392);
        EXPECT(gbc.pc(), 0xbcad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcab), 0xcb);
        EXPECT(gbc.readMem(0xbcac), 0x94);
        // CB 94 028C
        gbc.setState(0x6232, 0x85ea, 0x7680, 0xd132, 0x833, 0x3764, 0x0, 0x1);
        gbc.writeMem(0x6232, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x85ea);
        EXPECT(gbc.pc(), 0x6234);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 028D
        gbc.setState(0x11e2, 0x8342, 0x9cc0, 0x57c, 0x89eb, 0x39f5, 0x0, 0x0);
        gbc.writeMem(0x11e2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x8342);
        EXPECT(gbc.pc(), 0x11e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 028E
        gbc.setState(0x3c81, 0x5b71, 0xfaf0, 0x2671, 0xed24, 0xcafb, 0x0, 0x1);
        gbc.writeMem(0x3c81, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x5b71);
        EXPECT(gbc.pc(), 0x3c83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 028F
        gbc.setState(0xee04, 0x3a33, 0x8af0, 0x674b, 0x213a, 0xd1d2, 0x1, 0x0);
        gbc.writeMem(0xee04, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x3a33);
        EXPECT(gbc.pc(), 0xee06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee04), 0xcb);
        EXPECT(gbc.readMem(0xee05), 0x94);
        // CB 94 0291
        gbc.setState(0xdbfb, 0x4ee, 0x7d70, 0x1815, 0xd949, 0x55a3, 0x0, 0x0);
        gbc.writeMem(0xdbfb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x4ee);
        EXPECT(gbc.pc(), 0xdbfd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbfb), 0xcb);
        EXPECT(gbc.readMem(0xdbfc), 0x94);
        // CB 94 0292
        gbc.setState(0x9576, 0x9559, 0xa020, 0xfd7a, 0x6b90, 0xd076, 0x1, 0x1);
        gbc.writeMem(0x9576, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x9559);
        EXPECT(gbc.pc(), 0x9578);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9576), 0xcb);
        EXPECT(gbc.readMem(0x9577), 0x94);
        // CB 94 0293
        gbc.setState(0x6bf9, 0xc868, 0x8b50, 0x2a88, 0xc2e8, 0x5c00, 0x1, 0x0);
        gbc.writeMem(0x6bf9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xc868);
        EXPECT(gbc.pc(), 0x6bfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0294
        gbc.setState(0xb26e, 0x1002, 0xeeb0, 0x6f21, 0x28f8, 0x7bb4, 0x1, 0x0);
        gbc.writeMem(0xb26e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x1002);
        EXPECT(gbc.pc(), 0xb270);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb26e), 0xcb);
        EXPECT(gbc.readMem(0xb26f), 0x94);
        // CB 94 0296
        gbc.setState(0x92bf, 0xdf81, 0x1870, 0x6d0b, 0xa548, 0xaf7d, 0x1, 0x1);
        gbc.writeMem(0x92bf, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xdf81);
        EXPECT(gbc.pc(), 0x92c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92bf), 0xcb);
        EXPECT(gbc.readMem(0x92c0), 0x94);
        // CB 94 0297
        gbc.setState(0x139c, 0x4e0d, 0x6770, 0xcded, 0x28fc, 0x63a4, 0x0, 0x0);
        gbc.writeMem(0x139c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x4e0d);
        EXPECT(gbc.pc(), 0x139e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0298
        gbc.setState(0xd4df, 0x277e, 0xc110, 0x83c2, 0xc52c, 0x8c61, 0x1, 0x1);
        gbc.writeMem(0xd4df, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x277e);
        EXPECT(gbc.pc(), 0xd4e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4df), 0xcb);
        EXPECT(gbc.readMem(0xd4e0), 0x94);
        // CB 94 0299
        gbc.setState(0x9ead, 0x69cb, 0x9490, 0x4922, 0xaa86, 0x7e4d, 0x1, 0x1);
        gbc.writeMem(0x9ead, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x69cb);
        EXPECT(gbc.pc(), 0x9eaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ead), 0xcb);
        EXPECT(gbc.readMem(0x9eae), 0x94);
        // CB 94 029A
        gbc.setState(0xd939, 0x6227, 0x82c0, 0x27ac, 0x2059, 0xb3a6, 0x0, 0x0);
        gbc.writeMem(0xd939, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x6227);
        EXPECT(gbc.pc(), 0xd93b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd939), 0xcb);
        EXPECT(gbc.readMem(0xd93a), 0x94);
        // CB 94 029B
        gbc.setState(0x2999, 0xcafc, 0x75e0, 0x347a, 0x8c1f, 0x9ea7, 0x1, 0x1);
        gbc.writeMem(0x2999, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xcafc);
        EXPECT(gbc.pc(), 0x299b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 029C
        gbc.setState(0x37a4, 0x5379, 0x9960, 0x6a6, 0xc404, 0xe10c, 0x1, 0x0);
        gbc.writeMem(0x37a4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x5379);
        EXPECT(gbc.pc(), 0x37a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 029D
        gbc.setState(0xa57e, 0xc740, 0x6e10, 0x24ad, 0x8f97, 0x7d4b, 0x1, 0x1);
        gbc.writeMem(0xa57e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xc740);
        EXPECT(gbc.pc(), 0xa580);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa57e), 0xcb);
        EXPECT(gbc.readMem(0xa57f), 0x94);
        // CB 94 029E
        gbc.setState(0x53c2, 0xd8d0, 0x75a0, 0x199a, 0x9fc3, 0x53e5, 0x1, 0x0);
        gbc.writeMem(0x53c2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xd8d0);
        EXPECT(gbc.pc(), 0x53c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 029F
        gbc.setState(0xa22c, 0x3e57, 0x5c50, 0x49d1, 0xad7a, 0x570c, 0x1, 0x1);
        gbc.writeMem(0xa22c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x3e57);
        EXPECT(gbc.pc(), 0xa22e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa22c), 0xcb);
        EXPECT(gbc.readMem(0xa22d), 0x94);
        // CB 94 02A0
        gbc.setState(0x2fdf, 0xd031, 0x6dc0, 0xaf76, 0xa78d, 0x55ac, 0x0, 0x1);
        gbc.writeMem(0x2fdf, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd031);
        EXPECT(gbc.pc(), 0x2fe1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02A1
        gbc.setState(0x9a24, 0x5a5b, 0xf680, 0x54d5, 0x527d, 0x9b84, 0x0, 0x1);
        gbc.writeMem(0x9a24, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x5a5b);
        EXPECT(gbc.pc(), 0x9a26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a24), 0xcb);
        EXPECT(gbc.readMem(0x9a25), 0x94);
        // CB 94 02A2
        gbc.setState(0xc39d, 0xa423, 0x1d50, 0x5d26, 0x3427, 0x798a, 0x0, 0x0);
        gbc.writeMem(0xc39d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xa423);
        EXPECT(gbc.pc(), 0xc39f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc39d), 0xcb);
        EXPECT(gbc.readMem(0xc39e), 0x94);
        // CB 94 02A3
        gbc.setState(0x1ac5, 0x80f, 0x2170, 0xee2d, 0xb4c6, 0x7170, 0x1, 0x0);
        gbc.writeMem(0x1ac5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x80f);
        EXPECT(gbc.pc(), 0x1ac7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02A4
        gbc.setState(0xc76b, 0x7bd6, 0x53d0, 0xcfca, 0x43bd, 0x7191, 0x1, 0x1);
        gbc.writeMem(0xc76b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x7bd6);
        EXPECT(gbc.pc(), 0xc76d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc76b), 0xcb);
        EXPECT(gbc.readMem(0xc76c), 0x94);
        // CB 94 02A5
        gbc.setState(0xd19a, 0xe769, 0xebb0, 0x3ed8, 0xd2f4, 0xf11, 0x0, 0x0);
        gbc.writeMem(0xd19a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xe769);
        EXPECT(gbc.pc(), 0xd19c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd19a), 0xcb);
        EXPECT(gbc.readMem(0xd19b), 0x94);
        // CB 94 02A6
        gbc.setState(0x162e, 0xc4af, 0xc9a0, 0xc6c7, 0xea80, 0xa737, 0x0, 0x0);
        gbc.writeMem(0x162e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xc4af);
        EXPECT(gbc.pc(), 0x1630);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02A7
        gbc.setState(0x6864, 0x4af3, 0xf480, 0x5ab3, 0x95d2, 0xc5e3, 0x0, 0x0);
        gbc.writeMem(0x6864, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x4af3);
        EXPECT(gbc.pc(), 0x6866);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02A8
        gbc.setState(0x4160, 0x74d6, 0xf20, 0x4d3, 0xccad, 0xfee9, 0x1, 0x1);
        gbc.writeMem(0x4160, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x74d6);
        EXPECT(gbc.pc(), 0x4162);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02A9
        gbc.setState(0x544f, 0x2431, 0x72c0, 0x506, 0xa4d, 0xa7a2, 0x0, 0x1);
        gbc.writeMem(0x544f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x2431);
        EXPECT(gbc.pc(), 0x5451);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02AA
        gbc.setState(0x3dae, 0x1d37, 0x22c0, 0xf83, 0xba04, 0x8bad, 0x0, 0x0);
        gbc.writeMem(0x3dae, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x1d37);
        EXPECT(gbc.pc(), 0x3db0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02AC
        gbc.setState(0x8aad, 0x7e3e, 0xa9a0, 0x726b, 0xaabd, 0xcae3, 0x0, 0x0);
        gbc.writeMem(0x8aad, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x7e3e);
        EXPECT(gbc.pc(), 0x8aaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8aad), 0xcb);
        EXPECT(gbc.readMem(0x8aae), 0x94);
        // CB 94 02AD
        gbc.setState(0xe7e4, 0xda14, 0xf4f0, 0xcefe, 0x635b, 0x9674, 0x0, 0x1);
        gbc.writeMem(0xe7e4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xda14);
        EXPECT(gbc.pc(), 0xe7e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7e4), 0xcb);
        EXPECT(gbc.readMem(0xe7e5), 0x94);
        // CB 94 02AE
        gbc.setState(0xa799, 0xbfef, 0x82b0, 0x4c30, 0x7d60, 0x70d8, 0x1, 0x1);
        gbc.writeMem(0xa799, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xbfef);
        EXPECT(gbc.pc(), 0xa79b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa799), 0xcb);
        EXPECT(gbc.readMem(0xa79a), 0x94);
        // CB 94 02AF
        gbc.setState(0xab3e, 0xe537, 0x2d0, 0x31f7, 0x87b3, 0x6a1e, 0x1, 0x1);
        gbc.writeMem(0xab3e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xe537);
        EXPECT(gbc.pc(), 0xab40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab3e), 0xcb);
        EXPECT(gbc.readMem(0xab3f), 0x94);
        // CB 94 02B0
        gbc.setState(0xca54, 0xd790, 0x6ae0, 0x9dee, 0xebb7, 0x70bd, 0x0, 0x1);
        gbc.writeMem(0xca54, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xd790);
        EXPECT(gbc.pc(), 0xca56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca54), 0xcb);
        EXPECT(gbc.readMem(0xca55), 0x94);
        // CB 94 02B1
        gbc.setState(0x8457, 0x1d9a, 0xd200, 0x6a61, 0x6fc5, 0x2b4c, 0x1, 0x1);
        gbc.writeMem(0x8457, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x1d9a);
        EXPECT(gbc.pc(), 0x8459);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8457), 0xcb);
        EXPECT(gbc.readMem(0x8458), 0x94);
        // CB 94 02B2
        gbc.setState(0x6e64, 0x39f2, 0x9b60, 0x41f3, 0x688b, 0x5b29, 0x1, 0x1);
        gbc.writeMem(0x6e64, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x39f2);
        EXPECT(gbc.pc(), 0x6e66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02B3
        gbc.setState(0x4e7b, 0xd9c7, 0x9b40, 0xeb57, 0x92d5, 0xde06, 0x1, 0x1);
        gbc.writeMem(0x4e7b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xd9c7);
        EXPECT(gbc.pc(), 0x4e7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02B4
        gbc.setState(0x76c5, 0x4d47, 0x21b0, 0x553d, 0xdc00, 0x9d76, 0x1, 0x0);
        gbc.writeMem(0x76c5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x4d47);
        EXPECT(gbc.pc(), 0x76c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02B5
        gbc.setState(0xa2f9, 0x6f4e, 0x18c0, 0x9b4a, 0xaba9, 0xcb31, 0x1, 0x1);
        gbc.writeMem(0xa2f9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x6f4e);
        EXPECT(gbc.pc(), 0xa2fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2f9), 0xcb);
        EXPECT(gbc.readMem(0xa2fa), 0x94);
        // CB 94 02B6
        gbc.setState(0x9a42, 0xe447, 0x450, 0x531a, 0x5729, 0x537, 0x0, 0x0);
        gbc.writeMem(0x9a42, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xe447);
        EXPECT(gbc.pc(), 0x9a44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a42), 0xcb);
        EXPECT(gbc.readMem(0x9a43), 0x94);
        // CB 94 02B7
        gbc.setState(0x430c, 0xb52, 0x6ea0, 0xf988, 0x560d, 0x1d80, 0x0, 0x0);
        gbc.writeMem(0x430c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xb52);
        EXPECT(gbc.pc(), 0x430e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02B9
        gbc.setState(0x5383, 0x7a5e, 0xe360, 0x6773, 0xc599, 0x28d3, 0x0, 0x1);
        gbc.writeMem(0x5383, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x7a5e);
        EXPECT(gbc.pc(), 0x5385);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02BA
        gbc.setState(0xbab1, 0x5b58, 0xbf0, 0x3315, 0xf6c, 0x8180, 0x0, 0x1);
        gbc.writeMem(0xbab1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x5b58);
        EXPECT(gbc.pc(), 0xbab3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbab1), 0xcb);
        EXPECT(gbc.readMem(0xbab2), 0x94);
        // CB 94 02BC
        gbc.setState(0x3dcf, 0xa3e0, 0x4f80, 0xe2ce, 0x21e7, 0x7ef3, 0x0, 0x0);
        gbc.writeMem(0x3dcf, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xa3e0);
        EXPECT(gbc.pc(), 0x3dd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02BD
        gbc.setState(0x4527, 0xe6b9, 0xf4f0, 0x7a2b, 0xe5e8, 0xd12a, 0x1, 0x1);
        gbc.writeMem(0x4527, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xe6b9);
        EXPECT(gbc.pc(), 0x4529);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02BE
        gbc.setState(0x769a, 0x6f20, 0xb00, 0xa577, 0x4297, 0x358e, 0x0, 0x0);
        gbc.writeMem(0x769a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x6f20);
        EXPECT(gbc.pc(), 0x769c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02BF
        gbc.setState(0xd9f1, 0x6767, 0xc740, 0x887b, 0xad41, 0xccd0, 0x0, 0x0);
        gbc.writeMem(0xd9f1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x6767);
        EXPECT(gbc.pc(), 0xd9f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9f1), 0xcb);
        EXPECT(gbc.readMem(0xd9f2), 0x94);
        // CB 94 02C0
        gbc.setState(0x3181, 0xd472, 0xa2b0, 0x45cd, 0x8f2c, 0xfdac, 0x1, 0x1);
        gbc.writeMem(0x3181, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xd472);
        EXPECT(gbc.pc(), 0x3183);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02C1
        gbc.setState(0x6f24, 0x2f2e, 0xad00, 0xfaee, 0x692c, 0x4d65, 0x0, 0x0);
        gbc.writeMem(0x6f24, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x2f2e);
        EXPECT(gbc.pc(), 0x6f26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02C2
        gbc.setState(0x115a, 0xb99e, 0xbca0, 0xfca, 0xa1a, 0x3d46, 0x0, 0x1);
        gbc.writeMem(0x115a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xb99e);
        EXPECT(gbc.pc(), 0x115c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02C3
        gbc.setState(0x426, 0x65f0, 0xb4f0, 0x18b6, 0xf5e8, 0xad2d, 0x1, 0x0);
        gbc.writeMem(0x426, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x65f0);
        EXPECT(gbc.pc(), 0x428);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02C4
        gbc.setState(0x9c89, 0x5f1d, 0x170, 0x123a, 0x7c01, 0x9e82, 0x0, 0x0);
        gbc.writeMem(0x9c89, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x5f1d);
        EXPECT(gbc.pc(), 0x9c8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c89), 0xcb);
        EXPECT(gbc.readMem(0x9c8a), 0x94);
        // CB 94 02C5
        gbc.setState(0xa43f, 0xf591, 0x9500, 0xeddc, 0x2aff, 0x6569, 0x1, 0x1);
        gbc.writeMem(0xa43f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xf591);
        EXPECT(gbc.pc(), 0xa441);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa43f), 0xcb);
        EXPECT(gbc.readMem(0xa440), 0x94);
        // CB 94 02C6
        gbc.setState(0xbe1d, 0x38c6, 0xa1d0, 0x3a10, 0x4247, 0xa7e0, 0x1, 0x0);
        gbc.writeMem(0xbe1d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x38c6);
        EXPECT(gbc.pc(), 0xbe1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe1d), 0xcb);
        EXPECT(gbc.readMem(0xbe1e), 0x94);
        // CB 94 02C7
        gbc.setState(0x3631, 0xa349, 0xdcd0, 0xd012, 0xee09, 0xe9d7, 0x1, 0x1);
        gbc.writeMem(0x3631, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xa349);
        EXPECT(gbc.pc(), 0x3633);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02C9
        gbc.setState(0xd170, 0xfed0, 0xad40, 0xe23, 0xb305, 0xc11c, 0x1, 0x1);
        gbc.writeMem(0xd170, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xfed0);
        EXPECT(gbc.pc(), 0xd172);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd170), 0xcb);
        EXPECT(gbc.readMem(0xd171), 0x94);
        // CB 94 02CA
        gbc.setState(0xc572, 0xd3ea, 0xb470, 0x8c33, 0x9774, 0x521b, 0x0, 0x1);
        gbc.writeMem(0xc572, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xd3ea);
        EXPECT(gbc.pc(), 0xc574);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc572), 0xcb);
        EXPECT(gbc.readMem(0xc573), 0x94);
        // CB 94 02CB
        gbc.setState(0x83e1, 0x74b5, 0xbf60, 0x504f, 0x7cbe, 0x9eb6, 0x1, 0x1);
        gbc.writeMem(0x83e1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x74b5);
        EXPECT(gbc.pc(), 0x83e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83e1), 0xcb);
        EXPECT(gbc.readMem(0x83e2), 0x94);
        // CB 94 02CC
        gbc.setState(0x5df3, 0x6bf9, 0xfb50, 0x2fb5, 0xae31, 0x6c15, 0x1, 0x1);
        gbc.writeMem(0x5df3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x6bf9);
        EXPECT(gbc.pc(), 0x5df5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02CD
        gbc.setState(0xcda9, 0x9cc9, 0x1570, 0x68d, 0x2cb, 0xcd2a, 0x0, 0x1);
        gbc.writeMem(0xcda9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x9cc9);
        EXPECT(gbc.pc(), 0xcdab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcda9), 0xcb);
        EXPECT(gbc.readMem(0xcdaa), 0x94);
        // CB 94 02CF
        gbc.setState(0xc6ab, 0xde78, 0xe710, 0x9806, 0xef02, 0xc066, 0x1, 0x1);
        gbc.writeMem(0xc6ab, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xde78);
        EXPECT(gbc.pc(), 0xc6ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6ab), 0xcb);
        EXPECT(gbc.readMem(0xc6ac), 0x94);
        // CB 94 02D0
        gbc.setState(0x9f40, 0x7550, 0x6720, 0xefb0, 0x9046, 0xec65, 0x0, 0x0);
        gbc.writeMem(0x9f40, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x7550);
        EXPECT(gbc.pc(), 0x9f42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f40), 0xcb);
        EXPECT(gbc.readMem(0x9f41), 0x94);
        // CB 94 02D1
        gbc.setState(0x7b30, 0xa5bc, 0x4a0, 0xa19d, 0x7681, 0x479c, 0x1, 0x1);
        gbc.writeMem(0x7b30, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xa5bc);
        EXPECT(gbc.pc(), 0x7b32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02D2
        gbc.setState(0x2a4d, 0xb293, 0xd20, 0x3632, 0x20b, 0x2ca0, 0x0, 0x1);
        gbc.writeMem(0x2a4d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xb293);
        EXPECT(gbc.pc(), 0x2a4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02D3
        gbc.setState(0x8810, 0xc8eb, 0x2920, 0x2685, 0xb39d, 0x11c5, 0x0, 0x1);
        gbc.writeMem(0x8810, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xc8eb);
        EXPECT(gbc.pc(), 0x8812);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8810), 0xcb);
        EXPECT(gbc.readMem(0x8811), 0x94);
        // CB 94 02D4
        gbc.setState(0xc768, 0x23be, 0x6090, 0x8539, 0xfd6d, 0x27c3, 0x1, 0x1);
        gbc.writeMem(0xc768, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x23be);
        EXPECT(gbc.pc(), 0xc76a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc768), 0xcb);
        EXPECT(gbc.readMem(0xc769), 0x94);
        // CB 94 02D5
        gbc.setState(0x815f, 0xda3f, 0xa410, 0xae4c, 0xb39e, 0xa481, 0x0, 0x1);
        gbc.writeMem(0x815f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xda3f);
        EXPECT(gbc.pc(), 0x8161);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x815f), 0xcb);
        EXPECT(gbc.readMem(0x8160), 0x94);
        // CB 94 02D6
        gbc.setState(0xee66, 0x2bdb, 0xe10, 0x945a, 0xbca0, 0x9930, 0x1, 0x1);
        gbc.writeMem(0xee66, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x2bdb);
        EXPECT(gbc.pc(), 0xee68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee66), 0xcb);
        EXPECT(gbc.readMem(0xee67), 0x94);
        // CB 94 02D7
        gbc.setState(0x1b3f, 0xaffe, 0xa90, 0x24d2, 0x8d9e, 0xf6b9, 0x1, 0x0);
        gbc.writeMem(0x1b3f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xaffe);
        EXPECT(gbc.pc(), 0x1b41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02D8
        gbc.setState(0x7995, 0x4466, 0x1b50, 0x9c88, 0x8808, 0xd16f, 0x0, 0x1);
        gbc.writeMem(0x7995, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x4466);
        EXPECT(gbc.pc(), 0x7997);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02D9
        gbc.setState(0xc2cd, 0xd5a8, 0x78e0, 0x38cf, 0x1867, 0x16d6, 0x1, 0x1);
        gbc.writeMem(0xc2cd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xd5a8);
        EXPECT(gbc.pc(), 0xc2cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2cd), 0xcb);
        EXPECT(gbc.readMem(0xc2ce), 0x94);
        // CB 94 02DA
        gbc.setState(0xbb43, 0x4b5d, 0xb1a0, 0xa1d8, 0xa39a, 0x3602, 0x1, 0x1);
        gbc.writeMem(0xbb43, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x4b5d);
        EXPECT(gbc.pc(), 0xbb45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb43), 0xcb);
        EXPECT(gbc.readMem(0xbb44), 0x94);
        // CB 94 02DB
        gbc.setState(0x165d, 0x8104, 0x8160, 0x7eec, 0xf0fb, 0x620e, 0x1, 0x1);
        gbc.writeMem(0x165d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x8104);
        EXPECT(gbc.pc(), 0x165f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02DC
        gbc.setState(0x78c9, 0x2169, 0x8ec0, 0xae09, 0xc3d7, 0x2256, 0x1, 0x0);
        gbc.writeMem(0x78c9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x2169);
        EXPECT(gbc.pc(), 0x78cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02DD
        gbc.setState(0x5928, 0x4ef0, 0x93d0, 0xd08a, 0x7c37, 0x5101, 0x0, 0x1);
        gbc.writeMem(0x5928, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x4ef0);
        EXPECT(gbc.pc(), 0x592a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02DE
        gbc.setState(0xec2f, 0x6af4, 0x40c0, 0xe29b, 0xb887, 0xe3e9, 0x1, 0x0);
        gbc.writeMem(0xec2f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x6af4);
        EXPECT(gbc.pc(), 0xec31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec2f), 0xcb);
        EXPECT(gbc.readMem(0xec30), 0x94);
        // CB 94 02DF
        gbc.setState(0x1308, 0x6a7d, 0xd900, 0x61f0, 0xa90e, 0xcbf8, 0x1, 0x0);
        gbc.writeMem(0x1308, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x6a7d);
        EXPECT(gbc.pc(), 0x130a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02E0
        gbc.setState(0x39f0, 0x48e8, 0x450, 0x7387, 0x5e75, 0xaed7, 0x0, 0x1);
        gbc.writeMem(0x39f0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x48e8);
        EXPECT(gbc.pc(), 0x39f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02E1
        gbc.setState(0x99ff, 0xd31, 0xbe30, 0x2725, 0xcbf9, 0xafb4, 0x0, 0x0);
        gbc.writeMem(0x99ff, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xd31);
        EXPECT(gbc.pc(), 0x9a01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99ff), 0xcb);
        EXPECT(gbc.readMem(0x9a00), 0x94);
        // CB 94 02E2
        gbc.setState(0x2b51, 0x2c34, 0x2c0, 0x803c, 0xa87, 0x9115, 0x0, 0x0);
        gbc.writeMem(0x2b51, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x2c34);
        EXPECT(gbc.pc(), 0x2b53);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02E3
        gbc.setState(0x4a32, 0x728d, 0x9330, 0xa18d, 0xf8ac, 0xe26, 0x0, 0x1);
        gbc.writeMem(0x4a32, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x728d);
        EXPECT(gbc.pc(), 0x4a34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02E4
        gbc.setState(0xc8cc, 0xb59a, 0xffd0, 0xe6e4, 0xd462, 0x2f76, 0x0, 0x0);
        gbc.writeMem(0xc8cc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xb59a);
        EXPECT(gbc.pc(), 0xc8ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8cc), 0xcb);
        EXPECT(gbc.readMem(0xc8cd), 0x94);
        // CB 94 02E5
        gbc.setState(0xe7b6, 0xde05, 0x46d0, 0xee9a, 0x3d4a, 0x64f7, 0x1, 0x0);
        gbc.writeMem(0xe7b6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xde05);
        EXPECT(gbc.pc(), 0xe7b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7b6), 0xcb);
        EXPECT(gbc.readMem(0xe7b7), 0x94);
        // CB 94 02E6
        gbc.setState(0x6879, 0x2c73, 0x930, 0x792f, 0x259d, 0x79c, 0x0, 0x0);
        gbc.writeMem(0x6879, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x2c73);
        EXPECT(gbc.pc(), 0x687b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02E7
        gbc.setState(0x888c, 0x4bb5, 0x6ed0, 0xadaa, 0xbc59, 0x4aa5, 0x1, 0x0);
        gbc.writeMem(0x888c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x4bb5);
        EXPECT(gbc.pc(), 0x888e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x888c), 0xcb);
        EXPECT(gbc.readMem(0x888d), 0x94);
        // CB 94 02E8
        gbc.setState(0xb357, 0x84a0, 0x6da0, 0x10d7, 0x61f6, 0xda90, 0x0, 0x1);
        gbc.writeMem(0xb357, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x84a0);
        EXPECT(gbc.pc(), 0xb359);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb357), 0xcb);
        EXPECT(gbc.readMem(0xb358), 0x94);
        // CB 94 02E9
        gbc.setState(0xc8a8, 0x145a, 0x19e0, 0x1990, 0x81a4, 0x1d6f, 0x1, 0x0);
        gbc.writeMem(0xc8a8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x145a);
        EXPECT(gbc.pc(), 0xc8aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8a8), 0xcb);
        EXPECT(gbc.readMem(0xc8a9), 0x94);
        // CB 94 02EA
        gbc.setState(0xba0, 0xa880, 0xe590, 0x87f3, 0xfd03, 0x2d90, 0x0, 0x0);
        gbc.writeMem(0xba0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xa880);
        EXPECT(gbc.pc(), 0xba2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02EB
        gbc.setState(0x10c1, 0x773, 0x34a0, 0x184a, 0x5c43, 0xf1e7, 0x0, 0x0);
        gbc.writeMem(0x10c1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x773);
        EXPECT(gbc.pc(), 0x10c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02EC
        gbc.setState(0x5808, 0x8041, 0xa9d0, 0x91d0, 0x298f, 0x1685, 0x1, 0x0);
        gbc.writeMem(0x5808, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x8041);
        EXPECT(gbc.pc(), 0x580a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02ED
        gbc.setState(0xe86c, 0xca05, 0x1240, 0xba15, 0xbf10, 0x5c06, 0x1, 0x1);
        gbc.writeMem(0xe86c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xca05);
        EXPECT(gbc.pc(), 0xe86e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe86c), 0xcb);
        EXPECT(gbc.readMem(0xe86d), 0x94);
        // CB 94 02EE
        gbc.setState(0xb06d, 0xbf91, 0x98b0, 0xe975, 0xbcac, 0xc1df, 0x0, 0x0);
        gbc.writeMem(0xb06d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xbf91);
        EXPECT(gbc.pc(), 0xb06f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb06d), 0xcb);
        EXPECT(gbc.readMem(0xb06e), 0x94);
        // CB 94 02F0
        gbc.setState(0x51d4, 0xea42, 0x6020, 0x39dc, 0x7423, 0x7279, 0x0, 0x1);
        gbc.writeMem(0x51d4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xea42);
        EXPECT(gbc.pc(), 0x51d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02F1
        gbc.setState(0xef98, 0x2f27, 0x68a0, 0xff14, 0x8290, 0x1879, 0x1, 0x0);
        gbc.writeMem(0xef98, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x2f27);
        EXPECT(gbc.pc(), 0xef9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef98), 0xcb);
        EXPECT(gbc.readMem(0xef99), 0x94);
        // CB 94 02F2
        gbc.setState(0x7ca9, 0x4409, 0xa4d0, 0x6985, 0x4cd6, 0x1fc2, 0x1, 0x1);
        gbc.writeMem(0x7ca9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x4409);
        EXPECT(gbc.pc(), 0x7cab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02F3
        gbc.setState(0x4ef8, 0x4199, 0x1380, 0x59b3, 0xc763, 0xc759, 0x1, 0x0);
        gbc.writeMem(0x4ef8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x4199);
        EXPECT(gbc.pc(), 0x4efa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02F4
        gbc.setState(0xb35b, 0x49c8, 0x3ad0, 0xacfe, 0x477c, 0xbb6f, 0x1, 0x1);
        gbc.writeMem(0xb35b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x49c8);
        EXPECT(gbc.pc(), 0xb35d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb35b), 0xcb);
        EXPECT(gbc.readMem(0xb35c), 0x94);
        // CB 94 02F5
        gbc.setState(0xb000, 0x417a, 0xe3c0, 0x1c6c, 0x242a, 0xcb73, 0x1, 0x0);
        gbc.writeMem(0xb000, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x417a);
        EXPECT(gbc.pc(), 0xb002);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb000), 0xcb);
        EXPECT(gbc.readMem(0xb001), 0x94);
        // CB 94 02F6
        gbc.setState(0x404c, 0xcb0b, 0x83d0, 0x5e95, 0xbc6, 0x6999, 0x0, 0x0);
        gbc.writeMem(0x404c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xcb0b);
        EXPECT(gbc.pc(), 0x404e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 02F7
        gbc.setState(0x6f85, 0x5d16, 0x2ca0, 0x3802, 0x1b8a, 0xad6e, 0x1, 0x1);
        gbc.writeMem(0x6f85, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x5d16);
        EXPECT(gbc.pc(), 0x6f87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02F8
        gbc.setState(0x3fb7, 0xfdac, 0x8ec0, 0x5847, 0xa779, 0xb935, 0x0, 0x1);
        gbc.writeMem(0x3fb7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xfdac);
        EXPECT(gbc.pc(), 0x3fb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02F9
        gbc.setState(0xe112, 0x74ac, 0xc740, 0xae6b, 0x95c5, 0x5e5b, 0x0, 0x1);
        gbc.writeMem(0xe112, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x74ac);
        EXPECT(gbc.pc(), 0xe114);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe112), 0xcb);
        EXPECT(gbc.readMem(0xe113), 0x94);
        // CB 94 02FA
        gbc.setState(0x582, 0x4f0, 0x80, 0x1802, 0x49a2, 0xddd4, 0x0, 0x0);
        gbc.writeMem(0x582, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x4f0);
        EXPECT(gbc.pc(), 0x584);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 02FB
        gbc.setState(0xe131, 0xe3c3, 0x42a0, 0x2130, 0x36e0, 0xf0a3, 0x0, 0x1);
        gbc.writeMem(0xe131, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xe3c3);
        EXPECT(gbc.pc(), 0xe133);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe131), 0xcb);
        EXPECT(gbc.readMem(0xe132), 0x94);
        // CB 94 02FC
        gbc.setState(0xba2a, 0xd93e, 0xfd40, 0x8109, 0x3936, 0xebf4, 0x1, 0x0);
        gbc.writeMem(0xba2a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xd93e);
        EXPECT(gbc.pc(), 0xba2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba2a), 0xcb);
        EXPECT(gbc.readMem(0xba2b), 0x94);
        // CB 94 02FD
        gbc.setState(0xaf78, 0x8ab0, 0xc150, 0xe97c, 0xeec6, 0x78d0, 0x0, 0x0);
        gbc.writeMem(0xaf78, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x8ab0);
        EXPECT(gbc.pc(), 0xaf7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf78), 0xcb);
        EXPECT(gbc.readMem(0xaf79), 0x94);
        // CB 94 02FE
        gbc.setState(0xc199, 0x1616, 0x50b0, 0xa491, 0x380, 0x3f80, 0x0, 0x1);
        gbc.writeMem(0xc199, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x1616);
        EXPECT(gbc.pc(), 0xc19b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc199), 0xcb);
        EXPECT(gbc.readMem(0xc19a), 0x94);
        // CB 94 02FF
        gbc.setState(0xc0b0, 0x24a9, 0x5a0, 0x8c22, 0xfda9, 0x65d, 0x1, 0x1);
        gbc.writeMem(0xc0b0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x24a9);
        EXPECT(gbc.pc(), 0xc0b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0b0), 0xcb);
        EXPECT(gbc.readMem(0xc0b1), 0x94);
        // CB 94 0300
        gbc.setState(0xbf33, 0x4e2e, 0x56e0, 0x112, 0x352e, 0xeb36, 0x1, 0x1);
        gbc.writeMem(0xbf33, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x4e2e);
        EXPECT(gbc.pc(), 0xbf35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf33), 0xcb);
        EXPECT(gbc.readMem(0xbf34), 0x94);
        // CB 94 0301
        gbc.setState(0x8726, 0xa043, 0x5050, 0x1470, 0x766f, 0xbf8a, 0x1, 0x1);
        gbc.writeMem(0x8726, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xa043);
        EXPECT(gbc.pc(), 0x8728);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8726), 0xcb);
        EXPECT(gbc.readMem(0x8727), 0x94);
        // CB 94 0302
        gbc.setState(0xdc09, 0x92d5, 0xe870, 0x150, 0x2336, 0x2a93, 0x0, 0x0);
        gbc.writeMem(0xdc09, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x92d5);
        EXPECT(gbc.pc(), 0xdc0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc09), 0xcb);
        EXPECT(gbc.readMem(0xdc0a), 0x94);
        // CB 94 0304
        gbc.setState(0x453f, 0xe243, 0x2ef0, 0x84e6, 0xd43b, 0x992a, 0x0, 0x1);
        gbc.writeMem(0x453f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xe243);
        EXPECT(gbc.pc(), 0x4541);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0305
        gbc.setState(0xcfb9, 0xea4e, 0x81d0, 0xf38d, 0x366f, 0x9f3d, 0x0, 0x1);
        gbc.writeMem(0xcfb9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xea4e);
        EXPECT(gbc.pc(), 0xcfbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcfb9), 0xcb);
        EXPECT(gbc.readMem(0xcfba), 0x94);
        // CB 94 0306
        gbc.setState(0xe642, 0x135, 0x8bf0, 0xbd15, 0x9227, 0xb30b, 0x1, 0x0);
        gbc.writeMem(0xe642, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x135);
        EXPECT(gbc.pc(), 0xe644);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe642), 0xcb);
        EXPECT(gbc.readMem(0xe643), 0x94);
        // CB 94 0307
        gbc.setState(0x33d7, 0x77e5, 0x7d70, 0xcd44, 0x5a78, 0x28be, 0x0, 0x1);
        gbc.writeMem(0x33d7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x77e5);
        EXPECT(gbc.pc(), 0x33d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0308
        gbc.setState(0xc0d1, 0xec9e, 0x8b60, 0xaa42, 0xdaa, 0x1428, 0x1, 0x0);
        gbc.writeMem(0xc0d1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xec9e);
        EXPECT(gbc.pc(), 0xc0d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0d1), 0xcb);
        EXPECT(gbc.readMem(0xc0d2), 0x94);
        // CB 94 0309
        gbc.setState(0x6c5d, 0xcbd2, 0x1c20, 0x6391, 0xfde7, 0xdd53, 0x1, 0x1);
        gbc.writeMem(0x6c5d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xcbd2);
        EXPECT(gbc.pc(), 0x6c5f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 030A
        gbc.setState(0x4e3d, 0x681, 0x6920, 0xc0d4, 0xd904, 0x5480, 0x0, 0x0);
        gbc.writeMem(0x4e3d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x681);
        EXPECT(gbc.pc(), 0x4e3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 030B
        gbc.setState(0xb88e, 0x7245, 0xb590, 0xc922, 0x5c49, 0x7aa8, 0x0, 0x0);
        gbc.writeMem(0xb88e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x7245);
        EXPECT(gbc.pc(), 0xb890);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb88e), 0xcb);
        EXPECT(gbc.readMem(0xb88f), 0x94);
        // CB 94 030C
        gbc.setState(0x59c1, 0x387f, 0xcd40, 0x8468, 0x62c1, 0xa081, 0x0, 0x1);
        gbc.writeMem(0x59c1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x387f);
        EXPECT(gbc.pc(), 0x59c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 030D
        gbc.setState(0xaf6b, 0xfba9, 0x7420, 0x8cc8, 0xf8fc, 0xa7e2, 0x0, 0x1);
        gbc.writeMem(0xaf6b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xfba9);
        EXPECT(gbc.pc(), 0xaf6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf6b), 0xcb);
        EXPECT(gbc.readMem(0xaf6c), 0x94);
        // CB 94 030E
        gbc.setState(0x9a8d, 0x6962, 0x76c0, 0x4a40, 0xe0ad, 0x906c, 0x0, 0x0);
        gbc.writeMem(0x9a8d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x6962);
        EXPECT(gbc.pc(), 0x9a8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a8d), 0xcb);
        EXPECT(gbc.readMem(0x9a8e), 0x94);
        // CB 94 030F
        gbc.setState(0x5df7, 0x6f7b, 0x8e00, 0xa747, 0x2d3f, 0x3433, 0x0, 0x0);
        gbc.writeMem(0x5df7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x6f7b);
        EXPECT(gbc.pc(), 0x5df9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0310
        gbc.setState(0x687b, 0x959d, 0xca10, 0x15de, 0xcb96, 0x4def, 0x0, 0x0);
        gbc.writeMem(0x687b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x959d);
        EXPECT(gbc.pc(), 0x687d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0311
        gbc.setState(0xb5b0, 0x6c10, 0xdac0, 0xd56c, 0x82ff, 0xa2f4, 0x0, 0x0);
        gbc.writeMem(0xb5b0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x6c10);
        EXPECT(gbc.pc(), 0xb5b2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5b0), 0xcb);
        EXPECT(gbc.readMem(0xb5b1), 0x94);
        // CB 94 0312
        gbc.setState(0xe936, 0xf5ea, 0xf870, 0xa535, 0xaf97, 0x1078, 0x1, 0x0);
        gbc.writeMem(0xe936, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xf5ea);
        EXPECT(gbc.pc(), 0xe938);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe936), 0xcb);
        EXPECT(gbc.readMem(0xe937), 0x94);
        // CB 94 0314
        gbc.setState(0x287b, 0xa59, 0x66b0, 0x46a0, 0x1e73, 0xde4b, 0x1, 0x1);
        gbc.writeMem(0x287b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xa59);
        EXPECT(gbc.pc(), 0x287d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0315
        gbc.setState(0xa60c, 0x336e, 0xee70, 0xcd67, 0x6231, 0x55a5, 0x0, 0x0);
        gbc.writeMem(0xa60c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x336e);
        EXPECT(gbc.pc(), 0xa60e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa60c), 0xcb);
        EXPECT(gbc.readMem(0xa60d), 0x94);
        // CB 94 0316
        gbc.setState(0x1da0, 0x2adc, 0x6eb0, 0xad4d, 0x212, 0x242c, 0x1, 0x1);
        gbc.writeMem(0x1da0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x2adc);
        EXPECT(gbc.pc(), 0x1da2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0317
        gbc.setState(0x84d5, 0xe025, 0x2600, 0x39de, 0x188e, 0x308e, 0x0, 0x1);
        gbc.writeMem(0x84d5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xe025);
        EXPECT(gbc.pc(), 0x84d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84d5), 0xcb);
        EXPECT(gbc.readMem(0x84d6), 0x94);
        // CB 94 0318
        gbc.setState(0x8dcc, 0x999, 0x5700, 0xda0b, 0x7a1d, 0x7bff, 0x0, 0x1);
        gbc.writeMem(0x8dcc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x999);
        EXPECT(gbc.pc(), 0x8dce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dcc), 0xcb);
        EXPECT(gbc.readMem(0x8dcd), 0x94);
        // CB 94 0319
        gbc.setState(0xbb2b, 0x54a8, 0x1460, 0x67b3, 0x39ef, 0x9aa8, 0x1, 0x0);
        gbc.writeMem(0xbb2b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x54a8);
        EXPECT(gbc.pc(), 0xbb2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb2b), 0xcb);
        EXPECT(gbc.readMem(0xbb2c), 0x94);
        // CB 94 031A
        gbc.setState(0x4a0b, 0xe36, 0x5f60, 0x6983, 0xe41f, 0x82f6, 0x0, 0x0);
        gbc.writeMem(0x4a0b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xe36);
        EXPECT(gbc.pc(), 0x4a0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 031B
        gbc.setState(0x9e1b, 0x7775, 0x7140, 0x5a06, 0x7ea, 0xd7b2, 0x1, 0x1);
        gbc.writeMem(0x9e1b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x7775);
        EXPECT(gbc.pc(), 0x9e1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e1b), 0xcb);
        EXPECT(gbc.readMem(0x9e1c), 0x94);
        // CB 94 031C
        gbc.setState(0x300e, 0x1876, 0xaf90, 0x3d99, 0xccbc, 0x52d4, 0x0, 0x1);
        gbc.writeMem(0x300e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x1876);
        EXPECT(gbc.pc(), 0x3010);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 031E
        gbc.setState(0xa2fe, 0xc297, 0xfca0, 0xa153, 0x3d1b, 0x80e5, 0x1, 0x1);
        gbc.writeMem(0xa2fe, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xc297);
        EXPECT(gbc.pc(), 0xa300);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2fe), 0xcb);
        EXPECT(gbc.readMem(0xa2ff), 0x94);
        // CB 94 031F
        gbc.setState(0xc8f9, 0x8edd, 0x7e0, 0xb8e2, 0x63e6, 0x563c, 0x0, 0x0);
        gbc.writeMem(0xc8f9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x8edd);
        EXPECT(gbc.pc(), 0xc8fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8f9), 0xcb);
        EXPECT(gbc.readMem(0xc8fa), 0x94);
        // CB 94 0320
        gbc.setState(0x377f, 0x5bd1, 0x8d10, 0x6a9c, 0xa17a, 0xad45, 0x0, 0x1);
        gbc.writeMem(0x377f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x5bd1);
        EXPECT(gbc.pc(), 0x3781);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0321
        gbc.setState(0x129c, 0x667d, 0xfd0, 0x907c, 0xea6c, 0x162b, 0x1, 0x1);
        gbc.writeMem(0x129c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x667d);
        EXPECT(gbc.pc(), 0x129e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0322
        gbc.setState(0xb592, 0x764a, 0x24e0, 0x6286, 0xd664, 0x118b, 0x0, 0x1);
        gbc.writeMem(0xb592, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x764a);
        EXPECT(gbc.pc(), 0xb594);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb592), 0xcb);
        EXPECT(gbc.readMem(0xb593), 0x94);
        // CB 94 0323
        gbc.setState(0xe8f7, 0x2243, 0xa490, 0xd57b, 0x49fa, 0x48a2, 0x1, 0x1);
        gbc.writeMem(0xe8f7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x2243);
        EXPECT(gbc.pc(), 0xe8f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8f7), 0xcb);
        EXPECT(gbc.readMem(0xe8f8), 0x94);
        // CB 94 0324
        gbc.setState(0x1cd7, 0x96fa, 0x55c0, 0x4235, 0x4ce, 0xcdd2, 0x0, 0x1);
        gbc.writeMem(0x1cd7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x96fa);
        EXPECT(gbc.pc(), 0x1cd9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0325
        gbc.setState(0x40ce, 0x6004, 0xdf10, 0x4818, 0x42bd, 0xdb9a, 0x0, 0x0);
        gbc.writeMem(0x40ce, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x6004);
        EXPECT(gbc.pc(), 0x40d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0326
        gbc.setState(0x7ab5, 0x462, 0xe670, 0xb80, 0xc9b0, 0x829a, 0x0, 0x0);
        gbc.writeMem(0x7ab5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x462);
        EXPECT(gbc.pc(), 0x7ab7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0327
        gbc.setState(0x4cc0, 0x6a84, 0x8c90, 0xbd8a, 0x639e, 0xeed8, 0x0, 0x1);
        gbc.writeMem(0x4cc0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x6a84);
        EXPECT(gbc.pc(), 0x4cc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0328
        gbc.setState(0x9152, 0x9904, 0x8e70, 0xa527, 0x1aab, 0x65f7, 0x0, 0x1);
        gbc.writeMem(0x9152, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x9904);
        EXPECT(gbc.pc(), 0x9154);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9152), 0xcb);
        EXPECT(gbc.readMem(0x9153), 0x94);
        // CB 94 0329
        gbc.setState(0x17e6, 0xceb2, 0x69d0, 0xfa04, 0x83ef, 0x48db, 0x1, 0x1);
        gbc.writeMem(0x17e6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xceb2);
        EXPECT(gbc.pc(), 0x17e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 032A
        gbc.setState(0xdda, 0x6668, 0x8260, 0xddd4, 0xd7a0, 0x766a, 0x1, 0x1);
        gbc.writeMem(0xdda, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x6668);
        EXPECT(gbc.pc(), 0xddc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 032B
        gbc.setState(0x841a, 0x8e36, 0xfb00, 0xaa43, 0x31ee, 0xf25a, 0x1, 0x1);
        gbc.writeMem(0x841a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x8e36);
        EXPECT(gbc.pc(), 0x841c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x841a), 0xcb);
        EXPECT(gbc.readMem(0x841b), 0x94);
        // CB 94 032C
        gbc.setState(0xad8, 0xb16b, 0x340, 0x60b9, 0x1ab, 0x7f5a, 0x0, 0x0);
        gbc.writeMem(0xad8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xb16b);
        EXPECT(gbc.pc(), 0xada);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 032D
        gbc.setState(0x7fc8, 0xaf76, 0xb770, 0x29e1, 0x841, 0xccb1, 0x1, 0x1);
        gbc.writeMem(0x7fc8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xaf76);
        EXPECT(gbc.pc(), 0x7fca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 032E
        gbc.setState(0xc370, 0x376b, 0xdb10, 0xee30, 0xbece, 0xa3c0, 0x1, 0x1);
        gbc.writeMem(0xc370, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x376b);
        EXPECT(gbc.pc(), 0xc372);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc370), 0xcb);
        EXPECT(gbc.readMem(0xc371), 0x94);
        // CB 94 032F
        gbc.setState(0xd653, 0xf029, 0xf770, 0x1d70, 0x5e2a, 0xd313, 0x0, 0x0);
        gbc.writeMem(0xd653, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xf029);
        EXPECT(gbc.pc(), 0xd655);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd653), 0xcb);
        EXPECT(gbc.readMem(0xd654), 0x94);
        // CB 94 0330
        gbc.setState(0x53e4, 0xe82, 0x5370, 0xe91a, 0xe5f1, 0x2ddd, 0x0, 0x1);
        gbc.writeMem(0x53e4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xe82);
        EXPECT(gbc.pc(), 0x53e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0331
        gbc.setState(0xa4bf, 0x85a5, 0x6810, 0x10f1, 0xa16f, 0x3775, 0x0, 0x1);
        gbc.writeMem(0xa4bf, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x85a5);
        EXPECT(gbc.pc(), 0xa4c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4bf), 0xcb);
        EXPECT(gbc.readMem(0xa4c0), 0x94);
        // CB 94 0332
        gbc.setState(0x6584, 0x3b4d, 0x5930, 0xb0ed, 0x7dc5, 0xd49c, 0x1, 0x1);
        gbc.writeMem(0x6584, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x3b4d);
        EXPECT(gbc.pc(), 0x6586);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0333
        gbc.setState(0xcb04, 0xcd1e, 0x1b60, 0x7227, 0x8fd9, 0x848d, 0x0, 0x1);
        gbc.writeMem(0xcb04, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xcd1e);
        EXPECT(gbc.pc(), 0xcb06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb04), 0xcb);
        EXPECT(gbc.readMem(0xcb05), 0x94);
        // CB 94 0334
        gbc.setState(0x91b5, 0xb855, 0x9780, 0xc29b, 0x6b88, 0x8b82, 0x0, 0x0);
        gbc.writeMem(0x91b5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xb855);
        EXPECT(gbc.pc(), 0x91b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91b5), 0xcb);
        EXPECT(gbc.readMem(0x91b6), 0x94);
        // CB 94 0335
        gbc.setState(0xdb32, 0x2e66, 0x5390, 0x9266, 0xf5c7, 0x182, 0x0, 0x0);
        gbc.writeMem(0xdb32, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x2e66);
        EXPECT(gbc.pc(), 0xdb34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb32), 0xcb);
        EXPECT(gbc.readMem(0xdb33), 0x94);
        // CB 94 0336
        gbc.setState(0x58c5, 0x17b, 0x8480, 0x3874, 0xa058, 0xa7fb, 0x1, 0x1);
        gbc.writeMem(0x58c5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x17b);
        EXPECT(gbc.pc(), 0x58c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0337
        gbc.setState(0x8e1d, 0x1e22, 0xf240, 0xe6ca, 0x6d4e, 0x513f, 0x1, 0x1);
        gbc.writeMem(0x8e1d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x1e22);
        EXPECT(gbc.pc(), 0x8e1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e1d), 0xcb);
        EXPECT(gbc.readMem(0x8e1e), 0x94);
        // CB 94 0338
        gbc.setState(0x322c, 0xc22e, 0x5f50, 0x24d0, 0xec5b, 0xdab7, 0x1, 0x0);
        gbc.writeMem(0x322c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xc22e);
        EXPECT(gbc.pc(), 0x322e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0339
        gbc.setState(0x7955, 0x3c4d, 0x41a0, 0xd7c3, 0x18e3, 0x65e9, 0x1, 0x1);
        gbc.writeMem(0x7955, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x3c4d);
        EXPECT(gbc.pc(), 0x7957);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 033A
        gbc.setState(0x15a3, 0xc0f9, 0x6490, 0x9bc8, 0x32e, 0xe669, 0x1, 0x1);
        gbc.writeMem(0x15a3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xc0f9);
        EXPECT(gbc.pc(), 0x15a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 033B
        gbc.setState(0xb4fa, 0xc39a, 0x68c0, 0xf8ed, 0xa9e4, 0xf7b8, 0x0, 0x1);
        gbc.writeMem(0xb4fa, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xc39a);
        EXPECT(gbc.pc(), 0xb4fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4fa), 0xcb);
        EXPECT(gbc.readMem(0xb4fb), 0x94);
        // CB 94 033C
        gbc.setState(0x54b6, 0x278d, 0xd3b0, 0x535a, 0xccc9, 0xd3c1, 0x0, 0x0);
        gbc.writeMem(0x54b6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x278d);
        EXPECT(gbc.pc(), 0x54b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 033D
        gbc.setState(0xa8a3, 0x5e35, 0x1d70, 0x36ff, 0x7239, 0xba94, 0x1, 0x0);
        gbc.writeMem(0xa8a3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x5e35);
        EXPECT(gbc.pc(), 0xa8a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8a3), 0xcb);
        EXPECT(gbc.readMem(0xa8a4), 0x94);
        // CB 94 033E
        gbc.setState(0xe449, 0x2467, 0xe590, 0x1b47, 0x5919, 0xac79, 0x1, 0x0);
        gbc.writeMem(0xe449, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x2467);
        EXPECT(gbc.pc(), 0xe44b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe449), 0xcb);
        EXPECT(gbc.readMem(0xe44a), 0x94);
        // CB 94 033F
        gbc.setState(0xb2bc, 0x2d7a, 0x3d50, 0x2a7d, 0x2202, 0xe7d4, 0x1, 0x0);
        gbc.writeMem(0xb2bc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x2d7a);
        EXPECT(gbc.pc(), 0xb2be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2bc), 0xcb);
        EXPECT(gbc.readMem(0xb2bd), 0x94);
        // CB 94 0340
        gbc.setState(0xa0a7, 0xf64a, 0x5690, 0x91ae, 0x85a2, 0x687f, 0x1, 0x1);
        gbc.writeMem(0xa0a7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xf64a);
        EXPECT(gbc.pc(), 0xa0a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0a7), 0xcb);
        EXPECT(gbc.readMem(0xa0a8), 0x94);
        // CB 94 0341
        gbc.setState(0xcaeb, 0xe14, 0xeb60, 0xb843, 0x6b25, 0x330a, 0x0, 0x1);
        gbc.writeMem(0xcaeb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xe14);
        EXPECT(gbc.pc(), 0xcaed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaeb), 0xcb);
        EXPECT(gbc.readMem(0xcaec), 0x94);
        // CB 94 0342
        gbc.setState(0x437f, 0xe428, 0x6e00, 0x45cd, 0x1790, 0x18a9, 0x0, 0x0);
        gbc.writeMem(0x437f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xe428);
        EXPECT(gbc.pc(), 0x4381);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0343
        gbc.setState(0x6a32, 0x8d4f, 0x1960, 0x5a02, 0xcd7c, 0x210b, 0x0, 0x0);
        gbc.writeMem(0x6a32, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x8d4f);
        EXPECT(gbc.pc(), 0x6a34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0344
        gbc.setState(0xe3a4, 0xa068, 0x11e0, 0x477f, 0x2caa, 0x5fd7, 0x1, 0x1);
        gbc.writeMem(0xe3a4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xa068);
        EXPECT(gbc.pc(), 0xe3a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3a4), 0xcb);
        EXPECT(gbc.readMem(0xe3a5), 0x94);
        // CB 94 0345
        gbc.setState(0x9cab, 0xb3b7, 0xcb90, 0x8c73, 0xfdcb, 0x7bd7, 0x1, 0x0);
        gbc.writeMem(0x9cab, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xb3b7);
        EXPECT(gbc.pc(), 0x9cad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9cab), 0xcb);
        EXPECT(gbc.readMem(0x9cac), 0x94);
        // CB 94 0346
        gbc.setState(0x1162, 0x5366, 0x4510, 0x96c9, 0x68a4, 0x7d2, 0x1, 0x0);
        gbc.writeMem(0x1162, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x5366);
        EXPECT(gbc.pc(), 0x1164);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0348
        gbc.setState(0x4b87, 0xa40f, 0x9100, 0xf610, 0x9470, 0x993c, 0x0, 0x0);
        gbc.writeMem(0x4b87, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xa40f);
        EXPECT(gbc.pc(), 0x4b89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0349
        gbc.setState(0xb996, 0x1142, 0xa720, 0xb006, 0x2b16, 0x35b8, 0x1, 0x1);
        gbc.writeMem(0xb996, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x1142);
        EXPECT(gbc.pc(), 0xb998);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb996), 0xcb);
        EXPECT(gbc.readMem(0xb997), 0x94);
        // CB 94 034A
        gbc.setState(0x1542, 0xb864, 0x6eb0, 0xb72b, 0x959e, 0xe72f, 0x1, 0x0);
        gbc.writeMem(0x1542, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xb864);
        EXPECT(gbc.pc(), 0x1544);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 034B
        gbc.setState(0xd418, 0x1387, 0x27a0, 0xd26e, 0x30ca, 0xb40e, 0x1, 0x0);
        gbc.writeMem(0xd418, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x1387);
        EXPECT(gbc.pc(), 0xd41a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd418), 0xcb);
        EXPECT(gbc.readMem(0xd419), 0x94);
        // CB 94 034C
        gbc.setState(0xcf05, 0x5c55, 0x34e0, 0xb527, 0x5b9a, 0x43f4, 0x1, 0x0);
        gbc.writeMem(0xcf05, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x5c55);
        EXPECT(gbc.pc(), 0xcf07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf05), 0xcb);
        EXPECT(gbc.readMem(0xcf06), 0x94);
        // CB 94 034D
        gbc.setState(0x242e, 0x2929, 0x48b0, 0xe1af, 0x6653, 0x459f, 0x1, 0x1);
        gbc.writeMem(0x242e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x2929);
        EXPECT(gbc.pc(), 0x2430);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 034E
        gbc.setState(0xda0b, 0xaa93, 0x8cf0, 0x88c6, 0x11d1, 0x499f, 0x1, 0x1);
        gbc.writeMem(0xda0b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xaa93);
        EXPECT(gbc.pc(), 0xda0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda0b), 0xcb);
        EXPECT(gbc.readMem(0xda0c), 0x94);
        // CB 94 034F
        gbc.setState(0xd3, 0xbe19, 0x8810, 0x6df1, 0x4b0, 0x6928, 0x1, 0x1);
        gbc.writeMem(0xd3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xbe19);
        EXPECT(gbc.pc(), 0xd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0350
        gbc.setState(0x218b, 0xf6fa, 0xcae0, 0x7eb0, 0x4f4a, 0x89b, 0x0, 0x1);
        gbc.writeMem(0x218b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xf6fa);
        EXPECT(gbc.pc(), 0x218d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0351
        gbc.setState(0xbb52, 0x7c5c, 0x26b0, 0x587c, 0x47ba, 0x4545, 0x0, 0x1);
        gbc.writeMem(0xbb52, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x7c5c);
        EXPECT(gbc.pc(), 0xbb54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb52), 0xcb);
        EXPECT(gbc.readMem(0xbb53), 0x94);
        // CB 94 0352
        gbc.setState(0xef5d, 0x577b, 0xa630, 0xbbb, 0x8e1, 0xc278, 0x0, 0x0);
        gbc.writeMem(0xef5d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x577b);
        EXPECT(gbc.pc(), 0xef5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef5d), 0xcb);
        EXPECT(gbc.readMem(0xef5e), 0x94);
        // CB 94 0353
        gbc.setState(0x590f, 0x1312, 0xaa0, 0xe413, 0x7da1, 0xf796, 0x1, 0x0);
        gbc.writeMem(0x590f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x1312);
        EXPECT(gbc.pc(), 0x5911);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0354
        gbc.setState(0x41e7, 0xcdc5, 0x81e0, 0x8fb, 0xe9f7, 0x227, 0x0, 0x0);
        gbc.writeMem(0x41e7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xcdc5);
        EXPECT(gbc.pc(), 0x41e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0355
        gbc.setState(0xca7, 0x3630, 0xd180, 0x906, 0x1f63, 0x10dc, 0x0, 0x0);
        gbc.writeMem(0xca7, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x3630);
        EXPECT(gbc.pc(), 0xca9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0356
        gbc.setState(0x51d, 0x38de, 0x13f0, 0x3efd, 0x3587, 0x4807, 0x0, 0x1);
        gbc.writeMem(0x51d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x38de);
        EXPECT(gbc.pc(), 0x51f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0357
        gbc.setState(0x1bf0, 0x428b, 0x9430, 0x43a2, 0x38dc, 0xc570, 0x0, 0x1);
        gbc.writeMem(0x1bf0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x428b);
        EXPECT(gbc.pc(), 0x1bf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0358
        gbc.setState(0xe4ea, 0xabb6, 0xc9c0, 0x5c9b, 0xe805, 0x78c2, 0x0, 0x1);
        gbc.writeMem(0xe4ea, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xabb6);
        EXPECT(gbc.pc(), 0xe4ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4ea), 0xcb);
        EXPECT(gbc.readMem(0xe4eb), 0x94);
        // CB 94 0359
        gbc.setState(0xb258, 0x24c7, 0x5040, 0x8b00, 0x68b, 0x2f4e, 0x0, 0x0);
        gbc.writeMem(0xb258, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x24c7);
        EXPECT(gbc.pc(), 0xb25a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb258), 0xcb);
        EXPECT(gbc.readMem(0xb259), 0x94);
        // CB 94 035B
        gbc.setState(0x7496, 0xdc15, 0xa40, 0x681a, 0xde0d, 0xfcb7, 0x1, 0x1);
        gbc.writeMem(0x7496, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xdc15);
        EXPECT(gbc.pc(), 0x7498);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 035C
        gbc.setState(0xb89a, 0xf238, 0xaf80, 0xb899, 0x7a35, 0xa6b9, 0x0, 0x1);
        gbc.writeMem(0xb89a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xf238);
        EXPECT(gbc.pc(), 0xb89c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb89a), 0xcb);
        EXPECT(gbc.readMem(0xb89b), 0x94);
        // CB 94 035D
        gbc.setState(0xd60d, 0xb480, 0x1850, 0xf3a9, 0x2a36, 0x51a7, 0x0, 0x1);
        gbc.writeMem(0xd60d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xb480);
        EXPECT(gbc.pc(), 0xd60f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd60d), 0xcb);
        EXPECT(gbc.readMem(0xd60e), 0x94);
        // CB 94 035E
        gbc.setState(0x7425, 0xd7d9, 0x6d40, 0x9d3, 0xf4c1, 0xabae, 0x1, 0x0);
        gbc.writeMem(0x7425, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xd7d9);
        EXPECT(gbc.pc(), 0x7427);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 035F
        gbc.setState(0x3ffe, 0x8aeb, 0xeb60, 0x4255, 0x3360, 0x1ad5, 0x0, 0x0);
        gbc.writeMem(0x3ffe, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x8aeb);
        EXPECT(gbc.pc(), 0x4000);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0360
        gbc.setState(0xe047, 0x8c06, 0xfb90, 0x62ae, 0xe573, 0xc359, 0x0, 0x0);
        gbc.writeMem(0xe047, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x8c06);
        EXPECT(gbc.pc(), 0xe049);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe047), 0xcb);
        EXPECT(gbc.readMem(0xe048), 0x94);
        // CB 94 0361
        gbc.setState(0x62f0, 0x4c11, 0x110, 0x1c4a, 0x70b2, 0x8d34, 0x0, 0x1);
        gbc.writeMem(0x62f0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x4c11);
        EXPECT(gbc.pc(), 0x62f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0362
        gbc.setState(0x4914, 0x6b10, 0x3d40, 0xc9c7, 0x3562, 0x7642, 0x0, 0x0);
        gbc.writeMem(0x4914, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x6b10);
        EXPECT(gbc.pc(), 0x4916);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0363
        gbc.setState(0xef92, 0xf39a, 0x1d50, 0xd218, 0x7db4, 0x1620, 0x1, 0x0);
        gbc.writeMem(0xef92, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xf39a);
        EXPECT(gbc.pc(), 0xef94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef92), 0xcb);
        EXPECT(gbc.readMem(0xef93), 0x94);
        // CB 94 0364
        gbc.setState(0xb30, 0x27f7, 0x99d0, 0x4983, 0xed8c, 0xb6b, 0x0, 0x0);
        gbc.writeMem(0xb30, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x27f7);
        EXPECT(gbc.pc(), 0xb32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0365
        gbc.setState(0xe57f, 0xd169, 0xd190, 0x65d0, 0xd5c5, 0x66c6, 0x1, 0x1);
        gbc.writeMem(0xe57f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xd169);
        EXPECT(gbc.pc(), 0xe581);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe57f), 0xcb);
        EXPECT(gbc.readMem(0xe580), 0x94);
        // CB 94 0366
        gbc.setState(0x6cd4, 0x8a11, 0xa230, 0x9580, 0xf395, 0x6a30, 0x0, 0x1);
        gbc.writeMem(0x6cd4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x8a11);
        EXPECT(gbc.pc(), 0x6cd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0367
        gbc.setState(0x39e6, 0xe1b9, 0x720, 0xb898, 0x22e5, 0x19c, 0x1, 0x0);
        gbc.writeMem(0x39e6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xe1b9);
        EXPECT(gbc.pc(), 0x39e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0368
        gbc.setState(0x87f1, 0x9ae0, 0x53b0, 0xb659, 0xaf03, 0x43fd, 0x0, 0x0);
        gbc.writeMem(0x87f1, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x9ae0);
        EXPECT(gbc.pc(), 0x87f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87f1), 0xcb);
        EXPECT(gbc.readMem(0x87f2), 0x94);
        // CB 94 0369
        gbc.setState(0x4d9a, 0x8a15, 0x1e70, 0x10b6, 0xc16a, 0x12b7, 0x1, 0x0);
        gbc.writeMem(0x4d9a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x8a15);
        EXPECT(gbc.pc(), 0x4d9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 036A
        gbc.setState(0xb8c9, 0x86af, 0xf760, 0x662e, 0x7573, 0x2d37, 0x0, 0x1);
        gbc.writeMem(0xb8c9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x86af);
        EXPECT(gbc.pc(), 0xb8cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8c9), 0xcb);
        EXPECT(gbc.readMem(0xb8ca), 0x94);
        // CB 94 036B
        gbc.setState(0x48eb, 0x2b97, 0xcbd0, 0xcf00, 0x6ec5, 0x48d4, 0x1, 0x1);
        gbc.writeMem(0x48eb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x2b97);
        EXPECT(gbc.pc(), 0x48ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 036C
        gbc.setState(0xa939, 0xde47, 0x3170, 0xc03e, 0xcb67, 0x4ecd, 0x0, 0x0);
        gbc.writeMem(0xa939, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xde47);
        EXPECT(gbc.pc(), 0xa93b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa939), 0xcb);
        EXPECT(gbc.readMem(0xa93a), 0x94);
        // CB 94 036D
        gbc.setState(0x8e84, 0x338e, 0xb170, 0xc39c, 0xd92, 0xf56f, 0x1, 0x1);
        gbc.writeMem(0x8e84, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x338e);
        EXPECT(gbc.pc(), 0x8e86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e84), 0xcb);
        EXPECT(gbc.readMem(0x8e85), 0x94);
        // CB 94 036E
        gbc.setState(0xd76f, 0x9e45, 0x9510, 0x5f9f, 0x27a8, 0xe48f, 0x0, 0x0);
        gbc.writeMem(0xd76f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x9e45);
        EXPECT(gbc.pc(), 0xd771);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd76f), 0xcb);
        EXPECT(gbc.readMem(0xd770), 0x94);
        // CB 94 036F
        gbc.setState(0xe2ae, 0x5938, 0x4040, 0x944a, 0xbadf, 0x9227, 0x1, 0x1);
        gbc.writeMem(0xe2ae, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x5938);
        EXPECT(gbc.pc(), 0xe2b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2ae), 0xcb);
        EXPECT(gbc.readMem(0xe2af), 0x94);
        // CB 94 0370
        gbc.setState(0x947c, 0x6389, 0x4920, 0x49c6, 0xb722, 0x6446, 0x0, 0x0);
        gbc.writeMem(0x947c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x6389);
        EXPECT(gbc.pc(), 0x947e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x947c), 0xcb);
        EXPECT(gbc.readMem(0x947d), 0x94);
        // CB 94 0371
        gbc.setState(0x2002, 0x4608, 0x44d0, 0xb6fd, 0x24ef, 0x2bfe, 0x1, 0x0);
        gbc.writeMem(0x2002, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x4608);
        EXPECT(gbc.pc(), 0x2004);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0372
        gbc.setState(0xc181, 0xc663, 0xa50, 0x7d8b, 0xc9b8, 0xbd35, 0x1, 0x1);
        gbc.writeMem(0xc181, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xc663);
        EXPECT(gbc.pc(), 0xc183);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc181), 0xcb);
        EXPECT(gbc.readMem(0xc182), 0x94);
        // CB 94 0373
        gbc.setState(0x81d2, 0x5403, 0xed50, 0xb7e8, 0x902c, 0xb35, 0x0, 0x1);
        gbc.writeMem(0x81d2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x5403);
        EXPECT(gbc.pc(), 0x81d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81d2), 0xcb);
        EXPECT(gbc.readMem(0x81d3), 0x94);
        // CB 94 0374
        gbc.setState(0xea33, 0xae46, 0x3290, 0x91e0, 0x1544, 0x2fcb, 0x1, 0x1);
        gbc.writeMem(0xea33, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xae46);
        EXPECT(gbc.pc(), 0xea35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xea33), 0xcb);
        EXPECT(gbc.readMem(0xea34), 0x94);
        // CB 94 0375
        gbc.setState(0x8bc0, 0xed2f, 0x8c50, 0xd0e7, 0x125b, 0x332d, 0x1, 0x0);
        gbc.writeMem(0x8bc0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xed2f);
        EXPECT(gbc.pc(), 0x8bc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bc0), 0xcb);
        EXPECT(gbc.readMem(0x8bc1), 0x94);
        // CB 94 0376
        gbc.setState(0xde21, 0xa6f7, 0x5eb0, 0x86aa, 0xf280, 0xa5cc, 0x1, 0x1);
        gbc.writeMem(0xde21, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xa6f7);
        EXPECT(gbc.pc(), 0xde23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde21), 0xcb);
        EXPECT(gbc.readMem(0xde22), 0x94);
        // CB 94 0377
        gbc.setState(0x6db, 0x10aa, 0x50e0, 0x92d8, 0x5683, 0x6457, 0x1, 0x0);
        gbc.writeMem(0x6db, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x10aa);
        EXPECT(gbc.pc(), 0x6dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0378
        gbc.setState(0xd483, 0x9fe6, 0x8000, 0xe075, 0xdbb6, 0x706, 0x1, 0x0);
        gbc.writeMem(0xd483, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x9fe6);
        EXPECT(gbc.pc(), 0xd485);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd483), 0xcb);
        EXPECT(gbc.readMem(0xd484), 0x94);
        // CB 94 0379
        gbc.setState(0x6d2f, 0x80f4, 0xec30, 0xcdad, 0x1004, 0xc40a, 0x1, 0x1);
        gbc.writeMem(0x6d2f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x80f4);
        EXPECT(gbc.pc(), 0x6d31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 037A
        gbc.setState(0x311e, 0xf3fa, 0x9960, 0xb11, 0x708b, 0xbe68, 0x1, 0x1);
        gbc.writeMem(0x311e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xf3fa);
        EXPECT(gbc.pc(), 0x3120);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 037B
        gbc.setState(0xaf58, 0x663e, 0x6890, 0xb34, 0xfdaa, 0x1bd8, 0x1, 0x0);
        gbc.writeMem(0xaf58, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x663e);
        EXPECT(gbc.pc(), 0xaf5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf58), 0xcb);
        EXPECT(gbc.readMem(0xaf59), 0x94);
        // CB 94 037C
        gbc.setState(0x3854, 0xc45d, 0xded0, 0xa899, 0x3e38, 0xa0b, 0x1, 0x1);
        gbc.writeMem(0x3854, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xc45d);
        EXPECT(gbc.pc(), 0x3856);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 037D
        gbc.setState(0x8ee9, 0x8ff5, 0x3970, 0x1c1a, 0x8c94, 0x8063, 0x1, 0x0);
        gbc.writeMem(0x8ee9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x8ff5);
        EXPECT(gbc.pc(), 0x8eeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ee9), 0xcb);
        EXPECT(gbc.readMem(0x8eea), 0x94);
        // CB 94 037F
        gbc.setState(0xdf32, 0x4f7b, 0x1360, 0xc611, 0xdac4, 0x4b5f, 0x1, 0x1);
        gbc.writeMem(0xdf32, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x4f7b);
        EXPECT(gbc.pc(), 0xdf34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf32), 0xcb);
        EXPECT(gbc.readMem(0xdf33), 0x94);
        // CB 94 0380
        gbc.setState(0xa4f, 0xf8b0, 0x9e30, 0x3a73, 0xf52d, 0xe854, 0x1, 0x1);
        gbc.writeMem(0xa4f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xf8b0);
        EXPECT(gbc.pc(), 0xa51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0381
        gbc.setState(0xc40a, 0x51d9, 0xac00, 0xaed4, 0x22b2, 0xc0f5, 0x0, 0x1);
        gbc.writeMem(0xc40a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x51d9);
        EXPECT(gbc.pc(), 0xc40c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc40a), 0xcb);
        EXPECT(gbc.readMem(0xc40b), 0x94);
        // CB 94 0382
        gbc.setState(0x33ab, 0xa3ea, 0x64f0, 0x645c, 0xaa7b, 0x155d, 0x1, 0x1);
        gbc.writeMem(0x33ab, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xa3ea);
        EXPECT(gbc.pc(), 0x33ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0383
        gbc.setState(0xb0d8, 0xcd55, 0x1990, 0x985f, 0x73c4, 0x2888, 0x0, 0x0);
        gbc.writeMem(0xb0d8, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xcd55);
        EXPECT(gbc.pc(), 0xb0da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0d8), 0xcb);
        EXPECT(gbc.readMem(0xb0d9), 0x94);
        // CB 94 0384
        gbc.setState(0x9cab, 0x7dde, 0x77e0, 0x7910, 0xb4de, 0xc200, 0x1, 0x1);
        gbc.writeMem(0x9cab, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x7dde);
        EXPECT(gbc.pc(), 0x9cad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cab), 0xcb);
        EXPECT(gbc.readMem(0x9cac), 0x94);
        // CB 94 0385
        gbc.setState(0x260d, 0x5040, 0x2580, 0xe6f4, 0x4dd9, 0x3a92, 0x1, 0x0);
        gbc.writeMem(0x260d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x5040);
        EXPECT(gbc.pc(), 0x260f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0386
        gbc.setState(0x6c5f, 0x2c11, 0x4f40, 0x9ee, 0xd47e, 0x844b, 0x1, 0x1);
        gbc.writeMem(0x6c5f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x2c11);
        EXPECT(gbc.pc(), 0x6c61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0387
        gbc.setState(0xeb7e, 0xd6c1, 0x4b40, 0x6430, 0xb04b, 0x78b9, 0x0, 0x1);
        gbc.writeMem(0xeb7e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xd6c1);
        EXPECT(gbc.pc(), 0xeb80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb7e), 0xcb);
        EXPECT(gbc.readMem(0xeb7f), 0x94);
        // CB 94 0388
        gbc.setState(0x77c6, 0xd68d, 0x140, 0x329c, 0xf760, 0x6465, 0x1, 0x0);
        gbc.writeMem(0x77c6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xd68d);
        EXPECT(gbc.pc(), 0x77c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0389
        gbc.setState(0xc93b, 0x62ee, 0x2820, 0xd07f, 0x9568, 0x60c7, 0x1, 0x0);
        gbc.writeMem(0xc93b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x62ee);
        EXPECT(gbc.pc(), 0xc93d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc93b), 0xcb);
        EXPECT(gbc.readMem(0xc93c), 0x94);
        // CB 94 038A
        gbc.setState(0xb6dd, 0xef1a, 0x4ad0, 0xb479, 0x10da, 0xf6a4, 0x1, 0x0);
        gbc.writeMem(0xb6dd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xef1a);
        EXPECT(gbc.pc(), 0xb6df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6dd), 0xcb);
        EXPECT(gbc.readMem(0xb6de), 0x94);
        // CB 94 038B
        gbc.setState(0x8120, 0x30e0, 0x20b0, 0x6022, 0xfc2b, 0x7ded, 0x0, 0x0);
        gbc.writeMem(0x8120, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x30e0);
        EXPECT(gbc.pc(), 0x8122);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8120), 0xcb);
        EXPECT(gbc.readMem(0x8121), 0x94);
        // CB 94 038C
        gbc.setState(0xcecb, 0x1f6b, 0x2990, 0x1023, 0xcff5, 0x63c9, 0x1, 0x1);
        gbc.writeMem(0xcecb, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x1f6b);
        EXPECT(gbc.pc(), 0xcecd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcecb), 0xcb);
        EXPECT(gbc.readMem(0xcecc), 0x94);
        // CB 94 038D
        gbc.setState(0x478d, 0xcbcf, 0x6e60, 0xeb93, 0xa7f7, 0xd688, 0x1, 0x1);
        gbc.writeMem(0x478d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xcbcf);
        EXPECT(gbc.pc(), 0x478f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 038E
        gbc.setState(0x6a3e, 0x4cd5, 0x3b20, 0xd630, 0xccb4, 0xa1a1, 0x1, 0x0);
        gbc.writeMem(0x6a3e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x4cd5);
        EXPECT(gbc.pc(), 0x6a40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 038F
        gbc.setState(0x9f71, 0x5139, 0x70d0, 0x6437, 0x48d, 0x8475, 0x0, 0x1);
        gbc.writeMem(0x9f71, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x5139);
        EXPECT(gbc.pc(), 0x9f73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f71), 0xcb);
        EXPECT(gbc.readMem(0x9f72), 0x94);
        // CB 94 0390
        gbc.setState(0x4b6a, 0xde6f, 0x26d0, 0xe382, 0x64d3, 0x42b, 0x1, 0x1);
        gbc.writeMem(0x4b6a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xde6f);
        EXPECT(gbc.pc(), 0x4b6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 0392
        gbc.setState(0xbdbc, 0xd51f, 0x3a0, 0x1722, 0xd1e, 0xde9, 0x0, 0x0);
        gbc.writeMem(0xbdbc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xd51f);
        EXPECT(gbc.pc(), 0xbdbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdbc), 0xcb);
        EXPECT(gbc.readMem(0xbdbd), 0x94);
        // CB 94 0393
        gbc.setState(0x6c87, 0x4d4d, 0x1a20, 0xc9cf, 0xc67c, 0xefdc, 0x1, 0x1);
        gbc.writeMem(0x6c87, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x4d4d);
        EXPECT(gbc.pc(), 0x6c89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0394
        gbc.setState(0x6473, 0xffe2, 0xdc80, 0xcea7, 0xc98e, 0x6b67, 0x0, 0x0);
        gbc.writeMem(0x6473, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xffe2);
        EXPECT(gbc.pc(), 0x6475);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0395
        gbc.setState(0xef6d, 0x894c, 0x34a0, 0x5d4b, 0x7d5e, 0x933d, 0x1, 0x0);
        gbc.writeMem(0xef6d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x894c);
        EXPECT(gbc.pc(), 0xef6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef6d), 0xcb);
        EXPECT(gbc.readMem(0xef6e), 0x94);
        // CB 94 0396
        gbc.setState(0x31cd, 0x46ce, 0xa1e0, 0xb557, 0xef85, 0xadb5, 0x1, 0x0);
        gbc.writeMem(0x31cd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x46ce);
        EXPECT(gbc.pc(), 0x31cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 0398
        gbc.setState(0xbe8b, 0xfb6, 0x760, 0xb64e, 0x8e49, 0xa54e, 0x1, 0x1);
        gbc.writeMem(0xbe8b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xfb6);
        EXPECT(gbc.pc(), 0xbe8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe8b), 0xcb);
        EXPECT(gbc.readMem(0xbe8c), 0x94);
        // CB 94 0399
        gbc.setState(0xa0a6, 0xc35, 0x2b40, 0xf928, 0x832e, 0x74e2, 0x0, 0x0);
        gbc.writeMem(0xa0a6, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xc35);
        EXPECT(gbc.pc(), 0xa0a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0a6), 0xcb);
        EXPECT(gbc.readMem(0xa0a7), 0x94);
        // CB 94 039A
        gbc.setState(0x3c2e, 0x8b44, 0x31e0, 0xd6a9, 0xff85, 0xbda7, 0x1, 0x0);
        gbc.writeMem(0x3c2e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x8b44);
        EXPECT(gbc.pc(), 0x3c30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 039B
        gbc.setState(0xaf30, 0xdac9, 0x89b0, 0x6386, 0xc9dc, 0x9edc, 0x1, 0x0);
        gbc.writeMem(0xaf30, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xdac9);
        EXPECT(gbc.pc(), 0xaf32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf30), 0xcb);
        EXPECT(gbc.readMem(0xaf31), 0x94);
        // CB 94 039C
        gbc.setState(0x2933, 0x34f3, 0xa120, 0x4218, 0x6639, 0x5bcb, 0x0, 0x0);
        gbc.writeMem(0x2933, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x34f3);
        EXPECT(gbc.pc(), 0x2935);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 039D
        gbc.setState(0x373b, 0x1d15, 0x9a00, 0x4c05, 0x724c, 0x537e, 0x0, 0x1);
        gbc.writeMem(0x373b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x1d15);
        EXPECT(gbc.pc(), 0x373d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 039E
        gbc.setState(0xcf06, 0x128f, 0x3160, 0x2f37, 0x4b2f, 0x35ab, 0x1, 0x0);
        gbc.writeMem(0xcf06, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x128f);
        EXPECT(gbc.pc(), 0xcf08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf06), 0xcb);
        EXPECT(gbc.readMem(0xcf07), 0x94);
        // CB 94 039F
        gbc.setState(0x8eee, 0xcd80, 0xc190, 0x522b, 0x17ed, 0xf3e8, 0x1, 0x0);
        gbc.writeMem(0x8eee, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xcd80);
        EXPECT(gbc.pc(), 0x8ef0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8eee), 0xcb);
        EXPECT(gbc.readMem(0x8eef), 0x94);
        // CB 94 03A0
        gbc.setState(0x26fd, 0x2b48, 0x380, 0xcff0, 0xc050, 0x80c0, 0x1, 0x0);
        gbc.writeMem(0x26fd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x2b48);
        EXPECT(gbc.pc(), 0x26ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03A1
        gbc.setState(0x43fa, 0xcf95, 0x6ae0, 0x5654, 0x6281, 0x2627, 0x1, 0x1);
        gbc.writeMem(0x43fa, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xcf95);
        EXPECT(gbc.pc(), 0x43fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03A2
        gbc.setState(0x63a0, 0xc26d, 0x17c0, 0x4fb6, 0x6c96, 0xe2fa, 0x1, 0x1);
        gbc.writeMem(0x63a0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xc26d);
        EXPECT(gbc.pc(), 0x63a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03A3
        gbc.setState(0x3463, 0xf9f7, 0xa9a0, 0x1c51, 0x8d30, 0xc468, 0x0, 0x1);
        gbc.writeMem(0x3463, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xf9f7);
        EXPECT(gbc.pc(), 0x3465);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03A4
        gbc.setState(0x4bbe, 0x4512, 0x7320, 0x207d, 0xf018, 0xfb22, 0x0, 0x1);
        gbc.writeMem(0x4bbe, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x4512);
        EXPECT(gbc.pc(), 0x4bc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03A5
        gbc.setState(0x4e11, 0xa76, 0x4b40, 0xfe9b, 0xca34, 0x5046, 0x0, 0x1);
        gbc.writeMem(0x4e11, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xa76);
        EXPECT(gbc.pc(), 0x4e13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03A6
        gbc.setState(0xb097, 0x2341, 0x6a90, 0xd884, 0x8f6e, 0xc7a7, 0x0, 0x0);
        gbc.writeMem(0xb097, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x2341);
        EXPECT(gbc.pc(), 0xb099);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb097), 0xcb);
        EXPECT(gbc.readMem(0xb098), 0x94);
        // CB 94 03A7
        gbc.setState(0x54df, 0x202d, 0x5d40, 0x5069, 0x5609, 0x8385, 0x1, 0x0);
        gbc.writeMem(0x54df, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x202d);
        EXPECT(gbc.pc(), 0x54e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03A8
        gbc.setState(0xe7a0, 0x4a5b, 0x8580, 0xa886, 0x9, 0x38fa, 0x0, 0x1);
        gbc.writeMem(0xe7a0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x4a5b);
        EXPECT(gbc.pc(), 0xe7a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7a0), 0xcb);
        EXPECT(gbc.readMem(0xe7a1), 0x94);
        // CB 94 03A9
        gbc.setState(0xef7c, 0x4c4c, 0x5af0, 0xde58, 0x6121, 0x955d, 0x1, 0x1);
        gbc.writeMem(0xef7c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x4c4c);
        EXPECT(gbc.pc(), 0xef7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef7c), 0xcb);
        EXPECT(gbc.readMem(0xef7d), 0x94);
        // CB 94 03AA
        gbc.setState(0x2210, 0xc9b5, 0x28d0, 0x73e2, 0xaa23, 0x21ac, 0x1, 0x0);
        gbc.writeMem(0x2210, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xc9b5);
        EXPECT(gbc.pc(), 0x2212);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03AB
        gbc.setState(0x740b, 0x934e, 0x79b0, 0x84e4, 0x43c5, 0x4935, 0x1, 0x0);
        gbc.writeMem(0x740b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x934e);
        EXPECT(gbc.pc(), 0x740d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03AC
        gbc.setState(0x615d, 0xe77b, 0x9100, 0xb5bd, 0x95f4, 0xfe22, 0x0, 0x1);
        gbc.writeMem(0x615d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xe77b);
        EXPECT(gbc.pc(), 0x615f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03AD
        gbc.setState(0x8920, 0x3842, 0x1c70, 0x5983, 0x8965, 0x1bc5, 0x1, 0x1);
        gbc.writeMem(0x8920, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x3842);
        EXPECT(gbc.pc(), 0x8922);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8920), 0xcb);
        EXPECT(gbc.readMem(0x8921), 0x94);
        // CB 94 03AE
        gbc.setState(0xceda, 0x6db8, 0x2640, 0x2630, 0x468a, 0x225e, 0x0, 0x1);
        gbc.writeMem(0xceda, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x6db8);
        EXPECT(gbc.pc(), 0xcedc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xceda), 0xcb);
        EXPECT(gbc.readMem(0xcedb), 0x94);
        // CB 94 03AF
        gbc.setState(0x3544, 0x2025, 0x36c0, 0xbb47, 0xcb18, 0xfedb, 0x1, 0x1);
        gbc.writeMem(0x3544, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x2025);
        EXPECT(gbc.pc(), 0x3546);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03B0
        gbc.setState(0x4f54, 0xcc, 0xa230, 0x6653, 0x21a1, 0xc427, 0x0, 0x1);
        gbc.writeMem(0x4f54, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xcc);
        EXPECT(gbc.pc(), 0x4f56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03B1
        gbc.setState(0x18b2, 0x699c, 0xde10, 0xed6a, 0x5d98, 0xb65a, 0x0, 0x1);
        gbc.writeMem(0x18b2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x699c);
        EXPECT(gbc.pc(), 0x18b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03B2
        gbc.setState(0x94fd, 0x17d2, 0xf480, 0x8e6d, 0x3961, 0x464e, 0x1, 0x0);
        gbc.writeMem(0x94fd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x17d2);
        EXPECT(gbc.pc(), 0x94ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94fd), 0xcb);
        EXPECT(gbc.readMem(0x94fe), 0x94);
        // CB 94 03B3
        gbc.setState(0xdc06, 0x9e9f, 0x74a0, 0x5451, 0xb73f, 0xd220, 0x0, 0x1);
        gbc.writeMem(0xdc06, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x9e9f);
        EXPECT(gbc.pc(), 0xdc08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc06), 0xcb);
        EXPECT(gbc.readMem(0xdc07), 0x94);
        // CB 94 03B4
        gbc.setState(0x147f, 0x1b97, 0x3c70, 0x16c5, 0x2984, 0x3d14, 0x0, 0x0);
        gbc.writeMem(0x147f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x1b97);
        EXPECT(gbc.pc(), 0x1481);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03B5
        gbc.setState(0x254b, 0x1c94, 0x48d0, 0xc2b5, 0x543b, 0x6475, 0x0, 0x1);
        gbc.writeMem(0x254b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x1c94);
        EXPECT(gbc.pc(), 0x254d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03B6
        gbc.setState(0xe73a, 0xb3a5, 0x2760, 0x7018, 0x98ac, 0x3867, 0x1, 0x1);
        gbc.writeMem(0xe73a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xb3a5);
        EXPECT(gbc.pc(), 0xe73c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe73a), 0xcb);
        EXPECT(gbc.readMem(0xe73b), 0x94);
        // CB 94 03B7
        gbc.setState(0xb128, 0x6265, 0x94a0, 0xa185, 0xa8ed, 0x24d8, 0x1, 0x0);
        gbc.writeMem(0xb128, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x6265);
        EXPECT(gbc.pc(), 0xb12a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb128), 0xcb);
        EXPECT(gbc.readMem(0xb129), 0x94);
        // CB 94 03B8
        gbc.setState(0x6e4f, 0x2370, 0x6a80, 0x8743, 0xd5f4, 0x2ee0, 0x1, 0x0);
        gbc.writeMem(0x6e4f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x2370);
        EXPECT(gbc.pc(), 0x6e51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03B9
        gbc.setState(0x1c0a, 0xddaa, 0x5210, 0x139e, 0x8992, 0x2a7f, 0x1, 0x1);
        gbc.writeMem(0x1c0a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xddaa);
        EXPECT(gbc.pc(), 0x1c0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03BA
        gbc.setState(0xbe64, 0x160b, 0xa2a0, 0x3655, 0xbe50, 0xe9ef, 0x0, 0x1);
        gbc.writeMem(0xbe64, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x160b);
        EXPECT(gbc.pc(), 0xbe66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe64), 0xcb);
        EXPECT(gbc.readMem(0xbe65), 0x94);
        // CB 94 03BB
        gbc.setState(0x5331, 0xda92, 0x6e00, 0x978d, 0xd4e9, 0xc61e, 0x1, 0x1);
        gbc.writeMem(0x5331, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xda92);
        EXPECT(gbc.pc(), 0x5333);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03BC
        gbc.setState(0x37a4, 0xb2d3, 0x4c80, 0x6cb1, 0x9787, 0x524d, 0x0, 0x0);
        gbc.writeMem(0x37a4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xb2d3);
        EXPECT(gbc.pc(), 0x37a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03BD
        gbc.setState(0xcd13, 0xb11b, 0x76a0, 0xa1a3, 0x9fcd, 0xd6f2, 0x1, 0x0);
        gbc.writeMem(0xcd13, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xb11b);
        EXPECT(gbc.pc(), 0xcd15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd13), 0xcb);
        EXPECT(gbc.readMem(0xcd14), 0x94);
        // CB 94 03BE
        gbc.setState(0x6bd9, 0xc5f7, 0x2d90, 0xcf1b, 0x1ff5, 0xdfbb, 0x0, 0x0);
        gbc.writeMem(0x6bd9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xc5f7);
        EXPECT(gbc.pc(), 0x6bdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03BF
        gbc.setState(0x31b0, 0xb93f, 0x8240, 0xed98, 0xd1c6, 0x5615, 0x1, 0x0);
        gbc.writeMem(0x31b0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb93f);
        EXPECT(gbc.pc(), 0x31b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03C0
        gbc.setState(0xaf71, 0xb41, 0x8b50, 0xb5bc, 0x1ba5, 0x41f4, 0x0, 0x0);
        gbc.writeMem(0xaf71, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb41);
        EXPECT(gbc.pc(), 0xaf73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaf71), 0xcb);
        EXPECT(gbc.readMem(0xaf72), 0x94);
        // CB 94 03C1
        gbc.setState(0xec2, 0xaf56, 0xd370, 0xbedf, 0x3472, 0x6ce5, 0x1, 0x1);
        gbc.writeMem(0xec2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xaf56);
        EXPECT(gbc.pc(), 0xec4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03C2
        gbc.setState(0xbba2, 0xd8b7, 0x97a0, 0x394a, 0x6d1c, 0x1f69, 0x1, 0x1);
        gbc.writeMem(0xbba2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd8b7);
        EXPECT(gbc.pc(), 0xbba4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbba2), 0xcb);
        EXPECT(gbc.readMem(0xbba3), 0x94);
        // CB 94 03C3
        gbc.setState(0xdfcc, 0x447, 0xdc40, 0x2930, 0xb10e, 0xe579, 0x0, 0x0);
        gbc.writeMem(0xdfcc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x447);
        EXPECT(gbc.pc(), 0xdfce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfcc), 0xcb);
        EXPECT(gbc.readMem(0xdfcd), 0x94);
        // CB 94 03C4
        gbc.setState(0x5710, 0x9bdb, 0x59b0, 0xc98d, 0xca5a, 0xfca5, 0x0, 0x0);
        gbc.writeMem(0x5710, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x9bdb);
        EXPECT(gbc.pc(), 0x5712);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03C5
        gbc.setState(0xdbab, 0xc160, 0x8370, 0xc354, 0xb51a, 0xa38c, 0x0, 0x1);
        gbc.writeMem(0xdbab, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xc160);
        EXPECT(gbc.pc(), 0xdbad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbab), 0xcb);
        EXPECT(gbc.readMem(0xdbac), 0x94);
        // CB 94 03C6
        gbc.setState(0x2f5, 0x8639, 0x2970, 0xc84, 0xb0ba, 0xfcb1, 0x1, 0x0);
        gbc.writeMem(0x2f5, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x8639);
        EXPECT(gbc.pc(), 0x2f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03C7
        gbc.setState(0xcad4, 0x9814, 0xdc90, 0x55b0, 0xb470, 0x7ecc, 0x0, 0x0);
        gbc.writeMem(0xcad4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x9814);
        EXPECT(gbc.pc(), 0xcad6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcad4), 0xcb);
        EXPECT(gbc.readMem(0xcad5), 0x94);
        // CB 94 03C8
        gbc.setState(0xe50d, 0xa07c, 0xabc0, 0x2edc, 0xb762, 0xf28f, 0x0, 0x1);
        gbc.writeMem(0xe50d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xa07c);
        EXPECT(gbc.pc(), 0xe50f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe50d), 0xcb);
        EXPECT(gbc.readMem(0xe50e), 0x94);
        // CB 94 03C9
        gbc.setState(0x8852, 0x5c58, 0x1fc0, 0xade6, 0xce62, 0x114b, 0x0, 0x0);
        gbc.writeMem(0x8852, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x5c58);
        EXPECT(gbc.pc(), 0x8854);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8852), 0xcb);
        EXPECT(gbc.readMem(0x8853), 0x94);
        // CB 94 03CA
        gbc.setState(0xdf7d, 0x28e9, 0x8ed0, 0x390f, 0x46ed, 0xf236, 0x0, 0x0);
        gbc.writeMem(0xdf7d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x28e9);
        EXPECT(gbc.pc(), 0xdf7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf7d), 0xcb);
        EXPECT(gbc.readMem(0xdf7e), 0x94);
        // CB 94 03CB
        gbc.setState(0xe09b, 0x40aa, 0xcdd0, 0xbf70, 0x5fc0, 0xa5a6, 0x0, 0x0);
        gbc.writeMem(0xe09b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x40aa);
        EXPECT(gbc.pc(), 0xe09d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe09b), 0xcb);
        EXPECT(gbc.readMem(0xe09c), 0x94);
        // CB 94 03CC
        gbc.setState(0xbc8c, 0xb615, 0x7330, 0x6957, 0x4cb2, 0xcfd1, 0x0, 0x0);
        gbc.writeMem(0xbc8c, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xb615);
        EXPECT(gbc.pc(), 0xbc8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc8c), 0xcb);
        EXPECT(gbc.readMem(0xbc8d), 0x94);
        // CB 94 03CD
        gbc.setState(0xd61b, 0x599d, 0x9770, 0x5802, 0x4b57, 0xcbd5, 0x1, 0x1);
        gbc.writeMem(0xd61b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x599d);
        EXPECT(gbc.pc(), 0xd61d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd61b), 0xcb);
        EXPECT(gbc.readMem(0xd61c), 0x94);
        // CB 94 03CE
        gbc.setState(0xe7e2, 0x3e19, 0xb4e0, 0x8c4f, 0xb807, 0xad69, 0x0, 0x0);
        gbc.writeMem(0xe7e2, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x3e19);
        EXPECT(gbc.pc(), 0xe7e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7e2), 0xcb);
        EXPECT(gbc.readMem(0xe7e3), 0x94);
        // CB 94 03CF
        gbc.setState(0x3a70, 0x66e2, 0x5560, 0x5d51, 0x5218, 0xfade, 0x1, 0x1);
        gbc.writeMem(0x3a70, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x66e2);
        EXPECT(gbc.pc(), 0x3a72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03D0
        gbc.setState(0x1888, 0x281a, 0x61f0, 0x7c8, 0x68d0, 0x47ce, 0x1, 0x0);
        gbc.writeMem(0x1888, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x281a);
        EXPECT(gbc.pc(), 0x188a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03D1
        gbc.setState(0x4bfc, 0x2ab0, 0x32f0, 0x8497, 0x9e94, 0x7402, 0x0, 0x1);
        gbc.writeMem(0x4bfc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x2ab0);
        EXPECT(gbc.pc(), 0x4bfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03D2
        gbc.setState(0xa979, 0x1dc0, 0x19d0, 0x873c, 0x7cd, 0x49b7, 0x0, 0x0);
        gbc.writeMem(0xa979, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x1dc0);
        EXPECT(gbc.pc(), 0xa97b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa979), 0xcb);
        EXPECT(gbc.readMem(0xa97a), 0x94);
        // CB 94 03D3
        gbc.setState(0x806b, 0x6322, 0xba30, 0xd210, 0x2b3c, 0x8d0d, 0x0, 0x1);
        gbc.writeMem(0x806b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6322);
        EXPECT(gbc.pc(), 0x806d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x806b), 0xcb);
        EXPECT(gbc.readMem(0x806c), 0x94);
        // CB 94 03D4
        gbc.setState(0xe39d, 0x64d, 0x1fe0, 0x9baf, 0x7735, 0xa68f, 0x0, 0x1);
        gbc.writeMem(0xe39d, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x64d);
        EXPECT(gbc.pc(), 0xe39f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe39d), 0xcb);
        EXPECT(gbc.readMem(0xe39e), 0x94);
        // CB 94 03D5
        gbc.setState(0x218f, 0xccac, 0x5c40, 0x83c, 0xb35e, 0xd315, 0x1, 0x0);
        gbc.writeMem(0x218f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xccac);
        EXPECT(gbc.pc(), 0x2191);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03D6
        gbc.setState(0x2aa9, 0x558e, 0x5ce0, 0xd923, 0xc7cb, 0xdb63, 0x1, 0x1);
        gbc.writeMem(0x2aa9, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x558e);
        EXPECT(gbc.pc(), 0x2aab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03D7
        gbc.setState(0x4276, 0xf67f, 0x5b80, 0xc694, 0x2047, 0x72e4, 0x0, 0x1);
        gbc.writeMem(0x4276, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xf67f);
        EXPECT(gbc.pc(), 0x4278);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03D8
        gbc.setState(0x9ac4, 0xdfc4, 0x8f0, 0x58f2, 0x3b9e, 0x177, 0x0, 0x1);
        gbc.writeMem(0x9ac4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xdfc4);
        EXPECT(gbc.pc(), 0x9ac6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ac4), 0xcb);
        EXPECT(gbc.readMem(0x9ac5), 0x94);
        // CB 94 03D9
        gbc.setState(0xb94f, 0x808a, 0xbb0, 0xa344, 0x651, 0xbc, 0x1, 0x1);
        gbc.writeMem(0xb94f, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x808a);
        EXPECT(gbc.pc(), 0xb951);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb94f), 0xcb);
        EXPECT(gbc.readMem(0xb950), 0x94);
        // CB 94 03DA
        gbc.setState(0xeb49, 0x97f1, 0xdfb0, 0x8ec7, 0x554e, 0x6bf4, 0x0, 0x0);
        gbc.writeMem(0xeb49, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x97f1);
        EXPECT(gbc.pc(), 0xeb4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb49), 0xcb);
        EXPECT(gbc.readMem(0xeb4a), 0x94);
        // CB 94 03DB
        gbc.setState(0x9021, 0x8e49, 0x2f90, 0x8ffd, 0xbfc3, 0x6e46, 0x1, 0x1);
        gbc.writeMem(0x9021, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x8e49);
        EXPECT(gbc.pc(), 0x9023);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9021), 0xcb);
        EXPECT(gbc.readMem(0x9022), 0x94);
        // CB 94 03DC
        gbc.setState(0xd736, 0x1669, 0x1790, 0x1d93, 0x8199, 0xd6e4, 0x1, 0x1);
        gbc.writeMem(0xd736, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x1669);
        EXPECT(gbc.pc(), 0xd738);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd736), 0xcb);
        EXPECT(gbc.readMem(0xd737), 0x94);
        // CB 94 03DD
        gbc.setState(0x1b94, 0xbfb6, 0xabd0, 0x1672, 0x13dc, 0xef92, 0x0, 0x1);
        gbc.writeMem(0x1b94, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xbfb6);
        EXPECT(gbc.pc(), 0x1b96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03DE
        gbc.setState(0x75a3, 0x2fc5, 0x52c0, 0x109c, 0x9a12, 0x7853, 0x1, 0x1);
        gbc.writeMem(0x75a3, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x2fc5);
        EXPECT(gbc.pc(), 0x75a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03DF
        gbc.setState(0x10f0, 0x5258, 0xb290, 0xb052, 0x1599, 0x2326, 0x1, 0x0);
        gbc.writeMem(0x10f0, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x5258);
        EXPECT(gbc.pc(), 0x10f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03E0
        gbc.setState(0xdc4b, 0x4600, 0xbde0, 0xcc62, 0xabba, 0xc3a1, 0x0, 0x0);
        gbc.writeMem(0xdc4b, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x4600);
        EXPECT(gbc.pc(), 0xdc4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  true);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc4b), 0xcb);
        EXPECT(gbc.readMem(0xdc4c), 0x94);
        // CB 94 03E1
        gbc.setState(0x8f2a, 0xb8d6, 0x4b0, 0xd727, 0x6934, 0x98e3, 0x0, 0x1);
        gbc.writeMem(0x8f2a, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xb8d6);
        EXPECT(gbc.pc(), 0x8f2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f2a), 0xcb);
        EXPECT(gbc.readMem(0x8f2b), 0x94);
        // CB 94 03E2
        gbc.setState(0x522, 0xe591, 0x3110, 0x3e47, 0xcdd9, 0x9ef0, 0x0, 0x1);
        gbc.writeMem(0x522, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xe591);
        EXPECT(gbc.pc(), 0x524);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 94 03E3
        gbc.setState(0xd505, 0x7393, 0x29a0, 0x6748, 0xbd5b, 0x68c4, 0x1, 0x1);
        gbc.writeMem(0xd505, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x7393);
        EXPECT(gbc.pc(), 0xd507);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd505), 0xcb);
        EXPECT(gbc.readMem(0xd506), 0x94);
        // CB 94 03E4
        gbc.setState(0x30a4, 0xc9c5, 0x1720, 0xa7cc, 0x5415, 0x290c, 0x0, 0x1);
        gbc.writeMem(0x30a4, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xc9c5);
        EXPECT(gbc.pc(), 0x30a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // CB 94 03E5
        gbc.setState(0x89cd, 0x949a, 0x810, 0xc554, 0xf250, 0xa152, 0x0, 0x0);
        gbc.writeMem(0x89cd, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x949a);
        EXPECT(gbc.pc(), 0x89cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89cd), 0xcb);
        EXPECT(gbc.readMem(0x89ce), 0x94);
        // CB 94 03E6
        gbc.setState(0xb11e, 0x9dda, 0x5830, 0xdef, 0x3f63, 0x2b72, 0x0, 0x0);
        gbc.writeMem(0xb11e, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x9dda);
        EXPECT(gbc.pc(), 0xb120);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb11e), 0xcb);
        EXPECT(gbc.readMem(0xb11f), 0x94);
        // CB 94 03E7
        gbc.setState(0x7edc, 0x9c94, 0xdca0, 0xdce4, 0x7200, 0xcfa6, 0x0, 0x1);
        gbc.writeMem(0x7edc, { 0xcb, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x9c94);
        EXPECT(gbc.pc(), 0x7ede);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
    }
}
#endif
