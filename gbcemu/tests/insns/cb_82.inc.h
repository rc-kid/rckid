    TEST(gbcemu, opcode_cb_82) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 82 0000
        gbc.setState(0x41ee, 0x58bd, 0xe040, 0xf096, 0xfe0f, 0x1f31, 0x1, 0x1);
        gbc.writeMem(0x41ee, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x58bd, gbc.sp());
        EXPECT(0x41f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0001
        gbc.setState(0xab43, 0x2a59, 0xf260, 0xacd7, 0x3440, 0x4cba, 0x1, 0x0);
        gbc.writeMem(0xab43, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x2a59, gbc.sp());
        EXPECT(0xab45, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab43));
        EXPECT(0x82, gbc.readMem(0xab44));
        // CB 82 0002
        gbc.setState(0x2b8a, 0xe393, 0x4260, 0x7204, 0x9704, 0x442a, 0x1, 0x0);
        gbc.writeMem(0x2b8a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xe393, gbc.sp());
        EXPECT(0x2b8c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0003
        gbc.setState(0x7686, 0x90ff, 0x7e50, 0x904e, 0xb7fc, 0x4289, 0x0, 0x0);
        gbc.writeMem(0x7686, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x90ff, gbc.sp());
        EXPECT(0x7688, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0004
        gbc.setState(0x2e62, 0x9628, 0xfa20, 0x45b1, 0xbb83, 0xb82b, 0x1, 0x0);
        gbc.writeMem(0x2e62, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x9628, gbc.sp());
        EXPECT(0x2e64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0005
        gbc.setState(0x1ccc, 0x5d7b, 0x8b20, 0x12b1, 0x7252, 0x3d84, 0x0, 0x1);
        gbc.writeMem(0x1ccc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x5d7b, gbc.sp());
        EXPECT(0x1cce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0006
        gbc.setState(0xcf3e, 0xb7f6, 0xc240, 0xcf85, 0xe943, 0x7a08, 0x1, 0x0);
        gbc.writeMem(0xcf3e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xb7f6, gbc.sp());
        EXPECT(0xcf40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf3e));
        EXPECT(0x82, gbc.readMem(0xcf3f));
        // CB 82 0007
        gbc.setState(0x17c7, 0x38e8, 0xa2b0, 0x39b6, 0x9ce7, 0xe686, 0x0, 0x1);
        gbc.writeMem(0x17c7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x38e8, gbc.sp());
        EXPECT(0x17c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0008
        gbc.setState(0xcb56, 0xc4e9, 0xa8b0, 0x5064, 0x5c64, 0xb0b5, 0x1, 0x1);
        gbc.writeMem(0xcb56, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xc4e9, gbc.sp());
        EXPECT(0xcb58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcb56));
        EXPECT(0x82, gbc.readMem(0xcb57));
        // CB 82 0009
        gbc.setState(0x2d50, 0xaedb, 0x4960, 0x8bce, 0x3c80, 0x3be8, 0x1, 0x1);
        gbc.writeMem(0x2d50, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xaedb, gbc.sp());
        EXPECT(0x2d52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 000A
        gbc.setState(0xa362, 0xf691, 0x1a70, 0xabfd, 0xaf8b, 0x6c30, 0x1, 0x0);
        gbc.writeMem(0xa362, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xf691, gbc.sp());
        EXPECT(0xa364, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa362));
        EXPECT(0x82, gbc.readMem(0xa363));
        // CB 82 000B
        gbc.setState(0xd562, 0xc93b, 0x8da0, 0xbedb, 0xbe22, 0x6ff9, 0x0, 0x1);
        gbc.writeMem(0xd562, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0xc93b, gbc.sp());
        EXPECT(0xd564, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd562));
        EXPECT(0x82, gbc.readMem(0xd563));
        // CB 82 000C
        gbc.setState(0xd0be, 0x2400, 0x2da0, 0xa8aa, 0xa3bd, 0xac91, 0x1, 0x0);
        gbc.writeMem(0xd0be, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x2400, gbc.sp());
        EXPECT(0xd0c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd0be));
        EXPECT(0x82, gbc.readMem(0xd0bf));
        // CB 82 000D
        gbc.setState(0x21ef, 0x81a6, 0x8060, 0xfd8a, 0x5f18, 0x66, 0x0, 0x0);
        gbc.writeMem(0x21ef, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x81a6, gbc.sp());
        EXPECT(0x21f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 000E
        gbc.setState(0xd518, 0xef78, 0x2ae0, 0x9677, 0x4098, 0x3372, 0x0, 0x1);
        gbc.writeMem(0xd518, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xef78, gbc.sp());
        EXPECT(0xd51a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd518));
        EXPECT(0x82, gbc.readMem(0xd519));
        // CB 82 000F
        gbc.setState(0xcd4d, 0xb2ca, 0xeba0, 0xa4e1, 0xa27d, 0x1dc8, 0x0, 0x0);
        gbc.writeMem(0xcd4d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xb2ca, gbc.sp());
        EXPECT(0xcd4f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd4d));
        EXPECT(0x82, gbc.readMem(0xcd4e));
        // CB 82 0010
        gbc.setState(0x7cc2, 0x6c7a, 0xb050, 0xde74, 0x75fe, 0x95ec, 0x1, 0x1);
        gbc.writeMem(0x7cc2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x6c7a, gbc.sp());
        EXPECT(0x7cc4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0011
        gbc.setState(0xb25d, 0x58db, 0xf420, 0x55ef, 0xd13b, 0x2ec, 0x0, 0x0);
        gbc.writeMem(0xb25d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x58db, gbc.sp());
        EXPECT(0xb25f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb25d));
        EXPECT(0x82, gbc.readMem(0xb25e));
        // CB 82 0012
        gbc.setState(0x3f3a, 0x6ecc, 0xc790, 0x60fd, 0xdd4f, 0x826c, 0x1, 0x0);
        gbc.writeMem(0x3f3a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x6ecc, gbc.sp());
        EXPECT(0x3f3c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0013
        gbc.setState(0x88b3, 0xaee1, 0x15d0, 0x8e90, 0x938b, 0x4cfc, 0x1, 0x1);
        gbc.writeMem(0x88b3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xaee1, gbc.sp());
        EXPECT(0x88b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x88b3));
        EXPECT(0x82, gbc.readMem(0x88b4));
        // CB 82 0014
        gbc.setState(0x495f, 0x8b3e, 0xab50, 0xc8fb, 0xfb8, 0x5d82, 0x0, 0x1);
        gbc.writeMem(0x495f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x8b3e, gbc.sp());
        EXPECT(0x4961, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0015
        gbc.setState(0xc3bd, 0xa54e, 0xc630, 0x1a39, 0x9590, 0x4c91, 0x0, 0x1);
        gbc.writeMem(0xc3bd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0xa54e, gbc.sp());
        EXPECT(0xc3bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3bd));
        EXPECT(0x82, gbc.readMem(0xc3be));
        // CB 82 0016
        gbc.setState(0x5c18, 0x17c3, 0xa6c0, 0xb985, 0x9405, 0x47ce, 0x1, 0x0);
        gbc.writeMem(0x5c18, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x17c3, gbc.sp());
        EXPECT(0x5c1a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0017
        gbc.setState(0x7d41, 0x9f11, 0x20b0, 0x8bff, 0x675, 0xf0cf, 0x0, 0x1);
        gbc.writeMem(0x7d41, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x9f11, gbc.sp());
        EXPECT(0x7d43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0018
        gbc.setState(0x2b99, 0x7cfa, 0x92e0, 0x291b, 0x70a6, 0xdb59, 0x1, 0x1);
        gbc.writeMem(0x2b99, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x7cfa, gbc.sp());
        EXPECT(0x2b9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0019
        gbc.setState(0x8071, 0x227c, 0x7d00, 0x7430, 0x60ae, 0xa9b3, 0x0, 0x0);
        gbc.writeMem(0x8071, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x227c, gbc.sp());
        EXPECT(0x8073, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8071));
        EXPECT(0x82, gbc.readMem(0x8072));
        // CB 82 001A
        gbc.setState(0xba71, 0x992c, 0xf6d0, 0x3ba6, 0x1e77, 0x96ab, 0x1, 0x0);
        gbc.writeMem(0xba71, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x992c, gbc.sp());
        EXPECT(0xba73, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba71));
        EXPECT(0x82, gbc.readMem(0xba72));
        // CB 82 001B
        gbc.setState(0xe692, 0x215d, 0xf420, 0xc15d, 0x311b, 0x33a4, 0x0, 0x0);
        gbc.writeMem(0xe692, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x215d, gbc.sp());
        EXPECT(0xe694, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe692));
        EXPECT(0x82, gbc.readMem(0xe693));
        // CB 82 001C
        gbc.setState(0x63e2, 0xad51, 0x23c0, 0x864, 0xeb2f, 0x688, 0x0, 0x1);
        gbc.writeMem(0x63e2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xad51, gbc.sp());
        EXPECT(0x63e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 001D
        gbc.setState(0x3c43, 0x95dc, 0x3900, 0x2668, 0x4d6f, 0x9b25, 0x0, 0x0);
        gbc.writeMem(0x3c43, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x95dc, gbc.sp());
        EXPECT(0x3c45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 001E
        gbc.setState(0x4fbf, 0x13bf, 0xee20, 0x4b4c, 0xe2e7, 0x29db, 0x0, 0x1);
        gbc.writeMem(0x4fbf, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x13bf, gbc.sp());
        EXPECT(0x4fc1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 001F
        gbc.setState(0xe1aa, 0x9d03, 0x9ff0, 0x380f, 0xd9, 0x8793, 0x1, 0x1);
        gbc.writeMem(0xe1aa, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x9d03, gbc.sp());
        EXPECT(0xe1ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1aa));
        EXPECT(0x82, gbc.readMem(0xe1ab));
        // CB 82 0020
        gbc.setState(0xef60, 0x762f, 0x6220, 0x7b29, 0xce3, 0xdcfb, 0x0, 0x1);
        gbc.writeMem(0xef60, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x762f, gbc.sp());
        EXPECT(0xef62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef60));
        EXPECT(0x82, gbc.readMem(0xef61));
        // CB 82 0021
        gbc.setState(0xebc1, 0x58c8, 0xde10, 0xfc08, 0x84cc, 0x9000, 0x0, 0x1);
        gbc.writeMem(0xebc1, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x58c8, gbc.sp());
        EXPECT(0xebc3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xebc1));
        EXPECT(0x82, gbc.readMem(0xebc2));
        // CB 82 0022
        gbc.setState(0x5699, 0xca00, 0xa90, 0x6314, 0xce33, 0x1579, 0x1, 0x1);
        gbc.writeMem(0x5699, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xca00, gbc.sp());
        EXPECT(0x569b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0023
        gbc.setState(0x1db4, 0x9a12, 0xedd0, 0xa217, 0xb62c, 0x885f, 0x1, 0x1);
        gbc.writeMem(0x1db4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x9a12, gbc.sp());
        EXPECT(0x1db6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0024
        gbc.setState(0xe21f, 0xaf18, 0xca20, 0x9888, 0x752e, 0x4715, 0x1, 0x1);
        gbc.writeMem(0xe21f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xaf18, gbc.sp());
        EXPECT(0xe221, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe21f));
        EXPECT(0x82, gbc.readMem(0xe220));
        // CB 82 0025
        gbc.setState(0x379f, 0x4f4f, 0xb9a0, 0x1324, 0x466f, 0xd1f6, 0x1, 0x1);
        gbc.writeMem(0x379f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x4f4f, gbc.sp());
        EXPECT(0x37a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0026
        gbc.setState(0xa06e, 0x54f1, 0xbbd0, 0xad13, 0x1f0f, 0x5349, 0x1, 0x1);
        gbc.writeMem(0xa06e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x54f1, gbc.sp());
        EXPECT(0xa070, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa06e));
        EXPECT(0x82, gbc.readMem(0xa06f));
        // CB 82 0028
        gbc.setState(0x50c, 0xb881, 0x76d0, 0xf9ea, 0xd7b7, 0x8177, 0x1, 0x1);
        gbc.writeMem(0x50c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xb881, gbc.sp());
        EXPECT(0x50e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0029
        gbc.setState(0x142a, 0xa2a7, 0x7180, 0x1353, 0xec4a, 0x5802, 0x0, 0x0);
        gbc.writeMem(0x142a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xa2a7, gbc.sp());
        EXPECT(0x142c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 002A
        gbc.setState(0xaa2b, 0xbd24, 0x18c0, 0x5efb, 0x85b1, 0x258a, 0x1, 0x1);
        gbc.writeMem(0xaa2b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xbd24, gbc.sp());
        EXPECT(0xaa2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa2b));
        EXPECT(0x82, gbc.readMem(0xaa2c));
        // CB 82 002B
        gbc.setState(0x117d, 0xd8e7, 0x9c10, 0xe48, 0xc858, 0x4453, 0x1, 0x1);
        gbc.writeMem(0x117d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xd8e7, gbc.sp());
        EXPECT(0x117f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 002D
        gbc.setState(0x9311, 0x2b40, 0xfbc0, 0xb5e2, 0x219f, 0xf50b, 0x0, 0x1);
        gbc.writeMem(0x9311, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x2b40, gbc.sp());
        EXPECT(0x9313, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9311));
        EXPECT(0x82, gbc.readMem(0x9312));
        // CB 82 002E
        gbc.setState(0xc0f3, 0xf5c3, 0x1b10, 0x5e8c, 0xf630, 0xfd97, 0x0, 0x0);
        gbc.writeMem(0xc0f3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xf5c3, gbc.sp());
        EXPECT(0xc0f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0f3));
        EXPECT(0x82, gbc.readMem(0xc0f4));
        // CB 82 002F
        gbc.setState(0xb9c1, 0xf034, 0x84c0, 0xa2af, 0x88cd, 0x2d5e, 0x1, 0x0);
        gbc.writeMem(0xb9c1, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xf034, gbc.sp());
        EXPECT(0xb9c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb9c1));
        EXPECT(0x82, gbc.readMem(0xb9c2));
        // CB 82 0030
        gbc.setState(0xb561, 0xe87c, 0x10e0, 0x58cd, 0x7afc, 0x153, 0x1, 0x0);
        gbc.writeMem(0xb561, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xe87c, gbc.sp());
        EXPECT(0xb563, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb561));
        EXPECT(0x82, gbc.readMem(0xb562));
        // CB 82 0032
        gbc.setState(0x4e97, 0x7817, 0x4c70, 0x1a61, 0xdcaa, 0xf950, 0x1, 0x1);
        gbc.writeMem(0x4e97, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x7817, gbc.sp());
        EXPECT(0x4e99, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0033
        gbc.setState(0x850f, 0x2d07, 0x5350, 0x444a, 0x4280, 0x49e3, 0x0, 0x0);
        gbc.writeMem(0x850f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x2d07, gbc.sp());
        EXPECT(0x8511, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x850f));
        EXPECT(0x82, gbc.readMem(0x8510));
        // CB 82 0034
        gbc.setState(0x94e, 0xecd1, 0xb660, 0x5ee7, 0xd537, 0xab5e, 0x1, 0x0);
        gbc.writeMem(0x94e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xecd1, gbc.sp());
        EXPECT(0x950, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0035
        gbc.setState(0x7209, 0xc7d9, 0xf440, 0x2935, 0xb7c1, 0xfb43, 0x1, 0x0);
        gbc.writeMem(0x7209, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xc7d9, gbc.sp());
        EXPECT(0x720b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0036
        gbc.setState(0x1648, 0x7ae8, 0xbd80, 0x22e4, 0x1161, 0x2dfb, 0x0, 0x1);
        gbc.writeMem(0x1648, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x7ae8, gbc.sp());
        EXPECT(0x164a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0037
        gbc.setState(0x2b56, 0xf018, 0xc6b0, 0xee81, 0xa5e, 0x8e26, 0x1, 0x1);
        gbc.writeMem(0x2b56, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xf018, gbc.sp());
        EXPECT(0x2b58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0038
        gbc.setState(0xc638, 0xa3da, 0x15b0, 0x60f3, 0xd65c, 0xbedc, 0x1, 0x0);
        gbc.writeMem(0xc638, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xa3da, gbc.sp());
        EXPECT(0xc63a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc638));
        EXPECT(0x82, gbc.readMem(0xc639));
        // CB 82 0039
        gbc.setState(0x107e, 0xe50a, 0x16e0, 0xa3e9, 0xbfb9, 0xda25, 0x1, 0x0);
        gbc.writeMem(0x107e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xe50a, gbc.sp());
        EXPECT(0x1080, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 003A
        gbc.setState(0x7d90, 0x7d8f, 0x27e0, 0xa48e, 0xb7cb, 0xff2, 0x0, 0x0);
        gbc.writeMem(0x7d90, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x7d8f, gbc.sp());
        EXPECT(0x7d92, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 003B
        gbc.setState(0x6b7f, 0xe9a9, 0x3c50, 0x7870, 0xc11a, 0x7116, 0x1, 0x0);
        gbc.writeMem(0x6b7f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xe9a9, gbc.sp());
        EXPECT(0x6b81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 003C
        gbc.setState(0x6de7, 0x7977, 0x28b0, 0x952a, 0x4184, 0x6467, 0x0, 0x0);
        gbc.writeMem(0x6de7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x7977, gbc.sp());
        EXPECT(0x6de9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 003D
        gbc.setState(0x4e60, 0xb01c, 0x2830, 0x441b, 0xa14a, 0x200e, 0x0, 0x0);
        gbc.writeMem(0x4e60, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xb01c, gbc.sp());
        EXPECT(0x4e62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 003E
        gbc.setState(0x7695, 0x2124, 0xb270, 0x7425, 0x4774, 0x64f7, 0x1, 0x0);
        gbc.writeMem(0x7695, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x2124, gbc.sp());
        EXPECT(0x7697, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 003F
        gbc.setState(0x7c91, 0xb64f, 0xc390, 0xc4ef, 0x6492, 0x3198, 0x0, 0x0);
        gbc.writeMem(0x7c91, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xb64f, gbc.sp());
        EXPECT(0x7c93, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0040
        gbc.setState(0xef61, 0x80d1, 0x95e0, 0x6584, 0x4763, 0x83f, 0x0, 0x1);
        gbc.writeMem(0xef61, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x80d1, gbc.sp());
        EXPECT(0xef63, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef61));
        EXPECT(0x82, gbc.readMem(0xef62));
        // CB 82 0041
        gbc.setState(0x984a, 0xc91a, 0x70c0, 0x71e3, 0x13ac, 0x9f70, 0x1, 0x1);
        gbc.writeMem(0x984a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xc91a, gbc.sp());
        EXPECT(0x984c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x984a));
        EXPECT(0x82, gbc.readMem(0x984b));
        // CB 82 0042
        gbc.setState(0x1a84, 0x2308, 0xea40, 0x5434, 0xff82, 0x5920, 0x0, 0x1);
        gbc.writeMem(0x1a84, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x2308, gbc.sp());
        EXPECT(0x1a86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0043
        gbc.setState(0x1002, 0x2880, 0xf030, 0xc86d, 0x2172, 0x56b0, 0x1, 0x0);
        gbc.writeMem(0x1002, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x2880, gbc.sp());
        EXPECT(0x1004, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0044
        gbc.setState(0xc958, 0xbbd5, 0xdf80, 0x903b, 0xe6dc, 0x3631, 0x0, 0x0);
        gbc.writeMem(0xc958, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xbbd5, gbc.sp());
        EXPECT(0xc95a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc958));
        EXPECT(0x82, gbc.readMem(0xc959));
        // CB 82 0045
        gbc.setState(0x7f3f, 0x2e7c, 0x1230, 0x220d, 0xe68f, 0xdc1d, 0x1, 0x0);
        gbc.writeMem(0x7f3f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x2e7c, gbc.sp());
        EXPECT(0x7f41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0046
        gbc.setState(0x4b23, 0x92e4, 0x32b0, 0xabb5, 0x5ee9, 0xc199, 0x1, 0x0);
        gbc.writeMem(0x4b23, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x92e4, gbc.sp());
        EXPECT(0x4b25, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0049
        gbc.setState(0x2d05, 0x9f70, 0x8500, 0x4a28, 0xccd7, 0x7c7c, 0x0, 0x1);
        gbc.writeMem(0x2d05, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x9f70, gbc.sp());
        EXPECT(0x2d07, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 004A
        gbc.setState(0x1d70, 0x3869, 0x6090, 0xe4e, 0x681, 0xad66, 0x1, 0x1);
        gbc.writeMem(0x1d70, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x3869, gbc.sp());
        EXPECT(0x1d72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 004B
        gbc.setState(0x5fd2, 0xe125, 0xe4c0, 0x71ff, 0xe5e, 0x572f, 0x1, 0x1);
        gbc.writeMem(0x5fd2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xe125, gbc.sp());
        EXPECT(0x5fd4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 004C
        gbc.setState(0xbf2f, 0x6d85, 0xb840, 0x9ae9, 0x8055, 0x8090, 0x1, 0x1);
        gbc.writeMem(0xbf2f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x6d85, gbc.sp());
        EXPECT(0xbf31, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf2f));
        EXPECT(0x82, gbc.readMem(0xbf30));
        // CB 82 004D
        gbc.setState(0x3335, 0x4ade, 0x8ab0, 0xf255, 0xd0c5, 0x1dc, 0x1, 0x0);
        gbc.writeMem(0x3335, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x4ade, gbc.sp());
        EXPECT(0x3337, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 004E
        gbc.setState(0xc8c0, 0xb945, 0xc060, 0xc355, 0x4de5, 0xbcc1, 0x0, 0x0);
        gbc.writeMem(0xc8c0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xb945, gbc.sp());
        EXPECT(0xc8c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8c0));
        EXPECT(0x82, gbc.readMem(0xc8c1));
        // CB 82 0050
        gbc.setState(0xbddc, 0xa7b2, 0x7fd0, 0xcf67, 0xf5e6, 0x293f, 0x1, 0x1);
        gbc.writeMem(0xbddc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xa7b2, gbc.sp());
        EXPECT(0xbdde, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbddc));
        EXPECT(0x82, gbc.readMem(0xbddd));
        // CB 82 0051
        gbc.setState(0x2058, 0x1685, 0x2b50, 0xf7b4, 0x7f09, 0xcbad, 0x0, 0x1);
        gbc.writeMem(0x2058, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x1685, gbc.sp());
        EXPECT(0x205a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0052
        gbc.setState(0xef1c, 0xddd4, 0x4ff0, 0xd322, 0x6c22, 0x82c4, 0x0, 0x1);
        gbc.writeMem(0xef1c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xddd4, gbc.sp());
        EXPECT(0xef1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef1c));
        EXPECT(0x82, gbc.readMem(0xef1d));
        // CB 82 0053
        gbc.setState(0x9126, 0x5314, 0xd400, 0xc7ae, 0x6f27, 0x53ff, 0x0, 0x0);
        gbc.writeMem(0x9126, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x5314, gbc.sp());
        EXPECT(0x9128, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9126));
        EXPECT(0x82, gbc.readMem(0x9127));
        // CB 82 0054
        gbc.setState(0x67b4, 0x2038, 0x91b0, 0x8025, 0x3f34, 0x52d3, 0x0, 0x1);
        gbc.writeMem(0x67b4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x2038, gbc.sp());
        EXPECT(0x67b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0055
        gbc.setState(0xc252, 0xfa04, 0x3130, 0x1dea, 0x38b0, 0xd18b, 0x1, 0x0);
        gbc.writeMem(0xc252, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xfa04, gbc.sp());
        EXPECT(0xc254, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc252));
        EXPECT(0x82, gbc.readMem(0xc253));
        // CB 82 0056
        gbc.setState(0x9008, 0xaf0a, 0x25a0, 0x961d, 0xce8d, 0x86d3, 0x1, 0x1);
        gbc.writeMem(0x9008, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xaf0a, gbc.sp());
        EXPECT(0x900a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9008));
        EXPECT(0x82, gbc.readMem(0x9009));
        // CB 82 0057
        gbc.setState(0x7439, 0xd5f, 0xa710, 0x3b31, 0xdda9, 0x6f7a, 0x0, 0x1);
        gbc.writeMem(0x7439, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xd5f, gbc.sp());
        EXPECT(0x743b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0058
        gbc.setState(0x531d, 0xf99f, 0xa120, 0x2990, 0xb21c, 0x1eb9, 0x1, 0x1);
        gbc.writeMem(0x531d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xf99f, gbc.sp());
        EXPECT(0x531f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0059
        gbc.setState(0xa74e, 0x9edc, 0x2e90, 0x8123, 0x5373, 0xeb7b, 0x0, 0x0);
        gbc.writeMem(0xa74e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x9edc, gbc.sp());
        EXPECT(0xa750, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa74e));
        EXPECT(0x82, gbc.readMem(0xa74f));
        // CB 82 005B
        gbc.setState(0xc0c3, 0xe102, 0x9680, 0x8617, 0x18d6, 0x43a6, 0x1, 0x0);
        gbc.writeMem(0xc0c3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xe102, gbc.sp());
        EXPECT(0xc0c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0c3));
        EXPECT(0x82, gbc.readMem(0xc0c4));
        // CB 82 005C
        gbc.setState(0x312d, 0x79a2, 0x9c30, 0x3cf1, 0xa597, 0x9526, 0x1, 0x0);
        gbc.writeMem(0x312d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x79a2, gbc.sp());
        EXPECT(0x312f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 005D
        gbc.setState(0x44bc, 0x4542, 0xca40, 0x86a3, 0xa8c, 0x1d6a, 0x1, 0x1);
        gbc.writeMem(0x44bc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x4542, gbc.sp());
        EXPECT(0x44be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 005F
        gbc.setState(0x93fe, 0x247f, 0xbee0, 0xb6d9, 0xde4, 0xff61, 0x1, 0x1);
        gbc.writeMem(0x93fe, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x247f, gbc.sp());
        EXPECT(0x9400, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93fe));
        EXPECT(0x82, gbc.readMem(0x93ff));
        // CB 82 0060
        gbc.setState(0xa1c6, 0x6ca5, 0x4bc0, 0x18c3, 0xabfb, 0x297a, 0x0, 0x0);
        gbc.writeMem(0xa1c6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x6ca5, gbc.sp());
        EXPECT(0xa1c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1c6));
        EXPECT(0x82, gbc.readMem(0xa1c7));
        // CB 82 0061
        gbc.setState(0xa17, 0x96f1, 0x2c50, 0xfe02, 0xd2f9, 0xbf31, 0x1, 0x1);
        gbc.writeMem(0xa17, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x96f1, gbc.sp());
        EXPECT(0xa19, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0062
        gbc.setState(0x1dd3, 0xb0e5, 0xe1f0, 0x2343, 0x512c, 0x514c, 0x0, 0x1);
        gbc.writeMem(0x1dd3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xb0e5, gbc.sp());
        EXPECT(0x1dd5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0063
        gbc.setState(0x2e86, 0xf436, 0xe9b0, 0x88ff, 0xdd1c, 0x62f7, 0x0, 0x1);
        gbc.writeMem(0x2e86, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xf436, gbc.sp());
        EXPECT(0x2e88, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0064
        gbc.setState(0xb28c, 0x37d5, 0xfc90, 0x53d6, 0xc049, 0xf7ab, 0x0, 0x0);
        gbc.writeMem(0xb28c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x37d5, gbc.sp());
        EXPECT(0xb28e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb28c));
        EXPECT(0x82, gbc.readMem(0xb28d));
        // CB 82 0065
        gbc.setState(0xba7, 0xdae3, 0xa60, 0x78e, 0xc127, 0x7b69, 0x1, 0x1);
        gbc.writeMem(0xba7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xdae3, gbc.sp());
        EXPECT(0xba9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0066
        gbc.setState(0xb129, 0xb257, 0x42a0, 0x52b6, 0xda55, 0xc494, 0x1, 0x0);
        gbc.writeMem(0xb129, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xb257, gbc.sp());
        EXPECT(0xb12b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb129));
        EXPECT(0x82, gbc.readMem(0xb12a));
        // CB 82 0067
        gbc.setState(0x24d2, 0x661e, 0x10, 0x460b, 0x617d, 0x1945, 0x0, 0x1);
        gbc.writeMem(0x24d2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x661e, gbc.sp());
        EXPECT(0x24d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0068
        gbc.setState(0xe336, 0x377a, 0x38a0, 0x70d2, 0xa545, 0x6b05, 0x1, 0x1);
        gbc.writeMem(0xe336, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x377a, gbc.sp());
        EXPECT(0xe338, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe336));
        EXPECT(0x82, gbc.readMem(0xe337));
        // CB 82 0069
        gbc.setState(0xe8b6, 0x5d20, 0x5800, 0x1b58, 0x96fb, 0x56e0, 0x1, 0x1);
        gbc.writeMem(0xe8b6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x5d20, gbc.sp());
        EXPECT(0xe8b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe8b6));
        EXPECT(0x82, gbc.readMem(0xe8b7));
        // CB 82 006B
        gbc.setState(0x9f64, 0x2869, 0xe9f0, 0x4095, 0xe001, 0x1c78, 0x1, 0x0);
        gbc.writeMem(0x9f64, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x2869, gbc.sp());
        EXPECT(0x9f66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f64));
        EXPECT(0x82, gbc.readMem(0x9f65));
        // CB 82 006C
        gbc.setState(0xc213, 0x2667, 0xfad0, 0x4784, 0xd45, 0xcdb2, 0x0, 0x1);
        gbc.writeMem(0xc213, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x2667, gbc.sp());
        EXPECT(0xc215, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc213));
        EXPECT(0x82, gbc.readMem(0xc214));
        // CB 82 006D
        gbc.setState(0x6a5c, 0xfa4c, 0xac10, 0x70cc, 0xa5b8, 0xb659, 0x0, 0x1);
        gbc.writeMem(0x6a5c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xfa4c, gbc.sp());
        EXPECT(0x6a5e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 006E
        gbc.setState(0xb9c2, 0x92cb, 0x2ee0, 0x7981, 0x45b5, 0xf6c5, 0x1, 0x0);
        gbc.writeMem(0xb9c2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x92cb, gbc.sp());
        EXPECT(0xb9c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb9c2));
        EXPECT(0x82, gbc.readMem(0xb9c3));
        // CB 82 006F
        gbc.setState(0xa4bb, 0x649b, 0xa2d0, 0xf880, 0xef31, 0x5273, 0x1, 0x0);
        gbc.writeMem(0xa4bb, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x649b, gbc.sp());
        EXPECT(0xa4bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4bb));
        EXPECT(0x82, gbc.readMem(0xa4bc));
        // CB 82 0070
        gbc.setState(0x46ea, 0x4f14, 0x8510, 0x58b7, 0x7d17, 0xf30d, 0x1, 0x0);
        gbc.writeMem(0x46ea, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x4f14, gbc.sp());
        EXPECT(0x46ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0071
        gbc.setState(0x15da, 0xcc20, 0x5900, 0xc00e, 0x1787, 0x71c4, 0x1, 0x1);
        gbc.writeMem(0x15da, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xcc20, gbc.sp());
        EXPECT(0x15dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0072
        gbc.setState(0x2313, 0x88c0, 0x6f70, 0x4277, 0x51df, 0x8b0, 0x1, 0x1);
        gbc.writeMem(0x2313, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x88c0, gbc.sp());
        EXPECT(0x2315, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0073
        gbc.setState(0x28b1, 0x1191, 0xa800, 0xad79, 0xab2d, 0x1a0b, 0x0, 0x0);
        gbc.writeMem(0x28b1, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x1191, gbc.sp());
        EXPECT(0x28b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0074
        gbc.setState(0x27d2, 0xf0d3, 0xa3e0, 0x790d, 0x59c1, 0xb886, 0x1, 0x0);
        gbc.writeMem(0x27d2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xf0d3, gbc.sp());
        EXPECT(0x27d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0075
        gbc.setState(0x1e12, 0x6078, 0xbcf0, 0x5ed2, 0x6499, 0xd258, 0x1, 0x0);
        gbc.writeMem(0x1e12, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x6078, gbc.sp());
        EXPECT(0x1e14, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0076
        gbc.setState(0xd48e, 0x4243, 0x8190, 0x1626, 0x2f00, 0x5c05, 0x0, 0x1);
        gbc.writeMem(0xd48e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x4243, gbc.sp());
        EXPECT(0xd490, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd48e));
        EXPECT(0x82, gbc.readMem(0xd48f));
        // CB 82 0077
        gbc.setState(0xd6ef, 0x6152, 0xad40, 0x8760, 0x20ff, 0x1582, 0x0, 0x0);
        gbc.writeMem(0xd6ef, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x6152, gbc.sp());
        EXPECT(0xd6f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6ef));
        EXPECT(0x82, gbc.readMem(0xd6f0));
        // CB 82 0078
        gbc.setState(0x9432, 0x7be3, 0x1200, 0xf5be, 0x991b, 0x9df3, 0x0, 0x0);
        gbc.writeMem(0x9432, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x7be3, gbc.sp());
        EXPECT(0x9434, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9432));
        EXPECT(0x82, gbc.readMem(0x9433));
        // CB 82 0079
        gbc.setState(0x4469, 0xb182, 0x1410, 0xced9, 0xacd5, 0x186f, 0x0, 0x1);
        gbc.writeMem(0x4469, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xb182, gbc.sp());
        EXPECT(0x446b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 007A
        gbc.setState(0x7e40, 0x11c4, 0xc5a0, 0xde6b, 0xa62b, 0x8a41, 0x0, 0x0);
        gbc.writeMem(0x7e40, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x11c4, gbc.sp());
        EXPECT(0x7e42, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 007B
        gbc.setState(0x5b90, 0xc664, 0x580, 0x8975, 0xa42b, 0x5655, 0x0, 0x0);
        gbc.writeMem(0x5b90, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xc664, gbc.sp());
        EXPECT(0x5b92, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 007C
        gbc.setState(0xc631, 0x9dcf, 0x6830, 0xb864, 0x5d38, 0xec7c, 0x0, 0x1);
        gbc.writeMem(0xc631, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x9dcf, gbc.sp());
        EXPECT(0xc633, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc631));
        EXPECT(0x82, gbc.readMem(0xc632));
        // CB 82 007D
        gbc.setState(0xc2c7, 0x32ca, 0x8f30, 0xb3b8, 0xc2e3, 0xdaf3, 0x1, 0x0);
        gbc.writeMem(0xc2c7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x32ca, gbc.sp());
        EXPECT(0xc2c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc2c7));
        EXPECT(0x82, gbc.readMem(0xc2c8));
        // CB 82 007E
        gbc.setState(0x5a9c, 0xd5c4, 0x20c0, 0x1fcc, 0x18ae, 0x3d05, 0x0, 0x0);
        gbc.writeMem(0x5a9c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xd5c4, gbc.sp());
        EXPECT(0x5a9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 007F
        gbc.setState(0xe896, 0xe7ec, 0xab80, 0x565a, 0x952b, 0xfea8, 0x0, 0x0);
        gbc.writeMem(0xe896, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xe7ec, gbc.sp());
        EXPECT(0xe898, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe896));
        EXPECT(0x82, gbc.readMem(0xe897));
        // CB 82 0080
        gbc.setState(0x377, 0x9fec, 0x40c0, 0x1cb8, 0xecb0, 0xe650, 0x0, 0x0);
        gbc.writeMem(0x377, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x9fec, gbc.sp());
        EXPECT(0x379, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0081
        gbc.setState(0xc6, 0xa0c0, 0xf9a0, 0x7f24, 0xc3ed, 0x4eb9, 0x0, 0x1);
        gbc.writeMem(0xc6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xa0c0, gbc.sp());
        EXPECT(0xc8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0082
        gbc.setState(0xc684, 0x597d, 0xc190, 0xda7e, 0x49c6, 0x3544, 0x1, 0x0);
        gbc.writeMem(0xc684, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x597d, gbc.sp());
        EXPECT(0xc686, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc684));
        EXPECT(0x82, gbc.readMem(0xc685));
        // CB 82 0083
        gbc.setState(0x3c70, 0x33d3, 0xc1c0, 0x98b4, 0xdc69, 0xf6e6, 0x0, 0x1);
        gbc.writeMem(0x3c70, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x33d3, gbc.sp());
        EXPECT(0x3c72, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0084
        gbc.setState(0x75f0, 0x1f2b, 0xb440, 0x4e65, 0x83aa, 0xc461, 0x1, 0x0);
        gbc.writeMem(0x75f0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x1f2b, gbc.sp());
        EXPECT(0x75f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0085
        gbc.setState(0x5f83, 0xfde4, 0xab70, 0x9e40, 0xa08, 0xf117, 0x0, 0x0);
        gbc.writeMem(0x5f83, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xfde4, gbc.sp());
        EXPECT(0x5f85, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0086
        gbc.setState(0xa8a5, 0x1243, 0xa1d0, 0x887d, 0xc1ac, 0xa01f, 0x1, 0x0);
        gbc.writeMem(0xa8a5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x1243, gbc.sp());
        EXPECT(0xa8a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8a5));
        EXPECT(0x82, gbc.readMem(0xa8a6));
        // CB 82 0087
        gbc.setState(0x2c16, 0xb13e, 0x9270, 0x74a1, 0xf0e9, 0x6f35, 0x1, 0x1);
        gbc.writeMem(0x2c16, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xb13e, gbc.sp());
        EXPECT(0x2c18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0088
        gbc.setState(0x1dd8, 0x4a21, 0xc910, 0xbf12, 0xbd7, 0x1ac7, 0x1, 0x0);
        gbc.writeMem(0x1dd8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x4a21, gbc.sp());
        EXPECT(0x1dda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0089
        gbc.setState(0x44a0, 0xcdff, 0x3bd0, 0x7952, 0x6c11, 0x82a3, 0x0, 0x1);
        gbc.writeMem(0x44a0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xcdff, gbc.sp());
        EXPECT(0x44a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 008A
        gbc.setState(0xc939, 0x5f57, 0xbe40, 0x21a6, 0x1fb8, 0xd4e0, 0x0, 0x0);
        gbc.writeMem(0xc939, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x5f57, gbc.sp());
        EXPECT(0xc93b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc939));
        EXPECT(0x82, gbc.readMem(0xc93a));
        // CB 82 008B
        gbc.setState(0x87e8, 0xa6e, 0x2420, 0x3e3a, 0x1b71, 0x3e3b, 0x0, 0x0);
        gbc.writeMem(0x87e8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xa6e, gbc.sp());
        EXPECT(0x87ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87e8));
        EXPECT(0x82, gbc.readMem(0x87e9));
        // CB 82 008C
        gbc.setState(0x17f5, 0x9935, 0x69c0, 0xfe58, 0xc1a0, 0x6f48, 0x1, 0x1);
        gbc.writeMem(0x17f5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x9935, gbc.sp());
        EXPECT(0x17f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 008D
        gbc.setState(0xbda6, 0x134b, 0x24d0, 0x7147, 0x9324, 0xcab5, 0x0, 0x1);
        gbc.writeMem(0xbda6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x134b, gbc.sp());
        EXPECT(0xbda8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbda6));
        EXPECT(0x82, gbc.readMem(0xbda7));
        // CB 82 008E
        gbc.setState(0x6dc5, 0xc1a, 0xeda0, 0xc89b, 0xf584, 0xcf5e, 0x0, 0x1);
        gbc.writeMem(0x6dc5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xc1a, gbc.sp());
        EXPECT(0x6dc7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 008F
        gbc.setState(0xebd, 0xd0f, 0xc480, 0xbcb, 0xd07a, 0x811, 0x1, 0x0);
        gbc.writeMem(0xebd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xd0f, gbc.sp());
        EXPECT(0xebf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0090
        gbc.setState(0xadea, 0x7b13, 0xc350, 0x5a55, 0xcebf, 0xe735, 0x0, 0x1);
        gbc.writeMem(0xadea, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x7b13, gbc.sp());
        EXPECT(0xadec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xadea));
        EXPECT(0x82, gbc.readMem(0xadeb));
        // CB 82 0091
        gbc.setState(0xa365, 0x36f7, 0x9ca0, 0x9a91, 0x143, 0xf6a6, 0x0, 0x1);
        gbc.writeMem(0xa365, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x36f7, gbc.sp());
        EXPECT(0xa367, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa365));
        EXPECT(0x82, gbc.readMem(0xa366));
        // CB 82 0092
        gbc.setState(0xec9d, 0xaadb, 0xf7a0, 0x6b68, 0xcdb6, 0xe127, 0x0, 0x0);
        gbc.writeMem(0xec9d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xaadb, gbc.sp());
        EXPECT(0xec9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec9d));
        EXPECT(0x82, gbc.readMem(0xec9e));
        // CB 82 0094
        gbc.setState(0x8808, 0xed10, 0xe020, 0xf39, 0x878f, 0xafdc, 0x1, 0x1);
        gbc.writeMem(0x8808, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xed10, gbc.sp());
        EXPECT(0x880a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8808));
        EXPECT(0x82, gbc.readMem(0x8809));
        // CB 82 0095
        gbc.setState(0x6f4a, 0x714d, 0x2ab0, 0x64e7, 0xbd2c, 0xb3b4, 0x0, 0x1);
        gbc.writeMem(0x6f4a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x714d, gbc.sp());
        EXPECT(0x6f4c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0097
        gbc.setState(0x5a71, 0x465f, 0xb1d0, 0x7470, 0x7e7e, 0x6a6c, 0x1, 0x1);
        gbc.writeMem(0x5a71, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x465f, gbc.sp());
        EXPECT(0x5a73, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0098
        gbc.setState(0xc7ff, 0x6ac5, 0xaed0, 0x2004, 0x2829, 0x82cd, 0x1, 0x1);
        gbc.writeMem(0xc7ff, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x6ac5, gbc.sp());
        EXPECT(0xc801, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc7ff));
        EXPECT(0x82, gbc.readMem(0xc800));
        // CB 82 0099
        gbc.setState(0x4f02, 0xb858, 0xc370, 0xbffe, 0x2592, 0xb1cf, 0x1, 0x0);
        gbc.writeMem(0x4f02, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xb858, gbc.sp());
        EXPECT(0x4f04, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 009A
        gbc.setState(0x4899, 0xb80a, 0x4a40, 0x59e4, 0xc8e2, 0x3b84, 0x0, 0x0);
        gbc.writeMem(0x4899, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xb80a, gbc.sp());
        EXPECT(0x489b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 009B
        gbc.setState(0xa7e6, 0x9484, 0x27d0, 0xf7ff, 0x9f90, 0x36a4, 0x0, 0x0);
        gbc.writeMem(0xa7e6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x9484, gbc.sp());
        EXPECT(0xa7e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7e6));
        EXPECT(0x82, gbc.readMem(0xa7e7));
        // CB 82 009C
        gbc.setState(0x798e, 0x7fd8, 0x28e0, 0x566, 0x5486, 0xe082, 0x1, 0x0);
        gbc.writeMem(0x798e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x7fd8, gbc.sp());
        EXPECT(0x7990, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 009D
        gbc.setState(0xd217, 0x8f10, 0xbe80, 0x28ec, 0xc939, 0xccf4, 0x0, 0x0);
        gbc.writeMem(0xd217, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x8f10, gbc.sp());
        EXPECT(0xd219, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd217));
        EXPECT(0x82, gbc.readMem(0xd218));
        // CB 82 009E
        gbc.setState(0x65bb, 0xff97, 0xf460, 0x6465, 0x68f8, 0x1636, 0x1, 0x0);
        gbc.writeMem(0x65bb, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xff97, gbc.sp());
        EXPECT(0x65bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 009F
        gbc.setState(0x4f8c, 0x5b94, 0x7890, 0xc5d8, 0x87d9, 0xd710, 0x0, 0x1);
        gbc.writeMem(0x4f8c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x5b94, gbc.sp());
        EXPECT(0x4f8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00A0
        gbc.setState(0x5ef8, 0xe194, 0x15b0, 0x933, 0x21c1, 0xed9d, 0x1, 0x0);
        gbc.writeMem(0x5ef8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xe194, gbc.sp());
        EXPECT(0x5efa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00A1
        gbc.setState(0x31fc, 0x64a8, 0x3f00, 0x429, 0x41c0, 0xc2f4, 0x1, 0x1);
        gbc.writeMem(0x31fc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x64a8, gbc.sp());
        EXPECT(0x31fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00A2
        gbc.setState(0x8f46, 0xa0f, 0x4200, 0xd275, 0x6f3e, 0x91e2, 0x1, 0x0);
        gbc.writeMem(0x8f46, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xa0f, gbc.sp());
        EXPECT(0x8f48, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f46));
        EXPECT(0x82, gbc.readMem(0x8f47));
        // CB 82 00A3
        gbc.setState(0x1915, 0x41c4, 0xe210, 0x25c8, 0xd251, 0x5217, 0x1, 0x1);
        gbc.writeMem(0x1915, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x41c4, gbc.sp());
        EXPECT(0x1917, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00A4
        gbc.setState(0x5e9a, 0x654e, 0x8cd0, 0x3d24, 0x39d8, 0x1701, 0x0, 0x0);
        gbc.writeMem(0x5e9a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x654e, gbc.sp());
        EXPECT(0x5e9c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00A5
        gbc.setState(0x5cfd, 0xff40, 0x58e0, 0x479, 0x7e60, 0xb6eb, 0x1, 0x0);
        gbc.writeMem(0x5cfd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xff40, gbc.sp());
        EXPECT(0x5cff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00A6
        gbc.setState(0x6a0d, 0x4886, 0x49d0, 0x3fa5, 0x1996, 0x58be, 0x0, 0x1);
        gbc.writeMem(0x6a0d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x4886, gbc.sp());
        EXPECT(0x6a0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00A7
        gbc.setState(0x2630, 0xece8, 0x4ed0, 0x9f04, 0xf79e, 0xa364, 0x0, 0x0);
        gbc.writeMem(0x2630, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xece8, gbc.sp());
        EXPECT(0x2632, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00A8
        gbc.setState(0xc12d, 0x11, 0x7840, 0x1bcd, 0x5a25, 0xb964, 0x1, 0x0);
        gbc.writeMem(0xc12d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x11, gbc.sp());
        EXPECT(0xc12f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc12d));
        EXPECT(0x82, gbc.readMem(0xc12e));
        // CB 82 00A9
        gbc.setState(0x2f9d, 0x69b6, 0x57b0, 0xf160, 0x2595, 0xedee, 0x1, 0x0);
        gbc.writeMem(0x2f9d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x69b6, gbc.sp());
        EXPECT(0x2f9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00AB
        gbc.setState(0x9cbc, 0x87e1, 0x6a70, 0x9b97, 0x652c, 0x2862, 0x0, 0x0);
        gbc.writeMem(0x9cbc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x87e1, gbc.sp());
        EXPECT(0x9cbe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9cbc));
        EXPECT(0x82, gbc.readMem(0x9cbd));
        // CB 82 00AC
        gbc.setState(0x3c61, 0xe772, 0x7630, 0xa591, 0x9430, 0x65d1, 0x1, 0x1);
        gbc.writeMem(0x3c61, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xe772, gbc.sp());
        EXPECT(0x3c63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00AD
        gbc.setState(0x97ce, 0x9f99, 0x80d0, 0xf223, 0x8ae0, 0xdc73, 0x0, 0x1);
        gbc.writeMem(0x97ce, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x9f99, gbc.sp());
        EXPECT(0x97d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x97ce));
        EXPECT(0x82, gbc.readMem(0x97cf));
        // CB 82 00AE
        gbc.setState(0x458f, 0xa6a4, 0x630, 0x5781, 0x29ba, 0x43cb, 0x1, 0x1);
        gbc.writeMem(0x458f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xa6a4, gbc.sp());
        EXPECT(0x4591, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00AF
        gbc.setState(0x2dd0, 0xc220, 0x29e0, 0x59f8, 0x10eb, 0xeb3b, 0x0, 0x0);
        gbc.writeMem(0x2dd0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xc220, gbc.sp());
        EXPECT(0x2dd2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00B0
        gbc.setState(0xe4c9, 0xc613, 0x9b80, 0x2099, 0x36b5, 0x5d36, 0x0, 0x1);
        gbc.writeMem(0xe4c9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xc613, gbc.sp());
        EXPECT(0xe4cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe4c9));
        EXPECT(0x82, gbc.readMem(0xe4ca));
        // CB 82 00B1
        gbc.setState(0x3c8, 0xc1e, 0x3a80, 0x41e5, 0x319a, 0x14aa, 0x1, 0x0);
        gbc.writeMem(0x3c8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xc1e, gbc.sp());
        EXPECT(0x3ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00B2
        gbc.setState(0x3902, 0xf90b, 0x60f0, 0x4cd5, 0x61a3, 0xb9eb, 0x1, 0x1);
        gbc.writeMem(0x3902, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xf90b, gbc.sp());
        EXPECT(0x3904, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00B4
        gbc.setState(0x9712, 0xfcad, 0x1fe0, 0x2557, 0xb901, 0xf77d, 0x0, 0x1);
        gbc.writeMem(0x9712, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xfcad, gbc.sp());
        EXPECT(0x9714, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9712));
        EXPECT(0x82, gbc.readMem(0x9713));
        // CB 82 00B5
        gbc.setState(0x34df, 0xdf7c, 0x6740, 0xfe82, 0x99ba, 0xe818, 0x1, 0x1);
        gbc.writeMem(0x34df, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xdf7c, gbc.sp());
        EXPECT(0x34e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00B6
        gbc.setState(0x98ad, 0xac0d, 0x6de0, 0x4675, 0xeafa, 0xa8f1, 0x1, 0x0);
        gbc.writeMem(0x98ad, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xac0d, gbc.sp());
        EXPECT(0x98af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x98ad));
        EXPECT(0x82, gbc.readMem(0x98ae));
        // CB 82 00B7
        gbc.setState(0x9160, 0xda63, 0x5700, 0xad6, 0x2f72, 0x987a, 0x1, 0x0);
        gbc.writeMem(0x9160, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xda63, gbc.sp());
        EXPECT(0x9162, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9160));
        EXPECT(0x82, gbc.readMem(0x9161));
        // CB 82 00B8
        gbc.setState(0x8a82, 0xd2f, 0xca40, 0x3305, 0x4f75, 0x8035, 0x1, 0x0);
        gbc.writeMem(0x8a82, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xd2f, gbc.sp());
        EXPECT(0x8a84, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a82));
        EXPECT(0x82, gbc.readMem(0x8a83));
        // CB 82 00B9
        gbc.setState(0x5c3e, 0xae4e, 0xd490, 0x73a1, 0x309, 0x5ff5, 0x0, 0x0);
        gbc.writeMem(0x5c3e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xae4e, gbc.sp());
        EXPECT(0x5c40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00BA
        gbc.setState(0x7911, 0xc048, 0xa850, 0xab15, 0xcdeb, 0x41e1, 0x1, 0x1);
        gbc.writeMem(0x7911, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xc048, gbc.sp());
        EXPECT(0x7913, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00BB
        gbc.setState(0xd110, 0x4334, 0x7fc0, 0x349e, 0xb26c, 0xf07c, 0x0, 0x1);
        gbc.writeMem(0xd110, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x4334, gbc.sp());
        EXPECT(0xd112, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd110));
        EXPECT(0x82, gbc.readMem(0xd111));
        // CB 82 00BC
        gbc.setState(0x5137, 0x8790, 0x4350, 0x157, 0x57fd, 0x9e68, 0x0, 0x1);
        gbc.writeMem(0x5137, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x8790, gbc.sp());
        EXPECT(0x5139, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00BD
        gbc.setState(0x3f69, 0xdf7a, 0x58c0, 0xd482, 0x27fe, 0x1fc7, 0x1, 0x0);
        gbc.writeMem(0x3f69, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xdf7a, gbc.sp());
        EXPECT(0x3f6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00BE
        gbc.setState(0x8439, 0x6665, 0xd360, 0xc308, 0x9f2d, 0x6c94, 0x1, 0x0);
        gbc.writeMem(0x8439, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x6665, gbc.sp());
        EXPECT(0x843b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8439));
        EXPECT(0x82, gbc.readMem(0x843a));
        // CB 82 00C0
        gbc.setState(0x3dc3, 0x83e2, 0x5370, 0x86d7, 0x1690, 0x4d02, 0x1, 0x0);
        gbc.writeMem(0x3dc3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x83e2, gbc.sp());
        EXPECT(0x3dc5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00C1
        gbc.setState(0x66ef, 0xca43, 0xf970, 0x62fd, 0x536, 0xe89a, 0x0, 0x1);
        gbc.writeMem(0x66ef, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xca43, gbc.sp());
        EXPECT(0x66f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00C2
        gbc.setState(0x8cb5, 0x3245, 0xc760, 0x23e1, 0xe0d, 0x9bc1, 0x1, 0x1);
        gbc.writeMem(0x8cb5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x3245, gbc.sp());
        EXPECT(0x8cb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8cb5));
        EXPECT(0x82, gbc.readMem(0x8cb6));
        // CB 82 00C3
        gbc.setState(0xb7b0, 0x2ce7, 0x5890, 0xad1e, 0x945f, 0xedfe, 0x0, 0x0);
        gbc.writeMem(0xb7b0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x2ce7, gbc.sp());
        EXPECT(0xb7b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7b0));
        EXPECT(0x82, gbc.readMem(0xb7b1));
        // CB 82 00C4
        gbc.setState(0xad32, 0x9459, 0xfbb0, 0xa4de, 0xf817, 0xe906, 0x1, 0x1);
        gbc.writeMem(0xad32, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x9459, gbc.sp());
        EXPECT(0xad34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad32));
        EXPECT(0x82, gbc.readMem(0xad33));
        // CB 82 00C5
        gbc.setState(0xe0a9, 0x74eb, 0x9290, 0x8bba, 0xf2a5, 0x21c2, 0x0, 0x1);
        gbc.writeMem(0xe0a9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x74eb, gbc.sp());
        EXPECT(0xe0ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe0a9));
        EXPECT(0x82, gbc.readMem(0xe0aa));
        // CB 82 00C6
        gbc.setState(0xe2b9, 0x6f5, 0x4ea0, 0xc6b6, 0x85bf, 0x27, 0x0, 0x0);
        gbc.writeMem(0xe2b9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x6f5, gbc.sp());
        EXPECT(0xe2bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe2b9));
        EXPECT(0x82, gbc.readMem(0xe2ba));
        // CB 82 00C7
        gbc.setState(0x33ba, 0x519f, 0x65b0, 0x4a96, 0xf296, 0x500c, 0x0, 0x0);
        gbc.writeMem(0x33ba, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x519f, gbc.sp());
        EXPECT(0x33bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00C8
        gbc.setState(0xe199, 0x7153, 0x4440, 0xb083, 0x3df0, 0xf1eb, 0x0, 0x1);
        gbc.writeMem(0xe199, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x7153, gbc.sp());
        EXPECT(0xe19b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe199));
        EXPECT(0x82, gbc.readMem(0xe19a));
        // CB 82 00C9
        gbc.setState(0x256b, 0xaf7, 0x2590, 0x7972, 0xa07d, 0x5ca8, 0x1, 0x1);
        gbc.writeMem(0x256b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xaf7, gbc.sp());
        EXPECT(0x256d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00CA
        gbc.setState(0xb396, 0xd3ab, 0x6860, 0x3bfc, 0x28aa, 0x5157, 0x0, 0x0);
        gbc.writeMem(0xb396, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xd3ab, gbc.sp());
        EXPECT(0xb398, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb396));
        EXPECT(0x82, gbc.readMem(0xb397));
        // CB 82 00CB
        gbc.setState(0xc812, 0x4c2b, 0x21c0, 0xa7ca, 0x7ecc, 0xbcb4, 0x0, 0x1);
        gbc.writeMem(0xc812, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x4c2b, gbc.sp());
        EXPECT(0xc814, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc812));
        EXPECT(0x82, gbc.readMem(0xc813));
        // CB 82 00CC
        gbc.setState(0xa6d1, 0x8a05, 0x1820, 0x8f08, 0x5ff7, 0xc191, 0x1, 0x1);
        gbc.writeMem(0xa6d1, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x8a05, gbc.sp());
        EXPECT(0xa6d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa6d1));
        EXPECT(0x82, gbc.readMem(0xa6d2));
        // CB 82 00CD
        gbc.setState(0x5996, 0x62, 0x5440, 0x73c3, 0xe2d3, 0x6172, 0x1, 0x0);
        gbc.writeMem(0x5996, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x62, gbc.sp());
        EXPECT(0x5998, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00CE
        gbc.setState(0x58db, 0xc39e, 0x1f50, 0x23e6, 0x4368, 0xc083, 0x1, 0x0);
        gbc.writeMem(0x58db, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xc39e, gbc.sp());
        EXPECT(0x58dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00D0
        gbc.setState(0x11d6, 0x8ec7, 0x8b10, 0x2684, 0x46c0, 0xcd34, 0x0, 0x0);
        gbc.writeMem(0x11d6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x8ec7, gbc.sp());
        EXPECT(0x11d8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00D1
        gbc.setState(0xe740, 0xe647, 0x4030, 0xd6c, 0x9297, 0xa419, 0x1, 0x1);
        gbc.writeMem(0xe740, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xe647, gbc.sp());
        EXPECT(0xe742, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe740));
        EXPECT(0x82, gbc.readMem(0xe741));
        // CB 82 00D2
        gbc.setState(0x4451, 0xa91f, 0xd160, 0xafcd, 0x8df2, 0x5cf0, 0x1, 0x1);
        gbc.writeMem(0x4451, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xa91f, gbc.sp());
        EXPECT(0x4453, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00D4
        gbc.setState(0xd5d5, 0x3e72, 0xf5c0, 0x4cc9, 0xa011, 0xf0f3, 0x1, 0x0);
        gbc.writeMem(0xd5d5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x3e72, gbc.sp());
        EXPECT(0xd5d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5d5));
        EXPECT(0x82, gbc.readMem(0xd5d6));
        // CB 82 00D5
        gbc.setState(0x87e, 0x1e74, 0x40, 0x91ec, 0x3ad4, 0xf511, 0x1, 0x1);
        gbc.writeMem(0x87e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x1e74, gbc.sp());
        EXPECT(0x880, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00D6
        gbc.setState(0xa4cd, 0x60d7, 0xcee0, 0xda45, 0x3b49, 0x6e77, 0x1, 0x0);
        gbc.writeMem(0xa4cd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x60d7, gbc.sp());
        EXPECT(0xa4cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4cd));
        EXPECT(0x82, gbc.readMem(0xa4ce));
        // CB 82 00D7
        gbc.setState(0x67d4, 0xc7f7, 0x7cc0, 0xd32e, 0x60d7, 0x33f1, 0x1, 0x1);
        gbc.writeMem(0x67d4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xc7f7, gbc.sp());
        EXPECT(0x67d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00D9
        gbc.setState(0xdc83, 0x3550, 0xe20, 0x69e5, 0x769, 0x8cd4, 0x1, 0x1);
        gbc.writeMem(0xdc83, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x3550, gbc.sp());
        EXPECT(0xdc85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc83));
        EXPECT(0x82, gbc.readMem(0xdc84));
        // CB 82 00DA
        gbc.setState(0xab4a, 0x40ac, 0xf0d0, 0xee0b, 0xeede, 0x20d3, 0x1, 0x0);
        gbc.writeMem(0xab4a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x40ac, gbc.sp());
        EXPECT(0xab4c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab4a));
        EXPECT(0x82, gbc.readMem(0xab4b));
        // CB 82 00DB
        gbc.setState(0x7792, 0x3290, 0x5120, 0x79f9, 0x32da, 0x3914, 0x0, 0x1);
        gbc.writeMem(0x7792, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x3290, gbc.sp());
        EXPECT(0x7794, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00DC
        gbc.setState(0x67f, 0x2376, 0x2c50, 0x3991, 0x71d9, 0x2c62, 0x0, 0x1);
        gbc.writeMem(0x67f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x2376, gbc.sp());
        EXPECT(0x681, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00DD
        gbc.setState(0x6ad5, 0xc69, 0x1d0, 0xe63e, 0x9fb, 0x53dd, 0x1, 0x0);
        gbc.writeMem(0x6ad5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xc69, gbc.sp());
        EXPECT(0x6ad7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00DE
        gbc.setState(0x5a16, 0xc9c7, 0xde0, 0xb8d, 0xf290, 0x8896, 0x1, 0x0);
        gbc.writeMem(0x5a16, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xc9c7, gbc.sp());
        EXPECT(0x5a18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00E0
        gbc.setState(0xca11, 0x1f, 0x8440, 0x193b, 0xd01c, 0xc6dd, 0x0, 0x0);
        gbc.writeMem(0xca11, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x1f, gbc.sp());
        EXPECT(0xca13, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca11));
        EXPECT(0x82, gbc.readMem(0xca12));
        // CB 82 00E1
        gbc.setState(0x421a, 0x1cd0, 0x7010, 0xafd3, 0x8ae2, 0x5859, 0x1, 0x0);
        gbc.writeMem(0x421a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x1cd0, gbc.sp());
        EXPECT(0x421c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00E3
        gbc.setState(0x190, 0x992f, 0xb640, 0x8e48, 0xaf94, 0x6ee5, 0x0, 0x1);
        gbc.writeMem(0x190, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x992f, gbc.sp());
        EXPECT(0x192, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00E4
        gbc.setState(0x175c, 0x5ec9, 0xab70, 0xd914, 0xb423, 0x242b, 0x0, 0x1);
        gbc.writeMem(0x175c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x5ec9, gbc.sp());
        EXPECT(0x175e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00E5
        gbc.setState(0x8251, 0x460b, 0x85a0, 0x5168, 0xf54e, 0x2370, 0x0, 0x0);
        gbc.writeMem(0x8251, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x460b, gbc.sp());
        EXPECT(0x8253, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8251));
        EXPECT(0x82, gbc.readMem(0x8252));
        // CB 82 00E6
        gbc.setState(0x7e5c, 0x86e2, 0xed50, 0x905e, 0xf255, 0x84a7, 0x1, 0x1);
        gbc.writeMem(0x7e5c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x86e2, gbc.sp());
        EXPECT(0x7e5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00E7
        gbc.setState(0x8320, 0xb256, 0xbd10, 0x4e46, 0x2c81, 0x537f, 0x0, 0x0);
        gbc.writeMem(0x8320, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xb256, gbc.sp());
        EXPECT(0x8322, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8320));
        EXPECT(0x82, gbc.readMem(0x8321));
        // CB 82 00E8
        gbc.setState(0xb382, 0xe467, 0xdbe0, 0xc88c, 0x9b35, 0xe1d1, 0x1, 0x0);
        gbc.writeMem(0xb382, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xe467, gbc.sp());
        EXPECT(0xb384, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb382));
        EXPECT(0x82, gbc.readMem(0xb383));
        // CB 82 00EA
        gbc.setState(0xb904, 0xdb62, 0x5450, 0xfab, 0xbe8e, 0x2ccb, 0x1, 0x1);
        gbc.writeMem(0xb904, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xdb62, gbc.sp());
        EXPECT(0xb906, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb904));
        EXPECT(0x82, gbc.readMem(0xb905));
        // CB 82 00EB
        gbc.setState(0xc8e5, 0x8ba2, 0x1da0, 0x27cb, 0x46c8, 0x1c81, 0x0, 0x1);
        gbc.writeMem(0xc8e5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x8ba2, gbc.sp());
        EXPECT(0xc8e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8e5));
        EXPECT(0x82, gbc.readMem(0xc8e6));
        // CB 82 00EC
        gbc.setState(0xdd1f, 0x59bc, 0x14f0, 0xa97f, 0xe80b, 0x7972, 0x1, 0x0);
        gbc.writeMem(0xdd1f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x59bc, gbc.sp());
        EXPECT(0xdd21, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd1f));
        EXPECT(0x82, gbc.readMem(0xdd20));
        // CB 82 00ED
        gbc.setState(0x63f6, 0x5991, 0xcae0, 0x1cf4, 0x31e0, 0x4a46, 0x0, 0x1);
        gbc.writeMem(0x63f6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x5991, gbc.sp());
        EXPECT(0x63f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00EE
        gbc.setState(0x9026, 0x32f2, 0x9c80, 0x8c7d, 0xdae6, 0x7d3f, 0x1, 0x0);
        gbc.writeMem(0x9026, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x32f2, gbc.sp());
        EXPECT(0x9028, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9026));
        EXPECT(0x82, gbc.readMem(0x9027));
        // CB 82 00EF
        gbc.setState(0x1879, 0x3bd3, 0x9790, 0xbd97, 0xb2fd, 0xf89c, 0x0, 0x0);
        gbc.writeMem(0x1879, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x3bd3, gbc.sp());
        EXPECT(0x187b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00F1
        gbc.setState(0x8527, 0x6d31, 0x89e0, 0xe039, 0x1811, 0x607b, 0x1, 0x0);
        gbc.writeMem(0x8527, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x6d31, gbc.sp());
        EXPECT(0x8529, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8527));
        EXPECT(0x82, gbc.readMem(0x8528));
        // CB 82 00F2
        gbc.setState(0x3c2f, 0xaef6, 0x3960, 0xe02e, 0x9f9c, 0xa35c, 0x0, 0x1);
        gbc.writeMem(0x3c2f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xaef6, gbc.sp());
        EXPECT(0x3c31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00F3
        gbc.setState(0x2d9e, 0xcc5e, 0x770, 0xe180, 0x58dd, 0xc0d3, 0x0, 0x0);
        gbc.writeMem(0x2d9e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xcc5e, gbc.sp());
        EXPECT(0x2da0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00F4
        gbc.setState(0x8f9, 0x643d, 0x7af0, 0x520a, 0xecf8, 0x3f26, 0x0, 0x0);
        gbc.writeMem(0x8f9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x643d, gbc.sp());
        EXPECT(0x8fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00F5
        gbc.setState(0x21dc, 0x2127, 0xdc40, 0x1423, 0x9ff5, 0xe99c, 0x1, 0x1);
        gbc.writeMem(0x21dc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x2127, gbc.sp());
        EXPECT(0x21de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00F6
        gbc.setState(0x2ff2, 0x4317, 0x3c30, 0x918d, 0x3a80, 0x7bc, 0x1, 0x1);
        gbc.writeMem(0x2ff2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x4317, gbc.sp());
        EXPECT(0x2ff4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00F7
        gbc.setState(0xe9f8, 0x95d1, 0x3410, 0x470e, 0x208, 0xab6b, 0x1, 0x1);
        gbc.writeMem(0xe9f8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x95d1, gbc.sp());
        EXPECT(0xe9fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe9f8));
        EXPECT(0x82, gbc.readMem(0xe9f9));
        // CB 82 00F8
        gbc.setState(0xcedb, 0x1fd6, 0x2610, 0x91a5, 0xcc88, 0x6129, 0x1, 0x1);
        gbc.writeMem(0xcedb, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x1fd6, gbc.sp());
        EXPECT(0xcedd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcedb));
        EXPECT(0x82, gbc.readMem(0xcedc));
        // CB 82 00F9
        gbc.setState(0x1069, 0x76ff, 0x7910, 0xec6e, 0x42ac, 0x3431, 0x1, 0x1);
        gbc.writeMem(0x1069, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x76ff, gbc.sp());
        EXPECT(0x106b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00FA
        gbc.setState(0x12a2, 0x169b, 0xc5e0, 0xf815, 0x47e0, 0x1861, 0x1, 0x0);
        gbc.writeMem(0x12a2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x169b, gbc.sp());
        EXPECT(0x12a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00FB
        gbc.setState(0x528c, 0xcf17, 0x8f00, 0xc5, 0x8f85, 0x294c, 0x1, 0x0);
        gbc.writeMem(0x528c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xcf17, gbc.sp());
        EXPECT(0x528e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00FC
        gbc.setState(0x380f, 0x42de, 0x2c50, 0x5597, 0xd7bc, 0xd5af, 0x1, 0x1);
        gbc.writeMem(0x380f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x42de, gbc.sp());
        EXPECT(0x3811, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 00FD
        gbc.setState(0xa94b, 0xd921, 0xf570, 0x3703, 0x6691, 0x99d2, 0x1, 0x0);
        gbc.writeMem(0xa94b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xd921, gbc.sp());
        EXPECT(0xa94d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa94b));
        EXPECT(0x82, gbc.readMem(0xa94c));
        // CB 82 00FE
        gbc.setState(0xf50, 0x5c82, 0xf140, 0x3862, 0xa8d0, 0x86d6, 0x1, 0x1);
        gbc.writeMem(0xf50, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x5c82, gbc.sp());
        EXPECT(0xf52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 00FF
        gbc.setState(0x4843, 0x7e4e, 0x930, 0x7ffe, 0xd680, 0xb3c, 0x0, 0x0);
        gbc.writeMem(0x4843, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x7e4e, gbc.sp());
        EXPECT(0x4845, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0100
        gbc.setState(0x2b2e, 0xeab0, 0xae30, 0x31ac, 0xb3ef, 0x7d4f, 0x0, 0x0);
        gbc.writeMem(0x2b2e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xeab0, gbc.sp());
        EXPECT(0x2b30, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0101
        gbc.setState(0xd4a4, 0xb17a, 0x8880, 0x15a5, 0x1916, 0x1a13, 0x1, 0x1);
        gbc.writeMem(0xd4a4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xb17a, gbc.sp());
        EXPECT(0xd4a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4a4));
        EXPECT(0x82, gbc.readMem(0xd4a5));
        // CB 82 0103
        gbc.setState(0x6c41, 0xe950, 0xae00, 0xe406, 0xe079, 0xe31b, 0x1, 0x0);
        gbc.writeMem(0x6c41, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xe950, gbc.sp());
        EXPECT(0x6c43, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0104
        gbc.setState(0xd297, 0x3112, 0xe6f0, 0x2d8b, 0x4903, 0x6999, 0x0, 0x1);
        gbc.writeMem(0xd297, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x3112, gbc.sp());
        EXPECT(0xd299, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd297));
        EXPECT(0x82, gbc.readMem(0xd298));
        // CB 82 0105
        gbc.setState(0x5215, 0x791a, 0xca0, 0x181e, 0x906e, 0x4311, 0x1, 0x0);
        gbc.writeMem(0x5215, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x791a, gbc.sp());
        EXPECT(0x5217, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0106
        gbc.setState(0xa87c, 0x1b6a, 0x7a0, 0xf03a, 0xc730, 0x610e, 0x0, 0x1);
        gbc.writeMem(0xa87c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x1b6a, gbc.sp());
        EXPECT(0xa87e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa87c));
        EXPECT(0x82, gbc.readMem(0xa87d));
        // CB 82 0108
        gbc.setState(0xa0cf, 0xdb28, 0x3100, 0x5e05, 0x771d, 0xc88b, 0x1, 0x0);
        gbc.writeMem(0xa0cf, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xdb28, gbc.sp());
        EXPECT(0xa0d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0cf));
        EXPECT(0x82, gbc.readMem(0xa0d0));
        // CB 82 0109
        gbc.setState(0xd050, 0xf18b, 0x540, 0x66d0, 0x8813, 0x640e, 0x0, 0x0);
        gbc.writeMem(0xd050, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xf18b, gbc.sp());
        EXPECT(0xd052, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd050));
        EXPECT(0x82, gbc.readMem(0xd051));
        // CB 82 010A
        gbc.setState(0x7802, 0x5dde, 0x8c10, 0xe0c0, 0xf115, 0xca4a, 0x1, 0x1);
        gbc.writeMem(0x7802, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x5dde, gbc.sp());
        EXPECT(0x7804, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 010B
        gbc.setState(0xbbe4, 0x606b, 0x4d0, 0xadad, 0x4373, 0x7444, 0x0, 0x1);
        gbc.writeMem(0xbbe4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x606b, gbc.sp());
        EXPECT(0xbbe6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbbe4));
        EXPECT(0x82, gbc.readMem(0xbbe5));
        // CB 82 010C
        gbc.setState(0xd3d6, 0xa793, 0xe50, 0x984f, 0x24ce, 0xdffb, 0x0, 0x1);
        gbc.writeMem(0xd3d6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xa793, gbc.sp());
        EXPECT(0xd3d8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3d6));
        EXPECT(0x82, gbc.readMem(0xd3d7));
        // CB 82 010D
        gbc.setState(0x82dd, 0x89c5, 0xd4e0, 0x2af3, 0x2f4c, 0x9da9, 0x0, 0x0);
        gbc.writeMem(0x82dd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x89c5, gbc.sp());
        EXPECT(0x82df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x82dd));
        EXPECT(0x82, gbc.readMem(0x82de));
        // CB 82 010E
        gbc.setState(0xc7ba, 0x5af2, 0xe7d0, 0xb3db, 0x9c1c, 0xda9b, 0x0, 0x1);
        gbc.writeMem(0xc7ba, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x5af2, gbc.sp());
        EXPECT(0xc7bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc7ba));
        EXPECT(0x82, gbc.readMem(0xc7bb));
        // CB 82 010F
        gbc.setState(0x6d50, 0x44fc, 0x99b0, 0xdc8d, 0xfcce, 0xbd78, 0x0, 0x1);
        gbc.writeMem(0x6d50, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x44fc, gbc.sp());
        EXPECT(0x6d52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0110
        gbc.setState(0x62c, 0x8e1f, 0xf6e0, 0xf117, 0xde89, 0x5726, 0x1, 0x1);
        gbc.writeMem(0x62c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x8e1f, gbc.sp());
        EXPECT(0x62e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0111
        gbc.setState(0xd30b, 0x8938, 0xc590, 0x10f, 0x24a3, 0x6454, 0x0, 0x1);
        gbc.writeMem(0xd30b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x8938, gbc.sp());
        EXPECT(0xd30d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd30b));
        EXPECT(0x82, gbc.readMem(0xd30c));
        // CB 82 0112
        gbc.setState(0x766b, 0x69a8, 0x8c00, 0x70c9, 0x24c4, 0xaea8, 0x0, 0x1);
        gbc.writeMem(0x766b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x69a8, gbc.sp());
        EXPECT(0x766d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0113
        gbc.setState(0xa1d, 0xea8, 0x44c0, 0xcce5, 0xafb2, 0xb495, 0x1, 0x0);
        gbc.writeMem(0xa1d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xea8, gbc.sp());
        EXPECT(0xa1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0114
        gbc.setState(0xc4ac, 0x8224, 0x3fd0, 0x9683, 0x1c68, 0x42b9, 0x1, 0x0);
        gbc.writeMem(0xc4ac, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x8224, gbc.sp());
        EXPECT(0xc4ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4ac));
        EXPECT(0x82, gbc.readMem(0xc4ad));
        // CB 82 0115
        gbc.setState(0xd3a8, 0x7a41, 0x3d40, 0x6b7a, 0x96ea, 0x87fc, 0x1, 0x1);
        gbc.writeMem(0xd3a8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x7a41, gbc.sp());
        EXPECT(0xd3aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3a8));
        EXPECT(0x82, gbc.readMem(0xd3a9));
        // CB 82 0116
        gbc.setState(0xe025, 0xf4ef, 0xefa0, 0xcb3d, 0x789d, 0x1733, 0x1, 0x0);
        gbc.writeMem(0xe025, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xf4ef, gbc.sp());
        EXPECT(0xe027, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe025));
        EXPECT(0x82, gbc.readMem(0xe026));
        // CB 82 0117
        gbc.setState(0x4818, 0x4551, 0x9c20, 0x6dcb, 0x878e, 0xbe2c, 0x1, 0x1);
        gbc.writeMem(0x4818, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x4551, gbc.sp());
        EXPECT(0x481a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0118
        gbc.setState(0x4077, 0x3884, 0x2d60, 0xe13d, 0x3551, 0xaf48, 0x0, 0x1);
        gbc.writeMem(0x4077, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x3884, gbc.sp());
        EXPECT(0x4079, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0119
        gbc.setState(0x5944, 0xd849, 0x48e0, 0xf0ef, 0x5c85, 0x5f75, 0x0, 0x1);
        gbc.writeMem(0x5944, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xd849, gbc.sp());
        EXPECT(0x5946, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 011A
        gbc.setState(0x8573, 0x3caf, 0x8270, 0xdf3d, 0x5632, 0x606f, 0x0, 0x0);
        gbc.writeMem(0x8573, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x3caf, gbc.sp());
        EXPECT(0x8575, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8573));
        EXPECT(0x82, gbc.readMem(0x8574));
        // CB 82 011C
        gbc.setState(0x2719, 0x77b2, 0x6980, 0x13db, 0xb975, 0xd6da, 0x1, 0x0);
        gbc.writeMem(0x2719, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x77b2, gbc.sp());
        EXPECT(0x271b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 011D
        gbc.setState(0x743d, 0x6d82, 0x9aa0, 0x4957, 0x7b60, 0x5961, 0x0, 0x0);
        gbc.writeMem(0x743d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x6d82, gbc.sp());
        EXPECT(0x743f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 011E
        gbc.setState(0xd9fb, 0x1837, 0x9060, 0x938c, 0x5ef0, 0x38d6, 0x1, 0x0);
        gbc.writeMem(0xd9fb, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x1837, gbc.sp());
        EXPECT(0xd9fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9fb));
        EXPECT(0x82, gbc.readMem(0xd9fc));
        // CB 82 011F
        gbc.setState(0x893a, 0xa8aa, 0x6f90, 0x74ad, 0x33d1, 0xb338, 0x0, 0x0);
        gbc.writeMem(0x893a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xa8aa, gbc.sp());
        EXPECT(0x893c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x893a));
        EXPECT(0x82, gbc.readMem(0x893b));
        // CB 82 0120
        gbc.setState(0x1459, 0xb1ca, 0xa5a0, 0xe384, 0xe56d, 0xc44c, 0x1, 0x1);
        gbc.writeMem(0x1459, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xb1ca, gbc.sp());
        EXPECT(0x145b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0121
        gbc.setState(0xef7d, 0x23d7, 0x5270, 0x5d92, 0xbbd8, 0x9478, 0x1, 0x1);
        gbc.writeMem(0xef7d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x23d7, gbc.sp());
        EXPECT(0xef7f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef7d));
        EXPECT(0x82, gbc.readMem(0xef7e));
        // CB 82 0122
        gbc.setState(0x11e8, 0xc33, 0x1340, 0xfc5f, 0x2315, 0xf729, 0x0, 0x0);
        gbc.writeMem(0x11e8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xc33, gbc.sp());
        EXPECT(0x11ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0123
        gbc.setState(0xb22d, 0x6c0a, 0x9660, 0x20a8, 0x48db, 0xc586, 0x0, 0x0);
        gbc.writeMem(0xb22d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x6c0a, gbc.sp());
        EXPECT(0xb22f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb22d));
        EXPECT(0x82, gbc.readMem(0xb22e));
        // CB 82 0124
        gbc.setState(0x4136, 0xe8bd, 0x1fb0, 0xf0c2, 0x9836, 0x807a, 0x1, 0x1);
        gbc.writeMem(0x4136, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xe8bd, gbc.sp());
        EXPECT(0x4138, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0125
        gbc.setState(0xc512, 0x82a4, 0x4bb0, 0xa085, 0x5331, 0xc312, 0x1, 0x0);
        gbc.writeMem(0xc512, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x82a4, gbc.sp());
        EXPECT(0xc514, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc512));
        EXPECT(0x82, gbc.readMem(0xc513));
        // CB 82 0126
        gbc.setState(0x62e0, 0x5e78, 0x3720, 0x28f7, 0x33fe, 0xb3ff, 0x1, 0x0);
        gbc.writeMem(0x62e0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x5e78, gbc.sp());
        EXPECT(0x62e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0127
        gbc.setState(0x6a8c, 0x9c2b, 0xf160, 0xfcb3, 0xd845, 0x9c9e, 0x0, 0x1);
        gbc.writeMem(0x6a8c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x9c2b, gbc.sp());
        EXPECT(0x6a8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0128
        gbc.setState(0xe2a3, 0x5d2b, 0x8e0, 0x6ae8, 0x77a3, 0x89c0, 0x1, 0x0);
        gbc.writeMem(0xe2a3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x5d2b, gbc.sp());
        EXPECT(0xe2a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe2a3));
        EXPECT(0x82, gbc.readMem(0xe2a4));
        // CB 82 0129
        gbc.setState(0x764e, 0x3e92, 0xfb50, 0xadd3, 0x5213, 0xfd0b, 0x1, 0x1);
        gbc.writeMem(0x764e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x3e92, gbc.sp());
        EXPECT(0x7650, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 012A
        gbc.setState(0x5214, 0xc8e9, 0x40a0, 0xfc4, 0xe4e0, 0x7846, 0x0, 0x0);
        gbc.writeMem(0x5214, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xc8e9, gbc.sp());
        EXPECT(0x5216, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 012B
        gbc.setState(0x543, 0x900c, 0xce20, 0xa661, 0x7f4d, 0x8417, 0x0, 0x0);
        gbc.writeMem(0x543, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x900c, gbc.sp());
        EXPECT(0x545, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 012D
        gbc.setState(0xe62f, 0x6af9, 0xdc20, 0x1ae8, 0xbd1f, 0xd53e, 0x1, 0x0);
        gbc.writeMem(0xe62f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x6af9, gbc.sp());
        EXPECT(0xe631, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe62f));
        EXPECT(0x82, gbc.readMem(0xe630));
        // CB 82 012E
        gbc.setState(0xbcb4, 0xfc3, 0xc7d0, 0x8b7d, 0xa2a0, 0x68f3, 0x0, 0x1);
        gbc.writeMem(0xbcb4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xfc3, gbc.sp());
        EXPECT(0xbcb6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbcb4));
        EXPECT(0x82, gbc.readMem(0xbcb5));
        // CB 82 012F
        gbc.setState(0xd28f, 0xcb69, 0x8810, 0x57ce, 0xb09d, 0xce92, 0x1, 0x0);
        gbc.writeMem(0xd28f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xcb69, gbc.sp());
        EXPECT(0xd291, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd28f));
        EXPECT(0x82, gbc.readMem(0xd290));
        // CB 82 0130
        gbc.setState(0xbf13, 0x9ee4, 0xca00, 0xce1c, 0xb250, 0x9e2c, 0x0, 0x0);
        gbc.writeMem(0xbf13, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x9ee4, gbc.sp());
        EXPECT(0xbf15, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf13));
        EXPECT(0x82, gbc.readMem(0xbf14));
        // CB 82 0131
        gbc.setState(0x4e10, 0xa0a4, 0xf320, 0x1412, 0xba19, 0xca, 0x1, 0x0);
        gbc.writeMem(0x4e10, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xa0a4, gbc.sp());
        EXPECT(0x4e12, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0132
        gbc.setState(0xb799, 0xb929, 0xe3f0, 0x56e1, 0x13a7, 0xe6a9, 0x0, 0x1);
        gbc.writeMem(0xb799, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xb929, gbc.sp());
        EXPECT(0xb79b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb799));
        EXPECT(0x82, gbc.readMem(0xb79a));
        // CB 82 0133
        gbc.setState(0x1688, 0x6065, 0xb990, 0xa0e2, 0x398b, 0x888, 0x1, 0x0);
        gbc.writeMem(0x1688, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x6065, gbc.sp());
        EXPECT(0x168a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0134
        gbc.setState(0xaab7, 0xe7fa, 0xb500, 0xb413, 0xb678, 0x8ac8, 0x0, 0x0);
        gbc.writeMem(0xaab7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xe7fa, gbc.sp());
        EXPECT(0xaab9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaab7));
        EXPECT(0x82, gbc.readMem(0xaab8));
        // CB 82 0135
        gbc.setState(0xbfda, 0xc75, 0xb450, 0xdd65, 0x2e7e, 0x31fb, 0x0, 0x1);
        gbc.writeMem(0xbfda, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xc75, gbc.sp());
        EXPECT(0xbfdc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfda));
        EXPECT(0x82, gbc.readMem(0xbfdb));
        // CB 82 0136
        gbc.setState(0x50a3, 0xe903, 0xffe0, 0x5fb6, 0xd3f8, 0xe024, 0x0, 0x0);
        gbc.writeMem(0x50a3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xe903, gbc.sp());
        EXPECT(0x50a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0137
        gbc.setState(0x2312, 0x9c6e, 0xda60, 0xf543, 0x15ab, 0x5560, 0x0, 0x1);
        gbc.writeMem(0x2312, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x9c6e, gbc.sp());
        EXPECT(0x2314, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0138
        gbc.setState(0xd5dd, 0x8067, 0x8fe0, 0x18e0, 0x3dea, 0x8ab5, 0x1, 0x0);
        gbc.writeMem(0xd5dd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x8067, gbc.sp());
        EXPECT(0xd5df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5dd));
        EXPECT(0x82, gbc.readMem(0xd5de));
        // CB 82 0139
        gbc.setState(0x4916, 0x4236, 0x380, 0x9fb9, 0x9e49, 0x56ab, 0x0, 0x0);
        gbc.writeMem(0x4916, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x4236, gbc.sp());
        EXPECT(0x4918, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 013A
        gbc.setState(0xdbec, 0x48, 0xdcd0, 0x36e4, 0x1aa8, 0xff21, 0x1, 0x0);
        gbc.writeMem(0xdbec, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x48, gbc.sp());
        EXPECT(0xdbee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbec));
        EXPECT(0x82, gbc.readMem(0xdbed));
        // CB 82 013B
        gbc.setState(0x6ff3, 0x1342, 0xeb0, 0x8186, 0x3c9f, 0xbf3e, 0x0, 0x0);
        gbc.writeMem(0x6ff3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x1342, gbc.sp());
        EXPECT(0x6ff5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 013C
        gbc.setState(0xa351, 0xb2b7, 0xc830, 0x9cad, 0x87b8, 0x870f, 0x0, 0x1);
        gbc.writeMem(0xa351, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xb2b7, gbc.sp());
        EXPECT(0xa353, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa351));
        EXPECT(0x82, gbc.readMem(0xa352));
        // CB 82 013D
        gbc.setState(0x3621, 0x442a, 0xf1c0, 0xb063, 0xf520, 0xe95e, 0x1, 0x1);
        gbc.writeMem(0x3621, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x442a, gbc.sp());
        EXPECT(0x3623, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 013E
        gbc.setState(0x3426, 0x6a5c, 0x1140, 0x65b1, 0xa9e2, 0xb956, 0x1, 0x1);
        gbc.writeMem(0x3426, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x6a5c, gbc.sp());
        EXPECT(0x3428, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 013F
        gbc.setState(0xc76a, 0x4771, 0x41a0, 0xe1e5, 0xa4da, 0xa5c2, 0x1, 0x1);
        gbc.writeMem(0xc76a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x4771, gbc.sp());
        EXPECT(0xc76c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc76a));
        EXPECT(0x82, gbc.readMem(0xc76b));
        // CB 82 0141
        gbc.setState(0x8b62, 0x19cb, 0x74c0, 0x727b, 0xad78, 0xfab5, 0x0, 0x1);
        gbc.writeMem(0x8b62, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x19cb, gbc.sp());
        EXPECT(0x8b64, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b62));
        EXPECT(0x82, gbc.readMem(0x8b63));
        // CB 82 0142
        gbc.setState(0xa7b0, 0xcf9, 0x2cb0, 0xf384, 0x6fce, 0x155f, 0x0, 0x1);
        gbc.writeMem(0xa7b0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xcf9, gbc.sp());
        EXPECT(0xa7b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7b0));
        EXPECT(0x82, gbc.readMem(0xa7b1));
        // CB 82 0143
        gbc.setState(0xcd21, 0x8495, 0x98c0, 0xbe08, 0xe263, 0xd5fd, 0x1, 0x0);
        gbc.writeMem(0xcd21, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x8495, gbc.sp());
        EXPECT(0xcd23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd21));
        EXPECT(0x82, gbc.readMem(0xcd22));
        // CB 82 0144
        gbc.setState(0xbb43, 0x68d, 0x5d20, 0x1503, 0x6c68, 0xee69, 0x1, 0x1);
        gbc.writeMem(0xbb43, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x68d, gbc.sp());
        EXPECT(0xbb45, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb43));
        EXPECT(0x82, gbc.readMem(0xbb44));
        // CB 82 0145
        gbc.setState(0x83c8, 0x7b6c, 0xeed0, 0x352, 0x6d0, 0x3b0f, 0x1, 0x0);
        gbc.writeMem(0x83c8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x7b6c, gbc.sp());
        EXPECT(0x83ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x83c8));
        EXPECT(0x82, gbc.readMem(0x83c9));
        // CB 82 0146
        gbc.setState(0x76ec, 0xa82c, 0xb520, 0xab0, 0x55c9, 0x89d, 0x0, 0x1);
        gbc.writeMem(0x76ec, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xa82c, gbc.sp());
        EXPECT(0x76ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0147
        gbc.setState(0x225c, 0x3755, 0xb8e0, 0xe6d2, 0xb253, 0xde71, 0x0, 0x0);
        gbc.writeMem(0x225c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x3755, gbc.sp());
        EXPECT(0x225e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0148
        gbc.setState(0x3dec, 0x3acf, 0xc260, 0x22a0, 0x1f59, 0xd5fd, 0x0, 0x1);
        gbc.writeMem(0x3dec, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x3acf, gbc.sp());
        EXPECT(0x3dee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0149
        gbc.setState(0xdd3b, 0xd6ab, 0x2e10, 0xebe3, 0x8157, 0xdf08, 0x0, 0x0);
        gbc.writeMem(0xdd3b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xd6ab, gbc.sp());
        EXPECT(0xdd3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd3b));
        EXPECT(0x82, gbc.readMem(0xdd3c));
        // CB 82 014A
        gbc.setState(0xa644, 0x809f, 0xecc0, 0x50f0, 0x71d0, 0x8578, 0x0, 0x1);
        gbc.writeMem(0xa644, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x809f, gbc.sp());
        EXPECT(0xa646, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa644));
        EXPECT(0x82, gbc.readMem(0xa645));
        // CB 82 014B
        gbc.setState(0xb7fe, 0x9a0b, 0x68c0, 0x15, 0xb6d6, 0xb9c2, 0x0, 0x0);
        gbc.writeMem(0xb7fe, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x9a0b, gbc.sp());
        EXPECT(0xb800, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7fe));
        EXPECT(0x82, gbc.readMem(0xb7ff));
        // CB 82 014C
        gbc.setState(0xc934, 0x8cd1, 0x46c0, 0xc599, 0x88be, 0xf3d7, 0x1, 0x0);
        gbc.writeMem(0xc934, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x8cd1, gbc.sp());
        EXPECT(0xc936, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc934));
        EXPECT(0x82, gbc.readMem(0xc935));
        // CB 82 014D
        gbc.setState(0xd65f, 0x261d, 0xebc0, 0x3ca7, 0x2587, 0xea82, 0x1, 0x0);
        gbc.writeMem(0xd65f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x261d, gbc.sp());
        EXPECT(0xd661, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd65f));
        EXPECT(0x82, gbc.readMem(0xd660));
        // CB 82 014E
        gbc.setState(0x921, 0xbb45, 0x3e80, 0xb3d5, 0xcf79, 0xdb93, 0x0, 0x0);
        gbc.writeMem(0x921, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xbb45, gbc.sp());
        EXPECT(0x923, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0150
        gbc.setState(0x939d, 0xfbd0, 0x26f0, 0xe481, 0x776e, 0x9eeb, 0x0, 0x1);
        gbc.writeMem(0x939d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xfbd0, gbc.sp());
        EXPECT(0x939f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x939d));
        EXPECT(0x82, gbc.readMem(0x939e));
        // CB 82 0151
        gbc.setState(0x7a1a, 0x7c6f, 0x1c00, 0xd861, 0xd2ed, 0x8593, 0x0, 0x1);
        gbc.writeMem(0x7a1a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x7c6f, gbc.sp());
        EXPECT(0x7a1c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0152
        gbc.setState(0x945b, 0x4d0a, 0xce50, 0x4a0, 0xfb2a, 0xcfc6, 0x1, 0x1);
        gbc.writeMem(0x945b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x4d0a, gbc.sp());
        EXPECT(0x945d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x945b));
        EXPECT(0x82, gbc.readMem(0x945c));
        // CB 82 0153
        gbc.setState(0x93c, 0x1ad9, 0xbff0, 0xb083, 0xfc9c, 0xfb00, 0x0, 0x0);
        gbc.writeMem(0x93c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x1ad9, gbc.sp());
        EXPECT(0x93e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0154
        gbc.setState(0x6419, 0x9956, 0x9bc0, 0xff15, 0x15ee, 0xaeb2, 0x0, 0x0);
        gbc.writeMem(0x6419, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x9956, gbc.sp());
        EXPECT(0x641b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0155
        gbc.setState(0xedfc, 0xdf9e, 0x130, 0x8d95, 0x1c79, 0xf3fd, 0x1, 0x1);
        gbc.writeMem(0xedfc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xdf9e, gbc.sp());
        EXPECT(0xedfe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xedfc));
        EXPECT(0x82, gbc.readMem(0xedfd));
        // CB 82 0156
        gbc.setState(0x51a9, 0x4eb3, 0x4c40, 0xed98, 0xffa, 0x8d75, 0x0, 0x0);
        gbc.writeMem(0x51a9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x4eb3, gbc.sp());
        EXPECT(0x51ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0157
        gbc.setState(0xc9e9, 0xd905, 0xa3c0, 0x5fb7, 0x6821, 0x4f63, 0x1, 0x0);
        gbc.writeMem(0xc9e9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xd905, gbc.sp());
        EXPECT(0xc9eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc9e9));
        EXPECT(0x82, gbc.readMem(0xc9ea));
        // CB 82 0158
        gbc.setState(0xe366, 0xc344, 0x4e00, 0x8c71, 0x648d, 0x8b3e, 0x1, 0x1);
        gbc.writeMem(0xe366, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xc344, gbc.sp());
        EXPECT(0xe368, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe366));
        EXPECT(0x82, gbc.readMem(0xe367));
        // CB 82 015A
        gbc.setState(0x6742, 0xf574, 0x64d0, 0xa777, 0xc54d, 0x5b8e, 0x0, 0x0);
        gbc.writeMem(0x6742, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xf574, gbc.sp());
        EXPECT(0x6744, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 015B
        gbc.setState(0x9209, 0xbbc1, 0x9f90, 0x40ac, 0x564d, 0x403e, 0x0, 0x0);
        gbc.writeMem(0x9209, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xbbc1, gbc.sp());
        EXPECT(0x920b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9209));
        EXPECT(0x82, gbc.readMem(0x920a));
        // CB 82 015C
        gbc.setState(0x9c24, 0x13e7, 0xef10, 0x274d, 0xb735, 0xe176, 0x1, 0x0);
        gbc.writeMem(0x9c24, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x13e7, gbc.sp());
        EXPECT(0x9c26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c24));
        EXPECT(0x82, gbc.readMem(0x9c25));
        // CB 82 015D
        gbc.setState(0x2b43, 0xbd8e, 0xdae0, 0x7843, 0xfe8c, 0x7cf3, 0x1, 0x0);
        gbc.writeMem(0x2b43, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xbd8e, gbc.sp());
        EXPECT(0x2b45, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 015E
        gbc.setState(0x9b5f, 0x2be2, 0xb5e0, 0xe182, 0x92dd, 0x23f0, 0x1, 0x1);
        gbc.writeMem(0x9b5f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x2be2, gbc.sp());
        EXPECT(0x9b61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b5f));
        EXPECT(0x82, gbc.readMem(0x9b60));
        // CB 82 015F
        gbc.setState(0x8d54, 0xc8b3, 0xe140, 0xa616, 0x5cdb, 0xa7cf, 0x1, 0x1);
        gbc.writeMem(0x8d54, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xc8b3, gbc.sp());
        EXPECT(0x8d56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d54));
        EXPECT(0x82, gbc.readMem(0x8d55));
        // CB 82 0160
        gbc.setState(0x4a75, 0xfc54, 0xf5f0, 0xdff3, 0x9c56, 0xa77e, 0x0, 0x1);
        gbc.writeMem(0x4a75, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xfc54, gbc.sp());
        EXPECT(0x4a77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0161
        gbc.setState(0x981a, 0x5fa0, 0xc810, 0x3a7d, 0x4c8f, 0x812d, 0x0, 0x1);
        gbc.writeMem(0x981a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x5fa0, gbc.sp());
        EXPECT(0x981c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x981a));
        EXPECT(0x82, gbc.readMem(0x981b));
        // CB 82 0162
        gbc.setState(0x635b, 0x925, 0x68d0, 0x3fda, 0x3e71, 0xf304, 0x0, 0x0);
        gbc.writeMem(0x635b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x925, gbc.sp());
        EXPECT(0x635d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0163
        gbc.setState(0x922b, 0x5aa6, 0x5630, 0x8906, 0x3cac, 0x4657, 0x0, 0x0);
        gbc.writeMem(0x922b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x5aa6, gbc.sp());
        EXPECT(0x922d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x922b));
        EXPECT(0x82, gbc.readMem(0x922c));
        // CB 82 0164
        gbc.setState(0x450, 0xd6d3, 0xe780, 0xe923, 0x774, 0x33f1, 0x1, 0x0);
        gbc.writeMem(0x450, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xd6d3, gbc.sp());
        EXPECT(0x452, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0165
        gbc.setState(0x20d4, 0x6c01, 0x98a0, 0x3050, 0x78de, 0x3735, 0x1, 0x1);
        gbc.writeMem(0x20d4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x6c01, gbc.sp());
        EXPECT(0x20d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0166
        gbc.setState(0xbfd8, 0xc89a, 0xa0f0, 0x8f5d, 0x30a2, 0x25b7, 0x1, 0x0);
        gbc.writeMem(0xbfd8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xc89a, gbc.sp());
        EXPECT(0xbfda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfd8));
        EXPECT(0x82, gbc.readMem(0xbfd9));
        // CB 82 0167
        gbc.setState(0x13bf, 0x8582, 0x1da0, 0x3843, 0xef90, 0x4a0d, 0x0, 0x0);
        gbc.writeMem(0x13bf, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x8582, gbc.sp());
        EXPECT(0x13c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0168
        gbc.setState(0x971e, 0x1bd2, 0xaa0, 0xaefb, 0xde94, 0x2d32, 0x1, 0x1);
        gbc.writeMem(0x971e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x1bd2, gbc.sp());
        EXPECT(0x9720, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x971e));
        EXPECT(0x82, gbc.readMem(0x971f));
        // CB 82 0169
        gbc.setState(0x86ce, 0x8a52, 0x1960, 0x7080, 0x7382, 0x396d, 0x0, 0x0);
        gbc.writeMem(0x86ce, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x8a52, gbc.sp());
        EXPECT(0x86d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x86ce));
        EXPECT(0x82, gbc.readMem(0x86cf));
        // CB 82 016A
        gbc.setState(0x1676, 0x7bff, 0x10a0, 0x71fc, 0x5393, 0x660a, 0x0, 0x0);
        gbc.writeMem(0x1676, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x7bff, gbc.sp());
        EXPECT(0x1678, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 016B
        gbc.setState(0x56af, 0xd648, 0x92e0, 0xf3ac, 0xf37d, 0x239c, 0x0, 0x0);
        gbc.writeMem(0x56af, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xd648, gbc.sp());
        EXPECT(0x56b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 016C
        gbc.setState(0xd34c, 0xc5e4, 0x3c60, 0xa0e2, 0xb439, 0x241b, 0x1, 0x1);
        gbc.writeMem(0xd34c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xc5e4, gbc.sp());
        EXPECT(0xd34e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd34c));
        EXPECT(0x82, gbc.readMem(0xd34d));
        // CB 82 016D
        gbc.setState(0x2c20, 0xdb45, 0xfdf0, 0x3732, 0x7cd1, 0x77bb, 0x0, 0x1);
        gbc.writeMem(0x2c20, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xdb45, gbc.sp());
        EXPECT(0x2c22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 016E
        gbc.setState(0x984a, 0x32cf, 0xfc70, 0x4f9, 0x7d0e, 0xa72f, 0x0, 0x0);
        gbc.writeMem(0x984a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x32cf, gbc.sp());
        EXPECT(0x984c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x984a));
        EXPECT(0x82, gbc.readMem(0x984b));
        // CB 82 016F
        gbc.setState(0xac6e, 0xd011, 0x1e50, 0x26ae, 0xc3df, 0x3a05, 0x0, 0x1);
        gbc.writeMem(0xac6e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xd011, gbc.sp());
        EXPECT(0xac70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac6e));
        EXPECT(0x82, gbc.readMem(0xac6f));
        // CB 82 0170
        gbc.setState(0xe1cd, 0xe3c4, 0x9970, 0xe4a2, 0x64c1, 0x37d8, 0x0, 0x1);
        gbc.writeMem(0xe1cd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xe3c4, gbc.sp());
        EXPECT(0xe1cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1cd));
        EXPECT(0x82, gbc.readMem(0xe1ce));
        // CB 82 0171
        gbc.setState(0x73a7, 0x148f, 0x18d0, 0x653, 0xa9b7, 0x5ae6, 0x0, 0x0);
        gbc.writeMem(0x73a7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x148f, gbc.sp());
        EXPECT(0x73a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0172
        gbc.setState(0x8230, 0x796a, 0xda00, 0x76a0, 0x28fd, 0xcb35, 0x1, 0x0);
        gbc.writeMem(0x8230, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x796a, gbc.sp());
        EXPECT(0x8232, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8230));
        EXPECT(0x82, gbc.readMem(0x8231));
        // CB 82 0173
        gbc.setState(0x1034, 0x50ae, 0x27a0, 0xe5a, 0xe209, 0x5dad, 0x1, 0x0);
        gbc.writeMem(0x1034, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x50ae, gbc.sp());
        EXPECT(0x1036, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0174
        gbc.setState(0x325a, 0xa061, 0x2250, 0xd12, 0xe6c6, 0x8921, 0x1, 0x0);
        gbc.writeMem(0x325a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xa061, gbc.sp());
        EXPECT(0x325c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0175
        gbc.setState(0x8dc2, 0x820d, 0xeaf0, 0xa1c1, 0x468f, 0xc240, 0x0, 0x1);
        gbc.writeMem(0x8dc2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x820d, gbc.sp());
        EXPECT(0x8dc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8dc2));
        EXPECT(0x82, gbc.readMem(0x8dc3));
        // CB 82 0176
        gbc.setState(0x70bf, 0xd532, 0x81b0, 0x69a6, 0x5ecb, 0xe67f, 0x1, 0x1);
        gbc.writeMem(0x70bf, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xd532, gbc.sp());
        EXPECT(0x70c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0177
        gbc.setState(0xadb6, 0xd698, 0x3820, 0x40e9, 0x8f7a, 0x1b3a, 0x1, 0x0);
        gbc.writeMem(0xadb6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xd698, gbc.sp());
        EXPECT(0xadb8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xadb6));
        EXPECT(0x82, gbc.readMem(0xadb7));
        // CB 82 0178
        gbc.setState(0x69ef, 0xc471, 0xe6e0, 0xd268, 0x4343, 0xea08, 0x0, 0x0);
        gbc.writeMem(0x69ef, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xc471, gbc.sp());
        EXPECT(0x69f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0179
        gbc.setState(0x8f03, 0x4d07, 0x7af0, 0xd9df, 0x1d85, 0x331b, 0x0, 0x1);
        gbc.writeMem(0x8f03, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x4d07, gbc.sp());
        EXPECT(0x8f05, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f03));
        EXPECT(0x82, gbc.readMem(0x8f04));
        // CB 82 017A
        gbc.setState(0x128a, 0xc9cd, 0x9e10, 0x31c3, 0xd79e, 0xc96c, 0x0, 0x1);
        gbc.writeMem(0x128a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xc9cd, gbc.sp());
        EXPECT(0x128c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 017B
        gbc.setState(0x11f6, 0xc62e, 0xcf50, 0x25c5, 0x83e8, 0xb4d6, 0x1, 0x0);
        gbc.writeMem(0x11f6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xc62e, gbc.sp());
        EXPECT(0x11f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 017C
        gbc.setState(0xa52d, 0xf8e7, 0x5d20, 0x49b4, 0x3fb3, 0x46f8, 0x1, 0x0);
        gbc.writeMem(0xa52d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xf8e7, gbc.sp());
        EXPECT(0xa52f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa52d));
        EXPECT(0x82, gbc.readMem(0xa52e));
        // CB 82 017D
        gbc.setState(0xb6d3, 0x56e0, 0x2b40, 0x912a, 0xf1a5, 0xb284, 0x0, 0x0);
        gbc.writeMem(0xb6d3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x56e0, gbc.sp());
        EXPECT(0xb6d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb6d3));
        EXPECT(0x82, gbc.readMem(0xb6d4));
        // CB 82 017E
        gbc.setState(0xb217, 0xced6, 0x5cd0, 0x9257, 0xb56c, 0x2a1f, 0x1, 0x0);
        gbc.writeMem(0xb217, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xced6, gbc.sp());
        EXPECT(0xb219, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb217));
        EXPECT(0x82, gbc.readMem(0xb218));
        // CB 82 017F
        gbc.setState(0x3e72, 0x61fe, 0x87b0, 0x887b, 0x82c2, 0xfa1d, 0x1, 0x1);
        gbc.writeMem(0x3e72, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x61fe, gbc.sp());
        EXPECT(0x3e74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0180
        gbc.setState(0x887c, 0xaa3, 0x2c0, 0x56b1, 0xe2fb, 0xd413, 0x0, 0x1);
        gbc.writeMem(0x887c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xaa3, gbc.sp());
        EXPECT(0x887e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x887c));
        EXPECT(0x82, gbc.readMem(0x887d));
        // CB 82 0181
        gbc.setState(0xd524, 0xe0e2, 0x7350, 0xb444, 0x76ae, 0x76dd, 0x0, 0x0);
        gbc.writeMem(0xd524, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xe0e2, gbc.sp());
        EXPECT(0xd526, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd524));
        EXPECT(0x82, gbc.readMem(0xd525));
        // CB 82 0182
        gbc.setState(0x70c4, 0xb253, 0x55a0, 0x47ea, 0x8feb, 0x247a, 0x0, 0x0);
        gbc.writeMem(0x70c4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xb253, gbc.sp());
        EXPECT(0x70c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0183
        gbc.setState(0x4c9c, 0xbba4, 0x49d0, 0x6a37, 0xa136, 0xca0, 0x1, 0x1);
        gbc.writeMem(0x4c9c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xbba4, gbc.sp());
        EXPECT(0x4c9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0184
        gbc.setState(0x9ad, 0x2e5, 0x520, 0x2e83, 0x836d, 0x4dd0, 0x1, 0x1);
        gbc.writeMem(0x9ad, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x2e5, gbc.sp());
        EXPECT(0x9af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0185
        gbc.setState(0x1498, 0x60ab, 0x13f0, 0x204c, 0x926b, 0xa4da, 0x1, 0x0);
        gbc.writeMem(0x1498, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x60ab, gbc.sp());
        EXPECT(0x149a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0186
        gbc.setState(0x711a, 0xb3b0, 0xf650, 0x3f6a, 0xc5bd, 0xdae2, 0x0, 0x0);
        gbc.writeMem(0x711a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xb3b0, gbc.sp());
        EXPECT(0x711c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0187
        gbc.setState(0xe919, 0x3234, 0x61a0, 0x9a4f, 0x3a21, 0x8389, 0x1, 0x1);
        gbc.writeMem(0xe919, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x3234, gbc.sp());
        EXPECT(0xe91b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe919));
        EXPECT(0x82, gbc.readMem(0xe91a));
        // CB 82 0188
        gbc.setState(0x212, 0x559d, 0xd9a0, 0xadf2, 0xf607, 0xf95d, 0x0, 0x1);
        gbc.writeMem(0x212, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x559d, gbc.sp());
        EXPECT(0x214, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0189
        gbc.setState(0xdc4e, 0x1c59, 0xc870, 0x7ca3, 0x3b23, 0xa6a4, 0x1, 0x1);
        gbc.writeMem(0xdc4e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x1c59, gbc.sp());
        EXPECT(0xdc50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc4e));
        EXPECT(0x82, gbc.readMem(0xdc4f));
        // CB 82 018A
        gbc.setState(0xbcb5, 0xc3ef, 0xefc0, 0xc4a2, 0x2e78, 0x707b, 0x0, 0x0);
        gbc.writeMem(0xbcb5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xc3ef, gbc.sp());
        EXPECT(0xbcb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbcb5));
        EXPECT(0x82, gbc.readMem(0xbcb6));
        // CB 82 018B
        gbc.setState(0x355a, 0x2a50, 0xfde0, 0xc1cc, 0xca13, 0x4121, 0x1, 0x0);
        gbc.writeMem(0x355a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x2a50, gbc.sp());
        EXPECT(0x355c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 018C
        gbc.setState(0x82a6, 0xb60, 0xcac0, 0x9f2, 0x9597, 0x267d, 0x1, 0x0);
        gbc.writeMem(0x82a6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xb60, gbc.sp());
        EXPECT(0x82a8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x82a6));
        EXPECT(0x82, gbc.readMem(0x82a7));
        // CB 82 018E
        gbc.setState(0x1137, 0xc349, 0xc8f0, 0xc879, 0xaeb8, 0xab3d, 0x1, 0x1);
        gbc.writeMem(0x1137, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xc349, gbc.sp());
        EXPECT(0x1139, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 018F
        gbc.setState(0x5019, 0x840c, 0x2720, 0xec3e, 0x63a7, 0x1fa6, 0x1, 0x0);
        gbc.writeMem(0x5019, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x840c, gbc.sp());
        EXPECT(0x501b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0190
        gbc.setState(0x5eb9, 0x353d, 0xc2e0, 0x2512, 0xe633, 0xdced, 0x1, 0x1);
        gbc.writeMem(0x5eb9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x353d, gbc.sp());
        EXPECT(0x5ebb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0191
        gbc.setState(0xc8ea, 0x3f6a, 0x2b70, 0xed68, 0x2c8d, 0x8e1e, 0x1, 0x0);
        gbc.writeMem(0xc8ea, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x3f6a, gbc.sp());
        EXPECT(0xc8ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8ea));
        EXPECT(0x82, gbc.readMem(0xc8eb));
        // CB 82 0192
        gbc.setState(0xb3bf, 0xb7b9, 0x5d20, 0x8219, 0x5444, 0xdf62, 0x1, 0x1);
        gbc.writeMem(0xb3bf, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xb7b9, gbc.sp());
        EXPECT(0xb3c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb3bf));
        EXPECT(0x82, gbc.readMem(0xb3c0));
        // CB 82 0193
        gbc.setState(0xc1ed, 0x71f9, 0x25f0, 0xa0f8, 0xcc7c, 0xc3b5, 0x0, 0x0);
        gbc.writeMem(0xc1ed, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x71f9, gbc.sp());
        EXPECT(0xc1ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1ed));
        EXPECT(0x82, gbc.readMem(0xc1ee));
        // CB 82 0194
        gbc.setState(0x249c, 0x2824, 0xa7d0, 0xc290, 0x4fe6, 0xfa98, 0x1, 0x0);
        gbc.writeMem(0x249c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x2824, gbc.sp());
        EXPECT(0x249e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0195
        gbc.setState(0xa36d, 0x760e, 0x9b60, 0xaa15, 0x5cfb, 0xd28c, 0x0, 0x0);
        gbc.writeMem(0xa36d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x760e, gbc.sp());
        EXPECT(0xa36f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa36d));
        EXPECT(0x82, gbc.readMem(0xa36e));
        // CB 82 0196
        gbc.setState(0xdcdd, 0x1a09, 0xff00, 0x227c, 0x8124, 0x1b88, 0x0, 0x0);
        gbc.writeMem(0xdcdd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x1a09, gbc.sp());
        EXPECT(0xdcdf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcdd));
        EXPECT(0x82, gbc.readMem(0xdcde));
        // CB 82 0197
        gbc.setState(0x4074, 0x7b4f, 0x9280, 0xdef7, 0x802e, 0xd014, 0x0, 0x1);
        gbc.writeMem(0x4074, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x7b4f, gbc.sp());
        EXPECT(0x4076, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0198
        gbc.setState(0x8b36, 0x3a46, 0xdaf0, 0x65a4, 0x3abe, 0xce33, 0x1, 0x0);
        gbc.writeMem(0x8b36, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x3a46, gbc.sp());
        EXPECT(0x8b38, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b36));
        EXPECT(0x82, gbc.readMem(0x8b37));
        // CB 82 0199
        gbc.setState(0x2d9e, 0xbe26, 0x16d0, 0x4f1a, 0x2bc4, 0xce72, 0x0, 0x0);
        gbc.writeMem(0x2d9e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xbe26, gbc.sp());
        EXPECT(0x2da0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 019A
        gbc.setState(0x7ca5, 0x344c, 0xffc0, 0xc165, 0x1707, 0xae49, 0x1, 0x1);
        gbc.writeMem(0x7ca5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x344c, gbc.sp());
        EXPECT(0x7ca7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 019C
        gbc.setState(0x83a9, 0x52fd, 0xf50, 0x756, 0xfa16, 0x13ef, 0x1, 0x0);
        gbc.writeMem(0x83a9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x52fd, gbc.sp());
        EXPECT(0x83ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x83a9));
        EXPECT(0x82, gbc.readMem(0x83aa));
        // CB 82 019D
        gbc.setState(0x83a3, 0xe3a5, 0xaff0, 0xf205, 0x35ea, 0x7096, 0x1, 0x0);
        gbc.writeMem(0x83a3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xe3a5, gbc.sp());
        EXPECT(0x83a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x83a3));
        EXPECT(0x82, gbc.readMem(0x83a4));
        // CB 82 019E
        gbc.setState(0x8f3d, 0x279, 0xe9f0, 0x4505, 0xf4f3, 0x4288, 0x1, 0x0);
        gbc.writeMem(0x8f3d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x279, gbc.sp());
        EXPECT(0x8f3f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f3d));
        EXPECT(0x82, gbc.readMem(0x8f3e));
        // CB 82 019F
        gbc.setState(0x3e7a, 0xe181, 0xe120, 0x2376, 0xc41b, 0x5d0, 0x1, 0x0);
        gbc.writeMem(0x3e7a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xe181, gbc.sp());
        EXPECT(0x3e7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01A0
        gbc.setState(0x11ec, 0xb533, 0x7670, 0xfe3, 0x80e6, 0x3cda, 0x1, 0x0);
        gbc.writeMem(0x11ec, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xb533, gbc.sp());
        EXPECT(0x11ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01A1
        gbc.setState(0xff2, 0x5d46, 0x9800, 0xf0e5, 0x6dcd, 0xf1da, 0x0, 0x0);
        gbc.writeMem(0xff2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x5d46, gbc.sp());
        EXPECT(0xff4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01A2
        gbc.setState(0x2abc, 0xea59, 0x59f0, 0x77f5, 0x9e26, 0x865f, 0x1, 0x1);
        gbc.writeMem(0x2abc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xea59, gbc.sp());
        EXPECT(0x2abe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01A3
        gbc.setState(0xde92, 0x7e6e, 0x1e80, 0xc969, 0x99f2, 0x571b, 0x0, 0x0);
        gbc.writeMem(0xde92, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x7e6e, gbc.sp());
        EXPECT(0xde94, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde92));
        EXPECT(0x82, gbc.readMem(0xde93));
        // CB 82 01A4
        gbc.setState(0x6b8c, 0xd032, 0x2320, 0x53ad, 0x11c1, 0x8a40, 0x0, 0x1);
        gbc.writeMem(0x6b8c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xd032, gbc.sp());
        EXPECT(0x6b8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01A5
        gbc.setState(0x9b, 0x91cc, 0xa8c0, 0xa672, 0xec95, 0x35a, 0x1, 0x1);
        gbc.writeMem(0x9b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x91cc, gbc.sp());
        EXPECT(0x9d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01A6
        gbc.setState(0x49a0, 0x9b89, 0xb5a0, 0x10f8, 0x51a2, 0x9b27, 0x1, 0x0);
        gbc.writeMem(0x49a0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x9b89, gbc.sp());
        EXPECT(0x49a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01A7
        gbc.setState(0x43af, 0x7482, 0x6080, 0xf048, 0x3b35, 0xc855, 0x1, 0x0);
        gbc.writeMem(0x43af, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x7482, gbc.sp());
        EXPECT(0x43b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01A8
        gbc.setState(0x8819, 0xe84a, 0x5690, 0x3ff8, 0x7038, 0x2a6c, 0x0, 0x1);
        gbc.writeMem(0x8819, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xe84a, gbc.sp());
        EXPECT(0x881b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8819));
        EXPECT(0x82, gbc.readMem(0x881a));
        // CB 82 01A9
        gbc.setState(0xdc1a, 0x102c, 0xb1e0, 0x97ac, 0xf7bc, 0x6a89, 0x0, 0x0);
        gbc.writeMem(0xdc1a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x102c, gbc.sp());
        EXPECT(0xdc1c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc1a));
        EXPECT(0x82, gbc.readMem(0xdc1b));
        // CB 82 01AA
        gbc.setState(0x18f6, 0x72f9, 0x6e50, 0x1c66, 0x9e09, 0xa63e, 0x0, 0x0);
        gbc.writeMem(0x18f6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x72f9, gbc.sp());
        EXPECT(0x18f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01AB
        gbc.setState(0x4c98, 0xc4b7, 0x4320, 0xdfb0, 0xa61b, 0xcfbb, 0x0, 0x0);
        gbc.writeMem(0x4c98, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xc4b7, gbc.sp());
        EXPECT(0x4c9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01AC
        gbc.setState(0x96e6, 0x986d, 0x31d0, 0x6f4e, 0x950d, 0x873d, 0x1, 0x0);
        gbc.writeMem(0x96e6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x986d, gbc.sp());
        EXPECT(0x96e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96e6));
        EXPECT(0x82, gbc.readMem(0x96e7));
        // CB 82 01AD
        gbc.setState(0x2ab0, 0x6cd1, 0xe860, 0xbf28, 0x7ea6, 0x4ab5, 0x0, 0x1);
        gbc.writeMem(0x2ab0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x6cd1, gbc.sp());
        EXPECT(0x2ab2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01AE
        gbc.setState(0x1a7a, 0x9df3, 0xf130, 0xa67f, 0xcc10, 0x6fbe, 0x1, 0x0);
        gbc.writeMem(0x1a7a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x9df3, gbc.sp());
        EXPECT(0x1a7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01AF
        gbc.setState(0x1ed7, 0x3d42, 0xcab0, 0xcda4, 0x533d, 0xc0fb, 0x1, 0x1);
        gbc.writeMem(0x1ed7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x3d42, gbc.sp());
        EXPECT(0x1ed9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01B0
        gbc.setState(0xd9, 0x3d8b, 0x7b70, 0x6ea7, 0xb3fd, 0xa759, 0x1, 0x1);
        gbc.writeMem(0xd9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x3d8b, gbc.sp());
        EXPECT(0xdb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01B1
        gbc.setState(0xb682, 0x30cf, 0x5d60, 0x295f, 0x477c, 0x172d, 0x1, 0x1);
        gbc.writeMem(0xb682, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x30cf, gbc.sp());
        EXPECT(0xb684, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb682));
        EXPECT(0x82, gbc.readMem(0xb683));
        // CB 82 01B2
        gbc.setState(0xb6dd, 0x9e1, 0xa1a0, 0x1d64, 0x7fdd, 0x4998, 0x1, 0x0);
        gbc.writeMem(0xb6dd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x9e1, gbc.sp());
        EXPECT(0xb6df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb6dd));
        EXPECT(0x82, gbc.readMem(0xb6de));
        // CB 82 01B3
        gbc.setState(0xec2b, 0x6ed1, 0x36a0, 0x2c1e, 0xad04, 0x1862, 0x1, 0x1);
        gbc.writeMem(0xec2b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x6ed1, gbc.sp());
        EXPECT(0xec2d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec2b));
        EXPECT(0x82, gbc.readMem(0xec2c));
        // CB 82 01B4
        gbc.setState(0xeeec, 0x1b2, 0x4ed0, 0x292c, 0x73f3, 0xeea3, 0x1, 0x0);
        gbc.writeMem(0xeeec, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x1b2, gbc.sp());
        EXPECT(0xeeee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeeec));
        EXPECT(0x82, gbc.readMem(0xeeed));
        // CB 82 01B5
        gbc.setState(0xca0a, 0x5ede, 0x70a0, 0x72b2, 0x681, 0x8a85, 0x1, 0x1);
        gbc.writeMem(0xca0a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x5ede, gbc.sp());
        EXPECT(0xca0c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca0a));
        EXPECT(0x82, gbc.readMem(0xca0b));
        // CB 82 01B6
        gbc.setState(0x495a, 0x599, 0xadf0, 0xbd23, 0x2ec1, 0x59a9, 0x0, 0x0);
        gbc.writeMem(0x495a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x599, gbc.sp());
        EXPECT(0x495c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01B7
        gbc.setState(0x7879, 0x245f, 0xfb50, 0xcefc, 0x126d, 0xb65e, 0x1, 0x1);
        gbc.writeMem(0x7879, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x245f, gbc.sp());
        EXPECT(0x787b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01B8
        gbc.setState(0x2907, 0xe311, 0x4440, 0x19fc, 0x859b, 0x18f1, 0x0, 0x0);
        gbc.writeMem(0x2907, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xe311, gbc.sp());
        EXPECT(0x2909, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01B9
        gbc.setState(0x2d5d, 0x5d8, 0x77f0, 0xea56, 0xd223, 0x17ec, 0x1, 0x0);
        gbc.writeMem(0x2d5d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x5d8, gbc.sp());
        EXPECT(0x2d5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01BA
        gbc.setState(0x8868, 0xddd5, 0x54b0, 0xc156, 0x36ee, 0x7d12, 0x0, 0x0);
        gbc.writeMem(0x8868, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0xddd5, gbc.sp());
        EXPECT(0x886a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8868));
        EXPECT(0x82, gbc.readMem(0x8869));
        // CB 82 01BB
        gbc.setState(0xe93c, 0x833b, 0x7b10, 0x37f8, 0xc9f6, 0xd348, 0x0, 0x0);
        gbc.writeMem(0xe93c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x833b, gbc.sp());
        EXPECT(0xe93e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe93c));
        EXPECT(0x82, gbc.readMem(0xe93d));
        // CB 82 01BC
        gbc.setState(0xddf3, 0x6e78, 0xb050, 0xae6f, 0x5eb9, 0x47b1, 0x0, 0x1);
        gbc.writeMem(0xddf3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x6e78, gbc.sp());
        EXPECT(0xddf5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xddf3));
        EXPECT(0x82, gbc.readMem(0xddf4));
        // CB 82 01BD
        gbc.setState(0xaf7, 0xa9ba, 0xc010, 0xdbda, 0xbb6c, 0xd759, 0x0, 0x1);
        gbc.writeMem(0xaf7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xa9ba, gbc.sp());
        EXPECT(0xaf9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01BE
        gbc.setState(0x9012, 0x9626, 0x4450, 0x6724, 0x41fc, 0x96df, 0x1, 0x0);
        gbc.writeMem(0x9012, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x9626, gbc.sp());
        EXPECT(0x9014, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9012));
        EXPECT(0x82, gbc.readMem(0x9013));
        // CB 82 01BF
        gbc.setState(0xd9e3, 0xcf51, 0x9ef0, 0x444d, 0x1c2e, 0x2389, 0x1, 0x1);
        gbc.writeMem(0xd9e3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xcf51, gbc.sp());
        EXPECT(0xd9e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9e3));
        EXPECT(0x82, gbc.readMem(0xd9e4));
        // CB 82 01C0
        gbc.setState(0x329e, 0x2cf7, 0x79d0, 0x6cc0, 0xb387, 0xc6d0, 0x0, 0x0);
        gbc.writeMem(0x329e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x2cf7, gbc.sp());
        EXPECT(0x32a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01C1
        gbc.setState(0x58de, 0x2b13, 0xdb20, 0x8275, 0xbb6f, 0x7f9c, 0x0, 0x1);
        gbc.writeMem(0x58de, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x2b13, gbc.sp());
        EXPECT(0x58e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01C2
        gbc.setState(0x53e3, 0x5298, 0x44d0, 0x1928, 0xf563, 0x2a7a, 0x0, 0x1);
        gbc.writeMem(0x53e3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x5298, gbc.sp());
        EXPECT(0x53e5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01C4
        gbc.setState(0x1086, 0x37eb, 0xfaa0, 0x612c, 0x61d, 0x3c44, 0x0, 0x1);
        gbc.writeMem(0x1086, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x37eb, gbc.sp());
        EXPECT(0x1088, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01C5
        gbc.setState(0xed42, 0x97c8, 0xda80, 0xb874, 0x7de, 0x4117, 0x1, 0x1);
        gbc.writeMem(0xed42, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x97c8, gbc.sp());
        EXPECT(0xed44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed42));
        EXPECT(0x82, gbc.readMem(0xed43));
        // CB 82 01C6
        gbc.setState(0x9d17, 0x782e, 0x1bc0, 0x3b9b, 0x4c8e, 0x791, 0x1, 0x0);
        gbc.writeMem(0x9d17, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x782e, gbc.sp());
        EXPECT(0x9d19, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d17));
        EXPECT(0x82, gbc.readMem(0x9d18));
        // CB 82 01C7
        gbc.setState(0xc0b8, 0xab98, 0x9ca0, 0x48c, 0xb2de, 0x4474, 0x0, 0x0);
        gbc.writeMem(0xc0b8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xab98, gbc.sp());
        EXPECT(0xc0ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0b8));
        EXPECT(0x82, gbc.readMem(0xc0b9));
        // CB 82 01C8
        gbc.setState(0x520, 0xe7ae, 0xc8f0, 0x71ee, 0x2f59, 0xe1d5, 0x1, 0x0);
        gbc.writeMem(0x520, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xe7ae, gbc.sp());
        EXPECT(0x522, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01C9
        gbc.setState(0xd694, 0x182f, 0xa820, 0x129f, 0x79ed, 0x4f6a, 0x0, 0x0);
        gbc.writeMem(0xd694, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x182f, gbc.sp());
        EXPECT(0xd696, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd694));
        EXPECT(0x82, gbc.readMem(0xd695));
        // CB 82 01CA
        gbc.setState(0x6042, 0xa2d7, 0xdbe0, 0x9c99, 0x601d, 0xff0, 0x1, 0x0);
        gbc.writeMem(0x6042, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xa2d7, gbc.sp());
        EXPECT(0x6044, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01CB
        gbc.setState(0x9009, 0x1ae7, 0x3b60, 0x5496, 0x2b8a, 0xd30, 0x1, 0x0);
        gbc.writeMem(0x9009, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x1ae7, gbc.sp());
        EXPECT(0x900b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9009));
        EXPECT(0x82, gbc.readMem(0x900a));
        // CB 82 01CC
        gbc.setState(0x5d49, 0x93b5, 0x4b00, 0x77f0, 0x7a25, 0xd576, 0x1, 0x1);
        gbc.writeMem(0x5d49, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x93b5, gbc.sp());
        EXPECT(0x5d4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01CD
        gbc.setState(0xeec0, 0x2eeb, 0x8a70, 0x3a74, 0xec4f, 0xd521, 0x0, 0x0);
        gbc.writeMem(0xeec0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x2eeb, gbc.sp());
        EXPECT(0xeec2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeec0));
        EXPECT(0x82, gbc.readMem(0xeec1));
        // CB 82 01CE
        gbc.setState(0xca04, 0xca34, 0x2380, 0xbe4, 0x965a, 0x68ad, 0x1, 0x0);
        gbc.writeMem(0xca04, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xca34, gbc.sp());
        EXPECT(0xca06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca04));
        EXPECT(0x82, gbc.readMem(0xca05));
        // CB 82 01CF
        gbc.setState(0x6d33, 0xaf51, 0x9d40, 0x172, 0xd87e, 0x8607, 0x0, 0x0);
        gbc.writeMem(0x6d33, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xaf51, gbc.sp());
        EXPECT(0x6d35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01D0
        gbc.setState(0x6e4f, 0xb71d, 0xad20, 0xd4a0, 0xe77c, 0x7be4, 0x1, 0x1);
        gbc.writeMem(0x6e4f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xb71d, gbc.sp());
        EXPECT(0x6e51, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01D1
        gbc.setState(0xeb2, 0x1e6b, 0x5ab0, 0x1986, 0x73b4, 0x7ac3, 0x1, 0x1);
        gbc.writeMem(0xeb2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x1e6b, gbc.sp());
        EXPECT(0xeb4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01D2
        gbc.setState(0x3e13, 0x63da, 0x6110, 0xb43e, 0x78a2, 0xeaaf, 0x0, 0x1);
        gbc.writeMem(0x3e13, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x63da, gbc.sp());
        EXPECT(0x3e15, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01D3
        gbc.setState(0x8448, 0xde77, 0xd4e0, 0x9a2a, 0x70ad, 0xb7ac, 0x0, 0x0);
        gbc.writeMem(0x8448, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xde77, gbc.sp());
        EXPECT(0x844a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8448));
        EXPECT(0x82, gbc.readMem(0x8449));
        // CB 82 01D4
        gbc.setState(0x8c5, 0xd7c9, 0x6400, 0x47b1, 0x3267, 0x8ab0, 0x1, 0x1);
        gbc.writeMem(0x8c5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xd7c9, gbc.sp());
        EXPECT(0x8c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01D5
        gbc.setState(0xae08, 0x54a2, 0x41a0, 0x5834, 0xb722, 0x2608, 0x0, 0x1);
        gbc.writeMem(0xae08, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x54a2, gbc.sp());
        EXPECT(0xae0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae08));
        EXPECT(0x82, gbc.readMem(0xae09));
        // CB 82 01D6
        gbc.setState(0xd83b, 0x4d2, 0xa0, 0x2ae8, 0x8980, 0xb72f, 0x1, 0x1);
        gbc.writeMem(0xd83b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x4d2, gbc.sp());
        EXPECT(0xd83d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd83b));
        EXPECT(0x82, gbc.readMem(0xd83c));
        // CB 82 01D7
        gbc.setState(0x5479, 0xe450, 0xc3a0, 0xe38f, 0xf000, 0x5957, 0x1, 0x1);
        gbc.writeMem(0x5479, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xe450, gbc.sp());
        EXPECT(0x547b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01D8
        gbc.setState(0x1117, 0x2a1b, 0x9250, 0xd7e5, 0x805c, 0x351a, 0x0, 0x1);
        gbc.writeMem(0x1117, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x2a1b, gbc.sp());
        EXPECT(0x1119, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01D9
        gbc.setState(0xa97e, 0x7e8c, 0xbc60, 0x8265, 0x86ae, 0xa1d9, 0x1, 0x1);
        gbc.writeMem(0xa97e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x7e8c, gbc.sp());
        EXPECT(0xa980, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa97e));
        EXPECT(0x82, gbc.readMem(0xa97f));
        // CB 82 01DA
        gbc.setState(0xb055, 0xe6a5, 0x6db0, 0x7b5c, 0xd067, 0x9122, 0x0, 0x1);
        gbc.writeMem(0xb055, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xe6a5, gbc.sp());
        EXPECT(0xb057, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb055));
        EXPECT(0x82, gbc.readMem(0xb056));
        // CB 82 01DB
        gbc.setState(0xa4bc, 0xdf59, 0x6700, 0xeef2, 0x306e, 0x6bce, 0x0, 0x0);
        gbc.writeMem(0xa4bc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xdf59, gbc.sp());
        EXPECT(0xa4be, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4bc));
        EXPECT(0x82, gbc.readMem(0xa4bd));
        // CB 82 01DC
        gbc.setState(0x6a9f, 0xbb61, 0x2dd0, 0x1f87, 0x45d7, 0x1a8f, 0x1, 0x0);
        gbc.writeMem(0x6a9f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xbb61, gbc.sp());
        EXPECT(0x6aa1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01DD
        gbc.setState(0x2b69, 0x1ac6, 0x7f0, 0xa96a, 0x8ea0, 0x11c0, 0x0, 0x1);
        gbc.writeMem(0x2b69, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x1ac6, gbc.sp());
        EXPECT(0x2b6b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01DE
        gbc.setState(0xa609, 0xd0a, 0xd3a0, 0x357f, 0xfcd0, 0x9fd7, 0x1, 0x0);
        gbc.writeMem(0xa609, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xd0a, gbc.sp());
        EXPECT(0xa60b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa609));
        EXPECT(0x82, gbc.readMem(0xa60a));
        // CB 82 01DF
        gbc.setState(0x373a, 0xab3d, 0x7cf0, 0x1d27, 0x46ef, 0xa71f, 0x0, 0x0);
        gbc.writeMem(0x373a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0xab3d, gbc.sp());
        EXPECT(0x373c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01E0
        gbc.setState(0x8670, 0x3fa, 0xb930, 0xfa23, 0x27d4, 0x42a1, 0x1, 0x1);
        gbc.writeMem(0x8670, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x3fa, gbc.sp());
        EXPECT(0x8672, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8670));
        EXPECT(0x82, gbc.readMem(0x8671));
        // CB 82 01E1
        gbc.setState(0x16bf, 0xab1f, 0xbb00, 0xb8dd, 0x1a97, 0x26df, 0x1, 0x0);
        gbc.writeMem(0x16bf, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xab1f, gbc.sp());
        EXPECT(0x16c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01E2
        gbc.setState(0x681f, 0x825a, 0x37e0, 0x6180, 0xa645, 0xf1f7, 0x1, 0x0);
        gbc.writeMem(0x681f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x825a, gbc.sp());
        EXPECT(0x6821, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01E3
        gbc.setState(0x745b, 0x9427, 0x5680, 0xa2f2, 0x335d, 0x907c, 0x1, 0x0);
        gbc.writeMem(0x745b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x9427, gbc.sp());
        EXPECT(0x745d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01E4
        gbc.setState(0x6c85, 0xa75, 0xd5a0, 0x9dfb, 0xe784, 0xc773, 0x1, 0x1);
        gbc.writeMem(0x6c85, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xa75, gbc.sp());
        EXPECT(0x6c87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01E5
        gbc.setState(0x46de, 0xb792, 0x65a0, 0x1a33, 0x25bd, 0xeed, 0x1, 0x1);
        gbc.writeMem(0x46de, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xb792, gbc.sp());
        EXPECT(0x46e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01E6
        gbc.setState(0x9d6b, 0x5c24, 0xc090, 0x6c66, 0x5de6, 0xb3ba, 0x1, 0x1);
        gbc.writeMem(0x9d6b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x5c24, gbc.sp());
        EXPECT(0x9d6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d6b));
        EXPECT(0x82, gbc.readMem(0x9d6c));
        // CB 82 01E7
        gbc.setState(0xbb45, 0x2a47, 0xe460, 0x112, 0x87b0, 0xd7af, 0x0, 0x1);
        gbc.writeMem(0xbb45, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x2a47, gbc.sp());
        EXPECT(0xbb47, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb45));
        EXPECT(0x82, gbc.readMem(0xbb46));
        // CB 82 01E8
        gbc.setState(0x2ef2, 0x5d95, 0x5380, 0x53b9, 0x1e91, 0x6de, 0x1, 0x0);
        gbc.writeMem(0x2ef2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x5d95, gbc.sp());
        EXPECT(0x2ef4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01E9
        gbc.setState(0x840e, 0x552b, 0xb4b0, 0xaeb4, 0xee0d, 0xba8, 0x1, 0x1);
        gbc.writeMem(0x840e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x552b, gbc.sp());
        EXPECT(0x8410, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x840e));
        EXPECT(0x82, gbc.readMem(0x840f));
        // CB 82 01EA
        gbc.setState(0x49ba, 0xdeb5, 0xef90, 0x8bb8, 0x995a, 0x8f25, 0x0, 0x1);
        gbc.writeMem(0x49ba, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xdeb5, gbc.sp());
        EXPECT(0x49bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01EB
        gbc.setState(0x3695, 0xc700, 0xb20, 0x9cb8, 0xe8e5, 0x4b16, 0x0, 0x1);
        gbc.writeMem(0x3695, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xc700, gbc.sp());
        EXPECT(0x3697, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01EC
        gbc.setState(0x927d, 0x8815, 0x2790, 0x9c51, 0x2154, 0xd6c4, 0x0, 0x0);
        gbc.writeMem(0x927d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x8815, gbc.sp());
        EXPECT(0x927f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x927d));
        EXPECT(0x82, gbc.readMem(0x927e));
        // CB 82 01ED
        gbc.setState(0x19ed, 0xc29e, 0xce50, 0x8405, 0xbf7c, 0xe55c, 0x1, 0x1);
        gbc.writeMem(0x19ed, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xc29e, gbc.sp());
        EXPECT(0x19ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01EE
        gbc.setState(0x3907, 0x5d71, 0x90a0, 0x15f7, 0x60f0, 0xf22c, 0x0, 0x0);
        gbc.writeMem(0x3907, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x5d71, gbc.sp());
        EXPECT(0x3909, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01EF
        gbc.setState(0xa249, 0x7b, 0xad40, 0x3f76, 0x4f7c, 0x4709, 0x1, 0x0);
        gbc.writeMem(0xa249, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x7b, gbc.sp());
        EXPECT(0xa24b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa249));
        EXPECT(0x82, gbc.readMem(0xa24a));
        // CB 82 01F0
        gbc.setState(0xa287, 0xa9ca, 0xaf70, 0x3f2d, 0xdc9e, 0x4d84, 0x1, 0x1);
        gbc.writeMem(0xa287, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xa9ca, gbc.sp());
        EXPECT(0xa289, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa287));
        EXPECT(0x82, gbc.readMem(0xa288));
        // CB 82 01F1
        gbc.setState(0x59ec, 0xbbe1, 0x1c90, 0xfa53, 0xf52c, 0x8faf, 0x1, 0x1);
        gbc.writeMem(0x59ec, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xbbe1, gbc.sp());
        EXPECT(0x59ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01F2
        gbc.setState(0xd481, 0x3f9c, 0xa250, 0x1365, 0xd8d0, 0x6e47, 0x0, 0x1);
        gbc.writeMem(0xd481, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x3f9c, gbc.sp());
        EXPECT(0xd483, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd481));
        EXPECT(0x82, gbc.readMem(0xd482));
        // CB 82 01F3
        gbc.setState(0xcbf0, 0x641d, 0x8740, 0x1712, 0x884f, 0xf96, 0x0, 0x1);
        gbc.writeMem(0xcbf0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x641d, gbc.sp());
        EXPECT(0xcbf2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbf0));
        EXPECT(0x82, gbc.readMem(0xcbf1));
        // CB 82 01F4
        gbc.setState(0xe45d, 0x97fe, 0x55d0, 0xda69, 0xf052, 0xefa5, 0x0, 0x1);
        gbc.writeMem(0xe45d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x97fe, gbc.sp());
        EXPECT(0xe45f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe45d));
        EXPECT(0x82, gbc.readMem(0xe45e));
        // CB 82 01F5
        gbc.setState(0x6b57, 0xd5ec, 0x4950, 0xb0, 0x81ca, 0xaad9, 0x0, 0x0);
        gbc.writeMem(0x6b57, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xd5ec, gbc.sp());
        EXPECT(0x6b59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 01F6
        gbc.setState(0xa64d, 0xc1bd, 0x7510, 0x8059, 0xae56, 0xc064, 0x1, 0x1);
        gbc.writeMem(0xa64d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xc1bd, gbc.sp());
        EXPECT(0xa64f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa64d));
        EXPECT(0x82, gbc.readMem(0xa64e));
        // CB 82 01F7
        gbc.setState(0xb619, 0xc10b, 0x8f70, 0xcf88, 0xfda6, 0x11da, 0x0, 0x0);
        gbc.writeMem(0xb619, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xc10b, gbc.sp());
        EXPECT(0xb61b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb619));
        EXPECT(0x82, gbc.readMem(0xb61a));
        // CB 82 01F8
        gbc.setState(0xa0b2, 0x6d61, 0xaa20, 0xd61b, 0xca05, 0x6c5c, 0x0, 0x1);
        gbc.writeMem(0xa0b2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x6d61, gbc.sp());
        EXPECT(0xa0b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0b2));
        EXPECT(0x82, gbc.readMem(0xa0b3));
        // CB 82 01F9
        gbc.setState(0x1fd4, 0x9873, 0x5b40, 0xffdc, 0x9342, 0x4434, 0x0, 0x1);
        gbc.writeMem(0x1fd4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0x9873, gbc.sp());
        EXPECT(0x1fd6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01FA
        gbc.setState(0x31e7, 0xc5e6, 0x8b20, 0x2319, 0xd4d2, 0xebe, 0x0, 0x0);
        gbc.writeMem(0x31e7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xc5e6, gbc.sp());
        EXPECT(0x31e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01FB
        gbc.setState(0x801d, 0x8ff6, 0x84f0, 0x857b, 0xcbf1, 0xee8c, 0x1, 0x1);
        gbc.writeMem(0x801d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x8ff6, gbc.sp());
        EXPECT(0x801f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x801d));
        EXPECT(0x82, gbc.readMem(0x801e));
        // CB 82 01FC
        gbc.setState(0x1541, 0x677a, 0x28c0, 0x1140, 0xffba, 0x9714, 0x0, 0x0);
        gbc.writeMem(0x1541, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x677a, gbc.sp());
        EXPECT(0x1543, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01FD
        gbc.setState(0x25e3, 0x28f3, 0xac0, 0xb32e, 0x2d0a, 0xddb7, 0x1, 0x1);
        gbc.writeMem(0x25e3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x28f3, gbc.sp());
        EXPECT(0x25e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 01FF
        gbc.setState(0xb435, 0xc636, 0x1780, 0x6583, 0x8a01, 0xc2d4, 0x0, 0x1);
        gbc.writeMem(0xb435, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xc636, gbc.sp());
        EXPECT(0xb437, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb435));
        EXPECT(0x82, gbc.readMem(0xb436));
        // CB 82 0200
        gbc.setState(0x8522, 0xa10b, 0x9370, 0x72bf, 0xc854, 0x107, 0x1, 0x1);
        gbc.writeMem(0x8522, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xa10b, gbc.sp());
        EXPECT(0x8524, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8522));
        EXPECT(0x82, gbc.readMem(0x8523));
        // CB 82 0201
        gbc.setState(0x3844, 0x89ef, 0x8fd0, 0xa411, 0xd448, 0xd23d, 0x1, 0x1);
        gbc.writeMem(0x3844, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x89ef, gbc.sp());
        EXPECT(0x3846, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0202
        gbc.setState(0xeefc, 0x527b, 0x5830, 0xc16, 0x45ac, 0xa235, 0x0, 0x0);
        gbc.writeMem(0xeefc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x527b, gbc.sp());
        EXPECT(0xeefe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeefc));
        EXPECT(0x82, gbc.readMem(0xeefd));
        // CB 82 0203
        gbc.setState(0xc10b, 0x9949, 0x1d40, 0x73be, 0xe9f2, 0x5d24, 0x1, 0x1);
        gbc.writeMem(0xc10b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x9949, gbc.sp());
        EXPECT(0xc10d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc10b));
        EXPECT(0x82, gbc.readMem(0xc10c));
        // CB 82 0204
        gbc.setState(0x6350, 0x51b4, 0xcbd0, 0x8967, 0xabe6, 0xacef, 0x0, 0x1);
        gbc.writeMem(0x6350, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x51b4, gbc.sp());
        EXPECT(0x6352, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0205
        gbc.setState(0x7019, 0xecbf, 0x9cc0, 0x77f8, 0x888e, 0x2128, 0x1, 0x0);
        gbc.writeMem(0x7019, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xecbf, gbc.sp());
        EXPECT(0x701b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0206
        gbc.setState(0x3db, 0xf316, 0x6910, 0x9c16, 0x2492, 0xa33f, 0x1, 0x0);
        gbc.writeMem(0x3db, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xf316, gbc.sp());
        EXPECT(0x3dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0207
        gbc.setState(0xb452, 0x8beb, 0xa5d0, 0x984d, 0x9163, 0x4739, 0x1, 0x0);
        gbc.writeMem(0xb452, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x8beb, gbc.sp());
        EXPECT(0xb454, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb452));
        EXPECT(0x82, gbc.readMem(0xb453));
        // CB 82 0208
        gbc.setState(0xeb60, 0x9ee1, 0xe3c0, 0x7d46, 0x5537, 0x720d, 0x1, 0x1);
        gbc.writeMem(0xeb60, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x9ee1, gbc.sp());
        EXPECT(0xeb62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb60));
        EXPECT(0x82, gbc.readMem(0xeb61));
        // CB 82 020A
        gbc.setState(0x5076, 0x84ea, 0xe330, 0xc9f4, 0x568c, 0x8b73, 0x0, 0x0);
        gbc.writeMem(0x5076, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x84ea, gbc.sp());
        EXPECT(0x5078, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 020B
        gbc.setState(0xb56c, 0xd7c0, 0x4350, 0x8deb, 0x361d, 0xae23, 0x1, 0x0);
        gbc.writeMem(0xb56c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xd7c0, gbc.sp());
        EXPECT(0xb56e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb56c));
        EXPECT(0x82, gbc.readMem(0xb56d));
        // CB 82 020C
        gbc.setState(0x53c5, 0x4224, 0xd30, 0x59d4, 0x4759, 0x2a8f, 0x1, 0x0);
        gbc.writeMem(0x53c5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x4224, gbc.sp());
        EXPECT(0x53c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 020D
        gbc.setState(0x5912, 0xa875, 0x1ad0, 0xab8d, 0xb1c0, 0x9472, 0x0, 0x0);
        gbc.writeMem(0x5912, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xa875, gbc.sp());
        EXPECT(0x5914, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 020E
        gbc.setState(0xbb21, 0xb365, 0x8d70, 0x5e9f, 0x3e1, 0x5fd8, 0x1, 0x0);
        gbc.writeMem(0xbb21, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xb365, gbc.sp());
        EXPECT(0xbb23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb21));
        EXPECT(0x82, gbc.readMem(0xbb22));
        // CB 82 020F
        gbc.setState(0x7653, 0xe2b1, 0x6860, 0xe216, 0x3c, 0xfef0, 0x1, 0x0);
        gbc.writeMem(0x7653, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xe2b1, gbc.sp());
        EXPECT(0x7655, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0210
        gbc.setState(0xe33f, 0x2c99, 0x11b0, 0xd509, 0x57de, 0xc46a, 0x0, 0x1);
        gbc.writeMem(0xe33f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x2c99, gbc.sp());
        EXPECT(0xe341, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe33f));
        EXPECT(0x82, gbc.readMem(0xe340));
        // CB 82 0211
        gbc.setState(0x871b, 0x29d6, 0x8fa0, 0x321e, 0xf9a, 0x86b2, 0x1, 0x0);
        gbc.writeMem(0x871b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x29d6, gbc.sp());
        EXPECT(0x871d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x871b));
        EXPECT(0x82, gbc.readMem(0x871c));
        // CB 82 0212
        gbc.setState(0xd021, 0xcee7, 0x2660, 0xd4fe, 0x85b, 0xc6b8, 0x1, 0x1);
        gbc.writeMem(0xd021, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xcee7, gbc.sp());
        EXPECT(0xd023, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd021));
        EXPECT(0x82, gbc.readMem(0xd022));
        // CB 82 0213
        gbc.setState(0xe821, 0x82b6, 0x6200, 0xb826, 0x50e9, 0xd7fd, 0x1, 0x1);
        gbc.writeMem(0xe821, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x82b6, gbc.sp());
        EXPECT(0xe823, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe821));
        EXPECT(0x82, gbc.readMem(0xe822));
        // CB 82 0215
        gbc.setState(0xe794, 0xf0aa, 0x79c0, 0xc5a9, 0x6889, 0x5243, 0x1, 0x0);
        gbc.writeMem(0xe794, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xf0aa, gbc.sp());
        EXPECT(0xe796, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe794));
        EXPECT(0x82, gbc.readMem(0xe795));
        // CB 82 0216
        gbc.setState(0x6a8f, 0xb68c, 0x4350, 0x5287, 0x14a0, 0x7470, 0x0, 0x0);
        gbc.writeMem(0x6a8f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xb68c, gbc.sp());
        EXPECT(0x6a91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0217
        gbc.setState(0xd712, 0xaf95, 0xe5a0, 0xd738, 0x39eb, 0x9c8, 0x1, 0x0);
        gbc.writeMem(0xd712, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xaf95, gbc.sp());
        EXPECT(0xd714, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd712));
        EXPECT(0x82, gbc.readMem(0xd713));
        // CB 82 0218
        gbc.setState(0xe0ce, 0x26fd, 0x3370, 0x7226, 0x667, 0xf470, 0x0, 0x0);
        gbc.writeMem(0xe0ce, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x26fd, gbc.sp());
        EXPECT(0xe0d0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe0ce));
        EXPECT(0x82, gbc.readMem(0xe0cf));
        // CB 82 0219
        gbc.setState(0xa74c, 0xa63e, 0x8700, 0x80ac, 0xe67d, 0x9e46, 0x0, 0x1);
        gbc.writeMem(0xa74c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xa63e, gbc.sp());
        EXPECT(0xa74e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa74c));
        EXPECT(0x82, gbc.readMem(0xa74d));
        // CB 82 021A
        gbc.setState(0x3a77, 0xfed4, 0xed30, 0xa37d, 0x51ab, 0x50ac, 0x0, 0x1);
        gbc.writeMem(0x3a77, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xfed4, gbc.sp());
        EXPECT(0x3a79, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 021B
        gbc.setState(0x7652, 0xb85e, 0xd7b0, 0x28b3, 0xc2e, 0x51d3, 0x0, 0x0);
        gbc.writeMem(0x7652, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xb85e, gbc.sp());
        EXPECT(0x7654, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 021C
        gbc.setState(0xdeaa, 0x1bb, 0xe950, 0xff5c, 0xce00, 0x162f, 0x0, 0x0);
        gbc.writeMem(0xdeaa, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x1bb, gbc.sp());
        EXPECT(0xdeac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdeaa));
        EXPECT(0x82, gbc.readMem(0xdeab));
        // CB 82 021D
        gbc.setState(0x855b, 0xcb7, 0x1c0, 0x8547, 0x12cb, 0x6494, 0x0, 0x0);
        gbc.writeMem(0x855b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xcb7, gbc.sp());
        EXPECT(0x855d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x855b));
        EXPECT(0x82, gbc.readMem(0x855c));
        // CB 82 021E
        gbc.setState(0xa9be, 0xf7b3, 0xb400, 0xb4eb, 0xc47f, 0xe510, 0x0, 0x0);
        gbc.writeMem(0xa9be, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xf7b3, gbc.sp());
        EXPECT(0xa9c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa9be));
        EXPECT(0x82, gbc.readMem(0xa9bf));
        // CB 82 021F
        gbc.setState(0x552a, 0x27b7, 0xdbf0, 0xf1f1, 0xf0b8, 0x9bea, 0x0, 0x1);
        gbc.writeMem(0x552a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x27b7, gbc.sp());
        EXPECT(0x552c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0220
        gbc.setState(0x4bd9, 0x49d9, 0x42c0, 0xdc02, 0x33c5, 0x213e, 0x1, 0x0);
        gbc.writeMem(0x4bd9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x49d9, gbc.sp());
        EXPECT(0x4bdb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0221
        gbc.setState(0x1e71, 0x2598, 0x57e0, 0x1391, 0x51ba, 0x576b, 0x0, 0x0);
        gbc.writeMem(0x1e71, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x2598, gbc.sp());
        EXPECT(0x1e73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0222
        gbc.setState(0x7000, 0x6d0c, 0x4250, 0x53a3, 0x46c0, 0xbdd4, 0x1, 0x1);
        gbc.writeMem(0x7000, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x6d0c, gbc.sp());
        EXPECT(0x7002, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0223
        gbc.setState(0x9e57, 0xa3f9, 0xf5b0, 0xd373, 0xfa91, 0x32eb, 0x1, 0x1);
        gbc.writeMem(0x9e57, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xa3f9, gbc.sp());
        EXPECT(0x9e59, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e57));
        EXPECT(0x82, gbc.readMem(0x9e58));
        // CB 82 0224
        gbc.setState(0xdbf5, 0x3550, 0x28f0, 0x8e20, 0xab4b, 0x47f5, 0x0, 0x1);
        gbc.writeMem(0xdbf5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x3550, gbc.sp());
        EXPECT(0xdbf7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbf5));
        EXPECT(0x82, gbc.readMem(0xdbf6));
        // CB 82 0225
        gbc.setState(0xd938, 0xf909, 0xd9f0, 0xacd5, 0x7979, 0x2a9, 0x1, 0x0);
        gbc.writeMem(0xd938, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xf909, gbc.sp());
        EXPECT(0xd93a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd938));
        EXPECT(0x82, gbc.readMem(0xd939));
        // CB 82 0226
        gbc.setState(0x8b20, 0xa15c, 0x4b50, 0x3eaa, 0x9886, 0x2e5a, 0x0, 0x0);
        gbc.writeMem(0x8b20, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xa15c, gbc.sp());
        EXPECT(0x8b22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b20));
        EXPECT(0x82, gbc.readMem(0x8b21));
        // CB 82 0227
        gbc.setState(0x8d64, 0x466f, 0xe4b0, 0x27dd, 0x3411, 0x97c6, 0x1, 0x0);
        gbc.writeMem(0x8d64, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x466f, gbc.sp());
        EXPECT(0x8d66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d64));
        EXPECT(0x82, gbc.readMem(0x8d65));
        // CB 82 0228
        gbc.setState(0x6819, 0xd5b8, 0x47c0, 0x1f27, 0xac76, 0x6387, 0x1, 0x1);
        gbc.writeMem(0x6819, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xd5b8, gbc.sp());
        EXPECT(0x681b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 022A
        gbc.setState(0x182b, 0xc139, 0x4030, 0x949, 0x203c, 0x285d, 0x0, 0x1);
        gbc.writeMem(0x182b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xc139, gbc.sp());
        EXPECT(0x182d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 022B
        gbc.setState(0x5cd3, 0xf2d2, 0xf090, 0x28c7, 0x6ffb, 0x9ecc, 0x1, 0x1);
        gbc.writeMem(0x5cd3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xf2d2, gbc.sp());
        EXPECT(0x5cd5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 022C
        gbc.setState(0xdb52, 0x100c, 0x5140, 0x41e9, 0xe099, 0x2c75, 0x1, 0x0);
        gbc.writeMem(0xdb52, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x100c, gbc.sp());
        EXPECT(0xdb54, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb52));
        EXPECT(0x82, gbc.readMem(0xdb53));
        // CB 82 022D
        gbc.setState(0xcd43, 0x263, 0x5400, 0xa40b, 0xe571, 0x1ca2, 0x0, 0x0);
        gbc.writeMem(0xcd43, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x263, gbc.sp());
        EXPECT(0xcd45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd43));
        EXPECT(0x82, gbc.readMem(0xcd44));
        // CB 82 022E
        gbc.setState(0x53a7, 0x4593, 0x5dc0, 0x7219, 0x43c2, 0x99fd, 0x0, 0x1);
        gbc.writeMem(0x53a7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x4593, gbc.sp());
        EXPECT(0x53a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 022F
        gbc.setState(0x72a5, 0x94a1, 0x2e80, 0x1216, 0x81e2, 0x35bb, 0x0, 0x0);
        gbc.writeMem(0x72a5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x94a1, gbc.sp());
        EXPECT(0x72a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0230
        gbc.setState(0xbe92, 0x13e8, 0xe2d0, 0x63d0, 0x9de7, 0xd23a, 0x0, 0x0);
        gbc.writeMem(0xbe92, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x13e8, gbc.sp());
        EXPECT(0xbe94, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe92));
        EXPECT(0x82, gbc.readMem(0xbe93));
        // CB 82 0231
        gbc.setState(0xe16f, 0x7a58, 0x1860, 0x2593, 0xd0b, 0x82a2, 0x1, 0x1);
        gbc.writeMem(0xe16f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x7a58, gbc.sp());
        EXPECT(0xe171, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe16f));
        EXPECT(0x82, gbc.readMem(0xe170));
        // CB 82 0232
        gbc.setState(0x239, 0xdd4e, 0xc2c0, 0xa83a, 0xc48a, 0x548e, 0x0, 0x1);
        gbc.writeMem(0x239, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xdd4e, gbc.sp());
        EXPECT(0x23b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0233
        gbc.setState(0xb946, 0x9609, 0x8c30, 0x7a2f, 0x213e, 0x6a47, 0x0, 0x1);
        gbc.writeMem(0xb946, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x9609, gbc.sp());
        EXPECT(0xb948, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb946));
        EXPECT(0x82, gbc.readMem(0xb947));
        // CB 82 0234
        gbc.setState(0xec72, 0x7de1, 0xc300, 0xf352, 0x460f, 0x25d6, 0x1, 0x0);
        gbc.writeMem(0xec72, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x7de1, gbc.sp());
        EXPECT(0xec74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec72));
        EXPECT(0x82, gbc.readMem(0xec73));
        // CB 82 0235
        gbc.setState(0xb0f2, 0xb219, 0xc890, 0xdc65, 0xffc4, 0x7033, 0x0, 0x0);
        gbc.writeMem(0xb0f2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xb219, gbc.sp());
        EXPECT(0xb0f4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb0f2));
        EXPECT(0x82, gbc.readMem(0xb0f3));
        // CB 82 0236
        gbc.setState(0x34b0, 0x4bd, 0x2c0, 0xcb4, 0x174a, 0x4e55, 0x1, 0x0);
        gbc.writeMem(0x34b0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x4bd, gbc.sp());
        EXPECT(0x34b2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0237
        gbc.setState(0x7f7b, 0x1869, 0x2240, 0x1129, 0xacec, 0xde2, 0x1, 0x0);
        gbc.writeMem(0x7f7b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x1869, gbc.sp());
        EXPECT(0x7f7d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0238
        gbc.setState(0x1e99, 0xd18, 0x940, 0xb7d, 0xebe, 0x1a80, 0x1, 0x0);
        gbc.writeMem(0x1e99, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xd18, gbc.sp());
        EXPECT(0x1e9b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0239
        gbc.setState(0xbaa7, 0xa783, 0x9bd0, 0xb060, 0x7b20, 0xd9ac, 0x0, 0x1);
        gbc.writeMem(0xbaa7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xa783, gbc.sp());
        EXPECT(0xbaa9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbaa7));
        EXPECT(0x82, gbc.readMem(0xbaa8));
        // CB 82 023B
        gbc.setState(0x2dff, 0x6ad8, 0x43f0, 0xef93, 0xe423, 0xb09f, 0x0, 0x0);
        gbc.writeMem(0x2dff, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x6ad8, gbc.sp());
        EXPECT(0x2e01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 023C
        gbc.setState(0x5856, 0x98e6, 0x3c80, 0x5eea, 0x450e, 0x2113, 0x1, 0x1);
        gbc.writeMem(0x5856, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x98e6, gbc.sp());
        EXPECT(0x5858, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 023D
        gbc.setState(0x5c3c, 0x70c2, 0xd80, 0x6cd6, 0x3ec4, 0xe181, 0x0, 0x0);
        gbc.writeMem(0x5c3c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0x70c2, gbc.sp());
        EXPECT(0x5c3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 023E
        gbc.setState(0xa8f3, 0x93f0, 0x6000, 0x2d17, 0x266b, 0x9d5a, 0x1, 0x1);
        gbc.writeMem(0xa8f3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x93f0, gbc.sp());
        EXPECT(0xa8f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8f3));
        EXPECT(0x82, gbc.readMem(0xa8f4));
        // CB 82 023F
        gbc.setState(0x51d1, 0x86a9, 0xdaf0, 0x133, 0x4f2b, 0xbc5, 0x0, 0x1);
        gbc.writeMem(0x51d1, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x86a9, gbc.sp());
        EXPECT(0x51d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0240
        gbc.setState(0xd4ab, 0x9796, 0x5b90, 0xe7f7, 0x607, 0xc59a, 0x1, 0x1);
        gbc.writeMem(0xd4ab, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x9796, gbc.sp());
        EXPECT(0xd4ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4ab));
        EXPECT(0x82, gbc.readMem(0xd4ac));
        // CB 82 0241
        gbc.setState(0xe374, 0x40b0, 0xa380, 0x64ec, 0x10db, 0x99aa, 0x1, 0x1);
        gbc.writeMem(0xe374, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x40b0, gbc.sp());
        EXPECT(0xe376, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe374));
        EXPECT(0x82, gbc.readMem(0xe375));
        // CB 82 0243
        gbc.setState(0xb7b4, 0x1f8c, 0x5ef0, 0x191, 0x2ac4, 0x7d4d, 0x0, 0x0);
        gbc.writeMem(0xb7b4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x1f8c, gbc.sp());
        EXPECT(0xb7b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7b4));
        EXPECT(0x82, gbc.readMem(0xb7b5));
        // CB 82 0244
        gbc.setState(0xbe54, 0x557f, 0xd3c0, 0x6114, 0x488b, 0x7a29, 0x0, 0x1);
        gbc.writeMem(0xbe54, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x557f, gbc.sp());
        EXPECT(0xbe56, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbe54));
        EXPECT(0x82, gbc.readMem(0xbe55));
        // CB 82 0245
        gbc.setState(0x860d, 0x685a, 0xba0, 0x8e26, 0xc3cb, 0xdc6f, 0x1, 0x1);
        gbc.writeMem(0x860d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x685a, gbc.sp());
        EXPECT(0x860f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x860d));
        EXPECT(0x82, gbc.readMem(0x860e));
        // CB 82 0247
        gbc.setState(0x887, 0x9b22, 0x7fb0, 0xa736, 0xacbb, 0xf75f, 0x1, 0x1);
        gbc.writeMem(0x887, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x9b22, gbc.sp());
        EXPECT(0x889, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0248
        gbc.setState(0xb772, 0x90be, 0xa5e0, 0x709f, 0xebaa, 0x1e77, 0x1, 0x0);
        gbc.writeMem(0xb772, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x90be, gbc.sp());
        EXPECT(0xb774, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb772));
        EXPECT(0x82, gbc.readMem(0xb773));
        // CB 82 0249
        gbc.setState(0x42cd, 0xffcb, 0x5580, 0x7d94, 0x6719, 0xe553, 0x1, 0x0);
        gbc.writeMem(0x42cd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xffcb, gbc.sp());
        EXPECT(0x42cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 024A
        gbc.setState(0xe3ae, 0x4c12, 0x44b0, 0x7c6, 0x996c, 0xa0e1, 0x1, 0x0);
        gbc.writeMem(0xe3ae, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x4c12, gbc.sp());
        EXPECT(0xe3b0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3ae));
        EXPECT(0x82, gbc.readMem(0xe3af));
        // CB 82 024B
        gbc.setState(0x42f6, 0xc10a, 0x6c70, 0x93f, 0xd74f, 0x7ec3, 0x1, 0x0);
        gbc.writeMem(0x42f6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xc10a, gbc.sp());
        EXPECT(0x42f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 024C
        gbc.setState(0x1410, 0xbd7a, 0x4430, 0xfd6e, 0x849a, 0xd382, 0x1, 0x1);
        gbc.writeMem(0x1410, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xbd7a, gbc.sp());
        EXPECT(0x1412, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 024D
        gbc.setState(0x8182, 0x5691, 0x24a0, 0x68c6, 0x3920, 0x5030, 0x0, 0x0);
        gbc.writeMem(0x8182, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x5691, gbc.sp());
        EXPECT(0x8184, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8182));
        EXPECT(0x82, gbc.readMem(0x8183));
        // CB 82 024E
        gbc.setState(0x8d8c, 0xc444, 0x8ba0, 0xc101, 0xd026, 0x20ae, 0x0, 0x0);
        gbc.writeMem(0x8d8c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xc444, gbc.sp());
        EXPECT(0x8d8e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d8c));
        EXPECT(0x82, gbc.readMem(0x8d8d));
        // CB 82 024F
        gbc.setState(0x4d90, 0xe4b, 0xb210, 0x9069, 0x41c6, 0xd8f5, 0x1, 0x0);
        gbc.writeMem(0x4d90, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xe4b, gbc.sp());
        EXPECT(0x4d92, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0250
        gbc.setState(0x7ff, 0x3ff, 0x7c40, 0x9d68, 0x8714, 0x45d3, 0x1, 0x1);
        gbc.writeMem(0x7ff, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x3ff, gbc.sp());
        EXPECT(0x801, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0251
        gbc.setState(0x52b7, 0xdfcc, 0x6050, 0xe864, 0x6bd1, 0xa6ca, 0x1, 0x1);
        gbc.writeMem(0x52b7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xdfcc, gbc.sp());
        EXPECT(0x52b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0252
        gbc.setState(0x33e9, 0xd222, 0xe2c0, 0x4020, 0x2ac2, 0xdf6a, 0x1, 0x1);
        gbc.writeMem(0x33e9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xd222, gbc.sp());
        EXPECT(0x33eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0255
        gbc.setState(0x1e2c, 0x3add, 0x1020, 0x3a8d, 0xdeba, 0x9e37, 0x0, 0x0);
        gbc.writeMem(0x1e2c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x3add, gbc.sp());
        EXPECT(0x1e2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0256
        gbc.setState(0x4ca3, 0x6986, 0x1580, 0xa312, 0x6fbb, 0xd7bd, 0x1, 0x1);
        gbc.writeMem(0x4ca3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x6986, gbc.sp());
        EXPECT(0x4ca5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0257
        gbc.setState(0x724d, 0xe13a, 0x5930, 0xe672, 0x8144, 0xbe92, 0x0, 0x0);
        gbc.writeMem(0x724d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xe13a, gbc.sp());
        EXPECT(0x724f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0258
        gbc.setState(0xd039, 0xaf0a, 0x6040, 0x292d, 0x23be, 0xe95c, 0x0, 0x1);
        gbc.writeMem(0xd039, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xaf0a, gbc.sp());
        EXPECT(0xd03b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd039));
        EXPECT(0x82, gbc.readMem(0xd03a));
        // CB 82 0259
        gbc.setState(0xba79, 0x1161, 0x5920, 0x753f, 0xa9c3, 0x3afe, 0x1, 0x1);
        gbc.writeMem(0xba79, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x1161, gbc.sp());
        EXPECT(0xba7b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba79));
        EXPECT(0x82, gbc.readMem(0xba7a));
        // CB 82 025A
        gbc.setState(0xe9b6, 0x2e4d, 0x70b0, 0x865b, 0x8dcb, 0xa63, 0x0, 0x0);
        gbc.writeMem(0xe9b6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x2e4d, gbc.sp());
        EXPECT(0xe9b8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe9b6));
        EXPECT(0x82, gbc.readMem(0xe9b7));
        // CB 82 025C
        gbc.setState(0x6f80, 0x1dc3, 0x8710, 0xdb53, 0x2473, 0x9422, 0x0, 0x1);
        gbc.writeMem(0x6f80, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x1dc3, gbc.sp());
        EXPECT(0x6f82, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 025D
        gbc.setState(0x4692, 0x2c38, 0xb20, 0x50d9, 0xaa28, 0xec68, 0x0, 0x1);
        gbc.writeMem(0x4692, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0x2c38, gbc.sp());
        EXPECT(0x4694, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0260
        gbc.setState(0x10ee, 0x6b1, 0xcc20, 0xfcf5, 0x1617, 0x6db1, 0x1, 0x1);
        gbc.writeMem(0x10ee, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x6b1, gbc.sp());
        EXPECT(0x10f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0261
        gbc.setState(0x351a, 0xce95, 0xe1c0, 0xa7b7, 0x1f74, 0x534e, 0x1, 0x1);
        gbc.writeMem(0x351a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xce95, gbc.sp());
        EXPECT(0x351c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0262
        gbc.setState(0x37ab, 0x339a, 0x99e0, 0xe076, 0xe04d, 0xa265, 0x1, 0x1);
        gbc.writeMem(0x37ab, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x339a, gbc.sp());
        EXPECT(0x37ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0263
        gbc.setState(0x131b, 0x191d, 0x27a0, 0xed9b, 0x584, 0x4bf7, 0x1, 0x0);
        gbc.writeMem(0x131b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x191d, gbc.sp());
        EXPECT(0x131d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0264
        gbc.setState(0xeb8, 0x1241, 0xc50, 0x5902, 0x1f97, 0x2939, 0x1, 0x1);
        gbc.writeMem(0xeb8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x1241, gbc.sp());
        EXPECT(0xeba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0265
        gbc.setState(0x2dab, 0xa05d, 0x5150, 0xd422, 0xc810, 0x328a, 0x1, 0x0);
        gbc.writeMem(0x2dab, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xa05d, gbc.sp());
        EXPECT(0x2dad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0266
        gbc.setState(0xc064, 0xcb32, 0xe290, 0xe482, 0x5984, 0x2149, 0x0, 0x1);
        gbc.writeMem(0xc064, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xcb32, gbc.sp());
        EXPECT(0xc066, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc064));
        EXPECT(0x82, gbc.readMem(0xc065));
        // CB 82 0267
        gbc.setState(0x23d1, 0x869b, 0xe900, 0x504f, 0xb389, 0x7eac, 0x0, 0x1);
        gbc.writeMem(0x23d1, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x869b, gbc.sp());
        EXPECT(0x23d3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0268
        gbc.setState(0x6570, 0x5edf, 0xbaa0, 0x9f5, 0x1beb, 0x2280, 0x1, 0x1);
        gbc.writeMem(0x6570, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x5edf, gbc.sp());
        EXPECT(0x6572, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0269
        gbc.setState(0x7236, 0x83e7, 0xe320, 0x326d, 0xad6e, 0x4fec, 0x1, 0x1);
        gbc.writeMem(0x7236, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x83e7, gbc.sp());
        EXPECT(0x7238, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 026B
        gbc.setState(0x3da7, 0x6104, 0x4420, 0x2a55, 0xa7ea, 0x7723, 0x0, 0x0);
        gbc.writeMem(0x3da7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x6104, gbc.sp());
        EXPECT(0x3da9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 026C
        gbc.setState(0x35f4, 0xfbc2, 0x580, 0x8c49, 0x3b88, 0xe19a, 0x0, 0x1);
        gbc.writeMem(0x35f4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xfbc2, gbc.sp());
        EXPECT(0x35f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 026D
        gbc.setState(0xa1ca, 0x667f, 0xb210, 0x8599, 0x9df0, 0x3864, 0x1, 0x0);
        gbc.writeMem(0xa1ca, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x667f, gbc.sp());
        EXPECT(0xa1cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1ca));
        EXPECT(0x82, gbc.readMem(0xa1cb));
        // CB 82 026E
        gbc.setState(0x8833, 0x7603, 0x8870, 0xb7b8, 0xe70d, 0xc13b, 0x0, 0x1);
        gbc.writeMem(0x8833, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x7603, gbc.sp());
        EXPECT(0x8835, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8833));
        EXPECT(0x82, gbc.readMem(0x8834));
        // CB 82 026F
        gbc.setState(0x7eb9, 0xa738, 0x9c60, 0x726f, 0xaaa1, 0x130, 0x0, 0x0);
        gbc.writeMem(0x7eb9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xa738, gbc.sp());
        EXPECT(0x7ebb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0270
        gbc.setState(0x493b, 0xab48, 0xdb40, 0x4156, 0x3186, 0xe574, 0x1, 0x1);
        gbc.writeMem(0x493b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xab48, gbc.sp());
        EXPECT(0x493d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0271
        gbc.setState(0xdf2f, 0x4791, 0x7720, 0xe57f, 0xcbbc, 0xa511, 0x0, 0x0);
        gbc.writeMem(0xdf2f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x4791, gbc.sp());
        EXPECT(0xdf31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf2f));
        EXPECT(0x82, gbc.readMem(0xdf30));
        // CB 82 0272
        gbc.setState(0xd344, 0x283b, 0x7780, 0xa19c, 0x6a25, 0xe2b2, 0x0, 0x1);
        gbc.writeMem(0xd344, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x283b, gbc.sp());
        EXPECT(0xd346, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd344));
        EXPECT(0x82, gbc.readMem(0xd345));
        // CB 82 0273
        gbc.setState(0x6583, 0xd8dc, 0x8cd0, 0x5107, 0xead3, 0x593a, 0x0, 0x0);
        gbc.writeMem(0x6583, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xd8dc, gbc.sp());
        EXPECT(0x6585, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0274
        gbc.setState(0xc2b7, 0x40e, 0x5790, 0x9bda, 0x25d8, 0x20d4, 0x1, 0x0);
        gbc.writeMem(0xc2b7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x40e, gbc.sp());
        EXPECT(0xc2b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc2b7));
        EXPECT(0x82, gbc.readMem(0xc2b8));
        // CB 82 0275
        gbc.setState(0xe67f, 0x48fb, 0x7c60, 0x6812, 0x73f9, 0x3535, 0x0, 0x1);
        gbc.writeMem(0xe67f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x48fb, gbc.sp());
        EXPECT(0xe681, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe67f));
        EXPECT(0x82, gbc.readMem(0xe680));
        // CB 82 0276
        gbc.setState(0x165c, 0x170a, 0xfae0, 0xbe9e, 0x835d, 0x9ddd, 0x0, 0x0);
        gbc.writeMem(0x165c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x170a, gbc.sp());
        EXPECT(0x165e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0277
        gbc.setState(0x5f60, 0x6976, 0xa2a0, 0x695a, 0x7618, 0xc396, 0x1, 0x1);
        gbc.writeMem(0x5f60, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x6976, gbc.sp());
        EXPECT(0x5f62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0278
        gbc.setState(0xc3d3, 0xdb70, 0x8b30, 0x34a1, 0x9e34, 0x2ce, 0x0, 0x1);
        gbc.writeMem(0xc3d3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xdb70, gbc.sp());
        EXPECT(0xc3d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3d3));
        EXPECT(0x82, gbc.readMem(0xc3d4));
        // CB 82 0279
        gbc.setState(0xe4ad, 0x84c0, 0xaed0, 0x1643, 0x1747, 0x12ce, 0x1, 0x1);
        gbc.writeMem(0xe4ad, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x84c0, gbc.sp());
        EXPECT(0xe4af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe4ad));
        EXPECT(0x82, gbc.readMem(0xe4ae));
        // CB 82 027A
        gbc.setState(0xeec7, 0x2664, 0xf1f0, 0x55de, 0xf74f, 0x1e8c, 0x1, 0x0);
        gbc.writeMem(0xeec7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x2664, gbc.sp());
        EXPECT(0xeec9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeec7));
        EXPECT(0x82, gbc.readMem(0xeec8));
        // CB 82 027B
        gbc.setState(0x8d4a, 0xd65, 0xa750, 0xdbc9, 0x94d6, 0x2eb3, 0x0, 0x1);
        gbc.writeMem(0x8d4a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xd65, gbc.sp());
        EXPECT(0x8d4c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d4a));
        EXPECT(0x82, gbc.readMem(0x8d4b));
        // CB 82 027C
        gbc.setState(0x635e, 0x39e6, 0x3f20, 0x8c82, 0x65ae, 0xe979, 0x0, 0x1);
        gbc.writeMem(0x635e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x39e6, gbc.sp());
        EXPECT(0x6360, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 027D
        gbc.setState(0xedd0, 0xdded, 0x4b20, 0x944a, 0x241a, 0xd034, 0x1, 0x1);
        gbc.writeMem(0xedd0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xdded, gbc.sp());
        EXPECT(0xedd2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xedd0));
        EXPECT(0x82, gbc.readMem(0xedd1));
        // CB 82 027E
        gbc.setState(0xd11b, 0x7d2d, 0x99c0, 0xaca4, 0xb656, 0xee2, 0x1, 0x1);
        gbc.writeMem(0xd11b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x7d2d, gbc.sp());
        EXPECT(0xd11d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd11b));
        EXPECT(0x82, gbc.readMem(0xd11c));
        // CB 82 027F
        gbc.setState(0xe568, 0xcd77, 0x7cb0, 0xc144, 0x6720, 0x8cc0, 0x0, 0x0);
        gbc.writeMem(0xe568, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xcd77, gbc.sp());
        EXPECT(0xe56a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe568));
        EXPECT(0x82, gbc.readMem(0xe569));
        // CB 82 0280
        gbc.setState(0x250c, 0x2f0f, 0x3d80, 0x14b, 0x29ff, 0x21a, 0x1, 0x0);
        gbc.writeMem(0x250c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x2f0f, gbc.sp());
        EXPECT(0x250e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0281
        gbc.setState(0xe5dc, 0x835f, 0x5510, 0x427c, 0xffbd, 0xea43, 0x1, 0x0);
        gbc.writeMem(0xe5dc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x835f, gbc.sp());
        EXPECT(0xe5de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe5dc));
        EXPECT(0x82, gbc.readMem(0xe5dd));
        // CB 82 0282
        gbc.setState(0x1c1b, 0xdfca, 0xf6b0, 0x4b59, 0x72e9, 0x3dae, 0x0, 0x1);
        gbc.writeMem(0x1c1b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xdfca, gbc.sp());
        EXPECT(0x1c1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0283
        gbc.setState(0x35d6, 0x7d02, 0x13d0, 0x66d, 0x872, 0xb54f, 0x1, 0x1);
        gbc.writeMem(0x35d6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x7d02, gbc.sp());
        EXPECT(0x35d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0284
        gbc.setState(0x8b40, 0xe808, 0x37d0, 0xd71e, 0x1f89, 0xeff8, 0x0, 0x0);
        gbc.writeMem(0x8b40, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xe808, gbc.sp());
        EXPECT(0x8b42, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b40));
        EXPECT(0x82, gbc.readMem(0x8b41));
        // CB 82 0285
        gbc.setState(0xb0b0, 0xef9f, 0x2770, 0x3336, 0x4429, 0xf1b1, 0x0, 0x0);
        gbc.writeMem(0xb0b0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xef9f, gbc.sp());
        EXPECT(0xb0b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb0b0));
        EXPECT(0x82, gbc.readMem(0xb0b1));
        // CB 82 0286
        gbc.setState(0xbb0e, 0xcbe7, 0x3f70, 0xddf, 0xeaa5, 0xf3d5, 0x0, 0x1);
        gbc.writeMem(0xbb0e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xcbe7, gbc.sp());
        EXPECT(0xbb10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb0e));
        EXPECT(0x82, gbc.readMem(0xbb0f));
        // CB 82 0288
        gbc.setState(0xd281, 0x7958, 0x4790, 0xa4ae, 0xc415, 0x385d, 0x1, 0x1);
        gbc.writeMem(0xd281, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x7958, gbc.sp());
        EXPECT(0xd283, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd281));
        EXPECT(0x82, gbc.readMem(0xd282));
        // CB 82 0289
        gbc.setState(0xe795, 0xe0ce, 0x470, 0xe0a8, 0xddd5, 0x9dbe, 0x1, 0x1);
        gbc.writeMem(0xe795, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xe0ce, gbc.sp());
        EXPECT(0xe797, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe795));
        EXPECT(0x82, gbc.readMem(0xe796));
        // CB 82 028A
        gbc.setState(0x529c, 0xed42, 0x7c00, 0x665b, 0x9f46, 0x43f3, 0x0, 0x0);
        gbc.writeMem(0x529c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xed42, gbc.sp());
        EXPECT(0x529e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 028B
        gbc.setState(0x907a, 0x28bf, 0x4550, 0x5660, 0xd520, 0x16cc, 0x1, 0x1);
        gbc.writeMem(0x907a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x28bf, gbc.sp());
        EXPECT(0x907c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x907a));
        EXPECT(0x82, gbc.readMem(0x907b));
        // CB 82 028C
        gbc.setState(0x80a, 0xb2b7, 0x5090, 0x3f33, 0x2147, 0x98bc, 0x1, 0x0);
        gbc.writeMem(0x80a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xb2b7, gbc.sp());
        EXPECT(0x80c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 028D
        gbc.setState(0xccd6, 0x4983, 0x4ac0, 0x5cc1, 0xe8ea, 0x3e17, 0x1, 0x0);
        gbc.writeMem(0xccd6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x4983, gbc.sp());
        EXPECT(0xccd8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xccd6));
        EXPECT(0x82, gbc.readMem(0xccd7));
        // CB 82 028E
        gbc.setState(0x4121, 0x5d31, 0xac0, 0x83ef, 0xb8dc, 0x37ff, 0x0, 0x1);
        gbc.writeMem(0x4121, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x5d31, gbc.sp());
        EXPECT(0x4123, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 028F
        gbc.setState(0x7715, 0x310d, 0xdd50, 0xcbaa, 0x12d6, 0xfb1b, 0x0, 0x0);
        gbc.writeMem(0x7715, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x310d, gbc.sp());
        EXPECT(0x7717, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0290
        gbc.setState(0x297e, 0x6b63, 0xbed0, 0xff00, 0x7db3, 0xe46e, 0x1, 0x1);
        gbc.writeMem(0x297e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x6b63, gbc.sp());
        EXPECT(0x2980, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0291
        gbc.setState(0x5121, 0x42e2, 0x9ca0, 0xfc95, 0xc9ea, 0x91b9, 0x0, 0x1);
        gbc.writeMem(0x5121, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x42e2, gbc.sp());
        EXPECT(0x5123, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0292
        gbc.setState(0xb20f, 0xea78, 0x1d20, 0x5e95, 0x8d33, 0xd48f, 0x0, 0x1);
        gbc.writeMem(0xb20f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xea78, gbc.sp());
        EXPECT(0xb211, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb20f));
        EXPECT(0x82, gbc.readMem(0xb210));
        // CB 82 0293
        gbc.setState(0x60b7, 0x1b16, 0xd6f0, 0xb995, 0x5515, 0xa43a, 0x0, 0x0);
        gbc.writeMem(0x60b7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x1b16, gbc.sp());
        EXPECT(0x60b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0294
        gbc.setState(0x2310, 0x37dc, 0xce30, 0xf812, 0xe4bb, 0xfe8b, 0x1, 0x1);
        gbc.writeMem(0x2310, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x37dc, gbc.sp());
        EXPECT(0x2312, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0295
        gbc.setState(0x1e3f, 0x4ca3, 0x52a0, 0x13a4, 0xf068, 0x6bb4, 0x1, 0x1);
        gbc.writeMem(0x1e3f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x4ca3, gbc.sp());
        EXPECT(0x1e41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0296
        gbc.setState(0x8230, 0x4140, 0xc780, 0x5f7b, 0x50b4, 0xf1ae, 0x1, 0x0);
        gbc.writeMem(0x8230, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x4140, gbc.sp());
        EXPECT(0x8232, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8230));
        EXPECT(0x82, gbc.readMem(0x8231));
        // CB 82 0297
        gbc.setState(0x4e2d, 0xd7de, 0xdcd0, 0x63af, 0x190, 0x728c, 0x1, 0x1);
        gbc.writeMem(0x4e2d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xd7de, gbc.sp());
        EXPECT(0x4e2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0298
        gbc.setState(0x1690, 0x1a7e, 0xd6e0, 0x6757, 0x98f2, 0xa316, 0x0, 0x1);
        gbc.writeMem(0x1690, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x1a7e, gbc.sp());
        EXPECT(0x1692, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0299
        gbc.setState(0x96fd, 0x3536, 0xfc70, 0xc75d, 0x4272, 0x2a4, 0x1, 0x1);
        gbc.writeMem(0x96fd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x3536, gbc.sp());
        EXPECT(0x96ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x96fd));
        EXPECT(0x82, gbc.readMem(0x96fe));
        // CB 82 029A
        gbc.setState(0x1daf, 0x6d15, 0xd710, 0x8544, 0x81ab, 0xb801, 0x1, 0x1);
        gbc.writeMem(0x1daf, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x6d15, gbc.sp());
        EXPECT(0x1db1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 029B
        gbc.setState(0x422f, 0x3ed0, 0x2690, 0xef1b, 0xb96d, 0x4372, 0x0, 0x0);
        gbc.writeMem(0x422f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x3ed0, gbc.sp());
        EXPECT(0x4231, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 029C
        gbc.setState(0xe3f8, 0xb064, 0x7f80, 0xdeb8, 0x179d, 0x440c, 0x0, 0x0);
        gbc.writeMem(0xe3f8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xb064, gbc.sp());
        EXPECT(0xe3fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3f8));
        EXPECT(0x82, gbc.readMem(0xe3f9));
        // CB 82 029D
        gbc.setState(0x1cbd, 0x5219, 0x3330, 0x4ccd, 0xdff8, 0x7b35, 0x0, 0x1);
        gbc.writeMem(0x1cbd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x5219, gbc.sp());
        EXPECT(0x1cbf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 029E
        gbc.setState(0xbbf1, 0xf2af, 0xb2c0, 0x34d4, 0x7060, 0x87e7, 0x1, 0x0);
        gbc.writeMem(0xbbf1, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xf2af, gbc.sp());
        EXPECT(0xbbf3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbbf1));
        EXPECT(0x82, gbc.readMem(0xbbf2));
        // CB 82 029F
        gbc.setState(0x8372, 0x3c31, 0x3f0, 0xeac5, 0x4543, 0x3aec, 0x1, 0x0);
        gbc.writeMem(0x8372, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x3c31, gbc.sp());
        EXPECT(0x8374, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8372));
        EXPECT(0x82, gbc.readMem(0x8373));
        // CB 82 02A1
        gbc.setState(0x72af, 0xb150, 0xeb70, 0xffd1, 0xc8e9, 0x74b1, 0x1, 0x1);
        gbc.writeMem(0x72af, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xb150, gbc.sp());
        EXPECT(0x72b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02A4
        gbc.setState(0xc90a, 0x85a3, 0x64a0, 0xa651, 0x1e2d, 0x4ed4, 0x1, 0x1);
        gbc.writeMem(0xc90a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x85a3, gbc.sp());
        EXPECT(0xc90c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc90a));
        EXPECT(0x82, gbc.readMem(0xc90b));
        // CB 82 02A5
        gbc.setState(0x99e0, 0xd324, 0x3a20, 0xaaf9, 0x127f, 0x39a1, 0x0, 0x1);
        gbc.writeMem(0x99e0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xd324, gbc.sp());
        EXPECT(0x99e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99e0));
        EXPECT(0x82, gbc.readMem(0x99e1));
        // CB 82 02A6
        gbc.setState(0xed52, 0x26d4, 0xfc60, 0x649c, 0x71a1, 0xb2f7, 0x0, 0x1);
        gbc.writeMem(0xed52, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x26d4, gbc.sp());
        EXPECT(0xed54, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed52));
        EXPECT(0x82, gbc.readMem(0xed53));
        // CB 82 02A7
        gbc.setState(0x1618, 0xc2b, 0x610, 0x7c25, 0x4448, 0xe04d, 0x1, 0x0);
        gbc.writeMem(0x1618, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xc2b, gbc.sp());
        EXPECT(0x161a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02A8
        gbc.setState(0x85ba, 0xc6a4, 0x1db0, 0x6536, 0x6a85, 0xef76, 0x1, 0x1);
        gbc.writeMem(0x85ba, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xc6a4, gbc.sp());
        EXPECT(0x85bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x85ba));
        EXPECT(0x82, gbc.readMem(0x85bb));
        // CB 82 02A9
        gbc.setState(0xe7f, 0x9845, 0x960, 0x4766, 0x56f0, 0xf2fe, 0x1, 0x1);
        gbc.writeMem(0xe7f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x9845, gbc.sp());
        EXPECT(0xe81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02AA
        gbc.setState(0xcdc, 0xd664, 0xdb20, 0x9944, 0xf821, 0x790f, 0x1, 0x0);
        gbc.writeMem(0xcdc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xd664, gbc.sp());
        EXPECT(0xcde, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02AB
        gbc.setState(0x9463, 0x20c, 0xde50, 0xfedf, 0xa8f2, 0x947d, 0x1, 0x1);
        gbc.writeMem(0x9463, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x20c, gbc.sp());
        EXPECT(0x9465, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9463));
        EXPECT(0x82, gbc.readMem(0x9464));
        // CB 82 02AC
        gbc.setState(0x6e68, 0xd73, 0x9e0, 0xf099, 0x5888, 0x2dce, 0x1, 0x0);
        gbc.writeMem(0x6e68, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xd73, gbc.sp());
        EXPECT(0x6e6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02AD
        gbc.setState(0x8f1c, 0x29be, 0x2ed0, 0xe69d, 0x1ab3, 0x42a9, 0x0, 0x1);
        gbc.writeMem(0x8f1c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x29be, gbc.sp());
        EXPECT(0x8f1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f1c));
        EXPECT(0x82, gbc.readMem(0x8f1d));
        // CB 82 02AE
        gbc.setState(0xcf6f, 0xbd4f, 0xf900, 0xaa25, 0x6f9a, 0x9816, 0x0, 0x1);
        gbc.writeMem(0xcf6f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xbd4f, gbc.sp());
        EXPECT(0xcf71, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf6f));
        EXPECT(0x82, gbc.readMem(0xcf70));
        // CB 82 02B0
        gbc.setState(0xef4c, 0x23ca, 0xb050, 0x1b1c, 0xba7e, 0x6823, 0x0, 0x0);
        gbc.writeMem(0xef4c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x23ca, gbc.sp());
        EXPECT(0xef4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef4c));
        EXPECT(0x82, gbc.readMem(0xef4d));
        // CB 82 02B1
        gbc.setState(0x9b4e, 0x29de, 0x720, 0xbbdb, 0xefa4, 0xe1c8, 0x1, 0x1);
        gbc.writeMem(0x9b4e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x29de, gbc.sp());
        EXPECT(0x9b50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b4e));
        EXPECT(0x82, gbc.readMem(0x9b4f));
        // CB 82 02B2
        gbc.setState(0x3409, 0x4274, 0x6c70, 0x76e7, 0x7c3b, 0x4dc1, 0x1, 0x1);
        gbc.writeMem(0x3409, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x4274, gbc.sp());
        EXPECT(0x340b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02B3
        gbc.setState(0x5377, 0x6bb2, 0x7a60, 0xfda9, 0xabcf, 0x4ede, 0x0, 0x0);
        gbc.writeMem(0x5377, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x6bb2, gbc.sp());
        EXPECT(0x5379, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02B4
        gbc.setState(0x3da5, 0xbbee, 0x94c0, 0x2549, 0x99fa, 0xc161, 0x0, 0x1);
        gbc.writeMem(0x3da5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xbbee, gbc.sp());
        EXPECT(0x3da7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02B5
        gbc.setState(0xab2e, 0xfed7, 0xbe00, 0x7a4e, 0x42ad, 0xe164, 0x0, 0x0);
        gbc.writeMem(0xab2e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xfed7, gbc.sp());
        EXPECT(0xab30, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab2e));
        EXPECT(0x82, gbc.readMem(0xab2f));
        // CB 82 02B6
        gbc.setState(0xecb0, 0xf23e, 0x1340, 0xf967, 0xcac2, 0xfb2e, 0x1, 0x1);
        gbc.writeMem(0xecb0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xf23e, gbc.sp());
        EXPECT(0xecb2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xecb0));
        EXPECT(0x82, gbc.readMem(0xecb1));
        // CB 82 02B7
        gbc.setState(0x44ef, 0x37ca, 0x2290, 0xf1c3, 0xc65d, 0xfc4, 0x0, 0x1);
        gbc.writeMem(0x44ef, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x37ca, gbc.sp());
        EXPECT(0x44f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02B8
        gbc.setState(0x8342, 0x20c0, 0x9c60, 0x191e, 0xb4b3, 0x8f58, 0x1, 0x1);
        gbc.writeMem(0x8342, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x20c0, gbc.sp());
        EXPECT(0x8344, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8342));
        EXPECT(0x82, gbc.readMem(0x8343));
        // CB 82 02B9
        gbc.setState(0x7fd9, 0xffc1, 0x74a0, 0x3e88, 0xbb48, 0x6ece, 0x0, 0x0);
        gbc.writeMem(0x7fd9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xffc1, gbc.sp());
        EXPECT(0x7fdb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02BA
        gbc.setState(0x784c, 0x75d1, 0x4c00, 0x4afc, 0x982e, 0x127a, 0x1, 0x1);
        gbc.writeMem(0x784c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x75d1, gbc.sp());
        EXPECT(0x784e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02BB
        gbc.setState(0x5238, 0x5e86, 0x6830, 0x9821, 0x4dcc, 0xfcb5, 0x0, 0x0);
        gbc.writeMem(0x5238, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x5e86, gbc.sp());
        EXPECT(0x523a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02BC
        gbc.setState(0xc3f0, 0xf04d, 0x9a20, 0x920f, 0x469b, 0x9961, 0x1, 0x1);
        gbc.writeMem(0xc3f0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xf04d, gbc.sp());
        EXPECT(0xc3f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3f0));
        EXPECT(0x82, gbc.readMem(0xc3f1));
        // CB 82 02BD
        gbc.setState(0x7216, 0x54c3, 0x9930, 0x5e1c, 0x1ec4, 0x82cf, 0x1, 0x1);
        gbc.writeMem(0x7216, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x54c3, gbc.sp());
        EXPECT(0x7218, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02BE
        gbc.setState(0x704d, 0x5979, 0x62b0, 0x6904, 0x4896, 0xddbe, 0x0, 0x1);
        gbc.writeMem(0x704d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x5979, gbc.sp());
        EXPECT(0x704f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02C0
        gbc.setState(0xa81f, 0x669d, 0xa290, 0xcf9a, 0x474a, 0xe9a6, 0x1, 0x0);
        gbc.writeMem(0xa81f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x669d, gbc.sp());
        EXPECT(0xa821, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa81f));
        EXPECT(0x82, gbc.readMem(0xa820));
        // CB 82 02C1
        gbc.setState(0x69bc, 0xb38f, 0x6240, 0x9d03, 0xf7db, 0x4c7f, 0x1, 0x1);
        gbc.writeMem(0x69bc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xb38f, gbc.sp());
        EXPECT(0x69be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02C2
        gbc.setState(0xa8c2, 0x155f, 0xf1a0, 0x527a, 0xa922, 0xefbd, 0x0, 0x1);
        gbc.writeMem(0xa8c2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x155f, gbc.sp());
        EXPECT(0xa8c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8c2));
        EXPECT(0x82, gbc.readMem(0xa8c3));
        // CB 82 02C3
        gbc.setState(0xd946, 0x84c9, 0xaf30, 0x4984, 0xe022, 0xa5ab, 0x1, 0x1);
        gbc.writeMem(0xd946, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x84c9, gbc.sp());
        EXPECT(0xd948, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd946));
        EXPECT(0x82, gbc.readMem(0xd947));
        // CB 82 02C4
        gbc.setState(0x71ac, 0xa236, 0xfd50, 0xcfaa, 0x9af6, 0x3acd, 0x0, 0x1);
        gbc.writeMem(0x71ac, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xa236, gbc.sp());
        EXPECT(0x71ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02C5
        gbc.setState(0x1892, 0xa07f, 0x43f0, 0xfb24, 0xc267, 0x35b, 0x0, 0x0);
        gbc.writeMem(0x1892, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xa07f, gbc.sp());
        EXPECT(0x1894, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02C6
        gbc.setState(0xcf64, 0xfe43, 0x44a0, 0x2116, 0xdd64, 0xc2bb, 0x0, 0x0);
        gbc.writeMem(0xcf64, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xfe43, gbc.sp());
        EXPECT(0xcf66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf64));
        EXPECT(0x82, gbc.readMem(0xcf65));
        // CB 82 02C7
        gbc.setState(0x55bf, 0x804a, 0x4cc0, 0x5587, 0xbd8e, 0x14b2, 0x1, 0x0);
        gbc.writeMem(0x55bf, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x804a, gbc.sp());
        EXPECT(0x55c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02C8
        gbc.setState(0x95fa, 0x96e0, 0xebc0, 0x427c, 0xbd2c, 0x7833, 0x0, 0x1);
        gbc.writeMem(0x95fa, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x96e0, gbc.sp());
        EXPECT(0x95fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x95fa));
        EXPECT(0x82, gbc.readMem(0x95fb));
        // CB 82 02C9
        gbc.setState(0xcdff, 0x5ecd, 0x13d0, 0x2c9c, 0xda3f, 0x92ab, 0x0, 0x1);
        gbc.writeMem(0xcdff, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x5ecd, gbc.sp());
        EXPECT(0xce01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcdff));
        EXPECT(0x82, gbc.readMem(0xce00));
        // CB 82 02CA
        gbc.setState(0x4ead, 0xb63f, 0xbd30, 0x199a, 0xf28e, 0x8e9e, 0x1, 0x0);
        gbc.writeMem(0x4ead, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xb63f, gbc.sp());
        EXPECT(0x4eaf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02CB
        gbc.setState(0x8de8, 0xa493, 0x8ff0, 0x470d, 0x3a37, 0xebcf, 0x1, 0x1);
        gbc.writeMem(0x8de8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xa493, gbc.sp());
        EXPECT(0x8dea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8de8));
        EXPECT(0x82, gbc.readMem(0x8de9));
        // CB 82 02CC
        gbc.setState(0xb91a, 0x860f, 0xab80, 0x92d1, 0xa595, 0xe478, 0x0, 0x0);
        gbc.writeMem(0xb91a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x860f, gbc.sp());
        EXPECT(0xb91c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb91a));
        EXPECT(0x82, gbc.readMem(0xb91b));
        // CB 82 02CE
        gbc.setState(0xa5f9, 0xba21, 0xa600, 0xc9ad, 0xfdf, 0x2d01, 0x1, 0x1);
        gbc.writeMem(0xa5f9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xba21, gbc.sp());
        EXPECT(0xa5fb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa5f9));
        EXPECT(0x82, gbc.readMem(0xa5fa));
        // CB 82 02CF
        gbc.setState(0xbf2c, 0x6a48, 0x1130, 0xf34d, 0x919e, 0xa81b, 0x1, 0x0);
        gbc.writeMem(0xbf2c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x6a48, gbc.sp());
        EXPECT(0xbf2e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf2c));
        EXPECT(0x82, gbc.readMem(0xbf2d));
        // CB 82 02D0
        gbc.setState(0x7ae0, 0xced, 0xc40, 0xbf2f, 0x4da7, 0x2a64, 0x0, 0x0);
        gbc.writeMem(0x7ae0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xced, gbc.sp());
        EXPECT(0x7ae2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02D1
        gbc.setState(0xdf, 0x883, 0x1e90, 0xe106, 0x922d, 0xfba, 0x1, 0x0);
        gbc.writeMem(0xdf, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x883, gbc.sp());
        EXPECT(0xe1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02D2
        gbc.setState(0x4af6, 0x3107, 0xff90, 0x9cb2, 0xa83c, 0x9d69, 0x1, 0x0);
        gbc.writeMem(0x4af6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x3107, gbc.sp());
        EXPECT(0x4af8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02D3
        gbc.setState(0xca3e, 0x40be, 0xd530, 0xcec1, 0x49c9, 0xadc9, 0x1, 0x1);
        gbc.writeMem(0xca3e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x40be, gbc.sp());
        EXPECT(0xca40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca3e));
        EXPECT(0x82, gbc.readMem(0xca3f));
        // CB 82 02D4
        gbc.setState(0x9407, 0xc931, 0x2780, 0x1764, 0xa825, 0x60b8, 0x1, 0x1);
        gbc.writeMem(0x9407, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xc931, gbc.sp());
        EXPECT(0x9409, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9407));
        EXPECT(0x82, gbc.readMem(0x9408));
        // CB 82 02D5
        gbc.setState(0x85d9, 0xdd9, 0x3c80, 0xccc6, 0x13ab, 0x4e8a, 0x0, 0x1);
        gbc.writeMem(0x85d9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xdd9, gbc.sp());
        EXPECT(0x85db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x85d9));
        EXPECT(0x82, gbc.readMem(0x85da));
        // CB 82 02D6
        gbc.setState(0x5897, 0x8b76, 0x2d70, 0xd6ca, 0xccba, 0x1a64, 0x1, 0x0);
        gbc.writeMem(0x5897, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x8b76, gbc.sp());
        EXPECT(0x5899, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02D7
        gbc.setState(0x3b98, 0x1b08, 0x3640, 0x31c7, 0xb996, 0xd3c9, 0x1, 0x1);
        gbc.writeMem(0x3b98, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x1b08, gbc.sp());
        EXPECT(0x3b9a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02D8
        gbc.setState(0x2bc2, 0x302f, 0x2950, 0x9866, 0xefde, 0x33e, 0x0, 0x0);
        gbc.writeMem(0x2bc2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x302f, gbc.sp());
        EXPECT(0x2bc4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02D9
        gbc.setState(0x31df, 0x4f0, 0x7b40, 0x781d, 0xdefe, 0xdc94, 0x0, 0x1);
        gbc.writeMem(0x31df, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x4f0, gbc.sp());
        EXPECT(0x31e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02DC
        gbc.setState(0x7f72, 0x5abf, 0x1410, 0x388c, 0x1b89, 0x8f04, 0x1, 0x1);
        gbc.writeMem(0x7f72, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x5abf, gbc.sp());
        EXPECT(0x7f74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02DD
        gbc.setState(0x6fc9, 0xff80, 0xe5e0, 0xf5cd, 0x4735, 0x3a79, 0x1, 0x1);
        gbc.writeMem(0x6fc9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xff80, gbc.sp());
        EXPECT(0x6fcb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02DE
        gbc.setState(0x766f, 0x8bd5, 0xd090, 0x53bf, 0xbf92, 0xeaf1, 0x1, 0x1);
        gbc.writeMem(0x766f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x8bd5, gbc.sp());
        EXPECT(0x7671, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02DF
        gbc.setState(0xcecf, 0x897b, 0x5e70, 0xf87f, 0x2284, 0xf017, 0x1, 0x1);
        gbc.writeMem(0xcecf, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x897b, gbc.sp());
        EXPECT(0xced1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcecf));
        EXPECT(0x82, gbc.readMem(0xced0));
        // CB 82 02E1
        gbc.setState(0x2a8d, 0x3ccd, 0x61c0, 0x3683, 0x4299, 0xa6a1, 0x0, 0x1);
        gbc.writeMem(0x2a8d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x3ccd, gbc.sp());
        EXPECT(0x2a8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02E3
        gbc.setState(0x527f, 0x3349, 0xd580, 0x6212, 0xc6c2, 0x5859, 0x0, 0x0);
        gbc.writeMem(0x527f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x3349, gbc.sp());
        EXPECT(0x5281, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02E4
        gbc.setState(0x1167, 0x5000, 0x3580, 0xb2b4, 0xf18b, 0x9bd7, 0x1, 0x0);
        gbc.writeMem(0x1167, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x5000, gbc.sp());
        EXPECT(0x1169, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02E5
        gbc.setState(0x6d09, 0x3f1a, 0x4ca0, 0xc641, 0x64b3, 0xdea6, 0x1, 0x1);
        gbc.writeMem(0x6d09, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x3f1a, gbc.sp());
        EXPECT(0x6d0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02E6
        gbc.setState(0x9d23, 0xca79, 0xa2e0, 0x5277, 0xd01, 0x610d, 0x0, 0x0);
        gbc.writeMem(0x9d23, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0xca79, gbc.sp());
        EXPECT(0x9d25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d23));
        EXPECT(0x82, gbc.readMem(0x9d24));
        // CB 82 02E7
        gbc.setState(0xe946, 0x92ef, 0x2b00, 0x1db9, 0xae55, 0x8184, 0x1, 0x0);
        gbc.writeMem(0xe946, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x92ef, gbc.sp());
        EXPECT(0xe948, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe946));
        EXPECT(0x82, gbc.readMem(0xe947));
        // CB 82 02E8
        gbc.setState(0x2186, 0x6323, 0xa220, 0xb1c1, 0xb10c, 0x16f0, 0x1, 0x1);
        gbc.writeMem(0x2186, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x6323, gbc.sp());
        EXPECT(0x2188, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02E9
        gbc.setState(0xca1e, 0x64b4, 0x7b90, 0xc281, 0x8186, 0x8f15, 0x0, 0x1);
        gbc.writeMem(0xca1e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x64b4, gbc.sp());
        EXPECT(0xca20, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca1e));
        EXPECT(0x82, gbc.readMem(0xca1f));
        // CB 82 02EA
        gbc.setState(0x185f, 0xc2a6, 0xf380, 0xe862, 0x77c0, 0x8bae, 0x0, 0x1);
        gbc.writeMem(0x185f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xc2a6, gbc.sp());
        EXPECT(0x1861, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02EB
        gbc.setState(0xdcc8, 0xe07b, 0xbcb0, 0xaad1, 0x478c, 0xac79, 0x1, 0x1);
        gbc.writeMem(0xdcc8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xe07b, gbc.sp());
        EXPECT(0xdcca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcc8));
        EXPECT(0x82, gbc.readMem(0xdcc9));
        // CB 82 02EC
        gbc.setState(0x17bf, 0xdb5a, 0x1240, 0xcbc5, 0xaad7, 0xfcc, 0x1, 0x0);
        gbc.writeMem(0x17bf, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xdb5a, gbc.sp());
        EXPECT(0x17c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02ED
        gbc.setState(0x8f53, 0xe12c, 0x7bd0, 0x93a5, 0xe949, 0x2588, 0x0, 0x1);
        gbc.writeMem(0x8f53, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xe12c, gbc.sp());
        EXPECT(0x8f55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f53));
        EXPECT(0x82, gbc.readMem(0x8f54));
        // CB 82 02EF
        gbc.setState(0xecd7, 0x302e, 0x8bc0, 0xb879, 0x78d9, 0x5551, 0x1, 0x1);
        gbc.writeMem(0xecd7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x302e, gbc.sp());
        EXPECT(0xecd9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xecd7));
        EXPECT(0x82, gbc.readMem(0xecd8));
        // CB 82 02F0
        gbc.setState(0xac0d, 0x147b, 0x210, 0xa9b9, 0xbf70, 0x90eb, 0x1, 0x0);
        gbc.writeMem(0xac0d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x147b, gbc.sp());
        EXPECT(0xac0f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac0d));
        EXPECT(0x82, gbc.readMem(0xac0e));
        // CB 82 02F1
        gbc.setState(0x7471, 0x4177, 0xdc10, 0x6ef, 0xe4fa, 0x2063, 0x1, 0x1);
        gbc.writeMem(0x7471, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x4177, gbc.sp());
        EXPECT(0x7473, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02F2
        gbc.setState(0x5c9e, 0xe046, 0xb940, 0x93a2, 0xa1c4, 0x5fe2, 0x0, 0x1);
        gbc.writeMem(0x5c9e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xe046, gbc.sp());
        EXPECT(0x5ca0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02F3
        gbc.setState(0x5d6e, 0x8353, 0xed90, 0x1600, 0xb3b1, 0x3b0e, 0x0, 0x1);
        gbc.writeMem(0x5d6e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x8353, gbc.sp());
        EXPECT(0x5d70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 02F4
        gbc.setState(0xb492, 0xae0a, 0x7fe0, 0x1231, 0xa65, 0x6cdb, 0x0, 0x0);
        gbc.writeMem(0xb492, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xae0a, gbc.sp());
        EXPECT(0xb494, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb492));
        EXPECT(0x82, gbc.readMem(0xb493));
        // CB 82 02F5
        gbc.setState(0x2f96, 0x6c7d, 0xcfe0, 0xe87c, 0x2300, 0x95e4, 0x0, 0x0);
        gbc.writeMem(0x2f96, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x6c7d, gbc.sp());
        EXPECT(0x2f98, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02F6
        gbc.setState(0x8707, 0xae12, 0x7540, 0x1dcf, 0x5ce4, 0x6410, 0x0, 0x0);
        gbc.writeMem(0x8707, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xae12, gbc.sp());
        EXPECT(0x8709, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8707));
        EXPECT(0x82, gbc.readMem(0x8708));
        // CB 82 02F7
        gbc.setState(0x9490, 0x693c, 0xb1f0, 0xfda0, 0x35f5, 0x2e46, 0x1, 0x0);
        gbc.writeMem(0x9490, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x693c, gbc.sp());
        EXPECT(0x9492, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9490));
        EXPECT(0x82, gbc.readMem(0x9491));
        // CB 82 02F8
        gbc.setState(0xb733, 0xb26e, 0x13b0, 0x526f, 0xf612, 0x1b84, 0x0, 0x0);
        gbc.writeMem(0xb733, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xb26e, gbc.sp());
        EXPECT(0xb735, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb733));
        EXPECT(0x82, gbc.readMem(0xb734));
        // CB 82 02F9
        gbc.setState(0x4b72, 0xd772, 0xe880, 0xdbb2, 0xd826, 0x958a, 0x0, 0x1);
        gbc.writeMem(0x4b72, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xd772, gbc.sp());
        EXPECT(0x4b74, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02FA
        gbc.setState(0x8df5, 0x3602, 0xfd0, 0xed70, 0xe85f, 0x4827, 0x0, 0x1);
        gbc.writeMem(0x8df5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x3602, gbc.sp());
        EXPECT(0x8df7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8df5));
        EXPECT(0x82, gbc.readMem(0x8df6));
        // CB 82 02FB
        gbc.setState(0x8a26, 0x626b, 0x7f90, 0xb87f, 0xeba5, 0xdb17, 0x1, 0x0);
        gbc.writeMem(0x8a26, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x626b, gbc.sp());
        EXPECT(0x8a28, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a26));
        EXPECT(0x82, gbc.readMem(0x8a27));
        // CB 82 02FC
        gbc.setState(0x6776, 0x4ee3, 0x4be0, 0xbd45, 0x2846, 0x4614, 0x0, 0x0);
        gbc.writeMem(0x6776, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x4ee3, gbc.sp());
        EXPECT(0x6778, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 02FF
        gbc.setState(0x1904, 0x64e, 0x4d0, 0xb633, 0x95e3, 0xe26b, 0x1, 0x1);
        gbc.writeMem(0x1904, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x64e, gbc.sp());
        EXPECT(0x1906, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0300
        gbc.setState(0xa036, 0xf61c, 0x7240, 0x310d, 0xefa3, 0x6051, 0x0, 0x0);
        gbc.writeMem(0xa036, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xf61c, gbc.sp());
        EXPECT(0xa038, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa036));
        EXPECT(0x82, gbc.readMem(0xa037));
        // CB 82 0301
        gbc.setState(0x31de, 0xdc83, 0x5cd0, 0x650e, 0x3f27, 0xcf1a, 0x1, 0x0);
        gbc.writeMem(0x31de, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xdc83, gbc.sp());
        EXPECT(0x31e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0302
        gbc.setState(0x377b, 0xcd14, 0xd0b0, 0x861, 0x496a, 0xeabc, 0x1, 0x1);
        gbc.writeMem(0x377b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xcd14, gbc.sp());
        EXPECT(0x377d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0303
        gbc.setState(0x3403, 0xaeff, 0x5dc0, 0x6bd7, 0xab2f, 0x434a, 0x1, 0x0);
        gbc.writeMem(0x3403, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xaeff, gbc.sp());
        EXPECT(0x3405, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0304
        gbc.setState(0xe02, 0x57e9, 0x3130, 0xf774, 0x4552, 0xe0ed, 0x0, 0x0);
        gbc.writeMem(0xe02, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x57e9, gbc.sp());
        EXPECT(0xe04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0305
        gbc.setState(0xadf3, 0xf440, 0x7cb0, 0xc96d, 0x8039, 0x7534, 0x1, 0x0);
        gbc.writeMem(0xadf3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xf440, gbc.sp());
        EXPECT(0xadf5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xadf3));
        EXPECT(0x82, gbc.readMem(0xadf4));
        // CB 82 0306
        gbc.setState(0xdac2, 0xc707, 0xb010, 0xbc13, 0xff1c, 0x97b3, 0x1, 0x0);
        gbc.writeMem(0xdac2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xc707, gbc.sp());
        EXPECT(0xdac4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdac2));
        EXPECT(0x82, gbc.readMem(0xdac3));
        // CB 82 0307
        gbc.setState(0x4544, 0x3dd7, 0xdf20, 0x8628, 0x1036, 0x2709, 0x1, 0x1);
        gbc.writeMem(0x4544, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x3dd7, gbc.sp());
        EXPECT(0x4546, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0308
        gbc.setState(0x6a8, 0x6914, 0xe720, 0xc4d2, 0x7a24, 0x53ea, 0x1, 0x1);
        gbc.writeMem(0x6a8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x6914, gbc.sp());
        EXPECT(0x6aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0309
        gbc.setState(0x822e, 0xebd9, 0x780, 0x651, 0x2c88, 0xd93a, 0x1, 0x0);
        gbc.writeMem(0x822e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xebd9, gbc.sp());
        EXPECT(0x8230, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x822e));
        EXPECT(0x82, gbc.readMem(0x822f));
        // CB 82 030A
        gbc.setState(0x4270, 0x2252, 0xb530, 0xc9aa, 0x2889, 0x7fe, 0x1, 0x1);
        gbc.writeMem(0x4270, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x2252, gbc.sp());
        EXPECT(0x4272, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 030B
        gbc.setState(0x70e6, 0xc210, 0xbb60, 0xabe3, 0x9363, 0x74f5, 0x1, 0x0);
        gbc.writeMem(0x70e6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xc210, gbc.sp());
        EXPECT(0x70e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 030C
        gbc.setState(0x87f4, 0x96b0, 0x3260, 0x782a, 0x909a, 0x785e, 0x0, 0x0);
        gbc.writeMem(0x87f4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x96b0, gbc.sp());
        EXPECT(0x87f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87f4));
        EXPECT(0x82, gbc.readMem(0x87f5));
        // CB 82 030D
        gbc.setState(0xe155, 0x30c8, 0x95b0, 0xff92, 0x4dc2, 0x9732, 0x0, 0x0);
        gbc.writeMem(0xe155, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x30c8, gbc.sp());
        EXPECT(0xe157, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe155));
        EXPECT(0x82, gbc.readMem(0xe156));
        // CB 82 030E
        gbc.setState(0x321d, 0xaecc, 0x3460, 0x1326, 0x4690, 0x47fc, 0x1, 0x0);
        gbc.writeMem(0x321d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xaecc, gbc.sp());
        EXPECT(0x321f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 030F
        gbc.setState(0x92c0, 0x717b, 0x5050, 0x1f82, 0x94c5, 0x70c7, 0x1, 0x0);
        gbc.writeMem(0x92c0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x717b, gbc.sp());
        EXPECT(0x92c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92c0));
        EXPECT(0x82, gbc.readMem(0x92c1));
        // CB 82 0310
        gbc.setState(0x8d2b, 0x16a3, 0xa300, 0x1e18, 0x46e7, 0x295e, 0x0, 0x0);
        gbc.writeMem(0x8d2b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x16a3, gbc.sp());
        EXPECT(0x8d2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d2b));
        EXPECT(0x82, gbc.readMem(0x8d2c));
        // CB 82 0311
        gbc.setState(0x2afe, 0x57f9, 0xf770, 0xd50a, 0xb97d, 0xf7e2, 0x0, 0x1);
        gbc.writeMem(0x2afe, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x57f9, gbc.sp());
        EXPECT(0x2b00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0312
        gbc.setState(0x9e8d, 0x8928, 0x25b0, 0xec8, 0x1784, 0x753e, 0x1, 0x0);
        gbc.writeMem(0x9e8d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x8928, gbc.sp());
        EXPECT(0x9e8f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e8d));
        EXPECT(0x82, gbc.readMem(0x9e8e));
        // CB 82 0313
        gbc.setState(0x11e8, 0xa69d, 0x6790, 0x3abe, 0xe908, 0x88a4, 0x1, 0x1);
        gbc.writeMem(0x11e8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xa69d, gbc.sp());
        EXPECT(0x11ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0316
        gbc.setState(0xa06f, 0x79d1, 0x5700, 0x7db8, 0x8d58, 0x4947, 0x1, 0x1);
        gbc.writeMem(0xa06f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x79d1, gbc.sp());
        EXPECT(0xa071, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa06f));
        EXPECT(0x82, gbc.readMem(0xa070));
        // CB 82 0317
        gbc.setState(0xd58, 0xd0a9, 0x19f0, 0x8ee5, 0xcdc9, 0x4da, 0x0, 0x1);
        gbc.writeMem(0xd58, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xd0a9, gbc.sp());
        EXPECT(0xd5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0318
        gbc.setState(0xc50a, 0x3038, 0x73b0, 0xf12d, 0x2de1, 0x616c, 0x1, 0x0);
        gbc.writeMem(0xc50a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x3038, gbc.sp());
        EXPECT(0xc50c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc50a));
        EXPECT(0x82, gbc.readMem(0xc50b));
        // CB 82 0319
        gbc.setState(0x5b0b, 0xedad, 0x4520, 0x6aee, 0x2b9c, 0xe6d5, 0x0, 0x1);
        gbc.writeMem(0x5b0b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xedad, gbc.sp());
        EXPECT(0x5b0d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 031A
        gbc.setState(0x8b4, 0xd7a4, 0x9280, 0xff8b, 0x9a9, 0x6d56, 0x0, 0x0);
        gbc.writeMem(0x8b4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xd7a4, gbc.sp());
        EXPECT(0x8b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 031B
        gbc.setState(0x31f4, 0x493, 0x6cf0, 0x92a0, 0x3fab, 0xa1a3, 0x1, 0x1);
        gbc.writeMem(0x31f4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x493, gbc.sp());
        EXPECT(0x31f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 031C
        gbc.setState(0xa90a, 0x68d5, 0x8070, 0xf148, 0x4429, 0x8939, 0x1, 0x1);
        gbc.writeMem(0xa90a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x68d5, gbc.sp());
        EXPECT(0xa90c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa90a));
        EXPECT(0x82, gbc.readMem(0xa90b));
        // CB 82 031D
        gbc.setState(0x6601, 0xf5f9, 0x81c0, 0xdc00, 0xcabe, 0xf580, 0x1, 0x0);
        gbc.writeMem(0x6601, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xf5f9, gbc.sp());
        EXPECT(0x6603, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 031E
        gbc.setState(0x8084, 0x8678, 0xa950, 0x13b1, 0xbc08, 0x9d79, 0x1, 0x1);
        gbc.writeMem(0x8084, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x8678, gbc.sp());
        EXPECT(0x8086, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8084));
        EXPECT(0x82, gbc.readMem(0x8085));
        // CB 82 031F
        gbc.setState(0xec4c, 0x4a45, 0x2800, 0xd7d1, 0x2d04, 0xcaa1, 0x1, 0x0);
        gbc.writeMem(0xec4c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x4a45, gbc.sp());
        EXPECT(0xec4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec4c));
        EXPECT(0x82, gbc.readMem(0xec4d));
        // CB 82 0320
        gbc.setState(0x652c, 0x58e0, 0xe490, 0x5485, 0xa50, 0x4985, 0x1, 0x1);
        gbc.writeMem(0x652c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x58e0, gbc.sp());
        EXPECT(0x652e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0322
        gbc.setState(0x124e, 0xc877, 0x4490, 0x7003, 0xa958, 0xb1ef, 0x0, 0x1);
        gbc.writeMem(0x124e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xc877, gbc.sp());
        EXPECT(0x1250, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0323
        gbc.setState(0xa455, 0x7ed9, 0xffe0, 0x452b, 0x997f, 0x3a7f, 0x0, 0x0);
        gbc.writeMem(0xa455, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x7ed9, gbc.sp());
        EXPECT(0xa457, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa455));
        EXPECT(0x82, gbc.readMem(0xa456));
        // CB 82 0324
        gbc.setState(0xee1c, 0x7af0, 0xbd70, 0x51fb, 0xd7db, 0xe909, 0x0, 0x0);
        gbc.writeMem(0xee1c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x7af0, gbc.sp());
        EXPECT(0xee1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee1c));
        EXPECT(0x82, gbc.readMem(0xee1d));
        // CB 82 0325
        gbc.setState(0x8799, 0x2f81, 0x44a0, 0x1ed2, 0x83af, 0xc607, 0x0, 0x1);
        gbc.writeMem(0x8799, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x2f81, gbc.sp());
        EXPECT(0x879b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8799));
        EXPECT(0x82, gbc.readMem(0x879a));
        // CB 82 0326
        gbc.setState(0x4e8b, 0xb9ec, 0x3880, 0xe8f0, 0xe90a, 0x3039, 0x1, 0x1);
        gbc.writeMem(0x4e8b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xb9ec, gbc.sp());
        EXPECT(0x4e8d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0327
        gbc.setState(0x843a, 0x8f34, 0xd9d0, 0x154d, 0xcb11, 0x119a, 0x0, 0x0);
        gbc.writeMem(0x843a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x8f34, gbc.sp());
        EXPECT(0x843c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x843a));
        EXPECT(0x82, gbc.readMem(0x843b));
        // CB 82 0328
        gbc.setState(0x6bb0, 0xf7d7, 0xba20, 0x2375, 0xe53f, 0x45f, 0x0, 0x1);
        gbc.writeMem(0x6bb0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xf7d7, gbc.sp());
        EXPECT(0x6bb2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0329
        gbc.setState(0x907e, 0x88ac, 0x6dd0, 0xdbe6, 0x2863, 0xa644, 0x1, 0x1);
        gbc.writeMem(0x907e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x88ac, gbc.sp());
        EXPECT(0x9080, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x907e));
        EXPECT(0x82, gbc.readMem(0x907f));
        // CB 82 032A
        gbc.setState(0x3c7e, 0x9f25, 0xd7e0, 0x59a, 0xa752, 0x2471, 0x1, 0x1);
        gbc.writeMem(0x3c7e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x9f25, gbc.sp());
        EXPECT(0x3c80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 032B
        gbc.setState(0x617f, 0xba39, 0x5100, 0x3795, 0xa8b8, 0x26a, 0x1, 0x1);
        gbc.writeMem(0x617f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xba39, gbc.sp());
        EXPECT(0x6181, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 032D
        gbc.setState(0x912f, 0x440e, 0xc5a0, 0xf219, 0xc478, 0x6387, 0x0, 0x0);
        gbc.writeMem(0x912f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x440e, gbc.sp());
        EXPECT(0x9131, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x912f));
        EXPECT(0x82, gbc.readMem(0x9130));
        // CB 82 032F
        gbc.setState(0x1e30, 0x91a4, 0xdcb0, 0xda76, 0x2de8, 0x3d3c, 0x0, 0x0);
        gbc.writeMem(0x1e30, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x91a4, gbc.sp());
        EXPECT(0x1e32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0330
        gbc.setState(0x5b9, 0x3536, 0xf520, 0xa145, 0x4f3a, 0x7395, 0x1, 0x0);
        gbc.writeMem(0x5b9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x3536, gbc.sp());
        EXPECT(0x5bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0331
        gbc.setState(0x6ef, 0x2d0b, 0x5ba0, 0x6b32, 0xc10f, 0xba67, 0x1, 0x1);
        gbc.writeMem(0x6ef, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x2d0b, gbc.sp());
        EXPECT(0x6f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0332
        gbc.setState(0x284b, 0xc407, 0xa750, 0xc89e, 0xaca9, 0xf2a8, 0x1, 0x1);
        gbc.writeMem(0x284b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xc407, gbc.sp());
        EXPECT(0x284d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0333
        gbc.setState(0xa7a7, 0xfefa, 0xabb0, 0x2f29, 0x7ef6, 0xad82, 0x0, 0x0);
        gbc.writeMem(0xa7a7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xfefa, gbc.sp());
        EXPECT(0xa7a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7a7));
        EXPECT(0x82, gbc.readMem(0xa7a8));
        // CB 82 0334
        gbc.setState(0xc2c0, 0xb40f, 0xcc60, 0x1098, 0x9b08, 0xf3b4, 0x1, 0x0);
        gbc.writeMem(0xc2c0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xb40f, gbc.sp());
        EXPECT(0xc2c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc2c0));
        EXPECT(0x82, gbc.readMem(0xc2c1));
        // CB 82 0335
        gbc.setState(0xc81a, 0x649f, 0x4890, 0x585e, 0xabcf, 0xa704, 0x0, 0x0);
        gbc.writeMem(0xc81a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x649f, gbc.sp());
        EXPECT(0xc81c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc81a));
        EXPECT(0x82, gbc.readMem(0xc81b));
        // CB 82 0336
        gbc.setState(0xd8f4, 0xcbdc, 0x62b0, 0x3cce, 0x2588, 0xe35a, 0x1, 0x0);
        gbc.writeMem(0xd8f4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xcbdc, gbc.sp());
        EXPECT(0xd8f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd8f4));
        EXPECT(0x82, gbc.readMem(0xd8f5));
        // CB 82 0337
        gbc.setState(0xaa25, 0x96d9, 0xd780, 0x8b73, 0x60cc, 0x323, 0x0, 0x0);
        gbc.writeMem(0xaa25, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x96d9, gbc.sp());
        EXPECT(0xaa27, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa25));
        EXPECT(0x82, gbc.readMem(0xaa26));
        // CB 82 0339
        gbc.setState(0x4091, 0xf361, 0xaeb0, 0x6bc3, 0x680f, 0x62b9, 0x1, 0x1);
        gbc.writeMem(0x4091, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xf361, gbc.sp());
        EXPECT(0x4093, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 033A
        gbc.setState(0x80c, 0x78dc, 0xb330, 0xbee3, 0xb82c, 0x53c4, 0x0, 0x0);
        gbc.writeMem(0x80c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x78dc, gbc.sp());
        EXPECT(0x80e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 033B
        gbc.setState(0x3a61, 0xb7bc, 0x1000, 0xde99, 0x1e5, 0x3c0c, 0x0, 0x0);
        gbc.writeMem(0x3a61, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xb7bc, gbc.sp());
        EXPECT(0x3a63, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 033C
        gbc.setState(0x5c83, 0x1830, 0x94a0, 0xb4e8, 0x91bc, 0x8ba2, 0x1, 0x1);
        gbc.writeMem(0x5c83, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x1830, gbc.sp());
        EXPECT(0x5c85, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 033D
        gbc.setState(0x647e, 0xd261, 0xfe70, 0xdda, 0xf505, 0x42de, 0x0, 0x1);
        gbc.writeMem(0x647e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xd261, gbc.sp());
        EXPECT(0x6480, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 033E
        gbc.setState(0x736b, 0x9c8e, 0x8f50, 0x483f, 0x2ce6, 0xaefe, 0x0, 0x1);
        gbc.writeMem(0x736b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x9c8e, gbc.sp());
        EXPECT(0x736d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 033F
        gbc.setState(0x671c, 0x7f17, 0x6fe0, 0xb178, 0x3567, 0xe275, 0x0, 0x0);
        gbc.writeMem(0x671c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x7f17, gbc.sp());
        EXPECT(0x671e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0340
        gbc.setState(0xc801, 0x1a74, 0x83a0, 0x42aa, 0x6ab8, 0xd723, 0x1, 0x0);
        gbc.writeMem(0xc801, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x1a74, gbc.sp());
        EXPECT(0xc803, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc801));
        EXPECT(0x82, gbc.readMem(0xc802));
        // CB 82 0341
        gbc.setState(0xd8a2, 0xb805, 0x3150, 0x44c, 0x6083, 0x2848, 0x0, 0x1);
        gbc.writeMem(0xd8a2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xb805, gbc.sp());
        EXPECT(0xd8a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd8a2));
        EXPECT(0x82, gbc.readMem(0xd8a3));
        // CB 82 0342
        gbc.setState(0x61c0, 0xb9e8, 0xb690, 0xc573, 0xcd06, 0x40bb, 0x0, 0x0);
        gbc.writeMem(0x61c0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xb9e8, gbc.sp());
        EXPECT(0x61c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0343
        gbc.setState(0xa715, 0x8deb, 0x3e40, 0x56c9, 0x6b6c, 0x2a31, 0x0, 0x1);
        gbc.writeMem(0xa715, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x8deb, gbc.sp());
        EXPECT(0xa717, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa715));
        EXPECT(0x82, gbc.readMem(0xa716));
        // CB 82 0344
        gbc.setState(0x7da1, 0x943a, 0x5170, 0xf794, 0xe928, 0x5c51, 0x1, 0x1);
        gbc.writeMem(0x7da1, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x943a, gbc.sp());
        EXPECT(0x7da3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0345
        gbc.setState(0xd998, 0xbc18, 0x9980, 0x826f, 0xd811, 0x7611, 0x1, 0x1);
        gbc.writeMem(0xd998, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xbc18, gbc.sp());
        EXPECT(0xd99a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd998));
        EXPECT(0x82, gbc.readMem(0xd999));
        // CB 82 0346
        gbc.setState(0x8605, 0x323a, 0x1d40, 0xc82a, 0x9142, 0xe3f8, 0x1, 0x0);
        gbc.writeMem(0x8605, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x323a, gbc.sp());
        EXPECT(0x8607, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8605));
        EXPECT(0x82, gbc.readMem(0x8606));
        // CB 82 0347
        gbc.setState(0x6ce5, 0x8314, 0x2c30, 0x1669, 0x7407, 0xb1f8, 0x1, 0x0);
        gbc.writeMem(0x6ce5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x8314, gbc.sp());
        EXPECT(0x6ce7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0348
        gbc.setState(0x1e83, 0xe0c2, 0x3f30, 0x6316, 0xa5e0, 0x7a1c, 0x0, 0x1);
        gbc.writeMem(0x1e83, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xe0c2, gbc.sp());
        EXPECT(0x1e85, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0349
        gbc.setState(0x868, 0x4b67, 0x5c0, 0x5a07, 0x6156, 0x3424, 0x0, 0x1);
        gbc.writeMem(0x868, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x4b67, gbc.sp());
        EXPECT(0x86a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 034A
        gbc.setState(0x54fe, 0x6fef, 0xa710, 0xef8e, 0x2d1c, 0xe4ed, 0x0, 0x0);
        gbc.writeMem(0x54fe, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x6fef, gbc.sp());
        EXPECT(0x5500, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 034B
        gbc.setState(0x3562, 0x4900, 0x56e0, 0x2c3f, 0x4554, 0x74aa, 0x0, 0x1);
        gbc.writeMem(0x3562, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x4900, gbc.sp());
        EXPECT(0x3564, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 034C
        gbc.setState(0x6b67, 0xd90b, 0x1b40, 0xb9b, 0x23a, 0x6d99, 0x1, 0x0);
        gbc.writeMem(0x6b67, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xd90b, gbc.sp());
        EXPECT(0x6b69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 034E
        gbc.setState(0x5aab, 0xa02e, 0xc3b0, 0x773f, 0x6c42, 0xc8ab, 0x0, 0x0);
        gbc.writeMem(0x5aab, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xa02e, gbc.sp());
        EXPECT(0x5aad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 034F
        gbc.setState(0xb6f5, 0x633, 0x35f0, 0x958a, 0x8a85, 0xdf53, 0x0, 0x1);
        gbc.writeMem(0xb6f5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x633, gbc.sp());
        EXPECT(0xb6f7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb6f5));
        EXPECT(0x82, gbc.readMem(0xb6f6));
        // CB 82 0350
        gbc.setState(0x8c3e, 0x1c26, 0x6c40, 0xb414, 0xd1fc, 0x325f, 0x1, 0x0);
        gbc.writeMem(0x8c3e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x1c26, gbc.sp());
        EXPECT(0x8c40, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c3e));
        EXPECT(0x82, gbc.readMem(0x8c3f));
        // CB 82 0351
        gbc.setState(0xee1, 0xbcd9, 0x8300, 0xee03, 0x31ff, 0x2448, 0x1, 0x1);
        gbc.writeMem(0xee1, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xbcd9, gbc.sp());
        EXPECT(0xee3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0352
        gbc.setState(0x3366, 0x3399, 0x68b0, 0x2648, 0xa456, 0x3ea4, 0x0, 0x0);
        gbc.writeMem(0x3366, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x3399, gbc.sp());
        EXPECT(0x3368, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0353
        gbc.setState(0x99f6, 0x1ad2, 0x6020, 0x8224, 0x2bd4, 0x41da, 0x1, 0x1);
        gbc.writeMem(0x99f6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x1ad2, gbc.sp());
        EXPECT(0x99f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99f6));
        EXPECT(0x82, gbc.readMem(0x99f7));
        // CB 82 0355
        gbc.setState(0x9145, 0xb2, 0x4940, 0x767a, 0x62d7, 0xd36b, 0x1, 0x1);
        gbc.writeMem(0x9145, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xb2, gbc.sp());
        EXPECT(0x9147, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9145));
        EXPECT(0x82, gbc.readMem(0x9146));
        // CB 82 0356
        gbc.setState(0x6e29, 0x6876, 0x5890, 0x3346, 0xb2e4, 0x9e78, 0x1, 0x0);
        gbc.writeMem(0x6e29, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x6876, gbc.sp());
        EXPECT(0x6e2b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0357
        gbc.setState(0xba81, 0x7541, 0x36d0, 0x63b8, 0x7697, 0xc805, 0x0, 0x1);
        gbc.writeMem(0xba81, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x7541, gbc.sp());
        EXPECT(0xba83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba81));
        EXPECT(0x82, gbc.readMem(0xba82));
        // CB 82 0358
        gbc.setState(0x8937, 0x471f, 0xa270, 0xfc8e, 0x425d, 0x1fd2, 0x0, 0x0);
        gbc.writeMem(0x8937, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x471f, gbc.sp());
        EXPECT(0x8939, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8937));
        EXPECT(0x82, gbc.readMem(0x8938));
        // CB 82 0359
        gbc.setState(0x8289, 0xeb4f, 0x7370, 0x6a23, 0x3170, 0x7b5c, 0x1, 0x0);
        gbc.writeMem(0x8289, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xeb4f, gbc.sp());
        EXPECT(0x828b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8289));
        EXPECT(0x82, gbc.readMem(0x828a));
        // CB 82 035A
        gbc.setState(0xcc4c, 0x1a7b, 0xd130, 0x88a2, 0xc5d9, 0x8c1e, 0x1, 0x1);
        gbc.writeMem(0xcc4c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x1a7b, gbc.sp());
        EXPECT(0xcc4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc4c));
        EXPECT(0x82, gbc.readMem(0xcc4d));
        // CB 82 035B
        gbc.setState(0x3d20, 0x1b66, 0x6c00, 0x173c, 0xa281, 0x6bc5, 0x0, 0x1);
        gbc.writeMem(0x3d20, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x1b66, gbc.sp());
        EXPECT(0x3d22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 035C
        gbc.setState(0xeeca, 0x8bd0, 0x66a0, 0xa370, 0xf3a, 0xf494, 0x0, 0x1);
        gbc.writeMem(0xeeca, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x8bd0, gbc.sp());
        EXPECT(0xeecc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeeca));
        EXPECT(0x82, gbc.readMem(0xeecb));
        // CB 82 035D
        gbc.setState(0xd572, 0x7402, 0xe150, 0xcd01, 0x79e6, 0xe154, 0x1, 0x0);
        gbc.writeMem(0xd572, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x7402, gbc.sp());
        EXPECT(0xd574, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd572));
        EXPECT(0x82, gbc.readMem(0xd573));
        // CB 82 035E
        gbc.setState(0x6a3f, 0xffd6, 0xaba0, 0x9ff3, 0x96f, 0xa971, 0x0, 0x0);
        gbc.writeMem(0x6a3f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0xffd6, gbc.sp());
        EXPECT(0x6a41, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 035F
        gbc.setState(0x48b6, 0xd6f1, 0xc4b0, 0x95e2, 0xe132, 0x819b, 0x1, 0x0);
        gbc.writeMem(0x48b6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xd6f1, gbc.sp());
        EXPECT(0x48b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0360
        gbc.setState(0x9c4a, 0xe071, 0x1580, 0x267c, 0x5285, 0x9c4f, 0x0, 0x0);
        gbc.writeMem(0x9c4a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xe071, gbc.sp());
        EXPECT(0x9c4c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c4a));
        EXPECT(0x82, gbc.readMem(0x9c4b));
        // CB 82 0361
        gbc.setState(0x4f94, 0xda67, 0x6aa0, 0xd512, 0x6c6d, 0x1ed1, 0x0, 0x1);
        gbc.writeMem(0x4f94, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xda67, gbc.sp());
        EXPECT(0x4f96, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0362
        gbc.setState(0xe2c0, 0x587a, 0xc980, 0xd000, 0x6417, 0x594c, 0x0, 0x0);
        gbc.writeMem(0xe2c0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x587a, gbc.sp());
        EXPECT(0xe2c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe2c0));
        EXPECT(0x82, gbc.readMem(0xe2c1));
        // CB 82 0363
        gbc.setState(0xc4bc, 0xb493, 0x93c0, 0x5779, 0x3ae6, 0x90a0, 0x1, 0x1);
        gbc.writeMem(0xc4bc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xb493, gbc.sp());
        EXPECT(0xc4be, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4bc));
        EXPECT(0x82, gbc.readMem(0xc4bd));
        // CB 82 0364
        gbc.setState(0xddbc, 0x39a8, 0x96a0, 0x53d7, 0x2c83, 0xa601, 0x1, 0x0);
        gbc.writeMem(0xddbc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x39a8, gbc.sp());
        EXPECT(0xddbe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xddbc));
        EXPECT(0x82, gbc.readMem(0xddbd));
        // CB 82 0367
        gbc.setState(0x63d2, 0x3985, 0xd2a0, 0x8fe3, 0xc6bf, 0x8a11, 0x1, 0x1);
        gbc.writeMem(0x63d2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x3985, gbc.sp());
        EXPECT(0x63d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0368
        gbc.setState(0x6b10, 0x80e4, 0x9250, 0x5d7, 0x54ef, 0xcf69, 0x0, 0x0);
        gbc.writeMem(0x6b10, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x80e4, gbc.sp());
        EXPECT(0x6b12, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0369
        gbc.setState(0x92f3, 0x5368, 0x7070, 0x3d36, 0x36d7, 0x5833, 0x1, 0x1);
        gbc.writeMem(0x92f3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x5368, gbc.sp());
        EXPECT(0x92f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92f3));
        EXPECT(0x82, gbc.readMem(0x92f4));
        // CB 82 036A
        gbc.setState(0x71b5, 0x69ae, 0xb390, 0xb714, 0x5fd, 0x57ef, 0x0, 0x0);
        gbc.writeMem(0x71b5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x69ae, gbc.sp());
        EXPECT(0x71b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 036B
        gbc.setState(0xaa4b, 0x6ad3, 0xc1f0, 0xa83, 0x34d3, 0x6651, 0x1, 0x0);
        gbc.writeMem(0xaa4b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x6ad3, gbc.sp());
        EXPECT(0xaa4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaa4b));
        EXPECT(0x82, gbc.readMem(0xaa4c));
        // CB 82 036C
        gbc.setState(0x922e, 0x547, 0x3ad0, 0xe1f5, 0xbbc3, 0xdc, 0x1, 0x0);
        gbc.writeMem(0x922e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x547, gbc.sp());
        EXPECT(0x9230, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x922e));
        EXPECT(0x82, gbc.readMem(0x922f));
        // CB 82 036D
        gbc.setState(0xc4ea, 0xbd77, 0x91f0, 0xd539, 0x8098, 0xb892, 0x0, 0x1);
        gbc.writeMem(0xc4ea, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xbd77, gbc.sp());
        EXPECT(0xc4ec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4ea));
        EXPECT(0x82, gbc.readMem(0xc4eb));
        // CB 82 036E
        gbc.setState(0xc220, 0xb2d2, 0x9c40, 0xd001, 0xa424, 0xb91a, 0x1, 0x1);
        gbc.writeMem(0xc220, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xb2d2, gbc.sp());
        EXPECT(0xc222, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc220));
        EXPECT(0x82, gbc.readMem(0xc221));
        // CB 82 036F
        gbc.setState(0x8128, 0x3700, 0x7b70, 0xc5be, 0xbd19, 0xdd88, 0x0, 0x0);
        gbc.writeMem(0x8128, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x3700, gbc.sp());
        EXPECT(0x812a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8128));
        EXPECT(0x82, gbc.readMem(0x8129));
        // CB 82 0370
        gbc.setState(0x3524, 0xd32d, 0x8c70, 0xd069, 0xedcf, 0xa5b1, 0x1, 0x1);
        gbc.writeMem(0x3524, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xd32d, gbc.sp());
        EXPECT(0x3526, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0371
        gbc.setState(0x3de5, 0xb73f, 0x5110, 0x45d2, 0xaefa, 0x5810, 0x1, 0x1);
        gbc.writeMem(0x3de5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xb73f, gbc.sp());
        EXPECT(0x3de7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0372
        gbc.setState(0x89c6, 0x47e8, 0x9540, 0xa303, 0x72c3, 0x9b9a, 0x1, 0x0);
        gbc.writeMem(0x89c6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x47e8, gbc.sp());
        EXPECT(0x89c8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89c6));
        EXPECT(0x82, gbc.readMem(0x89c7));
        // CB 82 0373
        gbc.setState(0xd589, 0xd808, 0xc260, 0xfd51, 0xc85b, 0x265f, 0x0, 0x1);
        gbc.writeMem(0xd589, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xd808, gbc.sp());
        EXPECT(0xd58b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd589));
        EXPECT(0x82, gbc.readMem(0xd58a));
        // CB 82 0374
        gbc.setState(0xa1fc, 0xf5b0, 0x5190, 0x6a9a, 0x88cb, 0x797e, 0x1, 0x1);
        gbc.writeMem(0xa1fc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xf5b0, gbc.sp());
        EXPECT(0xa1fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa1fc));
        EXPECT(0x82, gbc.readMem(0xa1fd));
        // CB 82 0375
        gbc.setState(0x5a48, 0x15fa, 0x9230, 0x2b2b, 0xea0f, 0x12ed, 0x1, 0x1);
        gbc.writeMem(0x5a48, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x15fa, gbc.sp());
        EXPECT(0x5a4a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0376
        gbc.setState(0xa41a, 0x6b28, 0xae90, 0xf903, 0xc980, 0xf34b, 0x1, 0x1);
        gbc.writeMem(0xa41a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x6b28, gbc.sp());
        EXPECT(0xa41c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa41a));
        EXPECT(0x82, gbc.readMem(0xa41b));
        // CB 82 0377
        gbc.setState(0x7057, 0xe73, 0x58e0, 0x8fc6, 0xcdaa, 0x53fb, 0x0, 0x0);
        gbc.writeMem(0x7057, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xe73, gbc.sp());
        EXPECT(0x7059, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0378
        gbc.setState(0x4ad5, 0xc30c, 0xf4e0, 0xf683, 0x3081, 0xf909, 0x0, 0x0);
        gbc.writeMem(0x4ad5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xc30c, gbc.sp());
        EXPECT(0x4ad7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 037A
        gbc.setState(0x6452, 0xc0c8, 0xdae0, 0xd2da, 0x2caf, 0x2aea, 0x0, 0x1);
        gbc.writeMem(0x6452, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xc0c8, gbc.sp());
        EXPECT(0x6454, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 037B
        gbc.setState(0xe6d, 0x3353, 0x7290, 0x3ff4, 0x2a97, 0xa30a, 0x0, 0x1);
        gbc.writeMem(0xe6d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x3353, gbc.sp());
        EXPECT(0xe6f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 037C
        gbc.setState(0x64c0, 0xc056, 0xa990, 0x61f1, 0x20f8, 0xa074, 0x0, 0x0);
        gbc.writeMem(0x64c0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xc056, gbc.sp());
        EXPECT(0x64c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 037D
        gbc.setState(0xc120, 0xca1e, 0x57b0, 0xdb8f, 0x6027, 0xccc8, 0x0, 0x1);
        gbc.writeMem(0xc120, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xca1e, gbc.sp());
        EXPECT(0xc122, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc120));
        EXPECT(0x82, gbc.readMem(0xc121));
        // CB 82 037E
        gbc.setState(0xed17, 0xa00b, 0x4ed0, 0x792, 0x87d2, 0x3b23, 0x1, 0x0);
        gbc.writeMem(0xed17, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xa00b, gbc.sp());
        EXPECT(0xed19, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed17));
        EXPECT(0x82, gbc.readMem(0xed18));
        // CB 82 037F
        gbc.setState(0x6019, 0xcbf0, 0xe680, 0xb447, 0x7e6b, 0xa7f2, 0x1, 0x1);
        gbc.writeMem(0x6019, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xcbf0, gbc.sp());
        EXPECT(0x601b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0380
        gbc.setState(0xdb98, 0x76e7, 0x1e0, 0x8398, 0x7fa8, 0x8bd7, 0x0, 0x1);
        gbc.writeMem(0xdb98, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x76e7, gbc.sp());
        EXPECT(0xdb9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdb98));
        EXPECT(0x82, gbc.readMem(0xdb99));
        // CB 82 0381
        gbc.setState(0x29cf, 0xc576, 0xbdc0, 0xf16a, 0x23d1, 0x4066, 0x0, 0x0);
        gbc.writeMem(0x29cf, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xc576, gbc.sp());
        EXPECT(0x29d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0382
        gbc.setState(0x30f, 0x1f22, 0x3410, 0xdce0, 0xa618, 0xb22, 0x1, 0x1);
        gbc.writeMem(0x30f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x1f22, gbc.sp());
        EXPECT(0x311, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0383
        gbc.setState(0x33ff, 0xb647, 0xe290, 0xb339, 0xcf24, 0x1b47, 0x1, 0x1);
        gbc.writeMem(0x33ff, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xb647, gbc.sp());
        EXPECT(0x3401, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0384
        gbc.setState(0x7e3d, 0x5b0d, 0xc4b0, 0xd5bb, 0xc359, 0xfc74, 0x0, 0x1);
        gbc.writeMem(0x7e3d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x5b0d, gbc.sp());
        EXPECT(0x7e3f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0385
        gbc.setState(0x7d3, 0xed72, 0x210, 0x957a, 0xcc8, 0x1e85, 0x0, 0x1);
        gbc.writeMem(0x7d3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xed72, gbc.sp());
        EXPECT(0x7d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0387
        gbc.setState(0x520d, 0x77ca, 0xb530, 0x16cf, 0x42b8, 0x3f7a, 0x0, 0x1);
        gbc.writeMem(0x520d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x77ca, gbc.sp());
        EXPECT(0x520f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0388
        gbc.setState(0x6d5f, 0x4258, 0x4800, 0x5e8b, 0x13b4, 0xd8a, 0x1, 0x0);
        gbc.writeMem(0x6d5f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x4258, gbc.sp());
        EXPECT(0x6d61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0389
        gbc.setState(0x88c7, 0x8dd0, 0x1f30, 0x6dc8, 0x2e79, 0xb321, 0x0, 0x1);
        gbc.writeMem(0x88c7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x8dd0, gbc.sp());
        EXPECT(0x88c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x88c7));
        EXPECT(0x82, gbc.readMem(0x88c8));
        // CB 82 038B
        gbc.setState(0x629d, 0xc63d, 0x7610, 0x843c, 0xce10, 0x584f, 0x1, 0x1);
        gbc.writeMem(0x629d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xc63d, gbc.sp());
        EXPECT(0x629f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 038C
        gbc.setState(0x2954, 0x47b2, 0x5220, 0x553, 0x6928, 0xf7ad, 0x0, 0x0);
        gbc.writeMem(0x2954, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x47b2, gbc.sp());
        EXPECT(0x2956, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 038D
        gbc.setState(0x38c8, 0x41ab, 0x4b10, 0x618b, 0xbbdc, 0x292b, 0x0, 0x0);
        gbc.writeMem(0x38c8, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x41ab, gbc.sp());
        EXPECT(0x38ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 038E
        gbc.setState(0xdeb, 0x9400, 0x3680, 0xc7ee, 0x9dd9, 0x448e, 0x0, 0x1);
        gbc.writeMem(0xdeb, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x9400, gbc.sp());
        EXPECT(0xded, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 038F
        gbc.setState(0xac2f, 0x9b85, 0xa970, 0xa907, 0x7d75, 0xbc59, 0x1, 0x1);
        gbc.writeMem(0xac2f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x9b85, gbc.sp());
        EXPECT(0xac31, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac2f));
        EXPECT(0x82, gbc.readMem(0xac30));
        // CB 82 0390
        gbc.setState(0xb2b1, 0x1788, 0xa890, 0xc415, 0x4b1a, 0x772, 0x0, 0x1);
        gbc.writeMem(0xb2b1, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x1788, gbc.sp());
        EXPECT(0xb2b3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb2b1));
        EXPECT(0x82, gbc.readMem(0xb2b2));
        // CB 82 0391
        gbc.setState(0xb970, 0xe333, 0xb6c0, 0xb628, 0xc56d, 0xc765, 0x1, 0x1);
        gbc.writeMem(0xb970, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xe333, gbc.sp());
        EXPECT(0xb972, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb970));
        EXPECT(0x82, gbc.readMem(0xb971));
        // CB 82 0393
        gbc.setState(0x95c, 0x7362, 0x2cd0, 0x1977, 0xcf50, 0xac29, 0x0, 0x1);
        gbc.writeMem(0x95c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x7362, gbc.sp());
        EXPECT(0x95e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0394
        gbc.setState(0x6123, 0x24d6, 0xb4a0, 0x4dcb, 0xfef4, 0xc6e7, 0x0, 0x1);
        gbc.writeMem(0x6123, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x24d6, gbc.sp());
        EXPECT(0x6125, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 0395
        gbc.setState(0x5ac6, 0xdc81, 0xf9b0, 0x8ce3, 0xdb0, 0x4d64, 0x0, 0x1);
        gbc.writeMem(0x5ac6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xdc81, gbc.sp());
        EXPECT(0x5ac8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 0396
        gbc.setState(0xeb21, 0x5f64, 0x3820, 0x392e, 0x538, 0xbbdc, 0x1, 0x1);
        gbc.writeMem(0xeb21, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x5f64, gbc.sp());
        EXPECT(0xeb23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb21));
        EXPECT(0x82, gbc.readMem(0xeb22));
        // CB 82 0397
        gbc.setState(0xe2b3, 0xb22a, 0x21a0, 0xfb79, 0xb2f5, 0xaa1d, 0x0, 0x1);
        gbc.writeMem(0xe2b3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xb22a, gbc.sp());
        EXPECT(0xe2b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe2b3));
        EXPECT(0x82, gbc.readMem(0xe2b4));
        // CB 82 0398
        gbc.setState(0xa360, 0x3245, 0x57e0, 0xc9b7, 0xd56, 0xb23d, 0x0, 0x1);
        gbc.writeMem(0xa360, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x3245, gbc.sp());
        EXPECT(0xa362, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa360));
        EXPECT(0x82, gbc.readMem(0xa361));
        // CB 82 0399
        gbc.setState(0x2306, 0xea84, 0x3000, 0xb60a, 0x203a, 0x8d0b, 0x0, 0x1);
        gbc.writeMem(0x2306, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xea84, gbc.sp());
        EXPECT(0x2308, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 039A
        gbc.setState(0x27ec, 0x21fe, 0x21a0, 0xec9, 0xe657, 0x2212, 0x1, 0x1);
        gbc.writeMem(0x27ec, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x21fe, gbc.sp());
        EXPECT(0x27ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 039B
        gbc.setState(0xa526, 0xb923, 0x7e90, 0x91d7, 0x144a, 0x701e, 0x0, 0x0);
        gbc.writeMem(0xa526, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xb923, gbc.sp());
        EXPECT(0xa528, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa526));
        EXPECT(0x82, gbc.readMem(0xa527));
        // CB 82 039C
        gbc.setState(0xc90a, 0x573f, 0x7f20, 0x35de, 0xa531, 0xa592, 0x1, 0x0);
        gbc.writeMem(0xc90a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x573f, gbc.sp());
        EXPECT(0xc90c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc90a));
        EXPECT(0x82, gbc.readMem(0xc90b));
        // CB 82 039D
        gbc.setState(0xc2aa, 0x6bf1, 0x4920, 0x16d7, 0x873f, 0xe2ac, 0x0, 0x1);
        gbc.writeMem(0xc2aa, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x6bf1, gbc.sp());
        EXPECT(0xc2ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc2aa));
        EXPECT(0x82, gbc.readMem(0xc2ab));
        // CB 82 039E
        gbc.setState(0x16e3, 0x9e64, 0x2750, 0xad6a, 0x8b73, 0xa288, 0x1, 0x1);
        gbc.writeMem(0x16e3, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x9e64, gbc.sp());
        EXPECT(0x16e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 039F
        gbc.setState(0xbcb7, 0xa47e, 0x9040, 0xbb20, 0xac51, 0xa964, 0x0, 0x0);
        gbc.writeMem(0xbcb7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xa47e, gbc.sp());
        EXPECT(0xbcb9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbcb7));
        EXPECT(0x82, gbc.readMem(0xbcb8));
        // CB 82 03A0
        gbc.setState(0x4b93, 0x2635, 0x2c00, 0x4f56, 0x55b1, 0x22c0, 0x1, 0x0);
        gbc.writeMem(0x4b93, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x2635, gbc.sp());
        EXPECT(0x4b95, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 03A1
        gbc.setState(0x20ed, 0xdb38, 0x7470, 0xebb, 0xc7a6, 0x2b25, 0x0, 0x0);
        gbc.writeMem(0x20ed, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xdb38, gbc.sp());
        EXPECT(0x20ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03A3
        gbc.setState(0xda74, 0x3ddd, 0x91f0, 0x490d, 0xcc21, 0x923a, 0x0, 0x0);
        gbc.writeMem(0xda74, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x3ddd, gbc.sp());
        EXPECT(0xda76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda74));
        EXPECT(0x82, gbc.readMem(0xda75));
        // CB 82 03A4
        gbc.setState(0x25c, 0x571, 0x5390, 0xe4d8, 0xa1ac, 0xc513, 0x1, 0x0);
        gbc.writeMem(0x25c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x571, gbc.sp());
        EXPECT(0x25e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03A5
        gbc.setState(0x803b, 0xa4f8, 0xa510, 0x631b, 0x1f0d, 0x44c1, 0x0, 0x0);
        gbc.writeMem(0x803b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xa4f8, gbc.sp());
        EXPECT(0x803d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x803b));
        EXPECT(0x82, gbc.readMem(0x803c));
        // CB 82 03A6
        gbc.setState(0xb232, 0x527d, 0x2c30, 0x2488, 0x7b81, 0x67f6, 0x1, 0x0);
        gbc.writeMem(0xb232, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x527d, gbc.sp());
        EXPECT(0xb234, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb232));
        EXPECT(0x82, gbc.readMem(0xb233));
        // CB 82 03A7
        gbc.setState(0x8b2a, 0x6e48, 0x6170, 0x9a37, 0xcfc8, 0x9778, 0x0, 0x0);
        gbc.writeMem(0x8b2a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x6e48, gbc.sp());
        EXPECT(0x8b2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b2a));
        EXPECT(0x82, gbc.readMem(0x8b2b));
        // CB 82 03A8
        gbc.setState(0xd5ae, 0x6451, 0xf300, 0x934d, 0x2d8a, 0x9248, 0x0, 0x1);
        gbc.writeMem(0xd5ae, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x6451, gbc.sp());
        EXPECT(0xd5b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5ae));
        EXPECT(0x82, gbc.readMem(0xd5af));
        // CB 82 03A9
        gbc.setState(0x76aa, 0x86ce, 0x4f90, 0xd6bb, 0x6d26, 0x41ab, 0x1, 0x0);
        gbc.writeMem(0x76aa, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x86ce, gbc.sp());
        EXPECT(0x76ac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03AA
        gbc.setState(0x9d70, 0x80b2, 0x1ce0, 0xa535, 0xd146, 0x11b3, 0x0, 0x0);
        gbc.writeMem(0x9d70, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x80b2, gbc.sp());
        EXPECT(0x9d72, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d70));
        EXPECT(0x82, gbc.readMem(0x9d71));
        // CB 82 03AB
        gbc.setState(0x8897, 0x7f16, 0x1520, 0x882, 0x2970, 0xe163, 0x1, 0x0);
        gbc.writeMem(0x8897, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x7f16, gbc.sp());
        EXPECT(0x8899, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8897));
        EXPECT(0x82, gbc.readMem(0x8898));
        // CB 82 03AC
        gbc.setState(0x3ecc, 0xf847, 0x2d70, 0xb7ea, 0x1557, 0xdf43, 0x0, 0x0);
        gbc.writeMem(0x3ecc, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xf847, gbc.sp());
        EXPECT(0x3ece, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03AD
        gbc.setState(0x912c, 0x6efb, 0xe70, 0xc1b1, 0x8dec, 0x16f7, 0x1, 0x1);
        gbc.writeMem(0x912c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x6efb, gbc.sp());
        EXPECT(0x912e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x912c));
        EXPECT(0x82, gbc.readMem(0x912d));
        // CB 82 03AE
        gbc.setState(0x3dec, 0x8faa, 0x57d0, 0x8840, 0xa323, 0x3731, 0x1, 0x1);
        gbc.writeMem(0x3dec, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x8faa, gbc.sp());
        EXPECT(0x3dee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03AF
        gbc.setState(0x18c2, 0xc595, 0x3830, 0xe8ee, 0xfcb4, 0x27b0, 0x0, 0x0);
        gbc.writeMem(0x18c2, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0xc595, gbc.sp());
        EXPECT(0x18c4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03B0
        gbc.setState(0x343d, 0x266b, 0x5bf0, 0x9528, 0x26d6, 0x10ad, 0x0, 0x1);
        gbc.writeMem(0x343d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x266b, gbc.sp());
        EXPECT(0x343f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03B1
        gbc.setState(0xc4d9, 0x9274, 0x55e0, 0xa5a0, 0xdb4a, 0xb038, 0x1, 0x0);
        gbc.writeMem(0xc4d9, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x9274, gbc.sp());
        EXPECT(0xc4db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4d9));
        EXPECT(0x82, gbc.readMem(0xc4da));
        // CB 82 03B2
        gbc.setState(0x5b8d, 0xf75e, 0x8840, 0x3ff9, 0x3eb3, 0x10bb, 0x0, 0x0);
        gbc.writeMem(0x5b8d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xf75e, gbc.sp());
        EXPECT(0x5b8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 03B3
        gbc.setState(0xeeff, 0x7ae1, 0x4690, 0x18b7, 0xec54, 0x97a2, 0x0, 0x0);
        gbc.writeMem(0xeeff, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x7ae1, gbc.sp());
        EXPECT(0xef01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeeff));
        EXPECT(0x82, gbc.readMem(0xef00));
        // CB 82 03B4
        gbc.setState(0x69ed, 0xf69e, 0x6a50, 0x5ee3, 0x7425, 0x6de5, 0x1, 0x1);
        gbc.writeMem(0x69ed, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xf69e, gbc.sp());
        EXPECT(0x69ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03B5
        gbc.setState(0x34e6, 0xf861, 0x5f90, 0xa905, 0xb06f, 0x5a1c, 0x1, 0x1);
        gbc.writeMem(0x34e6, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xf861, gbc.sp());
        EXPECT(0x34e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03B6
        gbc.setState(0xc298, 0xfb6e, 0x7bb0, 0x8469, 0x6971, 0x2cc1, 0x0, 0x0);
        gbc.writeMem(0xc298, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xfb6e, gbc.sp());
        EXPECT(0xc29a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc298));
        EXPECT(0x82, gbc.readMem(0xc299));
        // CB 82 03B7
        gbc.setState(0x2994, 0xe6fb, 0xb010, 0xfb2, 0xada2, 0x78ad, 0x0, 0x0);
        gbc.writeMem(0x2994, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xe6fb, gbc.sp());
        EXPECT(0x2996, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03B8
        gbc.setState(0xa2e7, 0x6a09, 0x5420, 0xa958, 0x30bd, 0xb06f, 0x1, 0x0);
        gbc.writeMem(0xa2e7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x6a09, gbc.sp());
        EXPECT(0xa2e9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa2e7));
        EXPECT(0x82, gbc.readMem(0xa2e8));
        // CB 82 03B9
        gbc.setState(0xd91f, 0x7762, 0x2760, 0xdafb, 0x17a0, 0xb898, 0x1, 0x0);
        gbc.writeMem(0xd91f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x7762, gbc.sp());
        EXPECT(0xd921, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd91f));
        EXPECT(0x82, gbc.readMem(0xd920));
        // CB 82 03BA
        gbc.setState(0x652e, 0x600, 0x6d0, 0xfcee, 0x62cd, 0x6076, 0x1, 0x0);
        gbc.writeMem(0x652e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x600, gbc.sp());
        EXPECT(0x6530, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03BB
        gbc.setState(0xd809, 0x2f3a, 0xb460, 0xc804, 0x52cb, 0x3b6b, 0x0, 0x1);
        gbc.writeMem(0xd809, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x2f3a, gbc.sp());
        EXPECT(0xd80b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd809));
        EXPECT(0x82, gbc.readMem(0xd80a));
        // CB 82 03BC
        gbc.setState(0x93c5, 0xbb1c, 0x39c0, 0xc9c7, 0x73ef, 0x30af, 0x1, 0x1);
        gbc.writeMem(0x93c5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xbb1c, gbc.sp());
        EXPECT(0x93c7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93c5));
        EXPECT(0x82, gbc.readMem(0x93c6));
        // CB 82 03BD
        gbc.setState(0xc33c, 0xf497, 0x31f0, 0x3e85, 0xfa6a, 0xe283, 0x1, 0x0);
        gbc.writeMem(0xc33c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xf497, gbc.sp());
        EXPECT(0xc33e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc33c));
        EXPECT(0x82, gbc.readMem(0xc33d));
        // CB 82 03BE
        gbc.setState(0x850, 0x700f, 0x3260, 0x2f25, 0xde05, 0x88df, 0x0, 0x1);
        gbc.writeMem(0x850, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x700f, gbc.sp());
        EXPECT(0x852, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 03BF
        gbc.setState(0xdcf4, 0xccb1, 0x9ca0, 0x7031, 0x90c2, 0x46ee, 0x0, 0x1);
        gbc.writeMem(0xdcf4, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xccb1, gbc.sp());
        EXPECT(0xdcf6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcf4));
        EXPECT(0x82, gbc.readMem(0xdcf5));
        // CB 82 03C0
        gbc.setState(0x3335, 0xff56, 0x5940, 0xa19f, 0x4863, 0x58fd, 0x1, 0x1);
        gbc.writeMem(0x3335, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xff56, gbc.sp());
        EXPECT(0x3337, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 03C1
        gbc.setState(0x93dd, 0xfe07, 0xa160, 0xc9ef, 0x20aa, 0xa478, 0x0, 0x1);
        gbc.writeMem(0x93dd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xfe07, gbc.sp());
        EXPECT(0x93df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93dd));
        EXPECT(0x82, gbc.readMem(0x93de));
        // CB 82 03C2
        gbc.setState(0x100d, 0xf81d, 0xbf50, 0x8bd1, 0x8150, 0xfda1, 0x0, 0x1);
        gbc.writeMem(0x100d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xf81d, gbc.sp());
        EXPECT(0x100f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03C3
        gbc.setState(0xdc2c, 0x83e5, 0x1620, 0x38ee, 0x8440, 0x5731, 0x0, 0x1);
        gbc.writeMem(0xdc2c, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x83e5, gbc.sp());
        EXPECT(0xdc2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc2c));
        EXPECT(0x82, gbc.readMem(0xdc2d));
        // CB 82 03C4
        gbc.setState(0x73c0, 0x48ca, 0xe2e0, 0xaf15, 0x7b74, 0x8550, 0x1, 0x0);
        gbc.writeMem(0x73c0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x48ca, gbc.sp());
        EXPECT(0x73c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 03C5
        gbc.setState(0xa708, 0x4df2, 0xf540, 0xaebe, 0x8633, 0xc156, 0x0, 0x0);
        gbc.writeMem(0xa708, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x4df2, gbc.sp());
        EXPECT(0xa70a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa708));
        EXPECT(0x82, gbc.readMem(0xa709));
        // CB 82 03C6
        gbc.setState(0x8647, 0xf0e5, 0xb700, 0x1ce2, 0x5b5e, 0xf390, 0x0, 0x0);
        gbc.writeMem(0x8647, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xf0e5, gbc.sp());
        EXPECT(0x8649, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8647));
        EXPECT(0x82, gbc.readMem(0x8648));
        // CB 82 03C7
        gbc.setState(0x8cc0, 0x57b5, 0xc270, 0xb4b6, 0xd646, 0xc83d, 0x1, 0x1);
        gbc.writeMem(0x8cc0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x57b5, gbc.sp());
        EXPECT(0x8cc2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8cc0));
        EXPECT(0x82, gbc.readMem(0x8cc1));
        // CB 82 03C8
        gbc.setState(0xe785, 0xb347, 0x1110, 0x112b, 0x64e8, 0x7654, 0x0, 0x0);
        gbc.writeMem(0xe785, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xb347, gbc.sp());
        EXPECT(0xe787, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe785));
        EXPECT(0x82, gbc.readMem(0xe786));
        // CB 82 03C9
        gbc.setState(0xac4e, 0x227e, 0x6db0, 0xc2d0, 0x3182, 0x2e0f, 0x1, 0x0);
        gbc.writeMem(0xac4e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x227e, gbc.sp());
        EXPECT(0xac50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac4e));
        EXPECT(0x82, gbc.readMem(0xac4f));
        // CB 82 03CA
        gbc.setState(0x9787, 0xb73, 0x130, 0x66fe, 0x5c59, 0xd537, 0x0, 0x1);
        gbc.writeMem(0x9787, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0xb73, gbc.sp());
        EXPECT(0x9789, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9787));
        EXPECT(0x82, gbc.readMem(0x9788));
        // CB 82 03CB
        gbc.setState(0x5b07, 0x6109, 0xe770, 0xe867, 0x82e5, 0xb178, 0x0, 0x1);
        gbc.writeMem(0x5b07, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x6109, gbc.sp());
        EXPECT(0x5b09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03CD
        gbc.setState(0xe924, 0x3445, 0xce50, 0xecd1, 0xa226, 0x3a80, 0x1, 0x1);
        gbc.writeMem(0xe924, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x3445, gbc.sp());
        EXPECT(0xe926, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe924));
        EXPECT(0x82, gbc.readMem(0xe925));
        // CB 82 03CE
        gbc.setState(0x2258, 0x43b8, 0x1140, 0xf196, 0xde2c, 0x3adf, 0x1, 0x1);
        gbc.writeMem(0x2258, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x43b8, gbc.sp());
        EXPECT(0x225a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 03CF
        gbc.setState(0xbb50, 0xf63e, 0x7070, 0xff73, 0x7865, 0xeeca, 0x1, 0x0);
        gbc.writeMem(0xbb50, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xf63e, gbc.sp());
        EXPECT(0xbb52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb50));
        EXPECT(0x82, gbc.readMem(0xbb51));
        // CB 82 03D0
        gbc.setState(0xd670, 0x7595, 0x4de0, 0x1e57, 0x85b, 0xa28d, 0x0, 0x1);
        gbc.writeMem(0xd670, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x7595, gbc.sp());
        EXPECT(0xd672, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd670));
        EXPECT(0x82, gbc.readMem(0xd671));
        // CB 82 03D1
        gbc.setState(0x652e, 0xf542, 0xb090, 0xe02, 0xdfcc, 0x12c4, 0x1, 0x1);
        gbc.writeMem(0x652e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xf542, gbc.sp());
        EXPECT(0x6530, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03D2
        gbc.setState(0x7a3d, 0x2204, 0x5200, 0xe952, 0x6a29, 0xbbae, 0x0, 0x0);
        gbc.writeMem(0x7a3d, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x2204, gbc.sp());
        EXPECT(0x7a3f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 03D3
        gbc.setState(0x873a, 0xa614, 0xc490, 0xf4d5, 0xd4f0, 0x2d7, 0x1, 0x0);
        gbc.writeMem(0x873a, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xa614, gbc.sp());
        EXPECT(0x873c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x873a));
        EXPECT(0x82, gbc.readMem(0x873b));
        // CB 82 03D4
        gbc.setState(0x4a5e, 0x6e5a, 0xcf00, 0xb155, 0xf0d9, 0xc886, 0x1, 0x1);
        gbc.writeMem(0x4a5e, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x6e5a, gbc.sp());
        EXPECT(0x4a60, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 03D5
        gbc.setState(0x4edd, 0x291f, 0x5000, 0x623f, 0xd4a3, 0x7191, 0x0, 0x1);
        gbc.writeMem(0x4edd, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x291f, gbc.sp());
        EXPECT(0x4edf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 03D6
        gbc.setState(0x2b72, 0xb8c, 0x58d0, 0x85cb, 0xf309, 0xd7d3, 0x1, 0x1);
        gbc.writeMem(0x2b72, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xb8c, gbc.sp());
        EXPECT(0x2b74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03D7
        gbc.setState(0x2e1b, 0xf5d2, 0xb810, 0xd6f0, 0x437c, 0x508e, 0x1, 0x0);
        gbc.writeMem(0x2e1b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xf5d2, gbc.sp());
        EXPECT(0x2e1d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03D8
        gbc.setState(0xad28, 0xd2c, 0x9210, 0xa108, 0x4364, 0x78d5, 0x0, 0x1);
        gbc.writeMem(0xad28, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xd2c, gbc.sp());
        EXPECT(0xad2a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad28));
        EXPECT(0x82, gbc.readMem(0xad29));
        // CB 82 03D9
        gbc.setState(0x4809, 0xaa20, 0x720, 0x40ba, 0x2f08, 0xbad0, 0x0, 0x1);
        gbc.writeMem(0x4809, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xaa20, gbc.sp());
        EXPECT(0x480b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 03DA
        gbc.setState(0xe9a7, 0x9361, 0x4a80, 0xea14, 0xce3e, 0xe201, 0x1, 0x1);
        gbc.writeMem(0xe9a7, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x9361, gbc.sp());
        EXPECT(0xe9a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe9a7));
        EXPECT(0x82, gbc.readMem(0xe9a8));
        // CB 82 03DB
        gbc.setState(0xdc64, 0xbecd, 0x8d70, 0x8a73, 0xd6ac, 0x4187, 0x0, 0x0);
        gbc.writeMem(0xdc64, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xbecd, gbc.sp());
        EXPECT(0xdc66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc64));
        EXPECT(0x82, gbc.readMem(0xdc65));
        // CB 82 03DC
        gbc.setState(0xbb5f, 0x2ac3, 0x3ae0, 0x98ec, 0xd657, 0x1395, 0x1, 0x0);
        gbc.writeMem(0xbb5f, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x2ac3, gbc.sp());
        EXPECT(0xbb61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb5f));
        EXPECT(0x82, gbc.readMem(0xbb60));
        // CB 82 03DD
        gbc.setState(0x88b5, 0xd2d1, 0x9f40, 0xe25f, 0x6918, 0xac79, 0x0, 0x1);
        gbc.writeMem(0x88b5, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xd2d1, gbc.sp());
        EXPECT(0x88b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x88b5));
        EXPECT(0x82, gbc.readMem(0x88b6));
        // CB 82 03DE
        gbc.setState(0x7b46, 0x3d64, 0x5310, 0xfe96, 0x1450, 0x18ec, 0x0, 0x1);
        gbc.writeMem(0x7b46, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x3d64, gbc.sp());
        EXPECT(0x7b48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03DF
        gbc.setState(0x9d75, 0x4502, 0x8280, 0xd691, 0xda33, 0x46b4, 0x1, 0x1);
        gbc.writeMem(0x9d75, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x4502, gbc.sp());
        EXPECT(0x9d77, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d75));
        EXPECT(0x82, gbc.readMem(0x9d76));
        // CB 82 03E0
        gbc.setState(0x61b1, 0x965, 0x1350, 0x8805, 0xb8c1, 0xf1a8, 0x1, 0x1);
        gbc.writeMem(0x61b1, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x965, gbc.sp());
        EXPECT(0x61b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03E1
        gbc.setState(0xc078, 0x483b, 0x8f30, 0x3fbb, 0x9bc2, 0xed06, 0x1, 0x0);
        gbc.writeMem(0xc078, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x483b, gbc.sp());
        EXPECT(0xc07a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc078));
        EXPECT(0x82, gbc.readMem(0xc079));
        // CB 82 03E2
        gbc.setState(0xa959, 0x71ce, 0xc7d0, 0xbae6, 0x516f, 0x1959, 0x0, 0x0);
        gbc.writeMem(0xa959, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x71ce, gbc.sp());
        EXPECT(0xa95b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa959));
        EXPECT(0x82, gbc.readMem(0xa95a));
        // CB 82 03E3
        gbc.setState(0x1650, 0xd6fe, 0xa8b0, 0x5c0c, 0x43ff, 0x21eb, 0x0, 0x0);
        gbc.writeMem(0x1650, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0xd6fe, gbc.sp());
        EXPECT(0x1652, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03E4
        gbc.setState(0x32db, 0x6a92, 0xbd70, 0x20d8, 0xfd0a, 0x72fa, 0x1, 0x1);
        gbc.writeMem(0x32db, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x6a92, gbc.sp());
        EXPECT(0x32dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03E5
        gbc.setState(0x36df, 0xc6a5, 0x45d0, 0xb4e7, 0xac16, 0x5bee, 0x0, 0x1);
        gbc.writeMem(0x36df, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xc6a5, gbc.sp());
        EXPECT(0x36e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 82 03E6
        gbc.setState(0x4d6b, 0x56de, 0xe580, 0x74d5, 0x8ebe, 0xc4ea, 0x1, 0x0);
        gbc.writeMem(0x4d6b, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x56de, gbc.sp());
        EXPECT(0x4d6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 82 03E7
        gbc.setState(0x33a0, 0x7490, 0x46e0, 0xc70e, 0x4758, 0x52fc, 0x1, 0x1);
        gbc.writeMem(0x33a0, { 0xcb, 0x82 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x7490, gbc.sp());
        EXPECT(0x33a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(true, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
    }
