    TEST(gbcemu, opcode_cb_0a) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 0A 0001
        gbc.setState(0x803f, 0x8803, 0xc240, 0xf1d0, 0x8d99, 0x9aba, 0x0, 0x0);
        gbc.writeMem(0x803f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x8803, gbc.sp());
        EXPECT(0x8041, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x803f));
        EXPECT(0xa, gbc.readMem(0x8040));
        // CB 0A 0002
        gbc.setState(0xe9c8, 0x591, 0x6c20, 0x3152, 0x7d2c, 0xa314, 0x1, 0x1);
        gbc.writeMem(0xe9c8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x591, gbc.sp());
        EXPECT(0xe9ca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe9c8));
        EXPECT(0xa, gbc.readMem(0xe9c9));
        // CB 0A 0003
        gbc.setState(0xaec5, 0xb8d8, 0x9cf0, 0x5066, 0xd014, 0xfce0, 0x0, 0x1);
        gbc.writeMem(0xaec5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xb8d8, gbc.sp());
        EXPECT(0xaec7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaec5));
        EXPECT(0xa, gbc.readMem(0xaec6));
        // CB 0A 0004
        gbc.setState(0x35dd, 0x1e31, 0x7810, 0x8353, 0x998d, 0x3d06, 0x0, 0x1);
        gbc.writeMem(0x35dd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x1e31, gbc.sp());
        EXPECT(0x35df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0005
        gbc.setState(0x79da, 0xe15b, 0xd290, 0x206f, 0x7471, 0xd327, 0x1, 0x0);
        gbc.writeMem(0x79da, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xe15b, gbc.sp());
        EXPECT(0x79dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0006
        gbc.setState(0x7e1a, 0x79fa, 0x3b20, 0xb548, 0x315f, 0x3825, 0x0, 0x0);
        gbc.writeMem(0x7e1a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x79fa, gbc.sp());
        EXPECT(0x7e1c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0007
        gbc.setState(0x8ff5, 0x1c99, 0xb130, 0x6458, 0x3b93, 0x48bf, 0x1, 0x0);
        gbc.writeMem(0x8ff5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x1c99, gbc.sp());
        EXPECT(0x8ff7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ff5));
        EXPECT(0xa, gbc.readMem(0x8ff6));
        // CB 0A 0008
        gbc.setState(0xdce3, 0xf5d8, 0x6ec0, 0xe7b4, 0x8153, 0x9952, 0x0, 0x0);
        gbc.writeMem(0xdce3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xf5d8, gbc.sp());
        EXPECT(0xdce5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdce3));
        EXPECT(0xa, gbc.readMem(0xdce4));
        // CB 0A 0009
        gbc.setState(0xaeb9, 0xedca, 0xa100, 0x6b08, 0xfc3c, 0xa53, 0x1, 0x0);
        gbc.writeMem(0xaeb9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0xedca, gbc.sp());
        EXPECT(0xaebb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaeb9));
        EXPECT(0xa, gbc.readMem(0xaeba));
        // CB 0A 000A
        gbc.setState(0x26f5, 0x95aa, 0x2790, 0x5878, 0xfe7, 0x7263, 0x1, 0x0);
        gbc.writeMem(0x26f5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x95aa, gbc.sp());
        EXPECT(0x26f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 000B
        gbc.setState(0x3481, 0x9bce, 0x9fd0, 0x372a, 0x7228, 0xeb3a, 0x0, 0x1);
        gbc.writeMem(0x3481, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x9bce, gbc.sp());
        EXPECT(0x3483, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 000D
        gbc.setState(0xc02e, 0x4449, 0xaaa0, 0xa35, 0xce28, 0x2bde, 0x0, 0x0);
        gbc.writeMem(0xc02e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x4449, gbc.sp());
        EXPECT(0xc030, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc02e));
        EXPECT(0xa, gbc.readMem(0xc02f));
        // CB 0A 000E
        gbc.setState(0x13a5, 0xf3ea, 0x71c0, 0xa49a, 0xd76f, 0x4ec, 0x1, 0x1);
        gbc.writeMem(0x13a5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xf3ea, gbc.sp());
        EXPECT(0x13a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0012
        gbc.setState(0x930b, 0x916a, 0xd380, 0x859c, 0x4b3d, 0xb122, 0x1, 0x0);
        gbc.writeMem(0x930b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x916a, gbc.sp());
        EXPECT(0x930d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x930b));
        EXPECT(0xa, gbc.readMem(0x930c));
        // CB 0A 0013
        gbc.setState(0x5a1, 0x3b1e, 0x9b80, 0xb346, 0xe6b, 0xa0b, 0x0, 0x0);
        gbc.writeMem(0x5a1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x3b1e, gbc.sp());
        EXPECT(0x5a3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0014
        gbc.setState(0x2245, 0xd38f, 0xa00, 0x3731, 0x3868, 0x1e8f, 0x1, 0x1);
        gbc.writeMem(0x2245, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xd38f, gbc.sp());
        EXPECT(0x2247, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0015
        gbc.setState(0xe063, 0x3a2e, 0x1ec0, 0x1dec, 0x9c68, 0x445e, 0x0, 0x1);
        gbc.writeMem(0xe063, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x3a2e, gbc.sp());
        EXPECT(0xe065, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe063));
        EXPECT(0xa, gbc.readMem(0xe064));
        // CB 0A 0016
        gbc.setState(0xe573, 0xb0c9, 0xca90, 0x5238, 0xcaf7, 0x323e, 0x0, 0x1);
        gbc.writeMem(0xe573, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xb0c9, gbc.sp());
        EXPECT(0xe575, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe573));
        EXPECT(0xa, gbc.readMem(0xe574));
        // CB 0A 0017
        gbc.setState(0xbd4a, 0x6d83, 0xce70, 0x11dd, 0x6627, 0x824b, 0x1, 0x1);
        gbc.writeMem(0xbd4a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x6d83, gbc.sp());
        EXPECT(0xbd4c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd4a));
        EXPECT(0xa, gbc.readMem(0xbd4b));
        // CB 0A 0018
        gbc.setState(0xe051, 0x5f82, 0xb100, 0x9bc8, 0x9831, 0x5a2d, 0x1, 0x1);
        gbc.writeMem(0xe051, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x5f82, gbc.sp());
        EXPECT(0xe053, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe051));
        EXPECT(0xa, gbc.readMem(0xe052));
        // CB 0A 0019
        gbc.setState(0xa5a3, 0x4965, 0xe810, 0x1629, 0xf4fc, 0xd7a, 0x0, 0x0);
        gbc.writeMem(0xa5a3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x4965, gbc.sp());
        EXPECT(0xa5a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa5a3));
        EXPECT(0xa, gbc.readMem(0xa5a4));
        // CB 0A 001A
        gbc.setState(0xa9a8, 0x60e0, 0xe40, 0xcb03, 0x1389, 0x64cd, 0x1, 0x1);
        gbc.writeMem(0xa9a8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x60e0, gbc.sp());
        EXPECT(0xa9aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa9a8));
        EXPECT(0xa, gbc.readMem(0xa9a9));
        // CB 0A 001B
        gbc.setState(0x2731, 0x831f, 0x1c20, 0x1c14, 0x15b0, 0x48e7, 0x1, 0x0);
        gbc.writeMem(0x2731, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x831f, gbc.sp());
        EXPECT(0x2733, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 001C
        gbc.setState(0xab59, 0x2028, 0x3190, 0x95b1, 0x4592, 0xbb04, 0x0, 0x1);
        gbc.writeMem(0xab59, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x2028, gbc.sp());
        EXPECT(0xab5b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab59));
        EXPECT(0xa, gbc.readMem(0xab5a));
        // CB 0A 001D
        gbc.setState(0xda29, 0x4f64, 0x2fa0, 0x7afe, 0xa72, 0x4590, 0x1, 0x1);
        gbc.writeMem(0xda29, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x4f64, gbc.sp());
        EXPECT(0xda2b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda29));
        EXPECT(0xa, gbc.readMem(0xda2a));
        // CB 0A 001E
        gbc.setState(0x1ef7, 0xa22, 0x15f0, 0xc30c, 0x389e, 0x6aae, 0x0, 0x1);
        gbc.writeMem(0x1ef7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xa22, gbc.sp());
        EXPECT(0x1ef9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 001F
        gbc.setState(0xe9e9, 0xd692, 0x27d0, 0xe39b, 0xa422, 0x50b7, 0x1, 0x1);
        gbc.writeMem(0xe9e9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xd692, gbc.sp());
        EXPECT(0xe9eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe9e9));
        EXPECT(0xa, gbc.readMem(0xe9ea));
        // CB 0A 0020
        gbc.setState(0xaec9, 0xbcb2, 0x1ec0, 0x480b, 0x42a8, 0x1213, 0x1, 0x1);
        gbc.writeMem(0xaec9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xbcb2, gbc.sp());
        EXPECT(0xaecb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaec9));
        EXPECT(0xa, gbc.readMem(0xaeca));
        // CB 0A 0021
        gbc.setState(0x1dd, 0x143, 0xc410, 0x349e, 0x9127, 0xf160, 0x0, 0x0);
        gbc.writeMem(0x1dd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x143, gbc.sp());
        EXPECT(0x1df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0023
        gbc.setState(0xbf70, 0xfa67, 0x2780, 0x9b16, 0xbf42, 0x6f76, 0x1, 0x1);
        gbc.writeMem(0xbf70, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xfa67, gbc.sp());
        EXPECT(0xbf72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf70));
        EXPECT(0xa, gbc.readMem(0xbf71));
        // CB 0A 0024
        gbc.setState(0x127, 0x5e2c, 0x8270, 0x2f63, 0xfe9c, 0x12df, 0x1, 0x0);
        gbc.writeMem(0x127, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x5e2c, gbc.sp());
        EXPECT(0x129, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0025
        gbc.setState(0x20ed, 0xab29, 0xb1c0, 0xd521, 0xfe2e, 0x4738, 0x1, 0x0);
        gbc.writeMem(0x20ed, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xab29, gbc.sp());
        EXPECT(0x20ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0026
        gbc.setState(0xe487, 0x29cc, 0x5830, 0xaf09, 0xa849, 0xbdaf, 0x1, 0x0);
        gbc.writeMem(0xe487, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x29cc, gbc.sp());
        EXPECT(0xe489, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe487));
        EXPECT(0xa, gbc.readMem(0xe488));
        // CB 0A 0027
        gbc.setState(0xcc43, 0xf420, 0xd520, 0x86bc, 0xf6d9, 0xd790, 0x0, 0x0);
        gbc.writeMem(0xcc43, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xf420, gbc.sp());
        EXPECT(0xcc45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc43));
        EXPECT(0xa, gbc.readMem(0xcc44));
        // CB 0A 0028
        gbc.setState(0x6865, 0x80e, 0x500, 0x32f3, 0x1137, 0x67e9, 0x1, 0x0);
        gbc.writeMem(0x6865, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x80e, gbc.sp());
        EXPECT(0x6867, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0029
        gbc.setState(0x1d26, 0x4e9c, 0xfcc0, 0xc0a3, 0xf6cf, 0x3e4c, 0x1, 0x1);
        gbc.writeMem(0x1d26, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x4e9c, gbc.sp());
        EXPECT(0x1d28, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 002A
        gbc.setState(0xd90f, 0xe93, 0x22b0, 0xa76d, 0x9152, 0x6a59, 0x1, 0x0);
        gbc.writeMem(0xd90f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xe93, gbc.sp());
        EXPECT(0xd911, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd90f));
        EXPECT(0xa, gbc.readMem(0xd910));
        // CB 0A 002B
        gbc.setState(0x15a8, 0xef05, 0xbd50, 0xfa6c, 0xdc4c, 0x87a6, 0x0, 0x0);
        gbc.writeMem(0x15a8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xef05, gbc.sp());
        EXPECT(0x15aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 002C
        gbc.setState(0xbb50, 0x8f38, 0x92f0, 0xbec3, 0x2b6a, 0xe33c, 0x1, 0x1);
        gbc.writeMem(0xbb50, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x8f38, gbc.sp());
        EXPECT(0xbb52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb50));
        EXPECT(0xa, gbc.readMem(0xbb51));
        // CB 0A 002D
        gbc.setState(0xbcd4, 0xa46a, 0xa9e0, 0x70b4, 0x853e, 0x5190, 0x0, 0x1);
        gbc.writeMem(0xbcd4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xa46a, gbc.sp());
        EXPECT(0xbcd6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbcd4));
        EXPECT(0xa, gbc.readMem(0xbcd5));
        // CB 0A 002E
        gbc.setState(0x70d5, 0x7efd, 0x9330, 0x9057, 0x3dd5, 0x62e0, 0x1, 0x1);
        gbc.writeMem(0x70d5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x7efd, gbc.sp());
        EXPECT(0x70d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 002F
        gbc.setState(0xa354, 0xed2c, 0x94e0, 0x89eb, 0x25af, 0xb585, 0x1, 0x1);
        gbc.writeMem(0xa354, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xed2c, gbc.sp());
        EXPECT(0xa356, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa354));
        EXPECT(0xa, gbc.readMem(0xa355));
        // CB 0A 0030
        gbc.setState(0x26d0, 0x49d4, 0xe850, 0x2c28, 0xa965, 0xdc42, 0x0, 0x1);
        gbc.writeMem(0x26d0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x49d4, gbc.sp());
        EXPECT(0x26d2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0031
        gbc.setState(0xc638, 0xd0a6, 0x5770, 0x7bec, 0xe132, 0x73e2, 0x1, 0x0);
        gbc.writeMem(0xc638, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xd0a6, gbc.sp());
        EXPECT(0xc63a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc638));
        EXPECT(0xa, gbc.readMem(0xc639));
        // CB 0A 0032
        gbc.setState(0x54d6, 0xc132, 0x44b0, 0xae8b, 0xf38b, 0x9ecd, 0x1, 0x1);
        gbc.writeMem(0x54d6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xc132, gbc.sp());
        EXPECT(0x54d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0033
        gbc.setState(0xafdb, 0xe25f, 0x66a0, 0x8274, 0x7fcc, 0x455, 0x1, 0x0);
        gbc.writeMem(0xafdb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xe25f, gbc.sp());
        EXPECT(0xafdd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafdb));
        EXPECT(0xa, gbc.readMem(0xafdc));
        // CB 0A 0034
        gbc.setState(0xa908, 0x81db, 0xc7c0, 0x7d63, 0xd49e, 0xcdb, 0x0, 0x0);
        gbc.writeMem(0xa908, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x81db, gbc.sp());
        EXPECT(0xa90a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa908));
        EXPECT(0xa, gbc.readMem(0xa909));
        // CB 0A 0035
        gbc.setState(0x3797, 0x9a1d, 0x52a0, 0x53fe, 0x5f8a, 0x4c14, 0x0, 0x0);
        gbc.writeMem(0x3797, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x9a1d, gbc.sp());
        EXPECT(0x3799, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0036
        gbc.setState(0x11ee, 0x14ce, 0x1350, 0x9e49, 0xa2f9, 0x2ba4, 0x0, 0x1);
        gbc.writeMem(0x11ee, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x14ce, gbc.sp());
        EXPECT(0x11f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0037
        gbc.setState(0x2ca0, 0x3edb, 0xad40, 0x8dfc, 0x4015, 0x6dea, 0x1, 0x0);
        gbc.writeMem(0x2ca0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x3edb, gbc.sp());
        EXPECT(0x2ca2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0038
        gbc.setState(0x45b3, 0x2980, 0xb100, 0xcef9, 0xa71e, 0xb402, 0x0, 0x1);
        gbc.writeMem(0x45b3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x2980, gbc.sp());
        EXPECT(0x45b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0039
        gbc.setState(0xb59d, 0x170e, 0x4510, 0xb889, 0xd6c9, 0xce32, 0x1, 0x0);
        gbc.writeMem(0xb59d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x170e, gbc.sp());
        EXPECT(0xb59f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb59d));
        EXPECT(0xa, gbc.readMem(0xb59e));
        // CB 0A 003A
        gbc.setState(0x8690, 0x1e57, 0x340, 0xb3f3, 0x88fc, 0x27a, 0x0, 0x0);
        gbc.writeMem(0x8690, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0x1e57, gbc.sp());
        EXPECT(0x8692, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8690));
        EXPECT(0xa, gbc.readMem(0x8691));
        // CB 0A 003B
        gbc.setState(0x2ff8, 0x6e31, 0x5900, 0x7a4d, 0x1214, 0xe8dd, 0x0, 0x1);
        gbc.writeMem(0x2ff8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x6e31, gbc.sp());
        EXPECT(0x2ffa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 003C
        gbc.setState(0x8502, 0x94b1, 0xae00, 0xe43, 0x8073, 0x15ad, 0x0, 0x1);
        gbc.writeMem(0x8502, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x94b1, gbc.sp());
        EXPECT(0x8504, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8502));
        EXPECT(0xa, gbc.readMem(0x8503));
        // CB 0A 003D
        gbc.setState(0x5f61, 0xdea5, 0x38e0, 0xd252, 0x1398, 0xe402, 0x1, 0x1);
        gbc.writeMem(0x5f61, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xdea5, gbc.sp());
        EXPECT(0x5f63, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 003E
        gbc.setState(0x7e76, 0xaf92, 0x27a0, 0x9493, 0x6128, 0x986b, 0x0, 0x0);
        gbc.writeMem(0x7e76, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xaf92, gbc.sp());
        EXPECT(0x7e78, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 003F
        gbc.setState(0x77ac, 0x1e1, 0x5d80, 0xa872, 0x1a4a, 0x18d1, 0x0, 0x1);
        gbc.writeMem(0x77ac, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x1e1, gbc.sp());
        EXPECT(0x77ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0040
        gbc.setState(0xcf37, 0xd24f, 0x74e0, 0xcd8a, 0xdf12, 0x95be, 0x1, 0x0);
        gbc.writeMem(0xcf37, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xd24f, gbc.sp());
        EXPECT(0xcf39, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf37));
        EXPECT(0xa, gbc.readMem(0xcf38));
        // CB 0A 0041
        gbc.setState(0xa7e7, 0xc384, 0x18f0, 0x85e, 0xa83b, 0xe02f, 0x0, 0x0);
        gbc.writeMem(0xa7e7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xc384, gbc.sp());
        EXPECT(0xa7e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7e7));
        EXPECT(0xa, gbc.readMem(0xa7e8));
        // CB 0A 0042
        gbc.setState(0x20e1, 0x6a, 0x3630, 0xf272, 0x7b31, 0x86a4, 0x0, 0x1);
        gbc.writeMem(0x20e1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x6a, gbc.sp());
        EXPECT(0x20e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0043
        gbc.setState(0x9c8b, 0x4376, 0x31c0, 0xe588, 0xdb62, 0xe75, 0x0, 0x0);
        gbc.writeMem(0x9c8b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x4376, gbc.sp());
        EXPECT(0x9c8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c8b));
        EXPECT(0xa, gbc.readMem(0x9c8c));
        // CB 0A 0044
        gbc.setState(0xb13b, 0x2413, 0x1090, 0x4737, 0x3d, 0x474d, 0x1, 0x0);
        gbc.writeMem(0xb13b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x2413, gbc.sp());
        EXPECT(0xb13d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb13b));
        EXPECT(0xa, gbc.readMem(0xb13c));
        // CB 0A 0045
        gbc.setState(0x3573, 0xf60c, 0x2610, 0x7aba, 0xc07f, 0xf03d, 0x1, 0x1);
        gbc.writeMem(0x3573, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xf60c, gbc.sp());
        EXPECT(0x3575, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0046
        gbc.setState(0x50bd, 0xa915, 0x4490, 0xe641, 0x299f, 0x2e11, 0x1, 0x0);
        gbc.writeMem(0x50bd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xa915, gbc.sp());
        EXPECT(0x50bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0047
        gbc.setState(0x5d8f, 0x75c, 0x9fb0, 0x9423, 0xfe42, 0xf5c2, 0x0, 0x1);
        gbc.writeMem(0x5d8f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x75c, gbc.sp());
        EXPECT(0x5d91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0048
        gbc.setState(0xb54a, 0xdd84, 0xed00, 0x2005, 0x2154, 0xd4e1, 0x1, 0x1);
        gbc.writeMem(0xb54a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xdd84, gbc.sp());
        EXPECT(0xb54c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb54a));
        EXPECT(0xa, gbc.readMem(0xb54b));
        // CB 0A 0049
        gbc.setState(0x2516, 0x2bf6, 0x38e0, 0x2006, 0xc9e4, 0x8f5e, 0x1, 0x0);
        gbc.writeMem(0x2516, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0x2bf6, gbc.sp());
        EXPECT(0x2518, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 004A
        gbc.setState(0x39e5, 0xf501, 0x3fb0, 0xfb66, 0xe77e, 0x1e58, 0x1, 0x0);
        gbc.writeMem(0x39e5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0xf501, gbc.sp());
        EXPECT(0x39e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 004B
        gbc.setState(0x5254, 0x2a7c, 0x7b0, 0x19b2, 0x24f, 0xaba5, 0x0, 0x1);
        gbc.writeMem(0x5254, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x2a7c, gbc.sp());
        EXPECT(0x5256, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 004C
        gbc.setState(0xe894, 0x5354, 0x4c40, 0x7ee0, 0x27a6, 0x8950, 0x1, 0x1);
        gbc.writeMem(0xe894, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x5354, gbc.sp());
        EXPECT(0xe896, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe894));
        EXPECT(0xa, gbc.readMem(0xe895));
        // CB 0A 004D
        gbc.setState(0xae43, 0xf0b3, 0x5c50, 0xb3f9, 0xcac, 0x3de2, 0x1, 0x0);
        gbc.writeMem(0xae43, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xf0b3, gbc.sp());
        EXPECT(0xae45, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae43));
        EXPECT(0xa, gbc.readMem(0xae44));
        // CB 0A 004E
        gbc.setState(0x4ed7, 0x79ce, 0x30e0, 0xe17c, 0x6e7f, 0x6000, 0x1, 0x0);
        gbc.writeMem(0x4ed7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x79ce, gbc.sp());
        EXPECT(0x4ed9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 004F
        gbc.setState(0x1732, 0xc807, 0x3310, 0x13fb, 0x20dd, 0x4624, 0x1, 0x1);
        gbc.writeMem(0x1732, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xc807, gbc.sp());
        EXPECT(0x1734, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0050
        gbc.setState(0x5ed3, 0x9186, 0xf080, 0x3eae, 0x99d8, 0xb343, 0x0, 0x0);
        gbc.writeMem(0x5ed3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x9186, gbc.sp());
        EXPECT(0x5ed5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0051
        gbc.setState(0x1ab0, 0x888d, 0x1280, 0x9b3a, 0x5ec7, 0x2aef, 0x1, 0x0);
        gbc.writeMem(0x1ab0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x888d, gbc.sp());
        EXPECT(0x1ab2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0052
        gbc.setState(0xec0c, 0x1092, 0x10f0, 0xd842, 0x80aa, 0xf3bd, 0x0, 0x1);
        gbc.writeMem(0xec0c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x1092, gbc.sp());
        EXPECT(0xec0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec0c));
        EXPECT(0xa, gbc.readMem(0xec0d));
        // CB 0A 0053
        gbc.setState(0x679a, 0x214f, 0xacf0, 0x1ee0, 0x5b43, 0xccea, 0x1, 0x1);
        gbc.writeMem(0x679a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x214f, gbc.sp());
        EXPECT(0x679c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0054
        gbc.setState(0xba47, 0xd85e, 0x4c80, 0x8b67, 0x5a, 0xce6f, 0x0, 0x1);
        gbc.writeMem(0xba47, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xd85e, gbc.sp());
        EXPECT(0xba49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba47));
        EXPECT(0xa, gbc.readMem(0xba48));
        // CB 0A 0055
        gbc.setState(0x9ab4, 0xaa1c, 0x5040, 0x65de, 0xe61d, 0xc0de, 0x0, 0x0);
        gbc.writeMem(0x9ab4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xaa1c, gbc.sp());
        EXPECT(0x9ab6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9ab4));
        EXPECT(0xa, gbc.readMem(0x9ab5));
        // CB 0A 0056
        gbc.setState(0x8bf9, 0x4f9d, 0xc6e0, 0xe9a6, 0x507f, 0x9fc3, 0x1, 0x0);
        gbc.writeMem(0x8bf9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x4f9d, gbc.sp());
        EXPECT(0x8bfb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8bf9));
        EXPECT(0xa, gbc.readMem(0x8bfa));
        // CB 0A 0057
        gbc.setState(0x7fcc, 0xed90, 0x7080, 0x5c5a, 0x77d3, 0x5d6, 0x1, 0x1);
        gbc.writeMem(0x7fcc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xed90, gbc.sp());
        EXPECT(0x7fce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0058
        gbc.setState(0x4f89, 0x8d5e, 0x9cc0, 0xe119, 0xb8eb, 0xc4f4, 0x0, 0x0);
        gbc.writeMem(0x4f89, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x8d5e, gbc.sp());
        EXPECT(0x4f8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0059
        gbc.setState(0x472d, 0x52ef, 0x8a00, 0xc04d, 0xcb80, 0xfeea, 0x0, 0x0);
        gbc.writeMem(0x472d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x52ef, gbc.sp());
        EXPECT(0x472f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 005A
        gbc.setState(0xca6f, 0x8243, 0xa070, 0xaff8, 0xc465, 0x703f, 0x1, 0x1);
        gbc.writeMem(0xca6f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x8243, gbc.sp());
        EXPECT(0xca71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca6f));
        EXPECT(0xa, gbc.readMem(0xca70));
        // CB 0A 005B
        gbc.setState(0xecb6, 0xc3be, 0xd010, 0xd797, 0xa83e, 0xd08e, 0x0, 0x0);
        gbc.writeMem(0xecb6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xc3be, gbc.sp());
        EXPECT(0xecb8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xecb6));
        EXPECT(0xa, gbc.readMem(0xecb7));
        // CB 0A 005C
        gbc.setState(0xd37c, 0xb061, 0x9660, 0xc6b2, 0xd82, 0xe428, 0x1, 0x0);
        gbc.writeMem(0xd37c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xb061, gbc.sp());
        EXPECT(0xd37e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd37c));
        EXPECT(0xa, gbc.readMem(0xd37d));
        // CB 0A 005D
        gbc.setState(0xbf06, 0xd1a3, 0x2220, 0x1e90, 0x604c, 0x4b22, 0x1, 0x0);
        gbc.writeMem(0xbf06, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xd1a3, gbc.sp());
        EXPECT(0xbf08, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf06));
        EXPECT(0xa, gbc.readMem(0xbf07));
        // CB 0A 005E
        gbc.setState(0x3f45, 0x6c6a, 0x9ef0, 0x8092, 0x9eec, 0x923e, 0x0, 0x1);
        gbc.writeMem(0x3f45, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x6c6a, gbc.sp());
        EXPECT(0x3f47, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 005F
        gbc.setState(0x23a7, 0x8b64, 0x1a10, 0x9435, 0x32c5, 0x745d, 0x0, 0x0);
        gbc.writeMem(0x23a7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x8b64, gbc.sp());
        EXPECT(0x23a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0060
        gbc.setState(0xc298, 0x341, 0xe900, 0x108a, 0x2c75, 0x4a2d, 0x1, 0x0);
        gbc.writeMem(0xc298, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x341, gbc.sp());
        EXPECT(0xc29a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc298));
        EXPECT(0xa, gbc.readMem(0xc299));
        // CB 0A 0061
        gbc.setState(0x3197, 0x9f90, 0xe4c0, 0xe1bf, 0xc7d1, 0xf287, 0x0, 0x1);
        gbc.writeMem(0x3197, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x9f90, gbc.sp());
        EXPECT(0x3199, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0062
        gbc.setState(0xdd6e, 0x3143, 0xb7d0, 0xc594, 0xb189, 0x8a35, 0x0, 0x1);
        gbc.writeMem(0xdd6e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x3143, gbc.sp());
        EXPECT(0xdd70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdd6e));
        EXPECT(0xa, gbc.readMem(0xdd6f));
        // CB 0A 0063
        gbc.setState(0xe5c0, 0x3fec, 0xdd00, 0x8dee, 0x5698, 0xa70f, 0x1, 0x1);
        gbc.writeMem(0xe5c0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x3fec, gbc.sp());
        EXPECT(0xe5c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe5c0));
        EXPECT(0xa, gbc.readMem(0xe5c1));
        // CB 0A 0064
        gbc.setState(0x370d, 0x9901, 0xe510, 0xed13, 0x6dde, 0x5286, 0x0, 0x1);
        gbc.writeMem(0x370d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x9901, gbc.sp());
        EXPECT(0x370f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0065
        gbc.setState(0x737e, 0x2023, 0x1b80, 0x24e5, 0x85c1, 0xca44, 0x0, 0x0);
        gbc.writeMem(0x737e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x2023, gbc.sp());
        EXPECT(0x7380, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0066
        gbc.setState(0x290f, 0xdedf, 0xd570, 0xdc3c, 0x391a, 0x1441, 0x0, 0x0);
        gbc.writeMem(0x290f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xdedf, gbc.sp());
        EXPECT(0x2911, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0067
        gbc.setState(0x2530, 0x1300, 0x19b0, 0x18d, 0x4746, 0x125b, 0x1, 0x1);
        gbc.writeMem(0x2530, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x1300, gbc.sp());
        EXPECT(0x2532, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0068
        gbc.setState(0x2e2f, 0x85c1, 0x290, 0x3897, 0x122d, 0x546, 0x0, 0x1);
        gbc.writeMem(0x2e2f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x85c1, gbc.sp());
        EXPECT(0x2e31, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0069
        gbc.setState(0x2c8, 0x3dda, 0x87a0, 0x306e, 0x8d09, 0x7f3b, 0x0, 0x0);
        gbc.writeMem(0x2c8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x3dda, gbc.sp());
        EXPECT(0x2ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 006A
        gbc.setState(0x5003, 0xa54e, 0x5c50, 0xb79c, 0x60b1, 0x906c, 0x1, 0x0);
        gbc.writeMem(0x5003, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xa54e, gbc.sp());
        EXPECT(0x5005, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 006B
        gbc.setState(0x19e9, 0x23e9, 0x6270, 0xe798, 0xa8f1, 0x2023, 0x1, 0x0);
        gbc.writeMem(0x19e9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x23e9, gbc.sp());
        EXPECT(0x19eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 006C
        gbc.setState(0xde52, 0xe533, 0xb500, 0xf72c, 0xc2eb, 0x5c3, 0x0, 0x0);
        gbc.writeMem(0xde52, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xe533, gbc.sp());
        EXPECT(0xde54, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde52));
        EXPECT(0xa, gbc.readMem(0xde53));
        // CB 0A 006D
        gbc.setState(0xc5b9, 0xfd29, 0x70b0, 0xde28, 0x4909, 0x541, 0x0, 0x0);
        gbc.writeMem(0xc5b9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xfd29, gbc.sp());
        EXPECT(0xc5bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc5b9));
        EXPECT(0xa, gbc.readMem(0xc5ba));
        // CB 0A 006E
        gbc.setState(0x3a9c, 0x2e5d, 0xb300, 0x6326, 0x99b5, 0xb495, 0x1, 0x1);
        gbc.writeMem(0x3a9c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x2e5d, gbc.sp());
        EXPECT(0x3a9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 006F
        gbc.setState(0x8d62, 0x103e, 0x5f40, 0x1a12, 0x53fa, 0x6298, 0x1, 0x0);
        gbc.writeMem(0x8d62, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x103e, gbc.sp());
        EXPECT(0x8d64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d62));
        EXPECT(0xa, gbc.readMem(0x8d63));
        // CB 0A 0070
        gbc.setState(0x6036, 0xe9c1, 0x2960, 0x2482, 0xdef3, 0xb0f5, 0x0, 0x0);
        gbc.writeMem(0x6036, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xe9c1, gbc.sp());
        EXPECT(0x6038, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0071
        gbc.setState(0xa431, 0xeccc, 0x9e60, 0x8eba, 0xfa0b, 0x4097, 0x1, 0x1);
        gbc.writeMem(0xa431, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xeccc, gbc.sp());
        EXPECT(0xa433, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa431));
        EXPECT(0xa, gbc.readMem(0xa432));
        // CB 0A 0072
        gbc.setState(0x1b45, 0x62c, 0x3130, 0x5653, 0x97d0, 0x1f6c, 0x1, 0x0);
        gbc.writeMem(0x1b45, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x62c, gbc.sp());
        EXPECT(0x1b47, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0073
        gbc.setState(0x3030, 0x8e3d, 0xe400, 0x33f0, 0x74a0, 0xe6b1, 0x1, 0x0);
        gbc.writeMem(0x3030, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x8e3d, gbc.sp());
        EXPECT(0x3032, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0074
        gbc.setState(0xae58, 0x89c8, 0xa930, 0x2203, 0x7b5e, 0xba11, 0x1, 0x1);
        gbc.writeMem(0xae58, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x89c8, gbc.sp());
        EXPECT(0xae5a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xae58));
        EXPECT(0xa, gbc.readMem(0xae59));
        // CB 0A 0075
        gbc.setState(0xe35e, 0x1d53, 0xac60, 0x59a0, 0xdd76, 0x65f4, 0x1, 0x0);
        gbc.writeMem(0xe35e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x1d53, gbc.sp());
        EXPECT(0xe360, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe35e));
        EXPECT(0xa, gbc.readMem(0xe35f));
        // CB 0A 0076
        gbc.setState(0x7644, 0xcebf, 0xdb40, 0xa1f2, 0x6410, 0xabfa, 0x0, 0x1);
        gbc.writeMem(0x7644, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xcebf, gbc.sp());
        EXPECT(0x7646, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0077
        gbc.setState(0xe9fa, 0x37e9, 0xa240, 0x76, 0x3618, 0x987, 0x1, 0x1);
        gbc.writeMem(0xe9fa, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x37e9, gbc.sp());
        EXPECT(0xe9fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe9fa));
        EXPECT(0xa, gbc.readMem(0xe9fb));
        // CB 0A 0078
        gbc.setState(0x1567, 0xd9f8, 0x6f50, 0xaf3e, 0xb691, 0x1fd3, 0x0, 0x0);
        gbc.writeMem(0x1567, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xd9f8, gbc.sp());
        EXPECT(0x1569, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0079
        gbc.setState(0xbf3b, 0x80b, 0xe20, 0xbfda, 0xdfcb, 0x4aa5, 0x1, 0x1);
        gbc.writeMem(0xbf3b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x80b, gbc.sp());
        EXPECT(0xbf3d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf3b));
        EXPECT(0xa, gbc.readMem(0xbf3c));
        // CB 0A 007A
        gbc.setState(0x406f, 0xe864, 0x6730, 0xe7e4, 0x9085, 0xd143, 0x1, 0x1);
        gbc.writeMem(0x406f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xe864, gbc.sp());
        EXPECT(0x4071, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 007B
        gbc.setState(0x4fc2, 0x222d, 0xf2e0, 0xef0a, 0x15b2, 0x48e9, 0x1, 0x1);
        gbc.writeMem(0x4fc2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x222d, gbc.sp());
        EXPECT(0x4fc4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 007C
        gbc.setState(0x57e2, 0xea49, 0x5290, 0xf80b, 0xef3a, 0xb884, 0x0, 0x1);
        gbc.writeMem(0x57e2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xea49, gbc.sp());
        EXPECT(0x57e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 007D
        gbc.setState(0xe182, 0xeefd, 0xb140, 0x3ebb, 0xe59b, 0xea9f, 0x1, 0x1);
        gbc.writeMem(0xe182, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xeefd, gbc.sp());
        EXPECT(0xe184, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe182));
        EXPECT(0xa, gbc.readMem(0xe183));
        // CB 0A 007E
        gbc.setState(0x2478, 0x5592, 0xf890, 0x1b54, 0xf92b, 0x554e, 0x1, 0x0);
        gbc.writeMem(0x2478, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x5592, gbc.sp());
        EXPECT(0x247a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 007F
        gbc.setState(0x10fb, 0xd124, 0x6d90, 0x72be, 0x2383, 0x7964, 0x0, 0x0);
        gbc.writeMem(0x10fb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xd124, gbc.sp());
        EXPECT(0x10fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0080
        gbc.setState(0x80b1, 0xdeff, 0xafc0, 0x6b6d, 0x2ca8, 0x240e, 0x1, 0x0);
        gbc.writeMem(0x80b1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xdeff, gbc.sp());
        EXPECT(0x80b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80b1));
        EXPECT(0xa, gbc.readMem(0x80b2));
        // CB 0A 0081
        gbc.setState(0xab9, 0x1bac, 0xa160, 0x3b1a, 0xf0a7, 0x6df1, 0x1, 0x1);
        gbc.writeMem(0xab9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x1bac, gbc.sp());
        EXPECT(0xabb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0082
        gbc.setState(0xc5bf, 0x2b1, 0x9d20, 0x2611, 0x7099, 0xacd7, 0x0, 0x0);
        gbc.writeMem(0xc5bf, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x2b1, gbc.sp());
        EXPECT(0xc5c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc5bf));
        EXPECT(0xa, gbc.readMem(0xc5c0));
        // CB 0A 0083
        gbc.setState(0x87f5, 0x2836, 0xea20, 0xe4e0, 0x3ad0, 0xe514, 0x1, 0x0);
        gbc.writeMem(0x87f5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x2836, gbc.sp());
        EXPECT(0x87f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87f5));
        EXPECT(0xa, gbc.readMem(0x87f6));
        // CB 0A 0084
        gbc.setState(0xbd6f, 0xe4d7, 0x7f30, 0xf816, 0x6c3d, 0xcd41, 0x1, 0x1);
        gbc.writeMem(0xbd6f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xe4d7, gbc.sp());
        EXPECT(0xbd71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd6f));
        EXPECT(0xa, gbc.readMem(0xbd70));
        // CB 0A 0085
        gbc.setState(0xcc09, 0xffc9, 0xb020, 0x1edd, 0xcd4, 0xe8ad, 0x0, 0x1);
        gbc.writeMem(0xcc09, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xffc9, gbc.sp());
        EXPECT(0xcc0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc09));
        EXPECT(0xa, gbc.readMem(0xcc0a));
        // CB 0A 0086
        gbc.setState(0xd761, 0xa01a, 0x7800, 0x72a7, 0x9668, 0x8278, 0x1, 0x1);
        gbc.writeMem(0xd761, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xa01a, gbc.sp());
        EXPECT(0xd763, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd761));
        EXPECT(0xa, gbc.readMem(0xd762));
        // CB 0A 0087
        gbc.setState(0x551f, 0x8b9, 0xf010, 0xa4f0, 0xf578, 0x4ae8, 0x0, 0x1);
        gbc.writeMem(0x551f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x8b9, gbc.sp());
        EXPECT(0x5521, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0088
        gbc.setState(0xe735, 0xffc9, 0xc1f0, 0x967e, 0xb71f, 0x3188, 0x0, 0x1);
        gbc.writeMem(0xe735, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xffc9, gbc.sp());
        EXPECT(0xe737, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe735));
        EXPECT(0xa, gbc.readMem(0xe736));
        // CB 0A 0089
        gbc.setState(0x4fd1, 0xc64, 0xc460, 0xc3e, 0x2b8, 0xf059, 0x0, 0x1);
        gbc.writeMem(0x4fd1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xc64, gbc.sp());
        EXPECT(0x4fd3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 008A
        gbc.setState(0x1cb, 0x71ff, 0x8a50, 0xd2f9, 0xd0db, 0x4def, 0x0, 0x1);
        gbc.writeMem(0x1cb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x71ff, gbc.sp());
        EXPECT(0x1cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 008B
        gbc.setState(0x572e, 0x868c, 0xf0b0, 0xa98b, 0xd20a, 0x81b3, 0x1, 0x0);
        gbc.writeMem(0x572e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x868c, gbc.sp());
        EXPECT(0x5730, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 008C
        gbc.setState(0x727b, 0x692, 0xd4c0, 0x8e1b, 0xa022, 0x1747, 0x1, 0x0);
        gbc.writeMem(0x727b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x692, gbc.sp());
        EXPECT(0x727d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 008D
        gbc.setState(0xdbd2, 0x5d63, 0x8c90, 0x70ca, 0x4a8e, 0x7a8d, 0x0, 0x1);
        gbc.writeMem(0xdbd2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x5d63, gbc.sp());
        EXPECT(0xdbd4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbd2));
        EXPECT(0xa, gbc.readMem(0xdbd3));
        // CB 0A 008E
        gbc.setState(0x9d7a, 0x4ac3, 0xcd80, 0x7466, 0x9455, 0x903a, 0x0, 0x0);
        gbc.writeMem(0x9d7a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x4ac3, gbc.sp());
        EXPECT(0x9d7c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d7a));
        EXPECT(0xa, gbc.readMem(0x9d7b));
        // CB 0A 008F
        gbc.setState(0x4a58, 0x36e1, 0x55f0, 0xc38a, 0xf0c2, 0x65a1, 0x1, 0x1);
        gbc.writeMem(0x4a58, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x36e1, gbc.sp());
        EXPECT(0x4a5a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0090
        gbc.setState(0x61cf, 0xc02c, 0xe810, 0xc2be, 0x130e, 0xf0ab, 0x1, 0x0);
        gbc.writeMem(0x61cf, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xc02c, gbc.sp());
        EXPECT(0x61d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0091
        gbc.setState(0x9e17, 0x90d3, 0x8da0, 0x73a8, 0xb5a4, 0x796, 0x1, 0x0);
        gbc.writeMem(0x9e17, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x90d3, gbc.sp());
        EXPECT(0x9e19, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9e17));
        EXPECT(0xa, gbc.readMem(0x9e18));
        // CB 0A 0092
        gbc.setState(0xa7c1, 0xc305, 0xf190, 0x3a25, 0xf6d5, 0xe2, 0x0, 0x0);
        gbc.writeMem(0xa7c1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xc305, gbc.sp());
        EXPECT(0xa7c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7c1));
        EXPECT(0xa, gbc.readMem(0xa7c2));
        // CB 0A 0093
        gbc.setState(0xcd0d, 0xc086, 0x8b60, 0xcbfb, 0x8986, 0x284e, 0x0, 0x1);
        gbc.writeMem(0xcd0d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xc086, gbc.sp());
        EXPECT(0xcd0f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd0d));
        EXPECT(0xa, gbc.readMem(0xcd0e));
        // CB 0A 0094
        gbc.setState(0xc26a, 0xc778, 0x8620, 0xe027, 0x3d3b, 0xe87c, 0x0, 0x1);
        gbc.writeMem(0xc26a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xc778, gbc.sp());
        EXPECT(0xc26c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc26a));
        EXPECT(0xa, gbc.readMem(0xc26b));
        // CB 0A 0095
        gbc.setState(0xa51e, 0xa8f3, 0xede0, 0x505d, 0x970a, 0x58ab, 0x0, 0x0);
        gbc.writeMem(0xa51e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xa8f3, gbc.sp());
        EXPECT(0xa520, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa51e));
        EXPECT(0xa, gbc.readMem(0xa51f));
        // CB 0A 0096
        gbc.setState(0x3e1f, 0xea96, 0x90e0, 0x8d8f, 0x5444, 0x1fb7, 0x1, 0x1);
        gbc.writeMem(0x3e1f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xea96, gbc.sp());
        EXPECT(0x3e21, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0097
        gbc.setState(0xdc3c, 0x5ae3, 0x550, 0x4de7, 0xebdc, 0xf0a6, 0x1, 0x0);
        gbc.writeMem(0xdc3c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x5ae3, gbc.sp());
        EXPECT(0xdc3e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc3c));
        EXPECT(0xa, gbc.readMem(0xdc3d));
        // CB 0A 0098
        gbc.setState(0x80fd, 0x699c, 0x29e0, 0xa1fc, 0xac5f, 0xea57, 0x0, 0x1);
        gbc.writeMem(0x80fd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x699c, gbc.sp());
        EXPECT(0x80ff, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x80fd));
        EXPECT(0xa, gbc.readMem(0x80fe));
        // CB 0A 0099
        gbc.setState(0x726a, 0xf7c0, 0x8a0, 0xfd25, 0xbbfc, 0xa415, 0x0, 0x0);
        gbc.writeMem(0x726a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xf7c0, gbc.sp());
        EXPECT(0x726c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 009A
        gbc.setState(0x31e0, 0x6d4d, 0x78d0, 0x16b4, 0xdece, 0x5fd0, 0x0, 0x0);
        gbc.writeMem(0x31e0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x6d4d, gbc.sp());
        EXPECT(0x31e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 009B
        gbc.setState(0x63f6, 0xb0ae, 0x59c0, 0xc553, 0x1d0e, 0x3f14, 0x1, 0x1);
        gbc.writeMem(0x63f6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xb0ae, gbc.sp());
        EXPECT(0x63f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 009D
        gbc.setState(0x553b, 0xa451, 0xb590, 0x8a67, 0xa7e1, 0xd579, 0x0, 0x1);
        gbc.writeMem(0x553b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0xa451, gbc.sp());
        EXPECT(0x553d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 009E
        gbc.setState(0xb84a, 0x3311, 0x19d0, 0xb21d, 0xd7c, 0x2bec, 0x0, 0x1);
        gbc.writeMem(0xb84a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x3311, gbc.sp());
        EXPECT(0xb84c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb84a));
        EXPECT(0xa, gbc.readMem(0xb84b));
        // CB 0A 00A0
        gbc.setState(0x9496, 0x23a0, 0x2d00, 0xbabe, 0xff38, 0x114, 0x0, 0x0);
        gbc.writeMem(0x9496, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x23a0, gbc.sp());
        EXPECT(0x9498, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9496));
        EXPECT(0xa, gbc.readMem(0x9497));
        // CB 0A 00A1
        gbc.setState(0x23fd, 0x3ee4, 0xba0, 0x2a0, 0xf16c, 0x664f, 0x1, 0x1);
        gbc.writeMem(0x23fd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x3ee4, gbc.sp());
        EXPECT(0x23ff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00A2
        gbc.setState(0x1b3a, 0x7c24, 0x9810, 0xd492, 0x9509, 0x44b8, 0x0, 0x1);
        gbc.writeMem(0x1b3a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x7c24, gbc.sp());
        EXPECT(0x1b3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00A3
        gbc.setState(0x4865, 0xe704, 0x9b00, 0x9b67, 0x58ef, 0x36f2, 0x1, 0x0);
        gbc.writeMem(0x4865, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xe704, gbc.sp());
        EXPECT(0x4867, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00A4
        gbc.setState(0x68a0, 0xef48, 0x8df0, 0x8f0f, 0x85ac, 0x9299, 0x0, 0x0);
        gbc.writeMem(0x68a0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0xef48, gbc.sp());
        EXPECT(0x68a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00A6
        gbc.setState(0xc44c, 0xa32d, 0xd120, 0x8555, 0x94a7, 0x5d48, 0x0, 0x0);
        gbc.writeMem(0xc44c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xa32d, gbc.sp());
        EXPECT(0xc44e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc44c));
        EXPECT(0xa, gbc.readMem(0xc44d));
        // CB 0A 00A7
        gbc.setState(0xd88, 0x861e, 0x93a0, 0x97b2, 0x4a96, 0x9dc1, 0x1, 0x1);
        gbc.writeMem(0xd88, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x861e, gbc.sp());
        EXPECT(0xd8a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00A8
        gbc.setState(0x3ada, 0xbd8f, 0xcc0, 0x8334, 0xc310, 0x4b9d, 0x1, 0x1);
        gbc.writeMem(0x3ada, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xbd8f, gbc.sp());
        EXPECT(0x3adc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00A9
        gbc.setState(0xc8f7, 0xa7b5, 0x3770, 0xcb3a, 0xa5c8, 0x5c5, 0x1, 0x0);
        gbc.writeMem(0xc8f7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xa7b5, gbc.sp());
        EXPECT(0xc8f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8f7));
        EXPECT(0xa, gbc.readMem(0xc8f8));
        // CB 0A 00AA
        gbc.setState(0xd4df, 0x2b52, 0x9a50, 0xdbfd, 0x21cc, 0x207e, 0x0, 0x0);
        gbc.writeMem(0xd4df, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x2b52, gbc.sp());
        EXPECT(0xd4e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd4df));
        EXPECT(0xa, gbc.readMem(0xd4e0));
        // CB 0A 00AB
        gbc.setState(0xd035, 0x278, 0x62a0, 0x6a34, 0xdd5d, 0xe961, 0x1, 0x1);
        gbc.writeMem(0xd035, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x278, gbc.sp());
        EXPECT(0xd037, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd035));
        EXPECT(0xa, gbc.readMem(0xd036));
        // CB 0A 00AC
        gbc.setState(0x879, 0xacaf, 0xfdd0, 0xedf1, 0xf7c6, 0xdb1d, 0x0, 0x1);
        gbc.writeMem(0x879, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xacaf, gbc.sp());
        EXPECT(0x87b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00AD
        gbc.setState(0xa3a4, 0x3092, 0x83a0, 0xd4d5, 0xe405, 0xda86, 0x0, 0x1);
        gbc.writeMem(0xa3a4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x3092, gbc.sp());
        EXPECT(0xa3a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa3a4));
        EXPECT(0xa, gbc.readMem(0xa3a5));
        // CB 0A 00AE
        gbc.setState(0x850d, 0xb6bc, 0xb640, 0xb138, 0x4451, 0x2fc4, 0x1, 0x1);
        gbc.writeMem(0x850d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xb6bc, gbc.sp());
        EXPECT(0x850f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x850d));
        EXPECT(0xa, gbc.readMem(0x850e));
        // CB 0A 00AF
        gbc.setState(0x4e83, 0xc289, 0x7fc0, 0x37a4, 0x8f48, 0x558a, 0x0, 0x0);
        gbc.writeMem(0x4e83, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xc289, gbc.sp());
        EXPECT(0x4e85, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00B0
        gbc.setState(0x855c, 0x6676, 0xb6e0, 0x919e, 0x61ec, 0xef84, 0x0, 0x0);
        gbc.writeMem(0x855c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xef, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x6676, gbc.sp());
        EXPECT(0x855e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x855c));
        EXPECT(0xa, gbc.readMem(0x855d));
        // CB 0A 00B1
        gbc.setState(0xd8, 0xa718, 0x62d0, 0x8bd2, 0x6dd7, 0x52b6, 0x1, 0x0);
        gbc.writeMem(0xd8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xa718, gbc.sp());
        EXPECT(0xda, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00B2
        gbc.setState(0x33d, 0x6ffa, 0xfd20, 0x726a, 0x1a1d, 0x3d18, 0x1, 0x0);
        gbc.writeMem(0x33d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x6ffa, gbc.sp());
        EXPECT(0x33f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00B3
        gbc.setState(0xd619, 0xec1c, 0xf680, 0x5102, 0xc179, 0x55b3, 0x0, 0x1);
        gbc.writeMem(0xd619, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf6, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0xec1c, gbc.sp());
        EXPECT(0xd61b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd619));
        EXPECT(0xa, gbc.readMem(0xd61a));
        // CB 0A 00B4
        gbc.setState(0x1a6d, 0x435d, 0xb7d0, 0x8a73, 0xd063, 0xb723, 0x0, 0x1);
        gbc.writeMem(0x1a6d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x435d, gbc.sp());
        EXPECT(0x1a6f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00B5
        gbc.setState(0xb63c, 0x6685, 0xf240, 0x444b, 0x1e1, 0x176d, 0x1, 0x0);
        gbc.writeMem(0xb63c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x6685, gbc.sp());
        EXPECT(0xb63e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb63c));
        EXPECT(0xa, gbc.readMem(0xb63d));
        // CB 0A 00B6
        gbc.setState(0x9c2c, 0x8a57, 0xc7d0, 0x175d, 0xb1e6, 0xf84c, 0x0, 0x1);
        gbc.writeMem(0x9c2c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x8a57, gbc.sp());
        EXPECT(0x9c2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c2c));
        EXPECT(0xa, gbc.readMem(0x9c2d));
        // CB 0A 00B7
        gbc.setState(0xef2d, 0xc92f, 0x52a0, 0xd901, 0xbf12, 0x8f57, 0x0, 0x1);
        gbc.writeMem(0xef2d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xc92f, gbc.sp());
        EXPECT(0xef2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xef2d));
        EXPECT(0xa, gbc.readMem(0xef2e));
        // CB 0A 00B8
        gbc.setState(0x9c73, 0x9201, 0xa980, 0xb3db, 0x98af, 0x9cc0, 0x1, 0x1);
        gbc.writeMem(0x9c73, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x9201, gbc.sp());
        EXPECT(0x9c75, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c73));
        EXPECT(0xa, gbc.readMem(0x9c74));
        // CB 0A 00B9
        gbc.setState(0xadf5, 0x936d, 0xc770, 0x8fc4, 0x6368, 0xc5c6, 0x1, 0x1);
        gbc.writeMem(0xadf5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x936d, gbc.sp());
        EXPECT(0xadf7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xadf5));
        EXPECT(0xa, gbc.readMem(0xadf6));
        // CB 0A 00BA
        gbc.setState(0x2790, 0x8097, 0x2e70, 0x9871, 0xaf80, 0xf063, 0x0, 0x1);
        gbc.writeMem(0x2790, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x8097, gbc.sp());
        EXPECT(0x2792, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00BB
        gbc.setState(0xe893, 0x8c40, 0xc0a0, 0x9aa2, 0x2e21, 0xe50e, 0x0, 0x1);
        gbc.writeMem(0xe893, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x8c40, gbc.sp());
        EXPECT(0xe895, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe893));
        EXPECT(0xa, gbc.readMem(0xe894));
        // CB 0A 00BC
        gbc.setState(0x5041, 0x54a7, 0x57d0, 0xcaa3, 0x7d21, 0xd5e5, 0x1, 0x0);
        gbc.writeMem(0x5041, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x54a7, gbc.sp());
        EXPECT(0x5043, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00BD
        gbc.setState(0x55, 0xfa29, 0x5ce0, 0xa470, 0x338d, 0x4fac, 0x1, 0x0);
        gbc.writeMem(0x55, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xfa29, gbc.sp());
        EXPECT(0x57, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00BE
        gbc.setState(0x4d35, 0xe2cd, 0x6510, 0x63e1, 0xa22f, 0x592f, 0x0, 0x0);
        gbc.writeMem(0x4d35, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xe2cd, gbc.sp());
        EXPECT(0x4d37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00BF
        gbc.setState(0x302d, 0x4a9c, 0xe030, 0x39ba, 0x2532, 0xfce4, 0x1, 0x0);
        gbc.writeMem(0x302d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x4a9c, gbc.sp());
        EXPECT(0x302f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00C0
        gbc.setState(0xad4c, 0xe1cf, 0xaab0, 0x3061, 0xd9ad, 0x72c7, 0x0, 0x0);
        gbc.writeMem(0xad4c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xe1cf, gbc.sp());
        EXPECT(0xad4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad4c));
        EXPECT(0xa, gbc.readMem(0xad4d));
        // CB 0A 00C1
        gbc.setState(0x2046, 0x71f4, 0x8fd0, 0x3938, 0x3c77, 0x5553, 0x1, 0x0);
        gbc.writeMem(0x2046, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x71f4, gbc.sp());
        EXPECT(0x2048, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00C2
        gbc.setState(0xd0dd, 0xb539, 0x24e0, 0xad7, 0x9c47, 0x5a66, 0x1, 0x0);
        gbc.writeMem(0xd0dd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xb539, gbc.sp());
        EXPECT(0xd0df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd0dd));
        EXPECT(0xa, gbc.readMem(0xd0de));
        // CB 0A 00C3
        gbc.setState(0x88ed, 0xd5fe, 0x2220, 0xef8f, 0xf507, 0xc1bb, 0x0, 0x1);
        gbc.writeMem(0x88ed, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xd5fe, gbc.sp());
        EXPECT(0x88ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x88ed));
        EXPECT(0xa, gbc.readMem(0x88ee));
        // CB 0A 00C4
        gbc.setState(0xe86, 0xeed9, 0xfde0, 0x6145, 0xa038, 0xacff, 0x0, 0x1);
        gbc.writeMem(0xe86, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xeed9, gbc.sp());
        EXPECT(0xe88, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00C5
        gbc.setState(0x71de, 0x14f, 0x4840, 0xafa7, 0x19c7, 0xcdf7, 0x0, 0x0);
        gbc.writeMem(0x71de, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x14f, gbc.sp());
        EXPECT(0x71e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00C6
        gbc.setState(0x6f2d, 0x4f6d, 0x8270, 0xf64f, 0x7a71, 0x784f, 0x1, 0x0);
        gbc.writeMem(0x6f2d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x4f6d, gbc.sp());
        EXPECT(0x6f2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00C7
        gbc.setState(0x3861, 0x417e, 0xd130, 0xfe7d, 0x8b89, 0x3a85, 0x1, 0x1);
        gbc.writeMem(0x3861, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x417e, gbc.sp());
        EXPECT(0x3863, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00C9
        gbc.setState(0x32c4, 0xd1d7, 0x95a0, 0xd7e3, 0x7783, 0x2897, 0x0, 0x1);
        gbc.writeMem(0x32c4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0xd1d7, gbc.sp());
        EXPECT(0x32c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00CA
        gbc.setState(0x4d09, 0x4e67, 0x6d70, 0x896, 0x5566, 0x67be, 0x1, 0x1);
        gbc.writeMem(0x4d09, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x4e67, gbc.sp());
        EXPECT(0x4d0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00CB
        gbc.setState(0x2ef2, 0xe3a, 0xb7d0, 0x6e74, 0x2fb1, 0x2874, 0x0, 0x1);
        gbc.writeMem(0x2ef2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xe3a, gbc.sp());
        EXPECT(0x2ef4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00CC
        gbc.setState(0x68f4, 0x7f7f, 0xf7b0, 0xbf52, 0xf312, 0x264e, 0x1, 0x0);
        gbc.writeMem(0x68f4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x7f7f, gbc.sp());
        EXPECT(0x68f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00CD
        gbc.setState(0x3c74, 0x7f75, 0x76a0, 0xa9d1, 0x9cd5, 0x4586, 0x1, 0x0);
        gbc.writeMem(0x3c74, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x7f75, gbc.sp());
        EXPECT(0x3c76, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00CE
        gbc.setState(0xb4f, 0x1fd0, 0x4c70, 0x70b6, 0x658c, 0x666a, 0x0, 0x1);
        gbc.writeMem(0xb4f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x1fd0, gbc.sp());
        EXPECT(0xb51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00CF
        gbc.setState(0xac28, 0x2097, 0x99f0, 0xfa2e, 0xbb3, 0xc9ba, 0x0, 0x1);
        gbc.writeMem(0xac28, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x2097, gbc.sp());
        EXPECT(0xac2a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xac28));
        EXPECT(0xa, gbc.readMem(0xac29));
        // CB 0A 00D0
        gbc.setState(0xc127, 0x2d6b, 0x7150, 0x468e, 0xffe1, 0x8724, 0x0, 0x1);
        gbc.writeMem(0xc127, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x2d6b, gbc.sp());
        EXPECT(0xc129, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc127));
        EXPECT(0xa, gbc.readMem(0xc128));
        // CB 0A 00D1
        gbc.setState(0x1128, 0x14ee, 0xb530, 0x394e, 0x6647, 0xb0d8, 0x1, 0x1);
        gbc.writeMem(0x1128, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x14ee, gbc.sp());
        EXPECT(0x112a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00D2
        gbc.setState(0x4fcd, 0xffc0, 0x7c90, 0x552d, 0x5637, 0xf4c2, 0x0, 0x0);
        gbc.writeMem(0x4fcd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xffc0, gbc.sp());
        EXPECT(0x4fcf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00D3
        gbc.setState(0xc076, 0xd08b, 0x8c70, 0xe67a, 0xe20f, 0x31d3, 0x1, 0x1);
        gbc.writeMem(0xc076, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xd08b, gbc.sp());
        EXPECT(0xc078, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc076));
        EXPECT(0xa, gbc.readMem(0xc077));
        // CB 0A 00D4
        gbc.setState(0x906d, 0x4a1b, 0x83e0, 0x9e18, 0xa6ac, 0xf94, 0x0, 0x1);
        gbc.writeMem(0x906d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x4a1b, gbc.sp());
        EXPECT(0x906f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x906d));
        EXPECT(0xa, gbc.readMem(0x906e));
        // CB 0A 00D5
        gbc.setState(0x3e8e, 0xff69, 0x4ba0, 0x6aca, 0x4caf, 0x9d1, 0x1, 0x0);
        gbc.writeMem(0x3e8e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xff69, gbc.sp());
        EXPECT(0x3e90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00D6
        gbc.setState(0x87a9, 0x956e, 0xc7a0, 0x727e, 0x3959, 0x9421, 0x0, 0x0);
        gbc.writeMem(0x87a9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x956e, gbc.sp());
        EXPECT(0x87ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87a9));
        EXPECT(0xa, gbc.readMem(0x87aa));
        // CB 0A 00D7
        gbc.setState(0x2f48, 0x69fa, 0xc570, 0x7a1d, 0x571f, 0xc691, 0x1, 0x1);
        gbc.writeMem(0x2f48, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x69fa, gbc.sp());
        EXPECT(0x2f4a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00D8
        gbc.setState(0xcdb, 0xab57, 0x8fc0, 0x4834, 0x1207, 0x4f10, 0x0, 0x1);
        gbc.writeMem(0xcdb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xab57, gbc.sp());
        EXPECT(0xcdd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00D9
        gbc.setState(0xb9, 0x43, 0xfdf0, 0x5a97, 0x9a3f, 0x720b, 0x0, 0x1);
        gbc.writeMem(0xb9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x43, gbc.sp());
        EXPECT(0xbb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00DA
        gbc.setState(0xe234, 0x696f, 0x15f0, 0xcf90, 0xd25d, 0xea77, 0x0, 0x1);
        gbc.writeMem(0xe234, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x696f, gbc.sp());
        EXPECT(0xe236, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe234));
        EXPECT(0xa, gbc.readMem(0xe235));
        // CB 0A 00DB
        gbc.setState(0xeb1f, 0x4dd4, 0x9c30, 0xe0ca, 0xa6b9, 0xe854, 0x0, 0x0);
        gbc.writeMem(0xeb1f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x4dd4, gbc.sp());
        EXPECT(0xeb21, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb1f));
        EXPECT(0xa, gbc.readMem(0xeb20));
        // CB 0A 00DC
        gbc.setState(0xd6c, 0x4785, 0x2350, 0x3e51, 0xcdec, 0x84e, 0x1, 0x0);
        gbc.writeMem(0xd6c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x4785, gbc.sp());
        EXPECT(0xd6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00DD
        gbc.setState(0x9c20, 0x1952, 0x9a90, 0x8c95, 0x60b7, 0x7d95, 0x1, 0x0);
        gbc.writeMem(0x9c20, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x1952, gbc.sp());
        EXPECT(0x9c22, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c20));
        EXPECT(0xa, gbc.readMem(0x9c21));
        // CB 0A 00DE
        gbc.setState(0x89e, 0x16ad, 0x6e00, 0x30c0, 0xafd9, 0x64fc, 0x1, 0x0);
        gbc.writeMem(0x89e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x16ad, gbc.sp());
        EXPECT(0x8a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00DF
        gbc.setState(0x7ff1, 0xef67, 0x8ce0, 0xa32d, 0xda0f, 0x316c, 0x0, 0x0);
        gbc.writeMem(0x7ff1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xef67, gbc.sp());
        EXPECT(0x7ff3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00E1
        gbc.setState(0x5061, 0x1a97, 0x5690, 0x88b3, 0xd25d, 0x5c25, 0x0, 0x1);
        gbc.writeMem(0x5061, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x1a97, gbc.sp());
        EXPECT(0x5063, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00E2
        gbc.setState(0xe3df, 0xb269, 0x3cb0, 0x7339, 0xb618, 0x940a, 0x0, 0x0);
        gbc.writeMem(0xe3df, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xb269, gbc.sp());
        EXPECT(0xe3e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe3df));
        EXPECT(0xa, gbc.readMem(0xe3e0));
        // CB 0A 00E3
        gbc.setState(0xf08, 0xea14, 0x4610, 0xc0b6, 0xb0fd, 0x2220, 0x1, 0x0);
        gbc.writeMem(0xf08, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xea14, gbc.sp());
        EXPECT(0xf0a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00E4
        gbc.setState(0xaefa, 0xea97, 0x90f0, 0x3bde, 0xcaa1, 0x6d54, 0x1, 0x1);
        gbc.writeMem(0xaefa, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xea97, gbc.sp());
        EXPECT(0xaefc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaefa));
        EXPECT(0xa, gbc.readMem(0xaefb));
        // CB 0A 00E5
        gbc.setState(0x5b9, 0xd42e, 0x3b0, 0x41cc, 0x11b7, 0x7c5c, 0x1, 0x0);
        gbc.writeMem(0x5b9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xd42e, gbc.sp());
        EXPECT(0x5bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00E6
        gbc.setState(0x1781, 0xab8b, 0xdc30, 0xb569, 0x108e, 0x6349, 0x1, 0x0);
        gbc.writeMem(0x1781, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xab8b, gbc.sp());
        EXPECT(0x1783, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00E7
        gbc.setState(0xa41b, 0xc377, 0xc620, 0xa7d0, 0x3940, 0x87b5, 0x1, 0x0);
        gbc.writeMem(0xa41b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xc377, gbc.sp());
        EXPECT(0xa41d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa41b));
        EXPECT(0xa, gbc.readMem(0xa41c));
        // CB 0A 00E8
        gbc.setState(0x24e, 0xe07f, 0xed80, 0xda40, 0x61a2, 0x52d9, 0x0, 0x0);
        gbc.writeMem(0x24e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0xe07f, gbc.sp());
        EXPECT(0x250, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00E9
        gbc.setState(0x6312, 0x7495, 0xe140, 0x9547, 0x1305, 0x8a29, 0x0, 0x0);
        gbc.writeMem(0x6312, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x7495, gbc.sp());
        EXPECT(0x6314, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00EA
        gbc.setState(0x900f, 0x20ee, 0x81e0, 0x6cf7, 0xd7af, 0x62f1, 0x0, 0x0);
        gbc.writeMem(0x900f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x20ee, gbc.sp());
        EXPECT(0x9011, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x900f));
        EXPECT(0xa, gbc.readMem(0x9010));
        // CB 0A 00EB
        gbc.setState(0xd7ec, 0x4298, 0x7370, 0xad72, 0x7382, 0xe6df, 0x1, 0x1);
        gbc.writeMem(0xd7ec, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x4298, gbc.sp());
        EXPECT(0xd7ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd7ec));
        EXPECT(0xa, gbc.readMem(0xd7ed));
        // CB 0A 00ED
        gbc.setState(0x119, 0xced1, 0xa9f0, 0x4f13, 0xb693, 0x81d, 0x0, 0x0);
        gbc.writeMem(0x119, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xced1, gbc.sp());
        EXPECT(0x11b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00EE
        gbc.setState(0xa443, 0xc182, 0x1a80, 0xd6fe, 0x9235, 0xa98b, 0x1, 0x0);
        gbc.writeMem(0xa443, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xc182, gbc.sp());
        EXPECT(0xa445, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa443));
        EXPECT(0xa, gbc.readMem(0xa444));
        // CB 0A 00EF
        gbc.setState(0x95e6, 0x6c1f, 0x49b0, 0xc3a3, 0xa2f4, 0x6836, 0x1, 0x0);
        gbc.writeMem(0x95e6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x6c1f, gbc.sp());
        EXPECT(0x95e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x95e6));
        EXPECT(0xa, gbc.readMem(0x95e7));
        // CB 0A 00F0
        gbc.setState(0x2cc4, 0xd69c, 0x53e0, 0xe18c, 0xb1b2, 0x4b3e, 0x1, 0x1);
        gbc.writeMem(0x2cc4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xd69c, gbc.sp());
        EXPECT(0x2cc6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00F1
        gbc.setState(0xdc3c, 0xb2cd, 0xc700, 0x7337, 0x871, 0xa931, 0x1, 0x0);
        gbc.writeMem(0xdc3c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xb2cd, gbc.sp());
        EXPECT(0xdc3e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc3c));
        EXPECT(0xa, gbc.readMem(0xdc3d));
        // CB 0A 00F2
        gbc.setState(0x31d1, 0x9ba8, 0xa0, 0xfdba, 0x144a, 0xfb4f, 0x1, 0x0);
        gbc.writeMem(0x31d1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x9ba8, gbc.sp());
        EXPECT(0x31d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00F3
        gbc.setState(0x74ca, 0xacc1, 0x5450, 0xea97, 0x1827, 0xed9e, 0x0, 0x0);
        gbc.writeMem(0x74ca, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xacc1, gbc.sp());
        EXPECT(0x74cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00F4
        gbc.setState(0xc94c, 0x8a78, 0xb590, 0xf8af, 0x9440, 0x1ba0, 0x1, 0x0);
        gbc.writeMem(0xc94c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x8a78, gbc.sp());
        EXPECT(0xc94e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc94c));
        EXPECT(0xa, gbc.readMem(0xc94d));
        // CB 0A 00F5
        gbc.setState(0xa00a, 0x825d, 0x9060, 0x2596, 0x8028, 0x76c1, 0x1, 0x0);
        gbc.writeMem(0xa00a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x825d, gbc.sp());
        EXPECT(0xa00c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa00a));
        EXPECT(0xa, gbc.readMem(0xa00b));
        // CB 0A 00F6
        gbc.setState(0xca6b, 0xdcc6, 0xc3b0, 0xc36d, 0xbb8d, 0x317b, 0x1, 0x1);
        gbc.writeMem(0xca6b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xdcc6, gbc.sp());
        EXPECT(0xca6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xca6b));
        EXPECT(0xa, gbc.readMem(0xca6c));
        // CB 0A 00F7
        gbc.setState(0x4141, 0x96b2, 0x7d90, 0xb1ad, 0x4cea, 0x8391, 0x0, 0x1);
        gbc.writeMem(0x4141, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x96b2, gbc.sp());
        EXPECT(0x4143, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00F8
        gbc.setState(0x8bc8, 0xbe1c, 0x6c30, 0x2db7, 0x5105, 0xd261, 0x1, 0x0);
        gbc.writeMem(0x8bc8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xbe1c, gbc.sp());
        EXPECT(0x8bca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8bc8));
        EXPECT(0xa, gbc.readMem(0x8bc9));
        // CB 0A 00F9
        gbc.setState(0x4f7f, 0xaaca, 0xcb00, 0x3ada, 0xb5c, 0x287, 0x0, 0x1);
        gbc.writeMem(0x4f7f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xaaca, gbc.sp());
        EXPECT(0x4f81, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00FA
        gbc.setState(0x38ff, 0x109e, 0xb080, 0xa132, 0xe992, 0x2b1f, 0x1, 0x1);
        gbc.writeMem(0x38ff, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x109e, gbc.sp());
        EXPECT(0x3901, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00FB
        gbc.setState(0xc4f4, 0x7093, 0xea00, 0x8f21, 0x2067, 0x539e, 0x0, 0x1);
        gbc.writeMem(0xc4f4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x7093, gbc.sp());
        EXPECT(0xc4f6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc4f4));
        EXPECT(0xa, gbc.readMem(0xc4f5));
        // CB 0A 00FC
        gbc.setState(0x2c17, 0x9dc, 0x3fb0, 0xc0b1, 0x877b, 0x3fd, 0x1, 0x1);
        gbc.writeMem(0x2c17, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x9dc, gbc.sp());
        EXPECT(0x2c19, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 00FD
        gbc.setState(0x3622, 0x258b, 0xe6e0, 0x5ffe, 0x2891, 0x6579, 0x1, 0x1);
        gbc.writeMem(0x3622, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x258b, gbc.sp());
        EXPECT(0x3624, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 00FE
        gbc.setState(0xdc90, 0x10d3, 0x9f0, 0xfd5f, 0xb678, 0x79e1, 0x0, 0x1);
        gbc.writeMem(0xdc90, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x10d3, gbc.sp());
        EXPECT(0xdc92, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc90));
        EXPECT(0xa, gbc.readMem(0xdc91));
        // CB 0A 00FF
        gbc.setState(0xc495, 0x8d71, 0x5230, 0xfb12, 0x5301, 0x5ab4, 0x1, 0x1);
        gbc.writeMem(0xc495, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x8d71, gbc.sp());
        EXPECT(0xc497, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc495));
        EXPECT(0xa, gbc.readMem(0xc496));
        // CB 0A 0100
        gbc.setState(0xa10b, 0xa610, 0x41a0, 0xf416, 0xe7c9, 0x313a, 0x1, 0x1);
        gbc.writeMem(0xa10b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xa610, gbc.sp());
        EXPECT(0xa10d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa10b));
        EXPECT(0xa, gbc.readMem(0xa10c));
        // CB 0A 0101
        gbc.setState(0x7763, 0x3515, 0xfff0, 0xc399, 0x7207, 0xffde, 0x1, 0x0);
        gbc.writeMem(0x7763, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x3515, gbc.sp());
        EXPECT(0x7765, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0102
        gbc.setState(0xabd6, 0x6d9c, 0x8ac0, 0xae3f, 0x8309, 0xab46, 0x1, 0x0);
        gbc.writeMem(0xabd6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x6d9c, gbc.sp());
        EXPECT(0xabd8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xabd6));
        EXPECT(0xa, gbc.readMem(0xabd7));
        // CB 0A 0103
        gbc.setState(0x1984, 0x1e15, 0xdf50, 0x2a09, 0x88cc, 0x17ab, 0x1, 0x0);
        gbc.writeMem(0x1984, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x1e15, gbc.sp());
        EXPECT(0x1986, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0104
        gbc.setState(0x30f7, 0x5ad3, 0x70b0, 0x84b7, 0x1211, 0xc55d, 0x0, 0x1);
        gbc.writeMem(0x30f7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x5ad3, gbc.sp());
        EXPECT(0x30f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0105
        gbc.setState(0x586e, 0xa1f9, 0xe780, 0xc5bd, 0x176b, 0xc72, 0x0, 0x0);
        gbc.writeMem(0x586e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xa1f9, gbc.sp());
        EXPECT(0x5870, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0106
        gbc.setState(0x844b, 0x1edc, 0xb2a0, 0xfafd, 0x38f8, 0xec6, 0x0, 0x0);
        gbc.writeMem(0x844b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x1edc, gbc.sp());
        EXPECT(0x844d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x844b));
        EXPECT(0xa, gbc.readMem(0x844c));
        // CB 0A 0107
        gbc.setState(0x7cee, 0x7248, 0xf480, 0xe336, 0x4225, 0xce46, 0x0, 0x0);
        gbc.writeMem(0x7cee, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x7248, gbc.sp());
        EXPECT(0x7cf0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0108
        gbc.setState(0x935d, 0x6385, 0x3fb0, 0x5435, 0xc6b5, 0x681a, 0x0, 0x0);
        gbc.writeMem(0x935d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x6385, gbc.sp());
        EXPECT(0x935f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x935d));
        EXPECT(0xa, gbc.readMem(0x935e));
        // CB 0A 0109
        gbc.setState(0x9176, 0xba35, 0x9f00, 0x1a0d, 0x18b9, 0x3805, 0x1, 0x0);
        gbc.writeMem(0x9176, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xba35, gbc.sp());
        EXPECT(0x9178, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9176));
        EXPECT(0xa, gbc.readMem(0x9177));
        // CB 0A 010A
        gbc.setState(0xd80a, 0x33b9, 0xd900, 0xb604, 0x5c33, 0x4995, 0x1, 0x0);
        gbc.writeMem(0xd80a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x33b9, gbc.sp());
        EXPECT(0xd80c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd80a));
        EXPECT(0xa, gbc.readMem(0xd80b));
        // CB 0A 010B
        gbc.setState(0xd92d, 0x89c2, 0xfcc0, 0x4649, 0x62a2, 0xa62c, 0x0, 0x1);
        gbc.writeMem(0xd92d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x89c2, gbc.sp());
        EXPECT(0xd92f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd92d));
        EXPECT(0xa, gbc.readMem(0xd92e));
        // CB 0A 010C
        gbc.setState(0x586a, 0x32a9, 0xd2c0, 0xe1ae, 0xcef3, 0x47d9, 0x1, 0x1);
        gbc.writeMem(0x586a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x32a9, gbc.sp());
        EXPECT(0x586c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 010D
        gbc.setState(0xcbac, 0x713d, 0x67a0, 0x215b, 0xc554, 0xf6bb, 0x0, 0x0);
        gbc.writeMem(0xcbac, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x713d, gbc.sp());
        EXPECT(0xcbae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbac));
        EXPECT(0xa, gbc.readMem(0xcbad));
        // CB 0A 010E
        gbc.setState(0x6679, 0xd110, 0x2260, 0x67ff, 0xb974, 0x4a69, 0x1, 0x1);
        gbc.writeMem(0x6679, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xd110, gbc.sp());
        EXPECT(0x667b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 010F
        gbc.setState(0xc639, 0x4d0d, 0x9050, 0x6b0c, 0x7, 0x9f44, 0x0, 0x0);
        gbc.writeMem(0xc639, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x4d0d, gbc.sp());
        EXPECT(0xc63b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc639));
        EXPECT(0xa, gbc.readMem(0xc63a));
        // CB 0A 0110
        gbc.setState(0x6ec, 0xe442, 0xce10, 0x924, 0xabef, 0x1f6, 0x1, 0x1);
        gbc.writeMem(0x6ec, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xe442, gbc.sp());
        EXPECT(0x6ee, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0111
        gbc.setState(0x4408, 0xb835, 0xf950, 0xe63c, 0xdcdb, 0x1a50, 0x1, 0x1);
        gbc.writeMem(0x4408, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xb835, gbc.sp());
        EXPECT(0x440a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0112
        gbc.setState(0x78de, 0x4b3c, 0x4fd0, 0x8cea, 0xc719, 0xde7, 0x1, 0x1);
        gbc.writeMem(0x78de, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x4b3c, gbc.sp());
        EXPECT(0x78e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0113
        gbc.setState(0x2729, 0x386d, 0xf400, 0xa9ca, 0x21e2, 0x2d50, 0x1, 0x0);
        gbc.writeMem(0x2729, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x386d, gbc.sp());
        EXPECT(0x272b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0114
        gbc.setState(0x78d4, 0xff46, 0x1860, 0xf1d9, 0x7dfa, 0x1089, 0x0, 0x0);
        gbc.writeMem(0x78d4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xff46, gbc.sp());
        EXPECT(0x78d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0115
        gbc.setState(0x81e4, 0x477f, 0x59a0, 0xad62, 0xa179, 0x6a37, 0x1, 0x0);
        gbc.writeMem(0x81e4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x477f, gbc.sp());
        EXPECT(0x81e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x81e4));
        EXPECT(0xa, gbc.readMem(0x81e5));
        // CB 0A 0117
        gbc.setState(0x7ea, 0x14ff, 0xee30, 0x8ed6, 0xe251, 0x60f, 0x1, 0x0);
        gbc.writeMem(0x7ea, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x14ff, gbc.sp());
        EXPECT(0x7ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0118
        gbc.setState(0xb221, 0x43a5, 0xef30, 0xa714, 0x44f3, 0x1e0f, 0x1, 0x1);
        gbc.writeMem(0xb221, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x43a5, gbc.sp());
        EXPECT(0xb223, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb221));
        EXPECT(0xa, gbc.readMem(0xb222));
        // CB 0A 0119
        gbc.setState(0x948, 0xe792, 0xb3c0, 0x4117, 0x5242, 0xb1dd, 0x1, 0x1);
        gbc.writeMem(0x948, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xe792, gbc.sp());
        EXPECT(0x94a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 011A
        gbc.setState(0x81e1, 0x98ba, 0xc6c0, 0xbd5f, 0xf0db, 0x6b4, 0x1, 0x0);
        gbc.writeMem(0x81e1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x98ba, gbc.sp());
        EXPECT(0x81e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x81e1));
        EXPECT(0xa, gbc.readMem(0x81e2));
        // CB 0A 011B
        gbc.setState(0x34cd, 0x526e, 0x5270, 0x9428, 0x5871, 0xd5ad, 0x1, 0x1);
        gbc.writeMem(0x34cd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x526e, gbc.sp());
        EXPECT(0x34cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 011C
        gbc.setState(0x3d62, 0x201d, 0xdaa0, 0xa5a3, 0x217d, 0x617d, 0x1, 0x1);
        gbc.writeMem(0x3d62, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x201d, gbc.sp());
        EXPECT(0x3d64, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 011D
        gbc.setState(0xd73f, 0xdbf0, 0x1c40, 0x37dc, 0x2bc7, 0x1919, 0x0, 0x1);
        gbc.writeMem(0xd73f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xdbf0, gbc.sp());
        EXPECT(0xd741, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd73f));
        EXPECT(0xa, gbc.readMem(0xd740));
        // CB 0A 011E
        gbc.setState(0xa327, 0x4d1f, 0xbd20, 0x9d40, 0xa95b, 0xc5f4, 0x1, 0x0);
        gbc.writeMem(0xa327, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x4d1f, gbc.sp());
        EXPECT(0xa329, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa327));
        EXPECT(0xa, gbc.readMem(0xa328));
        // CB 0A 011F
        gbc.setState(0x9bce, 0xd5b4, 0x1040, 0x5af7, 0xd2e4, 0x5056, 0x0, 0x0);
        gbc.writeMem(0x9bce, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xd5b4, gbc.sp());
        EXPECT(0x9bd0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9bce));
        EXPECT(0xa, gbc.readMem(0x9bcf));
        // CB 0A 0120
        gbc.setState(0x539d, 0xcd30, 0xe470, 0xcba1, 0x5dd6, 0x8d9a, 0x0, 0x1);
        gbc.writeMem(0x539d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xcd30, gbc.sp());
        EXPECT(0x539f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0121
        gbc.setState(0x13e9, 0x2456, 0x7ec0, 0xd42b, 0xef0b, 0xa8d1, 0x0, 0x1);
        gbc.writeMem(0x13e9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x2456, gbc.sp());
        EXPECT(0x13eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0122
        gbc.setState(0x91df, 0xd7c, 0x6c50, 0xb256, 0x447, 0xe7aa, 0x0, 0x0);
        gbc.writeMem(0x91df, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xd7c, gbc.sp());
        EXPECT(0x91e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x91df));
        EXPECT(0xa, gbc.readMem(0x91e0));
        // CB 0A 0123
        gbc.setState(0x7615, 0xc448, 0xdb90, 0x7ecc, 0xa55f, 0xfb48, 0x0, 0x0);
        gbc.writeMem(0x7615, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xc448, gbc.sp());
        EXPECT(0x7617, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0124
        gbc.setState(0xe91a, 0x21c4, 0x63b0, 0x95d0, 0x9038, 0xd3bf, 0x1, 0x0);
        gbc.writeMem(0xe91a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x21c4, gbc.sp());
        EXPECT(0xe91c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe91a));
        EXPECT(0xa, gbc.readMem(0xe91b));
        // CB 0A 0125
        gbc.setState(0x9844, 0x6ab3, 0x4d0, 0x6fb2, 0x8810, 0xe9e9, 0x1, 0x0);
        gbc.writeMem(0x9844, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x6ab3, gbc.sp());
        EXPECT(0x9846, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9844));
        EXPECT(0xa, gbc.readMem(0x9845));
        // CB 0A 0126
        gbc.setState(0x4f6f, 0x1bd8, 0x2680, 0x4d71, 0xf335, 0x2b23, 0x1, 0x0);
        gbc.writeMem(0x4f6f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x1bd8, gbc.sp());
        EXPECT(0x4f71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0127
        gbc.setState(0x51c6, 0xa08c, 0x7320, 0xed8f, 0x9779, 0x56f2, 0x0, 0x1);
        gbc.writeMem(0x51c6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xa08c, gbc.sp());
        EXPECT(0x51c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0128
        gbc.setState(0xcf36, 0xbd07, 0x7940, 0x1492, 0x6496, 0x4fd5, 0x0, 0x1);
        gbc.writeMem(0xcf36, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xbd07, gbc.sp());
        EXPECT(0xcf38, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf36));
        EXPECT(0xa, gbc.readMem(0xcf37));
        // CB 0A 0129
        gbc.setState(0xafcf, 0xef24, 0x93a0, 0xeee5, 0xb931, 0x27fe, 0x1, 0x1);
        gbc.writeMem(0xafcf, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xef24, gbc.sp());
        EXPECT(0xafd1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafcf));
        EXPECT(0xa, gbc.readMem(0xafd0));
        // CB 0A 012A
        gbc.setState(0x10ad, 0x6b4, 0xf170, 0x8322, 0x64e0, 0x67b7, 0x1, 0x0);
        gbc.writeMem(0x10ad, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x6b4, gbc.sp());
        EXPECT(0x10af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 012B
        gbc.setState(0x6d7c, 0xc882, 0x7af0, 0x18b1, 0x626e, 0x9cda, 0x1, 0x1);
        gbc.writeMem(0x6d7c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xc882, gbc.sp());
        EXPECT(0x6d7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 012C
        gbc.setState(0x1a0c, 0x8df7, 0x6b0, 0x8d39, 0x9f7a, 0xdc9a, 0x1, 0x1);
        gbc.writeMem(0x1a0c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x8df7, gbc.sp());
        EXPECT(0x1a0e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 012D
        gbc.setState(0xd813, 0x4abe, 0x1560, 0xc89f, 0x42d3, 0xcb95, 0x0, 0x1);
        gbc.writeMem(0xd813, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x4abe, gbc.sp());
        EXPECT(0xd815, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd813));
        EXPECT(0xa, gbc.readMem(0xd814));
        // CB 0A 012E
        gbc.setState(0xedf5, 0x13a2, 0x9850, 0xb990, 0xa41b, 0x3cac, 0x1, 0x1);
        gbc.writeMem(0xedf5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x13a2, gbc.sp());
        EXPECT(0xedf7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xedf5));
        EXPECT(0xa, gbc.readMem(0xedf6));
        // CB 0A 012F
        gbc.setState(0x1dac, 0xf7c5, 0x8ae0, 0xfdc0, 0xd79b, 0xcf47, 0x1, 0x0);
        gbc.writeMem(0x1dac, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xf7c5, gbc.sp());
        EXPECT(0x1dae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0130
        gbc.setState(0x817e, 0x7b31, 0xffc0, 0x649c, 0xbe2b, 0x9e4, 0x1, 0x1);
        gbc.writeMem(0x817e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x7b31, gbc.sp());
        EXPECT(0x8180, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x817e));
        EXPECT(0xa, gbc.readMem(0x817f));
        // CB 0A 0131
        gbc.setState(0x83fb, 0x6fb7, 0x6c0, 0x7ace, 0xa7ce, 0x6f25, 0x0, 0x1);
        gbc.writeMem(0x83fb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x6fb7, gbc.sp());
        EXPECT(0x83fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x83fb));
        EXPECT(0xa, gbc.readMem(0x83fc));
        // CB 0A 0132
        gbc.setState(0x4d30, 0x20c5, 0xf700, 0x6900, 0x9754, 0x7395, 0x1, 0x0);
        gbc.writeMem(0x4d30, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x20c5, gbc.sp());
        EXPECT(0x4d32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0133
        gbc.setState(0x8198, 0x1ca1, 0x1050, 0x3a7c, 0x9630, 0xe9cd, 0x0, 0x1);
        gbc.writeMem(0x8198, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x1ca1, gbc.sp());
        EXPECT(0x819a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8198));
        EXPECT(0xa, gbc.readMem(0x8199));
        // CB 0A 0134
        gbc.setState(0xd2ee, 0xf88f, 0xaaf0, 0x98df, 0xa270, 0x3dea, 0x1, 0x1);
        gbc.writeMem(0xd2ee, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xf88f, gbc.sp());
        EXPECT(0xd2f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd2ee));
        EXPECT(0xa, gbc.readMem(0xd2ef));
        // CB 0A 0136
        gbc.setState(0x87e6, 0xde27, 0xf730, 0x4e06, 0xd50b, 0xdae, 0x0, 0x0);
        gbc.writeMem(0x87e6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xde27, gbc.sp());
        EXPECT(0x87e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87e6));
        EXPECT(0xa, gbc.readMem(0x87e7));
        // CB 0A 0137
        gbc.setState(0x6556, 0xe4a3, 0xaad0, 0x5546, 0x616c, 0x96e0, 0x0, 0x1);
        gbc.writeMem(0x6556, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xe4a3, gbc.sp());
        EXPECT(0x6558, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0138
        gbc.setState(0x2116, 0x7532, 0xdf00, 0xfdb3, 0xce42, 0x962d, 0x1, 0x0);
        gbc.writeMem(0x2116, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x7532, gbc.sp());
        EXPECT(0x2118, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0139
        gbc.setState(0x4e21, 0xe95, 0x3830, 0x3d90, 0xce55, 0x3f5c, 0x1, 0x0);
        gbc.writeMem(0x4e21, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xe95, gbc.sp());
        EXPECT(0x4e23, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 013A
        gbc.setState(0x216a, 0x48f8, 0xb500, 0xbf43, 0x11c4, 0x964b, 0x0, 0x0);
        gbc.writeMem(0x216a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0x48f8, gbc.sp());
        EXPECT(0x216c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 013B
        gbc.setState(0x1435, 0x8fac, 0xac60, 0x1294, 0xd7bb, 0x976d, 0x1, 0x0);
        gbc.writeMem(0x1435, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x8fac, gbc.sp());
        EXPECT(0x1437, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 013C
        gbc.setState(0x544, 0x603f, 0x8d0, 0x9c10, 0xf6c1, 0x1735, 0x1, 0x0);
        gbc.writeMem(0x544, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x603f, gbc.sp());
        EXPECT(0x546, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 013D
        gbc.setState(0xaef2, 0xf41d, 0x530, 0x7526, 0xcd1d, 0xdafb, 0x0, 0x1);
        gbc.writeMem(0xaef2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xf41d, gbc.sp());
        EXPECT(0xaef4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaef2));
        EXPECT(0xa, gbc.readMem(0xaef3));
        // CB 0A 013E
        gbc.setState(0x8e5e, 0x8b04, 0x4740, 0xf1e7, 0x359, 0xcf44, 0x1, 0x1);
        gbc.writeMem(0x8e5e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x8b04, gbc.sp());
        EXPECT(0x8e60, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e5e));
        EXPECT(0xa, gbc.readMem(0x8e5f));
        // CB 0A 013F
        gbc.setState(0x4231, 0xc2ed, 0xfca0, 0x8f02, 0xb6ed, 0x6809, 0x0, 0x1);
        gbc.writeMem(0x4231, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0xc2ed, gbc.sp());
        EXPECT(0x4233, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0141
        gbc.setState(0x3549, 0xb1dd, 0x6720, 0x41d3, 0xfec3, 0xf77b, 0x1, 0x1);
        gbc.writeMem(0x3549, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xb1dd, gbc.sp());
        EXPECT(0x354b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0142
        gbc.setState(0x5f33, 0x5c7f, 0xa000, 0x69f0, 0x16e, 0xc292, 0x0, 0x0);
        gbc.writeMem(0x5f33, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x5c7f, gbc.sp());
        EXPECT(0x5f35, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0143
        gbc.setState(0x1078, 0xdfe, 0xa350, 0x5c43, 0xde52, 0xc196, 0x0, 0x1);
        gbc.writeMem(0x1078, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xdfe, gbc.sp());
        EXPECT(0x107a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0144
        gbc.setState(0x9b7e, 0xcce, 0x7f20, 0x5f5, 0x5712, 0x5ded, 0x0, 0x1);
        gbc.writeMem(0x9b7e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xcce, gbc.sp());
        EXPECT(0x9b80, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b7e));
        EXPECT(0xa, gbc.readMem(0x9b7f));
        // CB 0A 0145
        gbc.setState(0xbaa7, 0x8ff1, 0xdb20, 0x2705, 0xe055, 0x6af1, 0x1, 0x1);
        gbc.writeMem(0xbaa7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x8ff1, gbc.sp());
        EXPECT(0xbaa9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbaa7));
        EXPECT(0xa, gbc.readMem(0xbaa8));
        // CB 0A 0146
        gbc.setState(0x8fc6, 0xaf19, 0x2330, 0xb930, 0x6531, 0x6dc3, 0x0, 0x1);
        gbc.writeMem(0x8fc6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xaf19, gbc.sp());
        EXPECT(0x8fc8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8fc6));
        EXPECT(0xa, gbc.readMem(0x8fc7));
        // CB 0A 0147
        gbc.setState(0x5fa8, 0xf5b3, 0xebc0, 0x1710, 0xdae6, 0x5664, 0x0, 0x1);
        gbc.writeMem(0x5fa8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xf5b3, gbc.sp());
        EXPECT(0x5faa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0148
        gbc.setState(0x2f31, 0xcab8, 0x5b90, 0xc243, 0x8d9d, 0xfd7f, 0x1, 0x0);
        gbc.writeMem(0x2f31, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xcab8, gbc.sp());
        EXPECT(0x2f33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0149
        gbc.setState(0x7e1c, 0x71f9, 0xf4b0, 0x7bb2, 0xab47, 0x2a6b, 0x0, 0x0);
        gbc.writeMem(0x7e1c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x71f9, gbc.sp());
        EXPECT(0x7e1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 014A
        gbc.setState(0x86a9, 0xacb9, 0x4c0, 0xdeb4, 0xb56e, 0xad20, 0x0, 0x0);
        gbc.writeMem(0x86a9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xacb9, gbc.sp());
        EXPECT(0x86ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x86a9));
        EXPECT(0xa, gbc.readMem(0x86aa));
        // CB 0A 014B
        gbc.setState(0xe5dc, 0x5b7, 0x6fb0, 0xf6e9, 0x9b42, 0xdd27, 0x0, 0x1);
        gbc.writeMem(0xe5dc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x5b7, gbc.sp());
        EXPECT(0xe5de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe5dc));
        EXPECT(0xa, gbc.readMem(0xe5dd));
        // CB 0A 014C
        gbc.setState(0x233d, 0xe72c, 0x1b70, 0x821d, 0xf684, 0x42a2, 0x0, 0x1);
        gbc.writeMem(0x233d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xe72c, gbc.sp());
        EXPECT(0x233f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 014D
        gbc.setState(0xe1ec, 0xcc0f, 0xf380, 0xda6e, 0xbefc, 0x2eaa, 0x0, 0x0);
        gbc.writeMem(0xe1ec, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xcc0f, gbc.sp());
        EXPECT(0xe1ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1ec));
        EXPECT(0xa, gbc.readMem(0xe1ed));
        // CB 0A 014E
        gbc.setState(0xd590, 0x464, 0x8a90, 0x1e8f, 0x963d, 0xd622, 0x1, 0x1);
        gbc.writeMem(0xd590, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x464, gbc.sp());
        EXPECT(0xd592, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd590));
        EXPECT(0xa, gbc.readMem(0xd591));
        // CB 0A 014F
        gbc.setState(0x69b3, 0xcf43, 0x83f0, 0x4826, 0xf5ee, 0xe6d1, 0x1, 0x1);
        gbc.writeMem(0x69b3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xcf43, gbc.sp());
        EXPECT(0x69b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0150
        gbc.setState(0xa44c, 0x4723, 0x3e80, 0x7ffe, 0xb8c8, 0x6a79, 0x1, 0x1);
        gbc.writeMem(0xa44c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x4723, gbc.sp());
        EXPECT(0xa44e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa44c));
        EXPECT(0xa, gbc.readMem(0xa44d));
        // CB 0A 0151
        gbc.setState(0x6e79, 0xd46a, 0x6910, 0xc332, 0xe35e, 0x5942, 0x0, 0x1);
        gbc.writeMem(0x6e79, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xd46a, gbc.sp());
        EXPECT(0x6e7b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0152
        gbc.setState(0x73dc, 0x7394, 0x9770, 0x9580, 0xaea7, 0xb2ba, 0x0, 0x1);
        gbc.writeMem(0x73dc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x7394, gbc.sp());
        EXPECT(0x73de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0153
        gbc.setState(0x7ec8, 0x94c6, 0x2b40, 0x3d56, 0x5294, 0x8053, 0x0, 0x1);
        gbc.writeMem(0x7ec8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x94c6, gbc.sp());
        EXPECT(0x7eca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0155
        gbc.setState(0x6295, 0x73b5, 0x7fc0, 0x5c37, 0x3fb4, 0xce28, 0x1, 0x0);
        gbc.writeMem(0x6295, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x73b5, gbc.sp());
        EXPECT(0x6297, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0156
        gbc.setState(0x8a43, 0x17af, 0x5df0, 0xa8b, 0xad0c, 0xa4d4, 0x0, 0x0);
        gbc.writeMem(0x8a43, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x17af, gbc.sp());
        EXPECT(0x8a45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a43));
        EXPECT(0xa, gbc.readMem(0x8a44));
        // CB 0A 0157
        gbc.setState(0xc8ac, 0xfc99, 0xec60, 0x5e80, 0x414a, 0x4775, 0x1, 0x1);
        gbc.writeMem(0xc8ac, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xfc99, gbc.sp());
        EXPECT(0xc8ae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc8ac));
        EXPECT(0xa, gbc.readMem(0xc8ad));
        // CB 0A 0158
        gbc.setState(0x397b, 0xaa12, 0xd4e0, 0x229a, 0x61ed, 0x6da8, 0x0, 0x0);
        gbc.writeMem(0x397b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xaa12, gbc.sp());
        EXPECT(0x397d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0159
        gbc.setState(0x1e96, 0xfb4d, 0x78f0, 0x8726, 0xdb5, 0xbf3f, 0x1, 0x0);
        gbc.writeMem(0x1e96, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xfb4d, gbc.sp());
        EXPECT(0x1e98, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 015A
        gbc.setState(0xa59a, 0xb021, 0x8c10, 0xae4, 0xbfff, 0xc072, 0x1, 0x1);
        gbc.writeMem(0xa59a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xb021, gbc.sp());
        EXPECT(0xa59c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa59a));
        EXPECT(0xa, gbc.readMem(0xa59b));
        // CB 0A 015B
        gbc.setState(0xe32c, 0xc08e, 0xedc0, 0x6d34, 0xc355, 0x2d41, 0x1, 0x0);
        gbc.writeMem(0xe32c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xc08e, gbc.sp());
        EXPECT(0xe32e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe32c));
        EXPECT(0xa, gbc.readMem(0xe32d));
        // CB 0A 015D
        gbc.setState(0xc7ee, 0xf192, 0x2600, 0xbf66, 0xaaf4, 0x9e44, 0x0, 0x1);
        gbc.writeMem(0xc7ee, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xf192, gbc.sp());
        EXPECT(0xc7f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc7ee));
        EXPECT(0xa, gbc.readMem(0xc7ef));
        // CB 0A 015E
        gbc.setState(0x616f, 0xd5d6, 0x90a0, 0x20f2, 0x50b2, 0x250a, 0x0, 0x0);
        gbc.writeMem(0x616f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xd5d6, gbc.sp());
        EXPECT(0x6171, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 015F
        gbc.setState(0xa82c, 0x8210, 0x2bb0, 0x1f16, 0x7039, 0x4ab1, 0x0, 0x0);
        gbc.writeMem(0xa82c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x8210, gbc.sp());
        EXPECT(0xa82e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa82c));
        EXPECT(0xa, gbc.readMem(0xa82d));
        // CB 0A 0160
        gbc.setState(0xa295, 0xda34, 0x96d0, 0xc019, 0x81d1, 0x2f86, 0x0, 0x1);
        gbc.writeMem(0xa295, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xda34, gbc.sp());
        EXPECT(0xa297, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa295));
        EXPECT(0xa, gbc.readMem(0xa296));
        // CB 0A 0161
        gbc.setState(0x9ac9, 0x98f1, 0x4b90, 0x8c48, 0x6f26, 0xfc0e, 0x0, 0x0);
        gbc.writeMem(0x9ac9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x98f1, gbc.sp());
        EXPECT(0x9acb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9ac9));
        EXPECT(0xa, gbc.readMem(0x9aca));
        // CB 0A 0162
        gbc.setState(0x4014, 0xe493, 0xe670, 0xe6be, 0x107c, 0x69a4, 0x1, 0x1);
        gbc.writeMem(0x4014, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xe493, gbc.sp());
        EXPECT(0x4016, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0163
        gbc.setState(0xbb75, 0x8bed, 0x830, 0xbe0e, 0xd642, 0x2ef8, 0x0, 0x1);
        gbc.writeMem(0xbb75, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x8bed, gbc.sp());
        EXPECT(0xbb77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb75));
        EXPECT(0xa, gbc.readMem(0xbb76));
        // CB 0A 0164
        gbc.setState(0x38bd, 0x95b7, 0x1350, 0xf048, 0xd26, 0x7d0, 0x0, 0x1);
        gbc.writeMem(0x38bd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x95b7, gbc.sp());
        EXPECT(0x38bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0165
        gbc.setState(0xd789, 0xc8d0, 0xca20, 0xd107, 0xff65, 0xeb8b, 0x1, 0x1);
        gbc.writeMem(0xd789, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xc8d0, gbc.sp());
        EXPECT(0xd78b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd789));
        EXPECT(0xa, gbc.readMem(0xd78a));
        // CB 0A 0166
        gbc.setState(0x5c7a, 0x25bf, 0x3840, 0xc399, 0xf1fe, 0xbe62, 0x1, 0x1);
        gbc.writeMem(0x5c7a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x25bf, gbc.sp());
        EXPECT(0x5c7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0167
        gbc.setState(0xbfec, 0xedc1, 0x1280, 0x83a5, 0xa081, 0xb77e, 0x0, 0x1);
        gbc.writeMem(0xbfec, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xedc1, gbc.sp());
        EXPECT(0xbfee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbfec));
        EXPECT(0xa, gbc.readMem(0xbfed));
        // CB 0A 0168
        gbc.setState(0x8bb, 0x93e0, 0x71c0, 0x362, 0x3ed6, 0x8c3a, 0x1, 0x0);
        gbc.writeMem(0x8bb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x93e0, gbc.sp());
        EXPECT(0x8bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0169
        gbc.setState(0x7907, 0xb6c3, 0x4350, 0xcd52, 0xc6a2, 0xc242, 0x1, 0x0);
        gbc.writeMem(0x7907, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xb6c3, gbc.sp());
        EXPECT(0x7909, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 016A
        gbc.setState(0x1a64, 0x2393, 0x4670, 0xe7f7, 0xfff3, 0x1cf, 0x1, 0x1);
        gbc.writeMem(0x1a64, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x2393, gbc.sp());
        EXPECT(0x1a66, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 016B
        gbc.setState(0x9614, 0xc171, 0x9db0, 0x2c4e, 0x1c04, 0xa717, 0x1, 0x1);
        gbc.writeMem(0x9614, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xc171, gbc.sp());
        EXPECT(0x9616, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9614));
        EXPECT(0xa, gbc.readMem(0x9615));
        // CB 0A 016C
        gbc.setState(0xa53, 0x7e71, 0xef50, 0xcf86, 0xb0f3, 0x6316, 0x1, 0x1);
        gbc.writeMem(0xa53, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x7e71, gbc.sp());
        EXPECT(0xa55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 016D
        gbc.setState(0xcab5, 0xd3e8, 0x3850, 0x5d7, 0x778e, 0x8fc8, 0x1, 0x0);
        gbc.writeMem(0xcab5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0xd3e8, gbc.sp());
        EXPECT(0xcab7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcab5));
        EXPECT(0xa, gbc.readMem(0xcab6));
        // CB 0A 016E
        gbc.setState(0x7534, 0x396f, 0xa70, 0xe071, 0x8f9c, 0xbd4f, 0x0, 0x1);
        gbc.writeMem(0x7534, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x396f, gbc.sp());
        EXPECT(0x7536, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 016F
        gbc.setState(0x4bda, 0x97e6, 0x22f0, 0xbc72, 0xd9ff, 0x6f96, 0x1, 0x1);
        gbc.writeMem(0x4bda, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x97e6, gbc.sp());
        EXPECT(0x4bdc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0170
        gbc.setState(0x4f0, 0x9c6e, 0x55a0, 0x9a0d, 0x621b, 0xc1f0, 0x0, 0x0);
        gbc.writeMem(0x4f0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x9c6e, gbc.sp());
        EXPECT(0x4f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0172
        gbc.setState(0x498d, 0xae2f, 0xb110, 0xd276, 0xbea3, 0x6e6d, 0x0, 0x0);
        gbc.writeMem(0x498d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xae2f, gbc.sp());
        EXPECT(0x498f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0173
        gbc.setState(0x92cc, 0x2aff, 0xe6a0, 0xa953, 0x6ac1, 0xc619, 0x0, 0x0);
        gbc.writeMem(0x92cc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x2aff, gbc.sp());
        EXPECT(0x92ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92cc));
        EXPECT(0xa, gbc.readMem(0x92cd));
        // CB 0A 0174
        gbc.setState(0xa7da, 0x604c, 0xf560, 0x6115, 0xf00e, 0xbaa3, 0x1, 0x0);
        gbc.writeMem(0xa7da, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x604c, gbc.sp());
        EXPECT(0xa7dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7da));
        EXPECT(0xa, gbc.readMem(0xa7db));
        // CB 0A 0175
        gbc.setState(0xe008, 0xe20, 0x8090, 0x2209, 0x84cb, 0x2a4a, 0x0, 0x0);
        gbc.writeMem(0xe008, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xe20, gbc.sp());
        EXPECT(0xe00a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe008));
        EXPECT(0xa, gbc.readMem(0xe009));
        // CB 0A 0176
        gbc.setState(0x985c, 0xf07c, 0xecc0, 0x7f12, 0xf066, 0x7418, 0x1, 0x0);
        gbc.writeMem(0x985c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xf07c, gbc.sp());
        EXPECT(0x985e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x985c));
        EXPECT(0xa, gbc.readMem(0x985d));
        // CB 0A 0177
        gbc.setState(0x436, 0xc426, 0x9e70, 0xeeb2, 0x569e, 0x3d39, 0x1, 0x0);
        gbc.writeMem(0x436, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xc426, gbc.sp());
        EXPECT(0x438, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0178
        gbc.setState(0x8a3a, 0x2d50, 0xa620, 0x8abc, 0x89f6, 0x88a3, 0x0, 0x1);
        gbc.writeMem(0x8a3a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x2d50, gbc.sp());
        EXPECT(0x8a3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a3a));
        EXPECT(0xa, gbc.readMem(0x8a3b));
        // CB 0A 0179
        gbc.setState(0x548a, 0xefc0, 0xbe30, 0x852f, 0xaeb1, 0xc77e, 0x1, 0x0);
        gbc.writeMem(0x548a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xefc0, gbc.sp());
        EXPECT(0x548c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 017A
        gbc.setState(0x4849, 0x5af3, 0xecb0, 0xe328, 0x6af, 0x686d, 0x1, 0x1);
        gbc.writeMem(0x4849, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x5af3, gbc.sp());
        EXPECT(0x484b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 017B
        gbc.setState(0x7ac8, 0xdeb7, 0xcd30, 0x6b4, 0x94a9, 0x9b07, 0x0, 0x1);
        gbc.writeMem(0x7ac8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0xdeb7, gbc.sp());
        EXPECT(0x7aca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 017C
        gbc.setState(0x10ad, 0xf67, 0x5bf0, 0x551e, 0xe478, 0x397c, 0x0, 0x1);
        gbc.writeMem(0x10ad, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xf67, gbc.sp());
        EXPECT(0x10af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 017D
        gbc.setState(0x98eb, 0x4319, 0x1440, 0x5fed, 0xe89, 0xd7d2, 0x1, 0x0);
        gbc.writeMem(0x98eb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x4319, gbc.sp());
        EXPECT(0x98ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x98eb));
        EXPECT(0xa, gbc.readMem(0x98ec));
        // CB 0A 017E
        gbc.setState(0x7fdb, 0x8824, 0xffc0, 0x9d4e, 0x1f75, 0xeda6, 0x1, 0x0);
        gbc.writeMem(0x7fdb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x8824, gbc.sp());
        EXPECT(0x7fdd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 017F
        gbc.setState(0x9460, 0x6074, 0x4b10, 0x627a, 0x23a5, 0x349c, 0x1, 0x1);
        gbc.writeMem(0x9460, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x6074, gbc.sp());
        EXPECT(0x9462, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9460));
        EXPECT(0xa, gbc.readMem(0x9461));
        // CB 0A 0180
        gbc.setState(0x3a6b, 0x9980, 0x60b0, 0xbf0c, 0x5b2a, 0x722f, 0x1, 0x1);
        gbc.writeMem(0x3a6b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x9980, gbc.sp());
        EXPECT(0x3a6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0181
        gbc.setState(0xb06e, 0x3bdd, 0x6910, 0xb0c9, 0xe837, 0x3c22, 0x1, 0x1);
        gbc.writeMem(0xb06e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x3bdd, gbc.sp());
        EXPECT(0xb070, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb06e));
        EXPECT(0xa, gbc.readMem(0xb06f));
        // CB 0A 0182
        gbc.setState(0x5cc, 0x7b61, 0x1ae0, 0xa60e, 0xeb7a, 0xd7cc, 0x0, 0x0);
        gbc.writeMem(0x5cc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x7b61, gbc.sp());
        EXPECT(0x5ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0183
        gbc.setState(0x718e, 0xc600, 0x2d80, 0xf71a, 0xca7d, 0xa1f1, 0x0, 0x1);
        gbc.writeMem(0x718e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0xc600, gbc.sp());
        EXPECT(0x7190, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0184
        gbc.setState(0xa273, 0xda5a, 0xcb00, 0xcce0, 0x66ac, 0x4f81, 0x0, 0x0);
        gbc.writeMem(0xa273, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xda5a, gbc.sp());
        EXPECT(0xa275, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa273));
        EXPECT(0xa, gbc.readMem(0xa274));
        // CB 0A 0185
        gbc.setState(0x6a45, 0xb1d9, 0xf040, 0xb7f5, 0x39e4, 0xf245, 0x0, 0x1);
        gbc.writeMem(0x6a45, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xb1d9, gbc.sp());
        EXPECT(0x6a47, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0186
        gbc.setState(0x84c4, 0xb73a, 0xdaa0, 0xc59a, 0x560e, 0xe9fd, 0x0, 0x1);
        gbc.writeMem(0x84c4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xb73a, gbc.sp());
        EXPECT(0x84c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x84c4));
        EXPECT(0xa, gbc.readMem(0x84c5));
        // CB 0A 0187
        gbc.setState(0x1316, 0xeaca, 0x5f70, 0xa2dd, 0x2488, 0xa5b, 0x1, 0x0);
        gbc.writeMem(0x1316, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xeaca, gbc.sp());
        EXPECT(0x1318, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0188
        gbc.setState(0xa6c4, 0x607b, 0xc430, 0xc6d4, 0xf7d1, 0x525b, 0x1, 0x1);
        gbc.writeMem(0xa6c4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x607b, gbc.sp());
        EXPECT(0xa6c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa6c4));
        EXPECT(0xa, gbc.readMem(0xa6c5));
        // CB 0A 0189
        gbc.setState(0x5986, 0x3799, 0xdb0, 0x7bce, 0x2366, 0x2341, 0x1, 0x0);
        gbc.writeMem(0x5986, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x3799, gbc.sp());
        EXPECT(0x5988, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 018A
        gbc.setState(0x2665, 0x9c49, 0xd980, 0x3d8a, 0x27e4, 0x660b, 0x0, 0x1);
        gbc.writeMem(0x2665, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x9c49, gbc.sp());
        EXPECT(0x2667, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 018B
        gbc.setState(0xada6, 0xbc82, 0x7f20, 0x5561, 0x340d, 0x25fd, 0x0, 0x0);
        gbc.writeMem(0xada6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xbc82, gbc.sp());
        EXPECT(0xada8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xada6));
        EXPECT(0xa, gbc.readMem(0xada7));
        // CB 0A 018C
        gbc.setState(0xbb26, 0x6ec0, 0x6270, 0x2b03, 0xe9cf, 0xc28c, 0x0, 0x0);
        gbc.writeMem(0xbb26, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x6ec0, gbc.sp());
        EXPECT(0xbb28, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbb26));
        EXPECT(0xa, gbc.readMem(0xbb27));
        // CB 0A 018D
        gbc.setState(0x4298, 0x1b90, 0xc650, 0xf6e7, 0xff31, 0x6094, 0x1, 0x1);
        gbc.writeMem(0x4298, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x1b90, gbc.sp());
        EXPECT(0x429a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 018E
        gbc.setState(0xc900, 0xe3d9, 0xb980, 0x6190, 0x93ad, 0x2e68, 0x0, 0x1);
        gbc.writeMem(0xc900, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xc9, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xe3d9, gbc.sp());
        EXPECT(0xc902, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc900));
        EXPECT(0xa, gbc.readMem(0xc901));
        // CB 0A 018F
        gbc.setState(0xa0d7, 0x1dfa, 0x5e00, 0x9d15, 0xa24f, 0xf5a3, 0x1, 0x0);
        gbc.writeMem(0xa0d7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x1dfa, gbc.sp());
        EXPECT(0xa0d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0d7));
        EXPECT(0xa, gbc.readMem(0xa0d8));
        // CB 0A 0190
        gbc.setState(0x4acb, 0x2da2, 0x4d20, 0x8f07, 0x68b7, 0xa384, 0x1, 0x1);
        gbc.writeMem(0x4acb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x2da2, gbc.sp());
        EXPECT(0x4acd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0191
        gbc.setState(0x602, 0xd1b1, 0xe0f0, 0xc533, 0xf3bb, 0xbd0f, 0x1, 0x0);
        gbc.writeMem(0x602, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xd1b1, gbc.sp());
        EXPECT(0x604, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0192
        gbc.setState(0x3009, 0xb727, 0xd7d0, 0x83b3, 0x8d43, 0xe09c, 0x0, 0x1);
        gbc.writeMem(0x3009, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xb727, gbc.sp());
        EXPECT(0x300b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0193
        gbc.setState(0x977d, 0xcbb8, 0x75e0, 0xa638, 0x11dc, 0x2e60, 0x0, 0x0);
        gbc.writeMem(0x977d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xcbb8, gbc.sp());
        EXPECT(0x977f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x977d));
        EXPECT(0xa, gbc.readMem(0x977e));
        // CB 0A 0194
        gbc.setState(0x4dba, 0xde53, 0xdcb0, 0x8c63, 0xe0c9, 0x93d1, 0x0, 0x0);
        gbc.writeMem(0x4dba, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xde53, gbc.sp());
        EXPECT(0x4dbc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0195
        gbc.setState(0xb579, 0x232d, 0x4000, 0xa438, 0x2d68, 0x8271, 0x1, 0x0);
        gbc.writeMem(0xb579, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x232d, gbc.sp());
        EXPECT(0xb57b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb579));
        EXPECT(0xa, gbc.readMem(0xb57a));
        // CB 0A 0196
        gbc.setState(0x6b4c, 0x29f6, 0xa710, 0x2b24, 0x70f5, 0x8ca6, 0x1, 0x0);
        gbc.writeMem(0x6b4c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x29f6, gbc.sp());
        EXPECT(0x6b4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0197
        gbc.setState(0x3c5e, 0xc93a, 0x53f0, 0x2fee, 0x5ab6, 0x135, 0x1, 0x1);
        gbc.writeMem(0x3c5e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0xc93a, gbc.sp());
        EXPECT(0x3c60, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0198
        gbc.setState(0x83cd, 0x547b, 0xe040, 0x7e24, 0x2ed2, 0xfab0, 0x0, 0x1);
        gbc.writeMem(0x83cd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x547b, gbc.sp());
        EXPECT(0x83cf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x83cd));
        EXPECT(0xa, gbc.readMem(0x83ce));
        // CB 0A 0199
        gbc.setState(0x1c1c, 0x60b9, 0xa160, 0xdc5, 0x4db6, 0x97c5, 0x1, 0x0);
        gbc.writeMem(0x1c1c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x60b9, gbc.sp());
        EXPECT(0x1c1e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 019A
        gbc.setState(0xe93b, 0x224e, 0x27e0, 0x1477, 0x5fd9, 0x4551, 0x1, 0x0);
        gbc.writeMem(0xe93b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x224e, gbc.sp());
        EXPECT(0xe93d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe93b));
        EXPECT(0xa, gbc.readMem(0xe93c));
        // CB 0A 019B
        gbc.setState(0xcce6, 0xc85a, 0xef50, 0x2bbd, 0x353d, 0x2ff6, 0x1, 0x1);
        gbc.writeMem(0xcce6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xc85a, gbc.sp());
        EXPECT(0xcce8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcce6));
        EXPECT(0xa, gbc.readMem(0xcce7));
        // CB 0A 019C
        gbc.setState(0x682e, 0x1e2d, 0xc60, 0x1f1d, 0x1d0, 0xc3b8, 0x0, 0x0);
        gbc.writeMem(0x682e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x1e2d, gbc.sp());
        EXPECT(0x6830, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 019D
        gbc.setState(0x5c4b, 0x422a, 0x2e00, 0x3fce, 0x7d60, 0x86cb, 0x0, 0x1);
        gbc.writeMem(0x5c4b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x422a, gbc.sp());
        EXPECT(0x5c4d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 019E
        gbc.setState(0x1ba8, 0x47e7, 0xd9e0, 0xf8a9, 0x1db4, 0xcab1, 0x0, 0x0);
        gbc.writeMem(0x1ba8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x47e7, gbc.sp());
        EXPECT(0x1baa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 019F
        gbc.setState(0x6761, 0xd700, 0x7bd0, 0xbc3, 0x2c34, 0xda6e, 0x0, 0x0);
        gbc.writeMem(0x6761, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xd700, gbc.sp());
        EXPECT(0x6763, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01A0
        gbc.setState(0x185a, 0xca75, 0x3650, 0xc9e3, 0xc375, 0x5a78, 0x1, 0x0);
        gbc.writeMem(0x185a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xca75, gbc.sp());
        EXPECT(0x185c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01A1
        gbc.setState(0x7f8, 0x7c4, 0x5c30, 0xb2ab, 0x1c0f, 0xea1a, 0x0, 0x0);
        gbc.writeMem(0x7f8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x7c4, gbc.sp());
        EXPECT(0x7fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01A2
        gbc.setState(0x3d48, 0x6abb, 0x8eb0, 0x7533, 0x184c, 0x661a, 0x0, 0x0);
        gbc.writeMem(0x3d48, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x4c, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x6abb, gbc.sp());
        EXPECT(0x3d4a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01A3
        gbc.setState(0x5493, 0x3bec, 0x7ad0, 0xbf59, 0x4fa6, 0xc71d, 0x1, 0x1);
        gbc.writeMem(0x5493, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x3bec, gbc.sp());
        EXPECT(0x5495, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01A4
        gbc.setState(0x774b, 0x43a8, 0xcaf0, 0xdce, 0xe06, 0x77b9, 0x0, 0x1);
        gbc.writeMem(0x774b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x43a8, gbc.sp());
        EXPECT(0x774d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01A5
        gbc.setState(0xfd5, 0xd6e9, 0xa770, 0xe34b, 0x215c, 0xb049, 0x0, 0x1);
        gbc.writeMem(0xfd5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xd6e9, gbc.sp());
        EXPECT(0xfd7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01A6
        gbc.setState(0xc7ca, 0xbc10, 0x47b0, 0x8afe, 0x929, 0x9790, 0x1, 0x0);
        gbc.writeMem(0xc7ca, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xbc10, gbc.sp());
        EXPECT(0xc7cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc7ca));
        EXPECT(0xa, gbc.readMem(0xc7cb));
        // CB 0A 01A7
        gbc.setState(0x4295, 0x5388, 0x2ae0, 0xeef, 0xb726, 0xb296, 0x1, 0x1);
        gbc.writeMem(0x4295, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0xb2, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x5388, gbc.sp());
        EXPECT(0x4297, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01A8
        gbc.setState(0xe530, 0x7eea, 0xfa20, 0xbb71, 0x6a1c, 0x279a, 0x0, 0x1);
        gbc.writeMem(0xe530, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x7eea, gbc.sp());
        EXPECT(0xe532, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe530));
        EXPECT(0xa, gbc.readMem(0xe531));
        // CB 0A 01AA
        gbc.setState(0xcc90, 0xbccf, 0x9b70, 0xc0d, 0xc5a2, 0x3b67, 0x1, 0x1);
        gbc.writeMem(0xcc90, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xbccf, gbc.sp());
        EXPECT(0xcc92, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc90));
        EXPECT(0xa, gbc.readMem(0xcc91));
        // CB 0A 01AB
        gbc.setState(0xc3e5, 0x4482, 0x2a50, 0xcf82, 0xc088, 0x64af, 0x1, 0x1);
        gbc.writeMem(0xc3e5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xcf, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x4482, gbc.sp());
        EXPECT(0xc3e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3e5));
        EXPECT(0xa, gbc.readMem(0xc3e6));
        // CB 0A 01AC
        gbc.setState(0x3aac, 0xdaa6, 0xd200, 0xec5e, 0x81b2, 0x29d8, 0x1, 0x1);
        gbc.writeMem(0x3aac, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xdaa6, gbc.sp());
        EXPECT(0x3aae, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01AD
        gbc.setState(0x3d96, 0xf82e, 0xc380, 0xc1ef, 0xba45, 0xe6c9, 0x1, 0x0);
        gbc.writeMem(0x3d96, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xf82e, gbc.sp());
        EXPECT(0x3d98, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01AF
        gbc.setState(0x3c5e, 0x4255, 0xfbe0, 0x527e, 0x1ab4, 0xcd22, 0x0, 0x1);
        gbc.writeMem(0x3c5e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x4255, gbc.sp());
        EXPECT(0x3c60, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01B0
        gbc.setState(0xeb43, 0x3cce, 0xf440, 0x2a95, 0xfcee, 0xbdc9, 0x0, 0x1);
        gbc.writeMem(0xeb43, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x3cce, gbc.sp());
        EXPECT(0xeb45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb43));
        EXPECT(0xa, gbc.readMem(0xeb44));
        // CB 0A 01B1
        gbc.setState(0x8f1c, 0xd3a6, 0xefd0, 0x9d3, 0x19fc, 0xbbcd, 0x0, 0x1);
        gbc.writeMem(0x8f1c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xd3a6, gbc.sp());
        EXPECT(0x8f1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8f1c));
        EXPECT(0xa, gbc.readMem(0x8f1d));
        // CB 0A 01B2
        gbc.setState(0x26ec, 0x9fc7, 0xb1c0, 0x18fd, 0x323c, 0xf86f, 0x0, 0x1);
        gbc.writeMem(0x26ec, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x9fc7, gbc.sp());
        EXPECT(0x26ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01B3
        gbc.setState(0xcbd9, 0x67d5, 0x900, 0xffe5, 0x5cbb, 0xee08, 0x1, 0x1);
        gbc.writeMem(0xcbd9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x67d5, gbc.sp());
        EXPECT(0xcbdb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcbd9));
        EXPECT(0xa, gbc.readMem(0xcbda));
        // CB 0A 01B4
        gbc.setState(0x6774, 0x360c, 0x410, 0xc908, 0x60e1, 0x668e, 0x1, 0x1);
        gbc.writeMem(0x6774, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x360c, gbc.sp());
        EXPECT(0x6776, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01B5
        gbc.setState(0x691e, 0x4f81, 0x3030, 0xceee, 0x723d, 0x7aca, 0x1, 0x0);
        gbc.writeMem(0x691e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x4f81, gbc.sp());
        EXPECT(0x6920, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01B6
        gbc.setState(0x2669, 0x4fce, 0xddd0, 0xb306, 0x4e6f, 0xab2f, 0x0, 0x1);
        gbc.writeMem(0x2669, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x4fce, gbc.sp());
        EXPECT(0x266b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01B7
        gbc.setState(0xc585, 0xad0b, 0x3200, 0x22bd, 0x125b, 0xc195, 0x0, 0x0);
        gbc.writeMem(0xc585, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xad0b, gbc.sp());
        EXPECT(0xc587, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc585));
        EXPECT(0xa, gbc.readMem(0xc586));
        // CB 0A 01B8
        gbc.setState(0x9d43, 0x5c63, 0xc830, 0x247a, 0x295b, 0xa37e, 0x1, 0x0);
        gbc.writeMem(0x9d43, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x5c63, gbc.sp());
        EXPECT(0x9d45, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d43));
        EXPECT(0xa, gbc.readMem(0x9d44));
        // CB 0A 01BA
        gbc.setState(0x4664, 0xe8e5, 0xd7a0, 0xdff5, 0xa028, 0x33d1, 0x1, 0x0);
        gbc.writeMem(0x4664, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xe8e5, gbc.sp());
        EXPECT(0x4666, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01BB
        gbc.setState(0x6aa3, 0x2530, 0x2830, 0x730e, 0x16ed, 0x4265, 0x1, 0x1);
        gbc.writeMem(0x6aa3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x73, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x2530, gbc.sp());
        EXPECT(0x6aa5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01BC
        gbc.setState(0xbdb4, 0x832d, 0xf080, 0xe461, 0xeee, 0x983e, 0x1, 0x1);
        gbc.writeMem(0xbdb4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x832d, gbc.sp());
        EXPECT(0xbdb6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbdb4));
        EXPECT(0xa, gbc.readMem(0xbdb5));
        // CB 0A 01BD
        gbc.setState(0xc0ff, 0xf45e, 0x7d10, 0x1b06, 0x2355, 0xf3a0, 0x0, 0x0);
        gbc.writeMem(0xc0ff, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xf45e, gbc.sp());
        EXPECT(0xc101, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc0ff));
        EXPECT(0xa, gbc.readMem(0xc100));
        // CB 0A 01BE
        gbc.setState(0x60d2, 0x2063, 0x90d0, 0x34f1, 0x5abf, 0xc0f4, 0x1, 0x0);
        gbc.writeMem(0x60d2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0x2063, gbc.sp());
        EXPECT(0x60d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01BF
        gbc.setState(0x5fb3, 0xc5ec, 0x4be0, 0x5376, 0xb0e4, 0x640b, 0x1, 0x0);
        gbc.writeMem(0x5fb3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xc5ec, gbc.sp());
        EXPECT(0x5fb5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01C1
        gbc.setState(0x6f0f, 0x3704, 0x6d90, 0x75, 0xbe17, 0x571a, 0x0, 0x0);
        gbc.writeMem(0x6f0f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x3704, gbc.sp());
        EXPECT(0x6f11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01C2
        gbc.setState(0x6961, 0x2a59, 0x240, 0xfdbb, 0x965b, 0x15a9, 0x1, 0x0);
        gbc.writeMem(0x6961, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x2a59, gbc.sp());
        EXPECT(0x6963, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01C3
        gbc.setState(0xa72a, 0xf2fe, 0x3ad0, 0x2c26, 0x72c, 0x432a, 0x1, 0x0);
        gbc.writeMem(0xa72a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xf2fe, gbc.sp());
        EXPECT(0xa72c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa72a));
        EXPECT(0xa, gbc.readMem(0xa72b));
        // CB 0A 01C4
        gbc.setState(0x1c44, 0x8b84, 0x2620, 0xeacf, 0xd42c, 0x8b3c, 0x1, 0x0);
        gbc.writeMem(0x1c44, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x8b84, gbc.sp());
        EXPECT(0x1c46, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01C5
        gbc.setState(0xb605, 0xa46f, 0x1c30, 0x9d9b, 0xed6e, 0x8d1c, 0x1, 0x1);
        gbc.writeMem(0xb605, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xa46f, gbc.sp());
        EXPECT(0xb607, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb605));
        EXPECT(0xa, gbc.readMem(0xb606));
        // CB 0A 01C6
        gbc.setState(0xaffb, 0x24e4, 0x6a00, 0xfb67, 0xe74a, 0x8b0, 0x1, 0x0);
        gbc.writeMem(0xaffb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x24e4, gbc.sp());
        EXPECT(0xaffd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaffb));
        EXPECT(0xa, gbc.readMem(0xaffc));
        // CB 0A 01C7
        gbc.setState(0xd438, 0x4d71, 0x680, 0xa182, 0x8948, 0xc918, 0x1, 0x1);
        gbc.writeMem(0xd438, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x4d71, gbc.sp());
        EXPECT(0xd43a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd438));
        EXPECT(0xa, gbc.readMem(0xd439));
        // CB 0A 01C8
        gbc.setState(0x5cec, 0x30a5, 0x8970, 0x1669, 0x438f, 0x6b01, 0x0, 0x0);
        gbc.writeMem(0x5cec, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x30a5, gbc.sp());
        EXPECT(0x5cee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01C9
        gbc.setState(0x7147, 0x7e17, 0xe970, 0x851c, 0x2c4f, 0x7d48, 0x0, 0x1);
        gbc.writeMem(0x7147, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x7e17, gbc.sp());
        EXPECT(0x7149, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01CA
        gbc.setState(0xc731, 0x3ee0, 0xcef0, 0xf060, 0x3378, 0x2a71, 0x0, 0x0);
        gbc.writeMem(0xc731, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x3ee0, gbc.sp());
        EXPECT(0xc733, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc731));
        EXPECT(0xa, gbc.readMem(0xc732));
        // CB 0A 01CB
        gbc.setState(0xa07f, 0xa04a, 0x2370, 0x7492, 0xb729, 0x741a, 0x0, 0x1);
        gbc.writeMem(0xa07f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xa04a, gbc.sp());
        EXPECT(0xa081, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa07f));
        EXPECT(0xa, gbc.readMem(0xa080));
        // CB 0A 01CC
        gbc.setState(0xb66b, 0x3a, 0x1a30, 0x1573, 0x63f1, 0x7803, 0x1, 0x1);
        gbc.writeMem(0xb66b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x3a, gbc.sp());
        EXPECT(0xb66d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb66b));
        EXPECT(0xa, gbc.readMem(0xb66c));
        // CB 0A 01CD
        gbc.setState(0xadee, 0x419d, 0xf040, 0xa24f, 0xe22c, 0xa2a6, 0x0, 0x0);
        gbc.writeMem(0xadee, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x419d, gbc.sp());
        EXPECT(0xadf0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xadee));
        EXPECT(0xa, gbc.readMem(0xadef));
        // CB 0A 01CE
        gbc.setState(0x21fe, 0x9d8e, 0xe6e0, 0x60d9, 0xd558, 0x4b5c, 0x1, 0x0);
        gbc.writeMem(0x21fe, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x9d8e, gbc.sp());
        EXPECT(0x2200, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01CF
        gbc.setState(0x3e5f, 0x6691, 0xbee0, 0x2310, 0xe129, 0xa79f, 0x0, 0x1);
        gbc.writeMem(0x3e5f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x6691, gbc.sp());
        EXPECT(0x3e61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01D0
        gbc.setState(0x811e, 0x885a, 0xd8d0, 0xb515, 0x44b2, 0x5e96, 0x1, 0x1);
        gbc.writeMem(0x811e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x885a, gbc.sp());
        EXPECT(0x8120, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x811e));
        EXPECT(0xa, gbc.readMem(0x811f));
        // CB 0A 01D2
        gbc.setState(0xa3e8, 0x396, 0x17f0, 0x1943, 0x71fc, 0x8a36, 0x1, 0x1);
        gbc.writeMem(0xa3e8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x396, gbc.sp());
        EXPECT(0xa3ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa3e8));
        EXPECT(0xa, gbc.readMem(0xa3e9));
        // CB 0A 01D3
        gbc.setState(0xd66e, 0x94c7, 0xc710, 0xe188, 0x987b, 0xf11d, 0x1, 0x1);
        gbc.writeMem(0xd66e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x94c7, gbc.sp());
        EXPECT(0xd670, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd66e));
        EXPECT(0xa, gbc.readMem(0xd66f));
        // CB 0A 01D4
        gbc.setState(0x17f5, 0xeb5f, 0x4f50, 0xcaa8, 0x1f16, 0x289c, 0x1, 0x1);
        gbc.writeMem(0x17f5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xeb5f, gbc.sp());
        EXPECT(0x17f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01D5
        gbc.setState(0x8e54, 0x6a32, 0x2610, 0x9456, 0xaa37, 0x95c4, 0x0, 0x1);
        gbc.writeMem(0x8e54, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x6a32, gbc.sp());
        EXPECT(0x8e56, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8e54));
        EXPECT(0xa, gbc.readMem(0x8e55));
        // CB 0A 01D6
        gbc.setState(0xbc33, 0x12, 0x20d0, 0x9d0e, 0x1fe3, 0xc389, 0x1, 0x0);
        gbc.writeMem(0xbc33, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x12, gbc.sp());
        EXPECT(0xbc35, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbc33));
        EXPECT(0xa, gbc.readMem(0xbc34));
        // CB 0A 01D7
        gbc.setState(0x4783, 0xa889, 0x4a90, 0xf550, 0x665f, 0x3f3c, 0x1, 0x1);
        gbc.writeMem(0x4783, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xa889, gbc.sp());
        EXPECT(0x4785, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01D8
        gbc.setState(0x404b, 0x8523, 0xaa40, 0x9b56, 0x5832, 0xbaf9, 0x0, 0x0);
        gbc.writeMem(0x404b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x8523, gbc.sp());
        EXPECT(0x404d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01D9
        gbc.setState(0xd892, 0x621a, 0x61d0, 0x98ff, 0x17d2, 0xa0dc, 0x1, 0x0);
        gbc.writeMem(0xd892, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x621a, gbc.sp());
        EXPECT(0xd894, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd892));
        EXPECT(0xa, gbc.readMem(0xd893));
        // CB 0A 01DA
        gbc.setState(0x4300, 0x5751, 0xcbf0, 0x6e95, 0x818d, 0xeba2, 0x1, 0x1);
        gbc.writeMem(0x4300, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x5751, gbc.sp());
        EXPECT(0x4302, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01DB
        gbc.setState(0xed29, 0x5c7f, 0x1370, 0x51b0, 0x66be, 0x2a87, 0x1, 0x0);
        gbc.writeMem(0xed29, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x5c7f, gbc.sp());
        EXPECT(0xed2b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xed29));
        EXPECT(0xa, gbc.readMem(0xed2a));
        // CB 0A 01DC
        gbc.setState(0x7933, 0xc064, 0x1ef0, 0xf435, 0xadb4, 0x41a5, 0x0, 0x0);
        gbc.writeMem(0x7933, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xc064, gbc.sp());
        EXPECT(0x7935, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01DD
        gbc.setState(0xdc1a, 0xd0bd, 0xec20, 0xe71b, 0x970d, 0x4dc, 0x1, 0x1);
        gbc.writeMem(0xdc1a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xd0bd, gbc.sp());
        EXPECT(0xdc1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc1a));
        EXPECT(0xa, gbc.readMem(0xdc1b));
        // CB 0A 01DE
        gbc.setState(0x5814, 0x54c3, 0x31c0, 0xcf0, 0xa2dd, 0xccbc, 0x0, 0x1);
        gbc.writeMem(0x5814, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x54c3, gbc.sp());
        EXPECT(0x5816, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01DF
        gbc.setState(0xb1f7, 0xe434, 0xbd00, 0xdd3a, 0xe90a, 0x8b4c, 0x1, 0x1);
        gbc.writeMem(0xb1f7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xe434, gbc.sp());
        EXPECT(0xb1f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb1f7));
        EXPECT(0xa, gbc.readMem(0xb1f8));
        // CB 0A 01E0
        gbc.setState(0xe918, 0x611a, 0x6ad0, 0x29ba, 0xfa1f, 0x8a23, 0x1, 0x0);
        gbc.writeMem(0xe918, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x611a, gbc.sp());
        EXPECT(0xe91a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe918));
        EXPECT(0xa, gbc.readMem(0xe919));
        // CB 0A 01E1
        gbc.setState(0x5eab, 0x1c3c, 0xebd0, 0x6ab4, 0x31fb, 0xeb99, 0x0, 0x0);
        gbc.writeMem(0x5eab, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x1c3c, gbc.sp());
        EXPECT(0x5ead, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01E2
        gbc.setState(0x743f, 0x5b0, 0x3520, 0x111f, 0x1dae, 0xf0a2, 0x1, 0x0);
        gbc.writeMem(0x743f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x5b0, gbc.sp());
        EXPECT(0x7441, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01E4
        gbc.setState(0x4d64, 0xf6ea, 0x2a70, 0x3e9d, 0x3f25, 0xa67b, 0x0, 0x0);
        gbc.writeMem(0x4d64, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xf6ea, gbc.sp());
        EXPECT(0x4d66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01E5
        gbc.setState(0xe700, 0xb9b6, 0x68c0, 0x1d1e, 0x3c9b, 0x4228, 0x1, 0x0);
        gbc.writeMem(0xe700, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xb9b6, gbc.sp());
        EXPECT(0xe702, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe700));
        EXPECT(0xa, gbc.readMem(0xe701));
        // CB 0A 01E6
        gbc.setState(0x84a7, 0x55b5, 0xd50, 0xa980, 0x9c1a, 0x6edd, 0x1, 0x0);
        gbc.writeMem(0x84a7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0x55b5, gbc.sp());
        EXPECT(0x84a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x84a7));
        EXPECT(0xa, gbc.readMem(0x84a8));
        // CB 0A 01E7
        gbc.setState(0x3e1a, 0x5496, 0x2b50, 0xce0e, 0xdb8c, 0x9af0, 0x1, 0x1);
        gbc.writeMem(0x3e1a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x5496, gbc.sp());
        EXPECT(0x3e1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01E8
        gbc.setState(0x8574, 0x1c9b, 0x21a0, 0xb91e, 0xd1d, 0x2e57, 0x0, 0x1);
        gbc.writeMem(0x8574, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x1c9b, gbc.sp());
        EXPECT(0x8576, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8574));
        EXPECT(0xa, gbc.readMem(0x8575));
        // CB 0A 01E9
        gbc.setState(0x173d, 0xcb69, 0x1040, 0x9185, 0x7926, 0x6de5, 0x0, 0x0);
        gbc.writeMem(0x173d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xcb69, gbc.sp());
        EXPECT(0x173f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01EA
        gbc.setState(0x67f0, 0x6ec0, 0xd300, 0x1367, 0x4797, 0xaf86, 0x0, 0x0);
        gbc.writeMem(0x67f0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x6ec0, gbc.sp());
        EXPECT(0x67f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01EB
        gbc.setState(0x7fe0, 0x361c, 0xf320, 0x5981, 0x4c7d, 0xc1e0, 0x1, 0x0);
        gbc.writeMem(0x7fe0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x361c, gbc.sp());
        EXPECT(0x7fe2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01ED
        gbc.setState(0x39d7, 0xe77f, 0xa5f0, 0x80e2, 0x7f93, 0x9444, 0x1, 0x1);
        gbc.writeMem(0x39d7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xe77f, gbc.sp());
        EXPECT(0x39d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01EE
        gbc.setState(0x12e6, 0x8ab3, 0xc60, 0xc04b, 0x4450, 0x5b64, 0x1, 0x1);
        gbc.writeMem(0x12e6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x8ab3, gbc.sp());
        EXPECT(0x12e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01EF
        gbc.setState(0xd5da, 0xdb2f, 0x6200, 0xe41f, 0x80c3, 0xfce8, 0x1, 0x0);
        gbc.writeMem(0xd5da, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xdb2f, gbc.sp());
        EXPECT(0xd5dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5da));
        EXPECT(0xa, gbc.readMem(0xd5db));
        // CB 0A 01F0
        gbc.setState(0x8f3, 0x1a96, 0x2f40, 0xe03c, 0x23ea, 0x7db6, 0x0, 0x0);
        gbc.writeMem(0x8f3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x1a96, gbc.sp());
        EXPECT(0x8f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01F2
        gbc.setState(0x2251, 0x9c76, 0x6160, 0xfaff, 0xc9e0, 0xb96e, 0x1, 0x1);
        gbc.writeMem(0x2251, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x9c76, gbc.sp());
        EXPECT(0x2253, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01F3
        gbc.setState(0xd052, 0x22fd, 0xfa90, 0x8e2f, 0x6d76, 0xc14c, 0x1, 0x0);
        gbc.writeMem(0xd052, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x22fd, gbc.sp());
        EXPECT(0xd054, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd052));
        EXPECT(0xa, gbc.readMem(0xd053));
        // CB 0A 01F4
        gbc.setState(0xc461, 0xe1cb, 0xc330, 0x2ce6, 0x670f, 0x8e8e, 0x1, 0x1);
        gbc.writeMem(0xc461, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xe1cb, gbc.sp());
        EXPECT(0xc463, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc461));
        EXPECT(0xa, gbc.readMem(0xc462));
        // CB 0A 01F5
        gbc.setState(0x69cb, 0xb623, 0x81a0, 0xf2d0, 0xe62c, 0xd93f, 0x1, 0x1);
        gbc.writeMem(0x69cb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xb623, gbc.sp());
        EXPECT(0x69cd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01F6
        gbc.setState(0x7fe, 0xbb83, 0xeb50, 0x7782, 0x95f5, 0x79d6, 0x1, 0x1);
        gbc.writeMem(0x7fe, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xbb83, gbc.sp());
        EXPECT(0x800, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01F7
        gbc.setState(0x99c, 0xda8c, 0xd700, 0x4307, 0x9dca, 0xac26, 0x0, 0x1);
        gbc.writeMem(0x99c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xda8c, gbc.sp());
        EXPECT(0x99e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01F8
        gbc.setState(0xd708, 0xb509, 0xf2c0, 0x4c55, 0x5c96, 0x979a, 0x1, 0x0);
        gbc.writeMem(0xd708, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xb509, gbc.sp());
        EXPECT(0xd70a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd708));
        EXPECT(0xa, gbc.readMem(0xd709));
        // CB 0A 01FA
        gbc.setState(0xb361, 0xd199, 0xd400, 0xe6bf, 0x5ca8, 0xbf49, 0x1, 0x1);
        gbc.writeMem(0xb361, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xd199, gbc.sp());
        EXPECT(0xb363, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb361));
        EXPECT(0xa, gbc.readMem(0xb362));
        // CB 0A 01FB
        gbc.setState(0x472a, 0xddd6, 0x8620, 0x8263, 0xa094, 0x14ad, 0x1, 0x1);
        gbc.writeMem(0x472a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xddd6, gbc.sp());
        EXPECT(0x472c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01FC
        gbc.setState(0x1d32, 0x95bb, 0xd8a0, 0x7b70, 0xc52a, 0xe51d, 0x0, 0x0);
        gbc.writeMem(0x1d32, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x95bb, gbc.sp());
        EXPECT(0x1d34, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 01FD
        gbc.setState(0x7545, 0xb3fb, 0x13a0, 0x7558, 0x803d, 0xfd69, 0x0, 0x0);
        gbc.writeMem(0x7545, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xb3fb, gbc.sp());
        EXPECT(0x7547, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 01FE
        gbc.setState(0xa552, 0xc299, 0x9030, 0x9109, 0x54f8, 0x87fe, 0x0, 0x1);
        gbc.writeMem(0xa552, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xc299, gbc.sp());
        EXPECT(0xa554, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa552));
        EXPECT(0xa, gbc.readMem(0xa553));
        // CB 0A 01FF
        gbc.setState(0x7852, 0xa14a, 0xd590, 0x8190, 0xb4ad, 0x11f2, 0x0, 0x1);
        gbc.writeMem(0x7852, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xa14a, gbc.sp());
        EXPECT(0x7854, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0200
        gbc.setState(0x54c2, 0xbf2c, 0xd020, 0xf7a7, 0xc89f, 0xf062, 0x1, 0x0);
        gbc.writeMem(0x54c2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xbf2c, gbc.sp());
        EXPECT(0x54c4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0201
        gbc.setState(0x89da, 0xe909, 0x21f0, 0xdfa7, 0xf70f, 0xe6d2, 0x1, 0x0);
        gbc.writeMem(0x89da, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xe909, gbc.sp());
        EXPECT(0x89dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89da));
        EXPECT(0xa, gbc.readMem(0x89db));
        // CB 0A 0202
        gbc.setState(0xc542, 0x2e20, 0x28f0, 0x870, 0xe50e, 0xf805, 0x1, 0x1);
        gbc.writeMem(0xc542, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x2e20, gbc.sp());
        EXPECT(0xc544, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc542));
        EXPECT(0xa, gbc.readMem(0xc543));
        // CB 0A 0203
        gbc.setState(0x245f, 0x96fa, 0x8de0, 0x1f4c, 0xeeaf, 0xc816, 0x1, 0x1);
        gbc.writeMem(0x245f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x96fa, gbc.sp());
        EXPECT(0x2461, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0204
        gbc.setState(0xd01, 0x2cd, 0xac50, 0x1231, 0x8822, 0x4dd2, 0x1, 0x0);
        gbc.writeMem(0xd01, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x2cd, gbc.sp());
        EXPECT(0xd03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0205
        gbc.setState(0xeb25, 0xc418, 0x11f0, 0xe09b, 0x7c92, 0xa287, 0x1, 0x0);
        gbc.writeMem(0xeb25, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xc418, gbc.sp());
        EXPECT(0xeb27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeb25));
        EXPECT(0xa, gbc.readMem(0xeb26));
        // CB 0A 0206
        gbc.setState(0x5c6c, 0xcce7, 0x5cc0, 0x8b40, 0xfe69, 0xaa2e, 0x1, 0x0);
        gbc.writeMem(0x5c6c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xcce7, gbc.sp());
        EXPECT(0x5c6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0207
        gbc.setState(0xebbe, 0x2d3c, 0xc670, 0x610d, 0xad57, 0x72cd, 0x1, 0x0);
        gbc.writeMem(0xebbe, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x2d3c, gbc.sp());
        EXPECT(0xebc0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xebbe));
        EXPECT(0xa, gbc.readMem(0xebbf));
        // CB 0A 0208
        gbc.setState(0xa338, 0x7a60, 0x2c90, 0xc0a2, 0x2fb9, 0xbc4e, 0x0, 0x0);
        gbc.writeMem(0xa338, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x7a60, gbc.sp());
        EXPECT(0xa33a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa338));
        EXPECT(0xa, gbc.readMem(0xa339));
        // CB 0A 0209
        gbc.setState(0x26d5, 0xa492, 0xd840, 0x52a7, 0x7e4d, 0xaaa8, 0x0, 0x0);
        gbc.writeMem(0x26d5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xa492, gbc.sp());
        EXPECT(0x26d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 020B
        gbc.setState(0xee9a, 0x813a, 0xf9c0, 0x3525, 0xd535, 0x1fdc, 0x1, 0x0);
        gbc.writeMem(0xee9a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x813a, gbc.sp());
        EXPECT(0xee9c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee9a));
        EXPECT(0xa, gbc.readMem(0xee9b));
        // CB 0A 020C
        gbc.setState(0xa7a5, 0x75e, 0x6be0, 0x7d01, 0xb479, 0xf519, 0x0, 0x1);
        gbc.writeMem(0xa7a5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x75e, gbc.sp());
        EXPECT(0xa7a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7a5));
        EXPECT(0xa, gbc.readMem(0xa7a6));
        // CB 0A 020D
        gbc.setState(0x4ce8, 0xce98, 0x7340, 0x3481, 0xd54a, 0x4a4, 0x0, 0x0);
        gbc.writeMem(0x4ce8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xce98, gbc.sp());
        EXPECT(0x4cea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 020E
        gbc.setState(0xa2e5, 0xa3eb, 0x8c90, 0x11fb, 0x64dd, 0x86d, 0x0, 0x1);
        gbc.writeMem(0xa2e5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xa3eb, gbc.sp());
        EXPECT(0xa2e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa2e5));
        EXPECT(0xa, gbc.readMem(0xa2e6));
        // CB 0A 020F
        gbc.setState(0x9a7c, 0x7df3, 0x9fd0, 0x6cb4, 0x5b4b, 0xf5fc, 0x1, 0x0);
        gbc.writeMem(0x9a7c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x7df3, gbc.sp());
        EXPECT(0x9a7e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9a7c));
        EXPECT(0xa, gbc.readMem(0x9a7d));
        // CB 0A 0210
        gbc.setState(0xb451, 0x3223, 0xafd0, 0xf168, 0xed74, 0x7fc4, 0x0, 0x1);
        gbc.writeMem(0xb451, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x3223, gbc.sp());
        EXPECT(0xb453, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb451));
        EXPECT(0xa, gbc.readMem(0xb452));
        // CB 0A 0211
        gbc.setState(0x7425, 0xc108, 0xc2e0, 0x90cd, 0x69ad, 0x28e6, 0x1, 0x1);
        gbc.writeMem(0x7425, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xc108, gbc.sp());
        EXPECT(0x7427, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0212
        gbc.setState(0xd243, 0xcaa5, 0x2db0, 0x6772, 0x9dcb, 0x4965, 0x1, 0x1);
        gbc.writeMem(0xd243, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xcaa5, gbc.sp());
        EXPECT(0xd245, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd243));
        EXPECT(0xa, gbc.readMem(0xd244));
        // CB 0A 0213
        gbc.setState(0x44d6, 0x6cc7, 0x59d0, 0x89db, 0xc2a3, 0xb086, 0x1, 0x0);
        gbc.writeMem(0x44d6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x6cc7, gbc.sp());
        EXPECT(0x44d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0214
        gbc.setState(0x92e1, 0x6c96, 0x4980, 0x69da, 0x478e, 0xa149, 0x1, 0x0);
        gbc.writeMem(0x92e1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0x6c96, gbc.sp());
        EXPECT(0x92e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92e1));
        EXPECT(0xa, gbc.readMem(0x92e2));
        // CB 0A 0215
        gbc.setState(0x6980, 0x4c26, 0xac50, 0x9641, 0xbf38, 0xdcb1, 0x0, 0x1);
        gbc.writeMem(0x6980, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x4c26, gbc.sp());
        EXPECT(0x6982, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0216
        gbc.setState(0x4928, 0x797f, 0xd2d0, 0xe090, 0xd312, 0xcee3, 0x0, 0x0);
        gbc.writeMem(0x4928, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x797f, gbc.sp());
        EXPECT(0x492a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0217
        gbc.setState(0x1a67, 0xd729, 0xe820, 0x40f2, 0x75dd, 0xa9fd, 0x1, 0x0);
        gbc.writeMem(0x1a67, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xd729, gbc.sp());
        EXPECT(0x1a69, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0218
        gbc.setState(0x727a, 0xa7c3, 0x2f30, 0xbd73, 0xc17c, 0x6ffd, 0x0, 0x0);
        gbc.writeMem(0x727a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0xa7c3, gbc.sp());
        EXPECT(0x727c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0219
        gbc.setState(0x19f6, 0x16d5, 0xcd20, 0x4256, 0xfcf1, 0xe318, 0x1, 0x1);
        gbc.writeMem(0x19f6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x16d5, gbc.sp());
        EXPECT(0x19f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 021A
        gbc.setState(0x3538, 0x1cb0, 0xa530, 0x4c2b, 0xd90f, 0x6689, 0x1, 0x1);
        gbc.writeMem(0x3538, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x1cb0, gbc.sp());
        EXPECT(0x353a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 021C
        gbc.setState(0xd3e4, 0xb965, 0x8770, 0xebc3, 0xce61, 0x86c3, 0x1, 0x1);
        gbc.writeMem(0xd3e4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xb965, gbc.sp());
        EXPECT(0xd3e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd3e4));
        EXPECT(0xa, gbc.readMem(0xd3e5));
        // CB 0A 021D
        gbc.setState(0x92f7, 0xfb8e, 0x680, 0xcd3e, 0xbe91, 0x54a1, 0x0, 0x0);
        gbc.writeMem(0x92f7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0xfb8e, gbc.sp());
        EXPECT(0x92f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x92f7));
        EXPECT(0xa, gbc.readMem(0x92f8));
        // CB 0A 021E
        gbc.setState(0xcf00, 0x1f51, 0xce60, 0xaf04, 0xaf04, 0xfde4, 0x1, 0x1);
        gbc.writeMem(0xcf00, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x1f51, gbc.sp());
        EXPECT(0xcf02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf00));
        EXPECT(0xa, gbc.readMem(0xcf01));
        // CB 0A 021F
        gbc.setState(0xaea8, 0x66aa, 0x84a0, 0x9664, 0xfa4b, 0x778d, 0x0, 0x0);
        gbc.writeMem(0xaea8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x66aa, gbc.sp());
        EXPECT(0xaeaa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaea8));
        EXPECT(0xa, gbc.readMem(0xaea9));
        // CB 0A 0220
        gbc.setState(0x5116, 0x78b7, 0xfed0, 0xb5ba, 0xe159, 0x4ecd, 0x0, 0x0);
        gbc.writeMem(0x5116, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x78b7, gbc.sp());
        EXPECT(0x5118, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0221
        gbc.setState(0xb312, 0x85b8, 0x1ed0, 0x6d13, 0xd5cf, 0xac70, 0x1, 0x0);
        gbc.writeMem(0xb312, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x85b8, gbc.sp());
        EXPECT(0xb314, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb312));
        EXPECT(0xa, gbc.readMem(0xb313));
        // CB 0A 0222
        gbc.setState(0x8eb3, 0xeedf, 0xf250, 0x1b78, 0x8434, 0x427b, 0x1, 0x0);
        gbc.writeMem(0x8eb3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xeedf, gbc.sp());
        EXPECT(0x8eb5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8eb3));
        EXPECT(0xa, gbc.readMem(0x8eb4));
        // CB 0A 0223
        gbc.setState(0xb8e, 0xb979, 0x3c30, 0xadf0, 0x2a33, 0x2065, 0x1, 0x0);
        gbc.writeMem(0xb8e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0xb979, gbc.sp());
        EXPECT(0xb90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0224
        gbc.setState(0x9645, 0x4bde, 0x6530, 0xa8a7, 0x65af, 0x88e0, 0x0, 0x0);
        gbc.writeMem(0x9645, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x4bde, gbc.sp());
        EXPECT(0x9647, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9645));
        EXPECT(0xa, gbc.readMem(0x9646));
        // CB 0A 0225
        gbc.setState(0x8522, 0xf00c, 0xeea0, 0xcd5b, 0xdaf1, 0x3603, 0x1, 0x1);
        gbc.writeMem(0x8522, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xf00c, gbc.sp());
        EXPECT(0x8524, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8522));
        EXPECT(0xa, gbc.readMem(0x8523));
        // CB 0A 0226
        gbc.setState(0x99a3, 0x228a, 0x3480, 0xea56, 0xd814, 0x6738, 0x0, 0x0);
        gbc.writeMem(0x99a3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x228a, gbc.sp());
        EXPECT(0x99a5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x99a3));
        EXPECT(0xa, gbc.readMem(0x99a4));
        // CB 0A 0227
        gbc.setState(0x59fe, 0x4305, 0xc320, 0xc17f, 0xd1c7, 0xb39f, 0x1, 0x1);
        gbc.writeMem(0x59fe, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x4305, gbc.sp());
        EXPECT(0x5a00, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0228
        gbc.setState(0xc590, 0x511d, 0x3a40, 0xea6, 0xb790, 0xca66, 0x0, 0x0);
        gbc.writeMem(0xc590, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x511d, gbc.sp());
        EXPECT(0xc592, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc590));
        EXPECT(0xa, gbc.readMem(0xc591));
        // CB 0A 0229
        gbc.setState(0x6d32, 0x8599, 0xbae0, 0x725f, 0xa8de, 0x5052, 0x1, 0x1);
        gbc.writeMem(0x6d32, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x8599, gbc.sp());
        EXPECT(0x6d34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 022A
        gbc.setState(0xebfe, 0xc0d5, 0x1cb0, 0xc2ed, 0xbf82, 0xe5a7, 0x0, 0x0);
        gbc.writeMem(0xebfe, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xc0d5, gbc.sp());
        EXPECT(0xec00, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xebfe));
        EXPECT(0xa, gbc.readMem(0xebff));
        // CB 0A 022B
        gbc.setState(0x2a2a, 0xf7e1, 0x8690, 0x9e54, 0x9823, 0x4dec, 0x1, 0x0);
        gbc.writeMem(0x2a2a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xf7e1, gbc.sp());
        EXPECT(0x2a2c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 022D
        gbc.setState(0x8a3c, 0x439b, 0x7ed0, 0x3c05, 0xc1f4, 0x606, 0x0, 0x0);
        gbc.writeMem(0x8a3c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0x439b, gbc.sp());
        EXPECT(0x8a3e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a3c));
        EXPECT(0xa, gbc.readMem(0x8a3d));
        // CB 0A 022E
        gbc.setState(0x7e28, 0x9ad2, 0x3460, 0xcda7, 0x6565, 0xf4c7, 0x1, 0x0);
        gbc.writeMem(0x7e28, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x9ad2, gbc.sp());
        EXPECT(0x7e2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 022F
        gbc.setState(0x6c49, 0x84cf, 0xd1b0, 0xae67, 0x5a07, 0x7710, 0x1, 0x0);
        gbc.writeMem(0x6c49, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x84cf, gbc.sp());
        EXPECT(0x6c4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0230
        gbc.setState(0xdc81, 0xb3dd, 0x3820, 0xb0e1, 0xcff0, 0x87f2, 0x0, 0x1);
        gbc.writeMem(0xdc81, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xb3dd, gbc.sp());
        EXPECT(0xdc83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc81));
        EXPECT(0xa, gbc.readMem(0xdc82));
        // CB 0A 0231
        gbc.setState(0x28e1, 0xb2f8, 0xcd80, 0x26e7, 0x88d, 0x67f2, 0x0, 0x1);
        gbc.writeMem(0x28e1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0xb2f8, gbc.sp());
        EXPECT(0x28e3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0232
        gbc.setState(0xbbbf, 0x632, 0x1c0, 0x15cc, 0xb0e6, 0x55c7, 0x1, 0x0);
        gbc.writeMem(0xbbbf, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x632, gbc.sp());
        EXPECT(0xbbc1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbbbf));
        EXPECT(0xa, gbc.readMem(0xbbc0));
        // CB 0A 0233
        gbc.setState(0x7068, 0xa0f1, 0xb30, 0x5b48, 0xee66, 0xc9e8, 0x0, 0x0);
        gbc.writeMem(0x7068, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xa0f1, gbc.sp());
        EXPECT(0x706a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0234
        gbc.setState(0x834f, 0x95df, 0xcaa0, 0x5192, 0xfd6f, 0xd7e2, 0x0, 0x1);
        gbc.writeMem(0x834f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x95df, gbc.sp());
        EXPECT(0x8351, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x834f));
        EXPECT(0xa, gbc.readMem(0x8350));
        // CB 0A 0236
        gbc.setState(0xee30, 0x8240, 0x3f70, 0x12b0, 0xdac, 0x2373, 0x1, 0x0);
        gbc.writeMem(0xee30, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x8240, gbc.sp());
        EXPECT(0xee32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee30));
        EXPECT(0xa, gbc.readMem(0xee31));
        // CB 0A 0237
        gbc.setState(0xdef7, 0x892b, 0x5ee0, 0xb22, 0x22a2, 0x5777, 0x0, 0x1);
        gbc.writeMem(0xdef7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x892b, gbc.sp());
        EXPECT(0xdef9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdef7));
        EXPECT(0xa, gbc.readMem(0xdef8));
        // CB 0A 0238
        gbc.setState(0xeca3, 0x78b9, 0x5750, 0x9daa, 0xa2c7, 0x916a, 0x1, 0x1);
        gbc.writeMem(0xeca3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x78b9, gbc.sp());
        EXPECT(0xeca5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeca3));
        EXPECT(0xa, gbc.readMem(0xeca4));
        // CB 0A 0239
        gbc.setState(0x3fa, 0xf60b, 0xecc0, 0x1511, 0x6eaf, 0x7617, 0x1, 0x0);
        gbc.writeMem(0x3fa, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0xf60b, gbc.sp());
        EXPECT(0x3fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 023A
        gbc.setState(0x13cd, 0x2895, 0x4d60, 0x10f6, 0xccae, 0x128d, 0x1, 0x1);
        gbc.writeMem(0x13cd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x2895, gbc.sp());
        EXPECT(0x13cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 023B
        gbc.setState(0xc148, 0x8020, 0xa0a0, 0x1104, 0xb26d, 0xb7a0, 0x0, 0x1);
        gbc.writeMem(0xc148, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x8020, gbc.sp());
        EXPECT(0xc14a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc148));
        EXPECT(0xa, gbc.readMem(0xc149));
        // CB 0A 023C
        gbc.setState(0xf45, 0xf00f, 0x96e0, 0xe19e, 0x57cc, 0x4c43, 0x0, 0x1);
        gbc.writeMem(0xf45, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xf00f, gbc.sp());
        EXPECT(0xf47, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 023D
        gbc.setState(0x45f8, 0x561f, 0xfc00, 0xc755, 0xd9d5, 0x2c9a, 0x0, 0x1);
        gbc.writeMem(0x45f8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x561f, gbc.sp());
        EXPECT(0x45fa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 023E
        gbc.setState(0xda6e, 0xdca, 0x59e0, 0xa128, 0x6431, 0xabb5, 0x0, 0x0);
        gbc.writeMem(0xda6e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xdca, gbc.sp());
        EXPECT(0xda70, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda6e));
        EXPECT(0xa, gbc.readMem(0xda6f));
        // CB 0A 023F
        gbc.setState(0xd5eb, 0x6848, 0x2df0, 0x47d0, 0xc277, 0xe63e, 0x0, 0x0);
        gbc.writeMem(0xd5eb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x6848, gbc.sp());
        EXPECT(0xd5ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd5eb));
        EXPECT(0xa, gbc.readMem(0xd5ec));
        // CB 0A 0240
        gbc.setState(0xadf2, 0xb33c, 0x3820, 0x6fbd, 0xb992, 0x59d7, 0x0, 0x1);
        gbc.writeMem(0xadf2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xb33c, gbc.sp());
        EXPECT(0xadf4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xadf2));
        EXPECT(0xa, gbc.readMem(0xadf3));
        // CB 0A 0241
        gbc.setState(0x8a17, 0x17fd, 0xccc0, 0x79a9, 0x6496, 0x7ce, 0x0, 0x1);
        gbc.writeMem(0x8a17, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x17fd, gbc.sp());
        EXPECT(0x8a19, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a17));
        EXPECT(0xa, gbc.readMem(0x8a18));
        // CB 0A 0242
        gbc.setState(0xeab7, 0xb476, 0x1b50, 0x4de, 0xd644, 0x922d, 0x1, 0x0);
        gbc.writeMem(0xeab7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xb476, gbc.sp());
        EXPECT(0xeab9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeab7));
        EXPECT(0xa, gbc.readMem(0xeab8));
        // CB 0A 0243
        gbc.setState(0x9cc3, 0x9d69, 0xd3e0, 0xe373, 0xf270, 0x1f1d, 0x1, 0x0);
        gbc.writeMem(0x9cc3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x9d69, gbc.sp());
        EXPECT(0x9cc5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9cc3));
        EXPECT(0xa, gbc.readMem(0x9cc4));
        // CB 0A 0244
        gbc.setState(0x98e6, 0x2bf5, 0x1160, 0xbec1, 0x3121, 0x3a5c, 0x1, 0x0);
        gbc.writeMem(0x98e6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x2bf5, gbc.sp());
        EXPECT(0x98e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x98e6));
        EXPECT(0xa, gbc.readMem(0x98e7));
        // CB 0A 0245
        gbc.setState(0x7206, 0xd4f8, 0xa330, 0xe98b, 0xabaf, 0x873a, 0x0, 0x0);
        gbc.writeMem(0x7206, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xd4f8, gbc.sp());
        EXPECT(0x7208, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0246
        gbc.setState(0xd027, 0xbd5e, 0xac20, 0x71ad, 0x2ebf, 0x8cd4, 0x0, 0x0);
        gbc.writeMem(0xd027, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xbd5e, gbc.sp());
        EXPECT(0xd029, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd027));
        EXPECT(0xa, gbc.readMem(0xd028));
        // CB 0A 0247
        gbc.setState(0x7987, 0x8d51, 0xb500, 0x797a, 0xd75, 0x2d92, 0x0, 0x1);
        gbc.writeMem(0x7987, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x8d51, gbc.sp());
        EXPECT(0x7989, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0248
        gbc.setState(0x44b8, 0x3d1e, 0xc970, 0x7cff, 0xd015, 0xbc30, 0x0, 0x1);
        gbc.writeMem(0x44b8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x3d1e, gbc.sp());
        EXPECT(0x44ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0249
        gbc.setState(0x35a6, 0xd4cb, 0xfd90, 0x5cbe, 0x23ca, 0xbb36, 0x0, 0x0);
        gbc.writeMem(0x35a6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xd4cb, gbc.sp());
        EXPECT(0x35a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 024A
        gbc.setState(0xcfd0, 0xa0d, 0x8a10, 0x29a5, 0x34d, 0x9246, 0x1, 0x0);
        gbc.writeMem(0xcfd0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0xa0d, gbc.sp());
        EXPECT(0xcfd2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcfd0));
        EXPECT(0xa, gbc.readMem(0xcfd1));
        // CB 0A 024B
        gbc.setState(0x2ee9, 0xb819, 0x9250, 0x888a, 0x149e, 0x754d, 0x1, 0x1);
        gbc.writeMem(0x2ee9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0xb819, gbc.sp());
        EXPECT(0x2eeb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 024C
        gbc.setState(0x1b89, 0xb623, 0xde80, 0xca49, 0xb6a5, 0x14bd, 0x1, 0x0);
        gbc.writeMem(0x1b89, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xb623, gbc.sp());
        EXPECT(0x1b8b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 024D
        gbc.setState(0x66d, 0xca4c, 0xd5b0, 0xf2f0, 0x6f61, 0x8636, 0x0, 0x1);
        gbc.writeMem(0x66d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xca4c, gbc.sp());
        EXPECT(0x66f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 024E
        gbc.setState(0x3d07, 0x3947, 0xd720, 0x1c4f, 0xe7e8, 0xd692, 0x0, 0x0);
        gbc.writeMem(0x3d07, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x3947, gbc.sp());
        EXPECT(0x3d09, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 024F
        gbc.setState(0x6a92, 0x2b81, 0xc8e0, 0xc7cf, 0x7097, 0xc8aa, 0x0, 0x1);
        gbc.writeMem(0x6a92, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x2b81, gbc.sp());
        EXPECT(0x6a94, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0250
        gbc.setState(0xa193, 0xaef4, 0x3cd0, 0xeae9, 0x797a, 0x5927, 0x0, 0x0);
        gbc.writeMem(0xa193, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xaef4, gbc.sp());
        EXPECT(0xa195, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa193));
        EXPECT(0xa, gbc.readMem(0xa194));
        // CB 0A 0252
        gbc.setState(0x9af1, 0x401e, 0x8580, 0x8dd, 0x38, 0x4b2, 0x1, 0x0);
        gbc.writeMem(0x9af1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x401e, gbc.sp());
        EXPECT(0x9af3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9af1));
        EXPECT(0xa, gbc.readMem(0x9af2));
        // CB 0A 0253
        gbc.setState(0xd6b8, 0xf719, 0x3680, 0x8b7f, 0x1298, 0x3259, 0x0, 0x0);
        gbc.writeMem(0xd6b8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xf719, gbc.sp());
        EXPECT(0xd6ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6b8));
        EXPECT(0xa, gbc.readMem(0xd6b9));
        // CB 0A 0254
        gbc.setState(0x4280, 0x1f04, 0xbf20, 0x1fcb, 0x1a30, 0xe08a, 0x0, 0x0);
        gbc.writeMem(0x4280, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x1f04, gbc.sp());
        EXPECT(0x4282, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0255
        gbc.setState(0x6111, 0xf269, 0xb6f0, 0xf53e, 0xf48f, 0x603d, 0x0, 0x0);
        gbc.writeMem(0x6111, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xf269, gbc.sp());
        EXPECT(0x6113, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0256
        gbc.setState(0x4e4, 0x8916, 0xe3e0, 0xc851, 0xf89d, 0xaac6, 0x1, 0x0);
        gbc.writeMem(0x4e4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x8916, gbc.sp());
        EXPECT(0x4e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0257
        gbc.setState(0x9b1a, 0x1382, 0xfb50, 0x9887, 0x7b48, 0xf79a, 0x0, 0x1);
        gbc.writeMem(0x9b1a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x1382, gbc.sp());
        EXPECT(0x9b1c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b1a));
        EXPECT(0xa, gbc.readMem(0x9b1b));
        // CB 0A 0258
        gbc.setState(0x823b, 0xf3b7, 0x4d50, 0x9d96, 0xe481, 0x537f, 0x1, 0x1);
        gbc.writeMem(0x823b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xf3b7, gbc.sp());
        EXPECT(0x823d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x823b));
        EXPECT(0xa, gbc.readMem(0x823c));
        // CB 0A 0259
        gbc.setState(0x7c7a, 0xf63b, 0x99a0, 0x7c8c, 0xf036, 0x14f7, 0x1, 0x0);
        gbc.writeMem(0x7c7a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xf63b, gbc.sp());
        EXPECT(0x7c7c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 025A
        gbc.setState(0x9480, 0x1466, 0xfab0, 0xa908, 0xcfb3, 0x30f2, 0x1, 0x0);
        gbc.writeMem(0x9480, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x1466, gbc.sp());
        EXPECT(0x9482, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9480));
        EXPECT(0xa, gbc.readMem(0x9481));
        // CB 0A 025B
        gbc.setState(0x7efe, 0xd584, 0x6670, 0x59de, 0xfc87, 0x55ca, 0x1, 0x0);
        gbc.writeMem(0x7efe, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xd584, gbc.sp());
        EXPECT(0x7f00, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 025C
        gbc.setState(0x30aa, 0xe579, 0xa070, 0xe693, 0x97dc, 0x3743, 0x0, 0x0);
        gbc.writeMem(0x30aa, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xe579, gbc.sp());
        EXPECT(0x30ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 025D
        gbc.setState(0x5bc1, 0x9640, 0x9180, 0x485f, 0x5f90, 0xff43, 0x0, 0x1);
        gbc.writeMem(0x5bc1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x9640, gbc.sp());
        EXPECT(0x5bc3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 025E
        gbc.setState(0x2ebc, 0xc974, 0x6f90, 0xd157, 0x88b9, 0x7ce7, 0x0, 0x0);
        gbc.writeMem(0x2ebc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xc974, gbc.sp());
        EXPECT(0x2ebe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 025F
        gbc.setState(0xc2b, 0xfcb8, 0x4e10, 0xa83d, 0x8ca3, 0x412f, 0x0, 0x0);
        gbc.writeMem(0xc2b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xfcb8, gbc.sp());
        EXPECT(0xc2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0260
        gbc.setState(0x175e, 0x6627, 0x4240, 0xbd5e, 0x30a8, 0x6db4, 0x0, 0x1);
        gbc.writeMem(0x175e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x6627, gbc.sp());
        EXPECT(0x1760, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0262
        gbc.setState(0x8ca7, 0x4e21, 0xc750, 0xbb49, 0xe0df, 0x36e0, 0x0, 0x0);
        gbc.writeMem(0x8ca7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x4e21, gbc.sp());
        EXPECT(0x8ca9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ca7));
        EXPECT(0xa, gbc.readMem(0x8ca8));
        // CB 0A 0263
        gbc.setState(0x4f93, 0xc55a, 0xe0d0, 0x76d5, 0xa616, 0x4d11, 0x0, 0x0);
        gbc.writeMem(0x4f93, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xc55a, gbc.sp());
        EXPECT(0x4f95, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0264
        gbc.setState(0xd032, 0xf1f5, 0xe6d0, 0x83c8, 0x80a1, 0x8a88, 0x0, 0x1);
        gbc.writeMem(0xd032, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0xf1f5, gbc.sp());
        EXPECT(0xd034, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd032));
        EXPECT(0xa, gbc.readMem(0xd033));
        // CB 0A 0265
        gbc.setState(0x4d47, 0x2bb, 0x2730, 0x7f7f, 0x2355, 0x11b9, 0x0, 0x1);
        gbc.writeMem(0x4d47, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x2bb, gbc.sp());
        EXPECT(0x4d49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0266
        gbc.setState(0x1cc9, 0xfa76, 0x7ed0, 0x6fb8, 0xa488, 0xfc03, 0x0, 0x1);
        gbc.writeMem(0x1cc9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xfa76, gbc.sp());
        EXPECT(0x1ccb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0267
        gbc.setState(0x815a, 0xd98, 0x3420, 0xd212, 0xe025, 0xd545, 0x1, 0x0);
        gbc.writeMem(0x815a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xd98, gbc.sp());
        EXPECT(0x815c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x815a));
        EXPECT(0xa, gbc.readMem(0x815b));
        // CB 0A 0268
        gbc.setState(0x25f3, 0x3a86, 0x4630, 0x9a7c, 0x1ba, 0x80d7, 0x0, 0x1);
        gbc.writeMem(0x25f3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x3a86, gbc.sp());
        EXPECT(0x25f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0269
        gbc.setState(0x662d, 0x76de, 0x5ca0, 0x5f6f, 0x34e4, 0x901d, 0x1, 0x1);
        gbc.writeMem(0x662d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x76de, gbc.sp());
        EXPECT(0x662f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 026A
        gbc.setState(0x18b1, 0x6f2c, 0xbcd0, 0x7714, 0x41f2, 0x2c4c, 0x1, 0x1);
        gbc.writeMem(0x18b1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x6f2c, gbc.sp());
        EXPECT(0x18b3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 026B
        gbc.setState(0xa4e, 0x4114, 0x55e0, 0xf488, 0xa0c, 0x6f1b, 0x1, 0x0);
        gbc.writeMem(0xa4e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x4114, gbc.sp());
        EXPECT(0xa50, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 026C
        gbc.setState(0xe898, 0x4603, 0xa20, 0x75c6, 0x7e6c, 0x62d0, 0x0, 0x1);
        gbc.writeMem(0xe898, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x4603, gbc.sp());
        EXPECT(0xe89a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe898));
        EXPECT(0xa, gbc.readMem(0xe899));
        // CB 0A 026D
        gbc.setState(0xb5df, 0xddd, 0x3270, 0xea67, 0x3fa6, 0xab72, 0x1, 0x0);
        gbc.writeMem(0xb5df, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xddd, gbc.sp());
        EXPECT(0xb5e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb5df));
        EXPECT(0xa, gbc.readMem(0xb5e0));
        // CB 0A 026E
        gbc.setState(0x9362, 0xec2f, 0xa0, 0x5c84, 0x972e, 0x488e, 0x0, 0x1);
        gbc.writeMem(0x9362, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xec2f, gbc.sp());
        EXPECT(0x9364, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9362));
        EXPECT(0xa, gbc.readMem(0x9363));
        // CB 0A 026F
        gbc.setState(0xab7e, 0xd99d, 0xddb0, 0x1fa3, 0x7919, 0x219e, 0x0, 0x0);
        gbc.writeMem(0xab7e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xd99d, gbc.sp());
        EXPECT(0xab80, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xab7e));
        EXPECT(0xa, gbc.readMem(0xab7f));
        // CB 0A 0270
        gbc.setState(0x6563, 0xf570, 0x5d00, 0x8fef, 0xc0d9, 0x33da, 0x0, 0x0);
        gbc.writeMem(0x6563, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xf570, gbc.sp());
        EXPECT(0x6565, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0271
        gbc.setState(0xbec1, 0xa9, 0x4f70, 0x66ec, 0x8b28, 0xc7ab, 0x0, 0x0);
        gbc.writeMem(0xbec1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xa9, gbc.sp());
        EXPECT(0xbec3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbec1));
        EXPECT(0xa, gbc.readMem(0xbec2));
        // CB 0A 0272
        gbc.setState(0xc48f, 0x3efb, 0xc950, 0x8879, 0xd42e, 0xc287, 0x1, 0x0);
        gbc.writeMem(0xc48f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x3efb, gbc.sp());
        EXPECT(0xc491, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc48f));
        EXPECT(0xa, gbc.readMem(0xc490));
        // CB 0A 0273
        gbc.setState(0xd7be, 0xe45a, 0x11c0, 0x7a10, 0xf629, 0xaa83, 0x0, 0x0);
        gbc.writeMem(0xd7be, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xe45a, gbc.sp());
        EXPECT(0xd7c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd7be));
        EXPECT(0xa, gbc.readMem(0xd7bf));
        // CB 0A 0274
        gbc.setState(0x7d45, 0x8813, 0x5120, 0x5c84, 0xa4c1, 0xac1b, 0x0, 0x0);
        gbc.writeMem(0x7d45, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x8813, gbc.sp());
        EXPECT(0x7d47, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0275
        gbc.setState(0x87d, 0xc692, 0x5ae0, 0x89f7, 0x830d, 0x55df, 0x0, 0x1);
        gbc.writeMem(0x87d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xc692, gbc.sp());
        EXPECT(0x87f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0276
        gbc.setState(0xb317, 0x592a, 0x68a0, 0x5a9f, 0x7987, 0x4fb6, 0x1, 0x0);
        gbc.writeMem(0xb317, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x592a, gbc.sp());
        EXPECT(0xb319, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb317));
        EXPECT(0xa, gbc.readMem(0xb318));
        // CB 0A 0277
        gbc.setState(0x644c, 0x8236, 0xb0b0, 0x58e7, 0x726, 0x80fd, 0x1, 0x1);
        gbc.writeMem(0x644c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x8236, gbc.sp());
        EXPECT(0x644e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0278
        gbc.setState(0xec11, 0xa8a4, 0x1e80, 0x56e7, 0x87f0, 0x73d, 0x1, 0x0);
        gbc.writeMem(0xec11, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0xa8a4, gbc.sp());
        EXPECT(0xec13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xec11));
        EXPECT(0xa, gbc.readMem(0xec12));
        // CB 0A 0279
        gbc.setState(0x63ca, 0xa5ac, 0x8f0, 0x9f82, 0x9ec1, 0xcee3, 0x0, 0x1);
        gbc.writeMem(0x63ca, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xa5ac, gbc.sp());
        EXPECT(0x63cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 027A
        gbc.setState(0xd690, 0x46d5, 0x7770, 0x4221, 0x500c, 0xb52d, 0x1, 0x0);
        gbc.writeMem(0xd690, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x46d5, gbc.sp());
        EXPECT(0xd692, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd690));
        EXPECT(0xa, gbc.readMem(0xd691));
        // CB 0A 027B
        gbc.setState(0x75af, 0xe963, 0xbee0, 0x40ad, 0xca7b, 0x8973, 0x0, 0x1);
        gbc.writeMem(0x75af, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xe963, gbc.sp());
        EXPECT(0x75b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 027C
        gbc.setState(0x4920, 0x50a4, 0xa810, 0x9274, 0x91b0, 0xe546, 0x0, 0x0);
        gbc.writeMem(0x4920, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x50a4, gbc.sp());
        EXPECT(0x4922, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 027D
        gbc.setState(0x43de, 0xc6d8, 0x4ff0, 0x121f, 0x8477, 0x60d5, 0x1, 0x0);
        gbc.writeMem(0x43de, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xc6d8, gbc.sp());
        EXPECT(0x43e0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 027E
        gbc.setState(0x27b5, 0x2d4a, 0x1410, 0xef1, 0xad05, 0x1421, 0x0, 0x0);
        gbc.writeMem(0x27b5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x2d4a, gbc.sp());
        EXPECT(0x27b7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 027F
        gbc.setState(0x9c0c, 0x7042, 0x4f40, 0x7bf1, 0x737e, 0xd189, 0x1, 0x1);
        gbc.writeMem(0x9c0c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x7042, gbc.sp());
        EXPECT(0x9c0e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c0c));
        EXPECT(0xa, gbc.readMem(0x9c0d));
        // CB 0A 0280
        gbc.setState(0x3b1a, 0x330e, 0x9850, 0x4ccc, 0xa388, 0x9d2b, 0x1, 0x0);
        gbc.writeMem(0x3b1a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x330e, gbc.sp());
        EXPECT(0x3b1c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0281
        gbc.setState(0xd11a, 0x8798, 0x9200, 0xd77b, 0x5e2f, 0xe9ed, 0x0, 0x1);
        gbc.writeMem(0xd11a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x8798, gbc.sp());
        EXPECT(0xd11c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd11a));
        EXPECT(0xa, gbc.readMem(0xd11b));
        // CB 0A 0282
        gbc.setState(0x31c7, 0xf18c, 0x34e0, 0x50fa, 0x58f3, 0xf376, 0x1, 0x1);
        gbc.writeMem(0x31c7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xf18c, gbc.sp());
        EXPECT(0x31c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0283
        gbc.setState(0xde8c, 0x4a61, 0xe8b0, 0x292b, 0xb202, 0xcc7c, 0x1, 0x0);
        gbc.writeMem(0xde8c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x4a61, gbc.sp());
        EXPECT(0xde8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde8c));
        EXPECT(0xa, gbc.readMem(0xde8d));
        // CB 0A 0284
        gbc.setState(0x6f0e, 0x9daa, 0x9980, 0x8cb, 0xebb7, 0xdc53, 0x0, 0x0);
        gbc.writeMem(0x6f0e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x53, gbc.l());
        EXPECT(0x9daa, gbc.sp());
        EXPECT(0x6f10, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0285
        gbc.setState(0x36bd, 0xcb, 0x7400, 0xc01, 0xaa7, 0x3585, 0x1, 0x0);
        gbc.writeMem(0x36bd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xcb, gbc.sp());
        EXPECT(0x36bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0286
        gbc.setState(0x21b7, 0x3e0d, 0xd2a0, 0xfe87, 0x6ae7, 0x7ad7, 0x1, 0x1);
        gbc.writeMem(0x21b7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x3e0d, gbc.sp());
        EXPECT(0x21b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0287
        gbc.setState(0xc7ad, 0xa748, 0xa410, 0x27b5, 0x75f2, 0x99ce, 0x1, 0x1);
        gbc.writeMem(0xc7ad, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xa748, gbc.sp());
        EXPECT(0xc7af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc7ad));
        EXPECT(0xa, gbc.readMem(0xc7ae));
        // CB 0A 0288
        gbc.setState(0xd331, 0x579a, 0xab70, 0x4cef, 0x4874, 0x238b, 0x0, 0x0);
        gbc.writeMem(0xd331, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x579a, gbc.sp());
        EXPECT(0xd333, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd331));
        EXPECT(0xa, gbc.readMem(0xd332));
        // CB 0A 0289
        gbc.setState(0xa8fc, 0xf0f8, 0x8f00, 0xb061, 0x12b3, 0x4a7, 0x0, 0x0);
        gbc.writeMem(0xa8fc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xf0f8, gbc.sp());
        EXPECT(0xa8fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa8fc));
        EXPECT(0xa, gbc.readMem(0xa8fd));
        // CB 0A 028A
        gbc.setState(0x9bbe, 0x1590, 0xf060, 0x71ca, 0x6637, 0x54fb, 0x0, 0x1);
        gbc.writeMem(0x9bbe, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0x1590, gbc.sp());
        EXPECT(0x9bc0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9bbe));
        EXPECT(0xa, gbc.readMem(0x9bbf));
        // CB 0A 028B
        gbc.setState(0x3614, 0x8cd0, 0x3730, 0x7da7, 0x3c27, 0xdec4, 0x1, 0x1);
        gbc.writeMem(0x3614, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x8cd0, gbc.sp());
        EXPECT(0x3616, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 028C
        gbc.setState(0xb812, 0x6045, 0xe850, 0x32e7, 0xfcd9, 0xb671, 0x1, 0x1);
        gbc.writeMem(0xb812, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x6045, gbc.sp());
        EXPECT(0xb814, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb812));
        EXPECT(0xa, gbc.readMem(0xb813));
        // CB 0A 028D
        gbc.setState(0x633d, 0x1e87, 0x6800, 0xd9d8, 0xa035, 0xb8e2, 0x0, 0x0);
        gbc.writeMem(0x633d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x1e87, gbc.sp());
        EXPECT(0x633f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 028E
        gbc.setState(0x4b43, 0xb89f, 0x69c0, 0xedf5, 0xc04, 0x778f, 0x1, 0x0);
        gbc.writeMem(0x4b43, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xb89f, gbc.sp());
        EXPECT(0x4b45, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 028F
        gbc.setState(0x4846, 0x652d, 0x2320, 0xf354, 0x4031, 0x3af6, 0x1, 0x0);
        gbc.writeMem(0x4846, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x652d, gbc.sp());
        EXPECT(0x4848, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0290
        gbc.setState(0x3413, 0x9eb6, 0x6410, 0x55ae, 0x5dbb, 0x5852, 0x0, 0x0);
        gbc.writeMem(0x3413, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xae, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x9eb6, gbc.sp());
        EXPECT(0x3415, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0291
        gbc.setState(0x18f5, 0xce7b, 0xdeb0, 0x854, 0x7df2, 0xf4fa, 0x1, 0x1);
        gbc.writeMem(0x18f5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xce7b, gbc.sp());
        EXPECT(0x18f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0292
        gbc.setState(0x5e9e, 0xca57, 0x5180, 0x6aa6, 0xa47e, 0xa741, 0x0, 0x0);
        gbc.writeMem(0x5e9e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xca57, gbc.sp());
        EXPECT(0x5ea0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0293
        gbc.setState(0x7ee2, 0x7cb1, 0xbf70, 0xda85, 0xac62, 0x1b39, 0x0, 0x1);
        gbc.writeMem(0x7ee2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x7cb1, gbc.sp());
        EXPECT(0x7ee4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0294
        gbc.setState(0x196a, 0xd139, 0xa080, 0x4092, 0xd625, 0xf8fc, 0x1, 0x0);
        gbc.writeMem(0x196a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0xd139, gbc.sp());
        EXPECT(0x196c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0295
        gbc.setState(0x9683, 0x658d, 0xaa80, 0xa323, 0x9f23, 0x5c65, 0x0, 0x1);
        gbc.writeMem(0x9683, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x658d, gbc.sp());
        EXPECT(0x9685, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9683));
        EXPECT(0xa, gbc.readMem(0x9684));
        // CB 0A 0296
        gbc.setState(0x3982, 0xcb3, 0x2380, 0x6c74, 0x9e6f, 0xf593, 0x0, 0x1);
        gbc.writeMem(0x3982, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0xcb3, gbc.sp());
        EXPECT(0x3984, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0297
        gbc.setState(0xc02d, 0x2f0b, 0x2680, 0xf57d, 0x1680, 0x8239, 0x0, 0x1);
        gbc.writeMem(0xc02d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x2f0b, gbc.sp());
        EXPECT(0xc02f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc02d));
        EXPECT(0xa, gbc.readMem(0xc02e));
        // CB 0A 0298
        gbc.setState(0xa747, 0xf1ee, 0xc7f0, 0x9133, 0xff55, 0x3b7a, 0x0, 0x1);
        gbc.writeMem(0xa747, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x7a, gbc.l());
        EXPECT(0xf1ee, gbc.sp());
        EXPECT(0xa749, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa747));
        EXPECT(0xa, gbc.readMem(0xa748));
        // CB 0A 0299
        gbc.setState(0x9081, 0x7954, 0x83e0, 0xacb2, 0x75e2, 0x1d76, 0x1, 0x0);
        gbc.writeMem(0x9081, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x7954, gbc.sp());
        EXPECT(0x9083, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9081));
        EXPECT(0xa, gbc.readMem(0x9082));
        // CB 0A 029A
        gbc.setState(0x9908, 0x98ba, 0xfac0, 0x9d8a, 0x1dd2, 0x160e, 0x1, 0x0);
        gbc.writeMem(0x9908, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x98ba, gbc.sp());
        EXPECT(0x990a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9908));
        EXPECT(0xa, gbc.readMem(0x9909));
        // CB 0A 029B
        gbc.setState(0x1aeb, 0xc204, 0x32d0, 0x9ad0, 0xcdad, 0x764b, 0x0, 0x0);
        gbc.writeMem(0x1aeb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xc204, gbc.sp());
        EXPECT(0x1aed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 029C
        gbc.setState(0xc403, 0x9e37, 0x44c0, 0x3bee, 0xc0a7, 0xb013, 0x1, 0x0);
        gbc.writeMem(0xc403, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x9e37, gbc.sp());
        EXPECT(0xc405, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc403));
        EXPECT(0xa, gbc.readMem(0xc404));
        // CB 0A 029D
        gbc.setState(0xe99f, 0xaaed, 0x650, 0xa499, 0xd1c8, 0xf93a, 0x0, 0x0);
        gbc.writeMem(0xe99f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xaaed, gbc.sp());
        EXPECT(0xe9a1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe99f));
        EXPECT(0xa, gbc.readMem(0xe9a0));
        // CB 0A 029E
        gbc.setState(0xdc95, 0xb31b, 0x7680, 0xed5b, 0xabed, 0xe838, 0x0, 0x0);
        gbc.writeMem(0xdc95, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xb31b, gbc.sp());
        EXPECT(0xdc97, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc95));
        EXPECT(0xa, gbc.readMem(0xdc96));
        // CB 0A 029F
        gbc.setState(0x9659, 0xe3ae, 0xf330, 0xda87, 0xc3e4, 0xb928, 0x0, 0x1);
        gbc.writeMem(0x9659, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xe3ae, gbc.sp());
        EXPECT(0x965b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9659));
        EXPECT(0xa, gbc.readMem(0x965a));
        // CB 0A 02A0
        gbc.setState(0x9caf, 0xa3ab, 0xd690, 0x6e7c, 0xe83a, 0x47b4, 0x0, 0x1);
        gbc.writeMem(0x9caf, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0xa3ab, gbc.sp());
        EXPECT(0x9cb1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9caf));
        EXPECT(0xa, gbc.readMem(0x9cb0));
        // CB 0A 02A2
        gbc.setState(0xdbba, 0xc4e5, 0xfa80, 0xaec5, 0xabdb, 0x6963, 0x0, 0x0);
        gbc.writeMem(0xdbba, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xc4e5, gbc.sp());
        EXPECT(0xdbbc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdbba));
        EXPECT(0xa, gbc.readMem(0xdbbb));
        // CB 0A 02A3
        gbc.setState(0xcaf4, 0xc4b, 0xa300, 0x7ed3, 0xdff5, 0x849e, 0x1, 0x0);
        gbc.writeMem(0xcaf4, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xc4b, gbc.sp());
        EXPECT(0xcaf6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcaf4));
        EXPECT(0xa, gbc.readMem(0xcaf5));
        // CB 0A 02A4
        gbc.setState(0x6f0b, 0x87a5, 0x4f00, 0xcc4e, 0x3813, 0x7485, 0x0, 0x0);
        gbc.writeMem(0x6f0b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x4e, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x87a5, gbc.sp());
        EXPECT(0x6f0d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02A5
        gbc.setState(0x5b, 0xfb23, 0x4950, 0x8ce0, 0x86f1, 0xe2a4, 0x1, 0x1);
        gbc.writeMem(0x5b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x49, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xfb23, gbc.sp());
        EXPECT(0x5d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02A6
        gbc.setState(0xc743, 0x7417, 0x5320, 0x81ea, 0xb3c4, 0xab7d, 0x1, 0x0);
        gbc.writeMem(0xc743, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x7417, gbc.sp());
        EXPECT(0xc745, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc743));
        EXPECT(0xa, gbc.readMem(0xc744));
        // CB 0A 02A7
        gbc.setState(0xb74, 0x902c, 0x1c40, 0xa6dd, 0x444, 0xdcbd, 0x0, 0x1);
        gbc.writeMem(0xb74, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x902c, gbc.sp());
        EXPECT(0xb76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02A8
        gbc.setState(0x1e55, 0xf9f0, 0xd6f0, 0x244d, 0xcd85, 0x281, 0x0, 0x0);
        gbc.writeMem(0x1e55, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xf9f0, gbc.sp());
        EXPECT(0x1e57, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02A9
        gbc.setState(0x4ef8, 0x3909, 0x30a0, 0xfaeb, 0x6265, 0x572, 0x0, 0x1);
        gbc.writeMem(0x4ef8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x65, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x3909, gbc.sp());
        EXPECT(0x4efa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02AA
        gbc.setState(0x166e, 0x9adb, 0xa3b0, 0xa0ac, 0x63a5, 0xbc3, 0x0, 0x0);
        gbc.writeMem(0x166e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x9adb, gbc.sp());
        EXPECT(0x1670, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02AB
        gbc.setState(0x964b, 0xfc90, 0xa130, 0x61f0, 0xb66a, 0x3a49, 0x1, 0x1);
        gbc.writeMem(0x964b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xfc90, gbc.sp());
        EXPECT(0x964d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x964b));
        EXPECT(0xa, gbc.readMem(0x964c));
        // CB 0A 02AC
        gbc.setState(0xb258, 0xf72e, 0x4b60, 0xf8e2, 0x2a17, 0xd405, 0x0, 0x1);
        gbc.writeMem(0xb258, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xe2, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0xf72e, gbc.sp());
        EXPECT(0xb25a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb258));
        EXPECT(0xa, gbc.readMem(0xb259));
        // CB 0A 02AD
        gbc.setState(0xcc11, 0xae2, 0xad20, 0x364, 0x3e6b, 0x416b, 0x1, 0x0);
        gbc.writeMem(0xcc11, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xae2, gbc.sp());
        EXPECT(0xcc13, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc11));
        EXPECT(0xa, gbc.readMem(0xcc12));
        // CB 0A 02AE
        gbc.setState(0x421f, 0x10c3, 0x2ae0, 0x2ea6, 0xee6b, 0x408b, 0x0, 0x1);
        gbc.writeMem(0x421f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x40, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x10c3, gbc.sp());
        EXPECT(0x4221, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02AF
        gbc.setState(0x9b7f, 0x8066, 0xea80, 0x6682, 0xac99, 0x8500, 0x1, 0x0);
        gbc.writeMem(0x9b7f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x8066, gbc.sp());
        EXPECT(0x9b81, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b7f));
        EXPECT(0xa, gbc.readMem(0x9b80));
        // CB 0A 02B0
        gbc.setState(0xe6ae, 0xfde4, 0x1ab0, 0xc757, 0x78fa, 0x893b, 0x0, 0x1);
        gbc.writeMem(0xe6ae, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xfde4, gbc.sp());
        EXPECT(0xe6b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe6ae));
        EXPECT(0xa, gbc.readMem(0xe6af));
        // CB 0A 02B1
        gbc.setState(0x3c25, 0x51b1, 0x3160, 0x89ec, 0x272b, 0xf7d7, 0x0, 0x1);
        gbc.writeMem(0x3c25, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x51b1, gbc.sp());
        EXPECT(0x3c27, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02B2
        gbc.setState(0xa798, 0x8f40, 0x9d0, 0x52a3, 0x95a8, 0x764d, 0x1, 0x1);
        gbc.writeMem(0xa798, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x8f40, gbc.sp());
        EXPECT(0xa79a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa798));
        EXPECT(0xa, gbc.readMem(0xa799));
        // CB 0A 02B3
        gbc.setState(0xcd60, 0x332b, 0xeac0, 0x2be3, 0xcd51, 0xeddf, 0x0, 0x1);
        gbc.writeMem(0xcd60, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x332b, gbc.sp());
        EXPECT(0xcd62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcd60));
        EXPECT(0xa, gbc.readMem(0xcd61));
        // CB 0A 02B4
        gbc.setState(0x93d3, 0x4885, 0x6950, 0x1181, 0x4cda, 0x35ea, 0x1, 0x0);
        gbc.writeMem(0x93d3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x4885, gbc.sp());
        EXPECT(0x93d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x93d3));
        EXPECT(0xa, gbc.readMem(0x93d4));
        // CB 0A 02B5
        gbc.setState(0x903c, 0x76ed, 0xe8d0, 0x9a8, 0x95a4, 0xc3cf, 0x1, 0x0);
        gbc.writeMem(0x903c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x76ed, gbc.sp());
        EXPECT(0x903e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x903c));
        EXPECT(0xa, gbc.readMem(0x903d));
        // CB 0A 02B6
        gbc.setState(0x555a, 0xe62d, 0xc6b0, 0x525d, 0x340e, 0x4d29, 0x0, 0x0);
        gbc.writeMem(0x555a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xe62d, gbc.sp());
        EXPECT(0x555c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02B7
        gbc.setState(0x6fab, 0x93bd, 0x5640, 0x48c9, 0x9a3c, 0xebf5, 0x0, 0x0);
        gbc.writeMem(0x6fab, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x93bd, gbc.sp());
        EXPECT(0x6fad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02B8
        gbc.setState(0x872e, 0x99c1, 0x3070, 0x7ba6, 0xf227, 0x5476, 0x1, 0x1);
        gbc.writeMem(0x872e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x99c1, gbc.sp());
        EXPECT(0x8730, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x872e));
        EXPECT(0xa, gbc.readMem(0x872f));
        // CB 0A 02B9
        gbc.setState(0xd744, 0xb3d0, 0x59c0, 0x913a, 0xb7e0, 0xe8d1, 0x0, 0x1);
        gbc.writeMem(0xd744, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xb3d0, gbc.sp());
        EXPECT(0xd746, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd744));
        EXPECT(0xa, gbc.readMem(0xd745));
        // CB 0A 02BA
        gbc.setState(0xd6f3, 0x2a60, 0x97a0, 0x8d73, 0x5668, 0x5bae, 0x0, 0x0);
        gbc.writeMem(0xd6f3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x2a60, gbc.sp());
        EXPECT(0xd6f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd6f3));
        EXPECT(0xa, gbc.readMem(0xd6f4));
        // CB 0A 02BB
        gbc.setState(0x5571, 0xff6e, 0x2420, 0x11a, 0x32f5, 0x2fb7, 0x1, 0x0);
        gbc.writeMem(0x5571, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xff6e, gbc.sp());
        EXPECT(0x5573, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02BC
        gbc.setState(0x20f0, 0x77ff, 0x6580, 0x1582, 0x6085, 0x7e90, 0x1, 0x1);
        gbc.writeMem(0x20f0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x77ff, gbc.sp());
        EXPECT(0x20f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02BD
        gbc.setState(0xa4a7, 0x7a2, 0x9f80, 0xc847, 0x9a3, 0xd7cd, 0x1, 0x0);
        gbc.writeMem(0xa4a7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x7a2, gbc.sp());
        EXPECT(0xa4a9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa4a7));
        EXPECT(0xa, gbc.readMem(0xa4a8));
        // CB 0A 02BF
        gbc.setState(0x73b, 0xe4d3, 0xf7e0, 0x1298, 0x4e12, 0xf687, 0x1, 0x1);
        gbc.writeMem(0x73b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xe4d3, gbc.sp());
        EXPECT(0x73d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02C0
        gbc.setState(0x31aa, 0xdd35, 0xa780, 0xdd29, 0x4d91, 0xf91c, 0x0, 0x0);
        gbc.writeMem(0x31aa, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0xdd35, gbc.sp());
        EXPECT(0x31ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02C1
        gbc.setState(0xe380, 0x5637, 0x5e40, 0x847d, 0x8135, 0xe7e8, 0x0, 0x0);
        gbc.writeMem(0xe380, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x5637, gbc.sp());
        EXPECT(0xe382, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe380));
        EXPECT(0xa, gbc.readMem(0xe381));
        // CB 0A 02C2
        gbc.setState(0x5b5d, 0x6b2c, 0xca50, 0x1dd, 0xe23c, 0x6714, 0x0, 0x1);
        gbc.writeMem(0x5b5d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x6b2c, gbc.sp());
        EXPECT(0x5b5f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02C3
        gbc.setState(0x78b9, 0x6381, 0x8780, 0x62d5, 0xd03a, 0xdfd1, 0x0, 0x0);
        gbc.writeMem(0x78b9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0x6381, gbc.sp());
        EXPECT(0x78bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02C4
        gbc.setState(0x6857, 0x22a0, 0xcdf0, 0x4f3e, 0x46cd, 0x25ad, 0x1, 0x0);
        gbc.writeMem(0x6857, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x22a0, gbc.sp());
        EXPECT(0x6859, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02C5
        gbc.setState(0x4eb1, 0xb150, 0x8290, 0x5c21, 0x3068, 0x8fa7, 0x1, 0x0);
        gbc.writeMem(0x4eb1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0xb150, gbc.sp());
        EXPECT(0x4eb3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02C6
        gbc.setState(0x21dc, 0x97af, 0x2de0, 0x3eec, 0xe188, 0x8713, 0x0, 0x1);
        gbc.writeMem(0x21dc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x97af, gbc.sp());
        EXPECT(0x21de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02C7
        gbc.setState(0x70de, 0x4420, 0x7a50, 0x34cf, 0xf47, 0x49d5, 0x0, 0x0);
        gbc.writeMem(0x70de, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x4420, gbc.sp());
        EXPECT(0x70e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02C8
        gbc.setState(0x3a1a, 0xe428, 0x2e50, 0xa301, 0x8b2, 0xa3db, 0x0, 0x0);
        gbc.writeMem(0x3a1a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0xe428, gbc.sp());
        EXPECT(0x3a1c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02C9
        gbc.setState(0x5991, 0x171, 0x8170, 0x361b, 0xef13, 0xe161, 0x0, 0x0);
        gbc.writeMem(0x5991, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x171, gbc.sp());
        EXPECT(0x5993, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02CA
        gbc.setState(0x221d, 0x51b0, 0xfe70, 0x9965, 0x773d, 0xd3fc, 0x1, 0x1);
        gbc.writeMem(0x221d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x51b0, gbc.sp());
        EXPECT(0x221f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02CB
        gbc.setState(0xd540, 0xfaee, 0xfa0, 0xe084, 0x8962, 0x26be, 0x0, 0x0);
        gbc.writeMem(0xd540, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0xfaee, gbc.sp());
        EXPECT(0xd542, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd540));
        EXPECT(0xa, gbc.readMem(0xd541));
        // CB 0A 02CC
        gbc.setState(0x20c7, 0xa5f2, 0xcf0, 0x5801, 0xa7a2, 0x118f, 0x1, 0x0);
        gbc.writeMem(0x20c7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xa5f2, gbc.sp());
        EXPECT(0x20c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02CD
        gbc.setState(0x3a59, 0x1e84, 0xe0d0, 0x98ac, 0xdb21, 0x96f5, 0x1, 0x0);
        gbc.writeMem(0x3a59, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x1e84, gbc.sp());
        EXPECT(0x3a5b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02CE
        gbc.setState(0xd2fa, 0x36d3, 0x2900, 0x6168, 0x18f0, 0xec9d, 0x0, 0x1);
        gbc.writeMem(0xd2fa, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x36d3, gbc.sp());
        EXPECT(0xd2fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd2fa));
        EXPECT(0xa, gbc.readMem(0xd2fb));
        // CB 0A 02CF
        gbc.setState(0x972, 0xdd24, 0xb2b0, 0xf4bd, 0xa975, 0xcd84, 0x0, 0x0);
        gbc.writeMem(0x972, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xdd24, gbc.sp());
        EXPECT(0x974, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02D0
        gbc.setState(0x7aaa, 0xe253, 0x2340, 0x1c1d, 0xb9e1, 0xebf5, 0x1, 0x1);
        gbc.writeMem(0x7aaa, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xe253, gbc.sp());
        EXPECT(0x7aac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02D1
        gbc.setState(0x9f92, 0xa03, 0x8090, 0xf206, 0x3fe8, 0xc19, 0x0, 0x1);
        gbc.writeMem(0x9f92, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xa03, gbc.sp());
        EXPECT(0x9f94, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f92));
        EXPECT(0xa, gbc.readMem(0x9f93));
        // CB 0A 02D2
        gbc.setState(0x930e, 0xe3cc, 0x39f0, 0xa5b5, 0x207c, 0x391b, 0x0, 0x0);
        gbc.writeMem(0x930e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xe3cc, gbc.sp());
        EXPECT(0x9310, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x930e));
        EXPECT(0xa, gbc.readMem(0x930f));
        // CB 0A 02D3
        gbc.setState(0x9757, 0x174c, 0xbd70, 0xabda, 0x4eab, 0xa441, 0x0, 0x0);
        gbc.writeMem(0x9757, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x174c, gbc.sp());
        EXPECT(0x9759, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9757));
        EXPECT(0xa, gbc.readMem(0x9758));
        // CB 0A 02D4
        gbc.setState(0xc75f, 0x29fd, 0x970, 0x9a85, 0x2c79, 0xbf92, 0x0, 0x1);
        gbc.writeMem(0xc75f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x29fd, gbc.sp());
        EXPECT(0xc761, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc75f));
        EXPECT(0xa, gbc.readMem(0xc760));
        // CB 0A 02D5
        gbc.setState(0xe629, 0x6654, 0x4360, 0x21bc, 0x16e5, 0x5623, 0x0, 0x1);
        gbc.writeMem(0xe629, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x6654, gbc.sp());
        EXPECT(0xe62b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe629));
        EXPECT(0xa, gbc.readMem(0xe62a));
        // CB 0A 02D6
        gbc.setState(0x3e8, 0xa795, 0x3ed0, 0x4a09, 0xa0c8, 0x82c1, 0x0, 0x0);
        gbc.writeMem(0x3e8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0xa795, gbc.sp());
        EXPECT(0x3ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02D7
        gbc.setState(0xea68, 0x8abf, 0x9df0, 0xbb88, 0x4123, 0xc08, 0x1, 0x1);
        gbc.writeMem(0xea68, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x8abf, gbc.sp());
        EXPECT(0xea6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xea68));
        EXPECT(0xa, gbc.readMem(0xea69));
        // CB 0A 02D8
        gbc.setState(0x7ebe, 0xf793, 0x22d0, 0x875f, 0x1cf2, 0x948e, 0x1, 0x1);
        gbc.writeMem(0x7ebe, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xf793, gbc.sp());
        EXPECT(0x7ec0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02D9
        gbc.setState(0x641f, 0xda16, 0x19a0, 0x80c8, 0x3cd4, 0x4cdf, 0x0, 0x0);
        gbc.writeMem(0x641f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xda16, gbc.sp());
        EXPECT(0x6421, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02DA
        gbc.setState(0x3eaa, 0x78f0, 0x5400, 0x3765, 0xdcbd, 0xe884, 0x1, 0x0);
        gbc.writeMem(0x3eaa, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x78f0, gbc.sp());
        EXPECT(0x3eac, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02DB
        gbc.setState(0xcaf2, 0xbf3f, 0xc4e0, 0x6269, 0xfb9c, 0xe515, 0x0, 0x0);
        gbc.writeMem(0xcaf2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xbf3f, gbc.sp());
        EXPECT(0xcaf4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcaf2));
        EXPECT(0xa, gbc.readMem(0xcaf3));
        // CB 0A 02DC
        gbc.setState(0x127f, 0xb6dc, 0x8dd0, 0x8f9b, 0x45f, 0xfaa6, 0x0, 0x1);
        gbc.writeMem(0x127f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xb6dc, gbc.sp());
        EXPECT(0x1281, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02DD
        gbc.setState(0xb2d8, 0x9018, 0xa970, 0xcf4, 0xe63d, 0x201b, 0x0, 0x0);
        gbc.writeMem(0xb2d8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x9018, gbc.sp());
        EXPECT(0xb2da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb2d8));
        EXPECT(0xa, gbc.readMem(0xb2d9));
        // CB 0A 02DE
        gbc.setState(0xd9f1, 0x20b7, 0x5750, 0x65e8, 0x453f, 0xa3ed, 0x1, 0x1);
        gbc.writeMem(0xd9f1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x20b7, gbc.sp());
        EXPECT(0xd9f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd9f1));
        EXPECT(0xa, gbc.readMem(0xd9f2));
        // CB 0A 02DF
        gbc.setState(0xdc80, 0xf212, 0x9150, 0xa6b3, 0xf55c, 0xcfa, 0x1, 0x1);
        gbc.writeMem(0xdc80, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xf212, gbc.sp());
        EXPECT(0xdc82, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdc80));
        EXPECT(0xa, gbc.readMem(0xdc81));
        // CB 0A 02E0
        gbc.setState(0xc65e, 0xb6f8, 0xb50, 0x971e, 0x5553, 0x9930, 0x0, 0x1);
        gbc.writeMem(0xc65e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xb6f8, gbc.sp());
        EXPECT(0xc660, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc65e));
        EXPECT(0xa, gbc.readMem(0xc65f));
        // CB 0A 02E1
        gbc.setState(0x4b2d, 0xfb0a, 0x70e0, 0xf697, 0x2798, 0xe8fa, 0x0, 0x1);
        gbc.writeMem(0x4b2d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xfb0a, gbc.sp());
        EXPECT(0x4b2f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02E2
        gbc.setState(0x1cde, 0x62a2, 0x5630, 0xdfde, 0x7574, 0xa84e, 0x0, 0x0);
        gbc.writeMem(0x1cde, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x62a2, gbc.sp());
        EXPECT(0x1ce0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02E3
        gbc.setState(0x8c74, 0xfb19, 0x6240, 0x9571, 0x6600, 0xd882, 0x1, 0x1);
        gbc.writeMem(0x8c74, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0xfb19, gbc.sp());
        EXPECT(0x8c76, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8c74));
        EXPECT(0xa, gbc.readMem(0x8c75));
        // CB 0A 02E4
        gbc.setState(0xd922, 0x7294, 0x9360, 0x22f4, 0xec39, 0xfad7, 0x0, 0x0);
        gbc.writeMem(0xd922, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x7294, gbc.sp());
        EXPECT(0xd924, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd922));
        EXPECT(0xa, gbc.readMem(0xd923));
        // CB 0A 02E5
        gbc.setState(0xe16e, 0x4b74, 0xa0d0, 0x9bd7, 0x3dcb, 0xf836, 0x1, 0x0);
        gbc.writeMem(0xe16e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0x4b74, gbc.sp());
        EXPECT(0xe170, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe16e));
        EXPECT(0xa, gbc.readMem(0xe16f));
        // CB 0A 02E6
        gbc.setState(0x25a2, 0xb304, 0x14d0, 0x5e7b, 0x77f4, 0xdb00, 0x0, 0x0);
        gbc.writeMem(0x25a2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xb304, gbc.sp());
        EXPECT(0x25a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02E7
        gbc.setState(0x3e18, 0xf774, 0x3110, 0xac25, 0x7d3b, 0xa9de, 0x0, 0x0);
        gbc.writeMem(0x3e18, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0xf774, gbc.sp());
        EXPECT(0x3e1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02E8
        gbc.setState(0x1bee, 0x4202, 0x9f50, 0xa3f2, 0x6184, 0xbba4, 0x0, 0x0);
        gbc.writeMem(0x1bee, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x4202, gbc.sp());
        EXPECT(0x1bf0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02E9
        gbc.setState(0xa902, 0xf176, 0x2620, 0xe29c, 0x5604, 0xb77f, 0x0, 0x0);
        gbc.writeMem(0xa902, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xf176, gbc.sp());
        EXPECT(0xa904, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa902));
        EXPECT(0xa, gbc.readMem(0xa903));
        // CB 0A 02EA
        gbc.setState(0x81f8, 0x194e, 0x75c0, 0xbedf, 0xd444, 0x7fcd, 0x1, 0x1);
        gbc.writeMem(0x81f8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x194e, gbc.sp());
        EXPECT(0x81fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x81f8));
        EXPECT(0xa, gbc.readMem(0x81f9));
        // CB 0A 02EB
        gbc.setState(0x5166, 0x56a5, 0xa390, 0x8fbf, 0x8127, 0xd259, 0x1, 0x1);
        gbc.writeMem(0x5166, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x56a5, gbc.sp());
        EXPECT(0x5168, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02EC
        gbc.setState(0x2544, 0xfe99, 0x8ef0, 0x5377, 0x235d, 0xa73a, 0x0, 0x0);
        gbc.writeMem(0x2544, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xfe99, gbc.sp());
        EXPECT(0x2546, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02ED
        gbc.setState(0xd36c, 0x81b5, 0x4fa0, 0x3cf4, 0x3fdd, 0x7311, 0x1, 0x1);
        gbc.writeMem(0xd36c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x81b5, gbc.sp());
        EXPECT(0xd36e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd36c));
        EXPECT(0xa, gbc.readMem(0xd36d));
        // CB 0A 02EE
        gbc.setState(0xaf95, 0x209d, 0x2490, 0xa148, 0x7b02, 0x6ba5, 0x0, 0x1);
        gbc.writeMem(0xaf95, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0x209d, gbc.sp());
        EXPECT(0xaf97, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf95));
        EXPECT(0xa, gbc.readMem(0xaf96));
        // CB 0A 02F0
        gbc.setState(0x866e, 0xfe7b, 0x9e0, 0xdf44, 0x819b, 0x61d3, 0x0, 0x0);
        gbc.writeMem(0x866e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xfe7b, gbc.sp());
        EXPECT(0x8670, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x866e));
        EXPECT(0xa, gbc.readMem(0x866f));
        // CB 0A 02F1
        gbc.setState(0xc1f9, 0x8f7a, 0x6fe0, 0xd70f, 0xae21, 0x3f74, 0x0, 0x1);
        gbc.writeMem(0xc1f9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x8f7a, gbc.sp());
        EXPECT(0xc1fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1f9));
        EXPECT(0xa, gbc.readMem(0xc1fa));
        // CB 0A 02F2
        gbc.setState(0x1ed5, 0x58ee, 0xec90, 0x5d17, 0x2c3a, 0x92db, 0x0, 0x0);
        gbc.writeMem(0x1ed5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x58ee, gbc.sp());
        EXPECT(0x1ed7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02F3
        gbc.setState(0xde7e, 0xbad8, 0x83e0, 0x851e, 0xffbc, 0x2790, 0x1, 0x0);
        gbc.writeMem(0xde7e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0xbad8, gbc.sp());
        EXPECT(0xde80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde7e));
        EXPECT(0xa, gbc.readMem(0xde7f));
        // CB 0A 02F4
        gbc.setState(0x2728, 0x3148, 0x4660, 0x7d8d, 0x4ee0, 0xad1e, 0x1, 0x1);
        gbc.writeMem(0x2728, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x3148, gbc.sp());
        EXPECT(0x272a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02F5
        gbc.setState(0xd0f3, 0xbd5, 0xce10, 0x4234, 0xb75a, 0x955a, 0x1, 0x1);
        gbc.writeMem(0xd0f3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xbd5, gbc.sp());
        EXPECT(0xd0f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd0f3));
        EXPECT(0xa, gbc.readMem(0xd0f4));
        // CB 0A 02F6
        gbc.setState(0xa0c3, 0xf6cd, 0xcf10, 0xf297, 0x3dd6, 0xc394, 0x1, 0x1);
        gbc.writeMem(0xa0c3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xf6cd, gbc.sp());
        EXPECT(0xa0c5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa0c3));
        EXPECT(0xa, gbc.readMem(0xa0c4));
        // CB 0A 02F7
        gbc.setState(0x5fe7, 0xe95b, 0x64c0, 0x2da6, 0x559b, 0x868f, 0x1, 0x0);
        gbc.writeMem(0x5fe7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xe95b, gbc.sp());
        EXPECT(0x5fe9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02F8
        gbc.setState(0x3481, 0xf912, 0x1d90, 0xb7af, 0xf51c, 0x2d66, 0x0, 0x0);
        gbc.writeMem(0x3481, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xf912, gbc.sp());
        EXPECT(0x3483, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 02F9
        gbc.setState(0xc76d, 0x36c6, 0x12d0, 0x4225, 0xace8, 0xed47, 0x0, 0x1);
        gbc.writeMem(0xc76d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x36c6, gbc.sp());
        EXPECT(0xc76f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc76d));
        EXPECT(0xa, gbc.readMem(0xc76e));
        // CB 0A 02FA
        gbc.setState(0xcc75, 0x351c, 0x3800, 0x6bea, 0xfd93, 0xe9af, 0x0, 0x1);
        gbc.writeMem(0xcc75, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x351c, gbc.sp());
        EXPECT(0xcc77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcc75));
        EXPECT(0xa, gbc.readMem(0xcc76));
        // CB 0A 02FB
        gbc.setState(0xe74f, 0x41c2, 0x7060, 0x6af5, 0x267b, 0x7752, 0x0, 0x1);
        gbc.writeMem(0xe74f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x41c2, gbc.sp());
        EXPECT(0xe751, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe74f));
        EXPECT(0xa, gbc.readMem(0xe750));
        // CB 0A 02FC
        gbc.setState(0x965d, 0xdaf7, 0x640, 0x8eb5, 0xf870, 0x8059, 0x0, 0x0);
        gbc.writeMem(0x965d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xdaf7, gbc.sp());
        EXPECT(0x965f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x965d));
        EXPECT(0xa, gbc.readMem(0x965e));
        // CB 0A 02FD
        gbc.setState(0x15a2, 0xb8b1, 0xfc70, 0x1f7d, 0x64d8, 0x666e, 0x0, 0x1);
        gbc.writeMem(0x15a2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x32, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0xb8b1, gbc.sp());
        EXPECT(0x15a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 02FE
        gbc.setState(0x8ce9, 0x3877, 0x8430, 0xdf23, 0x2aab, 0xa346, 0x0, 0x0);
        gbc.writeMem(0x8ce9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x3877, gbc.sp());
        EXPECT(0x8ceb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ce9));
        EXPECT(0xa, gbc.readMem(0x8cea));
        // CB 0A 02FF
        gbc.setState(0x5566, 0xd009, 0x1b00, 0xe28a, 0x9909, 0xf24a, 0x0, 0x0);
        gbc.writeMem(0x5566, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xd009, gbc.sp());
        EXPECT(0x5568, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0300
        gbc.setState(0xb004, 0x427c, 0xed40, 0x51ed, 0xd329, 0x6bbf, 0x1, 0x1);
        gbc.writeMem(0xb004, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x427c, gbc.sp());
        EXPECT(0xb006, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb004));
        EXPECT(0xa, gbc.readMem(0xb005));
        // CB 0A 0301
        gbc.setState(0x17d6, 0xa566, 0xbd0, 0x357a, 0x1f3b, 0xe4f3, 0x0, 0x0);
        gbc.writeMem(0x17d6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xa566, gbc.sp());
        EXPECT(0x17d8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0302
        gbc.setState(0x56eb, 0x3cb5, 0x8070, 0x2caf, 0x10ad, 0xce15, 0x1, 0x0);
        gbc.writeMem(0x56eb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x3cb5, gbc.sp());
        EXPECT(0x56ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0303
        gbc.setState(0x3729, 0x7413, 0x9180, 0x9c08, 0xc583, 0xabf1, 0x0, 0x1);
        gbc.writeMem(0x3729, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x83, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x7413, gbc.sp());
        EXPECT(0x372b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0304
        gbc.setState(0x32cb, 0x6e58, 0x30e0, 0xc933, 0xc8ed, 0xfc6e, 0x0, 0x1);
        gbc.writeMem(0x32cb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x6e58, gbc.sp());
        EXPECT(0x32cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0305
        gbc.setState(0xa2be, 0x7373, 0x6fd0, 0xf89, 0x88b4, 0xb09c, 0x1, 0x1);
        gbc.writeMem(0xa2be, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x7373, gbc.sp());
        EXPECT(0xa2c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa2be));
        EXPECT(0xa, gbc.readMem(0xa2bf));
        // CB 0A 0306
        gbc.setState(0xedc6, 0xae04, 0x30a0, 0x4ecd, 0x560, 0x8834, 0x0, 0x0);
        gbc.writeMem(0xedc6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xae04, gbc.sp());
        EXPECT(0xedc8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xedc6));
        EXPECT(0xa, gbc.readMem(0xedc7));
        // CB 0A 0307
        gbc.setState(0xe4dc, 0xa98d, 0x47a0, 0xe458, 0x5eb3, 0xe8b8, 0x0, 0x0);
        gbc.writeMem(0xe4dc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xa98d, gbc.sp());
        EXPECT(0xe4de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe4dc));
        EXPECT(0xa, gbc.readMem(0xe4dd));
        // CB 0A 0308
        gbc.setState(0x2fa0, 0x3219, 0x6210, 0x11b, 0x5fb3, 0x3ab9, 0x0, 0x1);
        gbc.writeMem(0x2fa0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0x3219, gbc.sp());
        EXPECT(0x2fa2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0309
        gbc.setState(0xe422, 0xd182, 0x1040, 0xe123, 0x838b, 0xca0, 0x0, 0x1);
        gbc.writeMem(0xe422, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xd182, gbc.sp());
        EXPECT(0xe424, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe422));
        EXPECT(0xa, gbc.readMem(0xe423));
        // CB 0A 030A
        gbc.setState(0xd2d8, 0x18ef, 0x6fc0, 0xdadd, 0x6b38, 0xb6ad, 0x1, 0x0);
        gbc.writeMem(0xd2d8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x18ef, gbc.sp());
        EXPECT(0xd2da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd2d8));
        EXPECT(0xa, gbc.readMem(0xd2d9));
        // CB 0A 030B
        gbc.setState(0xc6d7, 0xc82c, 0x4af0, 0xea8b, 0x95e1, 0x861b, 0x0, 0x0);
        gbc.writeMem(0xc6d7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xc82c, gbc.sp());
        EXPECT(0xc6d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc6d7));
        EXPECT(0xa, gbc.readMem(0xc6d8));
        // CB 0A 030C
        gbc.setState(0x1e50, 0xa293, 0x1510, 0xbc9b, 0x2e1d, 0xf05f, 0x0, 0x0);
        gbc.writeMem(0x1e50, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xa293, gbc.sp());
        EXPECT(0x1e52, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 030D
        gbc.setState(0xcfdd, 0x1c87, 0x9320, 0xbf83, 0xfa32, 0xbcef, 0x0, 0x1);
        gbc.writeMem(0xcfdd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x1c87, gbc.sp());
        EXPECT(0xcfdf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcfdd));
        EXPECT(0xa, gbc.readMem(0xcfde));
        // CB 0A 030E
        gbc.setState(0x8fc6, 0x3da0, 0xf750, 0x7949, 0x4f0c, 0x5701, 0x1, 0x1);
        gbc.writeMem(0x8fc6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0x3da0, gbc.sp());
        EXPECT(0x8fc8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8fc6));
        EXPECT(0xa, gbc.readMem(0x8fc7));
        // CB 0A 030F
        gbc.setState(0x2654, 0xf0e1, 0xe3f0, 0xe8bb, 0x9593, 0x232c, 0x1, 0x0);
        gbc.writeMem(0x2654, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xe8, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xf0e1, gbc.sp());
        EXPECT(0x2656, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0310
        gbc.setState(0x3527, 0x3b5f, 0x98e0, 0x4c66, 0x2d61, 0x200e, 0x0, 0x1);
        gbc.writeMem(0x3527, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x3b5f, gbc.sp());
        EXPECT(0x3529, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0312
        gbc.setState(0x21f0, 0x3daa, 0xcb80, 0x87d4, 0xc561, 0xb3f5, 0x1, 0x0);
        gbc.writeMem(0x21f0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x3daa, gbc.sp());
        EXPECT(0x21f2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0313
        gbc.setState(0x4f2b, 0x844d, 0x50e0, 0x872, 0x2333, 0x78d0, 0x0, 0x0);
        gbc.writeMem(0x4f2b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x844d, gbc.sp());
        EXPECT(0x4f2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0314
        gbc.setState(0xe2da, 0x1cba, 0x13d0, 0x8775, 0xc5d1, 0x84c2, 0x0, 0x1);
        gbc.writeMem(0xe2da, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x1cba, gbc.sp());
        EXPECT(0xe2dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe2da));
        EXPECT(0xa, gbc.readMem(0xe2db));
        // CB 0A 0315
        gbc.setState(0x7370, 0x9f80, 0xe8a0, 0x2010, 0xbb6c, 0x3e98, 0x1, 0x1);
        gbc.writeMem(0x7370, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x9f80, gbc.sp());
        EXPECT(0x7372, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0316
        gbc.setState(0x87e6, 0xd93c, 0xfee0, 0x5c56, 0xa77d, 0x61bb, 0x1, 0x0);
        gbc.writeMem(0x87e6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xd93c, gbc.sp());
        EXPECT(0x87e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87e6));
        EXPECT(0xa, gbc.readMem(0x87e7));
        // CB 0A 0317
        gbc.setState(0xc73d, 0x5306, 0xcbc0, 0xaed8, 0x89df, 0xb1f7, 0x1, 0x0);
        gbc.writeMem(0xc73d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x5306, gbc.sp());
        EXPECT(0xc73f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc73d));
        EXPECT(0xa, gbc.readMem(0xc73e));
        // CB 0A 0318
        gbc.setState(0x89a2, 0x12a, 0xfb40, 0xfafe, 0x88be, 0xc28d, 0x1, 0x0);
        gbc.writeMem(0x89a2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0x12a, gbc.sp());
        EXPECT(0x89a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x89a2));
        EXPECT(0xa, gbc.readMem(0x89a3));
        // CB 0A 0319
        gbc.setState(0x2cba, 0x956d, 0xee60, 0xc00c, 0x9fd9, 0xebe0, 0x0, 0x0);
        gbc.writeMem(0x2cba, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x956d, gbc.sp());
        EXPECT(0x2cbc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 031B
        gbc.setState(0x8eb, 0x771e, 0x6a10, 0x528f, 0xba64, 0xea6d, 0x1, 0x1);
        gbc.writeMem(0x8eb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x771e, gbc.sp());
        EXPECT(0x8ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 031C
        gbc.setState(0x47d3, 0x147c, 0xb260, 0x7719, 0xbad9, 0x3c16, 0x1, 0x0);
        gbc.writeMem(0x47d3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0x147c, gbc.sp());
        EXPECT(0x47d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 031D
        gbc.setState(0x2fe2, 0xee02, 0x87e0, 0x934b, 0xa0f8, 0x424c, 0x1, 0x1);
        gbc.writeMem(0x2fe2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xee02, gbc.sp());
        EXPECT(0x2fe4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 031E
        gbc.setState(0xb37, 0xdce2, 0x7860, 0xe085, 0x86eb, 0x5cd7, 0x1, 0x0);
        gbc.writeMem(0xb37, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xdce2, gbc.sp());
        EXPECT(0xb39, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 031F
        gbc.setState(0x5f35, 0x62f5, 0x2ad0, 0x414f, 0x8fc2, 0xdf1e, 0x0, 0x1);
        gbc.writeMem(0x5f35, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x62f5, gbc.sp());
        EXPECT(0x5f37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0320
        gbc.setState(0x79f1, 0x6766, 0x8a50, 0x6945, 0xa7ea, 0x7445, 0x0, 0x1);
        gbc.writeMem(0x79f1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x6766, gbc.sp());
        EXPECT(0x79f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0321
        gbc.setState(0x73a, 0xf771, 0x7e80, 0x2752, 0x29e3, 0x3e0b, 0x1, 0x0);
        gbc.writeMem(0x73a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xf771, gbc.sp());
        EXPECT(0x73c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0322
        gbc.setState(0x9369, 0x46b7, 0xe290, 0xdb40, 0xe2b4, 0x60e0, 0x0, 0x1);
        gbc.writeMem(0x9369, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x46b7, gbc.sp());
        EXPECT(0x936b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9369));
        EXPECT(0xa, gbc.readMem(0x936a));
        // CB 0A 0323
        gbc.setState(0xe5b6, 0xc8ec, 0x9f40, 0x752e, 0x1069, 0xa66f, 0x1, 0x1);
        gbc.writeMem(0xe5b6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0xc8ec, gbc.sp());
        EXPECT(0xe5b8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe5b6));
        EXPECT(0xa, gbc.readMem(0xe5b7));
        // CB 0A 0324
        gbc.setState(0x22df, 0x33ce, 0x3f30, 0x8206, 0x1bca, 0xf246, 0x0, 0x0);
        gbc.writeMem(0x22df, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x33ce, gbc.sp());
        EXPECT(0x22e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0325
        gbc.setState(0xcec6, 0x9d83, 0x9190, 0x9078, 0x5c61, 0x2f97, 0x1, 0x1);
        gbc.writeMem(0xcec6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x9d83, gbc.sp());
        EXPECT(0xcec8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcec6));
        EXPECT(0xa, gbc.readMem(0xcec7));
        // CB 0A 0326
        gbc.setState(0x694f, 0x3256, 0x60, 0xcb9e, 0x6b8f, 0x7920, 0x0, 0x1);
        gbc.writeMem(0x694f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x3256, gbc.sp());
        EXPECT(0x6951, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0327
        gbc.setState(0xba05, 0xed7d, 0x13c0, 0x3cb9, 0x728a, 0x6b47, 0x1, 0x1);
        gbc.writeMem(0xba05, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xed7d, gbc.sp());
        EXPECT(0xba07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xba05));
        EXPECT(0xa, gbc.readMem(0xba06));
        // CB 0A 0328
        gbc.setState(0x18cf, 0x88f0, 0x20c0, 0x9e6d, 0xe861, 0x57cd, 0x0, 0x0);
        gbc.writeMem(0x18cf, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x88f0, gbc.sp());
        EXPECT(0x18d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0329
        gbc.setState(0xc1e9, 0x99b1, 0x2830, 0x450a, 0x279, 0x64e4, 0x1, 0x1);
        gbc.writeMem(0xc1e9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x99b1, gbc.sp());
        EXPECT(0xc1eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1e9));
        EXPECT(0xa, gbc.readMem(0xc1ea));
        // CB 0A 032A
        gbc.setState(0x9077, 0xa376, 0x900, 0x7e90, 0xb147, 0x4913, 0x1, 0x0);
        gbc.writeMem(0x9077, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xa376, gbc.sp());
        EXPECT(0x9079, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9077));
        EXPECT(0xa, gbc.readMem(0x9078));
        // CB 0A 032B
        gbc.setState(0x52de, 0x44cd, 0xb5f0, 0xee01, 0xf320, 0x65fd, 0x0, 0x0);
        gbc.writeMem(0x52de, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x44cd, gbc.sp());
        EXPECT(0x52e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 032C
        gbc.setState(0x246f, 0xc8e0, 0xced0, 0xa285, 0xffa0, 0xb6a2, 0x0, 0x0);
        gbc.writeMem(0x246f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xc8e0, gbc.sp());
        EXPECT(0x2471, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 032D
        gbc.setState(0x8ef8, 0xaced, 0x6fb0, 0x5307, 0x1a64, 0x599c, 0x0, 0x1);
        gbc.writeMem(0x8ef8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xd, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xaced, gbc.sp());
        EXPECT(0x8efa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ef8));
        EXPECT(0xa, gbc.readMem(0x8ef9));
        // CB 0A 032E
        gbc.setState(0xcab, 0x908f, 0xa190, 0x7444, 0xa70c, 0x718e, 0x0, 0x1);
        gbc.writeMem(0xcab, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x908f, gbc.sp());
        EXPECT(0xcad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 032F
        gbc.setState(0xc1d7, 0xc6bf, 0x9d00, 0x855a, 0xc108, 0x49c2, 0x0, 0x0);
        gbc.writeMem(0xc1d7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xc6bf, gbc.sp());
        EXPECT(0xc1d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1d7));
        EXPECT(0xa, gbc.readMem(0xc1d8));
        // CB 0A 0330
        gbc.setState(0x3c23, 0xc1da, 0x5490, 0xf547, 0x6d94, 0xe08d, 0x1, 0x0);
        gbc.writeMem(0x3c23, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xc1da, gbc.sp());
        EXPECT(0x3c25, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0331
        gbc.setState(0xa129, 0xaf7, 0xd440, 0x70b5, 0x3705, 0x14fb, 0x0, 0x0);
        gbc.writeMem(0xa129, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xfb, gbc.l());
        EXPECT(0xaf7, gbc.sp());
        EXPECT(0xa12b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa129));
        EXPECT(0xa, gbc.readMem(0xa12a));
        // CB 0A 0332
        gbc.setState(0x6a63, 0x460a, 0xab50, 0x44e9, 0x9fb6, 0xb445, 0x0, 0x1);
        gbc.writeMem(0x6a63, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x460a, gbc.sp());
        EXPECT(0x6a65, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0333
        gbc.setState(0x114c, 0xc8c7, 0x9730, 0x9af2, 0x713e, 0xcfe4, 0x0, 0x0);
        gbc.writeMem(0x114c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xc8c7, gbc.sp());
        EXPECT(0x114e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0334
        gbc.setState(0x2a83, 0x3f60, 0x6210, 0x237d, 0x4795, 0x26dc, 0x0, 0x1);
        gbc.writeMem(0x2a83, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x3f60, gbc.sp());
        EXPECT(0x2a85, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0335
        gbc.setState(0xeffc, 0x5b47, 0xd6b0, 0x1955, 0xd626, 0x1a3b, 0x1, 0x0);
        gbc.writeMem(0xeffc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x5b47, gbc.sp());
        EXPECT(0xeffe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xeffc));
        EXPECT(0xa, gbc.readMem(0xeffd));
        // CB 0A 0336
        gbc.setState(0x341f, 0x5f62, 0xb550, 0x3d26, 0xd124, 0xab17, 0x0, 0x1);
        gbc.writeMem(0x341f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x5f62, gbc.sp());
        EXPECT(0x3421, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0337
        gbc.setState(0x1081, 0x7006, 0xca30, 0xd3da, 0x14a5, 0xb718, 0x1, 0x0);
        gbc.writeMem(0x1081, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x7006, gbc.sp());
        EXPECT(0x1083, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0338
        gbc.setState(0x6cd6, 0x9d2b, 0xbd30, 0x2d02, 0x17a5, 0x5f94, 0x0, 0x0);
        gbc.writeMem(0x6cd6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x9d2b, gbc.sp());
        EXPECT(0x6cd8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0339
        gbc.setState(0x550d, 0x1502, 0x3c10, 0x4ee1, 0x36f9, 0xc3f, 0x0, 0x1);
        gbc.writeMem(0x550d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x1502, gbc.sp());
        EXPECT(0x550f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 033A
        gbc.setState(0x5498, 0x462e, 0x42e0, 0x79c9, 0xd850, 0x5246, 0x0, 0x0);
        gbc.writeMem(0x5498, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x462e, gbc.sp());
        EXPECT(0x549a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 033B
        gbc.setState(0xb8b9, 0x22d9, 0x3e60, 0x7d21, 0x589d, 0x3257, 0x1, 0x1);
        gbc.writeMem(0xb8b9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x22d9, gbc.sp());
        EXPECT(0xb8bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb8b9));
        EXPECT(0xa, gbc.readMem(0xb8ba));
        // CB 0A 033C
        gbc.setState(0xda55, 0xf68, 0x6f30, 0xe9ae, 0x4301, 0x918c, 0x1, 0x0);
        gbc.writeMem(0xda55, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xf68, gbc.sp());
        EXPECT(0xda57, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda55));
        EXPECT(0xa, gbc.readMem(0xda56));
        // CB 0A 033D
        gbc.setState(0x8b69, 0x6690, 0x1970, 0xaa31, 0x56cd, 0x3c76, 0x1, 0x0);
        gbc.writeMem(0x8b69, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x6690, gbc.sp());
        EXPECT(0x8b6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b69));
        EXPECT(0xa, gbc.readMem(0x8b6a));
        // CB 0A 033E
        gbc.setState(0xdeb1, 0x7b06, 0x6730, 0xd734, 0x3601, 0xacfc, 0x0, 0x0);
        gbc.writeMem(0xdeb1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x7b06, gbc.sp());
        EXPECT(0xdeb3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdeb1));
        EXPECT(0xa, gbc.readMem(0xdeb2));
        // CB 0A 033F
        gbc.setState(0xc642, 0xd15e, 0x5a40, 0x29a8, 0xa501, 0xbed1, 0x1, 0x1);
        gbc.writeMem(0xc642, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xd15e, gbc.sp());
        EXPECT(0xc644, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc642));
        EXPECT(0xa, gbc.readMem(0xc643));
        // CB 0A 0340
        gbc.setState(0x59ff, 0x34b1, 0xe210, 0x54ef, 0x13e5, 0xe509, 0x0, 0x0);
        gbc.writeMem(0x59ff, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x34b1, gbc.sp());
        EXPECT(0x5a01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0341
        gbc.setState(0xa609, 0xe26b, 0x2330, 0xe6cb, 0x1789, 0x1bce, 0x1, 0x0);
        gbc.writeMem(0xa609, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xe26b, gbc.sp());
        EXPECT(0xa60b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa609));
        EXPECT(0xa, gbc.readMem(0xa60a));
        // CB 0A 0342
        gbc.setState(0x5116, 0xa75a, 0x2b50, 0xe4aa, 0x23aa, 0x7fab, 0x0, 0x1);
        gbc.writeMem(0x5116, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xa75a, gbc.sp());
        EXPECT(0x5118, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0343
        gbc.setState(0x6fff, 0x3c9, 0xbe40, 0x6b63, 0xea62, 0xfbd4, 0x1, 0x0);
        gbc.writeMem(0x6fff, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0x3c9, gbc.sp());
        EXPECT(0x7001, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0344
        gbc.setState(0xd1fb, 0xd901, 0x31e0, 0x84b0, 0xeb31, 0x38b8, 0x1, 0x0);
        gbc.writeMem(0xd1fb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xd901, gbc.sp());
        EXPECT(0xd1fd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd1fb));
        EXPECT(0xa, gbc.readMem(0xd1fc));
        // CB 0A 0345
        gbc.setState(0x3503, 0xfcd7, 0xed60, 0x838c, 0x2906, 0x29e, 0x1, 0x1);
        gbc.writeMem(0x3503, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xfcd7, gbc.sp());
        EXPECT(0x3505, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0346
        gbc.setState(0xcac9, 0xe46b, 0xed60, 0x2691, 0x8477, 0x6961, 0x1, 0x0);
        gbc.writeMem(0xcac9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xe46b, gbc.sp());
        EXPECT(0xcacb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcac9));
        EXPECT(0xa, gbc.readMem(0xcaca));
        // CB 0A 0347
        gbc.setState(0x9b24, 0xf6cd, 0x9d0, 0xadca, 0xae7c, 0xd20b, 0x1, 0x0);
        gbc.writeMem(0x9b24, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xf6cd, gbc.sp());
        EXPECT(0x9b26, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9b24));
        EXPECT(0xa, gbc.readMem(0x9b25));
        // CB 0A 0348
        gbc.setState(0xb7c0, 0xed52, 0xe960, 0x6f28, 0x6f81, 0xb01d, 0x1, 0x1);
        gbc.writeMem(0xb7c0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xed52, gbc.sp());
        EXPECT(0xb7c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb7c0));
        EXPECT(0xa, gbc.readMem(0xb7c1));
        // CB 0A 0349
        gbc.setState(0x125d, 0xf8d9, 0x78e0, 0xd377, 0xee35, 0x7086, 0x1, 0x0);
        gbc.writeMem(0x125d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xf8d9, gbc.sp());
        EXPECT(0x125f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 034A
        gbc.setState(0x4dac, 0xc20d, 0x8370, 0x7433, 0xb592, 0xecbb, 0x0, 0x0);
        gbc.writeMem(0x4dac, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xc20d, gbc.sp());
        EXPECT(0x4dae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 034B
        gbc.setState(0x388c, 0xb651, 0xb2a0, 0xa58, 0xa1af, 0xb02b, 0x1, 0x1);
        gbc.writeMem(0x388c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0xb651, gbc.sp());
        EXPECT(0x388e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 034C
        gbc.setState(0xe1ea, 0x619e, 0xa570, 0xda3e, 0x63f8, 0x5811, 0x1, 0x1);
        gbc.writeMem(0xe1ea, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x619e, gbc.sp());
        EXPECT(0xe1ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe1ea));
        EXPECT(0xa, gbc.readMem(0xe1eb));
        // CB 0A 034D
        gbc.setState(0x36fa, 0x7c8a, 0x21a0, 0x714f, 0x3eb7, 0xbb07, 0x0, 0x0);
        gbc.writeMem(0x36fa, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x7c8a, gbc.sp());
        EXPECT(0x36fc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 034E
        gbc.setState(0xbf9e, 0xa945, 0x18d0, 0xe2f7, 0x7b13, 0x79e3, 0x1, 0x1);
        gbc.writeMem(0xbf9e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xa945, gbc.sp());
        EXPECT(0xbfa0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbf9e));
        EXPECT(0xa, gbc.readMem(0xbf9f));
        // CB 0A 034F
        gbc.setState(0x299d, 0x274f, 0xbcd0, 0x4ff2, 0xc97c, 0x4db7, 0x1, 0x1);
        gbc.writeMem(0x299d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x274f, gbc.sp());
        EXPECT(0x299f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0350
        gbc.setState(0x428e, 0xb3a9, 0xf2f0, 0xb392, 0x88fc, 0x585d, 0x0, 0x0);
        gbc.writeMem(0x428e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xb3a9, gbc.sp());
        EXPECT(0x4290, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0351
        gbc.setState(0x575, 0xce9d, 0xf80, 0x3c59, 0x4025, 0x6473, 0x1, 0x0);
        gbc.writeMem(0x575, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xce9d, gbc.sp());
        EXPECT(0x577, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0352
        gbc.setState(0xe5d5, 0x702c, 0x8020, 0x13cd, 0x124b, 0x620d, 0x0, 0x0);
        gbc.writeMem(0xe5d5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x702c, gbc.sp());
        EXPECT(0xe5d7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe5d5));
        EXPECT(0xa, gbc.readMem(0xe5d6));
        // CB 0A 0353
        gbc.setState(0x1daf, 0x6f1d, 0x9520, 0xd5ff, 0xe989, 0x7e15, 0x1, 0x1);
        gbc.writeMem(0x1daf, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x6f1d, gbc.sp());
        EXPECT(0x1db1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0354
        gbc.setState(0xaaf9, 0x39e4, 0xc790, 0x5885, 0xf08c, 0x2918, 0x0, 0x0);
        gbc.writeMem(0xaaf9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x39e4, gbc.sp());
        EXPECT(0xaafb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaaf9));
        EXPECT(0xa, gbc.readMem(0xaafa));
        // CB 0A 0355
        gbc.setState(0x9112, 0xc98f, 0x7b0, 0xd5a, 0xace6, 0x1ce6, 0x1, 0x0);
        gbc.writeMem(0x9112, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xc98f, gbc.sp());
        EXPECT(0x9114, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9112));
        EXPECT(0xa, gbc.readMem(0x9113));
        // CB 0A 0356
        gbc.setState(0x6a54, 0x594f, 0x28b0, 0xa530, 0x81, 0xaae5, 0x1, 0x1);
        gbc.writeMem(0x6a54, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0x594f, gbc.sp());
        EXPECT(0x6a56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0357
        gbc.setState(0x87e9, 0x3621, 0x3810, 0x5a0e, 0xf9a, 0x6d9d, 0x0, 0x0);
        gbc.writeMem(0x87e9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x3621, gbc.sp());
        EXPECT(0x87eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x87e9));
        EXPECT(0xa, gbc.readMem(0x87ea));
        // CB 0A 0358
        gbc.setState(0x7e98, 0x2482, 0xcf40, 0x2147, 0x549e, 0x80c1, 0x0, 0x1);
        gbc.writeMem(0x7e98, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x2482, gbc.sp());
        EXPECT(0x7e9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0359
        gbc.setState(0x8b0e, 0xcafd, 0x3520, 0xeb7d, 0xa139, 0x52e5, 0x1, 0x0);
        gbc.writeMem(0x8b0e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xcafd, gbc.sp());
        EXPECT(0x8b10, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b0e));
        EXPECT(0xa, gbc.readMem(0x8b0f));
        // CB 0A 035A
        gbc.setState(0x200, 0xc138, 0xa560, 0xadfd, 0x98d1, 0xcb0c, 0x0, 0x1);
        gbc.writeMem(0x200, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xc138, gbc.sp());
        EXPECT(0x202, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 035B
        gbc.setState(0x9937, 0xac21, 0x3a20, 0x354d, 0x2a75, 0x333c, 0x1, 0x0);
        gbc.writeMem(0x9937, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xac21, gbc.sp());
        EXPECT(0x9939, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9937));
        EXPECT(0xa, gbc.readMem(0x9938));
        // CB 0A 035C
        gbc.setState(0xb751, 0xfe9b, 0xa830, 0x4617, 0xe0a8, 0xc12e, 0x1, 0x1);
        gbc.writeMem(0xb751, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x46, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xfe9b, gbc.sp());
        EXPECT(0xb753, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb751));
        EXPECT(0xa, gbc.readMem(0xb752));
        // CB 0A 035D
        gbc.setState(0xe927, 0xeac3, 0x7630, 0x7636, 0xccff, 0x123e, 0x1, 0x1);
        gbc.writeMem(0xe927, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0xeac3, gbc.sp());
        EXPECT(0xe929, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe927));
        EXPECT(0xa, gbc.readMem(0xe928));
        // CB 0A 035E
        gbc.setState(0xd979, 0xdc3a, 0x1490, 0x5794, 0xe9d6, 0x3a6b, 0x1, 0x1);
        gbc.writeMem(0xd979, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xdc3a, gbc.sp());
        EXPECT(0xd97b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd979));
        EXPECT(0xa, gbc.readMem(0xd97a));
        // CB 0A 035F
        gbc.setState(0x5e9d, 0x9557, 0x1df0, 0x4298, 0x3a94, 0x79f8, 0x0, 0x0);
        gbc.writeMem(0x5e9d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x42, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x9557, gbc.sp());
        EXPECT(0x5e9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0360
        gbc.setState(0xa35, 0x3678, 0x1ad0, 0x8874, 0xeaf1, 0x53dc, 0x1, 0x1);
        gbc.writeMem(0xa35, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x3678, gbc.sp());
        EXPECT(0xa37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0361
        gbc.setState(0x11e5, 0x50a9, 0xfb60, 0x2e44, 0x42bb, 0x428b, 0x0, 0x0);
        gbc.writeMem(0x11e5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x50a9, gbc.sp());
        EXPECT(0x11e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0362
        gbc.setState(0xb5fa, 0x6a1f, 0x6910, 0x7df1, 0x3ee8, 0x42b0, 0x1, 0x0);
        gbc.writeMem(0xb5fa, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x6a1f, gbc.sp());
        EXPECT(0xb5fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb5fa));
        EXPECT(0xa, gbc.readMem(0xb5fb));
        // CB 0A 0363
        gbc.setState(0x4f82, 0x56a5, 0x9ba0, 0xf67, 0x5a13, 0x11ed, 0x0, 0x1);
        gbc.writeMem(0x4f82, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x56a5, gbc.sp());
        EXPECT(0x4f84, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0364
        gbc.setState(0x3851, 0x8e17, 0xd440, 0x3c93, 0x7e2a, 0xceea, 0x0, 0x1);
        gbc.writeMem(0x3851, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x3f, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x8e17, gbc.sp());
        EXPECT(0x3853, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0365
        gbc.setState(0x40f1, 0x5031, 0xd4b0, 0x7d04, 0x2c5e, 0xd3b5, 0x1, 0x0);
        gbc.writeMem(0x40f1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x5031, gbc.sp());
        EXPECT(0x40f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0366
        gbc.setState(0xefc8, 0x7105, 0x120, 0x1103, 0x566c, 0x3cad, 0x1, 0x1);
        gbc.writeMem(0xefc8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x7105, gbc.sp());
        EXPECT(0xefca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xefc8));
        EXPECT(0xa, gbc.readMem(0xefc9));
        // CB 0A 0367
        gbc.setState(0x5c63, 0x6004, 0x6b60, 0xae6b, 0x21e2, 0x33f0, 0x0, 0x0);
        gbc.writeMem(0x5c63, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6b, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x6004, gbc.sp());
        EXPECT(0x5c65, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0368
        gbc.setState(0x9acf, 0x114f, 0xff0, 0xecfc, 0x8314, 0x35d, 0x1, 0x0);
        gbc.writeMem(0x9acf, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x114f, gbc.sp());
        EXPECT(0x9ad1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9acf));
        EXPECT(0xa, gbc.readMem(0x9ad0));
        // CB 0A 0369
        gbc.setState(0x2963, 0x228f, 0x2bc0, 0x2dff, 0xb278, 0x6bba, 0x1, 0x1);
        gbc.writeMem(0x2963, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x228f, gbc.sp());
        EXPECT(0x2965, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 036B
        gbc.setState(0x966b, 0x8d48, 0xb9f0, 0x2fa9, 0xd264, 0xbbdb, 0x0, 0x0);
        gbc.writeMem(0x966b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x2f, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x8d48, gbc.sp());
        EXPECT(0x966d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x966b));
        EXPECT(0xa, gbc.readMem(0x966c));
        // CB 0A 036C
        gbc.setState(0x9f57, 0x1a40, 0xbb80, 0x71a8, 0x54ad, 0x20d5, 0x1, 0x0);
        gbc.writeMem(0x9f57, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x1a40, gbc.sp());
        EXPECT(0x9f59, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f57));
        EXPECT(0xa, gbc.readMem(0x9f58));
        // CB 0A 036D
        gbc.setState(0x6a44, 0x87c6, 0x46a0, 0x3536, 0xd7cc, 0x28e2, 0x0, 0x0);
        gbc.writeMem(0x6a44, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x87c6, gbc.sp());
        EXPECT(0x6a46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 036E
        gbc.setState(0x3945, 0xa8e8, 0x4fb0, 0xe065, 0x5842, 0x4414, 0x0, 0x0);
        gbc.writeMem(0x3945, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xa8e8, gbc.sp());
        EXPECT(0x3947, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 036F
        gbc.setState(0x2dc, 0x9457, 0x1090, 0x7a94, 0xc231, 0x9e62, 0x1, 0x0);
        gbc.writeMem(0x2dc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x9457, gbc.sp());
        EXPECT(0x2de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0370
        gbc.setState(0xac, 0x2994, 0x79d0, 0xd05d, 0xf8cf, 0x7cb7, 0x0, 0x1);
        gbc.writeMem(0xac, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0x2994, gbc.sp());
        EXPECT(0xae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0371
        gbc.setState(0xe4da, 0x26e2, 0x2050, 0x2612, 0x79f0, 0x598a, 0x1, 0x1);
        gbc.writeMem(0xe4da, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x26e2, gbc.sp());
        EXPECT(0xe4dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe4da));
        EXPECT(0xa, gbc.readMem(0xe4db));
        // CB 0A 0372
        gbc.setState(0xe207, 0xf40e, 0x1de0, 0x4a07, 0x2998, 0x329e, 0x1, 0x1);
        gbc.writeMem(0xe207, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xf40e, gbc.sp());
        EXPECT(0xe209, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe207));
        EXPECT(0xa, gbc.readMem(0xe208));
        // CB 0A 0373
        gbc.setState(0xbef, 0x3dc7, 0x3ed0, 0xab7f, 0x5715, 0xf0ad, 0x1, 0x0);
        gbc.writeMem(0xbef, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x3dc7, gbc.sp());
        EXPECT(0xbf1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0374
        gbc.setState(0x60e5, 0x360d, 0xe2c0, 0x93f5, 0xc8f0, 0x14ef, 0x0, 0x1);
        gbc.writeMem(0x60e5, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x360d, gbc.sp());
        EXPECT(0x60e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0375
        gbc.setState(0x733b, 0x83eb, 0x30d0, 0x58db, 0x74e4, 0x4cb, 0x0, 0x1);
        gbc.writeMem(0x733b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x83eb, gbc.sp());
        EXPECT(0x733d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0376
        gbc.setState(0x61f7, 0xf317, 0x7800, 0x489c, 0x1e51, 0xc6e9, 0x0, 0x0);
        gbc.writeMem(0x61f7, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xf317, gbc.sp());
        EXPECT(0x61f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0377
        gbc.setState(0xb270, 0x9db8, 0xfcd0, 0x5b86, 0x6142, 0x6d3c, 0x1, 0x0);
        gbc.writeMem(0xb270, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x9db8, gbc.sp());
        EXPECT(0xb272, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb270));
        EXPECT(0xa, gbc.readMem(0xb271));
        // CB 0A 0378
        gbc.setState(0xb780, 0x710b, 0x18f0, 0xe3be, 0xd1a9, 0x423c, 0x0, 0x0);
        gbc.writeMem(0xb780, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x710b, gbc.sp());
        EXPECT(0xb782, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb780));
        EXPECT(0xa, gbc.readMem(0xb781));
        // CB 0A 0379
        gbc.setState(0x1860, 0x32f5, 0x6c80, 0x9457, 0xe978, 0x77f, 0x1, 0x1);
        gbc.writeMem(0x1860, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x32f5, gbc.sp());
        EXPECT(0x1862, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 037A
        gbc.setState(0xcf46, 0x81fe, 0x9cb0, 0x336b, 0xef69, 0x2edc, 0x1, 0x0);
        gbc.writeMem(0xcf46, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x81fe, gbc.sp());
        EXPECT(0xcf48, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xcf46));
        EXPECT(0xa, gbc.readMem(0xcf47));
        // CB 0A 037B
        gbc.setState(0x1586, 0x4b62, 0x4640, 0x1ccd, 0xda30, 0x48b5, 0x0, 0x1);
        gbc.writeMem(0x1586, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x4b62, gbc.sp());
        EXPECT(0x1588, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 037C
        gbc.setState(0x785b, 0xa65e, 0x8420, 0xfd48, 0x8039, 0xc4b5, 0x1, 0x0);
        gbc.writeMem(0x785b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xa65e, gbc.sp());
        EXPECT(0x785d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 037D
        gbc.setState(0x25d0, 0x8149, 0x2ea0, 0x363a, 0xb825, 0x41ca, 0x1, 0x0);
        gbc.writeMem(0x25d0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x8149, gbc.sp());
        EXPECT(0x25d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 037E
        gbc.setState(0x3b3c, 0x5d14, 0x7930, 0x9193, 0x949e, 0x9a08, 0x1, 0x1);
        gbc.writeMem(0x3b3c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x5d14, gbc.sp());
        EXPECT(0x3b3e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 037F
        gbc.setState(0x9762, 0x2ccd, 0x8670, 0x6b02, 0xfe09, 0xc010, 0x0, 0x1);
        gbc.writeMem(0x9762, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x86, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x2ccd, gbc.sp());
        EXPECT(0x9764, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9762));
        EXPECT(0xa, gbc.readMem(0x9763));
        // CB 0A 0380
        gbc.setState(0x25c8, 0x689d, 0x2c60, 0x607d, 0x2c77, 0xe48a, 0x0, 0x0);
        gbc.writeMem(0x25c8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x689d, gbc.sp());
        EXPECT(0x25ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0381
        gbc.setState(0x76f3, 0x6e8, 0xb340, 0xd7e, 0xf829, 0x393d, 0x1, 0x1);
        gbc.writeMem(0x76f3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0x3d, gbc.l());
        EXPECT(0x6e8, gbc.sp());
        EXPECT(0x76f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0382
        gbc.setState(0x683, 0xd5cd, 0x2940, 0x86ba, 0x55b2, 0xc719, 0x1, 0x1);
        gbc.writeMem(0x683, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xd5cd, gbc.sp());
        EXPECT(0x685, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0384
        gbc.setState(0x5a40, 0xe821, 0x640, 0xd22d, 0x537e, 0x9da, 0x1, 0x1);
        gbc.writeMem(0x5a40, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0xe821, gbc.sp());
        EXPECT(0x5a42, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0385
        gbc.setState(0xafca, 0x6e2c, 0x7cc0, 0x9fd0, 0xe6f2, 0xf821, 0x1, 0x1);
        gbc.writeMem(0xafca, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x6e2c, gbc.sp());
        EXPECT(0xafcc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xafca));
        EXPECT(0xa, gbc.readMem(0xafcb));
        // CB 0A 0386
        gbc.setState(0x62cf, 0xc0c8, 0xf950, 0x1c3, 0x7f39, 0x5e4f, 0x1, 0x0);
        gbc.writeMem(0x62cf, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xc0c8, gbc.sp());
        EXPECT(0x62d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0388
        gbc.setState(0x12dd, 0x373e, 0xb2f0, 0x4bc1, 0x20c5, 0x7c5d, 0x1, 0x1);
        gbc.writeMem(0x12dd, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0x373e, gbc.sp());
        EXPECT(0x12df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 038A
        gbc.setState(0x61d8, 0x6c90, 0x7f60, 0x2ae9, 0xa57, 0x18b, 0x0, 0x0);
        gbc.writeMem(0x61d8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x6c90, gbc.sp());
        EXPECT(0x61da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 038B
        gbc.setState(0x9d03, 0xaf3, 0x60, 0x8f28, 0x4ad0, 0xc54e, 0x1, 0x1);
        gbc.writeMem(0x9d03, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xaf3, gbc.sp());
        EXPECT(0x9d05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9d03));
        EXPECT(0xa, gbc.readMem(0x9d04));
        // CB 0A 038C
        gbc.setState(0x8a04, 0x8483, 0x46e0, 0x364c, 0xd9e2, 0x27e, 0x0, 0x1);
        gbc.writeMem(0x8a04, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x8483, gbc.sp());
        EXPECT(0x8a06, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8a04));
        EXPECT(0xa, gbc.readMem(0x8a05));
        // CB 0A 038D
        gbc.setState(0xdf9a, 0xcc91, 0x4e00, 0xbfb4, 0x375a, 0x64ee, 0x0, 0x0);
        gbc.writeMem(0xdf9a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xcc91, gbc.sp());
        EXPECT(0xdf9c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdf9a));
        EXPECT(0xa, gbc.readMem(0xdf9b));
        // CB 0A 038F
        gbc.setState(0xc85b, 0x90fc, 0xf3e0, 0x3969, 0x8134, 0x419f, 0x1, 0x1);
        gbc.writeMem(0xc85b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x90fc, gbc.sp());
        EXPECT(0xc85d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc85b));
        EXPECT(0xa, gbc.readMem(0xc85c));
        // CB 0A 0390
        gbc.setState(0x385b, 0x4523, 0x1370, 0x4e69, 0x3986, 0xe284, 0x0, 0x1);
        gbc.writeMem(0x385b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x4e, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x4523, gbc.sp());
        EXPECT(0x385d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0392
        gbc.setState(0x1a47, 0x6260, 0x3d90, 0xd637, 0x1c03, 0xcf17, 0x0, 0x1);
        gbc.writeMem(0x1a47, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x6260, gbc.sp());
        EXPECT(0x1a49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0393
        gbc.setState(0x16b9, 0x3fa4, 0x1900, 0xbef3, 0x9d9e, 0x735a, 0x1, 0x1);
        gbc.writeMem(0x16b9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x3fa4, gbc.sp());
        EXPECT(0x16bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0394
        gbc.setState(0x808c, 0xd7a7, 0x7a00, 0xce54, 0x7baf, 0xd96c, 0x0, 0x0);
        gbc.writeMem(0x808c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xaf, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xd7a7, gbc.sp());
        EXPECT(0x808e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x808c));
        EXPECT(0xa, gbc.readMem(0x808d));
        // CB 0A 0395
        gbc.setState(0x70f6, 0xb4b2, 0xc130, 0x496e, 0x808f, 0xa78e, 0x1, 0x0);
        gbc.writeMem(0x70f6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0xb4b2, gbc.sp());
        EXPECT(0x70f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0396
        gbc.setState(0x673c, 0x5703, 0xbe80, 0x2a5b, 0x691e, 0xb885, 0x1, 0x1);
        gbc.writeMem(0x673c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x5703, gbc.sp());
        EXPECT(0x673e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 0397
        gbc.setState(0x3660, 0xaa3f, 0x2500, 0xb89c, 0x1e8a, 0x1c41, 0x0, 0x0);
        gbc.writeMem(0x3660, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xaa3f, gbc.sp());
        EXPECT(0x3662, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 0398
        gbc.setState(0xda41, 0x677d, 0x8760, 0xbdf6, 0x5bbe, 0x990b, 0x0, 0x1);
        gbc.writeMem(0xda41, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x677d, gbc.sp());
        EXPECT(0xda43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda41));
        EXPECT(0xa, gbc.readMem(0xda42));
        // CB 0A 0399
        gbc.setState(0x132b, 0xa1c0, 0x3e20, 0xc24c, 0x3991, 0xb14f, 0x0, 0x1);
        gbc.writeMem(0x132b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xa1c0, gbc.sp());
        EXPECT(0x132d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 039A
        gbc.setState(0x771c, 0x3b44, 0x7b60, 0x8f0, 0xefb3, 0x754e, 0x0, 0x0);
        gbc.writeMem(0x771c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x3b44, gbc.sp());
        EXPECT(0x771e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 039B
        gbc.setState(0xa7ae, 0xf2f5, 0x92d0, 0x5032, 0xc150, 0xae13, 0x0, 0x0);
        gbc.writeMem(0xa7ae, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xf2f5, gbc.sp());
        EXPECT(0xa7b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa7ae));
        EXPECT(0xa, gbc.readMem(0xa7af));
        // CB 0A 039C
        gbc.setState(0x7911, 0xb751, 0xcc70, 0x2bf2, 0xfdfc, 0x874f, 0x1, 0x0);
        gbc.writeMem(0x7911, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xb751, gbc.sp());
        EXPECT(0x7913, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 039D
        gbc.setState(0x4477, 0xf2d5, 0xd920, 0xd27c, 0x2024, 0x421d, 0x1, 0x1);
        gbc.writeMem(0x4477, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xf2d5, gbc.sp());
        EXPECT(0x4479, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 039E
        gbc.setState(0x8d60, 0x398d, 0xb090, 0xdaf, 0xd157, 0xc6ee, 0x1, 0x0);
        gbc.writeMem(0x8d60, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x398d, gbc.sp());
        EXPECT(0x8d62, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8d60));
        EXPECT(0xa, gbc.readMem(0x8d61));
        // CB 0A 039F
        gbc.setState(0x4184, 0x69c4, 0x42a0, 0x901c, 0xb671, 0x3590, 0x0, 0x1);
        gbc.writeMem(0x4184, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x69c4, gbc.sp());
        EXPECT(0x4186, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03A0
        gbc.setState(0x4f1b, 0xcccf, 0x8900, 0x3e40, 0xa805, 0xbb21, 0x1, 0x1);
        gbc.writeMem(0x4f1b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xcccf, gbc.sp());
        EXPECT(0x4f1d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03A1
        gbc.setState(0x25a9, 0x2d52, 0xdc40, 0x8c3f, 0xc18, 0x6e0c, 0x1, 0x0);
        gbc.writeMem(0x25a9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x2d52, gbc.sp());
        EXPECT(0x25ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03A2
        gbc.setState(0xc505, 0xf308, 0x1100, 0xbe6c, 0x922a, 0xb151, 0x0, 0x1);
        gbc.writeMem(0xc505, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xf308, gbc.sp());
        EXPECT(0xc507, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc505));
        EXPECT(0xa, gbc.readMem(0xc506));
        // CB 0A 03A3
        gbc.setState(0x6ead, 0x55ab, 0x1e40, 0x2205, 0x2789, 0xcf90, 0x1, 0x0);
        gbc.writeMem(0x6ead, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x55ab, gbc.sp());
        EXPECT(0x6eaf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03A4
        gbc.setState(0xd117, 0xeb0e, 0x4450, 0x9b68, 0x9ae6, 0x881b, 0x1, 0x1);
        gbc.writeMem(0xd117, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x4d, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xeb0e, gbc.sp());
        EXPECT(0xd119, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd117));
        EXPECT(0xa, gbc.readMem(0xd118));
        // CB 0A 03A5
        gbc.setState(0x62dc, 0x4846, 0xd620, 0x7a7, 0xebdd, 0x6958, 0x0, 0x1);
        gbc.writeMem(0x62dc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x4846, gbc.sp());
        EXPECT(0x62de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03A6
        gbc.setState(0x2aa9, 0x3f50, 0x2d90, 0x1e62, 0x7ba2, 0x9093, 0x1, 0x1);
        gbc.writeMem(0x2aa9, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x3f50, gbc.sp());
        EXPECT(0x2aab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03A7
        gbc.setState(0xc1f8, 0xe678, 0x6ec0, 0x5e52, 0xda47, 0xca63, 0x1, 0x0);
        gbc.writeMem(0xc1f8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xe678, gbc.sp());
        EXPECT(0xc1fa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc1f8));
        EXPECT(0xa, gbc.readMem(0xc1f9));
        // CB 0A 03A8
        gbc.setState(0xc515, 0xee57, 0xdd50, 0xa25f, 0x223f, 0xb936, 0x0, 0x1);
        gbc.writeMem(0xc515, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xa2, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xee57, gbc.sp());
        EXPECT(0xc517, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc515));
        EXPECT(0xa, gbc.readMem(0xc516));
        // CB 0A 03A9
        gbc.setState(0x6d90, 0xd426, 0xd770, 0x9c9e, 0x6814, 0xb725, 0x1, 0x1);
        gbc.writeMem(0x6d90, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0xd426, gbc.sp());
        EXPECT(0x6d92, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03AA
        gbc.setState(0x2df0, 0x9423, 0x51c0, 0xfd44, 0x20f8, 0x451, 0x0, 0x1);
        gbc.writeMem(0x2df0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x9423, gbc.sp());
        EXPECT(0x2df2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03AB
        gbc.setState(0x68ab, 0x920f, 0x2dd0, 0x6f83, 0xc469, 0xe61f, 0x1, 0x1);
        gbc.writeMem(0x68ab, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x920f, gbc.sp());
        EXPECT(0x68ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03AC
        gbc.setState(0xc3cc, 0x7446, 0xc690, 0xa315, 0x1fe5, 0x4ecc, 0x0, 0x1);
        gbc.writeMem(0xc3cc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x7446, gbc.sp());
        EXPECT(0xc3ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc3cc));
        EXPECT(0xa, gbc.readMem(0xc3cd));
        // CB 0A 03AD
        gbc.setState(0xc420, 0x31c9, 0xc340, 0x2876, 0xe626, 0x6384, 0x0, 0x0);
        gbc.writeMem(0xc420, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0x31c9, gbc.sp());
        EXPECT(0xc422, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc420));
        EXPECT(0xa, gbc.readMem(0xc421));
        // CB 0A 03AE
        gbc.setState(0x952, 0x4f90, 0xa6c0, 0x9197, 0x2179, 0x9cea, 0x1, 0x1);
        gbc.writeMem(0x952, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x4f90, gbc.sp());
        EXPECT(0x954, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03AF
        gbc.setState(0x5c40, 0x3823, 0xf370, 0x9dfe, 0x5e20, 0x75e4, 0x1, 0x0);
        gbc.writeMem(0x5c40, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0x3823, gbc.sp());
        EXPECT(0x5c42, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03B0
        gbc.setState(0x4c57, 0xade6, 0xdd50, 0x97ce, 0x51ad, 0xf0c5, 0x0, 0x1);
        gbc.writeMem(0x4c57, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0xade6, gbc.sp());
        EXPECT(0x4c59, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03B1
        gbc.setState(0xfff, 0x36c4, 0xe640, 0x7845, 0x3d31, 0x84f1, 0x1, 0x1);
        gbc.writeMem(0xfff, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x36c4, gbc.sp());
        EXPECT(0x1001, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03B2
        gbc.setState(0xd7fb, 0x46ae, 0x8350, 0x7c75, 0xcc6b, 0x3795, 0x0, 0x1);
        gbc.writeMem(0xd7fb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x46ae, gbc.sp());
        EXPECT(0xd7fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd7fb));
        EXPECT(0xa, gbc.readMem(0xd7fc));
        // CB 0A 03B3
        gbc.setState(0x9f01, 0x369, 0x62c0, 0xdc4b, 0x6a0f, 0x77d9, 0x1, 0x1);
        gbc.writeMem(0x9f01, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x4b, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x369, gbc.sp());
        EXPECT(0x9f03, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9f01));
        EXPECT(0xa, gbc.readMem(0x9f02));
        // CB 0A 03B4
        gbc.setState(0x255d, 0xa963, 0xd2e0, 0x489e, 0xcafb, 0x8be5, 0x1, 0x0);
        gbc.writeMem(0x255d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xa963, gbc.sp());
        EXPECT(0x255f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03B5
        gbc.setState(0x2689, 0x71dd, 0x61f0, 0xefd, 0x2231, 0x992c, 0x0, 0x0);
        gbc.writeMem(0x2689, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x71dd, gbc.sp());
        EXPECT(0x268b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03B6
        gbc.setState(0x943d, 0xd6d9, 0x8ea0, 0xc55e, 0xdfc9, 0x6d4e, 0x1, 0x1);
        gbc.writeMem(0x943d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xd6d9, gbc.sp());
        EXPECT(0x943f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x943d));
        EXPECT(0xa, gbc.readMem(0x943e));
        // CB 0A 03B7
        gbc.setState(0x21f3, 0xc1ad, 0xbf00, 0x621, 0x8f22, 0x51ce, 0x0, 0x0);
        gbc.writeMem(0x21f3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xc1ad, gbc.sp());
        EXPECT(0x21f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03B8
        gbc.setState(0x9c8a, 0x22d2, 0xbe60, 0x484c, 0x5732, 0xe03f, 0x1, 0x0);
        gbc.writeMem(0x9c8a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x22d2, gbc.sp());
        EXPECT(0x9c8c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x9c8a));
        EXPECT(0xa, gbc.readMem(0x9c8b));
        // CB 0A 03B9
        gbc.setState(0xa8a, 0xc18f, 0x8ac0, 0x1b57, 0xf2b0, 0x4f81, 0x0, 0x1);
        gbc.writeMem(0xa8a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xc18f, gbc.sp());
        EXPECT(0xa8c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03BA
        gbc.setState(0xdcf8, 0x4ebc, 0x5ea0, 0x6058, 0xec70, 0x72ff, 0x0, 0x1);
        gbc.writeMem(0xdcf8, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x4ebc, gbc.sp());
        EXPECT(0xdcfa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xdcf8));
        EXPECT(0xa, gbc.readMem(0xdcf9));
        // CB 0A 03BC
        gbc.setState(0x185e, 0xd5b5, 0xc00, 0xc017, 0x29a2, 0x52b6, 0x1, 0x0);
        gbc.writeMem(0x185e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xd5b5, gbc.sp());
        EXPECT(0x1860, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03BD
        gbc.setState(0xa052, 0x9933, 0x61d0, 0x8dea, 0xc8a4, 0x4482, 0x1, 0x1);
        gbc.writeMem(0xa052, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x9933, gbc.sp());
        EXPECT(0xa054, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xa052));
        EXPECT(0xa, gbc.readMem(0xa053));
        // CB 0A 03BE
        gbc.setState(0x29eb, 0x4aaa, 0x51a0, 0xa515, 0xec0f, 0x3891, 0x1, 0x0);
        gbc.writeMem(0x29eb, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x4aaa, gbc.sp());
        EXPECT(0x29ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03BF
        gbc.setState(0x85c3, 0xa552, 0x72c0, 0x30d9, 0xa657, 0x6b10, 0x0, 0x0);
        gbc.writeMem(0x85c3, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xa552, gbc.sp());
        EXPECT(0x85c5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x85c3));
        EXPECT(0xa, gbc.readMem(0x85c4));
        // CB 0A 03C0
        gbc.setState(0xd6c, 0x396e, 0xa640, 0x6f8, 0x271c, 0xd9ec, 0x0, 0x1);
        gbc.writeMem(0xd6c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x396e, gbc.sp());
        EXPECT(0xd6e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03C1
        gbc.setState(0x2b70, 0xccba, 0x7c40, 0x11db, 0xf8b4, 0x90a9, 0x0, 0x0);
        gbc.writeMem(0x2b70, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0xccba, gbc.sp());
        EXPECT(0x2b72, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03C2
        gbc.setState(0x204b, 0x89cd, 0xe430, 0x53b4, 0x6766, 0xbc41, 0x1, 0x1);
        gbc.writeMem(0x204b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x89cd, gbc.sp());
        EXPECT(0x204d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03C3
        gbc.setState(0x59fc, 0xd0db, 0x1e40, 0xc555, 0x2fcd, 0xa3f6, 0x1, 0x0);
        gbc.writeMem(0x59fc, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x55, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0xd0db, gbc.sp());
        EXPECT(0x59fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03C4
        gbc.setState(0x25f6, 0xfbfe, 0xee70, 0xe6d6, 0x2fd1, 0x7267, 0x1, 0x1);
        gbc.writeMem(0x25f6, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xfbfe, gbc.sp());
        EXPECT(0x25f8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03C5
        gbc.setState(0x5caa, 0x758e, 0x2970, 0x24cf, 0xd37d, 0x8f24, 0x0, 0x0);
        gbc.writeMem(0x5caa, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x758e, gbc.sp());
        EXPECT(0x5cac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03C6
        gbc.setState(0xaf06, 0x6a55, 0x75c0, 0x7a21, 0xb1fc, 0x5b71, 0x0, 0x1);
        gbc.writeMem(0xaf06, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x5b, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x6a55, gbc.sp());
        EXPECT(0xaf08, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xaf06));
        EXPECT(0xa, gbc.readMem(0xaf07));
        // CB 0A 03C8
        gbc.setState(0xc90b, 0x5728, 0xf3d0, 0x1ce6, 0xfd1d, 0x5c0e, 0x0, 0x1);
        gbc.writeMem(0xc90b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x5728, gbc.sp());
        EXPECT(0xc90d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc90b));
        EXPECT(0xa, gbc.readMem(0xc90c));
        // CB 0A 03C9
        gbc.setState(0xc152, 0x363, 0x7a50, 0x51c0, 0xc105, 0x19ae, 0x0, 0x0);
        gbc.writeMem(0xc152, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x363, gbc.sp());
        EXPECT(0xc154, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc152));
        EXPECT(0xa, gbc.readMem(0xc153));
        // CB 0A 03CA
        gbc.setState(0xad49, 0x7a1a, 0x2080, 0xef1f, 0x3f55, 0xba98, 0x1, 0x0);
        gbc.writeMem(0xad49, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x7a1a, gbc.sp());
        EXPECT(0xad4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xad49));
        EXPECT(0xa, gbc.readMem(0xad4a));
        // CB 0A 03CB
        gbc.setState(0x6e96, 0x94c4, 0x5590, 0x17de, 0x5682, 0xa9d9, 0x1, 0x1);
        gbc.writeMem(0x6e96, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x94c4, gbc.sp());
        EXPECT(0x6e98, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03CC
        gbc.setState(0x247b, 0x7c53, 0xc040, 0x9ff5, 0x2f22, 0x8105, 0x1, 0x1);
        gbc.writeMem(0x247b, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x7c53, gbc.sp());
        EXPECT(0x247d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03CD
        gbc.setState(0xbd7e, 0xdb24, 0xc4c0, 0xc0bb, 0x610a, 0xdec9, 0x0, 0x0);
        gbc.writeMem(0xbd7e, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xdb24, gbc.sp());
        EXPECT(0xbd80, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd7e));
        EXPECT(0xa, gbc.readMem(0xbd7f));
        // CB 0A 03CE
        gbc.setState(0x4a95, 0x40c3, 0xe7d0, 0x64ac, 0xace3, 0xf1a3, 0x1, 0x0);
        gbc.writeMem(0x4a95, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0x40c3, gbc.sp());
        EXPECT(0x4a97, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03CF
        gbc.setState(0xd801, 0x1eee, 0xd2a0, 0x32d2, 0x3db7, 0x3f7, 0x0, 0x1);
        gbc.writeMem(0xd801, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x3, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x1eee, gbc.sp());
        EXPECT(0xd803, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd801));
        EXPECT(0xa, gbc.readMem(0xd802));
        // CB 0A 03D0
        gbc.setState(0x279a, 0x3a9f, 0x40, 0x3e1, 0x42d2, 0x893b, 0x1, 0x0);
        gbc.writeMem(0x279a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x3a9f, gbc.sp());
        EXPECT(0x279c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03D1
        gbc.setState(0xd579, 0x589b, 0xb190, 0x38fb, 0x3f9e, 0xf5bc, 0x0, 0x0);
        gbc.writeMem(0xd579, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x589b, gbc.sp());
        EXPECT(0xd57b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd579));
        EXPECT(0xa, gbc.readMem(0xd57a));
        // CB 0A 03D2
        gbc.setState(0x96c, 0x1f7c, 0xf2c0, 0x3bca, 0xecb4, 0x5cbc, 0x1, 0x1);
        gbc.writeMem(0x96c, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0x1f7c, gbc.sp());
        EXPECT(0x96e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03D3
        gbc.setState(0xe764, 0xd527, 0xde0, 0xd8ed, 0xd584, 0xae39, 0x1, 0x0);
        gbc.writeMem(0xe764, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xd8, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0xd527, gbc.sp());
        EXPECT(0xe766, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe764));
        EXPECT(0xa, gbc.readMem(0xe765));
        // CB 0A 03D4
        gbc.setState(0x8ed1, 0xa740, 0x1000, 0x40e5, 0xa51, 0xd6a3, 0x1, 0x1);
        gbc.writeMem(0x8ed1, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xa740, gbc.sp());
        EXPECT(0x8ed3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8ed1));
        EXPECT(0xa, gbc.readMem(0x8ed2));
        // CB 0A 03D5
        gbc.setState(0x5483, 0xb084, 0x1d20, 0x9a9, 0x3aae, 0x3a9e, 0x0, 0x0);
        gbc.writeMem(0x5483, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0xb084, gbc.sp());
        EXPECT(0x5485, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03D6
        gbc.setState(0xb9d2, 0x9ea9, 0xe5a0, 0x3639, 0x242, 0x53b6, 0x1, 0x0);
        gbc.writeMem(0xb9d2, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x9ea9, gbc.sp());
        EXPECT(0xb9d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb9d2));
        EXPECT(0xa, gbc.readMem(0xb9d3));
        // CB 0A 03D7
        gbc.setState(0x2d31, 0x58e0, 0x60a0, 0xdfca, 0x9908, 0xe46e, 0x1, 0x1);
        gbc.writeMem(0x2d31, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x58e0, gbc.sp());
        EXPECT(0x2d33, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03D8
        gbc.setState(0x5333, 0xc26c, 0x89e0, 0x8bab, 0x6f38, 0xd189, 0x1, 0x0);
        gbc.writeMem(0x5333, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0xc26c, gbc.sp());
        EXPECT(0x5335, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03D9
        gbc.setState(0x3fff, 0x8993, 0x5750, 0xdfda, 0xab5f, 0xb6b3, 0x0, 0x0);
        gbc.writeMem(0x3fff, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x8993, gbc.sp());
        EXPECT(0x4001, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03DA
        gbc.setState(0x747f, 0x9e2f, 0x2a30, 0xe553, 0x4e2a, 0xfa77, 0x0, 0x1);
        gbc.writeMem(0x747f, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x9e2f, gbc.sp());
        EXPECT(0x7481, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03DB
        gbc.setState(0xd92a, 0x5e2a, 0xc620, 0xe982, 0x872d, 0x2792, 0x0, 0x1);
        gbc.writeMem(0xd92a, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x2d, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0x5e2a, gbc.sp());
        EXPECT(0xd92c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd92a));
        EXPECT(0xa, gbc.readMem(0xd92b));
        // CB 0A 03DC
        gbc.setState(0xc327, 0xfddf, 0x54d0, 0x586d, 0xcad2, 0xc7b9, 0x1, 0x0);
        gbc.writeMem(0xc327, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xb9, gbc.l());
        EXPECT(0xfddf, gbc.sp());
        EXPECT(0xc329, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xc327));
        EXPECT(0xa, gbc.readMem(0xc328));
        // CB 0A 03DD
        gbc.setState(0xde84, 0x75e3, 0x3d40, 0x5014, 0x1393, 0xec25, 0x0, 0x1);
        gbc.writeMem(0xde84, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x14, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x75e3, gbc.sp());
        EXPECT(0xde86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xde84));
        EXPECT(0xa, gbc.readMem(0xde85));
        // CB 0A 03DE
        gbc.setState(0xb975, 0x76b9, 0xda70, 0x4b5b, 0xbf6c, 0xe4af, 0x0, 0x1);
        gbc.writeMem(0xb975, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x76b9, gbc.sp());
        EXPECT(0xb977, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb975));
        EXPECT(0xa, gbc.readMem(0xb976));
        // CB 0A 03DF
        gbc.setState(0xe69d, 0x2d90, 0xf1a0, 0x2ba3, 0xa747, 0x870f, 0x0, 0x0);
        gbc.writeMem(0xe69d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0x2d90, gbc.sp());
        EXPECT(0xe69f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xe69d));
        EXPECT(0xa, gbc.readMem(0xe69e));
        // CB 0A 03E0
        gbc.setState(0xd0c0, 0x3d14, 0x3050, 0x117e, 0xf9ad, 0xaec4, 0x0, 0x1);
        gbc.writeMem(0xd0c0, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x3d14, gbc.sp());
        EXPECT(0xd0c2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xd0c0));
        EXPECT(0xa, gbc.readMem(0xd0c1));
        // CB 0A 03E1
        gbc.setState(0x6608, 0xb124, 0xa1e0, 0x4548, 0xbf3e, 0xbb55, 0x0, 0x0);
        gbc.writeMem(0x6608, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xb124, gbc.sp());
        EXPECT(0x660a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // CB 0A 03E2
        gbc.setState(0xee00, 0x193f, 0x17f0, 0x25e8, 0x515, 0x7dff, 0x0, 0x0);
        gbc.writeMem(0xee00, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x193f, gbc.sp());
        EXPECT(0xee02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xee00));
        EXPECT(0xa, gbc.readMem(0xee01));
        // CB 0A 03E3
        gbc.setState(0xbd43, 0xf4ae, 0x6290, 0x6a2d, 0xcaef, 0x5f7f, 0x1, 0x1);
        gbc.writeMem(0xbd43, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xf4ae, gbc.sp());
        EXPECT(0xbd45, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xbd43));
        EXPECT(0xa, gbc.readMem(0xbd44));
        // CB 0A 03E4
        gbc.setState(0xb587, 0x85f9, 0xf8e0, 0xc7f5, 0x2b8e, 0xbeda, 0x1, 0x1);
        gbc.writeMem(0xb587, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xf8, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xbe, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x85f9, gbc.sp());
        EXPECT(0xb589, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xb587));
        EXPECT(0xa, gbc.readMem(0xb588));
        // CB 0A 03E5
        gbc.setState(0x1afa, 0x3405, 0xc4d0, 0x466, 0xf6d4, 0xa4df, 0x1, 0x1);
        gbc.writeMem(0x1afa, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x3405, gbc.sp());
        EXPECT(0x1afc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03E6
        gbc.setState(0x585d, 0x2876, 0x79c0, 0x4940, 0x74d3, 0xae4d, 0x0, 0x1);
        gbc.writeMem(0x585d, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x2876, gbc.sp());
        EXPECT(0x585f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // CB 0A 03E7
        gbc.setState(0x78ed, 0xd8f0, 0x8880, 0xb273, 0x4c98, 0xb414, 0x0, 0x0);
        gbc.writeMem(0x78ed, { 0xcb, 0xa });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xd8f0, gbc.sp());
        EXPECT(0x78ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
    }
