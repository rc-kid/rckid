#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_24)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_24) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 24 0000
        gbc.setState(0x882b, 0x9e29, 0xcd90, 0xe1a3, 0x9501, 0x1683, 0x0, 0x1);
        gbc.writeMem(0x882b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x9e29);
        EXPECT(gbc.pc(), 0x882c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x882b), 0x24);
        // 24 0001
        gbc.setState(0xcd47, 0x3ded, 0x6530, 0x4cbc, 0xa3ed, 0xe4eb, 0x0, 0x1);
        gbc.writeMem(0xcd47, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x3ded);
        EXPECT(gbc.pc(), 0xcd48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd47), 0x24);
        // 24 0002
        gbc.setState(0xaa64, 0xd265, 0x21c0, 0xbac3, 0x3c2c, 0xa43, 0x0, 0x1);
        gbc.writeMem(0xaa64, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xd265);
        EXPECT(gbc.pc(), 0xaa65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa64), 0x24);
        // 24 0003
        gbc.setState(0xdfdd, 0xb51f, 0x4510, 0x1d46, 0x796b, 0x7230, 0x0, 0x0);
        gbc.writeMem(0xdfdd, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xb51f);
        EXPECT(gbc.pc(), 0xdfde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfdd), 0x24);
        // 24 0004
        gbc.setState(0x686a, 0x9425, 0x7330, 0xd9eb, 0x2587, 0x494b, 0x0, 0x1);
        gbc.writeMem(0x686a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x9425);
        EXPECT(gbc.pc(), 0x686b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0005
        gbc.setState(0x2eeb, 0x2d51, 0x5430, 0x26d, 0x57ac, 0x206d, 0x0, 0x0);
        gbc.writeMem(0x2eeb, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x2d51);
        EXPECT(gbc.pc(), 0x2eec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0006
        gbc.setState(0x2c4e, 0xe7e9, 0xaf20, 0xa7c9, 0x93a, 0x90f, 0x0, 0x1);
        gbc.writeMem(0x2c4e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xe7e9);
        EXPECT(gbc.pc(), 0x2c4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0007
        gbc.setState(0x74d6, 0x2e4b, 0xa30, 0x4546, 0xcf3f, 0x473, 0x0, 0x0);
        gbc.writeMem(0x74d6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x2e4b);
        EXPECT(gbc.pc(), 0x74d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0008
        gbc.setState(0x5e1d, 0x5650, 0xfd20, 0x106b, 0xddc5, 0x4803, 0x0, 0x0);
        gbc.writeMem(0x5e1d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x5650);
        EXPECT(gbc.pc(), 0x5e1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0009
        gbc.setState(0xad3e, 0xf4c1, 0x6440, 0xfea4, 0xdc39, 0x1e30, 0x0, 0x1);
        gbc.writeMem(0xad3e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xf4c1);
        EXPECT(gbc.pc(), 0xad3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad3e), 0x24);
        // 24 000A
        gbc.setState(0xdeb3, 0x3eb7, 0x7630, 0x549b, 0x545, 0x38cb, 0x1, 0x0);
        gbc.writeMem(0xdeb3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x3eb7);
        EXPECT(gbc.pc(), 0xdeb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdeb3), 0x24);
        // 24 000C
        gbc.setState(0x5c22, 0x80fe, 0x3880, 0xf635, 0x4bcc, 0x8c8a, 0x1, 0x1);
        gbc.writeMem(0x5c22, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x80fe);
        EXPECT(gbc.pc(), 0x5c23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 000D
        gbc.setState(0x4168, 0x40a6, 0x8090, 0xa322, 0x90f2, 0x46b, 0x0, 0x0);
        gbc.writeMem(0x4168, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x40a6);
        EXPECT(gbc.pc(), 0x4169);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 000E
        gbc.setState(0x5405, 0xeb0d, 0xea60, 0x8fe2, 0xa572, 0xce5e, 0x1, 0x1);
        gbc.writeMem(0x5405, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xeb0d);
        EXPECT(gbc.pc(), 0x5406);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 000F
        gbc.setState(0x4cfc, 0x1959, 0x98e0, 0x3465, 0x7aec, 0x86fa, 0x1, 0x1);
        gbc.writeMem(0x4cfc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x1959);
        EXPECT(gbc.pc(), 0x4cfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0010
        gbc.setState(0xbb59, 0xb730, 0x6500, 0x2c03, 0x5ca9, 0xaa43, 0x0, 0x1);
        gbc.writeMem(0xbb59, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xb730);
        EXPECT(gbc.pc(), 0xbb5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb59), 0x24);
        // 24 0011
        gbc.setState(0x2b1a, 0xe824, 0x9570, 0xc1c0, 0x823f, 0x3b3d, 0x1, 0x0);
        gbc.writeMem(0x2b1a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xe824);
        EXPECT(gbc.pc(), 0x2b1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0012
        gbc.setState(0x196e, 0xa754, 0x9980, 0xd070, 0x5ccf, 0xb8cf, 0x1, 0x1);
        gbc.writeMem(0x196e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xa754);
        EXPECT(gbc.pc(), 0x196f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0013
        gbc.setState(0x6983, 0xeb6f, 0xe870, 0xed15, 0xe5c0, 0xbba4, 0x1, 0x1);
        gbc.writeMem(0x6983, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xeb6f);
        EXPECT(gbc.pc(), 0x6984);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0014
        gbc.setState(0x24c2, 0x9a4, 0x1110, 0x547e, 0x678f, 0x3b13, 0x0, 0x1);
        gbc.writeMem(0x24c2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x9a4);
        EXPECT(gbc.pc(), 0x24c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0015
        gbc.setState(0x1351, 0x203c, 0x97f0, 0xa569, 0xe3fc, 0x2fa6, 0x0, 0x1);
        gbc.writeMem(0x1351, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x203c);
        EXPECT(gbc.pc(), 0x1352);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 0016
        gbc.setState(0x6507, 0xa10b, 0xf970, 0x8fac, 0x4d6d, 0xd2e3, 0x0, 0x0);
        gbc.writeMem(0x6507, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xa10b);
        EXPECT(gbc.pc(), 0x6508);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0017
        gbc.setState(0x6a1e, 0xc3af, 0x4110, 0x2adf, 0x6a1e, 0x2aa1, 0x1, 0x1);
        gbc.writeMem(0x6a1e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xc3af);
        EXPECT(gbc.pc(), 0x6a1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0018
        gbc.setState(0x91cf, 0x7c22, 0x2d10, 0x3ec4, 0xd2bd, 0x174a, 0x0, 0x1);
        gbc.writeMem(0x91cf, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x7c22);
        EXPECT(gbc.pc(), 0x91d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91cf), 0x24);
        // 24 0019
        gbc.setState(0xcb13, 0x2811, 0x17e0, 0x2055, 0x91a8, 0x9398, 0x1, 0x0);
        gbc.writeMem(0xcb13, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x2811);
        EXPECT(gbc.pc(), 0xcb14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb13), 0x24);
        // 24 001A
        gbc.setState(0x232e, 0xd27, 0x68a0, 0xc06c, 0xb9c8, 0x51ff, 0x0, 0x0);
        gbc.writeMem(0x232e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xd27);
        EXPECT(gbc.pc(), 0x232f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 001B
        gbc.setState(0xc31a, 0x818c, 0x2aa0, 0x68d8, 0x74a5, 0x1bf5, 0x0, 0x0);
        gbc.writeMem(0xc31a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x818c);
        EXPECT(gbc.pc(), 0xc31b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc31a), 0x24);
        // 24 001C
        gbc.setState(0xb651, 0x6b62, 0x9880, 0x4113, 0x99b8, 0x9545, 0x1, 0x1);
        gbc.writeMem(0xb651, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x6b62);
        EXPECT(gbc.pc(), 0xb652);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb651), 0x24);
        // 24 001D
        gbc.setState(0xcc7f, 0x646, 0x8e70, 0xf95f, 0xf29e, 0xcbbd, 0x0, 0x1);
        gbc.writeMem(0xcc7f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x646);
        EXPECT(gbc.pc(), 0xcc80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc7f), 0x24);
        // 24 001E
        gbc.setState(0x6f33, 0x24a2, 0x52f0, 0x116d, 0xc7a8, 0x537f, 0x1, 0x1);
        gbc.writeMem(0x6f33, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x24a2);
        EXPECT(gbc.pc(), 0x6f34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 001F
        gbc.setState(0x6dc8, 0xd048, 0xeed0, 0xcb05, 0x9bb9, 0x4210, 0x1, 0x1);
        gbc.writeMem(0x6dc8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xd048);
        EXPECT(gbc.pc(), 0x6dc9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0020
        gbc.setState(0x7d, 0xcbf, 0x6bb0, 0x4743, 0x5568, 0xc2c3, 0x1, 0x0);
        gbc.writeMem(0x7d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xcbf);
        EXPECT(gbc.pc(), 0x7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0021
        gbc.setState(0x7727, 0xe88d, 0x1300, 0x36c4, 0x579c, 0xa6c0, 0x0, 0x1);
        gbc.writeMem(0x7727, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xe88d);
        EXPECT(gbc.pc(), 0x7728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0022
        gbc.setState(0x34fe, 0xef13, 0xd6f0, 0xd79c, 0x93df, 0x81c6, 0x1, 0x0);
        gbc.writeMem(0x34fe, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xef13);
        EXPECT(gbc.pc(), 0x34ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0023
        gbc.setState(0xe816, 0x6e92, 0x2720, 0xcb74, 0x6a55, 0x9208, 0x0, 0x1);
        gbc.writeMem(0xe816, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x6e92);
        EXPECT(gbc.pc(), 0xe817);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe816), 0x24);
        // 24 0024
        gbc.setState(0x8724, 0x98e7, 0x7e90, 0xd0ee, 0x55d, 0x390f, 0x1, 0x0);
        gbc.writeMem(0x8724, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x98e7);
        EXPECT(gbc.pc(), 0x8725);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8724), 0x24);
        // 24 0025
        gbc.setState(0x72c9, 0x54d3, 0x75a0, 0x8db2, 0xf6ac, 0xe97, 0x0, 0x0);
        gbc.writeMem(0x72c9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x54d3);
        EXPECT(gbc.pc(), 0x72ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0026
        gbc.setState(0x16f3, 0xf43e, 0x2950, 0xee35, 0xfa65, 0xb162, 0x1, 0x1);
        gbc.writeMem(0x16f3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf43e);
        EXPECT(gbc.pc(), 0x16f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0027
        gbc.setState(0xc28e, 0xfa1c, 0x2fd0, 0xdebd, 0xe1c6, 0x4325, 0x0, 0x1);
        gbc.writeMem(0xc28e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xfa1c);
        EXPECT(gbc.pc(), 0xc28f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc28e), 0x24);
        // 24 0028
        gbc.setState(0x4ec1, 0x718a, 0xfb10, 0x8a98, 0x2c80, 0xa137, 0x1, 0x1);
        gbc.writeMem(0x4ec1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x718a);
        EXPECT(gbc.pc(), 0x4ec2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0029
        gbc.setState(0x7dc5, 0xd763, 0x5810, 0x4560, 0x512f, 0x55bd, 0x0, 0x0);
        gbc.writeMem(0x7dc5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xd763);
        EXPECT(gbc.pc(), 0x7dc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 002A
        gbc.setState(0x7ee4, 0x23cf, 0xebb0, 0x9e58, 0x95aa, 0xd64b, 0x0, 0x1);
        gbc.writeMem(0x7ee4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x23cf);
        EXPECT(gbc.pc(), 0x7ee5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 002B
        gbc.setState(0x16e7, 0x3f9b, 0xa020, 0x22c, 0xb63d, 0x28c9, 0x1, 0x0);
        gbc.writeMem(0x16e7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x3f9b);
        EXPECT(gbc.pc(), 0x16e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 002C
        gbc.setState(0xcf00, 0x1a53, 0x33f0, 0x47e5, 0x97d7, 0xd972, 0x1, 0x0);
        gbc.writeMem(0xcf00, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x1a53);
        EXPECT(gbc.pc(), 0xcf01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf00), 0x24);
        // 24 002D
        gbc.setState(0xa44c, 0x5e8, 0x88f0, 0x93ba, 0x951, 0xdcd3, 0x1, 0x1);
        gbc.writeMem(0xa44c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x5e8);
        EXPECT(gbc.pc(), 0xa44d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa44c), 0x24);
        // 24 002E
        gbc.setState(0xa87, 0x8405, 0x2b40, 0xb73f, 0xbb33, 0xb0b4, 0x1, 0x1);
        gbc.writeMem(0xa87, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x8405);
        EXPECT(gbc.pc(), 0xa88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 002F
        gbc.setState(0x6152, 0xea58, 0xcab0, 0xf2af, 0x2099, 0x3d3f, 0x0, 0x1);
        gbc.writeMem(0x6152, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xea58);
        EXPECT(gbc.pc(), 0x6153);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0030
        gbc.setState(0x6ec4, 0x1d0d, 0xd870, 0x1d04, 0x85fd, 0xe2b, 0x0, 0x1);
        gbc.writeMem(0x6ec4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x1d0d);
        EXPECT(gbc.pc(), 0x6ec5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0031
        gbc.setState(0xbb05, 0xd540, 0x4070, 0x297f, 0x8df6, 0x8711, 0x1, 0x0);
        gbc.writeMem(0xbb05, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xd540);
        EXPECT(gbc.pc(), 0xbb06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb05), 0x24);
        // 24 0032
        gbc.setState(0x4a59, 0x20a0, 0xad0, 0x2d8f, 0xbd2a, 0x89f5, 0x0, 0x1);
        gbc.writeMem(0x4a59, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x20a0);
        EXPECT(gbc.pc(), 0x4a5a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0035
        gbc.setState(0x76d6, 0x16b0, 0x55b0, 0x2761, 0x7d2a, 0xf0fd, 0x1, 0x0);
        gbc.writeMem(0x76d6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x16b0);
        EXPECT(gbc.pc(), 0x76d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0036
        gbc.setState(0x4ca8, 0x2b12, 0xbe70, 0xbf2e, 0x426c, 0x9ce4, 0x1, 0x1);
        gbc.writeMem(0x4ca8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x2b12);
        EXPECT(gbc.pc(), 0x4ca9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0037
        gbc.setState(0x9980, 0xf33c, 0x51b0, 0xcbe4, 0x3467, 0xe657, 0x0, 0x1);
        gbc.writeMem(0x9980, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xf33c);
        EXPECT(gbc.pc(), 0x9981);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9980), 0x24);
        // 24 0038
        gbc.setState(0x3a63, 0xd4c7, 0x7910, 0x683c, 0xacb2, 0x3570, 0x0, 0x0);
        gbc.writeMem(0x3a63, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xd4c7);
        EXPECT(gbc.pc(), 0x3a64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0039
        gbc.setState(0x8c89, 0x8b57, 0x7a00, 0x65de, 0xd2cb, 0xbb3c, 0x0, 0x0);
        gbc.writeMem(0x8c89, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x8b57);
        EXPECT(gbc.pc(), 0x8c8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c89), 0x24);
        // 24 003A
        gbc.setState(0x8e21, 0x6d83, 0x38b0, 0x1afe, 0x55f5, 0xfff6, 0x1, 0x1);
        gbc.writeMem(0x8e21, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x6d83);
        EXPECT(gbc.pc(), 0x8e22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e21), 0x24);
        // 24 003B
        gbc.setState(0x70d6, 0x7d35, 0x6670, 0x4acd, 0x897a, 0xdd19, 0x1, 0x0);
        gbc.writeMem(0x70d6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x7d35);
        EXPECT(gbc.pc(), 0x70d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 003C
        gbc.setState(0x398, 0xa35e, 0x7340, 0xfe05, 0xf146, 0xb4f7, 0x1, 0x1);
        gbc.writeMem(0x398, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xa35e);
        EXPECT(gbc.pc(), 0x399);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 003D
        gbc.setState(0xef2, 0x13f, 0xe930, 0xb011, 0xbc6f, 0x4aa3, 0x1, 0x0);
        gbc.writeMem(0xef2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x13f);
        EXPECT(gbc.pc(), 0xef3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 003E
        gbc.setState(0xe377, 0x5b41, 0x2870, 0x9c2b, 0x173b, 0xc46b, 0x1, 0x0);
        gbc.writeMem(0xe377, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x5b41);
        EXPECT(gbc.pc(), 0xe378);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe377), 0x24);
        // 24 003F
        gbc.setState(0xcdbc, 0x429, 0x3830, 0xd94a, 0x84b9, 0x4255, 0x1, 0x1);
        gbc.writeMem(0xcdbc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x429);
        EXPECT(gbc.pc(), 0xcdbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdbc), 0x24);
        // 24 0040
        gbc.setState(0xe522, 0x9572, 0x1840, 0xcd9b, 0x1abd, 0xe8cf, 0x1, 0x0);
        gbc.writeMem(0xe522, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x9572);
        EXPECT(gbc.pc(), 0xe523);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe522), 0x24);
        // 24 0041
        gbc.setState(0xb96d, 0xbb82, 0x74c0, 0x60c9, 0x5d02, 0x2783, 0x1, 0x1);
        gbc.writeMem(0xb96d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xbb82);
        EXPECT(gbc.pc(), 0xb96e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb96d), 0x24);
        // 24 0042
        gbc.setState(0x9256, 0x5a69, 0xf0f0, 0x47ba, 0xd098, 0xe3b3, 0x1, 0x0);
        gbc.writeMem(0x9256, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x5a69);
        EXPECT(gbc.pc(), 0x9257);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9256), 0x24);
        // 24 0043
        gbc.setState(0xa77a, 0x7c56, 0x2430, 0xae3c, 0xefb3, 0x1754, 0x0, 0x0);
        gbc.writeMem(0xa77a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x7c56);
        EXPECT(gbc.pc(), 0xa77b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa77a), 0x24);
        // 24 0044
        gbc.setState(0xc88, 0xc62, 0x3ed0, 0x8810, 0x3695, 0x39d1, 0x0, 0x1);
        gbc.writeMem(0xc88, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xc62);
        EXPECT(gbc.pc(), 0xc89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0045
        gbc.setState(0x1b5, 0xea81, 0xcc40, 0xc289, 0x20aa, 0x9b9f, 0x0, 0x0);
        gbc.writeMem(0x1b5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xea81);
        EXPECT(gbc.pc(), 0x1b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0046
        gbc.setState(0x94b2, 0x1993, 0xee80, 0x658c, 0xfbe1, 0x6ce0, 0x0, 0x0);
        gbc.writeMem(0x94b2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x1993);
        EXPECT(gbc.pc(), 0x94b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94b2), 0x24);
        // 24 0047
        gbc.setState(0x9e02, 0x9491, 0x15c0, 0xb721, 0x8743, 0x7ee0, 0x1, 0x1);
        gbc.writeMem(0x9e02, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x9491);
        EXPECT(gbc.pc(), 0x9e03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e02), 0x24);
        // 24 0048
        gbc.setState(0x4b5c, 0x5564, 0x53a0, 0x1947, 0x92a5, 0x4db1, 0x0, 0x0);
        gbc.writeMem(0x4b5c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x5564);
        EXPECT(gbc.pc(), 0x4b5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0049
        gbc.setState(0x9d7f, 0x3df1, 0x1b50, 0x7613, 0x9884, 0x6caa, 0x0, 0x0);
        gbc.writeMem(0x9d7f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x3df1);
        EXPECT(gbc.pc(), 0x9d80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d7f), 0x24);
        // 24 004A
        gbc.setState(0x7cd9, 0xdc4c, 0xd60, 0x58d6, 0xd2f2, 0x6432, 0x1, 0x0);
        gbc.writeMem(0x7cd9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xdc4c);
        EXPECT(gbc.pc(), 0x7cda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 004B
        gbc.setState(0xb5c7, 0xa3de, 0x4f00, 0xa4c3, 0x2558, 0x7a0c, 0x1, 0x1);
        gbc.writeMem(0xb5c7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xa3de);
        EXPECT(gbc.pc(), 0xb5c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5c7), 0x24);
        // 24 004C
        gbc.setState(0x8a21, 0x3495, 0xa1b0, 0x254a, 0x56b9, 0xb48e, 0x1, 0x0);
        gbc.writeMem(0x8a21, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x3495);
        EXPECT(gbc.pc(), 0x8a22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a21), 0x24);
        // 24 004D
        gbc.setState(0x81f5, 0xa12a, 0xd2f0, 0x2fe1, 0x5691, 0xea6f, 0x0, 0x1);
        gbc.writeMem(0x81f5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xa12a);
        EXPECT(gbc.pc(), 0x81f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81f5), 0x24);
        // 24 004E
        gbc.setState(0x72ef, 0x693f, 0x4720, 0xf4ab, 0x81b4, 0x4f38, 0x1, 0x1);
        gbc.writeMem(0x72ef, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x693f);
        EXPECT(gbc.pc(), 0x72f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 004F
        gbc.setState(0xecdf, 0x883e, 0x24f0, 0xc266, 0x593c, 0xf975, 0x1, 0x0);
        gbc.writeMem(0xecdf, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x883e);
        EXPECT(gbc.pc(), 0xece0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xecdf), 0x24);
        // 24 0050
        gbc.setState(0x19da, 0x4df0, 0xa280, 0xeacd, 0x97b7, 0x87aa, 0x0, 0x0);
        gbc.writeMem(0x19da, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x4df0);
        EXPECT(gbc.pc(), 0x19db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0051
        gbc.setState(0xe08b, 0x2c78, 0x7430, 0xf63d, 0x7752, 0xd3cb, 0x0, 0x0);
        gbc.writeMem(0xe08b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x2c78);
        EXPECT(gbc.pc(), 0xe08c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe08b), 0x24);
        // 24 0052
        gbc.setState(0x6d13, 0x7914, 0x51d0, 0x80cc, 0x8139, 0xc000, 0x0, 0x0);
        gbc.writeMem(0x6d13, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x7914);
        EXPECT(gbc.pc(), 0x6d14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0053
        gbc.setState(0x8959, 0xd27, 0x560, 0xfdb0, 0xa30e, 0x9f38, 0x1, 0x1);
        gbc.writeMem(0x8959, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xd27);
        EXPECT(gbc.pc(), 0x895a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8959), 0x24);
        // 24 0054
        gbc.setState(0x23f1, 0x50e4, 0xbbd0, 0xfd57, 0x9ad0, 0xba2, 0x1, 0x1);
        gbc.writeMem(0x23f1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x50e4);
        EXPECT(gbc.pc(), 0x23f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0055
        gbc.setState(0xca77, 0x4a20, 0x7820, 0xbbe, 0xa2d2, 0x41be, 0x1, 0x0);
        gbc.writeMem(0xca77, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x4a20);
        EXPECT(gbc.pc(), 0xca78);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca77), 0x24);
        // 24 0056
        gbc.setState(0x63a9, 0xb71c, 0x8a50, 0x23bc, 0x8f90, 0x2fe2, 0x1, 0x1);
        gbc.writeMem(0x63a9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xb71c);
        EXPECT(gbc.pc(), 0x63aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 0057
        gbc.setState(0xb3aa, 0xff33, 0x1930, 0xf796, 0xce3f, 0x7760, 0x1, 0x0);
        gbc.writeMem(0xb3aa, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xff33);
        EXPECT(gbc.pc(), 0xb3ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3aa), 0x24);
        // 24 0058
        gbc.setState(0x5ad6, 0x646e, 0x5cd0, 0xd55, 0x980c, 0xd1b0, 0x1, 0x0);
        gbc.writeMem(0x5ad6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x646e);
        EXPECT(gbc.pc(), 0x5ad7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0059
        gbc.setState(0xa351, 0x658b, 0x64d0, 0x709f, 0x6927, 0xc90d, 0x0, 0x0);
        gbc.writeMem(0xa351, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x658b);
        EXPECT(gbc.pc(), 0xa352);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa351), 0x24);
        // 24 005A
        gbc.setState(0x44fc, 0xcac6, 0x4970, 0x29ef, 0xeab0, 0x114b, 0x1, 0x0);
        gbc.writeMem(0x44fc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xcac6);
        EXPECT(gbc.pc(), 0x44fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 005B
        gbc.setState(0xd27b, 0x85fa, 0xf6e0, 0xd70, 0xcc8, 0xed56, 0x0, 0x1);
        gbc.writeMem(0xd27b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x85fa);
        EXPECT(gbc.pc(), 0xd27c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd27b), 0x24);
        // 24 005C
        gbc.setState(0x2a6f, 0x287a, 0x3a40, 0x8028, 0xeaae, 0x99fa, 0x1, 0x1);
        gbc.writeMem(0x2a6f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x287a);
        EXPECT(gbc.pc(), 0x2a70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 005D
        gbc.setState(0x889a, 0x8d25, 0xa9d0, 0x87d7, 0xeedf, 0x1979, 0x0, 0x1);
        gbc.writeMem(0x889a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x8d25);
        EXPECT(gbc.pc(), 0x889b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x889a), 0x24);
        // 24 005E
        gbc.setState(0x642c, 0x19b1, 0x3560, 0xcc52, 0x77e6, 0x29ac, 0x1, 0x0);
        gbc.writeMem(0x642c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x19b1);
        EXPECT(gbc.pc(), 0x642d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 005F
        gbc.setState(0xcfb1, 0x960f, 0x93c0, 0x618d, 0x1bca, 0x50c7, 0x1, 0x1);
        gbc.writeMem(0xcfb1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x960f);
        EXPECT(gbc.pc(), 0xcfb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfb1), 0x24);
        // 24 0060
        gbc.setState(0x57df, 0x6b46, 0x9ab0, 0x3b3b, 0xb52a, 0x4949, 0x0, 0x0);
        gbc.writeMem(0x57df, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x6b46);
        EXPECT(gbc.pc(), 0x57e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0061
        gbc.setState(0xbcab, 0x2e6d, 0xdf00, 0x6b41, 0x4823, 0xb0c0, 0x1, 0x0);
        gbc.writeMem(0xbcab, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x2e6d);
        EXPECT(gbc.pc(), 0xbcac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcab), 0x24);
        // 24 0062
        gbc.setState(0x4e0, 0xafb8, 0x3580, 0xbb84, 0x571c, 0x3866, 0x1, 0x0);
        gbc.writeMem(0x4e0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xafb8);
        EXPECT(gbc.pc(), 0x4e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0063
        gbc.setState(0x3991, 0x4376, 0x390, 0x94de, 0x520c, 0x5582, 0x0, 0x0);
        gbc.writeMem(0x3991, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x4376);
        EXPECT(gbc.pc(), 0x3992);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0064
        gbc.setState(0x3bb3, 0xbe87, 0xc4d0, 0xb716, 0x4de9, 0x3f0c, 0x1, 0x0);
        gbc.writeMem(0x3bb3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xbe87);
        EXPECT(gbc.pc(), 0x3bb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 0065
        gbc.setState(0xc1d3, 0x7d67, 0x9de0, 0x6f43, 0x1b56, 0x89ea, 0x0, 0x1);
        gbc.writeMem(0xc1d3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x7d67);
        EXPECT(gbc.pc(), 0xc1d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1d3), 0x24);
        // 24 0066
        gbc.setState(0xed5a, 0x9c4d, 0xfec0, 0xec1, 0xd8e6, 0xaf3d, 0x1, 0x1);
        gbc.writeMem(0xed5a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x9c4d);
        EXPECT(gbc.pc(), 0xed5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed5a), 0x24);
        // 24 0067
        gbc.setState(0xfb5, 0x770a, 0xe100, 0xd966, 0x126e, 0xadcb, 0x0, 0x1);
        gbc.writeMem(0xfb5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x770a);
        EXPECT(gbc.pc(), 0xfb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0068
        gbc.setState(0xc742, 0x9cb6, 0x9bd0, 0xa257, 0xecd6, 0x6d8a, 0x0, 0x1);
        gbc.writeMem(0xc742, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x9cb6);
        EXPECT(gbc.pc(), 0xc743);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc742), 0x24);
        // 24 0069
        gbc.setState(0x6115, 0xfc9c, 0x690, 0x3f32, 0xe3e8, 0x8d5f, 0x0, 0x0);
        gbc.writeMem(0x6115, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xfc9c);
        EXPECT(gbc.pc(), 0x6116);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 006A
        gbc.setState(0x6846, 0x4f6f, 0x2dd0, 0x4d69, 0x323c, 0xff57, 0x0, 0x0);
        gbc.writeMem(0x6846, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x4f6f);
        EXPECT(gbc.pc(), 0x6847);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 006B
        gbc.setState(0x2a53, 0x8397, 0xb5d0, 0x5a2b, 0x8876, 0x6b63, 0x1, 0x0);
        gbc.writeMem(0x2a53, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x8397);
        EXPECT(gbc.pc(), 0x2a54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 006C
        gbc.setState(0x5ee0, 0xf943, 0x5710, 0x4e13, 0xdd1c, 0xdee7, 0x1, 0x1);
        gbc.writeMem(0x5ee0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xf943);
        EXPECT(gbc.pc(), 0x5ee1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 006D
        gbc.setState(0x6790, 0x482b, 0x9f50, 0xcbd8, 0xc70c, 0x36e7, 0x1, 0x0);
        gbc.writeMem(0x6790, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x482b);
        EXPECT(gbc.pc(), 0x6791);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 006E
        gbc.setState(0xe08c, 0x156b, 0x6930, 0x1b08, 0xca5d, 0x6393, 0x1, 0x0);
        gbc.writeMem(0xe08c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x156b);
        EXPECT(gbc.pc(), 0xe08d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe08c), 0x24);
        // 24 006F
        gbc.setState(0x5494, 0xde0d, 0x79f0, 0xa2d4, 0xbf3, 0xc501, 0x1, 0x1);
        gbc.writeMem(0x5494, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xde0d);
        EXPECT(gbc.pc(), 0x5495);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0070
        gbc.setState(0x421d, 0x4f26, 0x9e10, 0xcf51, 0x40a5, 0x30c7, 0x1, 0x0);
        gbc.writeMem(0x421d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x4f26);
        EXPECT(gbc.pc(), 0x421e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0071
        gbc.setState(0x638d, 0x3505, 0xdf50, 0x17cf, 0x6285, 0x57a3, 0x1, 0x0);
        gbc.writeMem(0x638d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x3505);
        EXPECT(gbc.pc(), 0x638e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0072
        gbc.setState(0xad00, 0x83f1, 0x9bf0, 0x4c29, 0x96f, 0x5f1d, 0x1, 0x1);
        gbc.writeMem(0xad00, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x83f1);
        EXPECT(gbc.pc(), 0xad01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad00), 0x24);
        // 24 0073
        gbc.setState(0x2615, 0x4072, 0x6150, 0xa668, 0x6d85, 0x2ad5, 0x0, 0x0);
        gbc.writeMem(0x2615, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x4072);
        EXPECT(gbc.pc(), 0x2616);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0074
        gbc.setState(0x8a8b, 0x46c2, 0x6860, 0xf57c, 0x5f99, 0xc447, 0x0, 0x0);
        gbc.writeMem(0x8a8b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x46c2);
        EXPECT(gbc.pc(), 0x8a8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a8b), 0x24);
        // 24 0075
        gbc.setState(0x3286, 0x2edd, 0x3ef0, 0xbddd, 0xb026, 0x9650, 0x0, 0x0);
        gbc.writeMem(0x3286, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x2edd);
        EXPECT(gbc.pc(), 0x3287);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0076
        gbc.setState(0x820b, 0xae4, 0xd7c0, 0x2d5d, 0x45ba, 0x7a3c, 0x0, 0x1);
        gbc.writeMem(0x820b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xae4);
        EXPECT(gbc.pc(), 0x820c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x820b), 0x24);
        // 24 0077
        gbc.setState(0xf1, 0xd6de, 0x85b0, 0x687d, 0xeeec, 0x51f3, 0x1, 0x0);
        gbc.writeMem(0xf1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xd6de);
        EXPECT(gbc.pc(), 0xf2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0078
        gbc.setState(0x3e97, 0xb8f5, 0x6260, 0xbe05, 0xff3, 0x834c, 0x0, 0x1);
        gbc.writeMem(0x3e97, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xb8f5);
        EXPECT(gbc.pc(), 0x3e98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0079
        gbc.setState(0xe813, 0xfc0f, 0xb6b0, 0x6973, 0xda83, 0xba2a, 0x1, 0x0);
        gbc.writeMem(0xe813, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xfc0f);
        EXPECT(gbc.pc(), 0xe814);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe813), 0x24);
        // 24 007A
        gbc.setState(0xe710, 0xaca7, 0x6a80, 0x326d, 0x72f2, 0xc52f, 0x0, 0x1);
        gbc.writeMem(0xe710, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xaca7);
        EXPECT(gbc.pc(), 0xe711);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe710), 0x24);
        // 24 007B
        gbc.setState(0x13e2, 0x1f69, 0xc640, 0x6b73, 0x822f, 0x37e5, 0x1, 0x0);
        gbc.writeMem(0x13e2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x1f69);
        EXPECT(gbc.pc(), 0x13e3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 007C
        gbc.setState(0x3441, 0x79e0, 0x10a0, 0xcbec, 0xf98b, 0xae51, 0x1, 0x1);
        gbc.writeMem(0x3441, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x79e0);
        EXPECT(gbc.pc(), 0x3442);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 007D
        gbc.setState(0x1aa1, 0x97d5, 0x6840, 0xd384, 0xe8e0, 0x3d6f, 0x0, 0x1);
        gbc.writeMem(0x1aa1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x97d5);
        EXPECT(gbc.pc(), 0x1aa2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 007E
        gbc.setState(0xb5e7, 0x417c, 0x7900, 0xac9c, 0x3658, 0x53fa, 0x0, 0x1);
        gbc.writeMem(0xb5e7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x417c);
        EXPECT(gbc.pc(), 0xb5e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5e7), 0x24);
        // 24 007F
        gbc.setState(0xb11a, 0x6ff6, 0x6c10, 0x8b24, 0x6684, 0x2942, 0x0, 0x1);
        gbc.writeMem(0xb11a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x6ff6);
        EXPECT(gbc.pc(), 0xb11b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb11a), 0x24);
        // 24 0080
        gbc.setState(0x3f67, 0x589, 0xc220, 0x3ec2, 0xd97e, 0xd6e7, 0x0, 0x1);
        gbc.writeMem(0x3f67, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x589);
        EXPECT(gbc.pc(), 0x3f68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0081
        gbc.setState(0x3f87, 0x7147, 0x2da0, 0x9437, 0xf830, 0x40d, 0x1, 0x0);
        gbc.writeMem(0x3f87, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x7147);
        EXPECT(gbc.pc(), 0x3f88);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0082
        gbc.setState(0x72e3, 0x320, 0xca80, 0x4a3b, 0xa065, 0x3eb9, 0x0, 0x1);
        gbc.writeMem(0x72e3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x320);
        EXPECT(gbc.pc(), 0x72e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0084
        gbc.setState(0xca64, 0x10d9, 0xcb80, 0xa0cc, 0x43c0, 0x9752, 0x0, 0x1);
        gbc.writeMem(0xca64, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x10d9);
        EXPECT(gbc.pc(), 0xca65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca64), 0x24);
        // 24 0085
        gbc.setState(0xa789, 0x227c, 0x3cc0, 0x77e6, 0xb465, 0x8847, 0x1, 0x0);
        gbc.writeMem(0xa789, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x227c);
        EXPECT(gbc.pc(), 0xa78a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa789), 0x24);
        // 24 0086
        gbc.setState(0xa766, 0x6896, 0x6430, 0xfa10, 0x862b, 0xd259, 0x0, 0x0);
        gbc.writeMem(0xa766, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x6896);
        EXPECT(gbc.pc(), 0xa767);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa766), 0x24);
        // 24 0087
        gbc.setState(0x8a41, 0xe9c6, 0x2db0, 0x2568, 0x8bee, 0x2c4f, 0x1, 0x1);
        gbc.writeMem(0x8a41, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xe9c6);
        EXPECT(gbc.pc(), 0x8a42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a41), 0x24);
        // 24 0088
        gbc.setState(0x6ff4, 0xf124, 0xa10, 0x6eee, 0xde6d, 0x27e2, 0x0, 0x0);
        gbc.writeMem(0x6ff4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xf124);
        EXPECT(gbc.pc(), 0x6ff5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0089
        gbc.setState(0x3ae9, 0x50b1, 0x4910, 0x83df, 0x5dbc, 0x41b4, 0x0, 0x1);
        gbc.writeMem(0x3ae9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x50b1);
        EXPECT(gbc.pc(), 0x3aea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 008A
        gbc.setState(0x6955, 0x34cd, 0x85c0, 0xa971, 0x2d3f, 0xed7f, 0x1, 0x0);
        gbc.writeMem(0x6955, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x34cd);
        EXPECT(gbc.pc(), 0x6956);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 008B
        gbc.setState(0xd4de, 0x5107, 0xd600, 0x5d51, 0x6d20, 0xda6a, 0x1, 0x1);
        gbc.writeMem(0xd4de, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x5107);
        EXPECT(gbc.pc(), 0xd4df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4de), 0x24);
        // 24 008C
        gbc.setState(0xc0, 0x99cf, 0xd640, 0xa6f5, 0x8621, 0x8a03, 0x1, 0x0);
        gbc.writeMem(0xc0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x99cf);
        EXPECT(gbc.pc(), 0xc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 008D
        gbc.setState(0x77bd, 0x758d, 0xaa40, 0x8d37, 0xec7, 0x2d6b, 0x0, 0x1);
        gbc.writeMem(0x77bd, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x758d);
        EXPECT(gbc.pc(), 0x77be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 008E
        gbc.setState(0x21fb, 0xf457, 0x11d0, 0xc801, 0x952a, 0xdcad, 0x0, 0x0);
        gbc.writeMem(0x21fb, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xf457);
        EXPECT(gbc.pc(), 0x21fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 008F
        gbc.setState(0x6bf3, 0x4fd1, 0x14b0, 0xc717, 0xa8cb, 0xb1d, 0x1, 0x0);
        gbc.writeMem(0x6bf3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x4fd1);
        EXPECT(gbc.pc(), 0x6bf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0090
        gbc.setState(0x92a3, 0xc593, 0x24f0, 0x15ae, 0xa992, 0xc8bc, 0x0, 0x1);
        gbc.writeMem(0x92a3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xc593);
        EXPECT(gbc.pc(), 0x92a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92a3), 0x24);
        // 24 0091
        gbc.setState(0x1fb4, 0xffdc, 0xd470, 0x630f, 0xc456, 0xe17e, 0x1, 0x0);
        gbc.writeMem(0x1fb4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xffdc);
        EXPECT(gbc.pc(), 0x1fb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0092
        gbc.setState(0x24a1, 0x1df5, 0xbc00, 0xa3b4, 0x58c6, 0x5c82, 0x1, 0x0);
        gbc.writeMem(0x24a1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x1df5);
        EXPECT(gbc.pc(), 0x24a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0093
        gbc.setState(0x36ad, 0x36c2, 0x6880, 0x547c, 0x4508, 0x2e3b, 0x1, 0x1);
        gbc.writeMem(0x36ad, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x36c2);
        EXPECT(gbc.pc(), 0x36ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0094
        gbc.setState(0xd7d9, 0x11a2, 0x8740, 0x41f5, 0xa62e, 0xa19f, 0x0, 0x0);
        gbc.writeMem(0xd7d9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x11a2);
        EXPECT(gbc.pc(), 0xd7da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7d9), 0x24);
        // 24 0095
        gbc.setState(0xa6f6, 0x80c3, 0xed70, 0x18b0, 0x2619, 0xc1e6, 0x0, 0x1);
        gbc.writeMem(0xa6f6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x80c3);
        EXPECT(gbc.pc(), 0xa6f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6f6), 0x24);
        // 24 0096
        gbc.setState(0xc2ed, 0xa03e, 0x44b0, 0x108d, 0xdcb3, 0x857d, 0x0, 0x0);
        gbc.writeMem(0xc2ed, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xa03e);
        EXPECT(gbc.pc(), 0xc2ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2ed), 0x24);
        // 24 0097
        gbc.setState(0x4021, 0xa09a, 0xefb0, 0xc5b3, 0x2cf7, 0xa2cc, 0x1, 0x0);
        gbc.writeMem(0x4021, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xa09a);
        EXPECT(gbc.pc(), 0x4022);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0098
        gbc.setState(0x6ce8, 0xf024, 0x3c40, 0x5f46, 0x36f8, 0x3ea6, 0x0, 0x0);
        gbc.writeMem(0x6ce8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xf024);
        EXPECT(gbc.pc(), 0x6ce9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0099
        gbc.setState(0x138, 0xf3ca, 0xd710, 0xa600, 0x3606, 0x14b6, 0x0, 0x1);
        gbc.writeMem(0x138, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xf3ca);
        EXPECT(gbc.pc(), 0x139);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 009A
        gbc.setState(0x2b55, 0xa2e9, 0x9e20, 0xe13a, 0x3906, 0x25a7, 0x1, 0x1);
        gbc.writeMem(0x2b55, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xa2e9);
        EXPECT(gbc.pc(), 0x2b56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 009B
        gbc.setState(0x9c79, 0x61c4, 0x8700, 0x4357, 0x44f6, 0xc171, 0x0, 0x1);
        gbc.writeMem(0x9c79, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x61c4);
        EXPECT(gbc.pc(), 0x9c7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c79), 0x24);
        // 24 009C
        gbc.setState(0x9e4a, 0xd3f2, 0x5f0, 0x9a58, 0xf0b7, 0xecaa, 0x1, 0x1);
        gbc.writeMem(0x9e4a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xd3f2);
        EXPECT(gbc.pc(), 0x9e4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e4a), 0x24);
        // 24 009D
        gbc.setState(0xd582, 0x1d8b, 0x21e0, 0x5283, 0xe6dd, 0xf516, 0x0, 0x0);
        gbc.writeMem(0xd582, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x1d8b);
        EXPECT(gbc.pc(), 0xd583);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd582), 0x24);
        // 24 009E
        gbc.setState(0x7f2f, 0x8fc0, 0x6480, 0xb353, 0xf947, 0x7ad1, 0x1, 0x1);
        gbc.writeMem(0x7f2f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x8fc0);
        EXPECT(gbc.pc(), 0x7f30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 009F
        gbc.setState(0x9862, 0x182b, 0x85c0, 0xbd03, 0x49b9, 0xf2ed, 0x0, 0x0);
        gbc.writeMem(0x9862, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x182b);
        EXPECT(gbc.pc(), 0x9863);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9862), 0x24);
        // 24 00A0
        gbc.setState(0x276f, 0x107, 0x2d70, 0x552a, 0xee83, 0xaa58, 0x0, 0x0);
        gbc.writeMem(0x276f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x107);
        EXPECT(gbc.pc(), 0x2770);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00A2
        gbc.setState(0x4619, 0x3a38, 0xa220, 0xd5f6, 0xf082, 0x5ddd, 0x0, 0x0);
        gbc.writeMem(0x4619, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0x3a38);
        EXPECT(gbc.pc(), 0x461a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00A3
        gbc.setState(0x3279, 0x53ca, 0x43e0, 0xc6cf, 0x4405, 0x8626, 0x0, 0x1);
        gbc.writeMem(0x3279, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x53ca);
        EXPECT(gbc.pc(), 0x327a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00A4
        gbc.setState(0x67d6, 0xafce, 0x7f30, 0x65be, 0xd6a0, 0x9b2a, 0x1, 0x0);
        gbc.writeMem(0x67d6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xafce);
        EXPECT(gbc.pc(), 0x67d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00A5
        gbc.setState(0x55ae, 0xc1a, 0x1980, 0xc7b, 0x5f55, 0x7a18, 0x1, 0x1);
        gbc.writeMem(0x55ae, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xc1a);
        EXPECT(gbc.pc(), 0x55af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00A6
        gbc.setState(0x9eef, 0x758b, 0xc2e0, 0xa6e5, 0x49d1, 0xd594, 0x0, 0x0);
        gbc.writeMem(0x9eef, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x758b);
        EXPECT(gbc.pc(), 0x9ef0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eef), 0x24);
        // 24 00A7
        gbc.setState(0x415b, 0xaf48, 0x5500, 0x3056, 0xd618, 0xc9e9, 0x0, 0x0);
        gbc.writeMem(0x415b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xaf48);
        EXPECT(gbc.pc(), 0x415c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00A8
        gbc.setState(0x9774, 0x6af1, 0x9fe0, 0x3dff, 0x40b8, 0x21f2, 0x1, 0x1);
        gbc.writeMem(0x9774, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x6af1);
        EXPECT(gbc.pc(), 0x9775);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9774), 0x24);
        // 24 00A9
        gbc.setState(0x2d60, 0x63fb, 0x4410, 0x3397, 0x5ddc, 0x49c8, 0x1, 0x0);
        gbc.writeMem(0x2d60, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x63fb);
        EXPECT(gbc.pc(), 0x2d61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00AA
        gbc.setState(0x2740, 0x5dd5, 0x6e80, 0x9caf, 0xfa2e, 0x458f, 0x0, 0x0);
        gbc.writeMem(0x2740, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x5dd5);
        EXPECT(gbc.pc(), 0x2741);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00AB
        gbc.setState(0xc00e, 0xbe57, 0xfef0, 0x5ee0, 0x31d5, 0x4921, 0x0, 0x0);
        gbc.writeMem(0xc00e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xbe57);
        EXPECT(gbc.pc(), 0xc00f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc00e), 0x24);
        // 24 00AC
        gbc.setState(0xd004, 0x1d85, 0xcd90, 0x6b1c, 0xc2e9, 0xbabf, 0x1, 0x1);
        gbc.writeMem(0xd004, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x1d85);
        EXPECT(gbc.pc(), 0xd005);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd004), 0x24);
        // 24 00AD
        gbc.setState(0x42d5, 0x92b3, 0xb4d0, 0xd099, 0x3ed7, 0x9eef, 0x0, 0x0);
        gbc.writeMem(0x42d5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x92b3);
        EXPECT(gbc.pc(), 0x42d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00AE
        gbc.setState(0x91a0, 0xe0cc, 0xda0, 0x50f0, 0x5f96, 0x9319, 0x1, 0x0);
        gbc.writeMem(0x91a0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xe0cc);
        EXPECT(gbc.pc(), 0x91a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91a0), 0x24);
        // 24 00AF
        gbc.setState(0x9c41, 0x18ce, 0xa520, 0x8e5a, 0xd6e2, 0xe63c, 0x1, 0x1);
        gbc.writeMem(0x9c41, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x18ce);
        EXPECT(gbc.pc(), 0x9c42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c41), 0x24);
        // 24 00B0
        gbc.setState(0xea1, 0x7a47, 0xdec0, 0x7510, 0x1923, 0x8753, 0x0, 0x0);
        gbc.writeMem(0xea1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7a47);
        EXPECT(gbc.pc(), 0xea2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00B1
        gbc.setState(0x6af5, 0xe701, 0x2030, 0xd02a, 0x197d, 0xd3d5, 0x0, 0x1);
        gbc.writeMem(0x6af5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0xe701);
        EXPECT(gbc.pc(), 0x6af6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00B2
        gbc.setState(0x5a26, 0xf1b7, 0x7300, 0x2d8e, 0x77ab, 0x29d1, 0x0, 0x1);
        gbc.writeMem(0x5a26, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xf1b7);
        EXPECT(gbc.pc(), 0x5a27);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00B3
        gbc.setState(0xd5c6, 0x2435, 0xd2b0, 0x6751, 0x2bdf, 0xa47e, 0x0, 0x0);
        gbc.writeMem(0xd5c6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x2435);
        EXPECT(gbc.pc(), 0xd5c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5c6), 0x24);
        // 24 00B4
        gbc.setState(0xbfd6, 0x487d, 0x3c60, 0xaf9e, 0xc4d7, 0xd644, 0x0, 0x0);
        gbc.writeMem(0xbfd6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x487d);
        EXPECT(gbc.pc(), 0xbfd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfd6), 0x24);
        // 24 00B5
        gbc.setState(0xec4, 0xa6, 0x7aa0, 0x22f, 0x3e4c, 0x6bd7, 0x1, 0x0);
        gbc.writeMem(0xec4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xa6);
        EXPECT(gbc.pc(), 0xec5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00B6
        gbc.setState(0x744e, 0xbeef, 0xb290, 0x64d2, 0xf4e7, 0x93b6, 0x1, 0x1);
        gbc.writeMem(0x744e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xbeef);
        EXPECT(gbc.pc(), 0x744f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00B7
        gbc.setState(0x5f32, 0xfac9, 0xfd70, 0x1f72, 0x3fe1, 0xd98b, 0x0, 0x1);
        gbc.writeMem(0x5f32, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xfac9);
        EXPECT(gbc.pc(), 0x5f33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00B8
        gbc.setState(0x17bc, 0x6ea5, 0xd550, 0x8481, 0x1fda, 0xef44, 0x0, 0x1);
        gbc.writeMem(0x17bc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x6ea5);
        EXPECT(gbc.pc(), 0x17bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 00BA
        gbc.setState(0x4c7a, 0x5baa, 0xc3f0, 0x8dd7, 0xfdba, 0xcbf9, 0x1, 0x1);
        gbc.writeMem(0x4c7a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x5baa);
        EXPECT(gbc.pc(), 0x4c7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00BB
        gbc.setState(0xaa0e, 0xad5f, 0x6c30, 0x4bdb, 0xa67b, 0x2a6f, 0x0, 0x1);
        gbc.writeMem(0xaa0e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xad5f);
        EXPECT(gbc.pc(), 0xaa0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa0e), 0x24);
        // 24 00BC
        gbc.setState(0x7ea5, 0xcb15, 0x49a0, 0xa762, 0x5d7c, 0xc46f, 0x1, 0x0);
        gbc.writeMem(0x7ea5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xcb15);
        EXPECT(gbc.pc(), 0x7ea6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00BD
        gbc.setState(0xbfe3, 0x12c9, 0x1730, 0x2529, 0xcea3, 0xf01d, 0x1, 0x1);
        gbc.writeMem(0xbfe3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x12c9);
        EXPECT(gbc.pc(), 0xbfe4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfe3), 0x24);
        // 24 00BE
        gbc.setState(0xba97, 0x1f10, 0xb960, 0x1117, 0x3632, 0x12ae, 0x0, 0x1);
        gbc.writeMem(0xba97, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x1f10);
        EXPECT(gbc.pc(), 0xba98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba97), 0x24);
        // 24 00C0
        gbc.setState(0xc738, 0x7bf2, 0xec10, 0x342c, 0x7ccf, 0x306c, 0x1, 0x0);
        gbc.writeMem(0xc738, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x7bf2);
        EXPECT(gbc.pc(), 0xc739);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc738), 0x24);
        // 24 00C1
        gbc.setState(0xc242, 0x2846, 0x78a0, 0x69d4, 0xd7e0, 0xb27, 0x0, 0x0);
        gbc.writeMem(0xc242, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2846);
        EXPECT(gbc.pc(), 0xc243);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc242), 0x24);
        // 24 00C2
        gbc.setState(0x9c51, 0x6650, 0x1480, 0xb550, 0xcbb0, 0xf460, 0x1, 0x1);
        gbc.writeMem(0x9c51, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x6650);
        EXPECT(gbc.pc(), 0x9c52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c51), 0x24);
        // 24 00C3
        gbc.setState(0xca38, 0xe036, 0xf5d0, 0x7777, 0xbedd, 0x9046, 0x1, 0x0);
        gbc.writeMem(0xca38, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xe036);
        EXPECT(gbc.pc(), 0xca39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca38), 0x24);
        // 24 00C4
        gbc.setState(0x24fd, 0x8ba0, 0x84b0, 0x5717, 0xbe98, 0xcfee, 0x1, 0x0);
        gbc.writeMem(0x24fd, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x8ba0);
        EXPECT(gbc.pc(), 0x24fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 00C5
        gbc.setState(0xbed3, 0x8106, 0xa0b0, 0x4867, 0x519c, 0x732b, 0x0, 0x0);
        gbc.writeMem(0xbed3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x8106);
        EXPECT(gbc.pc(), 0xbed4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbed3), 0x24);
        // 24 00C6
        gbc.setState(0x4536, 0x685e, 0x8e0, 0xb82f, 0xbe7b, 0x5665, 0x1, 0x1);
        gbc.writeMem(0x4536, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x685e);
        EXPECT(gbc.pc(), 0x4537);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00C7
        gbc.setState(0x60e5, 0x1bae, 0xfb90, 0x743c, 0xd57c, 0xd7dc, 0x0, 0x1);
        gbc.writeMem(0x60e5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x1bae);
        EXPECT(gbc.pc(), 0x60e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00C8
        gbc.setState(0xfc7, 0x9fa0, 0xe570, 0xa0fd, 0x80f9, 0xa3e4, 0x1, 0x1);
        gbc.writeMem(0xfc7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x9fa0);
        EXPECT(gbc.pc(), 0xfc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00C9
        gbc.setState(0x4d36, 0x57cd, 0x5ec0, 0xc316, 0xf88c, 0xa99b, 0x1, 0x1);
        gbc.writeMem(0x4d36, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x57cd);
        EXPECT(gbc.pc(), 0x4d37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00CA
        gbc.setState(0x5cdb, 0x9508, 0x7280, 0x433, 0xb34f, 0x89fa, 0x0, 0x0);
        gbc.writeMem(0x5cdb, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x9508);
        EXPECT(gbc.pc(), 0x5cdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00CB
        gbc.setState(0xd676, 0xd754, 0xc180, 0xafde, 0x242b, 0xc475, 0x0, 0x0);
        gbc.writeMem(0xd676, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xd754);
        EXPECT(gbc.pc(), 0xd677);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd676), 0x24);
        // 24 00CC
        gbc.setState(0x99de, 0x20c1, 0x2b40, 0x58dc, 0x6aa9, 0x1032, 0x0, 0x1);
        gbc.writeMem(0x99de, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x20c1);
        EXPECT(gbc.pc(), 0x99df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99de), 0x24);
        // 24 00CD
        gbc.setState(0x55e8, 0x32da, 0xc400, 0x924, 0x6904, 0x56de, 0x1, 0x1);
        gbc.writeMem(0x55e8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x32da);
        EXPECT(gbc.pc(), 0x55e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00CE
        gbc.setState(0x2afe, 0x858a, 0x2bc0, 0xf87e, 0x2938, 0xa19e, 0x0, 0x1);
        gbc.writeMem(0x2afe, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x858a);
        EXPECT(gbc.pc(), 0x2aff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00D0
        gbc.setState(0x1b5e, 0x4edf, 0xd4a0, 0x2823, 0x329e, 0xe3e7, 0x0, 0x0);
        gbc.writeMem(0x1b5e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x4edf);
        EXPECT(gbc.pc(), 0x1b5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00D1
        gbc.setState(0x18ae, 0xb990, 0x13b0, 0x913a, 0xf097, 0xfeef, 0x0, 0x1);
        gbc.writeMem(0x18ae, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xb990);
        EXPECT(gbc.pc(), 0x18af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00D2
        gbc.setState(0x5e90, 0xbc7a, 0x23c0, 0xa3e0, 0x7d7a, 0xf23d, 0x1, 0x0);
        gbc.writeMem(0x5e90, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xbc7a);
        EXPECT(gbc.pc(), 0x5e91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00D3
        gbc.setState(0x6574, 0xa677, 0x54b0, 0x551d, 0x6651, 0x112e, 0x1, 0x1);
        gbc.writeMem(0x6574, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xa677);
        EXPECT(gbc.pc(), 0x6575);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00D4
        gbc.setState(0x8c2, 0xdb5b, 0x54e0, 0x4efe, 0x4516, 0xc905, 0x1, 0x0);
        gbc.writeMem(0x8c2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xdb5b);
        EXPECT(gbc.pc(), 0x8c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00D5
        gbc.setState(0x8ce2, 0x5e92, 0x48d0, 0xb624, 0x635e, 0x197b, 0x1, 0x0);
        gbc.writeMem(0x8ce2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x5e92);
        EXPECT(gbc.pc(), 0x8ce3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ce2), 0x24);
        // 24 00D6
        gbc.setState(0xc0dc, 0x2a17, 0xaf40, 0x5e73, 0x96c4, 0x71b1, 0x0, 0x1);
        gbc.writeMem(0xc0dc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x2a17);
        EXPECT(gbc.pc(), 0xc0dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0dc), 0x24);
        // 24 00D7
        gbc.setState(0x2d01, 0x481b, 0x16f0, 0x19a5, 0xdc26, 0xeeac, 0x1, 0x1);
        gbc.writeMem(0x2d01, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x481b);
        EXPECT(gbc.pc(), 0x2d02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00D8
        gbc.setState(0x1465, 0xe350, 0xf2c0, 0xf19, 0x536f, 0xa1d2, 0x0, 0x0);
        gbc.writeMem(0x1465, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xe350);
        EXPECT(gbc.pc(), 0x1466);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00D9
        gbc.setState(0xeaae, 0xad70, 0xb290, 0x4aa, 0x6b8f, 0x77d3, 0x0, 0x1);
        gbc.writeMem(0xeaae, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xad70);
        EXPECT(gbc.pc(), 0xeaaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeaae), 0x24);
        // 24 00DA
        gbc.setState(0xbfc5, 0x2cb5, 0x16c0, 0xdd0e, 0xe628, 0x55fe, 0x1, 0x1);
        gbc.writeMem(0xbfc5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x2cb5);
        EXPECT(gbc.pc(), 0xbfc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfc5), 0x24);
        // 24 00DB
        gbc.setState(0x5365, 0xf4a7, 0x73e0, 0x3374, 0xf06c, 0x608, 0x1, 0x1);
        gbc.writeMem(0x5365, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xf4a7);
        EXPECT(gbc.pc(), 0x5366);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00DC
        gbc.setState(0x50bc, 0x83bf, 0x44f0, 0x5b9a, 0x3e27, 0xeac6, 0x0, 0x0);
        gbc.writeMem(0x50bc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x83bf);
        EXPECT(gbc.pc(), 0x50bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00DE
        gbc.setState(0xa883, 0xe6c5, 0xc430, 0x125c, 0x9dff, 0xb847, 0x1, 0x0);
        gbc.writeMem(0xa883, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xe6c5);
        EXPECT(gbc.pc(), 0xa884);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa883), 0x24);
        // 24 00DF
        gbc.setState(0x300f, 0xc8f9, 0x16d0, 0xf762, 0x75d7, 0xfd77, 0x1, 0x1);
        gbc.writeMem(0x300f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xc8f9);
        EXPECT(gbc.pc(), 0x3010);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00E0
        gbc.setState(0x8f81, 0x61b, 0x2b70, 0xaa16, 0x3a4f, 0x3027, 0x1, 0x1);
        gbc.writeMem(0x8f81, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x61b);
        EXPECT(gbc.pc(), 0x8f82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f81), 0x24);
        // 24 00E2
        gbc.setState(0x7775, 0xc845, 0xa960, 0xccc2, 0xa3dc, 0x48cc, 0x1, 0x1);
        gbc.writeMem(0x7775, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc845);
        EXPECT(gbc.pc(), 0x7776);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00E3
        gbc.setState(0x2249, 0x1db9, 0xdbd0, 0xb8c7, 0x577c, 0x999a, 0x0, 0x0);
        gbc.writeMem(0x2249, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x1db9);
        EXPECT(gbc.pc(), 0x224a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00E4
        gbc.setState(0xef8d, 0xae40, 0x5aa0, 0xf584, 0x8c06, 0xde43, 0x1, 0x1);
        gbc.writeMem(0xef8d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xae40);
        EXPECT(gbc.pc(), 0xef8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef8d), 0x24);
        // 24 00E5
        gbc.setState(0x5378, 0xcef2, 0xf3b0, 0xc16e, 0x8bd9, 0x6337, 0x1, 0x0);
        gbc.writeMem(0x5378, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xcef2);
        EXPECT(gbc.pc(), 0x5379);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00E6
        gbc.setState(0xd1c, 0x4eb6, 0xf240, 0x4764, 0xa83f, 0xf754, 0x1, 0x1);
        gbc.writeMem(0xd1c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x4eb6);
        EXPECT(gbc.pc(), 0xd1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00E7
        gbc.setState(0xac5f, 0x551b, 0xde0, 0xf17d, 0x6770, 0x9900, 0x1, 0x1);
        gbc.writeMem(0xac5f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x551b);
        EXPECT(gbc.pc(), 0xac60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac5f), 0x24);
        // 24 00E8
        gbc.setState(0x2d09, 0x41a8, 0xc3d0, 0x5c82, 0x6bce, 0x548, 0x1, 0x0);
        gbc.writeMem(0x2d09, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x41a8);
        EXPECT(gbc.pc(), 0x2d0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00E9
        gbc.setState(0xdd9f, 0xddc1, 0xf010, 0xc6c, 0x4e3e, 0x532a, 0x1, 0x0);
        gbc.writeMem(0xdd9f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xddc1);
        EXPECT(gbc.pc(), 0xdda0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd9f), 0x24);
        // 24 00EA
        gbc.setState(0x158f, 0xbf4d, 0x6470, 0x5dd5, 0x8571, 0x858c, 0x1, 0x0);
        gbc.writeMem(0x158f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xbf4d);
        EXPECT(gbc.pc(), 0x1590);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00EB
        gbc.setState(0xa4e5, 0x39b0, 0x5ab0, 0xe0fb, 0x34b1, 0x48b3, 0x0, 0x0);
        gbc.writeMem(0xa4e5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x39b0);
        EXPECT(gbc.pc(), 0xa4e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4e5), 0x24);
        // 24 00EC
        gbc.setState(0xe8d4, 0x500c, 0x97d0, 0xd81, 0x8de9, 0x18a6, 0x0, 0x1);
        gbc.writeMem(0xe8d4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x500c);
        EXPECT(gbc.pc(), 0xe8d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8d4), 0x24);
        // 24 00ED
        gbc.setState(0x2de1, 0x59a9, 0xcb60, 0xe0cf, 0x558, 0x5be8, 0x1, 0x0);
        gbc.writeMem(0x2de1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x59a9);
        EXPECT(gbc.pc(), 0x2de2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00EE
        gbc.setState(0xed7a, 0x44c9, 0xb0e0, 0x29b4, 0x9e7, 0xf3c7, 0x0, 0x0);
        gbc.writeMem(0xed7a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x44c9);
        EXPECT(gbc.pc(), 0xed7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed7a), 0x24);
        // 24 00EF
        gbc.setState(0x33, 0x6b08, 0xf420, 0xacdb, 0x6017, 0x27dc, 0x0, 0x0);
        gbc.writeMem(0x33, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x6b08);
        EXPECT(gbc.pc(), 0x34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00F0
        gbc.setState(0x41d5, 0x8e99, 0xae20, 0x8bf0, 0x74d4, 0xd9a8, 0x1, 0x1);
        gbc.writeMem(0x41d5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x8e99);
        EXPECT(gbc.pc(), 0x41d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00F1
        gbc.setState(0x2656, 0xc1f0, 0x8580, 0x5932, 0xbcff, 0xff77, 0x1, 0x0);
        gbc.writeMem(0x2656, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xc1f0);
        EXPECT(gbc.pc(), 0x2657);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 00F2
        gbc.setState(0x320e, 0x5624, 0x30f0, 0x99e7, 0xbc8b, 0xf0eb, 0x1, 0x1);
        gbc.writeMem(0x320e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x5624);
        EXPECT(gbc.pc(), 0x320f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00F4
        gbc.setState(0xc602, 0xe199, 0x45c0, 0x6dfa, 0xa57b, 0xf5ad, 0x0, 0x1);
        gbc.writeMem(0xc602, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xe199);
        EXPECT(gbc.pc(), 0xc603);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc602), 0x24);
        // 24 00F5
        gbc.setState(0x48d8, 0x3933, 0xf470, 0x12c4, 0x1d2f, 0x7038, 0x1, 0x1);
        gbc.writeMem(0x48d8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x3933);
        EXPECT(gbc.pc(), 0x48d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00F6
        gbc.setState(0x37bf, 0xc8d, 0xee60, 0x8c1e, 0xdb14, 0x287d, 0x0, 0x1);
        gbc.writeMem(0x37bf, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xc8d);
        EXPECT(gbc.pc(), 0x37c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00F7
        gbc.setState(0xe494, 0x60a2, 0x1ca0, 0xcf70, 0x6696, 0xe496, 0x1, 0x0);
        gbc.writeMem(0xe494, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x60a2);
        EXPECT(gbc.pc(), 0xe495);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe494), 0x24);
        // 24 00F8
        gbc.setState(0x2140, 0x2fd7, 0xf670, 0xd762, 0x3991, 0x3994, 0x0, 0x1);
        gbc.writeMem(0x2140, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x2fd7);
        EXPECT(gbc.pc(), 0x2141);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 00F9
        gbc.setState(0xa54e, 0xeb9e, 0xa840, 0x322a, 0x4e53, 0x987e, 0x1, 0x1);
        gbc.writeMem(0xa54e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xeb9e);
        EXPECT(gbc.pc(), 0xa54f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa54e), 0x24);
        // 24 00FA
        gbc.setState(0x596b, 0xcfa9, 0xde30, 0x594f, 0x3e59, 0x6fbe, 0x1, 0x0);
        gbc.writeMem(0x596b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xcfa9);
        EXPECT(gbc.pc(), 0x596c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 00FB
        gbc.setState(0x2dc2, 0x3f58, 0xe2a0, 0x3100, 0xd66d, 0x8775, 0x1, 0x1);
        gbc.writeMem(0x2dc2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x3f58);
        EXPECT(gbc.pc(), 0x2dc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00FC
        gbc.setState(0x4c04, 0x7d48, 0xfee0, 0x69c1, 0x8d01, 0xc54d, 0x0, 0x0);
        gbc.writeMem(0x4c04, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x7d48);
        EXPECT(gbc.pc(), 0x4c05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 00FD
        gbc.setState(0x8203, 0xb1a9, 0xff90, 0xbbca, 0x8c69, 0xe8f2, 0x1, 0x1);
        gbc.writeMem(0x8203, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xb1a9);
        EXPECT(gbc.pc(), 0x8204);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8203), 0x24);
        // 24 00FF
        gbc.setState(0x297d, 0x4b89, 0x1620, 0x43b9, 0xbeb1, 0x46b7, 0x1, 0x1);
        gbc.writeMem(0x297d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x4b89);
        EXPECT(gbc.pc(), 0x297e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0100
        gbc.setState(0xba8f, 0xd2a0, 0xec20, 0x6cd, 0x4881, 0x14fa, 0x1, 0x1);
        gbc.writeMem(0xba8f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xd2a0);
        EXPECT(gbc.pc(), 0xba90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba8f), 0x24);
        // 24 0102
        gbc.setState(0x44f, 0x881e, 0xd550, 0x47a5, 0x7a31, 0x2e89, 0x0, 0x1);
        gbc.writeMem(0x44f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x881e);
        EXPECT(gbc.pc(), 0x450);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0103
        gbc.setState(0x35cf, 0x81ca, 0x9c00, 0x2f0f, 0x2f1f, 0x7c96, 0x1, 0x0);
        gbc.writeMem(0x35cf, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x81ca);
        EXPECT(gbc.pc(), 0x35d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0104
        gbc.setState(0xb836, 0xe22d, 0xf360, 0xf980, 0xdd83, 0xe401, 0x0, 0x1);
        gbc.writeMem(0xb836, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xe22d);
        EXPECT(gbc.pc(), 0xb837);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb836), 0x24);
        // 24 0105
        gbc.setState(0x55fc, 0x3474, 0xebc0, 0xee12, 0x100a, 0x8da7, 0x1, 0x1);
        gbc.writeMem(0x55fc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x3474);
        EXPECT(gbc.pc(), 0x55fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0106
        gbc.setState(0xa816, 0x5ecf, 0x5a10, 0xd6f0, 0x95bc, 0xeba1, 0x0, 0x1);
        gbc.writeMem(0xa816, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x5ecf);
        EXPECT(gbc.pc(), 0xa817);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa816), 0x24);
        // 24 0107
        gbc.setState(0x1494, 0xfdac, 0x1180, 0xd1f8, 0x882e, 0x938d, 0x0, 0x1);
        gbc.writeMem(0x1494, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xfdac);
        EXPECT(gbc.pc(), 0x1495);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0108
        gbc.setState(0x7303, 0x8142, 0xf1e0, 0x4d1d, 0xd45b, 0x43e9, 0x0, 0x1);
        gbc.writeMem(0x7303, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x8142);
        EXPECT(gbc.pc(), 0x7304);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0109
        gbc.setState(0xcfee, 0xd507, 0xadc0, 0x467a, 0x113, 0xd1fe, 0x0, 0x0);
        gbc.writeMem(0xcfee, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xd507);
        EXPECT(gbc.pc(), 0xcfef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcfee), 0x24);
        // 24 010A
        gbc.setState(0xd563, 0x7e86, 0xf220, 0xfcce, 0x71d9, 0x424e, 0x1, 0x0);
        gbc.writeMem(0xd563, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x7e86);
        EXPECT(gbc.pc(), 0xd564);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd563), 0x24);
        // 24 010B
        gbc.setState(0x94c0, 0xa891, 0x97c0, 0xf931, 0x778, 0x744e, 0x1, 0x0);
        gbc.writeMem(0x94c0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xa891);
        EXPECT(gbc.pc(), 0x94c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94c0), 0x24);
        // 24 010C
        gbc.setState(0x2b8c, 0x8e32, 0xf5e0, 0xa4ff, 0x2ad1, 0xbe59, 0x1, 0x0);
        gbc.writeMem(0x2b8c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x8e32);
        EXPECT(gbc.pc(), 0x2b8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 010D
        gbc.setState(0x9ea6, 0x9d24, 0x8ec0, 0xce24, 0xa83b, 0x9e72, 0x1, 0x1);
        gbc.writeMem(0x9ea6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x9d24);
        EXPECT(gbc.pc(), 0x9ea7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ea6), 0x24);
        // 24 010E
        gbc.setState(0x54fa, 0x8d3e, 0x60, 0x7b06, 0xf715, 0x5ba1, 0x0, 0x1);
        gbc.writeMem(0x54fa, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x8d3e);
        EXPECT(gbc.pc(), 0x54fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 010F
        gbc.setState(0x53f3, 0x7af7, 0xfbe0, 0x135a, 0xf355, 0x75a6, 0x1, 0x1);
        gbc.writeMem(0x53f3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x7af7);
        EXPECT(gbc.pc(), 0x53f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0110
        gbc.setState(0x59a4, 0xe052, 0x820, 0xaf2a, 0x9c9c, 0xf44, 0x0, 0x0);
        gbc.writeMem(0x59a4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xe052);
        EXPECT(gbc.pc(), 0x59a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 0111
        gbc.setState(0x4a26, 0x6f73, 0x340, 0x5ad4, 0x32a, 0x9639, 0x1, 0x0);
        gbc.writeMem(0x4a26, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x6f73);
        EXPECT(gbc.pc(), 0x4a27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0113
        gbc.setState(0xeef5, 0xbbc3, 0xc340, 0x5bd0, 0xa7d4, 0xd110, 0x0, 0x0);
        gbc.writeMem(0xeef5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xbbc3);
        EXPECT(gbc.pc(), 0xeef6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeef5), 0x24);
        // 24 0114
        gbc.setState(0x1f38, 0xcfcc, 0xc930, 0x2520, 0x4db3, 0x30ad, 0x0, 0x1);
        gbc.writeMem(0x1f38, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xcfcc);
        EXPECT(gbc.pc(), 0x1f39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0115
        gbc.setState(0xb64a, 0xa342, 0x4370, 0x841d, 0x658c, 0x3a82, 0x0, 0x0);
        gbc.writeMem(0xb64a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xa342);
        EXPECT(gbc.pc(), 0xb64b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb64a), 0x24);
        // 24 0116
        gbc.setState(0x6c14, 0xe444, 0x9720, 0x4f22, 0x2e5d, 0x77, 0x0, 0x0);
        gbc.writeMem(0x6c14, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xe444);
        EXPECT(gbc.pc(), 0x6c15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0117
        gbc.setState(0x955e, 0xa3a9, 0xfe40, 0x3ff2, 0x2f9e, 0x2a3d, 0x0, 0x1);
        gbc.writeMem(0x955e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa3a9);
        EXPECT(gbc.pc(), 0x955f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x955e), 0x24);
        // 24 0118
        gbc.setState(0x2957, 0xebf7, 0x3600, 0x5214, 0xc2ae, 0xd312, 0x0, 0x1);
        gbc.writeMem(0x2957, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xebf7);
        EXPECT(gbc.pc(), 0x2958);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0119
        gbc.setState(0x6679, 0x4e60, 0xdbc0, 0xad3e, 0x127f, 0xac39, 0x1, 0x1);
        gbc.writeMem(0x6679, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x4e60);
        EXPECT(gbc.pc(), 0x667a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 011A
        gbc.setState(0xc756, 0xc528, 0x3d20, 0x797b, 0x7e3e, 0x82c7, 0x1, 0x1);
        gbc.writeMem(0xc756, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xc528);
        EXPECT(gbc.pc(), 0xc757);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc756), 0x24);
        // 24 011B
        gbc.setState(0x710e, 0xcba3, 0x9ee0, 0x8fc3, 0x8359, 0x49f3, 0x1, 0x0);
        gbc.writeMem(0x710e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xcba3);
        EXPECT(gbc.pc(), 0x710f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 011C
        gbc.setState(0x516e, 0xd9a6, 0x6f30, 0xd82e, 0xec69, 0x2786, 0x0, 0x0);
        gbc.writeMem(0x516e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xd9a6);
        EXPECT(gbc.pc(), 0x516f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 011D
        gbc.setState(0x97f4, 0x2a3d, 0x4e90, 0x355c, 0xc5c3, 0x53fc, 0x0, 0x1);
        gbc.writeMem(0x97f4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x2a3d);
        EXPECT(gbc.pc(), 0x97f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97f4), 0x24);
        // 24 011E
        gbc.setState(0x860b, 0x1729, 0x3d90, 0x7c3d, 0x2093, 0x33d6, 0x0, 0x0);
        gbc.writeMem(0x860b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x1729);
        EXPECT(gbc.pc(), 0x860c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x860b), 0x24);
        // 24 011F
        gbc.setState(0xb6df, 0xa9a2, 0x9240, 0xa0c8, 0x7612, 0x3153, 0x1, 0x1);
        gbc.writeMem(0xb6df, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xa9a2);
        EXPECT(gbc.pc(), 0xb6e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6df), 0x24);
        // 24 0121
        gbc.setState(0xa411, 0x99b0, 0x8f0, 0x60db, 0xf0ff, 0xfdd4, 0x0, 0x1);
        gbc.writeMem(0xa411, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x99b0);
        EXPECT(gbc.pc(), 0xa412);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa411), 0x24);
        // 24 0122
        gbc.setState(0xc0cd, 0xbda4, 0x6cf0, 0x90eb, 0x47c6, 0x9a7b, 0x0, 0x0);
        gbc.writeMem(0xc0cd, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xbda4);
        EXPECT(gbc.pc(), 0xc0ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0cd), 0x24);
        // 24 0123
        gbc.setState(0xf2e, 0xe2a4, 0xccb0, 0xf702, 0x5a4a, 0xffe2, 0x0, 0x0);
        gbc.writeMem(0xf2e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xe2a4);
        EXPECT(gbc.pc(), 0xf2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 0124
        gbc.setState(0x8f24, 0xd2c1, 0x8590, 0x1ed8, 0x9d87, 0x2187, 0x0, 0x0);
        gbc.writeMem(0x8f24, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xd2c1);
        EXPECT(gbc.pc(), 0x8f25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f24), 0x24);
        // 24 0125
        gbc.setState(0xd59a, 0xfb89, 0x8dc0, 0x69c2, 0xa07d, 0x1dc4, 0x0, 0x1);
        gbc.writeMem(0xd59a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xfb89);
        EXPECT(gbc.pc(), 0xd59b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd59a), 0x24);
        // 24 0126
        gbc.setState(0xccc9, 0xd47b, 0x5020, 0xbb7b, 0xf68, 0xe2a8, 0x1, 0x0);
        gbc.writeMem(0xccc9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xd47b);
        EXPECT(gbc.pc(), 0xccca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccc9), 0x24);
        // 24 0127
        gbc.setState(0x9a57, 0xe2e3, 0x3420, 0x5300, 0x843f, 0xf7d9, 0x1, 0x0);
        gbc.writeMem(0x9a57, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xe2e3);
        EXPECT(gbc.pc(), 0x9a58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a57), 0x24);
        // 24 0128
        gbc.setState(0xcaca, 0xb725, 0x3ba0, 0x1abc, 0x5f82, 0xcefe, 0x0, 0x0);
        gbc.writeMem(0xcaca, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xb725);
        EXPECT(gbc.pc(), 0xcacb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaca), 0x24);
        // 24 0129
        gbc.setState(0x27c4, 0x5111, 0x8a60, 0x133a, 0x77a6, 0x1c70, 0x0, 0x0);
        gbc.writeMem(0x27c4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x5111);
        EXPECT(gbc.pc(), 0x27c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 012A
        gbc.setState(0x8be0, 0xc397, 0x9020, 0xb8dd, 0x89b6, 0x89e, 0x1, 0x0);
        gbc.writeMem(0x8be0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xc397);
        EXPECT(gbc.pc(), 0x8be1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8be0), 0x24);
        // 24 012B
        gbc.setState(0x464, 0x6f65, 0x3a70, 0x3ccc, 0x9a97, 0x1a12, 0x1, 0x0);
        gbc.writeMem(0x464, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x6f65);
        EXPECT(gbc.pc(), 0x465);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 012C
        gbc.setState(0x19c2, 0xfbf2, 0x6a60, 0x311d, 0x35cf, 0xbbd6, 0x0, 0x0);
        gbc.writeMem(0x19c2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xfbf2);
        EXPECT(gbc.pc(), 0x19c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 012D
        gbc.setState(0x119a, 0x2d31, 0x7830, 0x7af, 0x566a, 0xbb19, 0x1, 0x0);
        gbc.writeMem(0x119a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x2d31);
        EXPECT(gbc.pc(), 0x119b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 012E
        gbc.setState(0x688d, 0x53ef, 0x6c50, 0xeeae, 0x5e4a, 0x3e59, 0x1, 0x1);
        gbc.writeMem(0x688d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x53ef);
        EXPECT(gbc.pc(), 0x688e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0130
        gbc.setState(0xb468, 0x231d, 0xf3e0, 0x71cc, 0x8750, 0xebfd, 0x1, 0x1);
        gbc.writeMem(0xb468, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x231d);
        EXPECT(gbc.pc(), 0xb469);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb468), 0x24);
        // 24 0131
        gbc.setState(0x39eb, 0x6783, 0xdc30, 0x42, 0x4748, 0x7e2d, 0x1, 0x0);
        gbc.writeMem(0x39eb, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x6783);
        EXPECT(gbc.pc(), 0x39ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0132
        gbc.setState(0x3dd4, 0x5af7, 0x49f0, 0x344a, 0x5aa3, 0xd861, 0x0, 0x0);
        gbc.writeMem(0x3dd4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x5af7);
        EXPECT(gbc.pc(), 0x3dd5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0133
        gbc.setState(0x447e, 0xe530, 0x86a0, 0x652d, 0x88ef, 0xa8cf, 0x0, 0x0);
        gbc.writeMem(0x447e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xe530);
        EXPECT(gbc.pc(), 0x447f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0134
        gbc.setState(0x70, 0xf5f1, 0xab60, 0x39bc, 0xb723, 0x6f3a, 0x1, 0x1);
        gbc.writeMem(0x70, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf5f1);
        EXPECT(gbc.pc(), 0x71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 0135
        gbc.setState(0x48b6, 0x4bc, 0x7540, 0xdd0d, 0x1465, 0x2198, 0x1, 0x1);
        gbc.writeMem(0x48b6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4bc);
        EXPECT(gbc.pc(), 0x48b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0136
        gbc.setState(0x86e9, 0x4d67, 0xc5f0, 0xf463, 0x414a, 0x5a5a, 0x1, 0x1);
        gbc.writeMem(0x86e9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x4d67);
        EXPECT(gbc.pc(), 0x86ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86e9), 0x24);
        // 24 0137
        gbc.setState(0x6730, 0x8f75, 0xfa0, 0x2c45, 0x189e, 0x4ff6, 0x1, 0x0);
        gbc.writeMem(0x6730, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x8f75);
        EXPECT(gbc.pc(), 0x6731);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 0138
        gbc.setState(0x63d8, 0x4d4, 0xbbf0, 0x2eab, 0x712a, 0x26ed, 0x0, 0x1);
        gbc.writeMem(0x63d8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x4d4);
        EXPECT(gbc.pc(), 0x63d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0139
        gbc.setState(0x22e0, 0x9528, 0xd930, 0x661f, 0xabd9, 0x1854, 0x0, 0x1);
        gbc.writeMem(0x22e0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x9528);
        EXPECT(gbc.pc(), 0x22e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 013A
        gbc.setState(0x8700, 0xc968, 0xf830, 0xec43, 0xdd3f, 0x5714, 0x0, 0x0);
        gbc.writeMem(0x8700, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xc968);
        EXPECT(gbc.pc(), 0x8701);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8700), 0x24);
        // 24 013B
        gbc.setState(0x8e08, 0x2b7c, 0xce50, 0xd127, 0x6eab, 0x87ac, 0x0, 0x0);
        gbc.writeMem(0x8e08, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x2b7c);
        EXPECT(gbc.pc(), 0x8e09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e08), 0x24);
        // 24 013C
        gbc.setState(0xdfe6, 0x312c, 0xf810, 0x3bed, 0x4fc6, 0x49e5, 0x1, 0x0);
        gbc.writeMem(0xdfe6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x312c);
        EXPECT(gbc.pc(), 0xdfe7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfe6), 0x24);
        // 24 013D
        gbc.setState(0xd9f3, 0x617a, 0x90f0, 0x8ddc, 0x2c1b, 0xc7ab, 0x0, 0x1);
        gbc.writeMem(0xd9f3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x617a);
        EXPECT(gbc.pc(), 0xd9f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9f3), 0x24);
        // 24 013E
        gbc.setState(0x851c, 0xaed8, 0x9d10, 0xbca2, 0xd9bb, 0xa16d, 0x1, 0x0);
        gbc.writeMem(0x851c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0xaed8);
        EXPECT(gbc.pc(), 0x851d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x851c), 0x24);
        // 24 013F
        gbc.setState(0x86a, 0xece4, 0xd420, 0x1dad, 0xc55b, 0x1e58, 0x0, 0x1);
        gbc.writeMem(0x86a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xece4);
        EXPECT(gbc.pc(), 0x86b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0141
        gbc.setState(0x58c5, 0xabc8, 0x4420, 0xda21, 0xb467, 0x48c2, 0x0, 0x0);
        gbc.writeMem(0x58c5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xabc8);
        EXPECT(gbc.pc(), 0x58c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0142
        gbc.setState(0x49c3, 0x4f7d, 0x3160, 0x6704, 0x6f42, 0x4145, 0x0, 0x1);
        gbc.writeMem(0x49c3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x4f7d);
        EXPECT(gbc.pc(), 0x49c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0143
        gbc.setState(0x65ff, 0x1ae1, 0x2600, 0x94d3, 0xee4c, 0x9902, 0x0, 0x0);
        gbc.writeMem(0x65ff, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x1ae1);
        EXPECT(gbc.pc(), 0x6600);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0144
        gbc.setState(0x7be4, 0x8633, 0xd2f0, 0xbfa1, 0x9a1, 0x5c13, 0x1, 0x0);
        gbc.writeMem(0x7be4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x8633);
        EXPECT(gbc.pc(), 0x7be5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0145
        gbc.setState(0x5591, 0x756a, 0x7210, 0x9edc, 0xad01, 0x36bf, 0x0, 0x0);
        gbc.writeMem(0x5591, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x756a);
        EXPECT(gbc.pc(), 0x5592);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0147
        gbc.setState(0xb08b, 0xe537, 0x5980, 0x70d6, 0x549c, 0xfede, 0x0, 0x0);
        gbc.writeMem(0xb08b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xe537);
        EXPECT(gbc.pc(), 0xb08c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb08b), 0x24);
        // 24 0148
        gbc.setState(0x194e, 0xafce, 0x12c0, 0x41ee, 0x1b07, 0x23f, 0x1, 0x0);
        gbc.writeMem(0x194e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xafce);
        EXPECT(gbc.pc(), 0x194f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0149
        gbc.setState(0xb517, 0x15f9, 0xd2c0, 0x8f34, 0x3957, 0xe21, 0x0, 0x1);
        gbc.writeMem(0xb517, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x15f9);
        EXPECT(gbc.pc(), 0xb518);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb517), 0x24);
        // 24 014A
        gbc.setState(0x8117, 0x37c5, 0xda90, 0xaec0, 0xd518, 0x5e15, 0x0, 0x0);
        gbc.writeMem(0x8117, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x37c5);
        EXPECT(gbc.pc(), 0x8118);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8117), 0x24);
        // 24 014B
        gbc.setState(0x1237, 0x2a1a, 0xbb70, 0xd5b4, 0x9838, 0x23c2, 0x1, 0x0);
        gbc.writeMem(0x1237, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x2a1a);
        EXPECT(gbc.pc(), 0x1238);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 014C
        gbc.setState(0x3399, 0xbde3, 0x1030, 0x1390, 0x452f, 0xc2b2, 0x1, 0x1);
        gbc.writeMem(0x3399, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xbde3);
        EXPECT(gbc.pc(), 0x339a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 014D
        gbc.setState(0x2370, 0xc01f, 0xf700, 0x1bab, 0x8866, 0x105b, 0x1, 0x0);
        gbc.writeMem(0x2370, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xc01f);
        EXPECT(gbc.pc(), 0x2371);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 014E
        gbc.setState(0x78d3, 0x7c3, 0x5f50, 0xab15, 0x29f9, 0x6644, 0x1, 0x0);
        gbc.writeMem(0x78d3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x7c3);
        EXPECT(gbc.pc(), 0x78d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 014F
        gbc.setState(0x29ea, 0x180c, 0xe5e0, 0x91b6, 0xe83c, 0x6a10, 0x0, 0x1);
        gbc.writeMem(0x29ea, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x180c);
        EXPECT(gbc.pc(), 0x29eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0150
        gbc.setState(0x98d8, 0x2388, 0x5810, 0xe632, 0xd0d9, 0x8f14, 0x0, 0x1);
        gbc.writeMem(0x98d8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x2388);
        EXPECT(gbc.pc(), 0x98d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98d8), 0x24);
        // 24 0151
        gbc.setState(0x7453, 0x1d42, 0x10b0, 0x99ef, 0x9bbb, 0xeb98, 0x1, 0x0);
        gbc.writeMem(0x7453, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x1d42);
        EXPECT(gbc.pc(), 0x7454);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0152
        gbc.setState(0x8168, 0xb350, 0xa650, 0xf2d2, 0xa2d9, 0x14e6, 0x0, 0x0);
        gbc.writeMem(0x8168, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xb350);
        EXPECT(gbc.pc(), 0x8169);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8168), 0x24);
        // 24 0153
        gbc.setState(0x94a, 0x979a, 0x2f50, 0x50ca, 0xb93, 0xb99b, 0x1, 0x0);
        gbc.writeMem(0x94a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x979a);
        EXPECT(gbc.pc(), 0x94b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0155
        gbc.setState(0x90d1, 0x9249, 0xab70, 0x4bb6, 0x3a70, 0xee59, 0x0, 0x0);
        gbc.writeMem(0x90d1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x9249);
        EXPECT(gbc.pc(), 0x90d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x90d1), 0x24);
        // 24 0156
        gbc.setState(0x8463, 0xaebd, 0x8710, 0x173, 0x3567, 0xb654, 0x0, 0x1);
        gbc.writeMem(0x8463, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xaebd);
        EXPECT(gbc.pc(), 0x8464);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8463), 0x24);
        // 24 0157
        gbc.setState(0xe61, 0xf3f0, 0xcbd0, 0xb841, 0xd9cb, 0xd4e, 0x0, 0x0);
        gbc.writeMem(0xe61, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xf3f0);
        EXPECT(gbc.pc(), 0xe62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0159
        gbc.setState(0xe7c8, 0xf0de, 0x91f0, 0xadc4, 0x1d56, 0x1f8a, 0x1, 0x1);
        gbc.writeMem(0xe7c8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xf0de);
        EXPECT(gbc.pc(), 0xe7c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7c8), 0x24);
        // 24 015A
        gbc.setState(0x9626, 0x6200, 0xe050, 0x649, 0x63e0, 0x86de, 0x0, 0x1);
        gbc.writeMem(0x9626, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6200);
        EXPECT(gbc.pc(), 0x9627);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9626), 0x24);
        // 24 015B
        gbc.setState(0x97f8, 0x2017, 0x4330, 0x11be, 0xcbcf, 0x40d9, 0x0, 0x0);
        gbc.writeMem(0x97f8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x2017);
        EXPECT(gbc.pc(), 0x97f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x97f8), 0x24);
        // 24 015C
        gbc.setState(0xc00c, 0x9b38, 0xfc90, 0x5ee2, 0x9bf, 0xb376, 0x1, 0x1);
        gbc.writeMem(0xc00c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x9b38);
        EXPECT(gbc.pc(), 0xc00d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc00c), 0x24);
        // 24 015D
        gbc.setState(0x1e9e, 0x2411, 0x23a0, 0x8425, 0xdad0, 0xd571, 0x1, 0x1);
        gbc.writeMem(0x1e9e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x2411);
        EXPECT(gbc.pc(), 0x1e9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 015E
        gbc.setState(0xd7a7, 0xdefb, 0xeaa0, 0x8d6e, 0x998e, 0x9183, 0x0, 0x1);
        gbc.writeMem(0xd7a7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xdefb);
        EXPECT(gbc.pc(), 0xd7a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7a7), 0x24);
        // 24 015F
        gbc.setState(0x89e8, 0x7c01, 0x9280, 0x2877, 0x3225, 0x9c17, 0x0, 0x0);
        gbc.writeMem(0x89e8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x7c01);
        EXPECT(gbc.pc(), 0x89e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89e8), 0x24);
        // 24 0160
        gbc.setState(0x1c9c, 0xd194, 0x1320, 0x6b49, 0x2d44, 0x2d0c, 0x1, 0x1);
        gbc.writeMem(0x1c9c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xd194);
        EXPECT(gbc.pc(), 0x1c9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0161
        gbc.setState(0x1a5d, 0x85e2, 0xa110, 0xa3de, 0x4e65, 0xb8f5, 0x1, 0x0);
        gbc.writeMem(0x1a5d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x85e2);
        EXPECT(gbc.pc(), 0x1a5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0163
        gbc.setState(0xda90, 0x8355, 0x7320, 0xba90, 0xd3ef, 0x425d, 0x0, 0x1);
        gbc.writeMem(0xda90, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x8355);
        EXPECT(gbc.pc(), 0xda91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda90), 0x24);
        // 24 0164
        gbc.setState(0x849b, 0x641, 0xdee0, 0xd651, 0xf7eb, 0xcc12, 0x0, 0x1);
        gbc.writeMem(0x849b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x641);
        EXPECT(gbc.pc(), 0x849c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x849b), 0x24);
        // 24 0165
        gbc.setState(0x819, 0x8081, 0x19a0, 0x384c, 0x135a, 0xac9a, 0x0, 0x1);
        gbc.writeMem(0x819, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x8081);
        EXPECT(gbc.pc(), 0x81a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0166
        gbc.setState(0x6a55, 0xf29c, 0x5720, 0x6002, 0xa2f9, 0x4bca, 0x1, 0x1);
        gbc.writeMem(0x6a55, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xf29c);
        EXPECT(gbc.pc(), 0x6a56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0167
        gbc.setState(0x7e76, 0x2a70, 0x5a80, 0x9559, 0xb659, 0x4799, 0x0, 0x1);
        gbc.writeMem(0x7e76, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x2a70);
        EXPECT(gbc.pc(), 0x7e77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0168
        gbc.setState(0x1eae, 0xb6e1, 0xacc0, 0x92bf, 0x200e, 0x3c7, 0x0, 0x0);
        gbc.writeMem(0x1eae, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xb6e1);
        EXPECT(gbc.pc(), 0x1eaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0169
        gbc.setState(0x2cba, 0x1200, 0x3010, 0x2124, 0x9c46, 0x94bb, 0x1, 0x1);
        gbc.writeMem(0x2cba, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x1200);
        EXPECT(gbc.pc(), 0x2cbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 016A
        gbc.setState(0x1c4f, 0x3212, 0x89b0, 0x41f4, 0x19e4, 0x38eb, 0x0, 0x0);
        gbc.writeMem(0x1c4f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x3212);
        EXPECT(gbc.pc(), 0x1c50);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 016B
        gbc.setState(0xc2ef, 0x1c46, 0x9ab0, 0xb75f, 0xdae, 0x56d7, 0x0, 0x1);
        gbc.writeMem(0xc2ef, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x1c46);
        EXPECT(gbc.pc(), 0xc2f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2ef), 0x24);
        // 24 016C
        gbc.setState(0xc76d, 0x69f1, 0xcdc0, 0x8252, 0x20a5, 0x733, 0x1, 0x0);
        gbc.writeMem(0xc76d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x69f1);
        EXPECT(gbc.pc(), 0xc76e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc76d), 0x24);
        // 24 016D
        gbc.setState(0xba0c, 0x5a66, 0x8dd0, 0x9315, 0xc28d, 0x1e13, 0x1, 0x1);
        gbc.writeMem(0xba0c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x5a66);
        EXPECT(gbc.pc(), 0xba0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba0c), 0x24);
        // 24 016E
        gbc.setState(0x2834, 0xe0b8, 0xb160, 0x4e78, 0x99f4, 0x653, 0x0, 0x1);
        gbc.writeMem(0x2834, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xe0b8);
        EXPECT(gbc.pc(), 0x2835);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 016F
        gbc.setState(0x8a60, 0xa598, 0x1b50, 0x68c0, 0x9b4d, 0x1f24, 0x0, 0x0);
        gbc.writeMem(0x8a60, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xa598);
        EXPECT(gbc.pc(), 0x8a61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a60), 0x24);
        // 24 0170
        gbc.setState(0x5460, 0xc523, 0xa890, 0x5bb9, 0xf0ac, 0xbd1d, 0x0, 0x0);
        gbc.writeMem(0x5460, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xc523);
        EXPECT(gbc.pc(), 0x5461);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0171
        gbc.setState(0x157c, 0x4d01, 0x4680, 0xe79d, 0xdcf9, 0xcaea, 0x1, 0x1);
        gbc.writeMem(0x157c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x4d01);
        EXPECT(gbc.pc(), 0x157d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0172
        gbc.setState(0x3a39, 0xb805, 0xcf20, 0x80db, 0x978c, 0x9133, 0x1, 0x1);
        gbc.writeMem(0x3a39, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xb805);
        EXPECT(gbc.pc(), 0x3a3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0173
        gbc.setState(0xc80c, 0xb9f5, 0xfbc0, 0xc99c, 0x7a9d, 0x451c, 0x1, 0x0);
        gbc.writeMem(0xc80c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xb9f5);
        EXPECT(gbc.pc(), 0xc80d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc80c), 0x24);
        // 24 0174
        gbc.setState(0x3588, 0x92d9, 0x7c00, 0x7feb, 0xe77f, 0x5e72, 0x1, 0x0);
        gbc.writeMem(0x3588, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x92d9);
        EXPECT(gbc.pc(), 0x3589);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0177
        gbc.setState(0x1405, 0x522e, 0xf00, 0x2835, 0xa75b, 0xede8, 0x0, 0x1);
        gbc.writeMem(0x1405, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x522e);
        EXPECT(gbc.pc(), 0x1406);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0178
        gbc.setState(0x644, 0x44d8, 0xdfd0, 0xf451, 0x1435, 0x8db3, 0x0, 0x0);
        gbc.writeMem(0x644, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x44d8);
        EXPECT(gbc.pc(), 0x645);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0179
        gbc.setState(0xebf2, 0x570c, 0x2c00, 0xdd21, 0xc2ad, 0x1539, 0x0, 0x0);
        gbc.writeMem(0xebf2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x570c);
        EXPECT(gbc.pc(), 0xebf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebf2), 0x24);
        // 24 017A
        gbc.setState(0x7d2d, 0xb957, 0x8ed0, 0x3512, 0xf26a, 0x5201, 0x0, 0x1);
        gbc.writeMem(0x7d2d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xb957);
        EXPECT(gbc.pc(), 0x7d2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 017B
        gbc.setState(0x79b8, 0x1451, 0x3190, 0xc3f5, 0x584c, 0x6177, 0x1, 0x1);
        gbc.writeMem(0x79b8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x1451);
        EXPECT(gbc.pc(), 0x79b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 017C
        gbc.setState(0x4b29, 0x96f9, 0x7c60, 0xcfa0, 0x8f93, 0x639e, 0x1, 0x0);
        gbc.writeMem(0x4b29, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x96f9);
        EXPECT(gbc.pc(), 0x4b2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 017D
        gbc.setState(0xad22, 0x6d56, 0x2b00, 0x3c45, 0x340e, 0xf197, 0x0, 0x1);
        gbc.writeMem(0xad22, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x6d56);
        EXPECT(gbc.pc(), 0xad23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad22), 0x24);
        // 24 017E
        gbc.setState(0xe00e, 0xf810, 0x45f0, 0x7f08, 0xcc95, 0xe1db, 0x0, 0x0);
        gbc.writeMem(0xe00e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xf810);
        EXPECT(gbc.pc(), 0xe00f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe00e), 0x24);
        // 24 017F
        gbc.setState(0xd498, 0x1422, 0x81b0, 0xf823, 0x11a5, 0xcc08, 0x1, 0x0);
        gbc.writeMem(0xd498, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x1422);
        EXPECT(gbc.pc(), 0xd499);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd498), 0x24);
        // 24 0180
        gbc.setState(0xd8fb, 0x88ff, 0xef70, 0x7b0d, 0xbe37, 0x8eab, 0x1, 0x1);
        gbc.writeMem(0xd8fb, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x88ff);
        EXPECT(gbc.pc(), 0xd8fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8fb), 0x24);
        // 24 0181
        gbc.setState(0xa072, 0x2b91, 0xd150, 0x1ff3, 0x4214, 0x563b, 0x0, 0x0);
        gbc.writeMem(0xa072, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x2b91);
        EXPECT(gbc.pc(), 0xa073);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa072), 0x24);
        // 24 0182
        gbc.setState(0xc4ef, 0x1221, 0xa550, 0x1252, 0x7243, 0xc0be, 0x1, 0x1);
        gbc.writeMem(0xc4ef, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x1221);
        EXPECT(gbc.pc(), 0xc4f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4ef), 0x24);
        // 24 0183
        gbc.setState(0x5c85, 0xf756, 0xb9b0, 0x6b53, 0x5754, 0xba7c, 0x1, 0x1);
        gbc.writeMem(0x5c85, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xf756);
        EXPECT(gbc.pc(), 0x5c86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0184
        gbc.setState(0x8b18, 0x348c, 0x2290, 0xb5a3, 0x1432, 0xfc22, 0x1, 0x1);
        gbc.writeMem(0x8b18, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x348c);
        EXPECT(gbc.pc(), 0x8b19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b18), 0x24);
        // 24 0185
        gbc.setState(0x71aa, 0x7d88, 0xcca0, 0x836b, 0xda6, 0xc611, 0x1, 0x0);
        gbc.writeMem(0x71aa, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x7d88);
        EXPECT(gbc.pc(), 0x71ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0186
        gbc.setState(0xa5b, 0x4e96, 0xc060, 0x2571, 0x9190, 0x27d4, 0x1, 0x0);
        gbc.writeMem(0xa5b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x4e96);
        EXPECT(gbc.pc(), 0xa5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0187
        gbc.setState(0x31ef, 0x6768, 0xa1d0, 0xbd29, 0xc73d, 0xdeb4, 0x0, 0x1);
        gbc.writeMem(0x31ef, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x6768);
        EXPECT(gbc.pc(), 0x31f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0188
        gbc.setState(0xe51c, 0x710e, 0x7ea0, 0x5927, 0x7204, 0xeb89, 0x1, 0x0);
        gbc.writeMem(0xe51c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x710e);
        EXPECT(gbc.pc(), 0xe51d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe51c), 0x24);
        // 24 0189
        gbc.setState(0x8f2e, 0x6928, 0xf7b0, 0x9e96, 0xa15b, 0x899f, 0x1, 0x1);
        gbc.writeMem(0x8f2e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x6928);
        EXPECT(gbc.pc(), 0x8f2f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f2e), 0x24);
        // 24 018A
        gbc.setState(0x8eca, 0x195e, 0x1df0, 0x9cd3, 0x6e96, 0xdc54, 0x0, 0x0);
        gbc.writeMem(0x8eca, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x195e);
        EXPECT(gbc.pc(), 0x8ecb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8eca), 0x24);
        // 24 018B
        gbc.setState(0x8897, 0x4c37, 0x6ba0, 0x22f4, 0xd638, 0xcca0, 0x0, 0x1);
        gbc.writeMem(0x8897, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x4c37);
        EXPECT(gbc.pc(), 0x8898);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8897), 0x24);
        // 24 018C
        gbc.setState(0xb05b, 0xfa26, 0xc1e0, 0x62e2, 0x7692, 0xbea1, 0x0, 0x0);
        gbc.writeMem(0xb05b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xfa26);
        EXPECT(gbc.pc(), 0xb05c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb05b), 0x24);
        // 24 018D
        gbc.setState(0xa4d6, 0x9ec0, 0xae10, 0x83b0, 0x642a, 0x876a, 0x1, 0x0);
        gbc.writeMem(0xa4d6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x9ec0);
        EXPECT(gbc.pc(), 0xa4d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4d6), 0x24);
        // 24 018E
        gbc.setState(0xd522, 0x2557, 0x7b90, 0x2970, 0x4d2d, 0x384b, 0x0, 0x0);
        gbc.writeMem(0xd522, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x2557);
        EXPECT(gbc.pc(), 0xd523);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd522), 0x24);
        // 24 018F
        gbc.setState(0xef3e, 0x14a5, 0x28d0, 0xca20, 0x5c61, 0x3f6, 0x0, 0x1);
        gbc.writeMem(0xef3e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x14a5);
        EXPECT(gbc.pc(), 0xef3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef3e), 0x24);
        // 24 0191
        gbc.setState(0x43bd, 0x57dd, 0xc700, 0xca5a, 0x5a39, 0x9146, 0x1, 0x0);
        gbc.writeMem(0x43bd, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x57dd);
        EXPECT(gbc.pc(), 0x43be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0192
        gbc.setState(0xe112, 0xcb78, 0x8900, 0x2e90, 0xb707, 0xdf88, 0x1, 0x0);
        gbc.writeMem(0xe112, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xcb78);
        EXPECT(gbc.pc(), 0xe113);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe112), 0x24);
        // 24 0193
        gbc.setState(0x9bc2, 0x412b, 0x8440, 0x7212, 0xeb8e, 0xdad9, 0x1, 0x1);
        gbc.writeMem(0x9bc2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x412b);
        EXPECT(gbc.pc(), 0x9bc3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bc2), 0x24);
        // 24 0194
        gbc.setState(0xe1c3, 0x2bba, 0xf150, 0xfc9d, 0xc4bf, 0x7c02, 0x1, 0x1);
        gbc.writeMem(0xe1c3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x2bba);
        EXPECT(gbc.pc(), 0xe1c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1c3), 0x24);
        // 24 0195
        gbc.setState(0x40bf, 0xe04c, 0x2e0, 0xcb2b, 0x41fe, 0x56f5, 0x1, 0x1);
        gbc.writeMem(0x40bf, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xe04c);
        EXPECT(gbc.pc(), 0x40c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0196
        gbc.setState(0xae78, 0xae12, 0xfa00, 0x4213, 0x418d, 0xbf6f, 0x1, 0x1);
        gbc.writeMem(0xae78, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xae12);
        EXPECT(gbc.pc(), 0xae79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae78), 0x24);
        // 24 0197
        gbc.setState(0x84f3, 0x910, 0x2660, 0x7fa1, 0x76a5, 0x1c, 0x1, 0x1);
        gbc.writeMem(0x84f3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x910);
        EXPECT(gbc.pc(), 0x84f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84f3), 0x24);
        // 24 0198
        gbc.setState(0x8687, 0x2ca7, 0xc370, 0x7332, 0xe1f, 0x7b9c, 0x0, 0x0);
        gbc.writeMem(0x8687, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x2ca7);
        EXPECT(gbc.pc(), 0x8688);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8687), 0x24);
        // 24 0199
        gbc.setState(0x8d31, 0xeb1d, 0xe8d0, 0xd540, 0x1692, 0xc7ec, 0x1, 0x0);
        gbc.writeMem(0x8d31, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xeb1d);
        EXPECT(gbc.pc(), 0x8d32);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d31), 0x24);
        // 24 019A
        gbc.setState(0x1134, 0xb782, 0xeaa0, 0x6740, 0x1e47, 0xd1cf, 0x1, 0x1);
        gbc.writeMem(0x1134, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xb782);
        EXPECT(gbc.pc(), 0x1135);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 019B
        gbc.setState(0x28a2, 0x43fd, 0x80b0, 0x744c, 0x2fcb, 0x8957, 0x1, 0x0);
        gbc.writeMem(0x28a2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x43fd);
        EXPECT(gbc.pc(), 0x28a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 019C
        gbc.setState(0x159a, 0xb0cf, 0xcb70, 0x121a, 0x51b4, 0xfc3a, 0x0, 0x1);
        gbc.writeMem(0x159a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xb0cf);
        EXPECT(gbc.pc(), 0x159b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 019D
        gbc.setState(0x1bd0, 0xe37e, 0x8d60, 0x25bb, 0xa96a, 0xb173, 0x1, 0x0);
        gbc.writeMem(0x1bd0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xe37e);
        EXPECT(gbc.pc(), 0x1bd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 019E
        gbc.setState(0xe065, 0xb674, 0xfc50, 0x4080, 0x3c29, 0x78b1, 0x0, 0x1);
        gbc.writeMem(0xe065, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xb674);
        EXPECT(gbc.pc(), 0xe066);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe065), 0x24);
        // 24 019F
        gbc.setState(0x6cb2, 0x632c, 0x50, 0x22b4, 0xc641, 0xff1f, 0x0, 0x1);
        gbc.writeMem(0x6cb2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x632c);
        EXPECT(gbc.pc(), 0x6cb3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 01A0
        gbc.setState(0x3a67, 0xc65, 0xb080, 0x8681, 0x7e15, 0xf464, 0x1, 0x1);
        gbc.writeMem(0x3a67, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xc65);
        EXPECT(gbc.pc(), 0x3a68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01A1
        gbc.setState(0xa83, 0xfe6a, 0x2360, 0xe21c, 0xb9b4, 0xefcf, 0x0, 0x0);
        gbc.writeMem(0xa83, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xfe6a);
        EXPECT(gbc.pc(), 0xa84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 01A2
        gbc.setState(0x7a68, 0x3c37, 0xd950, 0xd89b, 0x981f, 0x7542, 0x0, 0x0);
        gbc.writeMem(0x7a68, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x3c37);
        EXPECT(gbc.pc(), 0x7a69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01A3
        gbc.setState(0x7ad7, 0x15e7, 0x9bb0, 0xf634, 0x4afa, 0x22fe, 0x1, 0x1);
        gbc.writeMem(0x7ad7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x15e7);
        EXPECT(gbc.pc(), 0x7ad8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01A4
        gbc.setState(0x12e1, 0xc38d, 0x9880, 0x7eee, 0xda03, 0xee70, 0x0, 0x0);
        gbc.writeMem(0x12e1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xc38d);
        EXPECT(gbc.pc(), 0x12e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01A5
        gbc.setState(0xcbd7, 0x7eba, 0xb40, 0xfc22, 0x7073, 0xd683, 0x0, 0x1);
        gbc.writeMem(0xcbd7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x7eba);
        EXPECT(gbc.pc(), 0xcbd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbd7), 0x24);
        // 24 01A6
        gbc.setState(0xb753, 0x58da, 0xa970, 0x8785, 0x1d65, 0x263, 0x0, 0x1);
        gbc.writeMem(0xb753, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x58da);
        EXPECT(gbc.pc(), 0xb754);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb753), 0x24);
        // 24 01A7
        gbc.setState(0x22cc, 0x439f, 0x5a20, 0x7a9b, 0x25c5, 0x1910, 0x1, 0x1);
        gbc.writeMem(0x22cc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x439f);
        EXPECT(gbc.pc(), 0x22cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01A8
        gbc.setState(0x1d22, 0x1f1f, 0xc230, 0xc435, 0xab76, 0x9a70, 0x0, 0x0);
        gbc.writeMem(0x1d22, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x1f1f);
        EXPECT(gbc.pc(), 0x1d23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01A9
        gbc.setState(0xab78, 0xdbec, 0x2cc0, 0x482b, 0x1a29, 0x4633, 0x1, 0x1);
        gbc.writeMem(0xab78, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xdbec);
        EXPECT(gbc.pc(), 0xab79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab78), 0x24);
        // 24 01AA
        gbc.setState(0xb230, 0xc56f, 0x3ad0, 0x5aa, 0xb6a2, 0x1150, 0x1, 0x1);
        gbc.writeMem(0xb230, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xc56f);
        EXPECT(gbc.pc(), 0xb231);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb230), 0x24);
        // 24 01AB
        gbc.setState(0x768c, 0x2ad3, 0xe960, 0x30b1, 0x7d9c, 0x926c, 0x1, 0x0);
        gbc.writeMem(0x768c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x2ad3);
        EXPECT(gbc.pc(), 0x768d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01AC
        gbc.setState(0x53b, 0x9eea, 0x9d50, 0x3e83, 0x4da0, 0xf5bf, 0x1, 0x1);
        gbc.writeMem(0x53b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x9eea);
        EXPECT(gbc.pc(), 0x53c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01AD
        gbc.setState(0xee81, 0xd69c, 0x4e50, 0xc6e7, 0x5069, 0xac55, 0x1, 0x0);
        gbc.writeMem(0xee81, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xd69c);
        EXPECT(gbc.pc(), 0xee82);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee81), 0x24);
        // 24 01AE
        gbc.setState(0xca1a, 0xd4d9, 0x1ad0, 0x794c, 0x8b99, 0x7247, 0x1, 0x1);
        gbc.writeMem(0xca1a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xd4d9);
        EXPECT(gbc.pc(), 0xca1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca1a), 0x24);
        // 24 01AF
        gbc.setState(0x9e48, 0x253a, 0xc970, 0x27df, 0xce7f, 0x4078, 0x1, 0x0);
        gbc.writeMem(0x9e48, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x253a);
        EXPECT(gbc.pc(), 0x9e49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e48), 0x24);
        // 24 01B0
        gbc.setState(0xb557, 0xe96a, 0x1fd0, 0x8889, 0xffa, 0x9ccb, 0x0, 0x0);
        gbc.writeMem(0xb557, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0xe96a);
        EXPECT(gbc.pc(), 0xb558);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb557), 0x24);
        // 24 01B1
        gbc.setState(0x6425, 0xc998, 0x8350, 0x1a42, 0xf265, 0xd5d4, 0x1, 0x0);
        gbc.writeMem(0x6425, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xc998);
        EXPECT(gbc.pc(), 0x6426);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01B3
        gbc.setState(0xbf27, 0x7152, 0xfc30, 0xf5d3, 0xdebc, 0x435d, 0x0, 0x0);
        gbc.writeMem(0xbf27, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x7152);
        EXPECT(gbc.pc(), 0xbf28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf27), 0x24);
        // 24 01B4
        gbc.setState(0xa2b2, 0x5a63, 0xdd80, 0x1a5, 0x2652, 0x809e, 0x1, 0x1);
        gbc.writeMem(0xa2b2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x5a63);
        EXPECT(gbc.pc(), 0xa2b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2b2), 0x24);
        // 24 01B5
        gbc.setState(0x2dce, 0xbd53, 0x2bb0, 0x47c9, 0xed90, 0xd8ed, 0x1, 0x1);
        gbc.writeMem(0x2dce, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xbd53);
        EXPECT(gbc.pc(), 0x2dcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01B6
        gbc.setState(0x963, 0x859f, 0x8700, 0x361e, 0xf136, 0x8ca2, 0x0, 0x0);
        gbc.writeMem(0x963, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x859f);
        EXPECT(gbc.pc(), 0x964);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01B7
        gbc.setState(0x1372, 0x5940, 0x5ff0, 0x5d69, 0x7143, 0xdd3c, 0x1, 0x0);
        gbc.writeMem(0x1372, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x5940);
        EXPECT(gbc.pc(), 0x1373);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01B8
        gbc.setState(0x2a28, 0x5675, 0x23a0, 0x406a, 0xede6, 0x1c59, 0x1, 0x0);
        gbc.writeMem(0x2a28, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x5675);
        EXPECT(gbc.pc(), 0x2a29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01B9
        gbc.setState(0xb785, 0xbbfd, 0xd080, 0x65e7, 0x5597, 0xdfe0, 0x0, 0x1);
        gbc.writeMem(0xb785, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xbbfd);
        EXPECT(gbc.pc(), 0xb786);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb785), 0x24);
        // 24 01BA
        gbc.setState(0xd974, 0xed48, 0xadd0, 0x9ea7, 0x736, 0xf4c6, 0x0, 0x1);
        gbc.writeMem(0xd974, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xed48);
        EXPECT(gbc.pc(), 0xd975);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd974), 0x24);
        // 24 01BB
        gbc.setState(0xede7, 0xbb08, 0x44f0, 0xe4d2, 0xb807, 0x45c1, 0x1, 0x1);
        gbc.writeMem(0xede7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xbb08);
        EXPECT(gbc.pc(), 0xede8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xede7), 0x24);
        // 24 01BE
        gbc.setState(0xa99d, 0xcc5f, 0x4310, 0xd594, 0xb2c5, 0xa40, 0x0, 0x1);
        gbc.writeMem(0xa99d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xcc5f);
        EXPECT(gbc.pc(), 0xa99e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa99d), 0x24);
        // 24 01BF
        gbc.setState(0x2c01, 0xef56, 0x2dd0, 0x59a8, 0xc637, 0xf100, 0x0, 0x1);
        gbc.writeMem(0x2c01, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xef56);
        EXPECT(gbc.pc(), 0x2c02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01C0
        gbc.setState(0x9e82, 0x3c07, 0x4f60, 0x2c9c, 0x492e, 0xe247, 0x0, 0x0);
        gbc.writeMem(0x9e82, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x3c07);
        EXPECT(gbc.pc(), 0x9e83);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e82), 0x24);
        // 24 01C1
        gbc.setState(0xe0f, 0x340b, 0x55c0, 0xf6bc, 0xd50e, 0xd077, 0x0, 0x1);
        gbc.writeMem(0xe0f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x340b);
        EXPECT(gbc.pc(), 0xe10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01C2
        gbc.setState(0x899b, 0x7291, 0x5200, 0x3a92, 0x80a6, 0xb982, 0x0, 0x0);
        gbc.writeMem(0x899b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x7291);
        EXPECT(gbc.pc(), 0x899c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x899b), 0x24);
        // 24 01C3
        gbc.setState(0xe89c, 0x44fb, 0x7580, 0x75f1, 0xbe0e, 0xbbe4, 0x1, 0x0);
        gbc.writeMem(0xe89c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x44fb);
        EXPECT(gbc.pc(), 0xe89d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe89c), 0x24);
        // 24 01C4
        gbc.setState(0x5940, 0xf3d, 0x3130, 0x5db5, 0x2693, 0x7993, 0x0, 0x1);
        gbc.writeMem(0x5940, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xf3d);
        EXPECT(gbc.pc(), 0x5941);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01C5
        gbc.setState(0x9c7d, 0x76e9, 0x9150, 0x41fb, 0x12b4, 0xc93f, 0x1, 0x1);
        gbc.writeMem(0x9c7d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x76e9);
        EXPECT(gbc.pc(), 0x9c7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c7d), 0x24);
        // 24 01C6
        gbc.setState(0x9ecd, 0xde3f, 0x40c0, 0x68e5, 0x4762, 0xa9a5, 0x0, 0x0);
        gbc.writeMem(0x9ecd, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xde3f);
        EXPECT(gbc.pc(), 0x9ece);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ecd), 0x24);
        // 24 01C7
        gbc.setState(0xd162, 0x6caf, 0xe610, 0xabcd, 0xb33d, 0x584c, 0x1, 0x1);
        gbc.writeMem(0xd162, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x6caf);
        EXPECT(gbc.pc(), 0xd163);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd162), 0x24);
        // 24 01C8
        gbc.setState(0xc7e9, 0x537e, 0xa460, 0xdf71, 0x180b, 0x61e, 0x1, 0x0);
        gbc.writeMem(0xc7e9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x537e);
        EXPECT(gbc.pc(), 0xc7ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7e9), 0x24);
        // 24 01C9
        gbc.setState(0x3b76, 0xa2e8, 0x5c00, 0x6e93, 0xabc4, 0x10d1, 0x0, 0x1);
        gbc.writeMem(0x3b76, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xa2e8);
        EXPECT(gbc.pc(), 0x3b77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01CA
        gbc.setState(0x1889, 0x27ab, 0x730, 0x3c30, 0x1441, 0xf462, 0x1, 0x1);
        gbc.writeMem(0x1889, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x27ab);
        EXPECT(gbc.pc(), 0x188a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01CB
        gbc.setState(0xcade, 0xb154, 0xfa70, 0x1cbc, 0x8474, 0x9329, 0x1, 0x1);
        gbc.writeMem(0xcade, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xb154);
        EXPECT(gbc.pc(), 0xcadf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcade), 0x24);
        // 24 01CC
        gbc.setState(0x8e19, 0xf9f9, 0xc570, 0xca1e, 0x6697, 0xedb, 0x0, 0x1);
        gbc.writeMem(0x8e19, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xf9f9);
        EXPECT(gbc.pc(), 0x8e1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e19), 0x24);
        // 24 01CD
        gbc.setState(0x7a4d, 0xfcf5, 0xb2b0, 0xcd0f, 0x3ac1, 0xf90, 0x0, 0x1);
        gbc.writeMem(0x7a4d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xfcf5);
        EXPECT(gbc.pc(), 0x7a4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 01CE
        gbc.setState(0xbb5, 0x7576, 0x17f0, 0xfd38, 0x559b, 0x642e, 0x1, 0x0);
        gbc.writeMem(0xbb5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x7576);
        EXPECT(gbc.pc(), 0xbb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01CF
        gbc.setState(0xc98a, 0x9692, 0x1240, 0x8a7a, 0x3cba, 0x665f, 0x1, 0x1);
        gbc.writeMem(0xc98a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x9692);
        EXPECT(gbc.pc(), 0xc98b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc98a), 0x24);
        // 24 01D0
        gbc.setState(0x4ba6, 0x3d66, 0xe720, 0xaaa7, 0xdc17, 0x134e, 0x0, 0x1);
        gbc.writeMem(0x4ba6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x3d66);
        EXPECT(gbc.pc(), 0x4ba7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01D1
        gbc.setState(0xa851, 0xb75c, 0x2850, 0xdb38, 0x2d0d, 0xf47, 0x0, 0x0);
        gbc.writeMem(0xa851, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xb75c);
        EXPECT(gbc.pc(), 0xa852);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa851), 0x24);
        // 24 01D2
        gbc.setState(0x86e9, 0xdc56, 0x7e30, 0x5f86, 0x43ed, 0xa8d0, 0x1, 0x0);
        gbc.writeMem(0x86e9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xdc56);
        EXPECT(gbc.pc(), 0x86ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x86e9), 0x24);
        // 24 01D3
        gbc.setState(0x8a2e, 0xd030, 0x5860, 0x24a3, 0xecab, 0x8eb0, 0x0, 0x0);
        gbc.writeMem(0x8a2e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xd030);
        EXPECT(gbc.pc(), 0x8a2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a2e), 0x24);
        // 24 01D4
        gbc.setState(0x3658, 0x59f7, 0x4000, 0xf3b8, 0xf7c7, 0x99de, 0x1, 0x0);
        gbc.writeMem(0x3658, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x59f7);
        EXPECT(gbc.pc(), 0x3659);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01D5
        gbc.setState(0xcdc9, 0x8cd2, 0xa440, 0x802b, 0xc00, 0x62d0, 0x1, 0x0);
        gbc.writeMem(0xcdc9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x8cd2);
        EXPECT(gbc.pc(), 0xcdca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdc9), 0x24);
        // 24 01D6
        gbc.setState(0xa284, 0x7956, 0xe990, 0x21eb, 0xf123, 0xf14b, 0x0, 0x0);
        gbc.writeMem(0xa284, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x7956);
        EXPECT(gbc.pc(), 0xa285);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa284), 0x24);
        // 24 01D7
        gbc.setState(0xb52e, 0x90a4, 0xb230, 0x4657, 0x7dfc, 0xbc68, 0x1, 0x0);
        gbc.writeMem(0xb52e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x90a4);
        EXPECT(gbc.pc(), 0xb52f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb52e), 0x24);
        // 24 01D8
        gbc.setState(0x738f, 0xd054, 0x8380, 0x51ad, 0x1d2, 0x1149, 0x0, 0x1);
        gbc.writeMem(0x738f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xd054);
        EXPECT(gbc.pc(), 0x7390);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01D9
        gbc.setState(0x456e, 0xc009, 0x830, 0xd22a, 0xbc7f, 0x180a, 0x1, 0x0);
        gbc.writeMem(0x456e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xc009);
        EXPECT(gbc.pc(), 0x456f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01DA
        gbc.setState(0x4112, 0xa44, 0xa420, 0x4e78, 0xf3a0, 0xf127, 0x1, 0x1);
        gbc.writeMem(0x4112, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xa44);
        EXPECT(gbc.pc(), 0x4113);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01DB
        gbc.setState(0x9457, 0xc303, 0x3330, 0x441f, 0x411f, 0xf211, 0x0, 0x1);
        gbc.writeMem(0x9457, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xc303);
        EXPECT(gbc.pc(), 0x9458);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9457), 0x24);
        // 24 01DC
        gbc.setState(0x3cf0, 0x97e5, 0xf650, 0x6635, 0xf4dd, 0x46ac, 0x1, 0x1);
        gbc.writeMem(0x3cf0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x97e5);
        EXPECT(gbc.pc(), 0x3cf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01DD
        gbc.setState(0xdaae, 0x771c, 0x1290, 0x21c7, 0xd1c9, 0xa432, 0x1, 0x1);
        gbc.writeMem(0xdaae, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x771c);
        EXPECT(gbc.pc(), 0xdaaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdaae), 0x24);
        // 24 01DE
        gbc.setState(0xdcb4, 0x90da, 0x70, 0xc552, 0x3e53, 0xa7f5, 0x1, 0x1);
        gbc.writeMem(0xdcb4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x90da);
        EXPECT(gbc.pc(), 0xdcb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcb4), 0x24);
        // 24 01DF
        gbc.setState(0x5384, 0x2d07, 0xb030, 0xbaf3, 0x8264, 0x96a2, 0x0, 0x0);
        gbc.writeMem(0x5384, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x2d07);
        EXPECT(gbc.pc(), 0x5385);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01E0
        gbc.setState(0xe712, 0x1e31, 0xc00, 0x118a, 0x1350, 0x3be4, 0x1, 0x0);
        gbc.writeMem(0xe712, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x1e31);
        EXPECT(gbc.pc(), 0xe713);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe712), 0x24);
        // 24 01E1
        gbc.setState(0xcf50, 0xfbe5, 0x1f40, 0xa8ac, 0x503c, 0xba0b, 0x0, 0x1);
        gbc.writeMem(0xcf50, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xfbe5);
        EXPECT(gbc.pc(), 0xcf51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf50), 0x24);
        // 24 01E2
        gbc.setState(0x9fd6, 0x42a5, 0x1330, 0xe2a9, 0x8ef1, 0xfc9d, 0x1, 0x0);
        gbc.writeMem(0x9fd6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x42a5);
        EXPECT(gbc.pc(), 0x9fd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fd6), 0x24);
        // 24 01E3
        gbc.setState(0x6303, 0xf385, 0xff10, 0x6d6d, 0x262d, 0xe5c7, 0x1, 0x1);
        gbc.writeMem(0x6303, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xf385);
        EXPECT(gbc.pc(), 0x6304);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01E4
        gbc.setState(0xe8a7, 0x98fa, 0x87b0, 0x110e, 0x700e, 0x31da, 0x0, 0x1);
        gbc.writeMem(0xe8a7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x98fa);
        EXPECT(gbc.pc(), 0xe8a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8a7), 0x24);
        // 24 01E5
        gbc.setState(0xa44e, 0x3890, 0x7390, 0x364f, 0xa2d9, 0x2be7, 0x0, 0x1);
        gbc.writeMem(0xa44e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x3890);
        EXPECT(gbc.pc(), 0xa44f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa44e), 0x24);
        // 24 01E6
        gbc.setState(0x7ec0, 0xf07e, 0x11f0, 0xebe5, 0x1f4b, 0xa962, 0x1, 0x1);
        gbc.writeMem(0x7ec0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xf07e);
        EXPECT(gbc.pc(), 0x7ec1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01E7
        gbc.setState(0x601d, 0xb7d3, 0xe800, 0x5e58, 0xf1d9, 0x59d9, 0x0, 0x0);
        gbc.writeMem(0x601d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xb7d3);
        EXPECT(gbc.pc(), 0x601e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01E8
        gbc.setState(0x4b03, 0x575b, 0x5e00, 0x8cbe, 0x1b61, 0xe468, 0x1, 0x1);
        gbc.writeMem(0x4b03, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x575b);
        EXPECT(gbc.pc(), 0x4b04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01E9
        gbc.setState(0x4fb1, 0xc1ec, 0xfe70, 0x98fb, 0xce87, 0xd824, 0x0, 0x0);
        gbc.writeMem(0x4fb1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xc1ec);
        EXPECT(gbc.pc(), 0x4fb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01EA
        gbc.setState(0x6461, 0x595c, 0x5f30, 0x24fb, 0x18bf, 0x8553, 0x0, 0x0);
        gbc.writeMem(0x6461, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x595c);
        EXPECT(gbc.pc(), 0x6462);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01EB
        gbc.setState(0x1073, 0xaa46, 0x1100, 0x2a27, 0x23d1, 0x7d38, 0x0, 0x0);
        gbc.writeMem(0x1073, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xaa46);
        EXPECT(gbc.pc(), 0x1074);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01EC
        gbc.setState(0xe032, 0x7156, 0xff50, 0xe110, 0x5b7b, 0xd123, 0x0, 0x1);
        gbc.writeMem(0xe032, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x7156);
        EXPECT(gbc.pc(), 0xe033);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe032), 0x24);
        // 24 01ED
        gbc.setState(0x609e, 0xcc47, 0x1c30, 0xadea, 0x1866, 0x393d, 0x1, 0x1);
        gbc.writeMem(0x609e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xcc47);
        EXPECT(gbc.pc(), 0x609f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01EE
        gbc.setState(0xaee0, 0x16a8, 0x6da0, 0x6396, 0x7aca, 0xa2b4, 0x1, 0x0);
        gbc.writeMem(0xaee0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x16a8);
        EXPECT(gbc.pc(), 0xaee1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaee0), 0x24);
        // 24 01EF
        gbc.setState(0x8202, 0xfceb, 0x240, 0x933b, 0xee8f, 0x5075, 0x1, 0x1);
        gbc.writeMem(0x8202, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xfceb);
        EXPECT(gbc.pc(), 0x8203);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8202), 0x24);
        // 24 01F0
        gbc.setState(0xd2de, 0x4944, 0xfa30, 0x9f25, 0xb482, 0x5a08, 0x0, 0x0);
        gbc.writeMem(0xd2de, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x4944);
        EXPECT(gbc.pc(), 0xd2df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2de), 0x24);
        // 24 01F1
        gbc.setState(0x972f, 0x6415, 0xd8d0, 0xa19c, 0x5437, 0x6d8, 0x1, 0x1);
        gbc.writeMem(0x972f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x6415);
        EXPECT(gbc.pc(), 0x9730);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x972f), 0x24);
        // 24 01F2
        gbc.setState(0xfc9, 0x9018, 0xd6c0, 0x5b4, 0xe4b5, 0xdc96, 0x0, 0x0);
        gbc.writeMem(0xfc9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x9018);
        EXPECT(gbc.pc(), 0xfca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01F3
        gbc.setState(0xc667, 0xb2fe, 0x5f20, 0x6a75, 0x46d, 0xfe38, 0x1, 0x0);
        gbc.writeMem(0xc667, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xb2fe);
        EXPECT(gbc.pc(), 0xc668);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc667), 0x24);
        // 24 01F4
        gbc.setState(0xd25a, 0x2996, 0x5ae0, 0x4d56, 0x1283, 0x22c4, 0x0, 0x0);
        gbc.writeMem(0xd25a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2996);
        EXPECT(gbc.pc(), 0xd25b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd25a), 0x24);
        // 24 01F5
        gbc.setState(0x3629, 0xe7db, 0xd260, 0xe318, 0xc163, 0x60dd, 0x1, 0x0);
        gbc.writeMem(0x3629, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xe7db);
        EXPECT(gbc.pc(), 0x362a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01F6
        gbc.setState(0xd5fc, 0xa11b, 0x4ed0, 0xcf35, 0xd140, 0x4b46, 0x1, 0x0);
        gbc.writeMem(0xd5fc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xa11b);
        EXPECT(gbc.pc(), 0xd5fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5fc), 0x24);
        // 24 01F7
        gbc.setState(0xb804, 0x9880, 0xbd30, 0x67c, 0xeae2, 0x7e9, 0x1, 0x0);
        gbc.writeMem(0xb804, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x9880);
        EXPECT(gbc.pc(), 0xb805);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb804), 0x24);
        // 24 01F8
        gbc.setState(0xcd8c, 0x8ef, 0x7820, 0x47d9, 0x9d71, 0x4af0, 0x0, 0x0);
        gbc.writeMem(0xcd8c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x8ef);
        EXPECT(gbc.pc(), 0xcd8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd8c), 0x24);
        // 24 01F9
        gbc.setState(0x79f2, 0x99bd, 0x5b30, 0x271b, 0xfa54, 0x15cd, 0x0, 0x1);
        gbc.writeMem(0x79f2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x99bd);
        EXPECT(gbc.pc(), 0x79f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01FA
        gbc.setState(0x3fe0, 0xdfdb, 0x1920, 0x830d, 0x8d5, 0xc75a, 0x1, 0x0);
        gbc.writeMem(0x3fe0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xdfdb);
        EXPECT(gbc.pc(), 0x3fe1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 01FB
        gbc.setState(0xa13, 0xb640, 0xc790, 0x6b2, 0xc14d, 0x7a15, 0x1, 0x0);
        gbc.writeMem(0xa13, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb640);
        EXPECT(gbc.pc(), 0xa14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01FC
        gbc.setState(0x17ce, 0x2ea6, 0xdb0, 0xd926, 0x5afc, 0xae9, 0x0, 0x1);
        gbc.writeMem(0x17ce, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x2ea6);
        EXPECT(gbc.pc(), 0x17cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01FD
        gbc.setState(0xa955, 0x86d1, 0x3d40, 0x7ada, 0xd6c7, 0x9130, 0x0, 0x1);
        gbc.writeMem(0xa955, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x86d1);
        EXPECT(gbc.pc(), 0xa956);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa955), 0x24);
        // 24 01FE
        gbc.setState(0x7b07, 0xeddb, 0xbd70, 0x2cab, 0xa3df, 0x869d, 0x0, 0x0);
        gbc.writeMem(0x7b07, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xeddb);
        EXPECT(gbc.pc(), 0x7b08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 01FF
        gbc.setState(0x7328, 0x993, 0x1410, 0x87f2, 0x46c1, 0x2fcb, 0x1, 0x0);
        gbc.writeMem(0x7328, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x993);
        EXPECT(gbc.pc(), 0x7329);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 0200
        gbc.setState(0x953e, 0x1826, 0xa8a0, 0x6fd3, 0x5ecc, 0xc5fb, 0x0, 0x1);
        gbc.writeMem(0x953e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x1826);
        EXPECT(gbc.pc(), 0x953f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x953e), 0x24);
        // 24 0201
        gbc.setState(0xcb27, 0x1b1b, 0xa050, 0xa2b1, 0xe11b, 0x8c75, 0x1, 0x1);
        gbc.writeMem(0xcb27, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x1b1b);
        EXPECT(gbc.pc(), 0xcb28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb27), 0x24);
        // 24 0202
        gbc.setState(0x5602, 0x143d, 0xbd40, 0x7031, 0x4d7, 0xef31, 0x0, 0x0);
        gbc.writeMem(0x5602, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x143d);
        EXPECT(gbc.pc(), 0x5603);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 0203
        gbc.setState(0x7f3a, 0x2b8a, 0x41f0, 0x437f, 0x4c06, 0xf3a5, 0x0, 0x1);
        gbc.writeMem(0x7f3a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x2b8a);
        EXPECT(gbc.pc(), 0x7f3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0204
        gbc.setState(0x9589, 0xf74a, 0xbb30, 0x9911, 0x4e32, 0x7aa3, 0x1, 0x1);
        gbc.writeMem(0x9589, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xf74a);
        EXPECT(gbc.pc(), 0x958a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9589), 0x24);
        // 24 0205
        gbc.setState(0x8cf5, 0x3f5c, 0x5410, 0x1370, 0xf9e5, 0xb9d5, 0x0, 0x1);
        gbc.writeMem(0x8cf5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x3f5c);
        EXPECT(gbc.pc(), 0x8cf6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8cf5), 0x24);
        // 24 0206
        gbc.setState(0x76b4, 0x6784, 0x5000, 0x453f, 0xa642, 0x3620, 0x0, 0x1);
        gbc.writeMem(0x76b4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x6784);
        EXPECT(gbc.pc(), 0x76b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0207
        gbc.setState(0xb3b9, 0xb4c3, 0xf0f0, 0x5df9, 0xfcbe, 0x829b, 0x0, 0x1);
        gbc.writeMem(0xb3b9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb4c3);
        EXPECT(gbc.pc(), 0xb3ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3b9), 0x24);
        // 24 0208
        gbc.setState(0xd4f9, 0xf693, 0xa000, 0x343d, 0x8f5e, 0x630a, 0x0, 0x1);
        gbc.writeMem(0xd4f9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xf693);
        EXPECT(gbc.pc(), 0xd4fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4f9), 0x24);
        // 24 0209
        gbc.setState(0xa4dd, 0xb041, 0x1c10, 0xc9eb, 0xa239, 0xf2b1, 0x0, 0x0);
        gbc.writeMem(0xa4dd, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xb041);
        EXPECT(gbc.pc(), 0xa4de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4dd), 0x24);
        // 24 020A
        gbc.setState(0x2984, 0x16d6, 0x5c10, 0x948c, 0xc773, 0x18c6, 0x0, 0x1);
        gbc.writeMem(0x2984, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x16d6);
        EXPECT(gbc.pc(), 0x2985);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 020B
        gbc.setState(0x76ef, 0xe614, 0xa630, 0x17ee, 0x6b54, 0x3b73, 0x1, 0x0);
        gbc.writeMem(0x76ef, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xe614);
        EXPECT(gbc.pc(), 0x76f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 020C
        gbc.setState(0x7231, 0xd598, 0xfb70, 0xe3e1, 0x9731, 0x6c7e, 0x0, 0x0);
        gbc.writeMem(0x7231, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xd598);
        EXPECT(gbc.pc(), 0x7232);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 020D
        gbc.setState(0x5acb, 0xdb7c, 0x2c10, 0x98a2, 0xf9c, 0x72db, 0x1, 0x0);
        gbc.writeMem(0x5acb, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xdb7c);
        EXPECT(gbc.pc(), 0x5acc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 020E
        gbc.setState(0x8ee5, 0x7e66, 0x7be0, 0x8462, 0x5a85, 0x665f, 0x0, 0x1);
        gbc.writeMem(0x8ee5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x7e66);
        EXPECT(gbc.pc(), 0x8ee6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ee5), 0x24);
        // 24 020F
        gbc.setState(0x7553, 0x2572, 0xcdc0, 0x598a, 0x62c1, 0xdb99, 0x0, 0x0);
        gbc.writeMem(0x7553, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x2572);
        EXPECT(gbc.pc(), 0x7554);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0210
        gbc.setState(0x1862, 0x966b, 0x8250, 0x5877, 0xee7e, 0x2dd5, 0x1, 0x0);
        gbc.writeMem(0x1862, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x966b);
        EXPECT(gbc.pc(), 0x1863);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0212
        gbc.setState(0x3c02, 0xd96d, 0x8a20, 0x2f12, 0x1317, 0x5e05, 0x1, 0x1);
        gbc.writeMem(0x3c02, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0xd96d);
        EXPECT(gbc.pc(), 0x3c03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0213
        gbc.setState(0xb402, 0x5823, 0x5040, 0x27, 0xfe17, 0x6bf0, 0x0, 0x1);
        gbc.writeMem(0xb402, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x5823);
        EXPECT(gbc.pc(), 0xb403);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb402), 0x24);
        // 24 0214
        gbc.setState(0xc1a2, 0x5c3c, 0xc0f0, 0x323e, 0xe815, 0x30dc, 0x0, 0x0);
        gbc.writeMem(0xc1a2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x5c3c);
        EXPECT(gbc.pc(), 0xc1a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1a2), 0x24);
        // 24 0215
        gbc.setState(0x479d, 0xe560, 0xafd0, 0xa9ec, 0x2feb, 0x3b9c, 0x1, 0x1);
        gbc.writeMem(0x479d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xe560);
        EXPECT(gbc.pc(), 0x479e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0216
        gbc.setState(0x600, 0x9844, 0x8460, 0x3c8d, 0x97f4, 0xb634, 0x0, 0x1);
        gbc.writeMem(0x600, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x9844);
        EXPECT(gbc.pc(), 0x601);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0217
        gbc.setState(0xb284, 0xf6b3, 0x8090, 0x871c, 0x5596, 0x7dd3, 0x0, 0x1);
        gbc.writeMem(0xb284, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xf6b3);
        EXPECT(gbc.pc(), 0xb285);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb284), 0x24);
        // 24 0218
        gbc.setState(0x6be8, 0x5114, 0x3470, 0x76c4, 0x6ae6, 0xd087, 0x0, 0x0);
        gbc.writeMem(0x6be8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x5114);
        EXPECT(gbc.pc(), 0x6be9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 021A
        gbc.setState(0x5832, 0xd3c8, 0xad20, 0xf04d, 0xfc1a, 0x2969, 0x1, 0x0);
        gbc.writeMem(0x5832, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd3c8);
        EXPECT(gbc.pc(), 0x5833);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 021B
        gbc.setState(0x36b3, 0x76a3, 0x5f00, 0xf3cb, 0x1adc, 0xd19e, 0x0, 0x0);
        gbc.writeMem(0x36b3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x76a3);
        EXPECT(gbc.pc(), 0x36b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 021C
        gbc.setState(0x4f44, 0x6035, 0x4280, 0xd42b, 0x811e, 0x43e6, 0x0, 0x0);
        gbc.writeMem(0x4f44, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x6035);
        EXPECT(gbc.pc(), 0x4f45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 021D
        gbc.setState(0xb48f, 0x5451, 0x3110, 0x2e4e, 0x804c, 0x8c06, 0x0, 0x1);
        gbc.writeMem(0xb48f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x5451);
        EXPECT(gbc.pc(), 0xb490);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb48f), 0x24);
        // 24 021E
        gbc.setState(0x3fb7, 0xdda3, 0x2320, 0xf47b, 0x1b39, 0x136c, 0x0, 0x1);
        gbc.writeMem(0x3fb7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xdda3);
        EXPECT(gbc.pc(), 0x3fb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 021F
        gbc.setState(0x2e6b, 0xae5e, 0xd850, 0x9544, 0xc87b, 0x492b, 0x1, 0x0);
        gbc.writeMem(0x2e6b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xae5e);
        EXPECT(gbc.pc(), 0x2e6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0220
        gbc.setState(0x6be6, 0x2376, 0x6a40, 0xeeea, 0xd3, 0xed32, 0x1, 0x0);
        gbc.writeMem(0x6be6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2376);
        EXPECT(gbc.pc(), 0x6be7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0221
        gbc.setState(0xaaf2, 0xce36, 0x6ac0, 0xc91, 0xdf48, 0xfc58, 0x1, 0x0);
        gbc.writeMem(0xaaf2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xce36);
        EXPECT(gbc.pc(), 0xaaf3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaaf2), 0x24);
        // 24 0222
        gbc.setState(0x4a62, 0x508d, 0xd2a0, 0x99f8, 0xb670, 0x39d1, 0x1, 0x0);
        gbc.writeMem(0x4a62, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x508d);
        EXPECT(gbc.pc(), 0x4a63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0223
        gbc.setState(0x600a, 0xfba6, 0x5b70, 0x2586, 0x33fc, 0x51d8, 0x1, 0x0);
        gbc.writeMem(0x600a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xfba6);
        EXPECT(gbc.pc(), 0x600b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0224
        gbc.setState(0xd66d, 0x81fc, 0x68f0, 0x1dbe, 0x705c, 0x180e, 0x1, 0x1);
        gbc.writeMem(0xd66d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x81fc);
        EXPECT(gbc.pc(), 0xd66e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd66d), 0x24);
        // 24 0225
        gbc.setState(0xdf74, 0x43d0, 0xb6b0, 0xff06, 0x8af8, 0xc7cf, 0x1, 0x0);
        gbc.writeMem(0xdf74, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x43d0);
        EXPECT(gbc.pc(), 0xdf75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf74), 0x24);
        // 24 0226
        gbc.setState(0x1156, 0x2e13, 0xa840, 0x444f, 0x8cdd, 0x4e71, 0x0, 0x1);
        gbc.writeMem(0x1156, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x2e13);
        EXPECT(gbc.pc(), 0x1157);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0227
        gbc.setState(0xd295, 0x6284, 0x2d80, 0x8166, 0x5c2b, 0x916a, 0x1, 0x0);
        gbc.writeMem(0xd295, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x6284);
        EXPECT(gbc.pc(), 0xd296);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd295), 0x24);
        // 24 0228
        gbc.setState(0x8137, 0xebb, 0xa10, 0x337f, 0x8e8f, 0xa193, 0x0, 0x1);
        gbc.writeMem(0x8137, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xebb);
        EXPECT(gbc.pc(), 0x8138);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8137), 0x24);
        // 24 0229
        gbc.setState(0xdecc, 0x259a, 0x7420, 0x51c2, 0x7a13, 0x3009, 0x1, 0x1);
        gbc.writeMem(0xdecc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x259a);
        EXPECT(gbc.pc(), 0xdecd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdecc), 0x24);
        // 24 022A
        gbc.setState(0x2b70, 0xf35f, 0x8b90, 0x2d0a, 0xe140, 0x5795, 0x1, 0x0);
        gbc.writeMem(0x2b70, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xf35f);
        EXPECT(gbc.pc(), 0x2b71);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 022B
        gbc.setState(0xc5fe, 0x59b4, 0xe210, 0xc2d3, 0xd278, 0x8b99, 0x0, 0x1);
        gbc.writeMem(0xc5fe, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x59b4);
        EXPECT(gbc.pc(), 0xc5ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc5fe), 0x24);
        // 24 022C
        gbc.setState(0xe4c9, 0x3c1d, 0xaf00, 0x39cd, 0x8367, 0x6aa0, 0x0, 0x1);
        gbc.writeMem(0xe4c9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3c1d);
        EXPECT(gbc.pc(), 0xe4ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4c9), 0x24);
        // 24 022D
        gbc.setState(0xd94e, 0x89bf, 0x1810, 0xfa1, 0xfda4, 0x9f9, 0x0, 0x0);
        gbc.writeMem(0xd94e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x89bf);
        EXPECT(gbc.pc(), 0xd94f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd94e), 0x24);
        // 24 022E
        gbc.setState(0x47ff, 0x8b36, 0xadc0, 0x36a9, 0xebc4, 0xfa70, 0x0, 0x1);
        gbc.writeMem(0x47ff, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x8b36);
        EXPECT(gbc.pc(), 0x4800);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 022F
        gbc.setState(0x4621, 0x7892, 0x3d00, 0x4c7d, 0x54f7, 0x597b, 0x0, 0x0);
        gbc.writeMem(0x4621, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x7892);
        EXPECT(gbc.pc(), 0x4622);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0230
        gbc.setState(0xa1c4, 0x84c, 0x75b0, 0x214a, 0xa26, 0xee65, 0x0, 0x0);
        gbc.writeMem(0xa1c4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x84c);
        EXPECT(gbc.pc(), 0xa1c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa1c4), 0x24);
        // 24 0232
        gbc.setState(0x53b2, 0x1391, 0x3690, 0xdfe4, 0x919f, 0x2c3c, 0x1, 0x1);
        gbc.writeMem(0x53b2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x1391);
        EXPECT(gbc.pc(), 0x53b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0233
        gbc.setState(0x5ce7, 0x480, 0xed60, 0x10c1, 0xd0f, 0xcf08, 0x1, 0x0);
        gbc.writeMem(0x5ce7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x480);
        EXPECT(gbc.pc(), 0x5ce8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 0234
        gbc.setState(0x92fe, 0x7b85, 0xb310, 0x8cf8, 0x99b, 0x4b15, 0x0, 0x0);
        gbc.writeMem(0x92fe, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x7b85);
        EXPECT(gbc.pc(), 0x92ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92fe), 0x24);
        // 24 0235
        gbc.setState(0x9f8, 0x3160, 0x9e80, 0xa658, 0x783c, 0x3d86, 0x1, 0x1);
        gbc.writeMem(0x9f8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x3160);
        EXPECT(gbc.pc(), 0x9f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0237
        gbc.setState(0x419c, 0xb649, 0x61d0, 0x470d, 0xa84c, 0xc616, 0x1, 0x1);
        gbc.writeMem(0x419c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xb649);
        EXPECT(gbc.pc(), 0x419d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0238
        gbc.setState(0x7cc9, 0x57cc, 0x15c0, 0xdcfb, 0xd3ce, 0x3f, 0x1, 0x1);
        gbc.writeMem(0x7cc9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x57cc);
        EXPECT(gbc.pc(), 0x7cca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0239
        gbc.setState(0xb13b, 0x5f97, 0xc360, 0xafe4, 0xadc5, 0x91bb, 0x1, 0x1);
        gbc.writeMem(0xb13b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x5f97);
        EXPECT(gbc.pc(), 0xb13c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb13b), 0x24);
        // 24 023A
        gbc.setState(0x2635, 0xfd89, 0x6c60, 0x3627, 0x7b86, 0xb0e8, 0x0, 0x1);
        gbc.writeMem(0x2635, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xfd89);
        EXPECT(gbc.pc(), 0x2636);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 023B
        gbc.setState(0xbc7f, 0xe94c, 0xd660, 0x3fe, 0x335b, 0x55df, 0x1, 0x0);
        gbc.writeMem(0xbc7f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xe94c);
        EXPECT(gbc.pc(), 0xbc80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc7f), 0x24);
        // 24 023C
        gbc.setState(0x9b44, 0x9910, 0xc420, 0x448b, 0x4997, 0xc6cd, 0x0, 0x0);
        gbc.writeMem(0x9b44, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x9910);
        EXPECT(gbc.pc(), 0x9b45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b44), 0x24);
        // 24 023D
        gbc.setState(0x669c, 0xb4, 0x6480, 0xbf6b, 0xa544, 0x589a, 0x1, 0x1);
        gbc.writeMem(0x669c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xb4);
        EXPECT(gbc.pc(), 0x669d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 023E
        gbc.setState(0x19f1, 0x7593, 0x4340, 0x1650, 0x8717, 0x45f3, 0x1, 0x1);
        gbc.writeMem(0x19f1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x7593);
        EXPECT(gbc.pc(), 0x19f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 023F
        gbc.setState(0x355d, 0x12c9, 0xaed0, 0x4227, 0x16cc, 0x50e8, 0x1, 0x1);
        gbc.writeMem(0x355d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x12c9);
        EXPECT(gbc.pc(), 0x355e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0240
        gbc.setState(0x6fd0, 0xb7dd, 0x8630, 0x43e3, 0x107c, 0xe3ea, 0x0, 0x0);
        gbc.writeMem(0x6fd0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb7dd);
        EXPECT(gbc.pc(), 0x6fd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0241
        gbc.setState(0x75bf, 0xee45, 0x1e80, 0xcf4a, 0xcb29, 0x46b6, 0x0, 0x1);
        gbc.writeMem(0x75bf, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xee45);
        EXPECT(gbc.pc(), 0x75c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0242
        gbc.setState(0x3ea0, 0x9d0c, 0x9920, 0xf552, 0x6f28, 0xff44, 0x1, 0x0);
        gbc.writeMem(0x3ea0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x9d0c);
        EXPECT(gbc.pc(), 0x3ea1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 0243
        gbc.setState(0xc278, 0x596, 0x1180, 0x98ea, 0x5395, 0x6975, 0x0, 0x1);
        gbc.writeMem(0xc278, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x596);
        EXPECT(gbc.pc(), 0xc279);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc278), 0x24);
        // 24 0244
        gbc.setState(0xcac6, 0x85b5, 0xf0, 0x87b0, 0x8eee, 0x4b39, 0x1, 0x1);
        gbc.writeMem(0xcac6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x85b5);
        EXPECT(gbc.pc(), 0xcac7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcac6), 0x24);
        // 24 0245
        gbc.setState(0x243e, 0xfe00, 0xe630, 0x628c, 0x10df, 0xbdbe, 0x0, 0x1);
        gbc.writeMem(0x243e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xfe00);
        EXPECT(gbc.pc(), 0x243f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0246
        gbc.setState(0x69d9, 0xe067, 0x800, 0xc496, 0x8dd9, 0x1ccd, 0x0, 0x1);
        gbc.writeMem(0x69d9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xe067);
        EXPECT(gbc.pc(), 0x69da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0247
        gbc.setState(0x983d, 0x9ee7, 0x2130, 0x5e0, 0x3c70, 0x8626, 0x0, 0x0);
        gbc.writeMem(0x983d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x9ee7);
        EXPECT(gbc.pc(), 0x983e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x983d), 0x24);
        // 24 0248
        gbc.setState(0xaa47, 0x9f19, 0xa820, 0x22e2, 0x2754, 0x7bb7, 0x0, 0x1);
        gbc.writeMem(0xaa47, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x9f19);
        EXPECT(gbc.pc(), 0xaa48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa47), 0x24);
        // 24 0249
        gbc.setState(0x2aff, 0x5465, 0xa080, 0xd50b, 0x1d4d, 0x2b16, 0x1, 0x1);
        gbc.writeMem(0x2aff, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x5465);
        EXPECT(gbc.pc(), 0x2b00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 024A
        gbc.setState(0xdc81, 0x2fb8, 0x7840, 0x3f5f, 0x9b74, 0xfa8e, 0x0, 0x0);
        gbc.writeMem(0xdc81, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x2fb8);
        EXPECT(gbc.pc(), 0xdc82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc81), 0x24);
        // 24 024B
        gbc.setState(0xa6d1, 0x8d8f, 0xb350, 0xc04c, 0xf45f, 0x1bc5, 0x1, 0x1);
        gbc.writeMem(0xa6d1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x8d8f);
        EXPECT(gbc.pc(), 0xa6d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6d1), 0x24);
        // 24 024C
        gbc.setState(0x9288, 0xa4f9, 0xe7b0, 0x5aae, 0x64fc, 0x8645, 0x1, 0x1);
        gbc.writeMem(0x9288, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xa4f9);
        EXPECT(gbc.pc(), 0x9289);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9288), 0x24);
        // 24 024D
        gbc.setState(0xa65e, 0xf3e1, 0x2b00, 0xaec, 0xa103, 0x618f, 0x0, 0x0);
        gbc.writeMem(0xa65e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf3e1);
        EXPECT(gbc.pc(), 0xa65f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa65e), 0x24);
        // 24 024E
        gbc.setState(0xb460, 0x1062, 0x1430, 0xb94a, 0xe9f7, 0x9433, 0x1, 0x0);
        gbc.writeMem(0xb460, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x1062);
        EXPECT(gbc.pc(), 0xb461);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb460), 0x24);
        // 24 024F
        gbc.setState(0xcacc, 0xee83, 0xbd00, 0x5793, 0xa980, 0x148d, 0x0, 0x0);
        gbc.writeMem(0xcacc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xee83);
        EXPECT(gbc.pc(), 0xcacd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcacc), 0x24);
        // 24 0250
        gbc.setState(0x579, 0xb881, 0xdcc0, 0x5696, 0x50e2, 0x5211, 0x1, 0x0);
        gbc.writeMem(0x579, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xb881);
        EXPECT(gbc.pc(), 0x57a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0251
        gbc.setState(0xc9e7, 0x3de6, 0xe840, 0xaf3c, 0x1a09, 0xebbe, 0x1, 0x1);
        gbc.writeMem(0xc9e7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x3de6);
        EXPECT(gbc.pc(), 0xc9e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9e7), 0x24);
        // 24 0253
        gbc.setState(0xa2b3, 0xef9, 0x9b30, 0x2118, 0x9e22, 0x6ade, 0x0, 0x0);
        gbc.writeMem(0xa2b3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xef9);
        EXPECT(gbc.pc(), 0xa2b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa2b3), 0x24);
        // 24 0254
        gbc.setState(0x26bd, 0xe890, 0xafd0, 0x31b7, 0xd043, 0x14af, 0x1, 0x0);
        gbc.writeMem(0x26bd, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xe890);
        EXPECT(gbc.pc(), 0x26be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0255
        gbc.setState(0x6862, 0xdd7a, 0xc530, 0x689f, 0xb055, 0xea7c, 0x1, 0x1);
        gbc.writeMem(0x6862, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xdd7a);
        EXPECT(gbc.pc(), 0x6863);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0256
        gbc.setState(0x4f3b, 0xe315, 0x1f20, 0x5ccf, 0xebdc, 0xb28e, 0x1, 0x1);
        gbc.writeMem(0x4f3b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xe315);
        EXPECT(gbc.pc(), 0x4f3c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0257
        gbc.setState(0x9eb, 0xdab2, 0xd3d0, 0x6a3a, 0xe4a3, 0x4986, 0x1, 0x0);
        gbc.writeMem(0x9eb, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xdab2);
        EXPECT(gbc.pc(), 0x9ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0258
        gbc.setState(0x8d2c, 0x101d, 0xc680, 0x5aed, 0xe8d8, 0xa66e, 0x1, 0x0);
        gbc.writeMem(0x8d2c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x101d);
        EXPECT(gbc.pc(), 0x8d2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d2c), 0x24);
        // 24 0259
        gbc.setState(0x6075, 0xb363, 0xa6c0, 0xe914, 0xb794, 0x970, 0x1, 0x0);
        gbc.writeMem(0x6075, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xb363);
        EXPECT(gbc.pc(), 0x6076);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 025A
        gbc.setState(0x119b, 0x68e8, 0xd130, 0xfb6d, 0x4d1b, 0x9bc, 0x0, 0x1);
        gbc.writeMem(0x119b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x68e8);
        EXPECT(gbc.pc(), 0x119c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 025B
        gbc.setState(0xb820, 0x53e6, 0xa8e0, 0x3bc8, 0xcefa, 0xdd5a, 0x1, 0x1);
        gbc.writeMem(0xb820, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x53e6);
        EXPECT(gbc.pc(), 0xb821);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb820), 0x24);
        // 24 025C
        gbc.setState(0x15ff, 0x2378, 0x5490, 0x1725, 0xf2c, 0x1432, 0x1, 0x0);
        gbc.writeMem(0x15ff, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x2378);
        EXPECT(gbc.pc(), 0x1600);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 025D
        gbc.setState(0x7175, 0x64b, 0x6e40, 0x8014, 0xcb8, 0x2e01, 0x0, 0x0);
        gbc.writeMem(0x7175, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x64b);
        EXPECT(gbc.pc(), 0x7176);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 025E
        gbc.setState(0x7a1a, 0x31c3, 0x9c70, 0xd5a8, 0x7edc, 0x5df9, 0x1, 0x0);
        gbc.writeMem(0x7a1a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x31c3);
        EXPECT(gbc.pc(), 0x7a1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 025F
        gbc.setState(0xb05, 0xa6ff, 0x2c50, 0x4637, 0x8031, 0x745d, 0x1, 0x1);
        gbc.writeMem(0xb05, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xa6ff);
        EXPECT(gbc.pc(), 0xb06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0260
        gbc.setState(0x6a96, 0xcc88, 0x1a30, 0x4ca5, 0x34b2, 0xc32d, 0x0, 0x0);
        gbc.writeMem(0x6a96, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xcc88);
        EXPECT(gbc.pc(), 0x6a97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0261
        gbc.setState(0x4838, 0x34a5, 0x4a90, 0xf63e, 0x3ab7, 0x9af4, 0x1, 0x0);
        gbc.writeMem(0x4838, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x34a5);
        EXPECT(gbc.pc(), 0x4839);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0262
        gbc.setState(0xaded, 0x9144, 0x3f30, 0xae45, 0xb6a6, 0x9cea, 0x0, 0x0);
        gbc.writeMem(0xaded, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x9144);
        EXPECT(gbc.pc(), 0xadee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaded), 0x24);
        // 24 0263
        gbc.setState(0x3e60, 0x10c9, 0x6c40, 0x4de3, 0x6f76, 0x6ada, 0x0, 0x1);
        gbc.writeMem(0x3e60, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x10c9);
        EXPECT(gbc.pc(), 0x3e61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0265
        gbc.setState(0x38f, 0x85f9, 0x88e0, 0xba34, 0xe3bb, 0x236f, 0x0, 0x0);
        gbc.writeMem(0x38f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x85f9);
        EXPECT(gbc.pc(), 0x390);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0266
        gbc.setState(0xeb1f, 0xe7dd, 0xa210, 0x7cba, 0xf0a9, 0xe772, 0x0, 0x0);
        gbc.writeMem(0xeb1f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xe7dd);
        EXPECT(gbc.pc(), 0xeb20);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb1f), 0x24);
        // 24 0267
        gbc.setState(0xdc5c, 0x88c6, 0x1f50, 0xf845, 0xa9fe, 0xa818, 0x1, 0x0);
        gbc.writeMem(0xdc5c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x88c6);
        EXPECT(gbc.pc(), 0xdc5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc5c), 0x24);
        // 24 0268
        gbc.setState(0x1790, 0xf7f0, 0x83d0, 0x7b39, 0x8420, 0xff41, 0x1, 0x0);
        gbc.writeMem(0x1790, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xf7f0);
        EXPECT(gbc.pc(), 0x1791);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 0269
        gbc.setState(0xed33, 0x7894, 0x6ae0, 0xa8f5, 0x6333, 0xb5e9, 0x1, 0x0);
        gbc.writeMem(0xed33, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x7894);
        EXPECT(gbc.pc(), 0xed34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed33), 0x24);
        // 24 026A
        gbc.setState(0x8581, 0xcbeb, 0xf740, 0x73fd, 0xb386, 0xf44b, 0x0, 0x1);
        gbc.writeMem(0x8581, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xcbeb);
        EXPECT(gbc.pc(), 0x8582);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8581), 0x24);
        // 24 026B
        gbc.setState(0x5f77, 0x2b4c, 0x5ef0, 0x6f8b, 0xeaf0, 0x8ed7, 0x0, 0x1);
        gbc.writeMem(0x5f77, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x2b4c);
        EXPECT(gbc.pc(), 0x5f78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 026C
        gbc.setState(0x6e0b, 0x9368, 0x51b0, 0x579b, 0xace2, 0x69cf, 0x1, 0x0);
        gbc.writeMem(0x6e0b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x9368);
        EXPECT(gbc.pc(), 0x6e0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 026D
        gbc.setState(0x137f, 0x1871, 0x6900, 0x5d89, 0x64c, 0xcf48, 0x0, 0x1);
        gbc.writeMem(0x137f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x1871);
        EXPECT(gbc.pc(), 0x1380);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 026E
        gbc.setState(0x99c7, 0x5832, 0xbeb0, 0x8000, 0xf5dc, 0x3eb0, 0x0, 0x1);
        gbc.writeMem(0x99c7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x5832);
        EXPECT(gbc.pc(), 0x99c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99c7), 0x24);
        // 24 026F
        gbc.setState(0xef03, 0xae89, 0x6d10, 0xc71, 0xf981, 0xfc85, 0x0, 0x1);
        gbc.writeMem(0xef03, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xae89);
        EXPECT(gbc.pc(), 0xef04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef03), 0x24);
        // 24 0270
        gbc.setState(0x7561, 0xdecc, 0x1550, 0xe680, 0x73f4, 0x1dc4, 0x0, 0x1);
        gbc.writeMem(0x7561, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xdecc);
        EXPECT(gbc.pc(), 0x7562);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0271
        gbc.setState(0x30c2, 0x28e2, 0xfbf0, 0xc0bc, 0x7974, 0x3124, 0x1, 0x1);
        gbc.writeMem(0x30c2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x28e2);
        EXPECT(gbc.pc(), 0x30c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0272
        gbc.setState(0xde72, 0xe48d, 0x6010, 0xe1d0, 0xd613, 0xa0cd, 0x0, 0x0);
        gbc.writeMem(0xde72, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xe48d);
        EXPECT(gbc.pc(), 0xde73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde72), 0x24);
        // 24 0273
        gbc.setState(0x88e9, 0xd226, 0x3200, 0xdac1, 0x7213, 0x6e41, 0x0, 0x0);
        gbc.writeMem(0x88e9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xd226);
        EXPECT(gbc.pc(), 0x88ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88e9), 0x24);
        // 24 0274
        gbc.setState(0x3aee, 0x7433, 0x75a0, 0x201e, 0xcfae, 0x4189, 0x1, 0x0);
        gbc.writeMem(0x3aee, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x7433);
        EXPECT(gbc.pc(), 0x3aef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0275
        gbc.setState(0xe0cf, 0xfd65, 0x82a0, 0xffde, 0xdaee, 0xa23e, 0x0, 0x1);
        gbc.writeMem(0xe0cf, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xfd65);
        EXPECT(gbc.pc(), 0xe0d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0cf), 0x24);
        // 24 0276
        gbc.setState(0x5541, 0x1582, 0x42d0, 0xe48b, 0xc743, 0x5658, 0x0, 0x0);
        gbc.writeMem(0x5541, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x1582);
        EXPECT(gbc.pc(), 0x5542);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0277
        gbc.setState(0xd840, 0x79bd, 0xcba0, 0xe686, 0x6452, 0x5690, 0x1, 0x1);
        gbc.writeMem(0xd840, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x79bd);
        EXPECT(gbc.pc(), 0xd841);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd840), 0x24);
        // 24 0278
        gbc.setState(0x5fde, 0x2dd1, 0xf500, 0x8a5d, 0xe27a, 0xb05f, 0x1, 0x1);
        gbc.writeMem(0x5fde, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x2dd1);
        EXPECT(gbc.pc(), 0x5fdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0279
        gbc.setState(0xd2f3, 0x64a0, 0x3c20, 0x21e, 0xf4f8, 0x9d57, 0x1, 0x1);
        gbc.writeMem(0xd2f3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x64a0);
        EXPECT(gbc.pc(), 0xd2f4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2f3), 0x24);
        // 24 027A
        gbc.setState(0xc09c, 0x8ae8, 0x2160, 0xf168, 0xddf9, 0xa023, 0x1, 0x0);
        gbc.writeMem(0xc09c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x8ae8);
        EXPECT(gbc.pc(), 0xc09d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc09c), 0x24);
        // 24 027B
        gbc.setState(0xbf57, 0x7b16, 0x5c80, 0x8f9f, 0xfe98, 0xfcc7, 0x0, 0x0);
        gbc.writeMem(0xbf57, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x7b16);
        EXPECT(gbc.pc(), 0xbf58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf57), 0x24);
        // 24 027C
        gbc.setState(0xb36f, 0xf0b1, 0x1e00, 0xfa27, 0xb785, 0x3a59, 0x1, 0x0);
        gbc.writeMem(0xb36f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xf0b1);
        EXPECT(gbc.pc(), 0xb370);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb36f), 0x24);
        // 24 027D
        gbc.setState(0x2d19, 0x59f2, 0x2c10, 0xc4d5, 0xa420, 0x5961, 0x0, 0x1);
        gbc.writeMem(0x2d19, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x59f2);
        EXPECT(gbc.pc(), 0x2d1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 027E
        gbc.setState(0xbde1, 0xc8e1, 0x5b10, 0x4636, 0xfd14, 0x2b78, 0x1, 0x1);
        gbc.writeMem(0xbde1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xc8e1);
        EXPECT(gbc.pc(), 0xbde2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbde1), 0x24);
        // 24 027F
        gbc.setState(0xa15b, 0x5b7b, 0x1590, 0x3213, 0xb2be, 0x4690, 0x0, 0x0);
        gbc.writeMem(0xa15b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x5b7b);
        EXPECT(gbc.pc(), 0xa15c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa15b), 0x24);
        // 24 0280
        gbc.setState(0x681e, 0xf6bb, 0x1080, 0x3f54, 0xbc1b, 0x5e1f, 0x0, 0x0);
        gbc.writeMem(0x681e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xf6bb);
        EXPECT(gbc.pc(), 0x681f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0281
        gbc.setState(0x3cbe, 0xe9f8, 0x7800, 0x2e60, 0x9c5, 0x2a0e, 0x0, 0x1);
        gbc.writeMem(0x3cbe, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xe9f8);
        EXPECT(gbc.pc(), 0x3cbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0282
        gbc.setState(0x23a5, 0x130, 0x1b30, 0xe9aa, 0xd97d, 0x96cc, 0x0, 0x0);
        gbc.writeMem(0x23a5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x130);
        EXPECT(gbc.pc(), 0x23a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0283
        gbc.setState(0x517, 0xe377, 0x76c0, 0x76cb, 0xd504, 0x1327, 0x1, 0x0);
        gbc.writeMem(0x517, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xe377);
        EXPECT(gbc.pc(), 0x518);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0284
        gbc.setState(0x4642, 0xd97d, 0x9c00, 0xc54c, 0x4d6b, 0xa925, 0x1, 0x0);
        gbc.writeMem(0x4642, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xd97d);
        EXPECT(gbc.pc(), 0x4643);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0285
        gbc.setState(0x4b79, 0xa508, 0x8d20, 0x576, 0x625b, 0x4661, 0x0, 0x1);
        gbc.writeMem(0x4b79, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xa508);
        EXPECT(gbc.pc(), 0x4b7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0286
        gbc.setState(0x4b79, 0x81e0, 0x1020, 0xb249, 0x3a9e, 0xdbc9, 0x1, 0x0);
        gbc.writeMem(0x4b79, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x81e0);
        EXPECT(gbc.pc(), 0x4b7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0287
        gbc.setState(0xbafa, 0xc774, 0x6550, 0xad91, 0x743b, 0xdea3, 0x0, 0x0);
        gbc.writeMem(0xbafa, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xc774);
        EXPECT(gbc.pc(), 0xbafb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbafa), 0x24);
        // 24 0288
        gbc.setState(0x6baa, 0xb65a, 0x5f00, 0xa2b8, 0x1e9f, 0x35bc, 0x1, 0x0);
        gbc.writeMem(0x6baa, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb65a);
        EXPECT(gbc.pc(), 0x6bab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0289
        gbc.setState(0xa30d, 0xc4eb, 0x7df0, 0xf591, 0x2b83, 0xdd29, 0x1, 0x1);
        gbc.writeMem(0xa30d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xc4eb);
        EXPECT(gbc.pc(), 0xa30e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa30d), 0x24);
        // 24 028A
        gbc.setState(0xc72a, 0xe55d, 0xc4a0, 0x4735, 0xbc30, 0x95d6, 0x1, 0x0);
        gbc.writeMem(0xc72a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xe55d);
        EXPECT(gbc.pc(), 0xc72b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc72a), 0x24);
        // 24 028B
        gbc.setState(0x5a1f, 0x7412, 0xe7b0, 0xa175, 0x1637, 0x3abb, 0x1, 0x1);
        gbc.writeMem(0x5a1f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x7412);
        EXPECT(gbc.pc(), 0x5a20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 028C
        gbc.setState(0x13f, 0x4ffd, 0x4750, 0xb49c, 0xf31a, 0xd606, 0x0, 0x1);
        gbc.writeMem(0x13f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x4ffd);
        EXPECT(gbc.pc(), 0x140);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 028D
        gbc.setState(0x6770, 0xa1b9, 0x1a80, 0x307f, 0xc2ce, 0xd236, 0x1, 0x0);
        gbc.writeMem(0x6770, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xa1b9);
        EXPECT(gbc.pc(), 0x6771);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 028E
        gbc.setState(0xc8fa, 0x4791, 0x9900, 0xc8c3, 0xdc82, 0x895a, 0x1, 0x1);
        gbc.writeMem(0xc8fa, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x4791);
        EXPECT(gbc.pc(), 0xc8fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8fa), 0x24);
        // 24 028F
        gbc.setState(0xd12a, 0xaa81, 0xb620, 0x3811, 0x95b1, 0x37f4, 0x0, 0x1);
        gbc.writeMem(0xd12a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xaa81);
        EXPECT(gbc.pc(), 0xd12b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd12a), 0x24);
        // 24 0290
        gbc.setState(0xbef8, 0x1b5f, 0xb5b0, 0x7b42, 0x7a5b, 0x8dc3, 0x0, 0x0);
        gbc.writeMem(0xbef8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x1b5f);
        EXPECT(gbc.pc(), 0xbef9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbef8), 0x24);
        // 24 0291
        gbc.setState(0xb066, 0xe0dc, 0x8b50, 0x1cdb, 0x3a1c, 0x9af4, 0x1, 0x0);
        gbc.writeMem(0xb066, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xe0dc);
        EXPECT(gbc.pc(), 0xb067);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb066), 0x24);
        // 24 0292
        gbc.setState(0xc204, 0x9663, 0x1bf0, 0x4f03, 0x96ce, 0x3385, 0x0, 0x0);
        gbc.writeMem(0xc204, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x9663);
        EXPECT(gbc.pc(), 0xc205);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc204), 0x24);
        // 24 0293
        gbc.setState(0xc8c9, 0x12cd, 0xbc40, 0x3675, 0x3636, 0x3d62, 0x0, 0x0);
        gbc.writeMem(0xc8c9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x12cd);
        EXPECT(gbc.pc(), 0xc8ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8c9), 0x24);
        // 24 0294
        gbc.setState(0xc37d, 0x99b3, 0x1540, 0x8d92, 0x9cfc, 0xf17, 0x0, 0x0);
        gbc.writeMem(0xc37d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x99b3);
        EXPECT(gbc.pc(), 0xc37e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc37d), 0x24);
        // 24 0295
        gbc.setState(0x223a, 0x8119, 0xa5c0, 0xee95, 0xa6d3, 0xa4a3, 0x1, 0x1);
        gbc.writeMem(0x223a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x8119);
        EXPECT(gbc.pc(), 0x223b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0296
        gbc.setState(0x70dc, 0x5799, 0x1cd0, 0x777e, 0x9a23, 0x229b, 0x0, 0x0);
        gbc.writeMem(0x70dc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x5799);
        EXPECT(gbc.pc(), 0x70dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0297
        gbc.setState(0xbddf, 0xed47, 0xf20, 0x6bf4, 0xa26e, 0xdc0f, 0x1, 0x1);
        gbc.writeMem(0xbddf, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xed47);
        EXPECT(gbc.pc(), 0xbde0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbddf), 0x24);
        // 24 0298
        gbc.setState(0x85f0, 0x14ce, 0x57e0, 0x65e1, 0x4279, 0x176e, 0x1, 0x1);
        gbc.writeMem(0x85f0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x14ce);
        EXPECT(gbc.pc(), 0x85f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85f0), 0x24);
        // 24 0299
        gbc.setState(0x501c, 0xd660, 0xb7e0, 0x25cc, 0xb388, 0x48ed, 0x0, 0x1);
        gbc.writeMem(0x501c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xd660);
        EXPECT(gbc.pc(), 0x501d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 029A
        gbc.setState(0x175c, 0x63d, 0x6dd0, 0x7e44, 0xf467, 0x2d43, 0x0, 0x0);
        gbc.writeMem(0x175c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x63d);
        EXPECT(gbc.pc(), 0x175d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 029B
        gbc.setState(0x63e5, 0x7e29, 0x3ef0, 0xc0a1, 0xeed2, 0xf553, 0x1, 0x1);
        gbc.writeMem(0x63e5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x7e29);
        EXPECT(gbc.pc(), 0x63e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 029C
        gbc.setState(0x541f, 0x8def, 0xa1a0, 0xb661, 0xce29, 0xfd4c, 0x1, 0x1);
        gbc.writeMem(0x541f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x8def);
        EXPECT(gbc.pc(), 0x5420);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 029D
        gbc.setState(0xa0d, 0xc391, 0x7ef0, 0x8ddb, 0x349b, 0x90f2, 0x1, 0x0);
        gbc.writeMem(0xa0d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xc391);
        EXPECT(gbc.pc(), 0xa0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 029E
        gbc.setState(0xcc8e, 0x3e8a, 0x2d80, 0x538d, 0x8dbc, 0x4c44, 0x0, 0x1);
        gbc.writeMem(0xcc8e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x3e8a);
        EXPECT(gbc.pc(), 0xcc8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc8e), 0x24);
        // 24 029F
        gbc.setState(0x919a, 0x10bb, 0x6410, 0xbd1f, 0x8f2, 0x7ba2, 0x1, 0x0);
        gbc.writeMem(0x919a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x10bb);
        EXPECT(gbc.pc(), 0x919b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x919a), 0x24);
        // 24 02A0
        gbc.setState(0x9425, 0xe55a, 0xc640, 0xe58a, 0xf557, 0xaac4, 0x1, 0x1);
        gbc.writeMem(0x9425, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xe55a);
        EXPECT(gbc.pc(), 0x9426);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9425), 0x24);
        // 24 02A1
        gbc.setState(0xcab4, 0x7c76, 0x71a0, 0x8b27, 0xaf04, 0xaafb, 0x0, 0x1);
        gbc.writeMem(0xcab4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x7c76);
        EXPECT(gbc.pc(), 0xcab5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcab4), 0x24);
        // 24 02A2
        gbc.setState(0x23c, 0x37d9, 0xb960, 0x74e0, 0xfba4, 0xfe57, 0x1, 0x0);
        gbc.writeMem(0x23c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x37d9);
        EXPECT(gbc.pc(), 0x23d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02A3
        gbc.setState(0x4a4d, 0x3f54, 0xeba0, 0x7527, 0x8ef0, 0x9dd8, 0x1, 0x1);
        gbc.writeMem(0x4a4d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x3f54);
        EXPECT(gbc.pc(), 0x4a4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02A4
        gbc.setState(0x85b2, 0x924, 0xd4b0, 0xcdd4, 0xbae7, 0xf7e3, 0x1, 0x1);
        gbc.writeMem(0x85b2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x924);
        EXPECT(gbc.pc(), 0x85b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85b2), 0x24);
        // 24 02A5
        gbc.setState(0xeef6, 0x2143, 0x7120, 0x9dc5, 0xe3f3, 0x25e9, 0x1, 0x0);
        gbc.writeMem(0xeef6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x2143);
        EXPECT(gbc.pc(), 0xeef7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeef6), 0x24);
        // 24 02A6
        gbc.setState(0xe6f7, 0x6194, 0x4fc0, 0xd635, 0x95ff, 0x2aaf, 0x1, 0x1);
        gbc.writeMem(0xe6f7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x6194);
        EXPECT(gbc.pc(), 0xe6f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6f7), 0x24);
        // 24 02A7
        gbc.setState(0x6b18, 0xb6fa, 0xba90, 0x1522, 0x387c, 0xd61f, 0x0, 0x1);
        gbc.writeMem(0x6b18, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xb6fa);
        EXPECT(gbc.pc(), 0x6b19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02A8
        gbc.setState(0x82b2, 0x205e, 0x8070, 0xa75e, 0xe0e0, 0x2c44, 0x0, 0x1);
        gbc.writeMem(0x82b2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x205e);
        EXPECT(gbc.pc(), 0x82b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x82b2), 0x24);
        // 24 02A9
        gbc.setState(0x1bd5, 0xd26b, 0xbbc0, 0x9b00, 0x3285, 0x5e4d, 0x1, 0x1);
        gbc.writeMem(0x1bd5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xd26b);
        EXPECT(gbc.pc(), 0x1bd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02AA
        gbc.setState(0xea57, 0x6eec, 0x9260, 0x691e, 0x7d00, 0xc01a, 0x1, 0x1);
        gbc.writeMem(0xea57, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x6eec);
        EXPECT(gbc.pc(), 0xea58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea57), 0x24);
        // 24 02AB
        gbc.setState(0x36aa, 0xdfce, 0x9020, 0xba43, 0x5e35, 0x7740, 0x1, 0x1);
        gbc.writeMem(0x36aa, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xdfce);
        EXPECT(gbc.pc(), 0x36ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02AC
        gbc.setState(0xd2b8, 0xf761, 0xa280, 0x660a, 0x36d2, 0x74a0, 0x0, 0x0);
        gbc.writeMem(0xd2b8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xf761);
        EXPECT(gbc.pc(), 0xd2b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2b8), 0x24);
        // 24 02AD
        gbc.setState(0xe470, 0xd663, 0x10f0, 0x1d55, 0x67ea, 0xe820, 0x0, 0x0);
        gbc.writeMem(0xe470, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd663);
        EXPECT(gbc.pc(), 0xe471);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe470), 0x24);
        // 24 02AE
        gbc.setState(0xd485, 0x6c22, 0xb060, 0x89e7, 0x5d53, 0x5279, 0x1, 0x1);
        gbc.writeMem(0xd485, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x6c22);
        EXPECT(gbc.pc(), 0xd486);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd485), 0x24);
        // 24 02AF
        gbc.setState(0x4579, 0x3d7, 0xbb90, 0xe7a2, 0x2933, 0x88bb, 0x1, 0x1);
        gbc.writeMem(0x4579, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x3d7);
        EXPECT(gbc.pc(), 0x457a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02B0
        gbc.setState(0xd644, 0x9b59, 0xc5f0, 0x5db2, 0x37c1, 0x3ae3, 0x1, 0x1);
        gbc.writeMem(0xd644, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x9b59);
        EXPECT(gbc.pc(), 0xd645);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd644), 0x24);
        // 24 02B1
        gbc.setState(0x9885, 0xe0f7, 0x8380, 0x2415, 0x1ca5, 0x4054, 0x1, 0x0);
        gbc.writeMem(0x9885, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xe0f7);
        EXPECT(gbc.pc(), 0x9886);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9885), 0x24);
        // 24 02B2
        gbc.setState(0xb874, 0x8c18, 0x7010, 0xb350, 0xb58, 0x70f1, 0x1, 0x1);
        gbc.writeMem(0xb874, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x8c18);
        EXPECT(gbc.pc(), 0xb875);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb874), 0x24);
        // 24 02B4
        gbc.setState(0x9bf8, 0x9fef, 0xeef0, 0xe803, 0x6c6e, 0xf3e3, 0x0, 0x0);
        gbc.writeMem(0x9bf8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x9fef);
        EXPECT(gbc.pc(), 0x9bf9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9bf8), 0x24);
        // 24 02B5
        gbc.setState(0x3c84, 0xa3e8, 0x45f0, 0xe1a5, 0xc5db, 0x962, 0x1, 0x0);
        gbc.writeMem(0x3c84, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xa3e8);
        EXPECT(gbc.pc(), 0x3c85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02B6
        gbc.setState(0x876, 0x2385, 0x7870, 0x6b5c, 0x1f0c, 0x4194, 0x0, 0x1);
        gbc.writeMem(0x876, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x2385);
        EXPECT(gbc.pc(), 0x877);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02B7
        gbc.setState(0x678b, 0x2725, 0xb2f0, 0x1a17, 0x24b5, 0x8a8f, 0x1, 0x1);
        gbc.writeMem(0x678b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x2725);
        EXPECT(gbc.pc(), 0x678c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02B8
        gbc.setState(0x4c26, 0xf08e, 0x98a0, 0x34dc, 0x980d, 0x14c5, 0x1, 0x0);
        gbc.writeMem(0x4c26, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xf08e);
        EXPECT(gbc.pc(), 0x4c27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02B9
        gbc.setState(0x52cb, 0xc178, 0x9010, 0x5fd9, 0xd869, 0xff50, 0x0, 0x1);
        gbc.writeMem(0x52cb, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xc178);
        EXPECT(gbc.pc(), 0x52cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 02BA
        gbc.setState(0x49aa, 0x43e8, 0x5540, 0xedd5, 0x9fb0, 0x4227, 0x0, 0x0);
        gbc.writeMem(0x49aa, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x43e8);
        EXPECT(gbc.pc(), 0x49ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02BB
        gbc.setState(0xa679, 0x901, 0xa020, 0x1cf5, 0x21c0, 0x20c1, 0x0, 0x0);
        gbc.writeMem(0xa679, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x901);
        EXPECT(gbc.pc(), 0xa67a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa679), 0x24);
        // 24 02BC
        gbc.setState(0x725c, 0xfc64, 0x9f30, 0x974d, 0x946e, 0x668c, 0x0, 0x1);
        gbc.writeMem(0x725c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xfc64);
        EXPECT(gbc.pc(), 0x725d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02BD
        gbc.setState(0x8492, 0x932e, 0xf350, 0xbf13, 0x8f81, 0x670e, 0x1, 0x0);
        gbc.writeMem(0x8492, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x932e);
        EXPECT(gbc.pc(), 0x8493);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8492), 0x24);
        // 24 02BE
        gbc.setState(0xbcad, 0xa1fb, 0x3e60, 0x357e, 0xfc4a, 0xca3e, 0x0, 0x1);
        gbc.writeMem(0xbcad, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xa1fb);
        EXPECT(gbc.pc(), 0xbcae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbcad), 0x24);
        // 24 02BF
        gbc.setState(0xd4af, 0x7f4d, 0xd560, 0x27e5, 0x931, 0xbc92, 0x1, 0x1);
        gbc.writeMem(0xd4af, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x7f4d);
        EXPECT(gbc.pc(), 0xd4b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4af), 0x24);
        // 24 02C0
        gbc.setState(0x6992, 0x74d, 0xea40, 0x9dc4, 0x7417, 0x91af, 0x1, 0x0);
        gbc.writeMem(0x6992, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x74d);
        EXPECT(gbc.pc(), 0x6993);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02C1
        gbc.setState(0xbaf3, 0xe2f8, 0xd690, 0x454b, 0x77c3, 0xb22e, 0x1, 0x0);
        gbc.writeMem(0xbaf3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xe2f8);
        EXPECT(gbc.pc(), 0xbaf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbaf3), 0x24);
        // 24 02C2
        gbc.setState(0x7c92, 0xcb8d, 0x7080, 0x7444, 0xdaa6, 0xd933, 0x0, 0x1);
        gbc.writeMem(0x7c92, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xcb8d);
        EXPECT(gbc.pc(), 0x7c93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02C3
        gbc.setState(0x9544, 0x7d54, 0xbb80, 0x3f97, 0x4ef1, 0xb914, 0x1, 0x1);
        gbc.writeMem(0x9544, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x7d54);
        EXPECT(gbc.pc(), 0x9545);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9544), 0x24);
        // 24 02C4
        gbc.setState(0x3d97, 0x4208, 0x5f20, 0xde64, 0x3bd, 0x568, 0x1, 0x1);
        gbc.writeMem(0x3d97, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x4208);
        EXPECT(gbc.pc(), 0x3d98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02C5
        gbc.setState(0xd470, 0x847b, 0x71b0, 0x7e44, 0x80d7, 0x7431, 0x1, 0x1);
        gbc.writeMem(0xd470, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x847b);
        EXPECT(gbc.pc(), 0xd471);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd470), 0x24);
        // 24 02C6
        gbc.setState(0x2e9e, 0xddfe, 0x9c10, 0x6bfa, 0x2cff, 0xbb90, 0x0, 0x1);
        gbc.writeMem(0x2e9e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xddfe);
        EXPECT(gbc.pc(), 0x2e9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02C7
        gbc.setState(0x27ee, 0xf5eb, 0xee90, 0x19b0, 0xa2ea, 0x9d99, 0x1, 0x1);
        gbc.writeMem(0x27ee, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xf5eb);
        EXPECT(gbc.pc(), 0x27ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02C8
        gbc.setState(0x1e69, 0x268f, 0x3350, 0x569f, 0xbf6c, 0x23d7, 0x1, 0x1);
        gbc.writeMem(0x1e69, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x268f);
        EXPECT(gbc.pc(), 0x1e6a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02C9
        gbc.setState(0x8aa2, 0x18a0, 0xcb0, 0x500f, 0x49d7, 0x7636, 0x1, 0x1);
        gbc.writeMem(0x8aa2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x18a0);
        EXPECT(gbc.pc(), 0x8aa3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8aa2), 0x24);
        // 24 02CA
        gbc.setState(0xe1e9, 0x173f, 0xd350, 0x9d80, 0x1422, 0xa27e, 0x1, 0x0);
        gbc.writeMem(0xe1e9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x173f);
        EXPECT(gbc.pc(), 0xe1ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1e9), 0x24);
        // 24 02CB
        gbc.setState(0xba97, 0x8576, 0xdc70, 0x993f, 0x875e, 0xfac3, 0x0, 0x1);
        gbc.writeMem(0xba97, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x8576);
        EXPECT(gbc.pc(), 0xba98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba97), 0x24);
        // 24 02CC
        gbc.setState(0x8fd, 0x3729, 0x5a0, 0x6e71, 0x2e40, 0x4fee, 0x0, 0x1);
        gbc.writeMem(0x8fd, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x3729);
        EXPECT(gbc.pc(), 0x8fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 02CD
        gbc.setState(0x8237, 0xa857, 0x9bf0, 0xfc94, 0x1117, 0xceeb, 0x1, 0x1);
        gbc.writeMem(0x8237, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xa857);
        EXPECT(gbc.pc(), 0x8238);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8237), 0x24);
        // 24 02CE
        gbc.setState(0x5ab3, 0x7a19, 0x6920, 0x7be9, 0x605f, 0x755e, 0x0, 0x1);
        gbc.writeMem(0x5ab3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x7a19);
        EXPECT(gbc.pc(), 0x5ab4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02CF
        gbc.setState(0xe85b, 0x3257, 0xe8a0, 0x8ae0, 0x5cd1, 0x5334, 0x0, 0x1);
        gbc.writeMem(0xe85b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x3257);
        EXPECT(gbc.pc(), 0xe85c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe85b), 0x24);
        // 24 02D0
        gbc.setState(0xb8a1, 0x737d, 0xe30, 0x76b9, 0x26b7, 0x4f08, 0x1, 0x0);
        gbc.writeMem(0xb8a1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x737d);
        EXPECT(gbc.pc(), 0xb8a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8a1), 0x24);
        // 24 02D1
        gbc.setState(0xae71, 0x28eb, 0x610, 0x7130, 0xb9db, 0xb473, 0x1, 0x0);
        gbc.writeMem(0xae71, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x28eb);
        EXPECT(gbc.pc(), 0xae72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae71), 0x24);
        // 24 02D2
        gbc.setState(0x61d6, 0x5802, 0xbe60, 0x7271, 0x4a4, 0x6e8d, 0x0, 0x0);
        gbc.writeMem(0x61d6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x5802);
        EXPECT(gbc.pc(), 0x61d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02D3
        gbc.setState(0x793, 0xb5a3, 0x50e0, 0x8939, 0x6c47, 0x314c, 0x0, 0x1);
        gbc.writeMem(0x793, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xb5a3);
        EXPECT(gbc.pc(), 0x794);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02D5
        gbc.setState(0x4707, 0x4ab8, 0xebe0, 0xd25d, 0x33b3, 0xeff3, 0x0, 0x1);
        gbc.writeMem(0x4707, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x4ab8);
        EXPECT(gbc.pc(), 0x4708);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 02D6
        gbc.setState(0xbb03, 0x49d7, 0x2c10, 0x16b9, 0x3d1d, 0xa2a, 0x0, 0x1);
        gbc.writeMem(0xbb03, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x49d7);
        EXPECT(gbc.pc(), 0xbb04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb03), 0x24);
        // 24 02D7
        gbc.setState(0x7ff2, 0x2a80, 0xfec0, 0x642d, 0x16bf, 0x9520, 0x0, 0x1);
        gbc.writeMem(0x7ff2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x2a80);
        EXPECT(gbc.pc(), 0x7ff3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02D8
        gbc.setState(0xc238, 0x436e, 0xa0d0, 0x71f8, 0xf15a, 0xee8f, 0x0, 0x1);
        gbc.writeMem(0xc238, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x436e);
        EXPECT(gbc.pc(), 0xc239);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc238), 0x24);
        // 24 02D9
        gbc.setState(0x1eea, 0x1c6d, 0xbc90, 0xbf72, 0xaf83, 0x1969, 0x1, 0x0);
        gbc.writeMem(0x1eea, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x1c6d);
        EXPECT(gbc.pc(), 0x1eeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02DA
        gbc.setState(0xbc0f, 0x3bb3, 0x4da0, 0xaae7, 0x4dcd, 0x1908, 0x0, 0x0);
        gbc.writeMem(0xbc0f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x3bb3);
        EXPECT(gbc.pc(), 0xbc10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc0f), 0x24);
        // 24 02DB
        gbc.setState(0xaa06, 0x5af1, 0x13e0, 0xdf65, 0x5800, 0x8120, 0x0, 0x0);
        gbc.writeMem(0xaa06, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x5af1);
        EXPECT(gbc.pc(), 0xaa07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa06), 0x24);
        // 24 02DC
        gbc.setState(0x1927, 0x763a, 0xd870, 0xe01c, 0xb47f, 0x951, 0x0, 0x1);
        gbc.writeMem(0x1927, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x763a);
        EXPECT(gbc.pc(), 0x1928);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02DD
        gbc.setState(0x4524, 0x11c0, 0x3d30, 0x86d7, 0x5e59, 0x61bc, 0x1, 0x1);
        gbc.writeMem(0x4524, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x11c0);
        EXPECT(gbc.pc(), 0x4525);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02DE
        gbc.setState(0x45ee, 0x5dd6, 0xbcc0, 0x5454, 0x9560, 0xf41a, 0x1, 0x1);
        gbc.writeMem(0x45ee, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x5dd6);
        EXPECT(gbc.pc(), 0x45ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02DF
        gbc.setState(0xae45, 0x3f69, 0xe890, 0x3d4f, 0x7b7b, 0x2ead, 0x0, 0x1);
        gbc.writeMem(0xae45, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x3f69);
        EXPECT(gbc.pc(), 0xae46);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xae45), 0x24);
        // 24 02E0
        gbc.setState(0x1fc5, 0xc49a, 0xefb0, 0x8ded, 0x8af5, 0x17e8, 0x1, 0x1);
        gbc.writeMem(0x1fc5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xc49a);
        EXPECT(gbc.pc(), 0x1fc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02E1
        gbc.setState(0x6d90, 0xed6c, 0x8e20, 0x54e5, 0x180, 0xfdc4, 0x1, 0x0);
        gbc.writeMem(0x6d90, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xed6c);
        EXPECT(gbc.pc(), 0x6d91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02E2
        gbc.setState(0x53c7, 0x36b5, 0xf0d0, 0xb146, 0x3c5f, 0xbaa7, 0x0, 0x1);
        gbc.writeMem(0x53c7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x36b5);
        EXPECT(gbc.pc(), 0x53c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02E3
        gbc.setState(0xac1d, 0xc3c4, 0xd7a0, 0x944, 0x330e, 0x7d2, 0x1, 0x0);
        gbc.writeMem(0xac1d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xc3c4);
        EXPECT(gbc.pc(), 0xac1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac1d), 0x24);
        // 24 02E4
        gbc.setState(0xba9e, 0x483, 0xaaf0, 0x1015, 0x2de2, 0xee26, 0x0, 0x1);
        gbc.writeMem(0xba9e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x483);
        EXPECT(gbc.pc(), 0xba9f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba9e), 0x24);
        // 24 02E5
        gbc.setState(0x6725, 0xfc76, 0x7640, 0x73e5, 0x5342, 0xffa, 0x1, 0x0);
        gbc.writeMem(0x6725, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xfc76);
        EXPECT(gbc.pc(), 0x6726);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 02E6
        gbc.setState(0xa323, 0xd0eb, 0x6c70, 0xd748, 0x2a9, 0x4627, 0x1, 0x0);
        gbc.writeMem(0xa323, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xd0eb);
        EXPECT(gbc.pc(), 0xa324);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa323), 0x24);
        // 24 02E7
        gbc.setState(0x9a96, 0xf244, 0xa390, 0x6ad0, 0x6bf, 0x71ec, 0x1, 0x1);
        gbc.writeMem(0x9a96, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xf244);
        EXPECT(gbc.pc(), 0x9a97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a96), 0x24);
        // 24 02E8
        gbc.setState(0x69de, 0xb84f, 0xedf0, 0xd538, 0xe118, 0xf311, 0x1, 0x0);
        gbc.writeMem(0x69de, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xb84f);
        EXPECT(gbc.pc(), 0x69df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02E9
        gbc.setState(0x6578, 0x618a, 0x9c80, 0x6d9a, 0xab38, 0xb52f, 0x1, 0x1);
        gbc.writeMem(0x6578, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x618a);
        EXPECT(gbc.pc(), 0x6579);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02EA
        gbc.setState(0xbe0c, 0xc594, 0x3080, 0x3f55, 0x1b66, 0x31, 0x1, 0x0);
        gbc.writeMem(0xbe0c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xc594);
        EXPECT(gbc.pc(), 0xbe0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe0c), 0x24);
        // 24 02EB
        gbc.setState(0x5ce1, 0x43a9, 0xb8d0, 0x2eb8, 0xe198, 0x1972, 0x1, 0x1);
        gbc.writeMem(0x5ce1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x43a9);
        EXPECT(gbc.pc(), 0x5ce2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02EC
        gbc.setState(0x7e8f, 0xcd7f, 0x8b00, 0xff81, 0xf864, 0x45b8, 0x0, 0x1);
        gbc.writeMem(0x7e8f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xcd7f);
        EXPECT(gbc.pc(), 0x7e90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02ED
        gbc.setState(0xdcca, 0xd875, 0xcd00, 0x6e44, 0x27ec, 0xed81, 0x0, 0x0);
        gbc.writeMem(0xdcca, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xd875);
        EXPECT(gbc.pc(), 0xdccb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcca), 0x24);
        // 24 02EE
        gbc.setState(0x7fd7, 0xd169, 0x5610, 0xeb69, 0x5c08, 0x114a, 0x0, 0x1);
        gbc.writeMem(0x7fd7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xd169);
        EXPECT(gbc.pc(), 0x7fd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02EF
        gbc.setState(0xdb3b, 0x44cd, 0x7b80, 0x4a45, 0x7edd, 0xc59a, 0x0, 0x1);
        gbc.writeMem(0xdb3b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x44cd);
        EXPECT(gbc.pc(), 0xdb3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb3b), 0x24);
        // 24 02F0
        gbc.setState(0x9746, 0x324d, 0xd9b0, 0xa050, 0xd332, 0x556, 0x1, 0x1);
        gbc.writeMem(0x9746, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x324d);
        EXPECT(gbc.pc(), 0x9747);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9746), 0x24);
        // 24 02F1
        gbc.setState(0x7dcf, 0x720a, 0xad30, 0xa7bb, 0xfecc, 0x29c9, 0x0, 0x0);
        gbc.writeMem(0x7dcf, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x720a);
        EXPECT(gbc.pc(), 0x7dd0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02F2
        gbc.setState(0x1c14, 0x2cc9, 0x4c50, 0xa28f, 0x3af9, 0xe99b, 0x1, 0x1);
        gbc.writeMem(0x1c14, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x2cc9);
        EXPECT(gbc.pc(), 0x1c15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02F3
        gbc.setState(0x2a35, 0x4307, 0x9280, 0xb7ec, 0x456a, 0x3d62, 0x0, 0x1);
        gbc.writeMem(0x2a35, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x4307);
        EXPECT(gbc.pc(), 0x2a36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02F4
        gbc.setState(0x3739, 0x6a77, 0x8a70, 0xcbf9, 0x5d4d, 0xd4de, 0x1, 0x1);
        gbc.writeMem(0x3739, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x6a77);
        EXPECT(gbc.pc(), 0x373a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02F5
        gbc.setState(0xc410, 0x1c6c, 0x6560, 0x7606, 0x1790, 0x83ef, 0x0, 0x0);
        gbc.writeMem(0xc410, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x1c6c);
        EXPECT(gbc.pc(), 0xc411);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc410), 0x24);
        // 24 02F6
        gbc.setState(0xe458, 0xf6df, 0xa940, 0x386a, 0x2919, 0xf08c, 0x0, 0x1);
        gbc.writeMem(0xe458, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xf6df);
        EXPECT(gbc.pc(), 0xe459);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe458), 0x24);
        // 24 02F7
        gbc.setState(0x9cea, 0x4c70, 0x2da0, 0xfb92, 0x93d2, 0xf517, 0x0, 0x0);
        gbc.writeMem(0x9cea, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x4c70);
        EXPECT(gbc.pc(), 0x9ceb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cea), 0x24);
        // 24 02F9
        gbc.setState(0xc530, 0xb35a, 0x9e50, 0x9393, 0x801, 0x9d27, 0x1, 0x0);
        gbc.writeMem(0xc530, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xb35a);
        EXPECT(gbc.pc(), 0xc531);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc530), 0x24);
        // 24 02FA
        gbc.setState(0x148b, 0x5289, 0xf100, 0xfcf1, 0xfbcf, 0xb997, 0x1, 0x1);
        gbc.writeMem(0x148b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x5289);
        EXPECT(gbc.pc(), 0x148c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02FB
        gbc.setState(0x512c, 0x9970, 0x1f30, 0xaaf0, 0xfd38, 0x91cf, 0x0, 0x0);
        gbc.writeMem(0x512c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x9970);
        EXPECT(gbc.pc(), 0x512d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 02FD
        gbc.setState(0xd36c, 0xd936, 0x5710, 0x7f2f, 0xf9aa, 0xd192, 0x0, 0x0);
        gbc.writeMem(0xd36c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xd936);
        EXPECT(gbc.pc(), 0xd36d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd36c), 0x24);
        // 24 02FE
        gbc.setState(0x26c8, 0xa397, 0xbf80, 0xf3e7, 0x55f0, 0xa747, 0x1, 0x0);
        gbc.writeMem(0x26c8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xa397);
        EXPECT(gbc.pc(), 0x26c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 02FF
        gbc.setState(0x63e, 0xc144, 0xbeb0, 0xb718, 0xe68a, 0x7d36, 0x1, 0x1);
        gbc.writeMem(0x63e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xc144);
        EXPECT(gbc.pc(), 0x63f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0300
        gbc.setState(0x1bc4, 0x8789, 0xa450, 0xdbfb, 0x9c5d, 0x4dd9, 0x0, 0x0);
        gbc.writeMem(0x1bc4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x8789);
        EXPECT(gbc.pc(), 0x1bc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0301
        gbc.setState(0x7942, 0xa8fb, 0xbd70, 0xd4a5, 0xb37e, 0xa29f, 0x0, 0x0);
        gbc.writeMem(0x7942, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xa8fb);
        EXPECT(gbc.pc(), 0x7943);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0302
        gbc.setState(0x2606, 0xc989, 0x3660, 0xb10e, 0xecbb, 0x8ca, 0x0, 0x0);
        gbc.writeMem(0x2606, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xc989);
        EXPECT(gbc.pc(), 0x2607);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0303
        gbc.setState(0xc60, 0x4a97, 0xa930, 0xcb90, 0xe02b, 0x9444, 0x0, 0x1);
        gbc.writeMem(0xc60, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x4a97);
        EXPECT(gbc.pc(), 0xc61);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0304
        gbc.setState(0xa650, 0x195d, 0xd6c0, 0xa05a, 0xa373, 0x1453, 0x0, 0x0);
        gbc.writeMem(0xa650, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x195d);
        EXPECT(gbc.pc(), 0xa651);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa650), 0x24);
        // 24 0305
        gbc.setState(0xd225, 0xa247, 0x7900, 0x1857, 0x12dc, 0xa12a, 0x1, 0x0);
        gbc.writeMem(0xd225, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xa247);
        EXPECT(gbc.pc(), 0xd226);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd225), 0x24);
        // 24 0306
        gbc.setState(0x548e, 0xbed7, 0x8630, 0x385a, 0xa4ac, 0x31c1, 0x1, 0x0);
        gbc.writeMem(0x548e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xbed7);
        EXPECT(gbc.pc(), 0x548f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0307
        gbc.setState(0x69a7, 0x2da8, 0x94d0, 0x7bba, 0xa190, 0xcb65, 0x1, 0x1);
        gbc.writeMem(0x69a7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x2da8);
        EXPECT(gbc.pc(), 0x69a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0308
        gbc.setState(0x2fe8, 0xcedb, 0x5ea0, 0x1196, 0x8a0b, 0x16b9, 0x1, 0x1);
        gbc.writeMem(0x2fe8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xcedb);
        EXPECT(gbc.pc(), 0x2fe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0309
        gbc.setState(0xb1dc, 0xa9fd, 0x7520, 0x1778, 0xc720, 0x7df4, 0x0, 0x0);
        gbc.writeMem(0xb1dc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xa9fd);
        EXPECT(gbc.pc(), 0xb1dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1dc), 0x24);
        // 24 030A
        gbc.setState(0x81c1, 0xa4c5, 0xaec0, 0x546f, 0x4699, 0x1113, 0x1, 0x1);
        gbc.writeMem(0x81c1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0xa4c5);
        EXPECT(gbc.pc(), 0x81c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81c1), 0x24);
        // 24 030B
        gbc.setState(0x7f1b, 0x74f7, 0xeea0, 0xa0a1, 0xc899, 0xf072, 0x0, 0x1);
        gbc.writeMem(0x7f1b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x74f7);
        EXPECT(gbc.pc(), 0x7f1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 030D
        gbc.setState(0x4d18, 0xe4c8, 0x36a0, 0xfd54, 0x8711, 0x9700, 0x1, 0x1);
        gbc.writeMem(0x4d18, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xe4c8);
        EXPECT(gbc.pc(), 0x4d19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 030E
        gbc.setState(0x4ead, 0x744c, 0x3e60, 0x57e7, 0xde65, 0xa7b9, 0x0, 0x1);
        gbc.writeMem(0x4ead, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x744c);
        EXPECT(gbc.pc(), 0x4eae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 030F
        gbc.setState(0x2d2, 0x3df2, 0xde70, 0xc0a4, 0x5902, 0x6461, 0x1, 0x0);
        gbc.writeMem(0x2d2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x3df2);
        EXPECT(gbc.pc(), 0x2d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0311
        gbc.setState(0xe652, 0x9e51, 0x5610, 0x9b8e, 0xeb71, 0xad01, 0x1, 0x0);
        gbc.writeMem(0xe652, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x9e51);
        EXPECT(gbc.pc(), 0xe653);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe652), 0x24);
        // 24 0312
        gbc.setState(0xd745, 0x4ff1, 0x9a80, 0x77e4, 0x544f, 0xdd4, 0x1, 0x1);
        gbc.writeMem(0xd745, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x4ff1);
        EXPECT(gbc.pc(), 0xd746);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd745), 0x24);
        // 24 0313
        gbc.setState(0xb259, 0x25ce, 0x52a0, 0xb562, 0x4522, 0x2ce3, 0x1, 0x0);
        gbc.writeMem(0xb259, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x25ce);
        EXPECT(gbc.pc(), 0xb25a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb259), 0x24);
        // 24 0314
        gbc.setState(0x6cba, 0xeac9, 0xcf20, 0xeb34, 0xfdf8, 0x9543, 0x1, 0x0);
        gbc.writeMem(0x6cba, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xeac9);
        EXPECT(gbc.pc(), 0x6cbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0315
        gbc.setState(0x1ae, 0x4938, 0x9aa0, 0x45bd, 0x57fa, 0xa8c9, 0x0, 0x1);
        gbc.writeMem(0x1ae, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x4938);
        EXPECT(gbc.pc(), 0x1af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0316
        gbc.setState(0x7065, 0x1ba8, 0x57c0, 0xef34, 0x40ba, 0x19b5, 0x0, 0x0);
        gbc.writeMem(0x7065, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x1ba8);
        EXPECT(gbc.pc(), 0x7066);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0318
        gbc.setState(0x4819, 0xd457, 0x3ed0, 0xf370, 0x144f, 0xedf4, 0x0, 0x0);
        gbc.writeMem(0x4819, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xd457);
        EXPECT(gbc.pc(), 0x481a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0319
        gbc.setState(0x32e, 0xa3cf, 0xf390, 0xed61, 0xa558, 0x6727, 0x0, 0x1);
        gbc.writeMem(0x32e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xa3cf);
        EXPECT(gbc.pc(), 0x32f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 031A
        gbc.setState(0x6ce6, 0x2766, 0xc830, 0xad11, 0x48c6, 0x2d60, 0x1, 0x0);
        gbc.writeMem(0x6ce6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x2766);
        EXPECT(gbc.pc(), 0x6ce7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 031B
        gbc.setState(0x555, 0xff59, 0xe060, 0x3784, 0xbfe, 0xbbc, 0x1, 0x1);
        gbc.writeMem(0x555, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xff59);
        EXPECT(gbc.pc(), 0x556);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 031C
        gbc.setState(0x17fa, 0xc635, 0x6280, 0x3a69, 0x49d, 0x708e, 0x1, 0x1);
        gbc.writeMem(0x17fa, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xc635);
        EXPECT(gbc.pc(), 0x17fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 031D
        gbc.setState(0x4603, 0xa076, 0xe9d0, 0xa6f0, 0x23f6, 0x2644, 0x1, 0x1);
        gbc.writeMem(0x4603, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xa076);
        EXPECT(gbc.pc(), 0x4604);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 031E
        gbc.setState(0x9052, 0x48a0, 0x55a0, 0x4e5a, 0xc9bc, 0xa375, 0x0, 0x0);
        gbc.writeMem(0x9052, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x48a0);
        EXPECT(gbc.pc(), 0x9053);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9052), 0x24);
        // 24 031F
        gbc.setState(0x3ac3, 0x2e05, 0x4270, 0x60bf, 0x6870, 0xc7d5, 0x0, 0x0);
        gbc.writeMem(0x3ac3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x2e05);
        EXPECT(gbc.pc(), 0x3ac4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0320
        gbc.setState(0xacc1, 0x10a6, 0xf730, 0x5e54, 0xc295, 0xafc, 0x1, 0x1);
        gbc.writeMem(0xacc1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x10a6);
        EXPECT(gbc.pc(), 0xacc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacc1), 0x24);
        // 24 0321
        gbc.setState(0x218a, 0x16d6, 0xa530, 0x2dc3, 0xab82, 0x7176, 0x0, 0x1);
        gbc.writeMem(0x218a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x16d6);
        EXPECT(gbc.pc(), 0x218b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0322
        gbc.setState(0x352f, 0x7d4b, 0x6b60, 0x2aec, 0xcfdc, 0x1d64, 0x1, 0x1);
        gbc.writeMem(0x352f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x7d4b);
        EXPECT(gbc.pc(), 0x3530);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0323
        gbc.setState(0xed03, 0xb996, 0x8f30, 0x3a6f, 0x65f3, 0xa246, 0x0, 0x1);
        gbc.writeMem(0xed03, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xb996);
        EXPECT(gbc.pc(), 0xed04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed03), 0x24);
        // 24 0324
        gbc.setState(0xeb9b, 0x736b, 0x95a0, 0x12c2, 0x795d, 0x9795, 0x1, 0x0);
        gbc.writeMem(0xeb9b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x736b);
        EXPECT(gbc.pc(), 0xeb9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb9b), 0x24);
        // 24 0325
        gbc.setState(0x733a, 0xae78, 0xa370, 0x6fbd, 0x1c21, 0x194e, 0x1, 0x0);
        gbc.writeMem(0x733a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xae78);
        EXPECT(gbc.pc(), 0x733b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0326
        gbc.setState(0xa054, 0xa42a, 0xbef0, 0x565f, 0x9af1, 0x2031, 0x1, 0x0);
        gbc.writeMem(0xa054, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xa42a);
        EXPECT(gbc.pc(), 0xa055);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa054), 0x24);
        // 24 0327
        gbc.setState(0x8687, 0xac93, 0xc2b0, 0xbc4c, 0x50a3, 0x4142, 0x0, 0x1);
        gbc.writeMem(0x8687, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xac93);
        EXPECT(gbc.pc(), 0x8688);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8687), 0x24);
        // 24 0328
        gbc.setState(0x7f18, 0xa276, 0x2090, 0x119b, 0xceec, 0x524, 0x1, 0x1);
        gbc.writeMem(0x7f18, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xa276);
        EXPECT(gbc.pc(), 0x7f19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0329
        gbc.setState(0x3fd0, 0x9ba3, 0x1640, 0x7ad3, 0x33dd, 0x55c7, 0x1, 0x1);
        gbc.writeMem(0x3fd0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x9ba3);
        EXPECT(gbc.pc(), 0x3fd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 032A
        gbc.setState(0x5e31, 0x53f, 0x7c30, 0x2843, 0x674f, 0xa942, 0x0, 0x0);
        gbc.writeMem(0x5e31, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x53f);
        EXPECT(gbc.pc(), 0x5e32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 032B
        gbc.setState(0x91f6, 0x7fe9, 0xb0c0, 0x9973, 0x709e, 0x151a, 0x0, 0x1);
        gbc.writeMem(0x91f6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x7fe9);
        EXPECT(gbc.pc(), 0x91f7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91f6), 0x24);
        // 24 032C
        gbc.setState(0x89f8, 0xb3d0, 0x6b20, 0xec58, 0x8916, 0x7e30, 0x1, 0x0);
        gbc.writeMem(0x89f8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xb3d0);
        EXPECT(gbc.pc(), 0x89f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89f8), 0x24);
        // 24 032D
        gbc.setState(0x6b1, 0x6ee6, 0x6640, 0x6422, 0xde01, 0x4826, 0x1, 0x1);
        gbc.writeMem(0x6b1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x6ee6);
        EXPECT(gbc.pc(), 0x6b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 032E
        gbc.setState(0x359a, 0x43cf, 0x5a20, 0xb6a0, 0x209e, 0xecc3, 0x1, 0x1);
        gbc.writeMem(0x359a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x43cf);
        EXPECT(gbc.pc(), 0x359b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 032F
        gbc.setState(0x254, 0xe9e0, 0x68d0, 0xc4ea, 0xd5e3, 0x3b11, 0x0, 0x0);
        gbc.writeMem(0x254, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xe9e0);
        EXPECT(gbc.pc(), 0x255);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0330
        gbc.setState(0x184b, 0xabc1, 0x6710, 0x126c, 0xdc95, 0xfd52, 0x0, 0x1);
        gbc.writeMem(0x184b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xabc1);
        EXPECT(gbc.pc(), 0x184c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0331
        gbc.setState(0xd6df, 0x4284, 0xf3d0, 0xaf9b, 0x241a, 0xdda9, 0x0, 0x0);
        gbc.writeMem(0xd6df, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x4284);
        EXPECT(gbc.pc(), 0xd6e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6df), 0x24);
        // 24 0332
        gbc.setState(0xe067, 0x402c, 0x6fa0, 0xe2d5, 0xf49c, 0x6327, 0x1, 0x1);
        gbc.writeMem(0xe067, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x402c);
        EXPECT(gbc.pc(), 0xe068);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe067), 0x24);
        // 24 0333
        gbc.setState(0x1da, 0x209, 0x9030, 0xbc7b, 0x6da0, 0x649d, 0x0, 0x1);
        gbc.writeMem(0x1da, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x209);
        EXPECT(gbc.pc(), 0x1db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0334
        gbc.setState(0xac72, 0x968, 0xb40, 0x74a5, 0xf863, 0x8773, 0x1, 0x1);
        gbc.writeMem(0xac72, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x968);
        EXPECT(gbc.pc(), 0xac73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac72), 0x24);
        // 24 0335
        gbc.setState(0x4c9e, 0xfe14, 0xe440, 0x4388, 0xfe8, 0xfc1, 0x1, 0x0);
        gbc.writeMem(0x4c9e, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xfe14);
        EXPECT(gbc.pc(), 0x4c9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 0336
        gbc.setState(0x1a94, 0x48ed, 0xead0, 0xc007, 0x7414, 0x3762, 0x1, 0x1);
        gbc.writeMem(0x1a94, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x48ed);
        EXPECT(gbc.pc(), 0x1a95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0337
        gbc.setState(0x66e6, 0xc10a, 0xdd20, 0x266, 0xd13e, 0xc023, 0x1, 0x0);
        gbc.writeMem(0x66e6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xc10a);
        EXPECT(gbc.pc(), 0x66e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0338
        gbc.setState(0x6fbb, 0xbbc4, 0x3980, 0x18fa, 0x6b3c, 0xc752, 0x1, 0x1);
        gbc.writeMem(0x6fbb, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xbbc4);
        EXPECT(gbc.pc(), 0x6fbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0339
        gbc.setState(0x57d1, 0x19e8, 0xf810, 0x1655, 0x287f, 0x1516, 0x0, 0x1);
        gbc.writeMem(0x57d1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x19e8);
        EXPECT(gbc.pc(), 0x57d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 033A
        gbc.setState(0xcc91, 0x97fa, 0x880, 0xe66c, 0xf342, 0xff, 0x1, 0x0);
        gbc.writeMem(0xcc91, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x97fa);
        EXPECT(gbc.pc(), 0xcc92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc91), 0x24);
        // 24 033B
        gbc.setState(0xce0, 0x4cbf, 0xcb0, 0xe9e4, 0x2da3, 0xe6ff, 0x0, 0x0);
        gbc.writeMem(0xce0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x4cbf);
        EXPECT(gbc.pc(), 0xce1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 033C
        gbc.setState(0x2d92, 0x99e1, 0x3b30, 0x7e06, 0x7665, 0xb668, 0x1, 0x0);
        gbc.writeMem(0x2d92, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x99e1);
        EXPECT(gbc.pc(), 0x2d93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 033D
        gbc.setState(0xce63, 0x729, 0x9300, 0x2446, 0x51cc, 0x33c9, 0x0, 0x0);
        gbc.writeMem(0xce63, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x729);
        EXPECT(gbc.pc(), 0xce64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce63), 0x24);
        // 24 033E
        gbc.setState(0x8109, 0xe3b3, 0x43c0, 0x66fc, 0x4511, 0xf73f, 0x0, 0x1);
        gbc.writeMem(0x8109, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xe3b3);
        EXPECT(gbc.pc(), 0x810a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8109), 0x24);
        // 24 033F
        gbc.setState(0x8147, 0xbc90, 0x140, 0xbab5, 0xbd49, 0x5d3d, 0x1, 0x0);
        gbc.writeMem(0x8147, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xbc90);
        EXPECT(gbc.pc(), 0x8148);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8147), 0x24);
        // 24 0340
        gbc.setState(0x2f97, 0x8e8b, 0x9650, 0xba29, 0x9c38, 0x2172, 0x1, 0x0);
        gbc.writeMem(0x2f97, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x8e8b);
        EXPECT(gbc.pc(), 0x2f98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0341
        gbc.setState(0xca91, 0x754, 0xbd00, 0x5100, 0x3a43, 0xa5a0, 0x0, 0x0);
        gbc.writeMem(0xca91, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x754);
        EXPECT(gbc.pc(), 0xca92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca91), 0x24);
        // 24 0342
        gbc.setState(0x4be7, 0x61e0, 0x3a40, 0x93d, 0x4fa6, 0x239e, 0x0, 0x0);
        gbc.writeMem(0x4be7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x61e0);
        EXPECT(gbc.pc(), 0x4be8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0343
        gbc.setState(0x8c15, 0x5387, 0xf620, 0x81d9, 0x4f07, 0xd1d3, 0x0, 0x1);
        gbc.writeMem(0x8c15, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x5387);
        EXPECT(gbc.pc(), 0x8c16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c15), 0x24);
        // 24 0344
        gbc.setState(0x1891, 0xdab3, 0x5460, 0x71a1, 0xb01a, 0x89a9, 0x0, 0x1);
        gbc.writeMem(0x1891, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xdab3);
        EXPECT(gbc.pc(), 0x1892);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0345
        gbc.setState(0xd9eb, 0xe93c, 0x98e0, 0x6ecc, 0xb9c5, 0xfb56, 0x1, 0x1);
        gbc.writeMem(0xd9eb, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xe93c);
        EXPECT(gbc.pc(), 0xd9ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9eb), 0x24);
        // 24 0346
        gbc.setState(0x177d, 0xa62e, 0xbee0, 0xf2f6, 0x8f2e, 0xcf31, 0x0, 0x1);
        gbc.writeMem(0x177d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xa62e);
        EXPECT(gbc.pc(), 0x177e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 0347
        gbc.setState(0xebbb, 0xabef, 0x25a0, 0x1beb, 0x9632, 0xe2db, 0x1, 0x0);
        gbc.writeMem(0xebbb, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xabef);
        EXPECT(gbc.pc(), 0xebbc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebbb), 0x24);
        // 24 0348
        gbc.setState(0x6167, 0xb250, 0xa430, 0x29a7, 0xa0c9, 0x5552, 0x0, 0x1);
        gbc.writeMem(0x6167, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xb250);
        EXPECT(gbc.pc(), 0x6168);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0349
        gbc.setState(0x9295, 0xf931, 0x7120, 0x4234, 0x2902, 0x709d, 0x0, 0x0);
        gbc.writeMem(0x9295, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xf931);
        EXPECT(gbc.pc(), 0x9296);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9295), 0x24);
        // 24 034A
        gbc.setState(0x92ab, 0x30f, 0x1110, 0xac8d, 0x9ac, 0x5d6a, 0x0, 0x0);
        gbc.writeMem(0x92ab, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x30f);
        EXPECT(gbc.pc(), 0x92ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92ab), 0x24);
        // 24 034B
        gbc.setState(0xba86, 0x8921, 0xa6a0, 0x7e76, 0xf869, 0x5c83, 0x0, 0x1);
        gbc.writeMem(0xba86, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x8921);
        EXPECT(gbc.pc(), 0xba87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba86), 0x24);
        // 24 034C
        gbc.setState(0x5b13, 0x5abd, 0xc880, 0x3687, 0x1a06, 0x4a3d, 0x1, 0x0);
        gbc.writeMem(0x5b13, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x5abd);
        EXPECT(gbc.pc(), 0x5b14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 034D
        gbc.setState(0x227a, 0x32b1, 0x1a30, 0xd5bc, 0xa60c, 0xe5c, 0x1, 0x1);
        gbc.writeMem(0x227a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x32b1);
        EXPECT(gbc.pc(), 0x227b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 034E
        gbc.setState(0x7797, 0x19e7, 0x8440, 0x6ca3, 0xc480, 0x23f1, 0x1, 0x0);
        gbc.writeMem(0x7797, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x19e7);
        EXPECT(gbc.pc(), 0x7798);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 034F
        gbc.setState(0xefc4, 0x7559, 0x9250, 0xfae1, 0xa402, 0x1043, 0x0, 0x0);
        gbc.writeMem(0xefc4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x7559);
        EXPECT(gbc.pc(), 0xefc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xefc4), 0x24);
        // 24 0350
        gbc.setState(0x36d2, 0x5d56, 0xa760, 0x7f61, 0x95d2, 0xea6a, 0x1, 0x0);
        gbc.writeMem(0x36d2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x5d56);
        EXPECT(gbc.pc(), 0x36d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0351
        gbc.setState(0xedce, 0xaff3, 0xa510, 0xd898, 0xf12d, 0xa956, 0x0, 0x0);
        gbc.writeMem(0xedce, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xaff3);
        EXPECT(gbc.pc(), 0xedcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedce), 0x24);
        // 24 0352
        gbc.setState(0xd675, 0x3567, 0x33b0, 0x103c, 0xefd2, 0x644a, 0x1, 0x0);
        gbc.writeMem(0xd675, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x3567);
        EXPECT(gbc.pc(), 0xd676);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd675), 0x24);
        // 24 0353
        gbc.setState(0x888b, 0x2e7a, 0xc9f0, 0x5466, 0x8a8d, 0xd993, 0x0, 0x1);
        gbc.writeMem(0x888b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x2e7a);
        EXPECT(gbc.pc(), 0x888c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x888b), 0x24);
        // 24 0354
        gbc.setState(0x4130, 0x8570, 0xf8c0, 0x971e, 0xe00, 0x4162, 0x1, 0x1);
        gbc.writeMem(0x4130, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x8570);
        EXPECT(gbc.pc(), 0x4131);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0355
        gbc.setState(0x2a73, 0xa9fc, 0xb340, 0x4fc0, 0x5ce1, 0xba6b, 0x1, 0x1);
        gbc.writeMem(0x2a73, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa9fc);
        EXPECT(gbc.pc(), 0x2a74);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0356
        gbc.setState(0x1d23, 0x8781, 0xbbd0, 0x73da, 0xa447, 0xdea, 0x0, 0x0);
        gbc.writeMem(0x1d23, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x8781);
        EXPECT(gbc.pc(), 0x1d24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0357
        gbc.setState(0x94d7, 0xa58, 0x0, 0xd99b, 0xaaa5, 0xed21, 0x1, 0x0);
        gbc.writeMem(0x94d7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xa58);
        EXPECT(gbc.pc(), 0x94d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94d7), 0x24);
        // 24 0358
        gbc.setState(0x81f6, 0x7a78, 0x3770, 0x6801, 0x65a1, 0x5805, 0x1, 0x0);
        gbc.writeMem(0x81f6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x7a78);
        EXPECT(gbc.pc(), 0x81f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81f6), 0x24);
        // 24 0359
        gbc.setState(0x7a10, 0x4c80, 0x8880, 0x291f, 0xe907, 0xdf40, 0x1, 0x1);
        gbc.writeMem(0x7a10, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x4c80);
        EXPECT(gbc.pc(), 0x7a11);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 035A
        gbc.setState(0x8dab, 0x6f58, 0x42f0, 0xf812, 0x75ae, 0x35b2, 0x1, 0x0);
        gbc.writeMem(0x8dab, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x6f58);
        EXPECT(gbc.pc(), 0x8dac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8dab), 0x24);
        // 24 035B
        gbc.setState(0x9622, 0x157, 0xd600, 0x3898, 0x7020, 0x3cc5, 0x0, 0x0);
        gbc.writeMem(0x9622, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x157);
        EXPECT(gbc.pc(), 0x9623);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9622), 0x24);
        // 24 035C
        gbc.setState(0x5848, 0x698e, 0xc5f0, 0xed18, 0x2e91, 0x2b55, 0x1, 0x1);
        gbc.writeMem(0x5848, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x698e);
        EXPECT(gbc.pc(), 0x5849);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 035D
        gbc.setState(0x9f12, 0x36b9, 0xf970, 0x8a31, 0x8316, 0xec74, 0x1, 0x1);
        gbc.writeMem(0x9f12, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x36b9);
        EXPECT(gbc.pc(), 0x9f13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9f12), 0x24);
        // 24 035E
        gbc.setState(0x1642, 0x2a52, 0xb0, 0xe35e, 0x881a, 0xdd26, 0x0, 0x1);
        gbc.writeMem(0x1642, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x2a52);
        EXPECT(gbc.pc(), 0x1643);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 035F
        gbc.setState(0xe8e9, 0xcca6, 0x5d80, 0xa8e2, 0xda98, 0x4db4, 0x0, 0x1);
        gbc.writeMem(0xe8e9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xcca6);
        EXPECT(gbc.pc(), 0xe8ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8e9), 0x24);
        // 24 0360
        gbc.setState(0x91bb, 0x49b8, 0x6360, 0x245f, 0x999b, 0xf832, 0x1, 0x1);
        gbc.writeMem(0x91bb, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x49b8);
        EXPECT(gbc.pc(), 0x91bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91bb), 0x24);
        // 24 0362
        gbc.setState(0xa582, 0xf868, 0x78c0, 0x7368, 0xe63c, 0x3ead, 0x0, 0x1);
        gbc.writeMem(0xa582, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xf868);
        EXPECT(gbc.pc(), 0xa583);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa582), 0x24);
        // 24 0363
        gbc.setState(0x9aa9, 0xc424, 0x7360, 0x9d2d, 0xf690, 0x802c, 0x1, 0x0);
        gbc.writeMem(0x9aa9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xc424);
        EXPECT(gbc.pc(), 0x9aaa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9aa9), 0x24);
        // 24 0364
        gbc.setState(0xd3bf, 0x1cc7, 0x23c0, 0xdf9c, 0x1c40, 0xe88c, 0x0, 0x0);
        gbc.writeMem(0xd3bf, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x1cc7);
        EXPECT(gbc.pc(), 0xd3c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3bf), 0x24);
        // 24 0365
        gbc.setState(0xbdc9, 0x8b8, 0xbf60, 0x5b35, 0x55e0, 0x5730, 0x0, 0x0);
        gbc.writeMem(0xbdc9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x8b8);
        EXPECT(gbc.pc(), 0xbdca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdc9), 0x24);
        // 24 0366
        gbc.setState(0x181d, 0x4549, 0xde90, 0xbeb3, 0xc7af, 0x9c30, 0x0, 0x0);
        gbc.writeMem(0x181d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x4549);
        EXPECT(gbc.pc(), 0x181e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0367
        gbc.setState(0x7b5, 0x32c9, 0xf890, 0xe559, 0x63c9, 0x27b0, 0x1, 0x0);
        gbc.writeMem(0x7b5, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x32c9);
        EXPECT(gbc.pc(), 0x7b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0369
        gbc.setState(0x1132, 0xeacd, 0x5a80, 0xecaa, 0xcdb7, 0xb3af, 0x0, 0x0);
        gbc.writeMem(0x1132, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xeacd);
        EXPECT(gbc.pc(), 0x1133);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 036A
        gbc.setState(0x8568, 0x8ff7, 0x60b0, 0x5720, 0x4e14, 0x5996, 0x0, 0x0);
        gbc.writeMem(0x8568, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x8ff7);
        EXPECT(gbc.pc(), 0x8569);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8568), 0x24);
        // 24 036B
        gbc.setState(0xa1a, 0x16c4, 0x38a0, 0xeab1, 0x26bb, 0xb270, 0x0, 0x1);
        gbc.writeMem(0xa1a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x16c4);
        EXPECT(gbc.pc(), 0xa1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 036C
        gbc.setState(0x600f, 0xc16b, 0xdd0, 0x1aaa, 0xf988, 0x8fae, 0x0, 0x0);
        gbc.writeMem(0x600f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xc16b);
        EXPECT(gbc.pc(), 0x6010);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 036E
        gbc.setState(0x318f, 0xf873, 0x3d70, 0x1148, 0xa6da, 0xd408, 0x1, 0x1);
        gbc.writeMem(0x318f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xf873);
        EXPECT(gbc.pc(), 0x3190);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 036F
        gbc.setState(0xce72, 0x4643, 0x2260, 0x6458, 0xb8a2, 0x4740, 0x0, 0x1);
        gbc.writeMem(0xce72, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x4643);
        EXPECT(gbc.pc(), 0xce73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce72), 0x24);
        // 24 0370
        gbc.setState(0xe751, 0x2525, 0xffd0, 0xc7a9, 0x185f, 0xf5a1, 0x0, 0x0);
        gbc.writeMem(0xe751, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x2525);
        EXPECT(gbc.pc(), 0xe752);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe751), 0x24);
        // 24 0371
        gbc.setState(0x5855, 0xc1a, 0x1510, 0xce13, 0xf5bb, 0x1d63, 0x1, 0x1);
        gbc.writeMem(0x5855, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xc1a);
        EXPECT(gbc.pc(), 0x5856);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0372
        gbc.setState(0xc071, 0x3276, 0x3080, 0x1b49, 0x2d09, 0x57d6, 0x1, 0x0);
        gbc.writeMem(0xc071, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x3276);
        EXPECT(gbc.pc(), 0xc072);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc071), 0x24);
        // 24 0373
        gbc.setState(0xd143, 0xcca5, 0xb0a0, 0x9f5e, 0x7a52, 0xd0f1, 0x0, 0x1);
        gbc.writeMem(0xd143, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xcca5);
        EXPECT(gbc.pc(), 0xd144);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd143), 0x24);
        // 24 0374
        gbc.setState(0xc92d, 0xb504, 0xdb80, 0xd877, 0xbd9b, 0xc410, 0x0, 0x0);
        gbc.writeMem(0xc92d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xb504);
        EXPECT(gbc.pc(), 0xc92e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc92d), 0x24);
        // 24 0375
        gbc.setState(0x205d, 0xb431, 0x9620, 0x5a8c, 0xe230, 0x749e, 0x1, 0x1);
        gbc.writeMem(0x205d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xb431);
        EXPECT(gbc.pc(), 0x205e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0376
        gbc.setState(0xa08a, 0x1ae8, 0x53c0, 0xa2c9, 0x440c, 0x27f, 0x0, 0x0);
        gbc.writeMem(0xa08a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x1ae8);
        EXPECT(gbc.pc(), 0xa08b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa08a), 0x24);
        // 24 0377
        gbc.setState(0x5175, 0x23bd, 0xe9b0, 0x8fc1, 0x7467, 0x1432, 0x0, 0x1);
        gbc.writeMem(0x5175, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x23bd);
        EXPECT(gbc.pc(), 0x5176);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0378
        gbc.setState(0x2082, 0x1f9f, 0x67f0, 0x49fd, 0xc41e, 0x9569, 0x0, 0x1);
        gbc.writeMem(0x2082, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x1f9f);
        EXPECT(gbc.pc(), 0x2083);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0379
        gbc.setState(0x572b, 0xb3dc, 0x27c0, 0x5aad, 0x8804, 0x3c9f, 0x0, 0x0);
        gbc.writeMem(0x572b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xb3dc);
        EXPECT(gbc.pc(), 0x572c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 037A
        gbc.setState(0x42c1, 0x79ca, 0xed00, 0x8fe0, 0xcf6, 0xc619, 0x1, 0x0);
        gbc.writeMem(0x42c1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x79ca);
        EXPECT(gbc.pc(), 0x42c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 037B
        gbc.setState(0x8305, 0xc9ee, 0xa630, 0x12e2, 0x3508, 0xda19, 0x0, 0x1);
        gbc.writeMem(0x8305, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xc9ee);
        EXPECT(gbc.pc(), 0x8306);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8305), 0x24);
        // 24 037C
        gbc.setState(0xf81, 0x67b8, 0x7f70, 0x7566, 0x4b3a, 0x2bf7, 0x0, 0x1);
        gbc.writeMem(0xf81, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x67b8);
        EXPECT(gbc.pc(), 0xf82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 037D
        gbc.setState(0x5f2, 0x85d4, 0x4810, 0x382b, 0x8dfd, 0x8a51, 0x0, 0x0);
        gbc.writeMem(0x5f2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x85d4);
        EXPECT(gbc.pc(), 0x5f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 037E
        gbc.setState(0x75cc, 0xa202, 0x860, 0x898c, 0x5a78, 0x4647, 0x0, 0x0);
        gbc.writeMem(0x75cc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xa202);
        EXPECT(gbc.pc(), 0x75cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 037F
        gbc.setState(0xce, 0x134a, 0x82b0, 0x4c2d, 0x68dc, 0xee0a, 0x0, 0x0);
        gbc.writeMem(0xce, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x134a);
        EXPECT(gbc.pc(), 0xcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0380
        gbc.setState(0x92be, 0x2e3d, 0x7da0, 0x8303, 0xec63, 0x918, 0x0, 0x0);
        gbc.writeMem(0x92be, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x2e3d);
        EXPECT(gbc.pc(), 0x92bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92be), 0x24);
        // 24 0381
        gbc.setState(0xc7ce, 0x6927, 0xe7d0, 0xa918, 0xdfd7, 0xe76e, 0x1, 0x0);
        gbc.writeMem(0xc7ce, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x6927);
        EXPECT(gbc.pc(), 0xc7cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7ce), 0x24);
        // 24 0382
        gbc.setState(0x94df, 0xe74f, 0x2fc0, 0x227, 0x4a82, 0x9e50, 0x1, 0x0);
        gbc.writeMem(0x94df, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xe74f);
        EXPECT(gbc.pc(), 0x94e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94df), 0x24);
        // 24 0383
        gbc.setState(0x8fef, 0x23ca, 0x2ff0, 0x5b57, 0x1c92, 0x5167, 0x0, 0x1);
        gbc.writeMem(0x8fef, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x23ca);
        EXPECT(gbc.pc(), 0x8ff0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fef), 0x24);
        // 24 0384
        gbc.setState(0xacfd, 0xd737, 0xe5d0, 0x37f1, 0x7987, 0x9dee, 0x1, 0x0);
        gbc.writeMem(0xacfd, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xd737);
        EXPECT(gbc.pc(), 0xacfe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xacfd), 0x24);
        // 24 0385
        gbc.setState(0x9d15, 0xa29b, 0x18c0, 0x794e, 0xd47f, 0x758a, 0x1, 0x0);
        gbc.writeMem(0x9d15, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xa29b);
        EXPECT(gbc.pc(), 0x9d16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d15), 0x24);
        // 24 0386
        gbc.setState(0x7e81, 0x3627, 0x780, 0x9036, 0xa537, 0x331c, 0x0, 0x0);
        gbc.writeMem(0x7e81, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x3627);
        EXPECT(gbc.pc(), 0x7e82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0387
        gbc.setState(0x48c8, 0xe59f, 0x6690, 0xf7e5, 0x66d4, 0x2842, 0x1, 0x0);
        gbc.writeMem(0x48c8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xe59f);
        EXPECT(gbc.pc(), 0x48c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0388
        gbc.setState(0xa847, 0x3797, 0x2ad0, 0x4c7d, 0xfdd2, 0xbe82, 0x1, 0x0);
        gbc.writeMem(0xa847, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3797);
        EXPECT(gbc.pc(), 0xa848);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa847), 0x24);
        // 24 0389
        gbc.setState(0xa15a, 0x8ccf, 0x7220, 0x9d58, 0x8f51, 0x5f0f, 0x0, 0x1);
        gbc.writeMem(0xa15a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x8ccf);
        EXPECT(gbc.pc(), 0xa15b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa15a), 0x24);
        // 24 038A
        gbc.setState(0x19d1, 0x4db2, 0x85c0, 0x9365, 0xc611, 0xb3eb, 0x1, 0x1);
        gbc.writeMem(0x19d1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x4db2);
        EXPECT(gbc.pc(), 0x19d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 038B
        gbc.setState(0xbf0f, 0x2ef0, 0x7360, 0xe15c, 0x5d0e, 0x66e, 0x1, 0x0);
        gbc.writeMem(0xbf0f, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x2ef0);
        EXPECT(gbc.pc(), 0xbf10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf0f), 0x24);
        // 24 038C
        gbc.setState(0xd18d, 0xcf5c, 0x78f0, 0xb3a0, 0x6fbe, 0x90be, 0x0, 0x1);
        gbc.writeMem(0xd18d, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xcf5c);
        EXPECT(gbc.pc(), 0xd18e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd18d), 0x24);
        // 24 038D
        gbc.setState(0x7cbe, 0x787a, 0xeaf0, 0xa371, 0x1f6a, 0xa389, 0x0, 0x0);
        gbc.writeMem(0x7cbe, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x787a);
        EXPECT(gbc.pc(), 0x7cbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 038E
        gbc.setState(0x2977, 0x40b5, 0xb970, 0x2d24, 0xb218, 0x7b09, 0x0, 0x0);
        gbc.writeMem(0x2977, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x40b5);
        EXPECT(gbc.pc(), 0x2978);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 038F
        gbc.setState(0x9f5b, 0x242a, 0x36e0, 0xaf35, 0x6a26, 0x6833, 0x0, 0x0);
        gbc.writeMem(0x9f5b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x242a);
        EXPECT(gbc.pc(), 0x9f5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f5b), 0x24);
        // 24 0390
        gbc.setState(0x3ccd, 0xc1b1, 0x3af0, 0x6b43, 0x186b, 0x13fe, 0x1, 0x0);
        gbc.writeMem(0x3ccd, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xc1b1);
        EXPECT(gbc.pc(), 0x3cce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0391
        gbc.setState(0x44f1, 0x54fc, 0xd400, 0x285c, 0x1612, 0xa679, 0x1, 0x0);
        gbc.writeMem(0x44f1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x54fc);
        EXPECT(gbc.pc(), 0x44f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0392
        gbc.setState(0xcadf, 0x89e0, 0xa170, 0xc003, 0xe32e, 0xbf35, 0x1, 0x0);
        gbc.writeMem(0xcadf, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x89e0);
        EXPECT(gbc.pc(), 0xcae0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcadf), 0x24);
        // 24 0393
        gbc.setState(0xd5b8, 0xf5b2, 0x2820, 0x626c, 0xb987, 0x576f, 0x1, 0x1);
        gbc.writeMem(0xd5b8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xf5b2);
        EXPECT(gbc.pc(), 0xd5b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5b8), 0x24);
        // 24 0394
        gbc.setState(0x51d1, 0x2c16, 0xd0, 0x41f0, 0xe9d4, 0x429d, 0x1, 0x0);
        gbc.writeMem(0x51d1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x2c16);
        EXPECT(gbc.pc(), 0x51d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0395
        gbc.setState(0x6619, 0x55ee, 0xa150, 0xc934, 0x8a6e, 0x611f, 0x1, 0x0);
        gbc.writeMem(0x6619, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x55ee);
        EXPECT(gbc.pc(), 0x661a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 0396
        gbc.setState(0x8dda, 0x93ef, 0x6930, 0xacc0, 0x607d, 0x3763, 0x1, 0x1);
        gbc.writeMem(0x8dda, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x93ef);
        EXPECT(gbc.pc(), 0x8ddb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8dda), 0x24);
        // 24 0397
        gbc.setState(0xdb23, 0xbcf4, 0x8370, 0xcf36, 0xdb3f, 0x13c3, 0x1, 0x1);
        gbc.writeMem(0xdb23, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xbcf4);
        EXPECT(gbc.pc(), 0xdb24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb23), 0x24);
        // 24 0398
        gbc.setState(0x5646, 0x3b0a, 0x7260, 0x90b3, 0xb25a, 0x444a, 0x1, 0x0);
        gbc.writeMem(0x5646, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x3b0a);
        EXPECT(gbc.pc(), 0x5647);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 0399
        gbc.setState(0xbb30, 0x34c4, 0x9310, 0x19fb, 0x4435, 0xfc8, 0x1, 0x1);
        gbc.writeMem(0xbb30, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x34c4);
        EXPECT(gbc.pc(), 0xbb31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbb30), 0x24);
        // 24 039A
        gbc.setState(0x13e9, 0x4f9b, 0x1e60, 0xaac5, 0x523e, 0x39e4, 0x1, 0x0);
        gbc.writeMem(0x13e9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x4f9b);
        EXPECT(gbc.pc(), 0x13ea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 039B
        gbc.setState(0x8c39, 0x40e0, 0x1de0, 0x4de, 0xf9cd, 0x87be, 0x0, 0x0);
        gbc.writeMem(0x8c39, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x40e0);
        EXPECT(gbc.pc(), 0x8c3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c39), 0x24);
        // 24 039C
        gbc.setState(0x3c01, 0x3b92, 0x86f0, 0xe3d7, 0x8995, 0x7f14, 0x1, 0x0);
        gbc.writeMem(0x3c01, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x3b92);
        EXPECT(gbc.pc(), 0x3c02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        // 24 039D
        gbc.setState(0x86bc, 0x81af, 0x9ae0, 0x1537, 0xfe80, 0xd01f, 0x0, 0x1);
        gbc.writeMem(0x86bc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x81af);
        EXPECT(gbc.pc(), 0x86bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86bc), 0x24);
        // 24 039E
        gbc.setState(0x69d0, 0xb8d1, 0xb290, 0x8286, 0xbfcc, 0x3576, 0x0, 0x1);
        gbc.writeMem(0x69d0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xb8d1);
        EXPECT(gbc.pc(), 0x69d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 039F
        gbc.setState(0xdc5a, 0x744d, 0xf260, 0x58ba, 0x267c, 0x18aa, 0x1, 0x0);
        gbc.writeMem(0xdc5a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x744d);
        EXPECT(gbc.pc(), 0xdc5b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc5a), 0x24);
        // 24 03A0
        gbc.setState(0x3f91, 0x84d5, 0x6b80, 0xb793, 0x7dc6, 0x4840, 0x0, 0x1);
        gbc.writeMem(0x3f91, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x84d5);
        EXPECT(gbc.pc(), 0x3f92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03A1
        gbc.setState(0xbbe8, 0xbf26, 0xf7f0, 0xcab8, 0xba65, 0x398b, 0x1, 0x1);
        gbc.writeMem(0xbbe8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xbf26);
        EXPECT(gbc.pc(), 0xbbe9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbbe8), 0x24);
        // 24 03A2
        gbc.setState(0xd470, 0xb8c7, 0x5bc0, 0xde39, 0x9450, 0x8c5d, 0x0, 0x0);
        gbc.writeMem(0xd470, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xb8c7);
        EXPECT(gbc.pc(), 0xd471);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd470), 0x24);
        // 24 03A3
        gbc.setState(0x5e23, 0xec73, 0x7480, 0x6b20, 0xcb71, 0xf83f, 0x1, 0x0);
        gbc.writeMem(0x5e23, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xec73);
        EXPECT(gbc.pc(), 0x5e24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03A4
        gbc.setState(0x4222, 0xf138, 0x3c10, 0xcec1, 0x6b39, 0xc15f, 0x0, 0x0);
        gbc.writeMem(0x4222, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xf138);
        EXPECT(gbc.pc(), 0x4223);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03A5
        gbc.setState(0x1c53, 0x270c, 0xe0a0, 0xee34, 0xc602, 0xd298, 0x0, 0x1);
        gbc.writeMem(0x1c53, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x270c);
        EXPECT(gbc.pc(), 0x1c54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03A6
        gbc.setState(0x21db, 0xe37d, 0xd750, 0x43e5, 0x26f7, 0x336b, 0x1, 0x1);
        gbc.writeMem(0x21db, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xe37d);
        EXPECT(gbc.pc(), 0x21dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03A7
        gbc.setState(0x2b98, 0x6d09, 0x2c90, 0x6628, 0x5cfb, 0x16a7, 0x1, 0x1);
        gbc.writeMem(0x2b98, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x6d09);
        EXPECT(gbc.pc(), 0x2b99);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03A8
        gbc.setState(0x87d0, 0xf501, 0x4cd0, 0x1f80, 0x30, 0xb077, 0x0, 0x0);
        gbc.writeMem(0x87d0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xf501);
        EXPECT(gbc.pc(), 0x87d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87d0), 0x24);
        // 24 03A9
        gbc.setState(0x2865, 0xb503, 0x7190, 0xead8, 0xe937, 0x968, 0x0, 0x0);
        gbc.writeMem(0x2865, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xb503);
        EXPECT(gbc.pc(), 0x2866);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03AA
        gbc.setState(0x6d97, 0xca6f, 0x2750, 0x8c29, 0x7888, 0x84b6, 0x0, 0x0);
        gbc.writeMem(0x6d97, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xca6f);
        EXPECT(gbc.pc(), 0x6d98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03AB
        gbc.setState(0x14b2, 0x5668, 0xbe10, 0x76c0, 0x1b89, 0xced2, 0x0, 0x1);
        gbc.writeMem(0x14b2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x5668);
        EXPECT(gbc.pc(), 0x14b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03AC
        gbc.setState(0x23b7, 0x5c83, 0x6c40, 0x38ba, 0x615c, 0x5c56, 0x1, 0x0);
        gbc.writeMem(0x23b7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x5c83);
        EXPECT(gbc.pc(), 0x23b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03AD
        gbc.setState(0x93bf, 0x129c, 0x95c0, 0xd562, 0x9500, 0x9d20, 0x0, 0x0);
        gbc.writeMem(0x93bf, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x129c);
        EXPECT(gbc.pc(), 0x93c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93bf), 0x24);
        // 24 03AE
        gbc.setState(0x4945, 0xf116, 0xda40, 0x4e91, 0xec8a, 0x4a63, 0x0, 0x0);
        gbc.writeMem(0x4945, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xf116);
        EXPECT(gbc.pc(), 0x4946);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03AF
        gbc.setState(0x933a, 0x5510, 0x4aa0, 0xc8f0, 0x929c, 0x5580, 0x1, 0x1);
        gbc.writeMem(0x933a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x5510);
        EXPECT(gbc.pc(), 0x933b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x933a), 0x24);
        // 24 03B0
        gbc.setState(0xc71c, 0xb621, 0x5960, 0x3eca, 0x4b10, 0xd5a1, 0x0, 0x0);
        gbc.writeMem(0xc71c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xb621);
        EXPECT(gbc.pc(), 0xc71d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc71c), 0x24);
        // 24 03B1
        gbc.setState(0x8c9, 0xbc4f, 0x6c50, 0x6c21, 0x9f55, 0x6273, 0x0, 0x0);
        gbc.writeMem(0x8c9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xbc4f);
        EXPECT(gbc.pc(), 0x8ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03B2
        gbc.setState(0x1ae0, 0x3151, 0x79a0, 0xa7bf, 0xd7b2, 0x2fa6, 0x1, 0x0);
        gbc.writeMem(0x1ae0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x3151);
        EXPECT(gbc.pc(), 0x1ae1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // 24 03B3
        gbc.setState(0x54b3, 0xd120, 0x5350, 0xe878, 0x89cb, 0x6c81, 0x0, 0x1);
        gbc.writeMem(0x54b3, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xd120);
        EXPECT(gbc.pc(), 0x54b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03B4
        gbc.setState(0x5303, 0x6aca, 0xbe0, 0x8b6, 0x3539, 0x63ac, 0x0, 0x0);
        gbc.writeMem(0x5303, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x6aca);
        EXPECT(gbc.pc(), 0x5304);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03B5
        gbc.setState(0x984a, 0xd923, 0xa7d0, 0xf4c8, 0xa32b, 0xb806, 0x0, 0x1);
        gbc.writeMem(0x984a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xd923);
        EXPECT(gbc.pc(), 0x984b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x984a), 0x24);
        // 24 03B6
        gbc.setState(0x7e0b, 0x2c4, 0x920, 0x53a, 0x5cb7, 0xbe5b, 0x0, 0x0);
        gbc.writeMem(0x7e0b, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x2c4);
        EXPECT(gbc.pc(), 0x7e0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03B7
        gbc.setState(0x2d51, 0x4e7e, 0x7bb0, 0xdb9a, 0xef92, 0x16f9, 0x1, 0x0);
        gbc.writeMem(0x2d51, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x4e7e);
        EXPECT(gbc.pc(), 0x2d52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03B8
        gbc.setState(0x936, 0xdba5, 0xd610, 0x29f3, 0x5320, 0x8d6c, 0x1, 0x1);
        gbc.writeMem(0x936, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xdba5);
        EXPECT(gbc.pc(), 0x937);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03B9
        gbc.setState(0x67bc, 0x4d58, 0xd380, 0x9b95, 0xb46f, 0x773b, 0x1, 0x1);
        gbc.writeMem(0x67bc, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x4d58);
        EXPECT(gbc.pc(), 0x67bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03BA
        gbc.setState(0x4b22, 0x11d2, 0xfb10, 0x71ed, 0xafd3, 0xe2d9, 0x1, 0x0);
        gbc.writeMem(0x4b22, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x11d2);
        EXPECT(gbc.pc(), 0x4b23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03BB
        gbc.setState(0x5817, 0x1d74, 0x1870, 0xb607, 0x7db0, 0xa7ce, 0x0, 0x0);
        gbc.writeMem(0x5817, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x1d74);
        EXPECT(gbc.pc(), 0x5818);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03BC
        gbc.setState(0x9735, 0x76a8, 0x50e0, 0x5b5b, 0x65ea, 0xe5df, 0x0, 0x1);
        gbc.writeMem(0x9735, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x76a8);
        EXPECT(gbc.pc(), 0x9736);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9735), 0x24);
        // 24 03BD
        gbc.setState(0xaf9a, 0xb8c7, 0xecc0, 0x6663, 0x8c40, 0x2786, 0x1, 0x0);
        gbc.writeMem(0xaf9a, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xb8c7);
        EXPECT(gbc.pc(), 0xaf9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf9a), 0x24);
        // 24 03BE
        gbc.setState(0x4a44, 0x115b, 0xa810, 0xcd56, 0x821c, 0xf8c4, 0x1, 0x1);
        gbc.writeMem(0x4a44, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x115b);
        EXPECT(gbc.pc(), 0x4a45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03BF
        gbc.setState(0x305c, 0x76de, 0x7500, 0xc6dc, 0x2ae5, 0x1e75, 0x1, 0x1);
        gbc.writeMem(0x305c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x76de);
        EXPECT(gbc.pc(), 0x305d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03C0
        gbc.setState(0x3db1, 0x6311, 0xd1d0, 0x3398, 0x34ef, 0x90cb, 0x0, 0x0);
        gbc.writeMem(0x3db1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x6311);
        EXPECT(gbc.pc(), 0x3db2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03C1
        gbc.setState(0x41fe, 0x38f7, 0x6f20, 0x6543, 0xb058, 0xd571, 0x0, 0x1);
        gbc.writeMem(0x41fe, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x38f7);
        EXPECT(gbc.pc(), 0x41ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03C2
        gbc.setState(0xdd06, 0xbfa, 0x4d10, 0x9dd7, 0x2f89, 0xfbbd, 0x1, 0x0);
        gbc.writeMem(0xdd06, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xbfa);
        EXPECT(gbc.pc(), 0xdd07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd06), 0x24);
        // 24 03C3
        gbc.setState(0xad65, 0x2acd, 0x1530, 0x1aae, 0x18b0, 0x28c8, 0x0, 0x0);
        gbc.writeMem(0xad65, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x2acd);
        EXPECT(gbc.pc(), 0xad66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad65), 0x24);
        // 24 03C4
        gbc.setState(0x1c1c, 0x678f, 0xb050, 0xa73d, 0xcb31, 0xf741, 0x0, 0x1);
        gbc.writeMem(0x1c1c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x678f);
        EXPECT(gbc.pc(), 0x1c1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03C6
        gbc.setState(0x78f4, 0x8058, 0x9e00, 0x36af, 0x230f, 0xc856, 0x0, 0x1);
        gbc.writeMem(0x78f4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x8058);
        EXPECT(gbc.pc(), 0x78f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03C7
        gbc.setState(0x3623, 0xc2a0, 0x1500, 0x1b18, 0xf859, 0xf733, 0x0, 0x1);
        gbc.writeMem(0x3623, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xc2a0);
        EXPECT(gbc.pc(), 0x3624);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03C8
        gbc.setState(0xd59c, 0x15df, 0x8bd0, 0x1acb, 0x99e3, 0x9bf9, 0x1, 0x1);
        gbc.writeMem(0xd59c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x15df);
        EXPECT(gbc.pc(), 0xd59d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd59c), 0x24);
        // 24 03C9
        gbc.setState(0xe215, 0x6bfe, 0xae50, 0x69b, 0x51f4, 0x7ab4, 0x1, 0x1);
        gbc.writeMem(0xe215, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x6bfe);
        EXPECT(gbc.pc(), 0xe216);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe215), 0x24);
        // 24 03CB
        gbc.setState(0x4338, 0x17f7, 0xa420, 0xccce, 0x4150, 0xcbde, 0x0, 0x1);
        gbc.writeMem(0x4338, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x17f7);
        EXPECT(gbc.pc(), 0x4339);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03CC
        gbc.setState(0xc9a1, 0x6d5c, 0xa1d0, 0x328, 0x17db, 0x70b, 0x0, 0x0);
        gbc.writeMem(0xc9a1, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x6d5c);
        EXPECT(gbc.pc(), 0xc9a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9a1), 0x24);
        // 24 03CE
        gbc.setState(0xa183, 0x77ff, 0x68f0, 0x10ff, 0xf55e, 0xec5f, 0x0, 0x0);
        gbc.writeMem(0xa183, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x77ff);
        EXPECT(gbc.pc(), 0xa184);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa183), 0x24);
        // 24 03CF
        gbc.setState(0xe265, 0x5555, 0x92f0, 0x5a4f, 0x6fd7, 0x4267, 0x0, 0x0);
        gbc.writeMem(0xe265, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x5555);
        EXPECT(gbc.pc(), 0xe266);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe265), 0x24);
        // 24 03D0
        gbc.setState(0x7140, 0xd8eb, 0x8330, 0xdbe, 0xf903, 0xe6b0, 0x1, 0x0);
        gbc.writeMem(0x7140, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xd8eb);
        EXPECT(gbc.pc(), 0x7141);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03D1
        gbc.setState(0x57c4, 0x8955, 0x31d0, 0xa398, 0xf486, 0x3545, 0x0, 0x0);
        gbc.writeMem(0x57c4, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x8955);
        EXPECT(gbc.pc(), 0x57c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03D3
        gbc.setState(0x6d28, 0xad1a, 0x5c0, 0x3b4c, 0xea68, 0xb3a3, 0x0, 0x1);
        gbc.writeMem(0x6d28, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xad1a);
        EXPECT(gbc.pc(), 0x6d29);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03D4
        gbc.setState(0x3ea7, 0x56c9, 0xa0b0, 0x234b, 0xef69, 0x267b, 0x0, 0x0);
        gbc.writeMem(0x3ea7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x56c9);
        EXPECT(gbc.pc(), 0x3ea8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03D5
        gbc.setState(0x8d02, 0x2126, 0x8830, 0xf1b3, 0xdffc, 0x8223, 0x1, 0x0);
        gbc.writeMem(0x8d02, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x2126);
        EXPECT(gbc.pc(), 0x8d03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d02), 0x24);
        // 24 03D6
        gbc.setState(0xa173, 0xbbde, 0x5560, 0x5a9f, 0xb116, 0xac92, 0x0, 0x0);
        gbc.writeMem(0xa173, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xbbde);
        EXPECT(gbc.pc(), 0xa174);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa173), 0x24);
        // 24 03D7
        gbc.setState(0xbab7, 0x2f5d, 0x5c00, 0x29f5, 0xc9aa, 0xd40f, 0x0, 0x1);
        gbc.writeMem(0xbab7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x2f5d);
        EXPECT(gbc.pc(), 0xbab8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbab7), 0x24);
        // 24 03D8
        gbc.setState(0x12da, 0x7c1c, 0xdb80, 0x4dbb, 0x83fa, 0xfd80, 0x1, 0x1);
        gbc.writeMem(0x12da, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x7c1c);
        EXPECT(gbc.pc(), 0x12db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03D9
        gbc.setState(0x6e63, 0x45e3, 0x250, 0x19a5, 0x4bd3, 0xa573, 0x1, 0x1);
        gbc.writeMem(0x6e63, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x45e3);
        EXPECT(gbc.pc(), 0x6e64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03DA
        gbc.setState(0xdeb6, 0x9be0, 0xe190, 0x56c2, 0xb807, 0xa827, 0x0, 0x1);
        gbc.writeMem(0xdeb6, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x9be0);
        EXPECT(gbc.pc(), 0xdeb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdeb6), 0x24);
        // 24 03DB
        gbc.setState(0x1beb, 0x28c7, 0xd8e0, 0x1def, 0xae2e, 0x1512, 0x1, 0x0);
        gbc.writeMem(0x1beb, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x28c7);
        EXPECT(gbc.pc(), 0x1bec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03DC
        gbc.setState(0x2540, 0x429c, 0x5a30, 0xcfe7, 0x50f5, 0x3a55, 0x0, 0x1);
        gbc.writeMem(0x2540, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x429c);
        EXPECT(gbc.pc(), 0x2541);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03DD
        gbc.setState(0xb7ea, 0xf343, 0xa630, 0xa281, 0xc903, 0xf7a, 0x1, 0x0);
        gbc.writeMem(0xb7ea, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xf343);
        EXPECT(gbc.pc(), 0xb7eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7ea), 0x24);
        // 24 03DE
        gbc.setState(0x331, 0x85f0, 0xf480, 0xae2a, 0x3ff6, 0xe6a7, 0x0, 0x0);
        gbc.writeMem(0x331, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x85f0);
        EXPECT(gbc.pc(), 0x332);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 24 03DF
        gbc.setState(0xcba8, 0x4a24, 0x6890, 0x54b9, 0xb24f, 0xc991, 0x1, 0x0);
        gbc.writeMem(0xcba8, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x4a24);
        EXPECT(gbc.pc(), 0xcba9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcba8), 0x24);
        // 24 03E0
        gbc.setState(0x94d9, 0x5450, 0xa630, 0x7ffc, 0x2ad7, 0x5238, 0x0, 0x1);
        gbc.writeMem(0x94d9, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x5450);
        EXPECT(gbc.pc(), 0x94da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94d9), 0x24);
        // 24 03E1
        gbc.setState(0x56e7, 0x248d, 0x7e10, 0x104d, 0xcec9, 0x6380, 0x0, 0x0);
        gbc.writeMem(0x56e7, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x248d);
        EXPECT(gbc.pc(), 0x56e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 24 03E2
        gbc.setState(0xdce2, 0x9e53, 0x2560, 0x432d, 0x3b01, 0xcaa3, 0x0, 0x1);
        gbc.writeMem(0xdce2, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x9e53);
        EXPECT(gbc.pc(), 0xdce3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdce2), 0x24);
        // 24 03E3
        gbc.setState(0xb457, 0x7c5c, 0xb940, 0x8f2b, 0xe5ce, 0x6e98, 0x0, 0x0);
        gbc.writeMem(0xb457, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x7c5c);
        EXPECT(gbc.pc(), 0xb458);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb457), 0x24);
        // 24 03E4
        gbc.setState(0x91ef, 0xc445, 0x86b0, 0xd76b, 0xed96, 0xbd6, 0x1, 0x1);
        gbc.writeMem(0x91ef, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xc445);
        EXPECT(gbc.pc(), 0x91f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91ef), 0x24);
        // 24 03E5
        gbc.setState(0xe43c, 0x6b0, 0x87e0, 0x479, 0x1b5e, 0xad29, 0x1, 0x1);
        gbc.writeMem(0xe43c, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x6b0);
        EXPECT(gbc.pc(), 0xe43d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe43c), 0x24);
        // 24 03E6
        gbc.setState(0xbfbd, 0x3ccf, 0x2740, 0xaf1, 0x5689, 0xfe12, 0x0, 0x0);
        gbc.writeMem(0xbfbd, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x3ccf);
        EXPECT(gbc.pc(), 0xbfbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfbd), 0x24);
        // 24 03E7
        gbc.setState(0xc7a0, 0xf8cc, 0xa750, 0x5bc, 0xc2a9, 0xecf9, 0x0, 0x0);
        gbc.writeMem(0xc7a0, { 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xf8cc);
        EXPECT(gbc.pc(), 0xc7a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7a0), 0x24);
    }
}
#endif
