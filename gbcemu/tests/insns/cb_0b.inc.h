    TEST(gbcemu, opcode_cb_0b) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // CB 0B 0000
        gbc.setState(0xe0ee, 0x1d0b, 0x9770, 0xef89, 0x2aa4, 0x9033, 0x0, 0x0);
        gbc.writeMem(0xe0ee, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x1d0b);
        EXPECT(gbc.pc(), 0xe0f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0ee), 0xcb);
        EXPECT(gbc.readMem(0xe0ef), 0xb);
        // CB 0B 0001
        gbc.setState(0x6505, 0xa40b, 0x8e30, 0x6ddf, 0x7a3, 0x70be, 0x1, 0x0);
        gbc.writeMem(0x6505, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xa40b);
        EXPECT(gbc.pc(), 0x6507);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0002
        gbc.setState(0x5e19, 0x4c00, 0xff80, 0xbc80, 0x6aba, 0x4843, 0x1, 0x0);
        gbc.writeMem(0x5e19, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x4c00);
        EXPECT(gbc.pc(), 0x5e1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0003
        gbc.setState(0xb8f9, 0x274c, 0xa280, 0x367d, 0x9e11, 0x882d, 0x1, 0x0);
        gbc.writeMem(0xb8f9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x274c);
        EXPECT(gbc.pc(), 0xb8fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb8f9), 0xcb);
        EXPECT(gbc.readMem(0xb8fa), 0xb);
        // CB 0B 0004
        gbc.setState(0xdbc, 0xdd70, 0xf7f0, 0x8546, 0x26ee, 0x612, 0x1, 0x1);
        gbc.writeMem(0xdbc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xdd70);
        EXPECT(gbc.pc(), 0xdbe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0005
        gbc.setState(0x81fc, 0xa53a, 0xca40, 0x75bd, 0x8f5c, 0xad08, 0x0, 0x1);
        gbc.writeMem(0x81fc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xa53a);
        EXPECT(gbc.pc(), 0x81fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81fc), 0xcb);
        EXPECT(gbc.readMem(0x81fd), 0xb);
        // CB 0B 0006
        gbc.setState(0x2228, 0xc2bf, 0x4a70, 0xef8a, 0xc8ae, 0x369e, 0x0, 0x1);
        gbc.writeMem(0x2228, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xc2bf);
        EXPECT(gbc.pc(), 0x222a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0007
        gbc.setState(0xb980, 0x26c, 0xc460, 0x275e, 0xdba2, 0x64f1, 0x0, 0x0);
        gbc.writeMem(0xb980, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x26c);
        EXPECT(gbc.pc(), 0xb982);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb980), 0xcb);
        EXPECT(gbc.readMem(0xb981), 0xb);
        // CB 0B 0008
        gbc.setState(0x5e00, 0xab0c, 0x6e0, 0xf7c1, 0x6ddc, 0xa367, 0x1, 0x1);
        gbc.writeMem(0x5e00, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xab0c);
        EXPECT(gbc.pc(), 0x5e02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 000A
        gbc.setState(0x5df2, 0xb373, 0xb750, 0xc7c6, 0x33ea, 0xf063, 0x1, 0x1);
        gbc.writeMem(0x5df2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xb373);
        EXPECT(gbc.pc(), 0x5df4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 000B
        gbc.setState(0xe85, 0x4895, 0x6490, 0x6783, 0x44c2, 0x7d46, 0x1, 0x1);
        gbc.writeMem(0xe85, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x4895);
        EXPECT(gbc.pc(), 0xe87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 000D
        gbc.setState(0xbf0e, 0x5bae, 0x1060, 0x7b16, 0x8a7f, 0xbfb1, 0x1, 0x0);
        gbc.writeMem(0xbf0e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x5bae);
        EXPECT(gbc.pc(), 0xbf10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf0e), 0xcb);
        EXPECT(gbc.readMem(0xbf0f), 0xb);
        // CB 0B 000E
        gbc.setState(0xc99e, 0x98d1, 0x8da0, 0xb36d, 0x900e, 0xb3a0, 0x1, 0x1);
        gbc.writeMem(0xc99e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x98d1);
        EXPECT(gbc.pc(), 0xc9a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc99e), 0xcb);
        EXPECT(gbc.readMem(0xc99f), 0xb);
        // CB 0B 000F
        gbc.setState(0x4469, 0x2616, 0xbfc0, 0x520b, 0x1ae0, 0xa508, 0x1, 0x1);
        gbc.writeMem(0x4469, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x2616);
        EXPECT(gbc.pc(), 0x446b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0010
        gbc.setState(0xcb6c, 0x5de8, 0x6a50, 0x63b2, 0x9ea2, 0x8ccd, 0x0, 0x0);
        gbc.writeMem(0xcb6c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x5de8);
        EXPECT(gbc.pc(), 0xcb6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb6c), 0xcb);
        EXPECT(gbc.readMem(0xcb6d), 0xb);
        // CB 0B 0011
        gbc.setState(0x5f0e, 0x2b73, 0x1e00, 0x66f9, 0xb534, 0xa9c1, 0x0, 0x1);
        gbc.writeMem(0x5f0e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x2b73);
        EXPECT(gbc.pc(), 0x5f10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0012
        gbc.setState(0x7b06, 0x8487, 0xf070, 0x8a2d, 0xc83e, 0x799f, 0x0, 0x1);
        gbc.writeMem(0x7b06, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x8487);
        EXPECT(gbc.pc(), 0x7b08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0013
        gbc.setState(0x402c, 0x5bc5, 0xa360, 0x29af, 0xb052, 0x7b9d, 0x0, 0x1);
        gbc.writeMem(0x402c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x5bc5);
        EXPECT(gbc.pc(), 0x402e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0015
        gbc.setState(0xbd8a, 0x40ad, 0x9340, 0xe3c3, 0xc775, 0x6591, 0x1, 0x0);
        gbc.writeMem(0xbd8a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x40ad);
        EXPECT(gbc.pc(), 0xbd8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd8a), 0xcb);
        EXPECT(gbc.readMem(0xbd8b), 0xb);
        // CB 0B 0016
        gbc.setState(0x384f, 0xe46, 0xc760, 0x5527, 0xaf97, 0x9123, 0x0, 0x0);
        gbc.writeMem(0x384f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xe46);
        EXPECT(gbc.pc(), 0x3851);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0017
        gbc.setState(0x3bc5, 0xe51e, 0x14b0, 0x55b0, 0x14b2, 0x317d, 0x0, 0x0);
        gbc.writeMem(0x3bc5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xe51e);
        EXPECT(gbc.pc(), 0x3bc7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0018
        gbc.setState(0x87d2, 0x50ae, 0xec80, 0xb11f, 0x95c3, 0x3eb8, 0x0, 0x0);
        gbc.writeMem(0x87d2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x50ae);
        EXPECT(gbc.pc(), 0x87d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87d2), 0xcb);
        EXPECT(gbc.readMem(0x87d3), 0xb);
        // CB 0B 0019
        gbc.setState(0xa533, 0x9792, 0xd0e0, 0x9fb8, 0xf4fd, 0x5f0b, 0x0, 0x1);
        gbc.writeMem(0xa533, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x9792);
        EXPECT(gbc.pc(), 0xa535);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa533), 0xcb);
        EXPECT(gbc.readMem(0xa534), 0xb);
        // CB 0B 001A
        gbc.setState(0xa3a6, 0xac07, 0x99b0, 0x618d, 0x555b, 0x7fc2, 0x1, 0x1);
        gbc.writeMem(0xa3a6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xac07);
        EXPECT(gbc.pc(), 0xa3a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3a6), 0xcb);
        EXPECT(gbc.readMem(0xa3a7), 0xb);
        // CB 0B 001B
        gbc.setState(0x48be, 0xf869, 0x6030, 0xee71, 0x6657, 0xaa75, 0x0, 0x0);
        gbc.writeMem(0x48be, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xf869);
        EXPECT(gbc.pc(), 0x48c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 001C
        gbc.setState(0x35bc, 0xd69a, 0x2200, 0x865b, 0xbd53, 0x1384, 0x1, 0x0);
        gbc.writeMem(0x35bc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xd69a);
        EXPECT(gbc.pc(), 0x35be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 001D
        gbc.setState(0xc5db, 0xc828, 0xe870, 0xb295, 0xedd8, 0x2524, 0x0, 0x0);
        gbc.writeMem(0xc5db, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xc828);
        EXPECT(gbc.pc(), 0xc5dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5db), 0xcb);
        EXPECT(gbc.readMem(0xc5dc), 0xb);
        // CB 0B 001E
        gbc.setState(0xd8d, 0xe9db, 0xe10, 0x2fb, 0x3024, 0x1551, 0x1, 0x1);
        gbc.writeMem(0xd8d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xe9db);
        EXPECT(gbc.pc(), 0xd8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 001F
        gbc.setState(0x9213, 0xd623, 0x4a80, 0xe4d9, 0x56f5, 0xe274, 0x0, 0x0);
        gbc.writeMem(0x9213, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xd623);
        EXPECT(gbc.pc(), 0x9215);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9213), 0xcb);
        EXPECT(gbc.readMem(0x9214), 0xb);
        // CB 0B 0020
        gbc.setState(0xda69, 0x5e24, 0x1040, 0x92bf, 0xd4da, 0x2a88, 0x0, 0x1);
        gbc.writeMem(0xda69, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x5e24);
        EXPECT(gbc.pc(), 0xda6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda69), 0xcb);
        EXPECT(gbc.readMem(0xda6a), 0xb);
        // CB 0B 0021
        gbc.setState(0xab68, 0x5e50, 0x61c0, 0xbfb4, 0x1696, 0xbd81, 0x0, 0x0);
        gbc.writeMem(0xab68, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x5e50);
        EXPECT(gbc.pc(), 0xab6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab68), 0xcb);
        EXPECT(gbc.readMem(0xab69), 0xb);
        // CB 0B 0022
        gbc.setState(0x5fca, 0x44c7, 0xdda0, 0x8c04, 0x2872, 0xb731, 0x1, 0x0);
        gbc.writeMem(0x5fca, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x44c7);
        EXPECT(gbc.pc(), 0x5fcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0023
        gbc.setState(0x6402, 0xde97, 0xc390, 0x38be, 0x852f, 0x91b7, 0x0, 0x0);
        gbc.writeMem(0x6402, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0xde97);
        EXPECT(gbc.pc(), 0x6404);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0024
        gbc.setState(0xb6ec, 0x735b, 0x7850, 0x3f7a, 0x2112, 0x21ca, 0x0, 0x0);
        gbc.writeMem(0xb6ec, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x735b);
        EXPECT(gbc.pc(), 0xb6ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6ec), 0xcb);
        EXPECT(gbc.readMem(0xb6ed), 0xb);
        // CB 0B 0025
        gbc.setState(0xa70d, 0x50bf, 0xf530, 0x22, 0xa44a, 0xa673, 0x1, 0x1);
        gbc.writeMem(0xa70d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x50bf);
        EXPECT(gbc.pc(), 0xa70f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa70d), 0xcb);
        EXPECT(gbc.readMem(0xa70e), 0xb);
        // CB 0B 0026
        gbc.setState(0xda13, 0xd899, 0x2ee0, 0x53e6, 0xa379, 0xf76c, 0x0, 0x1);
        gbc.writeMem(0xda13, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xd899);
        EXPECT(gbc.pc(), 0xda15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda13), 0xcb);
        EXPECT(gbc.readMem(0xda14), 0xb);
        // CB 0B 0027
        gbc.setState(0x9c6d, 0x7df, 0x41c0, 0xffc3, 0x4062, 0xbe3c, 0x1, 0x0);
        gbc.writeMem(0x9c6d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x7df);
        EXPECT(gbc.pc(), 0x9c6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c6d), 0xcb);
        EXPECT(gbc.readMem(0x9c6e), 0xb);
        // CB 0B 0029
        gbc.setState(0xdfbd, 0xb99a, 0x53b0, 0x8b6e, 0x1864, 0x46f2, 0x1, 0x0);
        gbc.writeMem(0xdfbd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xb99a);
        EXPECT(gbc.pc(), 0xdfbf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfbd), 0xcb);
        EXPECT(gbc.readMem(0xdfbe), 0xb);
        // CB 0B 002A
        gbc.setState(0x7b12, 0x33fb, 0x8dd0, 0x8a89, 0x546a, 0x8659, 0x1, 0x1);
        gbc.writeMem(0x7b12, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x33fb);
        EXPECT(gbc.pc(), 0x7b14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 002B
        gbc.setState(0x498c, 0x783f, 0xf250, 0xbe5e, 0xf7fb, 0x1c4f, 0x0, 0x0);
        gbc.writeMem(0x498c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x783f);
        EXPECT(gbc.pc(), 0x498e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 002C
        gbc.setState(0x1726, 0xc87, 0x8340, 0x2c51, 0x2dc3, 0x2298, 0x0, 0x0);
        gbc.writeMem(0x1726, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xc87);
        EXPECT(gbc.pc(), 0x1728);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 002D
        gbc.setState(0x301a, 0x73a9, 0xdc10, 0x81df, 0xdd41, 0xa256, 0x0, 0x0);
        gbc.writeMem(0x301a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x73a9);
        EXPECT(gbc.pc(), 0x301c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 002E
        gbc.setState(0x81ab, 0x6d06, 0x1a10, 0x12f0, 0x2522, 0x7876, 0x0, 0x0);
        gbc.writeMem(0x81ab, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x6d06);
        EXPECT(gbc.pc(), 0x81ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81ab), 0xcb);
        EXPECT(gbc.readMem(0x81ac), 0xb);
        // CB 0B 002F
        gbc.setState(0xce6b, 0x6945, 0xca20, 0xd949, 0x5f36, 0xa74b, 0x1, 0x1);
        gbc.writeMem(0xce6b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x6945);
        EXPECT(gbc.pc(), 0xce6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce6b), 0xcb);
        EXPECT(gbc.readMem(0xce6c), 0xb);
        // CB 0B 0030
        gbc.setState(0x38b, 0xbfd5, 0xf250, 0xbb08, 0xbe77, 0x4f81, 0x1, 0x1);
        gbc.writeMem(0x38b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xbfd5);
        EXPECT(gbc.pc(), 0x38d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0031
        gbc.setState(0x92da, 0xbcd4, 0xadf0, 0xda0c, 0x1c7, 0x5cfc, 0x1, 0x0);
        gbc.writeMem(0x92da, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xbcd4);
        EXPECT(gbc.pc(), 0x92dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x92da), 0xcb);
        EXPECT(gbc.readMem(0x92db), 0xb);
        // CB 0B 0033
        gbc.setState(0x6eed, 0xa28e, 0x3930, 0xb453, 0xa5f0, 0x6a48, 0x1, 0x1);
        gbc.writeMem(0x6eed, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xa28e);
        EXPECT(gbc.pc(), 0x6eef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0034
        gbc.setState(0x5e7, 0xab, 0xcc50, 0x2776, 0x9ea4, 0x7639, 0x1, 0x0);
        gbc.writeMem(0x5e7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xab);
        EXPECT(gbc.pc(), 0x5e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0035
        gbc.setState(0x9e7f, 0xe83, 0x65f0, 0x3673, 0x1836, 0x1228, 0x1, 0x1);
        gbc.writeMem(0x9e7f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xe83);
        EXPECT(gbc.pc(), 0x9e81);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e7f), 0xcb);
        EXPECT(gbc.readMem(0x9e80), 0xb);
        // CB 0B 0036
        gbc.setState(0xbddd, 0xc46c, 0x60f0, 0x7aa8, 0x423e, 0x7a45, 0x1, 0x0);
        gbc.writeMem(0xbddd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xc46c);
        EXPECT(gbc.pc(), 0xbddf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbddd), 0xcb);
        EXPECT(gbc.readMem(0xbdde), 0xb);
        // CB 0B 0037
        gbc.setState(0xc8a6, 0xf97f, 0xdbe0, 0x53b4, 0xca52, 0xb20e, 0x1, 0x0);
        gbc.writeMem(0xc8a6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xf97f);
        EXPECT(gbc.pc(), 0xc8a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8a6), 0xcb);
        EXPECT(gbc.readMem(0xc8a7), 0xb);
        // CB 0B 0038
        gbc.setState(0x5a0b, 0x27ec, 0x8980, 0x2b0c, 0xdbf6, 0xb3e9, 0x0, 0x0);
        gbc.writeMem(0x5a0b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x27ec);
        EXPECT(gbc.pc(), 0x5a0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0039
        gbc.setState(0x28dc, 0x50ba, 0xf320, 0xd28d, 0x435b, 0x2638, 0x0, 0x0);
        gbc.writeMem(0x28dc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x50ba);
        EXPECT(gbc.pc(), 0x28de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 003A
        gbc.setState(0x3ce1, 0x90db, 0xba80, 0x74cb, 0x6f0, 0x2650, 0x1, 0x1);
        gbc.writeMem(0x3ce1, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x90db);
        EXPECT(gbc.pc(), 0x3ce3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 003B
        gbc.setState(0xa065, 0xbf27, 0x1f30, 0x7c1c, 0xa9ee, 0xf1a4, 0x0, 0x0);
        gbc.writeMem(0xa065, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xbf27);
        EXPECT(gbc.pc(), 0xa067);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa065), 0xcb);
        EXPECT(gbc.readMem(0xa066), 0xb);
        // CB 0B 003C
        gbc.setState(0x74d4, 0x6ae9, 0xffe0, 0xdc1a, 0xbf59, 0x8a25, 0x1, 0x1);
        gbc.writeMem(0x74d4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x6ae9);
        EXPECT(gbc.pc(), 0x74d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 003D
        gbc.setState(0xb805, 0x86fe, 0x7c60, 0x73f5, 0xdc41, 0x448, 0x0, 0x0);
        gbc.writeMem(0xb805, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x86fe);
        EXPECT(gbc.pc(), 0xb807);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb805), 0xcb);
        EXPECT(gbc.readMem(0xb806), 0xb);
        // CB 0B 003E
        gbc.setState(0xd1e0, 0xae96, 0xf340, 0x950c, 0x8847, 0xc1cd, 0x1, 0x0);
        gbc.writeMem(0xd1e0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xae96);
        EXPECT(gbc.pc(), 0xd1e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1e0), 0xcb);
        EXPECT(gbc.readMem(0xd1e1), 0xb);
        // CB 0B 003F
        gbc.setState(0x7504, 0x95a1, 0xdd10, 0xe6d8, 0x5e6c, 0x2573, 0x0, 0x1);
        gbc.writeMem(0x7504, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x95a1);
        EXPECT(gbc.pc(), 0x7506);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0040
        gbc.setState(0x717, 0xdcc2, 0x2300, 0x6c5a, 0x5214, 0x92d6, 0x0, 0x0);
        gbc.writeMem(0x717, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xdcc2);
        EXPECT(gbc.pc(), 0x719);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0041
        gbc.setState(0x93a5, 0x34f2, 0x2160, 0x55fe, 0xe98a, 0x6c6, 0x0, 0x0);
        gbc.writeMem(0x93a5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x34f2);
        EXPECT(gbc.pc(), 0x93a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93a5), 0xcb);
        EXPECT(gbc.readMem(0x93a6), 0xb);
        // CB 0B 0042
        gbc.setState(0xec8c, 0xc607, 0x49e0, 0x1a5b, 0x28a6, 0x80c6, 0x1, 0x0);
        gbc.writeMem(0xec8c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc607);
        EXPECT(gbc.pc(), 0xec8e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec8c), 0xcb);
        EXPECT(gbc.readMem(0xec8d), 0xb);
        // CB 0B 0043
        gbc.setState(0x3bb0, 0x3a82, 0x30c0, 0xff21, 0xf26c, 0xf5e0, 0x0, 0x0);
        gbc.writeMem(0x3bb0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x3a82);
        EXPECT(gbc.pc(), 0x3bb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0044
        gbc.setState(0xcdeb, 0xf9dd, 0xae60, 0x24d8, 0xe331, 0x3d82, 0x1, 0x0);
        gbc.writeMem(0xcdeb, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xf9dd);
        EXPECT(gbc.pc(), 0xcded);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdeb), 0xcb);
        EXPECT(gbc.readMem(0xcdec), 0xb);
        // CB 0B 0045
        gbc.setState(0xc2da, 0x7ca7, 0x7e20, 0x57b, 0x1ce, 0x24f3, 0x1, 0x0);
        gbc.writeMem(0xc2da, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x7ca7);
        EXPECT(gbc.pc(), 0xc2dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2da), 0xcb);
        EXPECT(gbc.readMem(0xc2db), 0xb);
        // CB 0B 0046
        gbc.setState(0x18e7, 0xd3ee, 0x6490, 0x567f, 0x158b, 0xd625, 0x0, 0x0);
        gbc.writeMem(0x18e7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xd3ee);
        EXPECT(gbc.pc(), 0x18e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0047
        gbc.setState(0x36df, 0x1578, 0x6af0, 0xc782, 0x2a17, 0x3cee, 0x1, 0x1);
        gbc.writeMem(0x36df, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x1578);
        EXPECT(gbc.pc(), 0x36e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0048
        gbc.setState(0x9904, 0xb43b, 0x2280, 0xdf18, 0x9282, 0x3f38, 0x1, 0x1);
        gbc.writeMem(0x9904, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xb43b);
        EXPECT(gbc.pc(), 0x9906);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9904), 0xcb);
        EXPECT(gbc.readMem(0x9905), 0xb);
        // CB 0B 0049
        gbc.setState(0x5431, 0xca69, 0x7910, 0xcc, 0x3a86, 0x3038, 0x0, 0x1);
        gbc.writeMem(0x5431, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xca69);
        EXPECT(gbc.pc(), 0x5433);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 004A
        gbc.setState(0x5c36, 0x13e8, 0xac00, 0x9904, 0xd198, 0x22df, 0x0, 0x1);
        gbc.writeMem(0x5c36, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x13e8);
        EXPECT(gbc.pc(), 0x5c38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 004B
        gbc.setState(0x742f, 0xd519, 0x8bd0, 0x464a, 0x4c50, 0x1a9e, 0x1, 0x1);
        gbc.writeMem(0x742f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xd519);
        EXPECT(gbc.pc(), 0x7431);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 004C
        gbc.setState(0x635b, 0x556, 0x1640, 0x2b34, 0x8974, 0x60be, 0x0, 0x0);
        gbc.writeMem(0x635b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x556);
        EXPECT(gbc.pc(), 0x635d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 004D
        gbc.setState(0x8d94, 0x8b89, 0x3d90, 0x61a5, 0xf6f, 0xce15, 0x0, 0x1);
        gbc.writeMem(0x8d94, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x8b89);
        EXPECT(gbc.pc(), 0x8d96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8d94), 0xcb);
        EXPECT(gbc.readMem(0x8d95), 0xb);
        // CB 0B 004E
        gbc.setState(0x61bc, 0xd3e0, 0x1c20, 0xbc0b, 0x41cc, 0xed31, 0x1, 0x0);
        gbc.writeMem(0x61bc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xd3e0);
        EXPECT(gbc.pc(), 0x61be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 004F
        gbc.setState(0xedd4, 0xba4a, 0xb690, 0x66a6, 0x4880, 0x62d1, 0x0, 0x0);
        gbc.writeMem(0xedd4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xba4a);
        EXPECT(gbc.pc(), 0xedd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedd4), 0xcb);
        EXPECT(gbc.readMem(0xedd5), 0xb);
        // CB 0B 0050
        gbc.setState(0x7fa7, 0xbf06, 0x9680, 0x5989, 0xa3aa, 0xd9fd, 0x0, 0x0);
        gbc.writeMem(0x7fa7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xbf06);
        EXPECT(gbc.pc(), 0x7fa9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0051
        gbc.setState(0xa9da, 0xa22, 0x5780, 0x36f5, 0xf07c, 0x45d0, 0x1, 0x0);
        gbc.writeMem(0xa9da, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xa22);
        EXPECT(gbc.pc(), 0xa9dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9da), 0xcb);
        EXPECT(gbc.readMem(0xa9db), 0xb);
        // CB 0B 0052
        gbc.setState(0x987b, 0x80f, 0xad0, 0xe708, 0xbd8d, 0x5221, 0x0, 0x1);
        gbc.writeMem(0x987b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x80f);
        EXPECT(gbc.pc(), 0x987d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x987b), 0xcb);
        EXPECT(gbc.readMem(0x987c), 0xb);
        // CB 0B 0053
        gbc.setState(0x536, 0x59c, 0xf470, 0x93c4, 0xbc48, 0x599, 0x1, 0x1);
        gbc.writeMem(0x536, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x59c);
        EXPECT(gbc.pc(), 0x538);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0054
        gbc.setState(0x7f12, 0x7a67, 0x5f60, 0x2f07, 0x79c3, 0x2aa3, 0x0, 0x1);
        gbc.writeMem(0x7f12, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x7a67);
        EXPECT(gbc.pc(), 0x7f14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0055
        gbc.setState(0x8ce1, 0x8918, 0xa1a0, 0x6b5a, 0x58e6, 0xdca0, 0x0, 0x1);
        gbc.writeMem(0x8ce1, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x8918);
        EXPECT(gbc.pc(), 0x8ce3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ce1), 0xcb);
        EXPECT(gbc.readMem(0x8ce2), 0xb);
        // CB 0B 0056
        gbc.setState(0xe95b, 0xfa7f, 0xf30, 0xa7b2, 0x4d74, 0x8c48, 0x1, 0x1);
        gbc.writeMem(0xe95b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xfa7f);
        EXPECT(gbc.pc(), 0xe95d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe95b), 0xcb);
        EXPECT(gbc.readMem(0xe95c), 0xb);
        // CB 0B 0057
        gbc.setState(0xef8d, 0x29ee, 0x8f30, 0x5677, 0x31d6, 0x8ff, 0x0, 0x1);
        gbc.writeMem(0xef8d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x29ee);
        EXPECT(gbc.pc(), 0xef8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef8d), 0xcb);
        EXPECT(gbc.readMem(0xef8e), 0xb);
        // CB 0B 0058
        gbc.setState(0x1ab1, 0xc15, 0xbb80, 0xbdfb, 0xf337, 0x2eb8, 0x0, 0x1);
        gbc.writeMem(0x1ab1, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xc15);
        EXPECT(gbc.pc(), 0x1ab3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0059
        gbc.setState(0x2c5f, 0x4edb, 0x1c10, 0xf63, 0xa26c, 0xf966, 0x1, 0x1);
        gbc.writeMem(0x2c5f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x4edb);
        EXPECT(gbc.pc(), 0x2c61);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 005A
        gbc.setState(0xc9c2, 0x882d, 0x260, 0x298c, 0x62cb, 0x41cc, 0x1, 0x0);
        gbc.writeMem(0xc9c2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x882d);
        EXPECT(gbc.pc(), 0xc9c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9c2), 0xcb);
        EXPECT(gbc.readMem(0xc9c3), 0xb);
        // CB 0B 005B
        gbc.setState(0x6cf7, 0xfedc, 0x1af0, 0x6655, 0x6241, 0xebb9, 0x1, 0x1);
        gbc.writeMem(0x6cf7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xfedc);
        EXPECT(gbc.pc(), 0x6cf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 005C
        gbc.setState(0xe5b, 0x6139, 0x36f0, 0xae93, 0x82b3, 0x151, 0x1, 0x0);
        gbc.writeMem(0xe5b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x6139);
        EXPECT(gbc.pc(), 0xe5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 005D
        gbc.setState(0x5747, 0x6747, 0x1ce0, 0xd6c9, 0x46c8, 0x9d7a, 0x1, 0x1);
        gbc.writeMem(0x5747, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x6747);
        EXPECT(gbc.pc(), 0x5749);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 005E
        gbc.setState(0x722a, 0x23f8, 0x4740, 0x18b9, 0x8956, 0xb539, 0x0, 0x0);
        gbc.writeMem(0x722a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x23f8);
        EXPECT(gbc.pc(), 0x722c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 005F
        gbc.setState(0xeed0, 0x66fc, 0x4640, 0x5033, 0xba28, 0xe2e6, 0x0, 0x0);
        gbc.writeMem(0xeed0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x66fc);
        EXPECT(gbc.pc(), 0xeed2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeed0), 0xcb);
        EXPECT(gbc.readMem(0xeed1), 0xb);
        // CB 0B 0060
        gbc.setState(0x5e19, 0xbc11, 0x17d0, 0x1fcd, 0xcce7, 0x3a49, 0x0, 0x1);
        gbc.writeMem(0x5e19, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xbc11);
        EXPECT(gbc.pc(), 0x5e1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0061
        gbc.setState(0xa0a8, 0xb30c, 0xaff0, 0xd9b8, 0x8b26, 0xcac2, 0x1, 0x0);
        gbc.writeMem(0xa0a8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xb30c);
        EXPECT(gbc.pc(), 0xa0aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0a8), 0xcb);
        EXPECT(gbc.readMem(0xa0a9), 0xb);
        // CB 0B 0062
        gbc.setState(0x89bc, 0x41b5, 0xaaa0, 0xe2d4, 0x29c9, 0x8a51, 0x1, 0x1);
        gbc.writeMem(0x89bc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x41b5);
        EXPECT(gbc.pc(), 0x89be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89bc), 0xcb);
        EXPECT(gbc.readMem(0x89bd), 0xb);
        // CB 0B 0063
        gbc.setState(0x93ad, 0x277e, 0xd090, 0xe828, 0x6550, 0xaba1, 0x1, 0x1);
        gbc.writeMem(0x93ad, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x277e);
        EXPECT(gbc.pc(), 0x93af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93ad), 0xcb);
        EXPECT(gbc.readMem(0x93ae), 0xb);
        // CB 0B 0064
        gbc.setState(0x3439, 0x3ff1, 0x4fd0, 0x5875, 0x74c5, 0x6f7f, 0x1, 0x1);
        gbc.writeMem(0x3439, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x3ff1);
        EXPECT(gbc.pc(), 0x343b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0065
        gbc.setState(0x4f5d, 0xa4d5, 0x14a0, 0xf577, 0x97f4, 0x8327, 0x0, 0x1);
        gbc.writeMem(0x4f5d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xa4d5);
        EXPECT(gbc.pc(), 0x4f5f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0066
        gbc.setState(0x3c9, 0x5042, 0xb3a0, 0x5b1f, 0x879f, 0xa89e, 0x1, 0x0);
        gbc.writeMem(0x3c9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x5042);
        EXPECT(gbc.pc(), 0x3cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0067
        gbc.setState(0xe221, 0x4966, 0x8430, 0xb2c5, 0xcfbf, 0xef7c, 0x0, 0x1);
        gbc.writeMem(0xe221, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x4966);
        EXPECT(gbc.pc(), 0xe223);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe221), 0xcb);
        EXPECT(gbc.readMem(0xe222), 0xb);
        // CB 0B 0068
        gbc.setState(0x6d94, 0x69f, 0x3df0, 0x23f, 0x7eb0, 0xe12a, 0x1, 0x1);
        gbc.writeMem(0x6d94, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x69f);
        EXPECT(gbc.pc(), 0x6d96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0069
        gbc.setState(0x5bdf, 0x6a0, 0xa090, 0xe249, 0x7012, 0xf37e, 0x0, 0x0);
        gbc.writeMem(0x5bdf, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x6a0);
        EXPECT(gbc.pc(), 0x5be1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 006A
        gbc.setState(0xbe38, 0x160c, 0x2830, 0xf612, 0xc1bf, 0x7ec7, 0x0, 0x0);
        gbc.writeMem(0xbe38, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x160c);
        EXPECT(gbc.pc(), 0xbe3a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe38), 0xcb);
        EXPECT(gbc.readMem(0xbe39), 0xb);
        // CB 0B 006B
        gbc.setState(0x804e, 0xf14f, 0xdde0, 0x3b7f, 0xe452, 0xae68, 0x0, 0x0);
        gbc.writeMem(0x804e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xf14f);
        EXPECT(gbc.pc(), 0x8050);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x804e), 0xcb);
        EXPECT(gbc.readMem(0x804f), 0xb);
        // CB 0B 006C
        gbc.setState(0x580e, 0x8bf3, 0x46e0, 0x436f, 0x53d0, 0xb3f4, 0x1, 0x1);
        gbc.writeMem(0x580e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x8bf3);
        EXPECT(gbc.pc(), 0x5810);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 006D
        gbc.setState(0xc927, 0xacfc, 0xcc70, 0xb4ac, 0xad5b, 0x8c01, 0x0, 0x0);
        gbc.writeMem(0xc927, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xacfc);
        EXPECT(gbc.pc(), 0xc929);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc927), 0xcb);
        EXPECT(gbc.readMem(0xc928), 0xb);
        // CB 0B 006F
        gbc.setState(0xc8c2, 0x7c76, 0x5a80, 0xf885, 0xb4b0, 0x2591, 0x0, 0x1);
        gbc.writeMem(0xc8c2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x7c76);
        EXPECT(gbc.pc(), 0xc8c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8c2), 0xcb);
        EXPECT(gbc.readMem(0xc8c3), 0xb);
        // CB 0B 0070
        gbc.setState(0x1c4b, 0xd5c2, 0xe430, 0x6bef, 0x4d0f, 0x71f2, 0x0, 0x1);
        gbc.writeMem(0x1c4b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xd5c2);
        EXPECT(gbc.pc(), 0x1c4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0071
        gbc.setState(0x1dc6, 0x3c0, 0x6a70, 0xd16c, 0x5cdd, 0x173, 0x0, 0x0);
        gbc.writeMem(0x1dc6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x3c0);
        EXPECT(gbc.pc(), 0x1dc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0072
        gbc.setState(0x822d, 0x39a7, 0x5e50, 0xe710, 0xd663, 0x9294, 0x0, 0x0);
        gbc.writeMem(0x822d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x39a7);
        EXPECT(gbc.pc(), 0x822f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x822d), 0xcb);
        EXPECT(gbc.readMem(0x822e), 0xb);
        // CB 0B 0073
        gbc.setState(0xcacf, 0x7607, 0x2010, 0xc47c, 0x9cab, 0x64fa, 0x0, 0x1);
        gbc.writeMem(0xcacf, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x7607);
        EXPECT(gbc.pc(), 0xcad1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcacf), 0xcb);
        EXPECT(gbc.readMem(0xcad0), 0xb);
        // CB 0B 0074
        gbc.setState(0x33aa, 0x8a26, 0x4dc0, 0xb1b, 0xa4e2, 0x498e, 0x0, 0x1);
        gbc.writeMem(0x33aa, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x8a26);
        EXPECT(gbc.pc(), 0x33ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0075
        gbc.setState(0xa316, 0xa2a, 0x48c0, 0x8c29, 0x8982, 0x29ad, 0x1, 0x0);
        gbc.writeMem(0xa316, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xa2a);
        EXPECT(gbc.pc(), 0xa318);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa316), 0xcb);
        EXPECT(gbc.readMem(0xa317), 0xb);
        // CB 0B 0076
        gbc.setState(0xba7e, 0x3b1a, 0x21f0, 0x2472, 0x8399, 0x3f50, 0x0, 0x0);
        gbc.writeMem(0xba7e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x3b1a);
        EXPECT(gbc.pc(), 0xba80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba7e), 0xcb);
        EXPECT(gbc.readMem(0xba7f), 0xb);
        // CB 0B 0077
        gbc.setState(0x381, 0xddba, 0x4230, 0x5a9a, 0x4595, 0x8c75, 0x1, 0x0);
        gbc.writeMem(0x381, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xddba);
        EXPECT(gbc.pc(), 0x383);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0078
        gbc.setState(0x4809, 0xcbec, 0x6540, 0x363, 0x4a4, 0xfe93, 0x0, 0x1);
        gbc.writeMem(0x4809, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xcbec);
        EXPECT(gbc.pc(), 0x480b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 007A
        gbc.setState(0x865e, 0x228d, 0x1bd0, 0x5c8a, 0x460d, 0x1c16, 0x1, 0x1);
        gbc.writeMem(0x865e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x228d);
        EXPECT(gbc.pc(), 0x8660);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x865e), 0xcb);
        EXPECT(gbc.readMem(0x865f), 0xb);
        // CB 0B 007B
        gbc.setState(0x32da, 0x190a, 0x11c0, 0xe40, 0x9810, 0x8765, 0x1, 0x0);
        gbc.writeMem(0x32da, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x190a);
        EXPECT(gbc.pc(), 0x32dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 007C
        gbc.setState(0xebf0, 0xf18a, 0xd7a0, 0xf68e, 0xc0b7, 0x48ac, 0x0, 0x0);
        gbc.writeMem(0xebf0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf18a);
        EXPECT(gbc.pc(), 0xebf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xebf0), 0xcb);
        EXPECT(gbc.readMem(0xebf1), 0xb);
        // CB 0B 007D
        gbc.setState(0x71df, 0xbe79, 0xcfc0, 0xe715, 0x4f0d, 0x4db, 0x0, 0x0);
        gbc.writeMem(0x71df, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xbe79);
        EXPECT(gbc.pc(), 0x71e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 007E
        gbc.setState(0x598f, 0x62f7, 0xc6a0, 0xa403, 0x85db, 0x98fd, 0x0, 0x0);
        gbc.writeMem(0x598f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x62f7);
        EXPECT(gbc.pc(), 0x5991);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 007F
        gbc.setState(0x5985, 0x7ea2, 0x7920, 0xd271, 0xb7ce, 0x2cec, 0x0, 0x1);
        gbc.writeMem(0x5985, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x7ea2);
        EXPECT(gbc.pc(), 0x5987);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0080
        gbc.setState(0x3fca, 0x58be, 0x3af0, 0x7d5f, 0xb3e9, 0xf998, 0x0, 0x1);
        gbc.writeMem(0x3fca, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x58be);
        EXPECT(gbc.pc(), 0x3fcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0081
        gbc.setState(0xa9c7, 0x73c9, 0x9170, 0x9823, 0xba33, 0x1e56, 0x1, 0x0);
        gbc.writeMem(0xa9c7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x73c9);
        EXPECT(gbc.pc(), 0xa9c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9c7), 0xcb);
        EXPECT(gbc.readMem(0xa9c8), 0xb);
        // CB 0B 0082
        gbc.setState(0x26aa, 0x8cd3, 0x6ba0, 0xfc55, 0x9811, 0x5156, 0x1, 0x0);
        gbc.writeMem(0x26aa, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x8cd3);
        EXPECT(gbc.pc(), 0x26ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0083
        gbc.setState(0xc4b9, 0xb778, 0x1430, 0x519, 0x25f7, 0x65e7, 0x0, 0x1);
        gbc.writeMem(0xc4b9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xb778);
        EXPECT(gbc.pc(), 0xc4bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4b9), 0xcb);
        EXPECT(gbc.readMem(0xc4ba), 0xb);
        // CB 0B 0085
        gbc.setState(0xe1da, 0xf497, 0x4630, 0x21cb, 0xf45c, 0x9f98, 0x1, 0x1);
        gbc.writeMem(0xe1da, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xf497);
        EXPECT(gbc.pc(), 0xe1dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1da), 0xcb);
        EXPECT(gbc.readMem(0xe1db), 0xb);
        // CB 0B 0086
        gbc.setState(0xbaaf, 0x5f61, 0x32d0, 0x6e4a, 0x8d83, 0xb09a, 0x0, 0x0);
        gbc.writeMem(0xbaaf, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x5f61);
        EXPECT(gbc.pc(), 0xbab1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbaaf), 0xcb);
        EXPECT(gbc.readMem(0xbab0), 0xb);
        // CB 0B 0087
        gbc.setState(0x7028, 0x21fd, 0xc5b0, 0x7f44, 0x3958, 0xe73, 0x1, 0x0);
        gbc.writeMem(0x7028, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x21fd);
        EXPECT(gbc.pc(), 0x702a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0088
        gbc.setState(0xc8a6, 0x3771, 0x2890, 0x4e50, 0x724a, 0x6715, 0x1, 0x0);
        gbc.writeMem(0xc8a6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x3771);
        EXPECT(gbc.pc(), 0xc8a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8a6), 0xcb);
        EXPECT(gbc.readMem(0xc8a7), 0xb);
        // CB 0B 0089
        gbc.setState(0x8c47, 0xcfb3, 0x5950, 0x7ba8, 0x3f35, 0xcfa, 0x1, 0x1);
        gbc.writeMem(0x8c47, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xcfb3);
        EXPECT(gbc.pc(), 0x8c49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c47), 0xcb);
        EXPECT(gbc.readMem(0x8c48), 0xb);
        // CB 0B 008A
        gbc.setState(0x6d3e, 0x80fc, 0xde40, 0x88ee, 0x3c90, 0x75c7, 0x1, 0x1);
        gbc.writeMem(0x6d3e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x80fc);
        EXPECT(gbc.pc(), 0x6d40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 008B
        gbc.setState(0x3e55, 0x355, 0xcf10, 0xd769, 0x2dc8, 0xf2de, 0x0, 0x0);
        gbc.writeMem(0x3e55, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x355);
        EXPECT(gbc.pc(), 0x3e57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 008C
        gbc.setState(0x9ff5, 0x469e, 0xd930, 0xb86e, 0x6f3f, 0x9759, 0x0, 0x0);
        gbc.writeMem(0x9ff5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x469e);
        EXPECT(gbc.pc(), 0x9ff7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ff5), 0xcb);
        EXPECT(gbc.readMem(0x9ff6), 0xb);
        // CB 0B 008D
        gbc.setState(0x8caa, 0x250e, 0x240, 0x5e7e, 0x4e47, 0xf8f6, 0x1, 0x1);
        gbc.writeMem(0x8caa, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x250e);
        EXPECT(gbc.pc(), 0x8cac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8caa), 0xcb);
        EXPECT(gbc.readMem(0x8cab), 0xb);
        // CB 0B 008E
        gbc.setState(0x3b39, 0x38e0, 0xa5a0, 0x9f97, 0x75cb, 0x74fd, 0x0, 0x0);
        gbc.writeMem(0x3b39, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x38e0);
        EXPECT(gbc.pc(), 0x3b3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0090
        gbc.setState(0x240f, 0x5d0, 0x9b20, 0x1bd7, 0xbf1d, 0xbd28, 0x1, 0x1);
        gbc.writeMem(0x240f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x5d0);
        EXPECT(gbc.pc(), 0x2411);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0092
        gbc.setState(0x1169, 0xcc96, 0x3e20, 0xe9e6, 0xc5, 0xd7d, 0x1, 0x1);
        gbc.writeMem(0x1169, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xcc96);
        EXPECT(gbc.pc(), 0x116b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0093
        gbc.setState(0x19, 0x3f01, 0x9c20, 0x9ef1, 0x8629, 0x2ed7, 0x0, 0x1);
        gbc.writeMem(0x19, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x3f01);
        EXPECT(gbc.pc(), 0x1b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0094
        gbc.setState(0x989b, 0x48d8, 0x4a40, 0xd28b, 0x1cc6, 0x3a5, 0x1, 0x1);
        gbc.writeMem(0x989b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x48d8);
        EXPECT(gbc.pc(), 0x989d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x989b), 0xcb);
        EXPECT(gbc.readMem(0x989c), 0xb);
        // CB 0B 0095
        gbc.setState(0xe05a, 0x26dd, 0xefb0, 0x5ae7, 0xacc3, 0xe04, 0x1, 0x0);
        gbc.writeMem(0xe05a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x26dd);
        EXPECT(gbc.pc(), 0xe05c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe05a), 0xcb);
        EXPECT(gbc.readMem(0xe05b), 0xb);
        // CB 0B 0096
        gbc.setState(0xcb8b, 0xec8d, 0x71f0, 0x79b6, 0x886, 0x446, 0x0, 0x1);
        gbc.writeMem(0xcb8b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xec8d);
        EXPECT(gbc.pc(), 0xcb8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb8b), 0xcb);
        EXPECT(gbc.readMem(0xcb8c), 0xb);
        // CB 0B 0097
        gbc.setState(0x4df2, 0x48bf, 0xfbd0, 0x10b7, 0x251d, 0x1b3f, 0x1, 0x1);
        gbc.writeMem(0x4df2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x48bf);
        EXPECT(gbc.pc(), 0x4df4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0098
        gbc.setState(0x1fea, 0xe9a1, 0xaf90, 0x26b8, 0xa0b5, 0xe1d9, 0x1, 0x0);
        gbc.writeMem(0x1fea, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xe9a1);
        EXPECT(gbc.pc(), 0x1fec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0099
        gbc.setState(0x39c7, 0x3b65, 0x3030, 0x9545, 0xe66e, 0xb2bb, 0x1, 0x1);
        gbc.writeMem(0x39c7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x3b65);
        EXPECT(gbc.pc(), 0x39c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 009A
        gbc.setState(0x8ac7, 0x2f55, 0x2fe0, 0xb452, 0x5a11, 0x69d1, 0x1, 0x1);
        gbc.writeMem(0x8ac7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x2f55);
        EXPECT(gbc.pc(), 0x8ac9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ac7), 0xcb);
        EXPECT(gbc.readMem(0x8ac8), 0xb);
        // CB 0B 009B
        gbc.setState(0xe9ff, 0x4e06, 0x17f0, 0x1445, 0x67dc, 0xd35a, 0x1, 0x1);
        gbc.writeMem(0xe9ff, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x4e06);
        EXPECT(gbc.pc(), 0xea01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9ff), 0xcb);
        EXPECT(gbc.readMem(0xea00), 0xb);
        // CB 0B 009C
        gbc.setState(0x329d, 0xd876, 0x3780, 0x57f, 0xc20d, 0xc378, 0x0, 0x1);
        gbc.writeMem(0x329d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xd876);
        EXPECT(gbc.pc(), 0x329f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 009D
        gbc.setState(0x9c78, 0xf7d5, 0x2090, 0xe991, 0x86d4, 0x1991, 0x1, 0x1);
        gbc.writeMem(0x9c78, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xf7d5);
        EXPECT(gbc.pc(), 0x9c7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c78), 0xcb);
        EXPECT(gbc.readMem(0x9c79), 0xb);
        // CB 0B 009E
        gbc.setState(0x314e, 0xe2c1, 0x28f0, 0x56bb, 0xb3bd, 0xb20d, 0x0, 0x1);
        gbc.writeMem(0x314e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xe2c1);
        EXPECT(gbc.pc(), 0x3150);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 009F
        gbc.setState(0xe0fa, 0x560f, 0x8f20, 0xd8ee, 0x1158, 0x6ddc, 0x1, 0x1);
        gbc.writeMem(0xe0fa, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x560f);
        EXPECT(gbc.pc(), 0xe0fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0fa), 0xcb);
        EXPECT(gbc.readMem(0xe0fb), 0xb);
        // CB 0B 00A0
        gbc.setState(0x26b5, 0xdfaf, 0xbf80, 0x9c2e, 0x8527, 0x625f, 0x0, 0x1);
        gbc.writeMem(0x26b5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xdfaf);
        EXPECT(gbc.pc(), 0x26b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00A1
        gbc.setState(0xa3e2, 0xda3d, 0x590, 0x5760, 0xb069, 0x6ae7, 0x1, 0x1);
        gbc.writeMem(0xa3e2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xda3d);
        EXPECT(gbc.pc(), 0xa3e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa3e2), 0xcb);
        EXPECT(gbc.readMem(0xa3e3), 0xb);
        // CB 0B 00A2
        gbc.setState(0xe012, 0x2af, 0x95f0, 0x5a6f, 0x4668, 0x11c, 0x0, 0x1);
        gbc.writeMem(0xe012, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x2af);
        EXPECT(gbc.pc(), 0xe014);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe012), 0xcb);
        EXPECT(gbc.readMem(0xe013), 0xb);
        // CB 0B 00A3
        gbc.setState(0x21e7, 0xdefe, 0xc9a0, 0x587d, 0xd588, 0xcad2, 0x0, 0x0);
        gbc.writeMem(0x21e7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xdefe);
        EXPECT(gbc.pc(), 0x21e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00A4
        gbc.setState(0xdf89, 0x6c17, 0x8250, 0x8fee, 0x131a, 0x88a9, 0x1, 0x1);
        gbc.writeMem(0xdf89, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x6c17);
        EXPECT(gbc.pc(), 0xdf8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf89), 0xcb);
        EXPECT(gbc.readMem(0xdf8a), 0xb);
        // CB 0B 00A5
        gbc.setState(0xdc29, 0x7f17, 0x7290, 0xd734, 0xfbeb, 0xa9a0, 0x1, 0x1);
        gbc.writeMem(0xdc29, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x7f17);
        EXPECT(gbc.pc(), 0xdc2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc29), 0xcb);
        EXPECT(gbc.readMem(0xdc2a), 0xb);
        // CB 0B 00A6
        gbc.setState(0x6642, 0xe1ab, 0x1940, 0x311e, 0x81bc, 0x8ae4, 0x0, 0x0);
        gbc.writeMem(0x6642, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xe1ab);
        EXPECT(gbc.pc(), 0x6644);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00A8
        gbc.setState(0x5fa4, 0x7647, 0x9e20, 0x7c1e, 0x3a75, 0xefc3, 0x1, 0x0);
        gbc.writeMem(0x5fa4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x7647);
        EXPECT(gbc.pc(), 0x5fa6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00A9
        gbc.setState(0xbd72, 0x8263, 0x7cc0, 0x5d04, 0x53a5, 0xc10d, 0x0, 0x0);
        gbc.writeMem(0xbd72, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x8263);
        EXPECT(gbc.pc(), 0xbd74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd72), 0xcb);
        EXPECT(gbc.readMem(0xbd73), 0xb);
        // CB 0B 00AA
        gbc.setState(0xcda, 0x705b, 0xc7d0, 0x990c, 0x4e83, 0xa693, 0x1, 0x0);
        gbc.writeMem(0xcda, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x705b);
        EXPECT(gbc.pc(), 0xcdc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00AB
        gbc.setState(0x79e, 0xee7f, 0xba70, 0xa46c, 0x5c63, 0x749f, 0x1, 0x1);
        gbc.writeMem(0x79e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xee7f);
        EXPECT(gbc.pc(), 0x7a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00AC
        gbc.setState(0xd5f8, 0xd4ee, 0x9640, 0x1c6a, 0x799b, 0x8430, 0x1, 0x0);
        gbc.writeMem(0xd5f8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd4ee);
        EXPECT(gbc.pc(), 0xd5fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5f8), 0xcb);
        EXPECT(gbc.readMem(0xd5f9), 0xb);
        // CB 0B 00AD
        gbc.setState(0xa438, 0x6973, 0xb800, 0x90f0, 0x61f7, 0x23e, 0x1, 0x0);
        gbc.writeMem(0xa438, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x6973);
        EXPECT(gbc.pc(), 0xa43a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa438), 0xcb);
        EXPECT(gbc.readMem(0xa439), 0xb);
        // CB 0B 00AE
        gbc.setState(0xb006, 0x363e, 0x8990, 0xc2b, 0x9955, 0xf89b, 0x0, 0x1);
        gbc.writeMem(0xb006, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x363e);
        EXPECT(gbc.pc(), 0xb008);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb006), 0xcb);
        EXPECT(gbc.readMem(0xb007), 0xb);
        // CB 0B 00AF
        gbc.setState(0xeb49, 0xe680, 0x9550, 0x9bc4, 0xe61f, 0x9f85, 0x0, 0x0);
        gbc.writeMem(0xeb49, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xe680);
        EXPECT(gbc.pc(), 0xeb4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb49), 0xcb);
        EXPECT(gbc.readMem(0xeb4a), 0xb);
        // CB 0B 00B0
        gbc.setState(0xbc53, 0x6ceb, 0x7260, 0xd5e3, 0xefeb, 0x58d8, 0x1, 0x0);
        gbc.writeMem(0xbc53, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x6ceb);
        EXPECT(gbc.pc(), 0xbc55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc53), 0xcb);
        EXPECT(gbc.readMem(0xbc54), 0xb);
        // CB 0B 00B2
        gbc.setState(0x6db7, 0x51e, 0xb110, 0xc8ad, 0x6dd9, 0xc6e2, 0x0, 0x1);
        gbc.writeMem(0x6db7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x51e);
        EXPECT(gbc.pc(), 0x6db9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00B3
        gbc.setState(0xc4c3, 0xcead, 0xee90, 0x1ead, 0xcef3, 0x53a0, 0x0, 0x1);
        gbc.writeMem(0xc4c3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xcead);
        EXPECT(gbc.pc(), 0xc4c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4c3), 0xcb);
        EXPECT(gbc.readMem(0xc4c4), 0xb);
        // CB 0B 00B4
        gbc.setState(0x6cd9, 0x9164, 0xf000, 0xe2ee, 0x2e81, 0x787e, 0x1, 0x1);
        gbc.writeMem(0x6cd9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x9164);
        EXPECT(gbc.pc(), 0x6cdb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00B5
        gbc.setState(0xde21, 0x6089, 0xe910, 0x776f, 0xdba, 0xfdb, 0x0, 0x0);
        gbc.writeMem(0xde21, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x6089);
        EXPECT(gbc.pc(), 0xde23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde21), 0xcb);
        EXPECT(gbc.readMem(0xde22), 0xb);
        // CB 0B 00B6
        gbc.setState(0xaab6, 0x21f0, 0x26b0, 0xa211, 0x1089, 0x8844, 0x1, 0x0);
        gbc.writeMem(0xaab6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x21f0);
        EXPECT(gbc.pc(), 0xaab8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaab6), 0xcb);
        EXPECT(gbc.readMem(0xaab7), 0xb);
        // CB 0B 00B7
        gbc.setState(0xac21, 0x6f47, 0x6700, 0x792d, 0xec63, 0x74a2, 0x0, 0x1);
        gbc.writeMem(0xac21, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x6f47);
        EXPECT(gbc.pc(), 0xac23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac21), 0xcb);
        EXPECT(gbc.readMem(0xac22), 0xb);
        // CB 0B 00B8
        gbc.setState(0x18c5, 0x3597, 0xf800, 0x8655, 0xd9a2, 0x9309, 0x0, 0x0);
        gbc.writeMem(0x18c5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x3597);
        EXPECT(gbc.pc(), 0x18c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00B9
        gbc.setState(0x5c00, 0x4a29, 0xb840, 0xbc62, 0xe38a, 0x82e, 0x1, 0x1);
        gbc.writeMem(0x5c00, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x4a29);
        EXPECT(gbc.pc(), 0x5c02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00BA
        gbc.setState(0xc06e, 0x5416, 0xb450, 0x177f, 0xdfe, 0x4342, 0x0, 0x0);
        gbc.writeMem(0xc06e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x5416);
        EXPECT(gbc.pc(), 0xc070);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc06e), 0xcb);
        EXPECT(gbc.readMem(0xc06f), 0xb);
        // CB 0B 00BB
        gbc.setState(0xdc04, 0x1184, 0x17c0, 0x843b, 0x7cdf, 0xef21, 0x1, 0x0);
        gbc.writeMem(0xdc04, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x1184);
        EXPECT(gbc.pc(), 0xdc06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc04), 0xcb);
        EXPECT(gbc.readMem(0xdc05), 0xb);
        // CB 0B 00BC
        gbc.setState(0x76d9, 0x2df1, 0x42c0, 0x17ea, 0x3617, 0xb3fd, 0x0, 0x0);
        gbc.writeMem(0x76d9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x2df1);
        EXPECT(gbc.pc(), 0x76db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00BD
        gbc.setState(0x15f0, 0xb4d1, 0x500, 0x6a32, 0x5b4b, 0xfc9a, 0x1, 0x1);
        gbc.writeMem(0x15f0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xb4d1);
        EXPECT(gbc.pc(), 0x15f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00BF
        gbc.setState(0x9e65, 0x65f1, 0x65d0, 0x78e1, 0xdce1, 0xadee, 0x0, 0x1);
        gbc.writeMem(0x9e65, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x65f1);
        EXPECT(gbc.pc(), 0x9e67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e65), 0xcb);
        EXPECT(gbc.readMem(0x9e66), 0xb);
        // CB 0B 00C0
        gbc.setState(0x8bb9, 0x82e1, 0xe450, 0xbe7a, 0x58b3, 0x8f3f, 0x1, 0x0);
        gbc.writeMem(0x8bb9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x82e1);
        EXPECT(gbc.pc(), 0x8bbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8bb9), 0xcb);
        EXPECT(gbc.readMem(0x8bba), 0xb);
        // CB 0B 00C1
        gbc.setState(0x5d3c, 0xf6fa, 0x4a40, 0xb606, 0xcab9, 0x241a, 0x1, 0x1);
        gbc.writeMem(0x5d3c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xf6fa);
        EXPECT(gbc.pc(), 0x5d3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00C2
        gbc.setState(0xae44, 0x64a9, 0x1000, 0x6beb, 0x5726, 0x11a4, 0x1, 0x1);
        gbc.writeMem(0xae44, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x64a9);
        EXPECT(gbc.pc(), 0xae46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae44), 0xcb);
        EXPECT(gbc.readMem(0xae45), 0xb);
        // CB 0B 00C3
        gbc.setState(0x809e, 0x9ec9, 0x30a0, 0xf09b, 0x36bc, 0xb4cb, 0x1, 0x0);
        gbc.writeMem(0x809e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x9ec9);
        EXPECT(gbc.pc(), 0x80a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x809e), 0xcb);
        EXPECT(gbc.readMem(0x809f), 0xb);
        // CB 0B 00C4
        gbc.setState(0x539e, 0xb803, 0x3dd0, 0x17fc, 0xabb, 0x4519, 0x0, 0x0);
        gbc.writeMem(0x539e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xb803);
        EXPECT(gbc.pc(), 0x53a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00C5
        gbc.setState(0xdc61, 0xa04, 0xaff0, 0xf6aa, 0x8883, 0x758e, 0x0, 0x1);
        gbc.writeMem(0xdc61, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa04);
        EXPECT(gbc.pc(), 0xdc63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc61), 0xcb);
        EXPECT(gbc.readMem(0xdc62), 0xb);
        // CB 0B 00C6
        gbc.setState(0xef2b, 0xeaeb, 0xfd60, 0x95c2, 0x478b, 0x5afe, 0x0, 0x1);
        gbc.writeMem(0xef2b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xeaeb);
        EXPECT(gbc.pc(), 0xef2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef2b), 0xcb);
        EXPECT(gbc.readMem(0xef2c), 0xb);
        // CB 0B 00C7
        gbc.setState(0xb186, 0x6cfb, 0x5080, 0x106c, 0x76f0, 0xffd, 0x0, 0x0);
        gbc.writeMem(0xb186, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x6cfb);
        EXPECT(gbc.pc(), 0xb188);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb186), 0xcb);
        EXPECT(gbc.readMem(0xb187), 0xb);
        // CB 0B 00C8
        gbc.setState(0xc4c7, 0xc12c, 0x1120, 0x5403, 0x27c4, 0xcc9f, 0x1, 0x0);
        gbc.writeMem(0xc4c7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xc12c);
        EXPECT(gbc.pc(), 0xc4c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4c7), 0xcb);
        EXPECT(gbc.readMem(0xc4c8), 0xb);
        // CB 0B 00C9
        gbc.setState(0xa08b, 0x4d03, 0x5ce0, 0x6dfc, 0xb0e9, 0x1782, 0x0, 0x1);
        gbc.writeMem(0xa08b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x4d03);
        EXPECT(gbc.pc(), 0xa08d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa08b), 0xcb);
        EXPECT(gbc.readMem(0xa08c), 0xb);
        // CB 0B 00CA
        gbc.setState(0x5874, 0x3ec9, 0x86a0, 0xa5a3, 0x7dd8, 0x37ed, 0x1, 0x1);
        gbc.writeMem(0x5874, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x3ec9);
        EXPECT(gbc.pc(), 0x5876);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00CB
        gbc.setState(0xca74, 0x8c22, 0x1e0, 0x388c, 0x3f13, 0x95be, 0x0, 0x1);
        gbc.writeMem(0xca74, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x8c22);
        EXPECT(gbc.pc(), 0xca76);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca74), 0xcb);
        EXPECT(gbc.readMem(0xca75), 0xb);
        // CB 0B 00CD
        gbc.setState(0x7b7a, 0xeeb9, 0x9990, 0x6b3d, 0x9f05, 0x3f3b, 0x0, 0x0);
        gbc.writeMem(0x7b7a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xeeb9);
        EXPECT(gbc.pc(), 0x7b7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00CE
        gbc.setState(0xa79, 0x355c, 0x8e10, 0x9fb6, 0xda6a, 0x1bbe, 0x1, 0x0);
        gbc.writeMem(0xa79, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x355c);
        EXPECT(gbc.pc(), 0xa7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00CF
        gbc.setState(0x4905, 0xb746, 0xb80, 0xa90, 0xea49, 0x92fe, 0x1, 0x1);
        gbc.writeMem(0x4905, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xb746);
        EXPECT(gbc.pc(), 0x4907);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00D0
        gbc.setState(0x3c7e, 0xb1db, 0x5590, 0x1608, 0x30a6, 0xce7b, 0x1, 0x1);
        gbc.writeMem(0x3c7e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xb1db);
        EXPECT(gbc.pc(), 0x3c80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00D1
        gbc.setState(0xeadc, 0x6af2, 0x2ea0, 0x16f, 0x710f, 0xdb30, 0x1, 0x0);
        gbc.writeMem(0xeadc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x6af2);
        EXPECT(gbc.pc(), 0xeade);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeadc), 0xcb);
        EXPECT(gbc.readMem(0xeadd), 0xb);
        // CB 0B 00D2
        gbc.setState(0xd0bf, 0x52b, 0x38a0, 0xf82c, 0x8b8f, 0x5e36, 0x0, 0x0);
        gbc.writeMem(0xd0bf, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x52b);
        EXPECT(gbc.pc(), 0xd0c1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd0bf), 0xcb);
        EXPECT(gbc.readMem(0xd0c0), 0xb);
        // CB 0B 00D3
        gbc.setState(0x93d9, 0x2af7, 0x77e0, 0xb90d, 0x1341, 0x6d17, 0x0, 0x0);
        gbc.writeMem(0x93d9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x2af7);
        EXPECT(gbc.pc(), 0x93db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93d9), 0xcb);
        EXPECT(gbc.readMem(0x93da), 0xb);
        // CB 0B 00D4
        gbc.setState(0xba09, 0x6a80, 0x640, 0xee, 0x379f, 0x8463, 0x1, 0x1);
        gbc.writeMem(0xba09, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x6a80);
        EXPECT(gbc.pc(), 0xba0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba09), 0xcb);
        EXPECT(gbc.readMem(0xba0a), 0xb);
        // CB 0B 00D5
        gbc.setState(0xe248, 0x1edd, 0x67e0, 0x38e2, 0xdfdd, 0x2843, 0x0, 0x1);
        gbc.writeMem(0xe248, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x1edd);
        EXPECT(gbc.pc(), 0xe24a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe248), 0xcb);
        EXPECT(gbc.readMem(0xe249), 0xb);
        // CB 0B 00D6
        gbc.setState(0x93a1, 0x442c, 0x9050, 0xeea6, 0x6571, 0x1600, 0x1, 0x0);
        gbc.writeMem(0x93a1, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x442c);
        EXPECT(gbc.pc(), 0x93a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x93a1), 0xcb);
        EXPECT(gbc.readMem(0x93a2), 0xb);
        // CB 0B 00D7
        gbc.setState(0x4089, 0xb930, 0xe00, 0x3d51, 0x3d7a, 0x40b2, 0x0, 0x1);
        gbc.writeMem(0x4089, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xb930);
        EXPECT(gbc.pc(), 0x408b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00D8
        gbc.setState(0x2a2e, 0x133, 0x18c0, 0x2abe, 0xfa14, 0x1809, 0x0, 0x0);
        gbc.writeMem(0x2a2e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x133);
        EXPECT(gbc.pc(), 0x2a30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00D9
        gbc.setState(0x591c, 0x448c, 0x2f80, 0xaf16, 0x5a30, 0x5b95, 0x0, 0x1);
        gbc.writeMem(0x591c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x448c);
        EXPECT(gbc.pc(), 0x591e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00DA
        gbc.setState(0xc0ab, 0x820b, 0x9130, 0x3328, 0x6367, 0x3781, 0x0, 0x0);
        gbc.writeMem(0xc0ab, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x820b);
        EXPECT(gbc.pc(), 0xc0ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0ab), 0xcb);
        EXPECT(gbc.readMem(0xc0ac), 0xb);
        // CB 0B 00DB
        gbc.setState(0x133a, 0x667, 0xb050, 0xe8ff, 0xe6e8, 0xde73, 0x1, 0x0);
        gbc.writeMem(0x133a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x667);
        EXPECT(gbc.pc(), 0x133c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00DC
        gbc.setState(0xb3c8, 0x9e2, 0x5b0, 0xa3c5, 0xa352, 0x2322, 0x0, 0x1);
        gbc.writeMem(0xb3c8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x9e2);
        EXPECT(gbc.pc(), 0xb3ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3c8), 0xcb);
        EXPECT(gbc.readMem(0xb3c9), 0xb);
        // CB 0B 00DD
        gbc.setState(0x6104, 0xbab4, 0x7520, 0xaf2b, 0x930d, 0x86c0, 0x0, 0x0);
        gbc.writeMem(0x6104, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xbab4);
        EXPECT(gbc.pc(), 0x6106);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00DE
        gbc.setState(0x4eb6, 0x25b, 0x4b0, 0x9f3f, 0x2cd0, 0x3569, 0x1, 0x1);
        gbc.writeMem(0x4eb6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x25b);
        EXPECT(gbc.pc(), 0x4eb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00DF
        gbc.setState(0xaf67, 0xf8de, 0x8f0, 0x35dc, 0x7068, 0x820c, 0x0, 0x1);
        gbc.writeMem(0xaf67, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xf8de);
        EXPECT(gbc.pc(), 0xaf69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf67), 0xcb);
        EXPECT(gbc.readMem(0xaf68), 0xb);
        // CB 0B 00E0
        gbc.setState(0x17b4, 0x13c0, 0x2660, 0xba17, 0x699e, 0x8a9d, 0x1, 0x1);
        gbc.writeMem(0x17b4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x13c0);
        EXPECT(gbc.pc(), 0x17b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00E1
        gbc.setState(0x8ec9, 0x77f, 0x8110, 0x9839, 0x784f, 0xda8a, 0x1, 0x1);
        gbc.writeMem(0x8ec9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x77f);
        EXPECT(gbc.pc(), 0x8ecb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ec9), 0xcb);
        EXPECT(gbc.readMem(0x8eca), 0xb);
        // CB 0B 00E2
        gbc.setState(0x3b65, 0x2b7, 0x4680, 0x4c62, 0x4aad, 0x496a, 0x0, 0x0);
        gbc.writeMem(0x3b65, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2b7);
        EXPECT(gbc.pc(), 0x3b67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00E3
        gbc.setState(0x4049, 0x7fe6, 0xe9e0, 0xbea1, 0xd841, 0x4d9c, 0x0, 0x1);
        gbc.writeMem(0x4049, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x7fe6);
        EXPECT(gbc.pc(), 0x404b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00E4
        gbc.setState(0xaea3, 0x66ff, 0x4330, 0xc1be, 0x2541, 0xa3ae, 0x0, 0x0);
        gbc.writeMem(0xaea3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x66ff);
        EXPECT(gbc.pc(), 0xaea5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaea3), 0xcb);
        EXPECT(gbc.readMem(0xaea4), 0xb);
        // CB 0B 00E5
        gbc.setState(0xafcc, 0xb72c, 0xddb0, 0x2b0a, 0x7bac, 0x4dde, 0x0, 0x1);
        gbc.writeMem(0xafcc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xb72c);
        EXPECT(gbc.pc(), 0xafce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafcc), 0xcb);
        EXPECT(gbc.readMem(0xafcd), 0xb);
        // CB 0B 00E6
        gbc.setState(0xa5bd, 0x458c, 0xee40, 0x3687, 0x6003, 0xe2f2, 0x0, 0x1);
        gbc.writeMem(0xa5bd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x458c);
        EXPECT(gbc.pc(), 0xa5bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa5bd), 0xcb);
        EXPECT(gbc.readMem(0xa5be), 0xb);
        // CB 0B 00E7
        gbc.setState(0x7813, 0x3550, 0x1b00, 0xec99, 0xdfd4, 0x9b2b, 0x0, 0x0);
        gbc.writeMem(0x7813, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3550);
        EXPECT(gbc.pc(), 0x7815);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00E8
        gbc.setState(0x167, 0xebea, 0x6ef0, 0x2756, 0x4efa, 0x4951, 0x1, 0x1);
        gbc.writeMem(0x167, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xebea);
        EXPECT(gbc.pc(), 0x169);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00E9
        gbc.setState(0xdf96, 0x2723, 0x8390, 0xfcab, 0x75d1, 0x6886, 0x1, 0x1);
        gbc.writeMem(0xdf96, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x2723);
        EXPECT(gbc.pc(), 0xdf98);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf96), 0xcb);
        EXPECT(gbc.readMem(0xdf97), 0xb);
        // CB 0B 00EA
        gbc.setState(0xa67, 0x3701, 0x5c70, 0x6c2c, 0x159e, 0x1979, 0x0, 0x1);
        gbc.writeMem(0xa67, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x3701);
        EXPECT(gbc.pc(), 0xa69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00EB
        gbc.setState(0x9825, 0xe77c, 0xab70, 0x8d1, 0x1227, 0xc0b3, 0x0, 0x1);
        gbc.writeMem(0x9825, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xe77c);
        EXPECT(gbc.pc(), 0x9827);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9825), 0xcb);
        EXPECT(gbc.readMem(0x9826), 0xb);
        // CB 0B 00EC
        gbc.setState(0x6fd8, 0xc8b7, 0xdd70, 0x4630, 0xce9, 0x363a, 0x0, 0x0);
        gbc.writeMem(0x6fd8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xc8b7);
        EXPECT(gbc.pc(), 0x6fda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00ED
        gbc.setState(0x2a79, 0x12, 0x4d80, 0xe5e3, 0x9263, 0xf79c, 0x0, 0x0);
        gbc.writeMem(0x2a79, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x12);
        EXPECT(gbc.pc(), 0x2a7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00EE
        gbc.setState(0xcaa5, 0xf1c1, 0x7a30, 0x2eef, 0xa76e, 0xbf41, 0x1, 0x1);
        gbc.writeMem(0xcaa5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xf1c1);
        EXPECT(gbc.pc(), 0xcaa7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaa5), 0xcb);
        EXPECT(gbc.readMem(0xcaa6), 0xb);
        // CB 0B 00EF
        gbc.setState(0xe291, 0x8244, 0xed00, 0x889d, 0xc988, 0xd4a4, 0x0, 0x0);
        gbc.writeMem(0xe291, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x8244);
        EXPECT(gbc.pc(), 0xe293);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe291), 0xcb);
        EXPECT(gbc.readMem(0xe292), 0xb);
        // CB 0B 00F0
        gbc.setState(0x5db6, 0xca05, 0xb8e0, 0x4e67, 0x3b12, 0xde7, 0x1, 0x1);
        gbc.writeMem(0x5db6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xca05);
        EXPECT(gbc.pc(), 0x5db8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00F1
        gbc.setState(0x7132, 0xd4c6, 0x6740, 0xc501, 0x48c6, 0x2330, 0x1, 0x0);
        gbc.writeMem(0x7132, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd4c6);
        EXPECT(gbc.pc(), 0x7134);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00F3
        gbc.setState(0xc026, 0x4318, 0xc4c0, 0xe3a7, 0xb3b7, 0x78c0, 0x1, 0x0);
        gbc.writeMem(0xc026, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4318);
        EXPECT(gbc.pc(), 0xc028);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc026), 0xcb);
        EXPECT(gbc.readMem(0xc027), 0xb);
        // CB 0B 00F4
        gbc.setState(0x1b7b, 0x9c58, 0x49c0, 0x3ee3, 0x3528, 0x11b2, 0x0, 0x0);
        gbc.writeMem(0x1b7b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x9c58);
        EXPECT(gbc.pc(), 0x1b7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00F5
        gbc.setState(0x45b9, 0x8985, 0x4a50, 0xac15, 0xd180, 0x7925, 0x0, 0x0);
        gbc.writeMem(0x45b9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x8985);
        EXPECT(gbc.pc(), 0x45bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00F6
        gbc.setState(0x55b9, 0x71d1, 0x2a0, 0x423a, 0x7ab0, 0x18d5, 0x1, 0x1);
        gbc.writeMem(0x55b9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x71d1);
        EXPECT(gbc.pc(), 0x55bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00F7
        gbc.setState(0x9816, 0x1628, 0x2b70, 0xed66, 0x650d, 0xf7ea, 0x1, 0x1);
        gbc.writeMem(0x9816, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x1628);
        EXPECT(gbc.pc(), 0x9818);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9816), 0xcb);
        EXPECT(gbc.readMem(0x9817), 0xb);
        // CB 0B 00F8
        gbc.setState(0xa91d, 0x22ff, 0x8290, 0x8882, 0x7d72, 0xc13d, 0x1, 0x0);
        gbc.writeMem(0xa91d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x22ff);
        EXPECT(gbc.pc(), 0xa91f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa91d), 0xcb);
        EXPECT(gbc.readMem(0xa91e), 0xb);
        // CB 0B 00F9
        gbc.setState(0x98b4, 0xc061, 0x5250, 0xf0e6, 0x8290, 0xdacd, 0x0, 0x1);
        gbc.writeMem(0x98b4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xc061);
        EXPECT(gbc.pc(), 0x98b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98b4), 0xcb);
        EXPECT(gbc.readMem(0x98b5), 0xb);
        // CB 0B 00FA
        gbc.setState(0xa45, 0x8c82, 0xd0c0, 0xe028, 0x1c03, 0x87c6, 0x1, 0x0);
        gbc.writeMem(0xa45, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x8c82);
        EXPECT(gbc.pc(), 0xa47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00FB
        gbc.setState(0x2540, 0xec36, 0xd690, 0x526b, 0xdadc, 0x68a7, 0x0, 0x0);
        gbc.writeMem(0x2540, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xec36);
        EXPECT(gbc.pc(), 0x2542);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00FC
        gbc.setState(0x7b52, 0x25e4, 0xde70, 0xf7ba, 0xc201, 0xcfcf, 0x0, 0x1);
        gbc.writeMem(0x7b52, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x25e4);
        EXPECT(gbc.pc(), 0x7b54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 00FD
        gbc.setState(0xcd65, 0x7ab, 0x270, 0x614a, 0xf1eb, 0x57d2, 0x1, 0x1);
        gbc.writeMem(0xcd65, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x7ab);
        EXPECT(gbc.pc(), 0xcd67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd65), 0xcb);
        EXPECT(gbc.readMem(0xcd66), 0xb);
        // CB 0B 00FE
        gbc.setState(0x6651, 0x94aa, 0x91f0, 0xc665, 0xf9bc, 0x1dc2, 0x0, 0x0);
        gbc.writeMem(0x6651, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x94aa);
        EXPECT(gbc.pc(), 0x6653);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 00FF
        gbc.setState(0x566, 0xe6e1, 0xa20, 0xc499, 0x23fd, 0xec7a, 0x0, 0x1);
        gbc.writeMem(0x566, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xe6e1);
        EXPECT(gbc.pc(), 0x568);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0100
        gbc.setState(0x1124, 0xb5cb, 0x2ce0, 0x52f4, 0xfd4e, 0x7f25, 0x0, 0x1);
        gbc.writeMem(0x1124, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xb5cb);
        EXPECT(gbc.pc(), 0x1126);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0101
        gbc.setState(0xbf1, 0x82ac, 0xe50, 0x7023, 0xe55b, 0xb45f, 0x0, 0x1);
        gbc.writeMem(0xbf1, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x82ac);
        EXPECT(gbc.pc(), 0xbf3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0102
        gbc.setState(0x7ffb, 0x5c07, 0x9ab0, 0x53eb, 0x42c6, 0x69aa, 0x1, 0x0);
        gbc.writeMem(0x7ffb, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x5c07);
        EXPECT(gbc.pc(), 0x7ffd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0103
        gbc.setState(0x52ed, 0xcfbc, 0xb0a0, 0x9db5, 0x2ca3, 0xc301, 0x1, 0x0);
        gbc.writeMem(0x52ed, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xcfbc);
        EXPECT(gbc.pc(), 0x52ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0104
        gbc.setState(0xc855, 0x80f7, 0xa990, 0x63b7, 0x9edb, 0xba65, 0x0, 0x1);
        gbc.writeMem(0xc855, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x80f7);
        EXPECT(gbc.pc(), 0xc857);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc855), 0xcb);
        EXPECT(gbc.readMem(0xc856), 0xb);
        // CB 0B 0105
        gbc.setState(0x4a83, 0x888b, 0xa9d0, 0xed2d, 0xb392, 0x4810, 0x0, 0x1);
        gbc.writeMem(0x4a83, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x888b);
        EXPECT(gbc.pc(), 0x4a85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0106
        gbc.setState(0x42d0, 0x1aa7, 0x8f00, 0x53aa, 0x890b, 0x5fef, 0x1, 0x0);
        gbc.writeMem(0x42d0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x1aa7);
        EXPECT(gbc.pc(), 0x42d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0107
        gbc.setState(0x445f, 0x3659, 0x5520, 0x292a, 0xdc38, 0x56f9, 0x1, 0x0);
        gbc.writeMem(0x445f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x3659);
        EXPECT(gbc.pc(), 0x4461);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0108
        gbc.setState(0x8512, 0x6724, 0x9b90, 0x74ac, 0x3d2f, 0xad93, 0x0, 0x1);
        gbc.writeMem(0x8512, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x6724);
        EXPECT(gbc.pc(), 0x8514);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8512), 0xcb);
        EXPECT(gbc.readMem(0x8513), 0xb);
        // CB 0B 0109
        gbc.setState(0xdd1b, 0x34f4, 0x3190, 0xc826, 0x7a84, 0x42e9, 0x0, 0x0);
        gbc.writeMem(0xdd1b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x34f4);
        EXPECT(gbc.pc(), 0xdd1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd1b), 0xcb);
        EXPECT(gbc.readMem(0xdd1c), 0xb);
        // CB 0B 010A
        gbc.setState(0x9319, 0x1316, 0xbf0, 0x99d4, 0x5417, 0x5a17, 0x0, 0x1);
        gbc.writeMem(0x9319, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x1316);
        EXPECT(gbc.pc(), 0x931b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9319), 0xcb);
        EXPECT(gbc.readMem(0x931a), 0xb);
        // CB 0B 010B
        gbc.setState(0x38f4, 0x887c, 0x69b0, 0x19ea, 0x141e, 0x19a, 0x0, 0x0);
        gbc.writeMem(0x38f4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x887c);
        EXPECT(gbc.pc(), 0x38f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 010C
        gbc.setState(0xc9ac, 0xdf06, 0xb230, 0xbf01, 0xa3, 0x2695, 0x0, 0x1);
        gbc.writeMem(0xc9ac, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xdf06);
        EXPECT(gbc.pc(), 0xc9ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9ac), 0xcb);
        EXPECT(gbc.readMem(0xc9ad), 0xb);
        // CB 0B 010F
        gbc.setState(0x256d, 0x476a, 0x3ca0, 0x82a6, 0x4fa2, 0xf002, 0x1, 0x0);
        gbc.writeMem(0x256d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x476a);
        EXPECT(gbc.pc(), 0x256f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0110
        gbc.setState(0x5a56, 0x7dc0, 0x9fd0, 0x9128, 0x9d96, 0xd0a2, 0x0, 0x0);
        gbc.writeMem(0x5a56, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x7dc0);
        EXPECT(gbc.pc(), 0x5a58);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0111
        gbc.setState(0x4be, 0x5ca1, 0x8130, 0x42d3, 0x2405, 0x44aa, 0x0, 0x0);
        gbc.writeMem(0x4be, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x5ca1);
        EXPECT(gbc.pc(), 0x4c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0112
        gbc.setState(0x7c1d, 0xd7ac, 0x4fe0, 0x4403, 0x762a, 0x6e0f, 0x0, 0x0);
        gbc.writeMem(0x7c1d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xd7ac);
        EXPECT(gbc.pc(), 0x7c1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0113
        gbc.setState(0x747c, 0x5b09, 0x7fc0, 0xb754, 0xda9c, 0xbc07, 0x1, 0x1);
        gbc.writeMem(0x747c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x5b09);
        EXPECT(gbc.pc(), 0x747e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0114
        gbc.setState(0xd91d, 0x54a2, 0x3920, 0xd0f4, 0xf243, 0x126f, 0x0, 0x1);
        gbc.writeMem(0xd91d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x54a2);
        EXPECT(gbc.pc(), 0xd91f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd91d), 0xcb);
        EXPECT(gbc.readMem(0xd91e), 0xb);
        // CB 0B 0115
        gbc.setState(0x8fe5, 0x66d0, 0x9a90, 0x555e, 0x9eda, 0xafd4, 0x1, 0x0);
        gbc.writeMem(0x8fe5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x66d0);
        EXPECT(gbc.pc(), 0x8fe7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fe5), 0xcb);
        EXPECT(gbc.readMem(0x8fe6), 0xb);
        // CB 0B 0116
        gbc.setState(0x22db, 0x2c88, 0x8860, 0xb01a, 0x3caa, 0xf2cb, 0x1, 0x1);
        gbc.writeMem(0x22db, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x2c88);
        EXPECT(gbc.pc(), 0x22dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0117
        gbc.setState(0x6c07, 0xc192, 0x2960, 0x662a, 0xaf63, 0x17e9, 0x0, 0x0);
        gbc.writeMem(0x6c07, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xc192);
        EXPECT(gbc.pc(), 0x6c09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0118
        gbc.setState(0xa37a, 0x39f, 0x2b10, 0xc6e3, 0xba0e, 0x4d37, 0x1, 0x0);
        gbc.writeMem(0xa37a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x39f);
        EXPECT(gbc.pc(), 0xa37c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa37a), 0xcb);
        EXPECT(gbc.readMem(0xa37b), 0xb);
        // CB 0B 011A
        gbc.setState(0xbf8d, 0x2182, 0x8480, 0xc53e, 0x30d2, 0x8669, 0x1, 0x1);
        gbc.writeMem(0xbf8d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x2182);
        EXPECT(gbc.pc(), 0xbf8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf8d), 0xcb);
        EXPECT(gbc.readMem(0xbf8e), 0xb);
        // CB 0B 011B
        gbc.setState(0x536d, 0xb470, 0x6cb0, 0x88f2, 0xe048, 0xf79, 0x1, 0x0);
        gbc.writeMem(0x536d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xb470);
        EXPECT(gbc.pc(), 0x536f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 011C
        gbc.setState(0x838d, 0x1162, 0x4880, 0x3016, 0xbac3, 0xa35a, 0x1, 0x0);
        gbc.writeMem(0x838d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x1162);
        EXPECT(gbc.pc(), 0x838f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x838d), 0xcb);
        EXPECT(gbc.readMem(0x838e), 0xb);
        // CB 0B 011D
        gbc.setState(0xb7c9, 0x5b9d, 0x85d0, 0x2a1d, 0x19b, 0xd5aa, 0x0, 0x1);
        gbc.writeMem(0xb7c9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x5b9d);
        EXPECT(gbc.pc(), 0xb7cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb7c9), 0xcb);
        EXPECT(gbc.readMem(0xb7ca), 0xb);
        // CB 0B 011E
        gbc.setState(0x7445, 0x8121, 0xc800, 0x84fd, 0x32cf, 0xb924, 0x1, 0x0);
        gbc.writeMem(0x7445, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x8121);
        EXPECT(gbc.pc(), 0x7447);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 011F
        gbc.setState(0x2c5e, 0x610, 0xff10, 0x568d, 0xd71, 0xce4a, 0x0, 0x1);
        gbc.writeMem(0x2c5e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x610);
        EXPECT(gbc.pc(), 0x2c60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0120
        gbc.setState(0x4d85, 0x9a3, 0xb5d0, 0xdba1, 0x51ec, 0xd16, 0x0, 0x1);
        gbc.writeMem(0x4d85, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x9a3);
        EXPECT(gbc.pc(), 0x4d87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0121
        gbc.setState(0x3186, 0xecc0, 0xa860, 0x6b38, 0x9a70, 0xe6e, 0x0, 0x1);
        gbc.writeMem(0x3186, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xecc0);
        EXPECT(gbc.pc(), 0x3188);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0122
        gbc.setState(0x2cad, 0x5899, 0x1420, 0x84e3, 0xb25d, 0x243f, 0x0, 0x1);
        gbc.writeMem(0x2cad, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x5899);
        EXPECT(gbc.pc(), 0x2caf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0123
        gbc.setState(0x9720, 0x82b8, 0xac40, 0xf9f8, 0x3078, 0x8ad8, 0x1, 0x0);
        gbc.writeMem(0x9720, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x82b8);
        EXPECT(gbc.pc(), 0x9722);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9720), 0xcb);
        EXPECT(gbc.readMem(0x9721), 0xb);
        // CB 0B 0124
        gbc.setState(0x3449, 0xb911, 0x3320, 0x1015, 0xa807, 0x4e00, 0x0, 0x0);
        gbc.writeMem(0x3449, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xb911);
        EXPECT(gbc.pc(), 0x344b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0125
        gbc.setState(0x364d, 0x6803, 0xa40, 0xd5b6, 0xe41b, 0xfe5d, 0x0, 0x1);
        gbc.writeMem(0x364d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x6803);
        EXPECT(gbc.pc(), 0x364f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0127
        gbc.setState(0x8f03, 0x883c, 0x190, 0xb470, 0xcd2a, 0x81ed, 0x0, 0x1);
        gbc.writeMem(0x8f03, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x883c);
        EXPECT(gbc.pc(), 0x8f05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f03), 0xcb);
        EXPECT(gbc.readMem(0x8f04), 0xb);
        // CB 0B 0128
        gbc.setState(0x2dd9, 0xa674, 0x59c0, 0x4018, 0xa789, 0x8622, 0x0, 0x1);
        gbc.writeMem(0x2dd9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xa674);
        EXPECT(gbc.pc(), 0x2ddb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0129
        gbc.setState(0x77eb, 0x4cd9, 0x3a00, 0x825d, 0x8c48, 0x1352, 0x1, 0x1);
        gbc.writeMem(0x77eb, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x4cd9);
        EXPECT(gbc.pc(), 0x77ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 012A
        gbc.setState(0x2a24, 0x13ea, 0x6e40, 0xd048, 0xb393, 0xfef9, 0x1, 0x0);
        gbc.writeMem(0x2a24, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x13ea);
        EXPECT(gbc.pc(), 0x2a26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 012B
        gbc.setState(0x420a, 0x5921, 0xde50, 0x9ade, 0x862c, 0xbd48, 0x0, 0x0);
        gbc.writeMem(0x420a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x5921);
        EXPECT(gbc.pc(), 0x420c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 012C
        gbc.setState(0x7191, 0x5741, 0x5cd0, 0xf17f, 0x1803, 0xd772, 0x0, 0x0);
        gbc.writeMem(0x7191, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x5741);
        EXPECT(gbc.pc(), 0x7193);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 012D
        gbc.setState(0xccb9, 0xe668, 0x7560, 0xb37e, 0x22e0, 0x47ac, 0x0, 0x0);
        gbc.writeMem(0xccb9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xe668);
        EXPECT(gbc.pc(), 0xccbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccb9), 0xcb);
        EXPECT(gbc.readMem(0xccba), 0xb);
        // CB 0B 012E
        gbc.setState(0x496f, 0x1153, 0x6c80, 0xa681, 0xbed2, 0x291b, 0x1, 0x1);
        gbc.writeMem(0x496f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x1153);
        EXPECT(gbc.pc(), 0x4971);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 012F
        gbc.setState(0xef4a, 0xefd3, 0xa5a0, 0xbd9e, 0xb5dc, 0xed40, 0x0, 0x1);
        gbc.writeMem(0xef4a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xefd3);
        EXPECT(gbc.pc(), 0xef4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef4a), 0xcb);
        EXPECT(gbc.readMem(0xef4b), 0xb);
        // CB 0B 0130
        gbc.setState(0xd9a4, 0x2459, 0x3510, 0xc1cc, 0x86d9, 0xbeff, 0x0, 0x0);
        gbc.writeMem(0xd9a4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2459);
        EXPECT(gbc.pc(), 0xd9a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9a4), 0xcb);
        EXPECT(gbc.readMem(0xd9a5), 0xb);
        // CB 0B 0131
        gbc.setState(0x6e38, 0x5f6e, 0x88d0, 0x5dbf, 0x8715, 0xe17f, 0x1, 0x1);
        gbc.writeMem(0x6e38, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x5f6e);
        EXPECT(gbc.pc(), 0x6e3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0132
        gbc.setState(0x5c4, 0x1e76, 0x3340, 0xcd18, 0x4a4, 0x2c2e, 0x0, 0x1);
        gbc.writeMem(0x5c4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x1e76);
        EXPECT(gbc.pc(), 0x5c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0133
        gbc.setState(0x9074, 0x1ad8, 0x5fe0, 0x1245, 0xc037, 0xfcd2, 0x1, 0x0);
        gbc.writeMem(0x9074, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x1ad8);
        EXPECT(gbc.pc(), 0x9076);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9074), 0xcb);
        EXPECT(gbc.readMem(0x9075), 0xb);
        // CB 0B 0134
        gbc.setState(0x1f3e, 0xda21, 0x1d70, 0x8ace, 0xbfa7, 0x9d6, 0x0, 0x0);
        gbc.writeMem(0x1f3e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xda21);
        EXPECT(gbc.pc(), 0x1f40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0135
        gbc.setState(0x9252, 0x4473, 0xe6c0, 0x4119, 0xad34, 0x7f8f, 0x1, 0x0);
        gbc.writeMem(0x9252, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x4473);
        EXPECT(gbc.pc(), 0x9254);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9252), 0xcb);
        EXPECT(gbc.readMem(0x9253), 0xb);
        // CB 0B 0136
        gbc.setState(0x23f1, 0x9362, 0x3d10, 0x8682, 0x68aa, 0x6139, 0x1, 0x0);
        gbc.writeMem(0x23f1, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x9362);
        EXPECT(gbc.pc(), 0x23f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0137
        gbc.setState(0x6a47, 0xc2d8, 0xe040, 0x2aa0, 0x29ce, 0x6bc6, 0x0, 0x0);
        gbc.writeMem(0x6a47, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xc2d8);
        EXPECT(gbc.pc(), 0x6a49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0138
        gbc.setState(0xb179, 0x7586, 0x3f60, 0x8c24, 0xf800, 0xeec1, 0x0, 0x0);
        gbc.writeMem(0xb179, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x7586);
        EXPECT(gbc.pc(), 0xb17b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb179), 0xcb);
        EXPECT(gbc.readMem(0xb17a), 0xb);
        // CB 0B 0139
        gbc.setState(0x5fd8, 0x4be8, 0xc8c0, 0x9833, 0xe5b0, 0xdc76, 0x0, 0x1);
        gbc.writeMem(0x5fd8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x4be8);
        EXPECT(gbc.pc(), 0x5fda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 013A
        gbc.setState(0x967e, 0xe447, 0xbc60, 0x6dee, 0xf320, 0x588f, 0x0, 0x1);
        gbc.writeMem(0x967e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xe447);
        EXPECT(gbc.pc(), 0x9680);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x967e), 0xcb);
        EXPECT(gbc.readMem(0x967f), 0xb);
        // CB 0B 013B
        gbc.setState(0x8b3f, 0x1579, 0x1730, 0xd772, 0x7ce9, 0xd2e0, 0x1, 0x0);
        gbc.writeMem(0x8b3f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x1579);
        EXPECT(gbc.pc(), 0x8b41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b3f), 0xcb);
        EXPECT(gbc.readMem(0x8b40), 0xb);
        // CB 0B 013C
        gbc.setState(0x989f, 0xadf6, 0x3b40, 0x5677, 0x9193, 0x5342, 0x1, 0x1);
        gbc.writeMem(0x989f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xadf6);
        EXPECT(gbc.pc(), 0x98a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x989f), 0xcb);
        EXPECT(gbc.readMem(0x98a0), 0xb);
        // CB 0B 013D
        gbc.setState(0xa427, 0x5b3a, 0xdb50, 0x2b56, 0x5dad, 0xf160, 0x1, 0x1);
        gbc.writeMem(0xa427, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x5b3a);
        EXPECT(gbc.pc(), 0xa429);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa427), 0xcb);
        EXPECT(gbc.readMem(0xa428), 0xb);
        // CB 0B 013E
        gbc.setState(0xa010, 0x2cc1, 0x6c00, 0x249c, 0x87f4, 0x5e38, 0x0, 0x0);
        gbc.writeMem(0xa010, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x2cc1);
        EXPECT(gbc.pc(), 0xa012);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa010), 0xcb);
        EXPECT(gbc.readMem(0xa011), 0xb);
        // CB 0B 013F
        gbc.setState(0x3281, 0x372f, 0x45e0, 0xbe7a, 0x39ab, 0x65e2, 0x1, 0x0);
        gbc.writeMem(0x3281, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x372f);
        EXPECT(gbc.pc(), 0x3283);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0140
        gbc.setState(0x4fef, 0xd114, 0xad70, 0x4721, 0x51bf, 0x4aa9, 0x1, 0x1);
        gbc.writeMem(0x4fef, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xd114);
        EXPECT(gbc.pc(), 0x4ff1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0141
        gbc.setState(0xeb45, 0x2532, 0x4fe0, 0xf19b, 0x2d7b, 0xb7f, 0x0, 0x0);
        gbc.writeMem(0xeb45, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x2532);
        EXPECT(gbc.pc(), 0xeb47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb45), 0xcb);
        EXPECT(gbc.readMem(0xeb46), 0xb);
        // CB 0B 0142
        gbc.setState(0x7c31, 0x39d4, 0x2340, 0xab5a, 0xe38b, 0x32ed, 0x0, 0x0);
        gbc.writeMem(0x7c31, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x39d4);
        EXPECT(gbc.pc(), 0x7c33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0144
        gbc.setState(0x4360, 0xb0d2, 0x36b0, 0xc398, 0x9573, 0xbdc2, 0x0, 0x0);
        gbc.writeMem(0x4360, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xb0d2);
        EXPECT(gbc.pc(), 0x4362);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0145
        gbc.setState(0x7b52, 0x4c5, 0x2b0, 0xf66b, 0x47b, 0x8a55, 0x0, 0x1);
        gbc.writeMem(0x7b52, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x4c5);
        EXPECT(gbc.pc(), 0x7b54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0146
        gbc.setState(0x9dca, 0x971f, 0x8850, 0x88f1, 0x122a, 0xa2d1, 0x0, 0x0);
        gbc.writeMem(0x9dca, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x971f);
        EXPECT(gbc.pc(), 0x9dcc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9dca), 0xcb);
        EXPECT(gbc.readMem(0x9dcb), 0xb);
        // CB 0B 0147
        gbc.setState(0x8a5c, 0xbea8, 0xfa0, 0x6ad7, 0xdf92, 0xee3, 0x1, 0x0);
        gbc.writeMem(0x8a5c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xbea8);
        EXPECT(gbc.pc(), 0x8a5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a5c), 0xcb);
        EXPECT(gbc.readMem(0x8a5d), 0xb);
        // CB 0B 0148
        gbc.setState(0x8de6, 0xcfca, 0x9a70, 0x6d77, 0xe51d, 0x6092, 0x0, 0x0);
        gbc.writeMem(0x8de6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xcfca);
        EXPECT(gbc.pc(), 0x8de8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8de6), 0xcb);
        EXPECT(gbc.readMem(0x8de7), 0xb);
        // CB 0B 0149
        gbc.setState(0xa739, 0x5a0e, 0x90c0, 0x7683, 0xe43d, 0xfa99, 0x0, 0x1);
        gbc.writeMem(0xa739, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x5a0e);
        EXPECT(gbc.pc(), 0xa73b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa739), 0xcb);
        EXPECT(gbc.readMem(0xa73a), 0xb);
        // CB 0B 014A
        gbc.setState(0x3531, 0xb77c, 0x7bc0, 0xd225, 0xafc5, 0x32c0, 0x1, 0x1);
        gbc.writeMem(0x3531, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb77c);
        EXPECT(gbc.pc(), 0x3533);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 014B
        gbc.setState(0x9a3d, 0x8bba, 0xf540, 0x2333, 0x9c69, 0x2014, 0x0, 0x0);
        gbc.writeMem(0x9a3d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x8bba);
        EXPECT(gbc.pc(), 0x9a3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9a3d), 0xcb);
        EXPECT(gbc.readMem(0x9a3e), 0xb);
        // CB 0B 014C
        gbc.setState(0x57d6, 0xc755, 0x84c0, 0xae1, 0xe099, 0x16f4, 0x1, 0x0);
        gbc.writeMem(0x57d6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xc755);
        EXPECT(gbc.pc(), 0x57d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 014D
        gbc.setState(0x2893, 0x71c8, 0x6db0, 0xad05, 0xb8da, 0x4d08, 0x1, 0x0);
        gbc.writeMem(0x2893, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x71c8);
        EXPECT(gbc.pc(), 0x2895);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 014E
        gbc.setState(0xd82d, 0xb4f, 0x31c0, 0xf886, 0x9f45, 0x8e5e, 0x1, 0x1);
        gbc.writeMem(0xd82d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xb4f);
        EXPECT(gbc.pc(), 0xd82f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd82d), 0xcb);
        EXPECT(gbc.readMem(0xd82e), 0xb);
        // CB 0B 014F
        gbc.setState(0x8103, 0xf488, 0xdd00, 0xc299, 0xa30b, 0xf884, 0x0, 0x0);
        gbc.writeMem(0x8103, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xf488);
        EXPECT(gbc.pc(), 0x8105);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8103), 0xcb);
        EXPECT(gbc.readMem(0x8104), 0xb);
        // CB 0B 0150
        gbc.setState(0xc941, 0x100, 0x8400, 0x433b, 0x299b, 0x933b, 0x1, 0x0);
        gbc.writeMem(0xc941, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x100);
        EXPECT(gbc.pc(), 0xc943);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc941), 0xcb);
        EXPECT(gbc.readMem(0xc942), 0xb);
        // CB 0B 0151
        gbc.setState(0xa316, 0xc4f6, 0x4970, 0xb245, 0xc565, 0xc40d, 0x1, 0x1);
        gbc.writeMem(0xa316, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xc4f6);
        EXPECT(gbc.pc(), 0xa318);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa316), 0xcb);
        EXPECT(gbc.readMem(0xa317), 0xb);
        // CB 0B 0153
        gbc.setState(0x7f59, 0x169b, 0x9290, 0xfb03, 0x60da, 0x4647, 0x0, 0x1);
        gbc.writeMem(0x7f59, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x169b);
        EXPECT(gbc.pc(), 0x7f5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0154
        gbc.setState(0xe475, 0x6f6a, 0x1d40, 0xaeb6, 0x78e9, 0x60d5, 0x0, 0x0);
        gbc.writeMem(0xe475, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x6f6a);
        EXPECT(gbc.pc(), 0xe477);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe475), 0xcb);
        EXPECT(gbc.readMem(0xe476), 0xb);
        // CB 0B 0155
        gbc.setState(0x1ec2, 0x8d77, 0xba0, 0x6955, 0xfead, 0x89fc, 0x0, 0x0);
        gbc.writeMem(0x1ec2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x8d77);
        EXPECT(gbc.pc(), 0x1ec4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0156
        gbc.setState(0xa028, 0x7b49, 0x2740, 0x1c08, 0x7f77, 0x41b0, 0x0, 0x0);
        gbc.writeMem(0xa028, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7b49);
        EXPECT(gbc.pc(), 0xa02a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa028), 0xcb);
        EXPECT(gbc.readMem(0xa029), 0xb);
        // CB 0B 0157
        gbc.setState(0x1269, 0x7883, 0x2de0, 0xc3db, 0x7017, 0x97b0, 0x0, 0x0);
        gbc.writeMem(0x1269, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x7883);
        EXPECT(gbc.pc(), 0x126b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0158
        gbc.setState(0xbf1b, 0x5dce, 0x31a0, 0x454, 0x36a9, 0x2e42, 0x1, 0x1);
        gbc.writeMem(0xbf1b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x5dce);
        EXPECT(gbc.pc(), 0xbf1d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf1b), 0xcb);
        EXPECT(gbc.readMem(0xbf1c), 0xb);
        // CB 0B 0159
        gbc.setState(0x11b4, 0x93ab, 0x84e0, 0x8cda, 0xb9ef, 0x8494, 0x0, 0x0);
        gbc.writeMem(0x11b4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x93ab);
        EXPECT(gbc.pc(), 0x11b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 015A
        gbc.setState(0x251b, 0xa987, 0xd410, 0x89b4, 0xc40c, 0x36e8, 0x1, 0x1);
        gbc.writeMem(0x251b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xa987);
        EXPECT(gbc.pc(), 0x251d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 015B
        gbc.setState(0x8aa5, 0x5690, 0x35e0, 0x62a3, 0x5af5, 0x168c, 0x0, 0x1);
        gbc.writeMem(0x8aa5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x5690);
        EXPECT(gbc.pc(), 0x8aa7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8aa5), 0xcb);
        EXPECT(gbc.readMem(0x8aa6), 0xb);
        // CB 0B 015C
        gbc.setState(0xa743, 0x31e5, 0x7cc0, 0xe581, 0xee92, 0x33e4, 0x0, 0x1);
        gbc.writeMem(0xa743, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x31e5);
        EXPECT(gbc.pc(), 0xa745);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa743), 0xcb);
        EXPECT(gbc.readMem(0xa744), 0xb);
        // CB 0B 015D
        gbc.setState(0xb06a, 0x4a57, 0xc0c0, 0x386a, 0x455f, 0x9fb6, 0x0, 0x0);
        gbc.writeMem(0xb06a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x4a57);
        EXPECT(gbc.pc(), 0xb06c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb06a), 0xcb);
        EXPECT(gbc.readMem(0xb06b), 0xb);
        // CB 0B 015E
        gbc.setState(0x5bcc, 0xb999, 0xcaf0, 0x9e4c, 0xa803, 0x4149, 0x1, 0x0);
        gbc.writeMem(0x5bcc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xb999);
        EXPECT(gbc.pc(), 0x5bce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 015F
        gbc.setState(0x3c69, 0xa877, 0xaca0, 0xfe10, 0xcae6, 0x379e, 0x0, 0x0);
        gbc.writeMem(0x3c69, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xa877);
        EXPECT(gbc.pc(), 0x3c6b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0160
        gbc.setState(0xb0fc, 0x7d5d, 0x6bd0, 0x855, 0x2779, 0x75cb, 0x0, 0x1);
        gbc.writeMem(0xb0fc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x7d5d);
        EXPECT(gbc.pc(), 0xb0fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb0fc), 0xcb);
        EXPECT(gbc.readMem(0xb0fd), 0xb);
        // CB 0B 0161
        gbc.setState(0x3d27, 0xf83a, 0xc5e0, 0x6f28, 0x94a8, 0x93d8, 0x1, 0x0);
        gbc.writeMem(0x3d27, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xf83a);
        EXPECT(gbc.pc(), 0x3d29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0162
        gbc.setState(0x7e43, 0x5d2a, 0xa5d0, 0x2f49, 0x1a35, 0x5fe0, 0x0, 0x1);
        gbc.writeMem(0x7e43, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x5d2a);
        EXPECT(gbc.pc(), 0x7e45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0163
        gbc.setState(0x5edf, 0x2e9a, 0xdbb0, 0x2e7b, 0xf4cc, 0x5262, 0x0, 0x0);
        gbc.writeMem(0x5edf, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x2e9a);
        EXPECT(gbc.pc(), 0x5ee1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0164
        gbc.setState(0x289b, 0x7a1c, 0x3bb0, 0x3713, 0x157a, 0x67ab, 0x1, 0x1);
        gbc.writeMem(0x289b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x7a1c);
        EXPECT(gbc.pc(), 0x289d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0165
        gbc.setState(0xcb24, 0x9596, 0xfc80, 0x6add, 0xcbb9, 0x9d37, 0x0, 0x0);
        gbc.writeMem(0xcb24, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x9596);
        EXPECT(gbc.pc(), 0xcb26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb24), 0xcb);
        EXPECT(gbc.readMem(0xcb25), 0xb);
        // CB 0B 0166
        gbc.setState(0x4884, 0x8541, 0xf820, 0x7602, 0xa89e, 0x16c3, 0x0, 0x1);
        gbc.writeMem(0x4884, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x8541);
        EXPECT(gbc.pc(), 0x4886);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0167
        gbc.setState(0xadc4, 0xee81, 0x3970, 0x75c9, 0xc5f1, 0x8ab5, 0x0, 0x1);
        gbc.writeMem(0xadc4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xee81);
        EXPECT(gbc.pc(), 0xadc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xadc4), 0xcb);
        EXPECT(gbc.readMem(0xadc5), 0xb);
        // CB 0B 0168
        gbc.setState(0xc197, 0x3762, 0x3090, 0x6a2e, 0x1129, 0xcfd8, 0x0, 0x1);
        gbc.writeMem(0xc197, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x3762);
        EXPECT(gbc.pc(), 0xc199);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc197), 0xcb);
        EXPECT(gbc.readMem(0xc198), 0xb);
        // CB 0B 0169
        gbc.setState(0xe1d2, 0x97b5, 0xccb0, 0xc7de, 0xab5f, 0x4183, 0x1, 0x1);
        gbc.writeMem(0xe1d2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x97b5);
        EXPECT(gbc.pc(), 0xe1d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1d2), 0xcb);
        EXPECT(gbc.readMem(0xe1d3), 0xb);
        // CB 0B 016A
        gbc.setState(0x8ee9, 0xd236, 0xf900, 0x3b17, 0x8803, 0x6246, 0x0, 0x1);
        gbc.writeMem(0x8ee9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xd236);
        EXPECT(gbc.pc(), 0x8eeb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8ee9), 0xcb);
        EXPECT(gbc.readMem(0x8eea), 0xb);
        // CB 0B 016B
        gbc.setState(0xd654, 0x4cb4, 0x2420, 0x14aa, 0xa451, 0x67fd, 0x1, 0x1);
        gbc.writeMem(0xd654, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x4cb4);
        EXPECT(gbc.pc(), 0xd656);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd654), 0xcb);
        EXPECT(gbc.readMem(0xd655), 0xb);
        // CB 0B 016E
        gbc.setState(0x4d65, 0x5806, 0x7a0, 0xfc83, 0x57d6, 0xffba, 0x0, 0x0);
        gbc.writeMem(0x4d65, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x5806);
        EXPECT(gbc.pc(), 0x4d67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0170
        gbc.setState(0x1154, 0xc11f, 0x4b30, 0x94e9, 0xbcd, 0xeb7c, 0x1, 0x1);
        gbc.writeMem(0x1154, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xc11f);
        EXPECT(gbc.pc(), 0x1156);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0171
        gbc.setState(0xbe22, 0x959a, 0xc860, 0x9b4, 0xe03c, 0x98bd, 0x1, 0x1);
        gbc.writeMem(0xbe22, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x959a);
        EXPECT(gbc.pc(), 0xbe24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe22), 0xcb);
        EXPECT(gbc.readMem(0xbe23), 0xb);
        // CB 0B 0172
        gbc.setState(0xad, 0x650c, 0x5370, 0xf40a, 0xe00d, 0xd5ce, 0x1, 0x0);
        gbc.writeMem(0xad, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x650c);
        EXPECT(gbc.pc(), 0xaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0173
        gbc.setState(0xdf25, 0x3140, 0x4010, 0x660b, 0x13fa, 0x5dc2, 0x1, 0x0);
        gbc.writeMem(0xdf25, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x3140);
        EXPECT(gbc.pc(), 0xdf27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf25), 0xcb);
        EXPECT(gbc.readMem(0xdf26), 0xb);
        // CB 0B 0174
        gbc.setState(0x3a04, 0xf80e, 0x8510, 0x3801, 0xe1b5, 0x262e, 0x0, 0x0);
        gbc.writeMem(0x3a04, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xf80e);
        EXPECT(gbc.pc(), 0x3a06);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0175
        gbc.setState(0x11ec, 0xa9c7, 0x5970, 0x567a, 0xbc09, 0x6b, 0x0, 0x0);
        gbc.writeMem(0x11ec, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xa9c7);
        EXPECT(gbc.pc(), 0x11ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0176
        gbc.setState(0xac82, 0x21c4, 0x9080, 0xacd0, 0x548c, 0x7826, 0x0, 0x1);
        gbc.writeMem(0xac82, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x21c4);
        EXPECT(gbc.pc(), 0xac84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac82), 0xcb);
        EXPECT(gbc.readMem(0xac83), 0xb);
        // CB 0B 0177
        gbc.setState(0x648c, 0x17ce, 0x6730, 0x537b, 0x35d5, 0xc66c, 0x0, 0x1);
        gbc.writeMem(0x648c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x17ce);
        EXPECT(gbc.pc(), 0x648e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0178
        gbc.setState(0x7026, 0x9743, 0x5730, 0x599a, 0x4717, 0xf4be, 0x0, 0x0);
        gbc.writeMem(0x7026, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x9743);
        EXPECT(gbc.pc(), 0x7028);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0179
        gbc.setState(0x8b09, 0xd525, 0xf850, 0x3534, 0xfccc, 0xf751, 0x0, 0x0);
        gbc.writeMem(0x8b09, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xd525);
        EXPECT(gbc.pc(), 0x8b0b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b09), 0xcb);
        EXPECT(gbc.readMem(0x8b0a), 0xb);
        // CB 0B 017A
        gbc.setState(0xc376, 0x7f21, 0xf890, 0xf4e6, 0x8e3c, 0x2aed, 0x0, 0x0);
        gbc.writeMem(0xc376, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x7f21);
        EXPECT(gbc.pc(), 0xc378);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc376), 0xcb);
        EXPECT(gbc.readMem(0xc377), 0xb);
        // CB 0B 017B
        gbc.setState(0x1f77, 0x2541, 0x8dd0, 0x6063, 0x3aec, 0xe0b, 0x0, 0x0);
        gbc.writeMem(0x1f77, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x2541);
        EXPECT(gbc.pc(), 0x1f79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 017C
        gbc.setState(0x82a5, 0xcd35, 0x8580, 0xccff, 0xe458, 0x6f47, 0x1, 0x1);
        gbc.writeMem(0x82a5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xcd35);
        EXPECT(gbc.pc(), 0x82a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82a5), 0xcb);
        EXPECT(gbc.readMem(0x82a6), 0xb);
        // CB 0B 017D
        gbc.setState(0xbb84, 0xa3bf, 0x88e0, 0x1f1a, 0xb56e, 0x24da, 0x1, 0x0);
        gbc.writeMem(0xbb84, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xa3bf);
        EXPECT(gbc.pc(), 0xbb86);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb84), 0xcb);
        EXPECT(gbc.readMem(0xbb85), 0xb);
        // CB 0B 017E
        gbc.setState(0x87b, 0xb127, 0x19a0, 0xaf59, 0xd996, 0x4e08, 0x0, 0x1);
        gbc.writeMem(0x87b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xb127);
        EXPECT(gbc.pc(), 0x87d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 017F
        gbc.setState(0x9497, 0x7124, 0x8c90, 0x8744, 0x56b1, 0xce82, 0x1, 0x0);
        gbc.writeMem(0x9497, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x7124);
        EXPECT(gbc.pc(), 0x9499);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9497), 0xcb);
        EXPECT(gbc.readMem(0x9498), 0xb);
        // CB 0B 0180
        gbc.setState(0xbcb6, 0x2f0a, 0x9b00, 0x1ca3, 0xccf7, 0x5e83, 0x0, 0x0);
        gbc.writeMem(0xbcb6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x2f0a);
        EXPECT(gbc.pc(), 0xbcb8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbcb6), 0xcb);
        EXPECT(gbc.readMem(0xbcb7), 0xb);
        // CB 0B 0181
        gbc.setState(0x7837, 0x7b11, 0x4aa0, 0x88d5, 0x4801, 0x1c3c, 0x1, 0x0);
        gbc.writeMem(0x7837, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x7b11);
        EXPECT(gbc.pc(), 0x7839);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0182
        gbc.setState(0xbdf, 0x419e, 0xaf00, 0x1108, 0xc21b, 0xbf31, 0x1, 0x1);
        gbc.writeMem(0xbdf, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x419e);
        EXPECT(gbc.pc(), 0xbe1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0183
        gbc.setState(0xb3b0, 0x8710, 0x2280, 0x22e6, 0x7b2e, 0xa878, 0x1, 0x0);
        gbc.writeMem(0xb3b0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x8710);
        EXPECT(gbc.pc(), 0xb3b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3b0), 0xcb);
        EXPECT(gbc.readMem(0xb3b1), 0xb);
        // CB 0B 0184
        gbc.setState(0x6372, 0x7d62, 0x9b90, 0x1f2f, 0x5d3e, 0x7458, 0x1, 0x1);
        gbc.writeMem(0x6372, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x7d62);
        EXPECT(gbc.pc(), 0x6374);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0185
        gbc.setState(0x6404, 0x7a0b, 0x9840, 0x2f, 0x60e0, 0x882e, 0x1, 0x0);
        gbc.writeMem(0x6404, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x7a0b);
        EXPECT(gbc.pc(), 0x6406);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0186
        gbc.setState(0x66a, 0x3ef0, 0xa6d0, 0xcd14, 0x19c6, 0x6dbf, 0x1, 0x0);
        gbc.writeMem(0x66a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x3ef0);
        EXPECT(gbc.pc(), 0x66c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0187
        gbc.setState(0x3875, 0x9ec0, 0xc170, 0x30ac, 0x967f, 0x7f7, 0x0, 0x1);
        gbc.writeMem(0x3875, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x9ec0);
        EXPECT(gbc.pc(), 0x3877);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0188
        gbc.setState(0x55cd, 0xe722, 0xc1c0, 0xd649, 0x6d7e, 0x110a, 0x1, 0x1);
        gbc.writeMem(0x55cd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xe722);
        EXPECT(gbc.pc(), 0x55cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0189
        gbc.setState(0x3a9c, 0x5807, 0x7490, 0x16e3, 0xe973, 0x596, 0x1, 0x1);
        gbc.writeMem(0x3a9c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x5807);
        EXPECT(gbc.pc(), 0x3a9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 018A
        gbc.setState(0xea42, 0xf60a, 0x70, 0x42b4, 0x1f6c, 0x7f33, 0x1, 0x0);
        gbc.writeMem(0xea42, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xf60a);
        EXPECT(gbc.pc(), 0xea44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea42), 0xcb);
        EXPECT(gbc.readMem(0xea43), 0xb);
        // CB 0B 018B
        gbc.setState(0x624e, 0x385f, 0xad50, 0x7423, 0x17dc, 0x1bce, 0x1, 0x1);
        gbc.writeMem(0x624e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x385f);
        EXPECT(gbc.pc(), 0x6250);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 018C
        gbc.setState(0x6263, 0x861d, 0x1230, 0x601d, 0xe022, 0x1bc0, 0x0, 0x0);
        gbc.writeMem(0x6263, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x861d);
        EXPECT(gbc.pc(), 0x6265);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 018D
        gbc.setState(0x5ab, 0xa5bc, 0xa710, 0x72b6, 0xaccc, 0x441d, 0x1, 0x0);
        gbc.writeMem(0x5ab, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xa5bc);
        EXPECT(gbc.pc(), 0x5ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 018F
        gbc.setState(0x33bd, 0xd2f2, 0x7560, 0x23f6, 0x673, 0xa391, 0x1, 0x1);
        gbc.writeMem(0x33bd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xd2f2);
        EXPECT(gbc.pc(), 0x33bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0190
        gbc.setState(0x228c, 0x2b8, 0x7960, 0xb986, 0x670, 0x428e, 0x0, 0x1);
        gbc.writeMem(0x228c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x2b8);
        EXPECT(gbc.pc(), 0x228e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0192
        gbc.setState(0x6aa4, 0x7edf, 0xda60, 0x8ace, 0x8ec6, 0x9a9e, 0x0, 0x0);
        gbc.writeMem(0x6aa4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x7edf);
        EXPECT(gbc.pc(), 0x6aa6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0193
        gbc.setState(0x4f22, 0x204a, 0x4010, 0x701a, 0x74ac, 0x246c, 0x0, 0x1);
        gbc.writeMem(0x4f22, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x204a);
        EXPECT(gbc.pc(), 0x4f24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0194
        gbc.setState(0xaf1c, 0x9882, 0x1a90, 0x9061, 0xad02, 0xc3c2, 0x1, 0x0);
        gbc.writeMem(0xaf1c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x9882);
        EXPECT(gbc.pc(), 0xaf1e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf1c), 0xcb);
        EXPECT(gbc.readMem(0xaf1d), 0xb);
        // CB 0B 0195
        gbc.setState(0x5695, 0x40b2, 0x7980, 0x7bf4, 0x966f, 0xb9f9, 0x1, 0x0);
        gbc.writeMem(0x5695, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x40b2);
        EXPECT(gbc.pc(), 0x5697);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0196
        gbc.setState(0x9164, 0xb835, 0xa3c0, 0x3e9f, 0x73e3, 0x2e96, 0x1, 0x1);
        gbc.writeMem(0x9164, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xb835);
        EXPECT(gbc.pc(), 0x9166);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9164), 0xcb);
        EXPECT(gbc.readMem(0x9165), 0xb);
        // CB 0B 0197
        gbc.setState(0x52ad, 0x55eb, 0x45f0, 0xcc3b, 0x923, 0x8215, 0x0, 0x1);
        gbc.writeMem(0x52ad, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x55eb);
        EXPECT(gbc.pc(), 0x52af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0198
        gbc.setState(0x8bc, 0xde67, 0xd8a0, 0xe427, 0x46f8, 0x102e, 0x0, 0x0);
        gbc.writeMem(0x8bc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xde67);
        EXPECT(gbc.pc(), 0x8be);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0199
        gbc.setState(0xad2e, 0x62b0, 0x9f30, 0x40a7, 0x8c4b, 0xd0e3, 0x1, 0x0);
        gbc.writeMem(0xad2e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x62b0);
        EXPECT(gbc.pc(), 0xad30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad2e), 0xcb);
        EXPECT(gbc.readMem(0xad2f), 0xb);
        // CB 0B 019A
        gbc.setState(0xbffc, 0x61a5, 0x1230, 0xf2c9, 0x25cf, 0xb920, 0x1, 0x0);
        gbc.writeMem(0xbffc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x61a5);
        EXPECT(gbc.pc(), 0xbffe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbffc), 0xcb);
        EXPECT(gbc.readMem(0xbffd), 0xb);
        // CB 0B 019B
        gbc.setState(0x1dcd, 0x313b, 0x3720, 0x6825, 0x23f9, 0x60b, 0x0, 0x1);
        gbc.writeMem(0x1dcd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x313b);
        EXPECT(gbc.pc(), 0x1dcf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 019D
        gbc.setState(0xcdfc, 0xa24c, 0x6830, 0x3c58, 0xa19e, 0x3dbc, 0x1, 0x0);
        gbc.writeMem(0xcdfc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xa24c);
        EXPECT(gbc.pc(), 0xcdfe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdfc), 0xcb);
        EXPECT(gbc.readMem(0xcdfd), 0xb);
        // CB 0B 019E
        gbc.setState(0x2c29, 0xb512, 0xcd90, 0x5a8a, 0x7a1e, 0x36c0, 0x1, 0x1);
        gbc.writeMem(0x2c29, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb512);
        EXPECT(gbc.pc(), 0x2c2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 019F
        gbc.setState(0x84b8, 0x8bcd, 0xfda0, 0x464c, 0x7058, 0x9ad7, 0x0, 0x1);
        gbc.writeMem(0x84b8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x8bcd);
        EXPECT(gbc.pc(), 0x84ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84b8), 0xcb);
        EXPECT(gbc.readMem(0x84b9), 0xb);
        // CB 0B 01A0
        gbc.setState(0xe9c6, 0x523, 0x9690, 0xbfdc, 0x9b1e, 0x79a0, 0x1, 0x0);
        gbc.writeMem(0xe9c6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x523);
        EXPECT(gbc.pc(), 0xe9c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9c6), 0xcb);
        EXPECT(gbc.readMem(0xe9c7), 0xb);
        // CB 0B 01A1
        gbc.setState(0x4da9, 0xca46, 0xc50, 0x2a69, 0xb195, 0x8fc0, 0x0, 0x0);
        gbc.writeMem(0x4da9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xca46);
        EXPECT(gbc.pc(), 0x4dab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01A2
        gbc.setState(0x2507, 0xf68e, 0x3570, 0x9cf5, 0x17da, 0xb957, 0x1, 0x0);
        gbc.writeMem(0x2507, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xf68e);
        EXPECT(gbc.pc(), 0x2509);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01A3
        gbc.setState(0x228b, 0x86c9, 0x94f0, 0xed6, 0xbbc2, 0xc263, 0x0, 0x1);
        gbc.writeMem(0x228b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x86c9);
        EXPECT(gbc.pc(), 0x228d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01A4
        gbc.setState(0x435a, 0x408, 0x8b60, 0x584e, 0x1155, 0xb5ce, 0x1, 0x1);
        gbc.writeMem(0x435a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x408);
        EXPECT(gbc.pc(), 0x435c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01A6
        gbc.setState(0xcb9c, 0xdacc, 0xbb20, 0x2d68, 0xa76b, 0x4283, 0x0, 0x0);
        gbc.writeMem(0xcb9c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xdacc);
        EXPECT(gbc.pc(), 0xcb9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb9c), 0xcb);
        EXPECT(gbc.readMem(0xcb9d), 0xb);
        // CB 0B 01A7
        gbc.setState(0xb2be, 0xd508, 0xad50, 0xa85e, 0xeb82, 0x58bc, 0x1, 0x1);
        gbc.writeMem(0xb2be, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd508);
        EXPECT(gbc.pc(), 0xb2c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2be), 0xcb);
        EXPECT(gbc.readMem(0xb2bf), 0xb);
        // CB 0B 01A8
        gbc.setState(0xe066, 0x8d, 0xb570, 0xad78, 0xdd5e, 0x2d16, 0x1, 0x1);
        gbc.writeMem(0xe066, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x8d);
        EXPECT(gbc.pc(), 0xe068);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe066), 0xcb);
        EXPECT(gbc.readMem(0xe067), 0xb);
        // CB 0B 01A9
        gbc.setState(0x4280, 0xefce, 0x71f0, 0x8e1e, 0x49bd, 0xd0e4, 0x0, 0x0);
        gbc.writeMem(0x4280, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xefce);
        EXPECT(gbc.pc(), 0x4282);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01AA
        gbc.setState(0xafd2, 0x653a, 0x6840, 0x99ce, 0x7606, 0xb530, 0x1, 0x1);
        gbc.writeMem(0xafd2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x653a);
        EXPECT(gbc.pc(), 0xafd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafd2), 0xcb);
        EXPECT(gbc.readMem(0xafd3), 0xb);
        // CB 0B 01AB
        gbc.setState(0x3ba7, 0xc2a8, 0x960, 0xdec7, 0x7c4d, 0xb97e, 0x0, 0x0);
        gbc.writeMem(0x3ba7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xc2a8);
        EXPECT(gbc.pc(), 0x3ba9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01AC
        gbc.setState(0xd175, 0x8756, 0x7b10, 0xe0c, 0x744a, 0x88fb, 0x0, 0x1);
        gbc.writeMem(0xd175, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x8756);
        EXPECT(gbc.pc(), 0xd177);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd175), 0xcb);
        EXPECT(gbc.readMem(0xd176), 0xb);
        // CB 0B 01AD
        gbc.setState(0x669d, 0x2551, 0x8e70, 0x456b, 0x1210, 0xb745, 0x1, 0x0);
        gbc.writeMem(0x669d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x2551);
        EXPECT(gbc.pc(), 0x669f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01AE
        gbc.setState(0xeac2, 0xae81, 0x1330, 0xa8f8, 0x1b46, 0xc8ec, 0x0, 0x1);
        gbc.writeMem(0xeac2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xae81);
        EXPECT(gbc.pc(), 0xeac4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeac2), 0xcb);
        EXPECT(gbc.readMem(0xeac3), 0xb);
        // CB 0B 01AF
        gbc.setState(0xb2ac, 0x95b0, 0x3af0, 0x350f, 0x3fb, 0xf60b, 0x0, 0x0);
        gbc.writeMem(0xb2ac, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x95b0);
        EXPECT(gbc.pc(), 0xb2ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2ac), 0xcb);
        EXPECT(gbc.readMem(0xb2ad), 0xb);
        // CB 0B 01B0
        gbc.setState(0x7cd, 0xb88a, 0xcd30, 0x60d8, 0x7e1b, 0x98c9, 0x0, 0x1);
        gbc.writeMem(0x7cd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xb88a);
        EXPECT(gbc.pc(), 0x7cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01B1
        gbc.setState(0xb251, 0x1963, 0x70f0, 0x1f96, 0xb0ef, 0xa8ba, 0x1, 0x1);
        gbc.writeMem(0xb251, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x1963);
        EXPECT(gbc.pc(), 0xb253);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb251), 0xcb);
        EXPECT(gbc.readMem(0xb252), 0xb);
        // CB 0B 01B2
        gbc.setState(0x61b5, 0x99db, 0x19f0, 0xa8e2, 0xda8c, 0x5987, 0x0, 0x0);
        gbc.writeMem(0x61b5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x99db);
        EXPECT(gbc.pc(), 0x61b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01B4
        gbc.setState(0x7dbb, 0xd897, 0xaa90, 0xdab2, 0xcdaa, 0xa05d, 0x1, 0x0);
        gbc.writeMem(0x7dbb, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xd897);
        EXPECT(gbc.pc(), 0x7dbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01B5
        gbc.setState(0x96ca, 0xcbfd, 0xde80, 0x9ea2, 0x4942, 0x841d, 0x0, 0x1);
        gbc.writeMem(0x96ca, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xcbfd);
        EXPECT(gbc.pc(), 0x96cc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96ca), 0xcb);
        EXPECT(gbc.readMem(0x96cb), 0xb);
        // CB 0B 01B6
        gbc.setState(0x7ec6, 0x3b0a, 0x8770, 0x68d0, 0x5bee, 0x31a0, 0x0, 0x0);
        gbc.writeMem(0x7ec6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x3b0a);
        EXPECT(gbc.pc(), 0x7ec8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01B7
        gbc.setState(0x89cc, 0xf764, 0xf360, 0x2291, 0x1057, 0x3c83, 0x0, 0x0);
        gbc.writeMem(0x89cc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xf764);
        EXPECT(gbc.pc(), 0x89ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x89cc), 0xcb);
        EXPECT(gbc.readMem(0x89cd), 0xb);
        // CB 0B 01B8
        gbc.setState(0xd096, 0xd45d, 0x4900, 0x8b56, 0x8aac, 0xbe72, 0x0, 0x1);
        gbc.writeMem(0xd096, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd45d);
        EXPECT(gbc.pc(), 0xd098);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd096), 0xcb);
        EXPECT(gbc.readMem(0xd097), 0xb);
        // CB 0B 01B9
        gbc.setState(0x1389, 0x4b1d, 0xdf70, 0x99ce, 0x4358, 0x149c, 0x1, 0x1);
        gbc.writeMem(0x1389, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x4b1d);
        EXPECT(gbc.pc(), 0x138b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01BA
        gbc.setState(0xb03d, 0xceb9, 0x9950, 0x7134, 0x77a5, 0x5ec4, 0x0, 0x1);
        gbc.writeMem(0xb03d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xceb9);
        EXPECT(gbc.pc(), 0xb03f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb03d), 0xcb);
        EXPECT(gbc.readMem(0xb03e), 0xb);
        // CB 0B 01BB
        gbc.setState(0xdcc8, 0x7198, 0x3340, 0x6c8, 0x9377, 0xbe67, 0x1, 0x0);
        gbc.writeMem(0xdcc8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x7198);
        EXPECT(gbc.pc(), 0xdcca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdcc8), 0xcb);
        EXPECT(gbc.readMem(0xdcc9), 0xb);
        // CB 0B 01BC
        gbc.setState(0x68b8, 0xb528, 0x8c40, 0x9739, 0xa899, 0xaacf, 0x1, 0x0);
        gbc.writeMem(0x68b8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xb528);
        EXPECT(gbc.pc(), 0x68ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01BD
        gbc.setState(0x78d3, 0x679b, 0xa540, 0x5aaa, 0x5aa4, 0x9a34, 0x1, 0x1);
        gbc.writeMem(0x78d3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x679b);
        EXPECT(gbc.pc(), 0x78d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01BE
        gbc.setState(0xe74f, 0x3e23, 0xd3d0, 0x910f, 0x250e, 0xe470, 0x0, 0x0);
        gbc.writeMem(0xe74f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x3e23);
        EXPECT(gbc.pc(), 0xe751);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe74f), 0xcb);
        EXPECT(gbc.readMem(0xe750), 0xb);
        // CB 0B 01BF
        gbc.setState(0xe45c, 0x6aa5, 0x40d0, 0x3d83, 0x43fa, 0x4e82, 0x0, 0x0);
        gbc.writeMem(0xe45c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x6aa5);
        EXPECT(gbc.pc(), 0xe45e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe45c), 0xcb);
        EXPECT(gbc.readMem(0xe45d), 0xb);
        // CB 0B 01C0
        gbc.setState(0x52a8, 0x7daa, 0x34f0, 0xb8bb, 0xff21, 0x1619, 0x0, 0x0);
        gbc.writeMem(0x52a8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x7daa);
        EXPECT(gbc.pc(), 0x52aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01C1
        gbc.setState(0x4a9a, 0x1303, 0x2670, 0xed2b, 0x2506, 0xbbb, 0x0, 0x1);
        gbc.writeMem(0x4a9a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x1303);
        EXPECT(gbc.pc(), 0x4a9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01C2
        gbc.setState(0x2512, 0xe9e3, 0x2120, 0x5fcb, 0xcb41, 0xa974, 0x1, 0x0);
        gbc.writeMem(0x2512, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xe9e3);
        EXPECT(gbc.pc(), 0x2514);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01C3
        gbc.setState(0x6ea1, 0x90e4, 0x22b0, 0x24b5, 0xb76c, 0xd5ad, 0x1, 0x1);
        gbc.writeMem(0x6ea1, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x90e4);
        EXPECT(gbc.pc(), 0x6ea3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01C4
        gbc.setState(0xb024, 0xd39f, 0x38b0, 0x1bbc, 0x22ab, 0x14f4, 0x0, 0x1);
        gbc.writeMem(0xb024, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xd39f);
        EXPECT(gbc.pc(), 0xb026);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb024), 0xcb);
        EXPECT(gbc.readMem(0xb025), 0xb);
        // CB 0B 01C6
        gbc.setState(0x2b3a, 0xf6bc, 0xd060, 0xe7d9, 0x804e, 0x769f, 0x0, 0x1);
        gbc.writeMem(0x2b3a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xf6bc);
        EXPECT(gbc.pc(), 0x2b3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01C7
        gbc.setState(0xb33b, 0xbc22, 0xe2b0, 0x48b3, 0x5c83, 0x2032, 0x1, 0x0);
        gbc.writeMem(0xb33b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0xbc22);
        EXPECT(gbc.pc(), 0xb33d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb33b), 0xcb);
        EXPECT(gbc.readMem(0xb33c), 0xb);
        // CB 0B 01C8
        gbc.setState(0x5972, 0xfbb5, 0xaeb0, 0xc316, 0xa0bd, 0x9a8c, 0x0, 0x1);
        gbc.writeMem(0x5972, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xfbb5);
        EXPECT(gbc.pc(), 0x5974);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01C9
        gbc.setState(0x6de9, 0x211e, 0x1340, 0x1074, 0x267b, 0x30e0, 0x0, 0x1);
        gbc.writeMem(0x6de9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x211e);
        EXPECT(gbc.pc(), 0x6deb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01CA
        gbc.setState(0x64a5, 0x36b6, 0xae00, 0x2793, 0x9d79, 0x8456, 0x0, 0x1);
        gbc.writeMem(0x64a5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x36b6);
        EXPECT(gbc.pc(), 0x64a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01CB
        gbc.setState(0x780b, 0xbc1c, 0x8060, 0x10e0, 0x2181, 0xc6ea, 0x0, 0x1);
        gbc.writeMem(0x780b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xbc1c);
        EXPECT(gbc.pc(), 0x780d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01CC
        gbc.setState(0x7bc7, 0xe9b0, 0x89a0, 0xf99a, 0x6110, 0xb314, 0x0, 0x1);
        gbc.writeMem(0x7bc7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xe9b0);
        EXPECT(gbc.pc(), 0x7bc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01CD
        gbc.setState(0x955e, 0x9e09, 0x1aa0, 0x9296, 0xd6f9, 0x6332, 0x1, 0x1);
        gbc.writeMem(0x955e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x9e09);
        EXPECT(gbc.pc(), 0x9560);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x955e), 0xcb);
        EXPECT(gbc.readMem(0x955f), 0xb);
        // CB 0B 01CE
        gbc.setState(0x7fd6, 0x8eca, 0xfc80, 0xb745, 0xf703, 0xeca, 0x0, 0x0);
        gbc.writeMem(0x7fd6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x8eca);
        EXPECT(gbc.pc(), 0x7fd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01CF
        gbc.setState(0x84be, 0x280d, 0xef10, 0x993c, 0xd282, 0x28b2, 0x0, 0x0);
        gbc.writeMem(0x84be, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x280d);
        EXPECT(gbc.pc(), 0x84c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84be), 0xcb);
        EXPECT(gbc.readMem(0x84bf), 0xb);
        // CB 0B 01D1
        gbc.setState(0xc4a1, 0x5020, 0x6860, 0xaa42, 0x1a9, 0x5068, 0x1, 0x0);
        gbc.writeMem(0xc4a1, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x5020);
        EXPECT(gbc.pc(), 0xc4a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4a1), 0xcb);
        EXPECT(gbc.readMem(0xc4a2), 0xb);
        // CB 0B 01D2
        gbc.setState(0x7ba4, 0x8d78, 0x2920, 0x484a, 0xcfd3, 0xa96b, 0x1, 0x0);
        gbc.writeMem(0x7ba4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x8d78);
        EXPECT(gbc.pc(), 0x7ba6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01D3
        gbc.setState(0x4cc9, 0x9eb, 0x9410, 0x7dfe, 0x6eb9, 0xe550, 0x1, 0x0);
        gbc.writeMem(0x4cc9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x9eb);
        EXPECT(gbc.pc(), 0x4ccb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01D4
        gbc.setState(0x7172, 0xa0af, 0x1b0, 0x419a, 0x821b, 0x8ee8, 0x1, 0x0);
        gbc.writeMem(0x7172, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xa0af);
        EXPECT(gbc.pc(), 0x7174);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01D5
        gbc.setState(0x245a, 0x4524, 0xf730, 0xc332, 0xd6a3, 0x69e4, 0x1, 0x0);
        gbc.writeMem(0x245a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x4524);
        EXPECT(gbc.pc(), 0x245c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01D6
        gbc.setState(0x61cb, 0xc03f, 0x5f20, 0x3f7e, 0xe464, 0xf2a4, 0x1, 0x1);
        gbc.writeMem(0x61cb, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xc03f);
        EXPECT(gbc.pc(), 0x61cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01D7
        gbc.setState(0xa90b, 0xfe4d, 0xd40, 0x3f3e, 0xe341, 0xc3da, 0x1, 0x0);
        gbc.writeMem(0xa90b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xfe4d);
        EXPECT(gbc.pc(), 0xa90d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa90b), 0xcb);
        EXPECT(gbc.readMem(0xa90c), 0xb);
        // CB 0B 01D8
        gbc.setState(0x282a, 0x20fc, 0xff80, 0x8af9, 0x9825, 0x802b, 0x0, 0x1);
        gbc.writeMem(0x282a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x20fc);
        EXPECT(gbc.pc(), 0x282c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01D9
        gbc.setState(0xe1db, 0x35a4, 0xc760, 0xc20c, 0x10de, 0x9d0, 0x0, 0x0);
        gbc.writeMem(0xe1db, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x35a4);
        EXPECT(gbc.pc(), 0xe1dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1db), 0xcb);
        EXPECT(gbc.readMem(0xe1dc), 0xb);
        // CB 0B 01DA
        gbc.setState(0xec98, 0xd852, 0x3850, 0x66f0, 0x904a, 0x99da, 0x1, 0x0);
        gbc.writeMem(0xec98, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xd852);
        EXPECT(gbc.pc(), 0xec9a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec98), 0xcb);
        EXPECT(gbc.readMem(0xec99), 0xb);
        // CB 0B 01DB
        gbc.setState(0x8b94, 0x6d94, 0x9da0, 0xcc8e, 0xd28e, 0xf9a9, 0x0, 0x0);
        gbc.writeMem(0x8b94, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x6d94);
        EXPECT(gbc.pc(), 0x8b96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b94), 0xcb);
        EXPECT(gbc.readMem(0x8b95), 0xb);
        // CB 0B 01DD
        gbc.setState(0xb2d7, 0xc124, 0x5c00, 0x422e, 0xa251, 0x2aa, 0x0, 0x0);
        gbc.writeMem(0xb2d7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xc124);
        EXPECT(gbc.pc(), 0xb2d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2d7), 0xcb);
        EXPECT(gbc.readMem(0xb2d8), 0xb);
        // CB 0B 01DE
        gbc.setState(0x9758, 0x9ad3, 0x2810, 0xced6, 0x5802, 0xa5c0, 0x1, 0x1);
        gbc.writeMem(0x9758, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x9ad3);
        EXPECT(gbc.pc(), 0x975a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9758), 0xcb);
        EXPECT(gbc.readMem(0x9759), 0xb);
        // CB 0B 01DF
        gbc.setState(0x8db3, 0x7acf, 0xc920, 0x7f9c, 0x5513, 0x23a8, 0x1, 0x0);
        gbc.writeMem(0x8db3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x7acf);
        EXPECT(gbc.pc(), 0x8db5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8db3), 0xcb);
        EXPECT(gbc.readMem(0x8db4), 0xb);
        // CB 0B 01E0
        gbc.setState(0xe945, 0xaf60, 0x30f0, 0x3877, 0xadb, 0xaf87, 0x1, 0x1);
        gbc.writeMem(0xe945, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xaf60);
        EXPECT(gbc.pc(), 0xe947);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe945), 0xcb);
        EXPECT(gbc.readMem(0xe946), 0xb);
        // CB 0B 01E1
        gbc.setState(0xaa9b, 0x824, 0xbc90, 0xfac6, 0x5f51, 0x6357, 0x0, 0x1);
        gbc.writeMem(0xaa9b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x824);
        EXPECT(gbc.pc(), 0xaa9d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa9b), 0xcb);
        EXPECT(gbc.readMem(0xaa9c), 0xb);
        // CB 0B 01E2
        gbc.setState(0xaf25, 0xade4, 0x6a40, 0x8621, 0x658c, 0x8ea7, 0x1, 0x0);
        gbc.writeMem(0xaf25, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xade4);
        EXPECT(gbc.pc(), 0xaf27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf25), 0xcb);
        EXPECT(gbc.readMem(0xaf26), 0xb);
        // CB 0B 01E3
        gbc.setState(0x32bd, 0x4432, 0xba80, 0xd851, 0xaf59, 0x92a4, 0x0, 0x0);
        gbc.writeMem(0x32bd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x4432);
        EXPECT(gbc.pc(), 0x32bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01E4
        gbc.setState(0xe5a1, 0x81df, 0x61d0, 0xaebb, 0xea0b, 0xdc13, 0x0, 0x1);
        gbc.writeMem(0xe5a1, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x81df);
        EXPECT(gbc.pc(), 0xe5a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe5a1), 0xcb);
        EXPECT(gbc.readMem(0xe5a2), 0xb);
        // CB 0B 01E5
        gbc.setState(0xc2a3, 0x30ae, 0xffd0, 0x6e5, 0x68d8, 0x7f29, 0x1, 0x0);
        gbc.writeMem(0xc2a3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x30ae);
        EXPECT(gbc.pc(), 0xc2a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2a3), 0xcb);
        EXPECT(gbc.readMem(0xc2a4), 0xb);
        // CB 0B 01E6
        gbc.setState(0xa700, 0x6063, 0xd6a0, 0x3d0f, 0x47ea, 0xbed0, 0x0, 0x0);
        gbc.writeMem(0xa700, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x6063);
        EXPECT(gbc.pc(), 0xa702);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa700), 0xcb);
        EXPECT(gbc.readMem(0xa701), 0xb);
        // CB 0B 01E7
        gbc.setState(0x6a4b, 0x7260, 0x9bf0, 0xb6af, 0x2edd, 0x57a1, 0x0, 0x0);
        gbc.writeMem(0x6a4b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x7260);
        EXPECT(gbc.pc(), 0x6a4d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01E8
        gbc.setState(0xa760, 0x60b6, 0x1090, 0xc35d, 0xeeb1, 0xacc9, 0x1, 0x1);
        gbc.writeMem(0xa760, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x60b6);
        EXPECT(gbc.pc(), 0xa762);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa760), 0xcb);
        EXPECT(gbc.readMem(0xa761), 0xb);
        // CB 0B 01E9
        gbc.setState(0xaf, 0x9a98, 0x4c90, 0xd7c0, 0xb47d, 0xfb03, 0x1, 0x0);
        gbc.writeMem(0xaf, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x9a98);
        EXPECT(gbc.pc(), 0xb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01EA
        gbc.setState(0x3e40, 0x9817, 0xf4d0, 0x42b5, 0x5b9c, 0xd94c, 0x1, 0x1);
        gbc.writeMem(0x3e40, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x9817);
        EXPECT(gbc.pc(), 0x3e42);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01EB
        gbc.setState(0xbfd0, 0xdfc, 0x9ce0, 0xbba4, 0xe964, 0xa2d4, 0x1, 0x1);
        gbc.writeMem(0xbfd0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xdfc);
        EXPECT(gbc.pc(), 0xbfd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfd0), 0xcb);
        EXPECT(gbc.readMem(0xbfd1), 0xb);
        // CB 0B 01EC
        gbc.setState(0x57ac, 0xedeb, 0xb740, 0x3a05, 0xb1cd, 0x5aef, 0x1, 0x1);
        gbc.writeMem(0x57ac, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xedeb);
        EXPECT(gbc.pc(), 0x57ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01EE
        gbc.setState(0xdb24, 0x68b9, 0x560, 0xd0b3, 0xee82, 0x7585, 0x1, 0x1);
        gbc.writeMem(0xdb24, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x68b9);
        EXPECT(gbc.pc(), 0xdb26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb24), 0xcb);
        EXPECT(gbc.readMem(0xdb25), 0xb);
        // CB 0B 01EF
        gbc.setState(0x5343, 0x999a, 0x2960, 0xb6c7, 0xc65c, 0xfe60, 0x0, 0x1);
        gbc.writeMem(0x5343, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x999a);
        EXPECT(gbc.pc(), 0x5345);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01F1
        gbc.setState(0x1d36, 0xd64f, 0xd340, 0xbb96, 0x6075, 0x4043, 0x1, 0x1);
        gbc.writeMem(0x1d36, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xd64f);
        EXPECT(gbc.pc(), 0x1d38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01F2
        gbc.setState(0xaa7a, 0xade6, 0x4ed0, 0xa284, 0xc459, 0xe599, 0x1, 0x0);
        gbc.writeMem(0xaa7a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xade6);
        EXPECT(gbc.pc(), 0xaa7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa7a), 0xcb);
        EXPECT(gbc.readMem(0xaa7b), 0xb);
        // CB 0B 01F3
        gbc.setState(0xcd5, 0xb76, 0x3da0, 0x3d9, 0x858f, 0x8a47, 0x0, 0x1);
        gbc.writeMem(0xcd5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xb76);
        EXPECT(gbc.pc(), 0xcd7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01F4
        gbc.setState(0xad50, 0xcec8, 0x5020, 0xbcde, 0xfee6, 0xfc6e, 0x0, 0x1);
        gbc.writeMem(0xad50, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xcec8);
        EXPECT(gbc.pc(), 0xad52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad50), 0xcb);
        EXPECT(gbc.readMem(0xad51), 0xb);
        // CB 0B 01F5
        gbc.setState(0xab44, 0x889e, 0x1e70, 0x7fe4, 0xe213, 0x779a, 0x1, 0x0);
        gbc.writeMem(0xab44, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x889e);
        EXPECT(gbc.pc(), 0xab46);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab44), 0xcb);
        EXPECT(gbc.readMem(0xab45), 0xb);
        // CB 0B 01F6
        gbc.setState(0x6b4a, 0x821c, 0x8ac0, 0xad76, 0xe005, 0xddab, 0x1, 0x0);
        gbc.writeMem(0x6b4a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x821c);
        EXPECT(gbc.pc(), 0x6b4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01F7
        gbc.setState(0x28af, 0x84ec, 0xcc60, 0x91bc, 0x778e, 0x6aa6, 0x1, 0x0);
        gbc.writeMem(0x28af, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x84ec);
        EXPECT(gbc.pc(), 0x28b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01F8
        gbc.setState(0x7583, 0x4ea6, 0xe3f0, 0xe677, 0xb61a, 0xf33b, 0x0, 0x0);
        gbc.writeMem(0x7583, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x4ea6);
        EXPECT(gbc.pc(), 0x7585);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01F9
        gbc.setState(0xc503, 0xeea2, 0xf760, 0xa10f, 0x1945, 0x237e, 0x1, 0x1);
        gbc.writeMem(0xc503, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xeea2);
        EXPECT(gbc.pc(), 0xc505);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc503), 0xcb);
        EXPECT(gbc.readMem(0xc504), 0xb);
        // CB 0B 01FA
        gbc.setState(0x3fe0, 0x8622, 0x6240, 0xe18, 0x91b8, 0x4885, 0x0, 0x1);
        gbc.writeMem(0x3fe0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x8622);
        EXPECT(gbc.pc(), 0x3fe2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01FC
        gbc.setState(0x3d85, 0xef10, 0xbdb0, 0xacfa, 0xfc84, 0x926e, 0x1, 0x1);
        gbc.writeMem(0x3d85, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xef10);
        EXPECT(gbc.pc(), 0x3d87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 01FD
        gbc.setState(0x84e9, 0x8fbe, 0x7460, 0xb790, 0x1215, 0x2845, 0x0, 0x0);
        gbc.writeMem(0x84e9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x8fbe);
        EXPECT(gbc.pc(), 0x84eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84e9), 0xcb);
        EXPECT(gbc.readMem(0x84ea), 0xb);
        // CB 0B 01FE
        gbc.setState(0x8fc, 0x11f5, 0x6a00, 0x30bf, 0x92bd, 0x4627, 0x0, 0x0);
        gbc.writeMem(0x8fc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x11f5);
        EXPECT(gbc.pc(), 0x8fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 01FF
        gbc.setState(0x6b8e, 0x3d4d, 0x51d0, 0xd348, 0x23d2, 0xb022, 0x1, 0x0);
        gbc.writeMem(0x6b8e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x3d4d);
        EXPECT(gbc.pc(), 0x6b90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0200
        gbc.setState(0x6f8, 0x8004, 0xda00, 0x854e, 0x74b7, 0xf45e, 0x1, 0x0);
        gbc.writeMem(0x6f8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x8004);
        EXPECT(gbc.pc(), 0x6fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0201
        gbc.setState(0xc3a5, 0x2244, 0xa3e0, 0x776f, 0xdb3, 0x587c, 0x0, 0x0);
        gbc.writeMem(0xc3a5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x2244);
        EXPECT(gbc.pc(), 0xc3a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc3a5), 0xcb);
        EXPECT(gbc.readMem(0xc3a6), 0xb);
        // CB 0B 0202
        gbc.setState(0x553e, 0xa8e1, 0x4a00, 0x2ee5, 0x8ad9, 0xdfb5, 0x0, 0x1);
        gbc.writeMem(0x553e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xa8e1);
        EXPECT(gbc.pc(), 0x5540);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0203
        gbc.setState(0x99af, 0xa45d, 0xc180, 0x12a5, 0x567f, 0x4ac2, 0x0, 0x0);
        gbc.writeMem(0x99af, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xa45d);
        EXPECT(gbc.pc(), 0x99b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99af), 0xcb);
        EXPECT(gbc.readMem(0x99b0), 0xb);
        // CB 0B 0204
        gbc.setState(0x9c58, 0xa8af, 0xb7d0, 0x52c8, 0x3614, 0x89c6, 0x1, 0x0);
        gbc.writeMem(0x9c58, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xa8af);
        EXPECT(gbc.pc(), 0x9c5a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c58), 0xcb);
        EXPECT(gbc.readMem(0x9c59), 0xb);
        // CB 0B 0205
        gbc.setState(0x34cf, 0x59c7, 0xb070, 0x538e, 0xf31a, 0x39da, 0x1, 0x1);
        gbc.writeMem(0x34cf, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x59c7);
        EXPECT(gbc.pc(), 0x34d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0206
        gbc.setState(0xd796, 0x7ae1, 0x2600, 0x87a4, 0x6b2a, 0xc054, 0x0, 0x1);
        gbc.writeMem(0xd796, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x7ae1);
        EXPECT(gbc.pc(), 0xd798);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd796), 0xcb);
        EXPECT(gbc.readMem(0xd797), 0xb);
        // CB 0B 0207
        gbc.setState(0x83e, 0x10d0, 0xe630, 0x2dc3, 0x99ac, 0x7fa2, 0x0, 0x1);
        gbc.writeMem(0x83e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x10d0);
        EXPECT(gbc.pc(), 0x840);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0208
        gbc.setState(0x63ba, 0xe6f1, 0xd940, 0x520e, 0x9350, 0xd95, 0x0, 0x0);
        gbc.writeMem(0x63ba, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xe6f1);
        EXPECT(gbc.pc(), 0x63bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0209
        gbc.setState(0xac66, 0x28af, 0x81c0, 0x56f4, 0x1da2, 0xeac0, 0x0, 0x1);
        gbc.writeMem(0xac66, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x28af);
        EXPECT(gbc.pc(), 0xac68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac66), 0xcb);
        EXPECT(gbc.readMem(0xac67), 0xb);
        // CB 0B 020A
        gbc.setState(0x7ce8, 0x9b06, 0x4450, 0x5730, 0x7f75, 0x6178, 0x1, 0x0);
        gbc.writeMem(0x7ce8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x9b06);
        EXPECT(gbc.pc(), 0x7cea);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 020B
        gbc.setState(0xdf33, 0xb984, 0x6d00, 0x733a, 0xeadd, 0x2382, 0x1, 0x0);
        gbc.writeMem(0xdf33, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xb984);
        EXPECT(gbc.pc(), 0xdf35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdf33), 0xcb);
        EXPECT(gbc.readMem(0xdf34), 0xb);
        // CB 0B 020C
        gbc.setState(0xa8de, 0x82f1, 0x3920, 0xf755, 0x5ec5, 0xb871, 0x0, 0x0);
        gbc.writeMem(0xa8de, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x82f1);
        EXPECT(gbc.pc(), 0xa8e0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa8de), 0xcb);
        EXPECT(gbc.readMem(0xa8df), 0xb);
        // CB 0B 020D
        gbc.setState(0x311c, 0xc954, 0x72d0, 0xdffe, 0xb653, 0xc8dd, 0x1, 0x1);
        gbc.writeMem(0x311c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xc954);
        EXPECT(gbc.pc(), 0x311e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 020E
        gbc.setState(0xabc7, 0xdf34, 0x9380, 0x37c5, 0x8686, 0x425, 0x0, 0x0);
        gbc.writeMem(0xabc7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xdf34);
        EXPECT(gbc.pc(), 0xabc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabc7), 0xcb);
        EXPECT(gbc.readMem(0xabc8), 0xb);
        // CB 0B 020F
        gbc.setState(0x899e, 0x6489, 0xdef0, 0x7f73, 0x7e9, 0x3c64, 0x1, 0x1);
        gbc.writeMem(0x899e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x6489);
        EXPECT(gbc.pc(), 0x89a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x899e), 0xcb);
        EXPECT(gbc.readMem(0x899f), 0xb);
        // CB 0B 0210
        gbc.setState(0x34b5, 0x82f8, 0x2450, 0xcd6, 0x3b87, 0x26a3, 0x0, 0x0);
        gbc.writeMem(0x34b5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x82f8);
        EXPECT(gbc.pc(), 0x34b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0211
        gbc.setState(0xe723, 0x7cd9, 0xff80, 0x555c, 0x1c3e, 0x12ff, 0x1, 0x0);
        gbc.writeMem(0xe723, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x7cd9);
        EXPECT(gbc.pc(), 0xe725);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe723), 0xcb);
        EXPECT(gbc.readMem(0xe724), 0xb);
        // CB 0B 0212
        gbc.setState(0x4f2e, 0x4e5, 0x2a90, 0x4c01, 0x61a7, 0xf468, 0x0, 0x1);
        gbc.writeMem(0x4f2e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x4e5);
        EXPECT(gbc.pc(), 0x4f30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0213
        gbc.setState(0x9eee, 0x1a, 0xae80, 0x9c2d, 0xf0f0, 0x7495, 0x0, 0x0);
        gbc.writeMem(0x9eee, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x1a);
        EXPECT(gbc.pc(), 0x9ef0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eee), 0xcb);
        EXPECT(gbc.readMem(0x9eef), 0xb);
        // CB 0B 0214
        gbc.setState(0xbe8e, 0xd54f, 0x44d0, 0x345e, 0x1658, 0xcc21, 0x0, 0x0);
        gbc.writeMem(0xbe8e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xd54f);
        EXPECT(gbc.pc(), 0xbe90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe8e), 0xcb);
        EXPECT(gbc.readMem(0xbe8f), 0xb);
        // CB 0B 0215
        gbc.setState(0x6dca, 0x8eed, 0x2660, 0xfd9, 0xeb8d, 0xec5f, 0x1, 0x1);
        gbc.writeMem(0x6dca, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x8eed);
        EXPECT(gbc.pc(), 0x6dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0216
        gbc.setState(0x7b38, 0xc4e2, 0x6100, 0xd33, 0xf4a0, 0x25d9, 0x1, 0x1);
        gbc.writeMem(0x7b38, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xc4e2);
        EXPECT(gbc.pc(), 0x7b3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0217
        gbc.setState(0x4436, 0xf655, 0x42a0, 0xe284, 0xd4a5, 0x78aa, 0x1, 0x1);
        gbc.writeMem(0x4436, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xf655);
        EXPECT(gbc.pc(), 0x4438);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0218
        gbc.setState(0x1448, 0x49a, 0xe020, 0x3eaa, 0x288d, 0x1034, 0x0, 0x0);
        gbc.writeMem(0x1448, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x49a);
        EXPECT(gbc.pc(), 0x144a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0219
        gbc.setState(0xc320, 0x7267, 0x1d70, 0x2f6b, 0x21f8, 0xebf1, 0x1, 0x1);
        gbc.writeMem(0xc320, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x7267);
        EXPECT(gbc.pc(), 0xc322);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc320), 0xcb);
        EXPECT(gbc.readMem(0xc321), 0xb);
        // CB 0B 021B
        gbc.setState(0x639c, 0xf0f9, 0x2bd0, 0xf376, 0xf208, 0x694c, 0x1, 0x1);
        gbc.writeMem(0x639c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xf0f9);
        EXPECT(gbc.pc(), 0x639e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 021C
        gbc.setState(0x2a2, 0x48c2, 0x900, 0x8934, 0xcbfa, 0xbc35, 0x0, 0x1);
        gbc.writeMem(0x2a2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x48c2);
        EXPECT(gbc.pc(), 0x2a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 021D
        gbc.setState(0x9153, 0x500e, 0xdda0, 0x181b, 0x6b5f, 0x7803, 0x1, 0x1);
        gbc.writeMem(0x9153, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x500e);
        EXPECT(gbc.pc(), 0x9155);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9153), 0xcb);
        EXPECT(gbc.readMem(0x9154), 0xb);
        // CB 0B 021E
        gbc.setState(0xa749, 0x8b7, 0xe400, 0xf4b5, 0x293d, 0x8773, 0x0, 0x1);
        gbc.writeMem(0xa749, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x8b7);
        EXPECT(gbc.pc(), 0xa74b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa749), 0xcb);
        EXPECT(gbc.readMem(0xa74a), 0xb);
        // CB 0B 021F
        gbc.setState(0x3dd5, 0x709c, 0x4e80, 0x7cb3, 0xfe44, 0xd189, 0x1, 0x1);
        gbc.writeMem(0x3dd5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x709c);
        EXPECT(gbc.pc(), 0x3dd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0220
        gbc.setState(0x8b74, 0x295c, 0x4950, 0x950e, 0x1bdc, 0xd8d1, 0x1, 0x0);
        gbc.writeMem(0x8b74, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x295c);
        EXPECT(gbc.pc(), 0x8b76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b74), 0xcb);
        EXPECT(gbc.readMem(0x8b75), 0xb);
        // CB 0B 0221
        gbc.setState(0x2d06, 0x1b93, 0x6680, 0x60a4, 0x56d, 0xd6a9, 0x0, 0x1);
        gbc.writeMem(0x2d06, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x1b93);
        EXPECT(gbc.pc(), 0x2d08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0222
        gbc.setState(0x1c6a, 0x6c24, 0xeb40, 0xc802, 0x5b6, 0x7fd1, 0x0, 0x1);
        gbc.writeMem(0x1c6a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x6c24);
        EXPECT(gbc.pc(), 0x1c6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0223
        gbc.setState(0x967e, 0xa98a, 0x770, 0x7069, 0x73ff, 0x4ae7, 0x0, 0x0);
        gbc.writeMem(0x967e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa98a);
        EXPECT(gbc.pc(), 0x9680);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x967e), 0xcb);
        EXPECT(gbc.readMem(0x967f), 0xb);
        // CB 0B 0224
        gbc.setState(0xd14, 0x493a, 0x2a90, 0xef49, 0xcce4, 0xafb9, 0x0, 0x1);
        gbc.writeMem(0xd14, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x493a);
        EXPECT(gbc.pc(), 0xd16);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0225
        gbc.setState(0x1530, 0xc8e3, 0xb4c0, 0xe1b4, 0x6094, 0xd219, 0x0, 0x1);
        gbc.writeMem(0x1530, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xc8e3);
        EXPECT(gbc.pc(), 0x1532);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0226
        gbc.setState(0x4a12, 0x7c64, 0xc150, 0xd439, 0x2e7a, 0xc14f, 0x0, 0x0);
        gbc.writeMem(0x4a12, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x7c64);
        EXPECT(gbc.pc(), 0x4a14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0227
        gbc.setState(0xe015, 0xb112, 0xc050, 0xf1af, 0x41be, 0xbe44, 0x1, 0x1);
        gbc.writeMem(0xe015, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xb112);
        EXPECT(gbc.pc(), 0xe017);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe015), 0xcb);
        EXPECT(gbc.readMem(0xe016), 0xb);
        // CB 0B 0228
        gbc.setState(0x717f, 0xa661, 0xe030, 0xfa48, 0x6ea4, 0xd531, 0x0, 0x0);
        gbc.writeMem(0x717f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xa661);
        EXPECT(gbc.pc(), 0x7181);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0229
        gbc.setState(0x83a2, 0xb19b, 0xc3e0, 0x1e75, 0x606d, 0x88be, 0x0, 0x0);
        gbc.writeMem(0x83a2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xb19b);
        EXPECT(gbc.pc(), 0x83a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83a2), 0xcb);
        EXPECT(gbc.readMem(0x83a3), 0xb);
        // CB 0B 022A
        gbc.setState(0xd581, 0xaf3, 0x27b0, 0xe17, 0x19a2, 0xe73e, 0x0, 0x1);
        gbc.writeMem(0xd581, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xaf3);
        EXPECT(gbc.pc(), 0xd583);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd581), 0xcb);
        EXPECT(gbc.readMem(0xd582), 0xb);
        // CB 0B 022B
        gbc.setState(0x78af, 0x1b0b, 0xd080, 0xb371, 0xd66d, 0x2b93, 0x1, 0x1);
        gbc.writeMem(0x78af, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x1b0b);
        EXPECT(gbc.pc(), 0x78b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 022C
        gbc.setState(0x1c74, 0x5e98, 0x9930, 0x15ea, 0x413a, 0x208b, 0x1, 0x0);
        gbc.writeMem(0x1c74, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x5e98);
        EXPECT(gbc.pc(), 0x1c76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 022D
        gbc.setState(0xb186, 0xd1c1, 0x70b0, 0x4a94, 0x6547, 0x857c, 0x1, 0x1);
        gbc.writeMem(0xb186, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xd1c1);
        EXPECT(gbc.pc(), 0xb188);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb186), 0xcb);
        EXPECT(gbc.readMem(0xb187), 0xb);
        // CB 0B 022E
        gbc.setState(0x7d89, 0x7c21, 0xacf0, 0x3bf6, 0x1df8, 0x7946, 0x1, 0x0);
        gbc.writeMem(0x7d89, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x7c21);
        EXPECT(gbc.pc(), 0x7d8b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 022F
        gbc.setState(0x5a47, 0x7509, 0x1300, 0x9f42, 0x2aff, 0x5d0, 0x0, 0x0);
        gbc.writeMem(0x5a47, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x7509);
        EXPECT(gbc.pc(), 0x5a49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0230
        gbc.setState(0x3ded, 0x74af, 0x2890, 0x69b0, 0x22b2, 0xd18, 0x0, 0x0);
        gbc.writeMem(0x3ded, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x74af);
        EXPECT(gbc.pc(), 0x3def);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0231
        gbc.setState(0xd675, 0x301d, 0xbb10, 0xd5f2, 0x84f, 0x86bb, 0x1, 0x1);
        gbc.writeMem(0xd675, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x301d);
        EXPECT(gbc.pc(), 0xd677);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd675), 0xcb);
        EXPECT(gbc.readMem(0xd676), 0xb);
        // CB 0B 0232
        gbc.setState(0xd5e5, 0xbb57, 0x6490, 0x4d96, 0xce6a, 0x6683, 0x1, 0x0);
        gbc.writeMem(0xd5e5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xbb57);
        EXPECT(gbc.pc(), 0xd5e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5e5), 0xcb);
        EXPECT(gbc.readMem(0xd5e6), 0xb);
        // CB 0B 0233
        gbc.setState(0x419, 0xcc0a, 0x73d0, 0x6d59, 0x81ca, 0x149f, 0x1, 0x1);
        gbc.writeMem(0x419, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xcc0a);
        EXPECT(gbc.pc(), 0x41b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0234
        gbc.setState(0x841b, 0x48ef, 0xb8a0, 0xc549, 0x38b6, 0x748, 0x1, 0x0);
        gbc.writeMem(0x841b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x48ef);
        EXPECT(gbc.pc(), 0x841d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x841b), 0xcb);
        EXPECT(gbc.readMem(0x841c), 0xb);
        // CB 0B 0235
        gbc.setState(0x68aa, 0xd2a, 0x6680, 0xb3bd, 0x3aa8, 0xb986, 0x1, 0x1);
        gbc.writeMem(0x68aa, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xd2a);
        EXPECT(gbc.pc(), 0x68ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0236
        gbc.setState(0x5b4a, 0xff9f, 0x3040, 0xfbbf, 0xd56, 0x4150, 0x0, 0x1);
        gbc.writeMem(0x5b4a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xff9f);
        EXPECT(gbc.pc(), 0x5b4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0237
        gbc.setState(0x8f6b, 0x9aa0, 0x8660, 0x2fa3, 0xdc8b, 0xe53a, 0x0, 0x1);
        gbc.writeMem(0x8f6b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x9aa0);
        EXPECT(gbc.pc(), 0x8f6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f6b), 0xcb);
        EXPECT(gbc.readMem(0x8f6c), 0xb);
        // CB 0B 0238
        gbc.setState(0x7595, 0x5b9e, 0xfaa0, 0x74be, 0xd7c2, 0x2fc, 0x1, 0x0);
        gbc.writeMem(0x7595, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x5b9e);
        EXPECT(gbc.pc(), 0x7597);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0239
        gbc.setState(0x2513, 0xed5c, 0xb1b0, 0xca4b, 0x5dbc, 0x6899, 0x0, 0x0);
        gbc.writeMem(0x2513, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xed5c);
        EXPECT(gbc.pc(), 0x2515);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 023B
        gbc.setState(0xa74d, 0xd430, 0xe6f0, 0xfb43, 0xeef1, 0x5994, 0x1, 0x0);
        gbc.writeMem(0xa74d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xd430);
        EXPECT(gbc.pc(), 0xa74f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa74d), 0xcb);
        EXPECT(gbc.readMem(0xa74e), 0xb);
        // CB 0B 023C
        gbc.setState(0xb477, 0x7aed, 0x23b0, 0x8186, 0xe9ab, 0x37b4, 0x1, 0x1);
        gbc.writeMem(0xb477, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x7aed);
        EXPECT(gbc.pc(), 0xb479);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb477), 0xcb);
        EXPECT(gbc.readMem(0xb478), 0xb);
        // CB 0B 023D
        gbc.setState(0x985, 0xf8ba, 0xf0b0, 0x6d3d, 0xabdd, 0xf74b, 0x1, 0x1);
        gbc.writeMem(0x985, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xf8ba);
        EXPECT(gbc.pc(), 0x987);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 023E
        gbc.setState(0xd95, 0xc597, 0xd130, 0xe822, 0x8208, 0xcac8, 0x0, 0x0);
        gbc.writeMem(0xd95, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xc597);
        EXPECT(gbc.pc(), 0xd97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 023F
        gbc.setState(0xeab0, 0xd320, 0xae60, 0xc0f6, 0x9496, 0x8947, 0x0, 0x0);
        gbc.writeMem(0xeab0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xd320);
        EXPECT(gbc.pc(), 0xeab2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeab0), 0xcb);
        EXPECT(gbc.readMem(0xeab1), 0xb);
        // CB 0B 0240
        gbc.setState(0x7ec0, 0x7128, 0x9330, 0x62bb, 0x53ff, 0x7e72, 0x0, 0x0);
        gbc.writeMem(0x7ec0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x7128);
        EXPECT(gbc.pc(), 0x7ec2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0241
        gbc.setState(0x41c5, 0x8110, 0x3260, 0x8301, 0x4afc, 0xd280, 0x0, 0x0);
        gbc.writeMem(0x41c5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x8110);
        EXPECT(gbc.pc(), 0x41c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0242
        gbc.setState(0x5ce4, 0x8dcd, 0xd760, 0x14ca, 0x5a49, 0xd6, 0x0, 0x0);
        gbc.writeMem(0x5ce4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x8dcd);
        EXPECT(gbc.pc(), 0x5ce6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0243
        gbc.setState(0xe64c, 0x2970, 0xd990, 0xdf0a, 0xa457, 0x2549, 0x0, 0x1);
        gbc.writeMem(0xe64c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x2970);
        EXPECT(gbc.pc(), 0xe64e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe64c), 0xcb);
        EXPECT(gbc.readMem(0xe64d), 0xb);
        // CB 0B 0244
        gbc.setState(0x17a4, 0x1f01, 0xa190, 0x4f0e, 0x4233, 0xc3f, 0x0, 0x1);
        gbc.writeMem(0x17a4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x1f01);
        EXPECT(gbc.pc(), 0x17a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0245
        gbc.setState(0xc8c2, 0xda1a, 0x71f0, 0xd1f1, 0xf76b, 0xea3e, 0x0, 0x1);
        gbc.writeMem(0xc8c2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xda1a);
        EXPECT(gbc.pc(), 0xc8c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc8c2), 0xcb);
        EXPECT(gbc.readMem(0xc8c3), 0xb);
        // CB 0B 0246
        gbc.setState(0x1380, 0xc83f, 0xe5a0, 0x76b4, 0xc04a, 0x42cc, 0x0, 0x1);
        gbc.writeMem(0x1380, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc83f);
        EXPECT(gbc.pc(), 0x1382);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0247
        gbc.setState(0x31f6, 0x276f, 0x28b0, 0xfc8, 0x5a9a, 0x8cf4, 0x0, 0x1);
        gbc.writeMem(0x31f6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x276f);
        EXPECT(gbc.pc(), 0x31f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0248
        gbc.setState(0x52b2, 0x4f8, 0x6a40, 0x1c6c, 0x4f2d, 0xbeee, 0x1, 0x1);
        gbc.writeMem(0x52b2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x4f8);
        EXPECT(gbc.pc(), 0x52b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0249
        gbc.setState(0x9df, 0xa5a4, 0xdfc0, 0x9c82, 0x8dbc, 0x3578, 0x0, 0x1);
        gbc.writeMem(0x9df, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xa5a4);
        EXPECT(gbc.pc(), 0x9e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 024A
        gbc.setState(0x827, 0x7acc, 0xa910, 0xb60d, 0x1a88, 0xcceb, 0x0, 0x0);
        gbc.writeMem(0x827, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x7acc);
        EXPECT(gbc.pc(), 0x829);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 024B
        gbc.setState(0xb1ae, 0xcdea, 0x4a70, 0xaf97, 0x970a, 0x4a6f, 0x0, 0x1);
        gbc.writeMem(0xb1ae, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xcdea);
        EXPECT(gbc.pc(), 0xb1b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1ae), 0xcb);
        EXPECT(gbc.readMem(0xb1af), 0xb);
        // CB 0B 024C
        gbc.setState(0x6f30, 0x6ddb, 0x1d80, 0xec63, 0xdd0f, 0xcba0, 0x0, 0x0);
        gbc.writeMem(0x6f30, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x6ddb);
        EXPECT(gbc.pc(), 0x6f32);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 024D
        gbc.setState(0x15be, 0x4344, 0x2040, 0xbf6, 0x3c12, 0xd651, 0x0, 0x1);
        gbc.writeMem(0x15be, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x4344);
        EXPECT(gbc.pc(), 0x15c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 024E
        gbc.setState(0x2256, 0x45c7, 0xc950, 0xc45, 0x2fd0, 0xfb2e, 0x1, 0x0);
        gbc.writeMem(0x2256, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x45c7);
        EXPECT(gbc.pc(), 0x2258);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0250
        gbc.setState(0xe044, 0x6ffa, 0x3f00, 0x10af, 0xddf6, 0x9f5b, 0x0, 0x0);
        gbc.writeMem(0xe044, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x6ffa);
        EXPECT(gbc.pc(), 0xe046);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe044), 0xcb);
        EXPECT(gbc.readMem(0xe045), 0xb);
        // CB 0B 0251
        gbc.setState(0x4ab8, 0xa610, 0x38b0, 0xb365, 0x2ebc, 0xdb96, 0x0, 0x0);
        gbc.writeMem(0x4ab8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xa610);
        EXPECT(gbc.pc(), 0x4aba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0252
        gbc.setState(0x591c, 0xfa88, 0x7ff0, 0xf59b, 0x7b13, 0xa3c8, 0x1, 0x0);
        gbc.writeMem(0x591c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xfa88);
        EXPECT(gbc.pc(), 0x591e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0253
        gbc.setState(0x83af, 0x359a, 0xd530, 0xfb8e, 0x23c3, 0xa7e8, 0x1, 0x0);
        gbc.writeMem(0x83af, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x359a);
        EXPECT(gbc.pc(), 0x83b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83af), 0xcb);
        EXPECT(gbc.readMem(0x83b0), 0xb);
        // CB 0B 0254
        gbc.setState(0x2ba0, 0x34d7, 0xbe70, 0xdfdd, 0x7ee5, 0xff6d, 0x1, 0x0);
        gbc.writeMem(0x2ba0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x34d7);
        EXPECT(gbc.pc(), 0x2ba2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0255
        gbc.setState(0x22c5, 0x5e64, 0xd360, 0xfa45, 0xddf1, 0x8311, 0x0, 0x0);
        gbc.writeMem(0x22c5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x5e64);
        EXPECT(gbc.pc(), 0x22c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0256
        gbc.setState(0x2f7e, 0xaa92, 0x3340, 0x5fab, 0x854e, 0x62d4, 0x1, 0x0);
        gbc.writeMem(0x2f7e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xaa92);
        EXPECT(gbc.pc(), 0x2f80);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0257
        gbc.setState(0x4695, 0xed97, 0x3b40, 0x56c8, 0xe26e, 0xada8, 0x1, 0x0);
        gbc.writeMem(0x4695, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xed97);
        EXPECT(gbc.pc(), 0x4697);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0258
        gbc.setState(0x6c3f, 0xb1b5, 0x4fe0, 0x19ef, 0x3ef1, 0xb29a, 0x1, 0x0);
        gbc.writeMem(0x6c3f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0xb1b5);
        EXPECT(gbc.pc(), 0x6c41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0259
        gbc.setState(0x6b5b, 0xa85b, 0x260, 0x9da6, 0x3be9, 0x1b55, 0x1, 0x1);
        gbc.writeMem(0x6b5b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xa85b);
        EXPECT(gbc.pc(), 0x6b5d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 025A
        gbc.setState(0xde75, 0x37ea, 0xbbb0, 0xd620, 0x30a2, 0xf905, 0x1, 0x1);
        gbc.writeMem(0xde75, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x37ea);
        EXPECT(gbc.pc(), 0xde77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde75), 0xcb);
        EXPECT(gbc.readMem(0xde76), 0xb);
        // CB 0B 025B
        gbc.setState(0xd572, 0xb270, 0xc7e0, 0x6e01, 0x9643, 0x7acc, 0x0, 0x0);
        gbc.writeMem(0xd572, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xb270);
        EXPECT(gbc.pc(), 0xd574);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd572), 0xcb);
        EXPECT(gbc.readMem(0xd573), 0xb);
        // CB 0B 025C
        gbc.setState(0x9eaf, 0xc7a5, 0xd050, 0x43a4, 0x7199, 0x9a43, 0x1, 0x1);
        gbc.writeMem(0x9eaf, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xc7a5);
        EXPECT(gbc.pc(), 0x9eb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9eaf), 0xcb);
        EXPECT(gbc.readMem(0x9eb0), 0xb);
        // CB 0B 025D
        gbc.setState(0x4ce9, 0xc3c9, 0x7360, 0x951e, 0x4422, 0x113e, 0x1, 0x0);
        gbc.writeMem(0x4ce9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xc3c9);
        EXPECT(gbc.pc(), 0x4ceb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 025E
        gbc.setState(0x7a07, 0x80d, 0x2140, 0x5adf, 0x4a7b, 0x3f49, 0x1, 0x0);
        gbc.writeMem(0x7a07, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x80d);
        EXPECT(gbc.pc(), 0x7a09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 025F
        gbc.setState(0xebec, 0x68e6, 0x5510, 0xe501, 0xa654, 0x4c9a, 0x0, 0x1);
        gbc.writeMem(0xebec, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x68e6);
        EXPECT(gbc.pc(), 0xebee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebec), 0xcb);
        EXPECT(gbc.readMem(0xebed), 0xb);
        // CB 0B 0260
        gbc.setState(0x5692, 0x6fc6, 0xee40, 0x2b47, 0x922c, 0xbfb9, 0x0, 0x0);
        gbc.writeMem(0x5692, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x6fc6);
        EXPECT(gbc.pc(), 0x5694);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0261
        gbc.setState(0xda66, 0x575d, 0x72e0, 0x7256, 0x2dfe, 0x74e9, 0x1, 0x0);
        gbc.writeMem(0xda66, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x575d);
        EXPECT(gbc.pc(), 0xda68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda66), 0xcb);
        EXPECT(gbc.readMem(0xda67), 0xb);
        // CB 0B 0262
        gbc.setState(0x9e91, 0xd89e, 0x9d30, 0x220, 0x49a3, 0xbe4, 0x0, 0x1);
        gbc.writeMem(0x9e91, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xd89e);
        EXPECT(gbc.pc(), 0x9e93);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9e91), 0xcb);
        EXPECT(gbc.readMem(0x9e92), 0xb);
        // CB 0B 0263
        gbc.setState(0x7ec6, 0x51ed, 0x860, 0x42dc, 0xf57d, 0xd415, 0x0, 0x0);
        gbc.writeMem(0x7ec6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x51ed);
        EXPECT(gbc.pc(), 0x7ec8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0264
        gbc.setState(0xac26, 0x1ec3, 0xb000, 0xf510, 0x510f, 0xb123, 0x1, 0x1);
        gbc.writeMem(0xac26, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1ec3);
        EXPECT(gbc.pc(), 0xac28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac26), 0xcb);
        EXPECT(gbc.readMem(0xac27), 0xb);
        // CB 0B 0265
        gbc.setState(0x6e2f, 0x13c6, 0xd2f0, 0xb07a, 0xc9cd, 0xe3, 0x0, 0x0);
        gbc.writeMem(0x6e2f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x13c6);
        EXPECT(gbc.pc(), 0x6e31);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0266
        gbc.setState(0xd676, 0x3093, 0x1f40, 0xb574, 0xb2a5, 0x4fa6, 0x1, 0x0);
        gbc.writeMem(0xd676, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x3093);
        EXPECT(gbc.pc(), 0xd678);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd676), 0xcb);
        EXPECT(gbc.readMem(0xd677), 0xb);
        // CB 0B 0267
        gbc.setState(0x2abf, 0x407e, 0xb810, 0x224c, 0x75fb, 0xa7cb, 0x0, 0x1);
        gbc.writeMem(0x2abf, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x407e);
        EXPECT(gbc.pc(), 0x2ac1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0268
        gbc.setState(0x596b, 0xbf4c, 0x3200, 0xcc, 0xade8, 0xb0c5, 0x1, 0x1);
        gbc.writeMem(0x596b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xbf4c);
        EXPECT(gbc.pc(), 0x596d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0269
        gbc.setState(0xedf7, 0xc2fc, 0x7410, 0x4668, 0x2e86, 0xc6a2, 0x1, 0x0);
        gbc.writeMem(0xedf7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xc2fc);
        EXPECT(gbc.pc(), 0xedf9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedf7), 0xcb);
        EXPECT(gbc.readMem(0xedf8), 0xb);
        // CB 0B 026A
        gbc.setState(0xdbe4, 0xd937, 0xc6d0, 0xe06b, 0x6e2d, 0x4460, 0x1, 0x0);
        gbc.writeMem(0xdbe4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0xd937);
        EXPECT(gbc.pc(), 0xdbe6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbe4), 0xcb);
        EXPECT(gbc.readMem(0xdbe5), 0xb);
        // CB 0B 026B
        gbc.setState(0x1a0a, 0xe05b, 0x4370, 0x9491, 0xcf83, 0x54e8, 0x0, 0x1);
        gbc.writeMem(0x1a0a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xe05b);
        EXPECT(gbc.pc(), 0x1a0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 026C
        gbc.setState(0x9d9d, 0xcaee, 0x5810, 0xb313, 0x118b, 0xeef8, 0x1, 0x0);
        gbc.writeMem(0x9d9d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xcaee);
        EXPECT(gbc.pc(), 0x9d9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d9d), 0xcb);
        EXPECT(gbc.readMem(0x9d9e), 0xb);
        // CB 0B 026D
        gbc.setState(0x71d, 0x530e, 0xdf00, 0x4528, 0xef80, 0x6347, 0x1, 0x0);
        gbc.writeMem(0x71d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x530e);
        EXPECT(gbc.pc(), 0x71f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 026E
        gbc.setState(0x65f, 0x5eb6, 0x9670, 0x5366, 0xb5da, 0xe8fd, 0x0, 0x0);
        gbc.writeMem(0x65f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x5eb6);
        EXPECT(gbc.pc(), 0x661);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 026F
        gbc.setState(0xccf5, 0x4fac, 0xf680, 0xbf4f, 0xbbab, 0xd261, 0x0, 0x0);
        gbc.writeMem(0xccf5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x4fac);
        EXPECT(gbc.pc(), 0xccf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xccf5), 0xcb);
        EXPECT(gbc.readMem(0xccf6), 0xb);
        // CB 0B 0270
        gbc.setState(0x4783, 0xeeb7, 0xdd30, 0x41b2, 0xc2c3, 0xb24d, 0x1, 0x1);
        gbc.writeMem(0x4783, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xeeb7);
        EXPECT(gbc.pc(), 0x4785);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0271
        gbc.setState(0xaa7c, 0x6ead, 0x3460, 0x3977, 0xce5d, 0x65d3, 0x0, 0x1);
        gbc.writeMem(0xaa7c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x6ead);
        EXPECT(gbc.pc(), 0xaa7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa7c), 0xcb);
        EXPECT(gbc.readMem(0xaa7d), 0xb);
        // CB 0B 0272
        gbc.setState(0x305e, 0xc209, 0x1980, 0xec3b, 0xde0e, 0xc75f, 0x0, 0x1);
        gbc.writeMem(0x305e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xc209);
        EXPECT(gbc.pc(), 0x3060);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0273
        gbc.setState(0xaa51, 0x7c8e, 0x9510, 0x642e, 0xa25a, 0x9dcc, 0x1, 0x0);
        gbc.writeMem(0xaa51, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x7c8e);
        EXPECT(gbc.pc(), 0xaa53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa51), 0xcb);
        EXPECT(gbc.readMem(0xaa52), 0xb);
        // CB 0B 0274
        gbc.setState(0x8bc3, 0x18b7, 0xc700, 0xee89, 0x252e, 0x1e83, 0x0, 0x1);
        gbc.writeMem(0x8bc3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x18b7);
        EXPECT(gbc.pc(), 0x8bc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bc3), 0xcb);
        EXPECT(gbc.readMem(0x8bc4), 0xb);
        // CB 0B 0275
        gbc.setState(0xa294, 0xae26, 0xdec0, 0xa140, 0x58a6, 0x1a06, 0x0, 0x1);
        gbc.writeMem(0xa294, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xae26);
        EXPECT(gbc.pc(), 0xa296);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa294), 0xcb);
        EXPECT(gbc.readMem(0xa295), 0xb);
        // CB 0B 0276
        gbc.setState(0xc2e6, 0x1901, 0x8720, 0x6ae3, 0x8640, 0xfc05, 0x0, 0x1);
        gbc.writeMem(0xc2e6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x1901);
        EXPECT(gbc.pc(), 0xc2e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc2e6), 0xcb);
        EXPECT(gbc.readMem(0xc2e7), 0xb);
        // CB 0B 0277
        gbc.setState(0x2cef, 0x7c5b, 0xfd40, 0x62ba, 0x9e60, 0xbd34, 0x0, 0x1);
        gbc.writeMem(0x2cef, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x7c5b);
        EXPECT(gbc.pc(), 0x2cf1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0278
        gbc.setState(0x2843, 0x3e2e, 0x41f0, 0x3975, 0xd1a7, 0x5c4a, 0x0, 0x1);
        gbc.writeMem(0x2843, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x3e2e);
        EXPECT(gbc.pc(), 0x2845);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0279
        gbc.setState(0x4679, 0x6655, 0xcf00, 0x7d63, 0x5d2b, 0x79a2, 0x0, 0x0);
        gbc.writeMem(0x4679, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x6655);
        EXPECT(gbc.pc(), 0x467b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 027A
        gbc.setState(0x5b50, 0xe81f, 0x3a00, 0x56a5, 0x88c8, 0xdeef, 0x1, 0x1);
        gbc.writeMem(0x5b50, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xe81f);
        EXPECT(gbc.pc(), 0x5b52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 027B
        gbc.setState(0xbe4d, 0x8c08, 0xfd40, 0x5d2f, 0xcb26, 0xc379, 0x1, 0x0);
        gbc.writeMem(0xbe4d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x8c08);
        EXPECT(gbc.pc(), 0xbe4f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe4d), 0xcb);
        EXPECT(gbc.readMem(0xbe4e), 0xb);
        // CB 0B 027C
        gbc.setState(0x1ba7, 0x513a, 0xe6c0, 0xad6, 0x92a7, 0x580f, 0x0, 0x0);
        gbc.writeMem(0x1ba7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x513a);
        EXPECT(gbc.pc(), 0x1ba9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 027D
        gbc.setState(0x73e8, 0x20f, 0xa890, 0xaf67, 0xb499, 0xfafa, 0x0, 0x1);
        gbc.writeMem(0x73e8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x20f);
        EXPECT(gbc.pc(), 0x73ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 027E
        gbc.setState(0x582d, 0xb7a6, 0xd120, 0xb284, 0xb113, 0x11b3, 0x1, 0x1);
        gbc.writeMem(0x582d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xb7a6);
        EXPECT(gbc.pc(), 0x582f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 027F
        gbc.setState(0xee45, 0xf46e, 0xead0, 0xad81, 0x1b, 0x806, 0x1, 0x1);
        gbc.writeMem(0xee45, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xf46e);
        EXPECT(gbc.pc(), 0xee47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee45), 0xcb);
        EXPECT(gbc.readMem(0xee46), 0xb);
        // CB 0B 0280
        gbc.setState(0x5660, 0x22f3, 0x7e60, 0x128e, 0xc170, 0x4884, 0x0, 0x0);
        gbc.writeMem(0x5660, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x22f3);
        EXPECT(gbc.pc(), 0x5662);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0281
        gbc.setState(0x7132, 0xb55, 0x3520, 0xcbd1, 0x6217, 0xb700, 0x0, 0x1);
        gbc.writeMem(0x7132, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xb55);
        EXPECT(gbc.pc(), 0x7134);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0282
        gbc.setState(0xa6e6, 0xcafb, 0xce10, 0xf797, 0xe32e, 0xe788, 0x0, 0x1);
        gbc.writeMem(0xa6e6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xcafb);
        EXPECT(gbc.pc(), 0xa6e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6e6), 0xcb);
        EXPECT(gbc.readMem(0xa6e7), 0xb);
        // CB 0B 0283
        gbc.setState(0xeb95, 0xa996, 0x7a10, 0xf27e, 0xe295, 0x69a6, 0x0, 0x1);
        gbc.writeMem(0xeb95, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xa996);
        EXPECT(gbc.pc(), 0xeb97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb95), 0xcb);
        EXPECT(gbc.readMem(0xeb96), 0xb);
        // CB 0B 0284
        gbc.setState(0xab66, 0x6455, 0x6f40, 0x7de2, 0xe547, 0x391e, 0x0, 0x0);
        gbc.writeMem(0xab66, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x6455);
        EXPECT(gbc.pc(), 0xab68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab66), 0xcb);
        EXPECT(gbc.readMem(0xab67), 0xb);
        // CB 0B 0285
        gbc.setState(0x6d2c, 0x26d7, 0x5ef0, 0x665e, 0x6e0a, 0x69e8, 0x1, 0x0);
        gbc.writeMem(0x6d2c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x26d7);
        EXPECT(gbc.pc(), 0x6d2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0286
        gbc.setState(0xbe55, 0x81fa, 0x61b0, 0x7c65, 0x4009, 0x93e4, 0x1, 0x0);
        gbc.writeMem(0xbe55, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x81fa);
        EXPECT(gbc.pc(), 0xbe57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe55), 0xcb);
        EXPECT(gbc.readMem(0xbe56), 0xb);
        // CB 0B 0287
        gbc.setState(0x6df2, 0xd839, 0xe3a0, 0x40c9, 0x5626, 0x6065, 0x1, 0x0);
        gbc.writeMem(0x6df2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xd839);
        EXPECT(gbc.pc(), 0x6df4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0288
        gbc.setState(0x7c49, 0xcb79, 0x8e80, 0x1a54, 0x7701, 0x3efc, 0x1, 0x0);
        gbc.writeMem(0x7c49, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xcb79);
        EXPECT(gbc.pc(), 0x7c4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0289
        gbc.setState(0x34b6, 0x2596, 0xe8d0, 0x8aba, 0x89f9, 0x3907, 0x0, 0x0);
        gbc.writeMem(0x34b6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x2596);
        EXPECT(gbc.pc(), 0x34b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 028A
        gbc.setState(0x298a, 0x1799, 0xf160, 0x603f, 0xf8c6, 0x736f, 0x1, 0x0);
        gbc.writeMem(0x298a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x1799);
        EXPECT(gbc.pc(), 0x298c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 028B
        gbc.setState(0x9196, 0xf009, 0x30a0, 0x1466, 0x316a, 0xff75, 0x0, 0x0);
        gbc.writeMem(0x9196, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xf009);
        EXPECT(gbc.pc(), 0x9198);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9196), 0xcb);
        EXPECT(gbc.readMem(0x9197), 0xb);
        // CB 0B 028C
        gbc.setState(0x6a14, 0x739, 0x5c40, 0x9946, 0x52a, 0xa06b, 0x1, 0x0);
        gbc.writeMem(0x6a14, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x739);
        EXPECT(gbc.pc(), 0x6a16);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 028D
        gbc.setState(0x1a28, 0x3655, 0x4a20, 0x876b, 0xe94d, 0x633b, 0x0, 0x0);
        gbc.writeMem(0x1a28, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x3655);
        EXPECT(gbc.pc(), 0x1a2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 028E
        gbc.setState(0x5db8, 0xfe96, 0xc20, 0x6f39, 0xb64e, 0x1aaf, 0x0, 0x1);
        gbc.writeMem(0x5db8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xfe96);
        EXPECT(gbc.pc(), 0x5dba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 028F
        gbc.setState(0x3b42, 0xcd8, 0xfb10, 0x2e0e, 0xb969, 0xce31, 0x1, 0x0);
        gbc.writeMem(0x3b42, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xcd8);
        EXPECT(gbc.pc(), 0x3b44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0290
        gbc.setState(0x77c2, 0x9ece, 0x13d0, 0x4997, 0xd79f, 0x62b3, 0x0, 0x0);
        gbc.writeMem(0x77c2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x9ece);
        EXPECT(gbc.pc(), 0x77c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0291
        gbc.setState(0xdd02, 0xf287, 0xef10, 0x3deb, 0x740b, 0xeb9, 0x1, 0x1);
        gbc.writeMem(0xdd02, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xf287);
        EXPECT(gbc.pc(), 0xdd04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd02), 0xcb);
        EXPECT(gbc.readMem(0xdd03), 0xb);
        // CB 0B 0292
        gbc.setState(0xc694, 0x79c9, 0x2d40, 0x567, 0x9049, 0x80ac, 0x1, 0x1);
        gbc.writeMem(0xc694, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x79c9);
        EXPECT(gbc.pc(), 0xc696);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc694), 0xcb);
        EXPECT(gbc.readMem(0xc695), 0xb);
        // CB 0B 0293
        gbc.setState(0x4028, 0xe5a1, 0xa820, 0xfa7d, 0x4aed, 0xce08, 0x0, 0x0);
        gbc.writeMem(0x4028, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xe5a1);
        EXPECT(gbc.pc(), 0x402a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0294
        gbc.setState(0x2ea6, 0x51e7, 0x2330, 0x19f9, 0x8a1, 0x87ce, 0x1, 0x1);
        gbc.writeMem(0x2ea6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x51e7);
        EXPECT(gbc.pc(), 0x2ea8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0295
        gbc.setState(0x7634, 0xced1, 0xea70, 0x31d8, 0x186e, 0x9b27, 0x1, 0x0);
        gbc.writeMem(0x7634, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xced1);
        EXPECT(gbc.pc(), 0x7636);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0296
        gbc.setState(0xb201, 0xa81f, 0x8bd0, 0xe86b, 0xc26b, 0xe9bf, 0x0, 0x0);
        gbc.writeMem(0xb201, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xa81f);
        EXPECT(gbc.pc(), 0xb203);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb201), 0xcb);
        EXPECT(gbc.readMem(0xb202), 0xb);
        // CB 0B 0297
        gbc.setState(0xd502, 0xf09e, 0xade0, 0xbca3, 0x8dd5, 0x73dc, 0x0, 0x1);
        gbc.writeMem(0xd502, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xf09e);
        EXPECT(gbc.pc(), 0xd504);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd502), 0xcb);
        EXPECT(gbc.readMem(0xd503), 0xb);
        // CB 0B 0298
        gbc.setState(0xdadd, 0x9465, 0xd4b0, 0x4b21, 0x159f, 0xb79, 0x0, 0x0);
        gbc.writeMem(0xdadd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x9465);
        EXPECT(gbc.pc(), 0xdadf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdadd), 0xcb);
        EXPECT(gbc.readMem(0xdade), 0xb);
        // CB 0B 0299
        gbc.setState(0x174d, 0xa466, 0x9850, 0x6732, 0x5415, 0x87ef, 0x1, 0x1);
        gbc.writeMem(0x174d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xa466);
        EXPECT(gbc.pc(), 0x174f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 029A
        gbc.setState(0x29cc, 0xca9b, 0x940, 0xfd01, 0x7d3d, 0xf216, 0x1, 0x0);
        gbc.writeMem(0x29cc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xca9b);
        EXPECT(gbc.pc(), 0x29ce);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 029B
        gbc.setState(0xb6df, 0xa14b, 0x1880, 0xd3b5, 0x265d, 0xc2a0, 0x1, 0x0);
        gbc.writeMem(0xb6df, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xa14b);
        EXPECT(gbc.pc(), 0xb6e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6df), 0xcb);
        EXPECT(gbc.readMem(0xb6e0), 0xb);
        // CB 0B 029C
        gbc.setState(0x8dff, 0xe081, 0x4730, 0x3cf1, 0x1838, 0xa4e, 0x0, 0x0);
        gbc.writeMem(0x8dff, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xe081);
        EXPECT(gbc.pc(), 0x8e01);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dff), 0xcb);
        EXPECT(gbc.readMem(0x8e00), 0xb);
        // CB 0B 029D
        gbc.setState(0x6083, 0xf33b, 0x9330, 0xf167, 0x443f, 0x63a1, 0x0, 0x1);
        gbc.writeMem(0x6083, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xf33b);
        EXPECT(gbc.pc(), 0x6085);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 029E
        gbc.setState(0x3124, 0xcde7, 0x1920, 0x91, 0x891c, 0xa054, 0x1, 0x0);
        gbc.writeMem(0x3124, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xcde7);
        EXPECT(gbc.pc(), 0x3126);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 029F
        gbc.setState(0xdee1, 0xd441, 0xd350, 0x82ac, 0x83c4, 0x3da2, 0x1, 0x1);
        gbc.writeMem(0xdee1, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xd441);
        EXPECT(gbc.pc(), 0xdee3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdee1), 0xcb);
        EXPECT(gbc.readMem(0xdee2), 0xb);
        // CB 0B 02A0
        gbc.setState(0x66d8, 0x57f7, 0xab60, 0x41cc, 0x8668, 0x710, 0x1, 0x1);
        gbc.writeMem(0x66d8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x57f7);
        EXPECT(gbc.pc(), 0x66da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02A1
        gbc.setState(0x1708, 0x1084, 0xd1c0, 0xeb23, 0xd43, 0xa59, 0x0, 0x1);
        gbc.writeMem(0x1708, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x1084);
        EXPECT(gbc.pc(), 0x170a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02A2
        gbc.setState(0xbad5, 0xa08f, 0x44b0, 0xd1f5, 0xa1e8, 0xc4bb, 0x0, 0x1);
        gbc.writeMem(0xbad5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xa08f);
        EXPECT(gbc.pc(), 0xbad7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbad5), 0xcb);
        EXPECT(gbc.readMem(0xbad6), 0xb);
        // CB 0B 02A3
        gbc.setState(0x1a7, 0xf419, 0x77d0, 0x999e, 0x5f16, 0x910d, 0x1, 0x1);
        gbc.writeMem(0x1a7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xf419);
        EXPECT(gbc.pc(), 0x1a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02A4
        gbc.setState(0x7a, 0x3d3b, 0x37e0, 0xc4f, 0xb52f, 0x94c9, 0x1, 0x0);
        gbc.writeMem(0x7a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x3d3b);
        EXPECT(gbc.pc(), 0x7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02A5
        gbc.setState(0xbeb2, 0x2582, 0xcce0, 0x8c27, 0xf1f0, 0x9149, 0x0, 0x0);
        gbc.writeMem(0xbeb2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x2582);
        EXPECT(gbc.pc(), 0xbeb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbeb2), 0xcb);
        EXPECT(gbc.readMem(0xbeb3), 0xb);
        // CB 0B 02A6
        gbc.setState(0xcc43, 0x5378, 0xa070, 0xcd38, 0x6dd0, 0x2384, 0x0, 0x1);
        gbc.writeMem(0xcc43, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x5378);
        EXPECT(gbc.pc(), 0xcc45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc43), 0xcb);
        EXPECT(gbc.readMem(0xcc44), 0xb);
        // CB 0B 02A7
        gbc.setState(0xec24, 0x8a8c, 0x5230, 0xc80, 0xe838, 0xe6a9, 0x1, 0x0);
        gbc.writeMem(0xec24, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x8a8c);
        EXPECT(gbc.pc(), 0xec26);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec24), 0xcb);
        EXPECT(gbc.readMem(0xec25), 0xb);
        // CB 0B 02A8
        gbc.setState(0xa669, 0x22b3, 0x5dc0, 0xb480, 0xbc2f, 0x67c5, 0x1, 0x1);
        gbc.writeMem(0xa669, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x22b3);
        EXPECT(gbc.pc(), 0xa66b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa669), 0xcb);
        EXPECT(gbc.readMem(0xa66a), 0xb);
        // CB 0B 02A9
        gbc.setState(0x6391, 0x4b75, 0xd1a0, 0x1f05, 0x18ad, 0x6e59, 0x0, 0x1);
        gbc.writeMem(0x6391, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x4b75);
        EXPECT(gbc.pc(), 0x6393);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02AA
        gbc.setState(0x5b34, 0x34a0, 0x5ae0, 0xaebd, 0x93ed, 0x5975, 0x1, 0x0);
        gbc.writeMem(0x5b34, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x34a0);
        EXPECT(gbc.pc(), 0x5b36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02AB
        gbc.setState(0x6cb9, 0x9347, 0x8570, 0x9092, 0x6ced, 0xf159, 0x0, 0x0);
        gbc.writeMem(0x6cb9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x9347);
        EXPECT(gbc.pc(), 0x6cbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02AC
        gbc.setState(0x9dc9, 0x814, 0xa5d0, 0x785e, 0x87bd, 0x5c6a, 0x0, 0x0);
        gbc.writeMem(0x9dc9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x814);
        EXPECT(gbc.pc(), 0x9dcb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9dc9), 0xcb);
        EXPECT(gbc.readMem(0x9dca), 0xb);
        // CB 0B 02AD
        gbc.setState(0xb80b, 0x286a, 0x4df0, 0x255e, 0xa59f, 0x2856, 0x0, 0x0);
        gbc.writeMem(0xb80b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x286a);
        EXPECT(gbc.pc(), 0xb80d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb80b), 0xcb);
        EXPECT(gbc.readMem(0xb80c), 0xb);
        // CB 0B 02AE
        gbc.setState(0xb715, 0x9313, 0x5b40, 0x9090, 0x15e, 0x53d3, 0x1, 0x0);
        gbc.writeMem(0xb715, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x9313);
        EXPECT(gbc.pc(), 0xb717);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb715), 0xcb);
        EXPECT(gbc.readMem(0xb716), 0xb);
        // CB 0B 02AF
        gbc.setState(0x429, 0x316c, 0xe6c0, 0x2595, 0xf66f, 0xd987, 0x1, 0x0);
        gbc.writeMem(0x429, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x316c);
        EXPECT(gbc.pc(), 0x42b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02B0
        gbc.setState(0x9d99, 0x921d, 0xc10, 0xb15b, 0x7d03, 0xb83f, 0x1, 0x1);
        gbc.writeMem(0x9d99, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x921d);
        EXPECT(gbc.pc(), 0x9d9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d99), 0xcb);
        EXPECT(gbc.readMem(0x9d9a), 0xb);
        // CB 0B 02B1
        gbc.setState(0xa41, 0x92f5, 0xe1f0, 0x6594, 0x75a4, 0xe35f, 0x0, 0x0);
        gbc.writeMem(0xa41, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x92f5);
        EXPECT(gbc.pc(), 0xa43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02B2
        gbc.setState(0xa278, 0x1adc, 0x9390, 0x26b6, 0x7bf8, 0x5457, 0x1, 0x0);
        gbc.writeMem(0xa278, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x1adc);
        EXPECT(gbc.pc(), 0xa27a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa278), 0xcb);
        EXPECT(gbc.readMem(0xa279), 0xb);
        // CB 0B 02B3
        gbc.setState(0xe0e2, 0xde8c, 0xe820, 0x40f1, 0xa626, 0x72e1, 0x0, 0x1);
        gbc.writeMem(0xe0e2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xde8c);
        EXPECT(gbc.pc(), 0xe0e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0e2), 0xcb);
        EXPECT(gbc.readMem(0xe0e3), 0xb);
        // CB 0B 02B4
        gbc.setState(0xdb53, 0x70cb, 0x2820, 0x17d3, 0xd123, 0x53, 0x1, 0x1);
        gbc.writeMem(0xdb53, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x70cb);
        EXPECT(gbc.pc(), 0xdb55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb53), 0xcb);
        EXPECT(gbc.readMem(0xdb54), 0xb);
        // CB 0B 02B5
        gbc.setState(0x6c1, 0x4896, 0xf0a0, 0xb83d, 0xd0b3, 0xeb64, 0x0, 0x0);
        gbc.writeMem(0x6c1, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x4896);
        EXPECT(gbc.pc(), 0x6c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02B6
        gbc.setState(0x4000, 0xbf2a, 0xe270, 0x20c0, 0x6640, 0xdfeb, 0x0, 0x1);
        gbc.writeMem(0x4000, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0xbf2a);
        EXPECT(gbc.pc(), 0x4002);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02B7
        gbc.setState(0xa55b, 0x25c9, 0x8400, 0x375f, 0x75b2, 0x278d, 0x0, 0x0);
        gbc.writeMem(0xa55b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x25c9);
        EXPECT(gbc.pc(), 0xa55d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa55b), 0xcb);
        EXPECT(gbc.readMem(0xa55c), 0xb);
        // CB 0B 02B8
        gbc.setState(0xc7eb, 0xdb7f, 0x2f30, 0xe1aa, 0x7f8, 0x8f8d, 0x1, 0x0);
        gbc.writeMem(0xc7eb, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xdb7f);
        EXPECT(gbc.pc(), 0xc7ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7eb), 0xcb);
        EXPECT(gbc.readMem(0xc7ec), 0xb);
        // CB 0B 02B9
        gbc.setState(0xcb71, 0x293, 0xd70, 0x988b, 0x2896, 0x687e, 0x0, 0x1);
        gbc.writeMem(0xcb71, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x293);
        EXPECT(gbc.pc(), 0xcb73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb71), 0xcb);
        EXPECT(gbc.readMem(0xcb72), 0xb);
        // CB 0B 02BA
        gbc.setState(0xe84d, 0x95cb, 0x8070, 0x8a1c, 0x860e, 0xe12b, 0x0, 0x0);
        gbc.writeMem(0xe84d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x95cb);
        EXPECT(gbc.pc(), 0xe84f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe84d), 0xcb);
        EXPECT(gbc.readMem(0xe84e), 0xb);
        // CB 0B 02BB
        gbc.setState(0x550a, 0x77e2, 0xc680, 0x6a9e, 0x9cca, 0x75d2, 0x1, 0x0);
        gbc.writeMem(0x550a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x77e2);
        EXPECT(gbc.pc(), 0x550c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02BD
        gbc.setState(0x6379, 0x184a, 0x8840, 0x206f, 0x338e, 0x752e, 0x0, 0x0);
        gbc.writeMem(0x6379, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x184a);
        EXPECT(gbc.pc(), 0x637b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02BE
        gbc.setState(0x6dd0, 0xcffc, 0xe010, 0xa5bf, 0x39f9, 0x88c6, 0x0, 0x1);
        gbc.writeMem(0x6dd0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xcffc);
        EXPECT(gbc.pc(), 0x6dd2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02BF
        gbc.setState(0x8ea2, 0x96c7, 0xbe50, 0xebc5, 0xfb56, 0xe310, 0x1, 0x0);
        gbc.writeMem(0x8ea2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x96c7);
        EXPECT(gbc.pc(), 0x8ea4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ea2), 0xcb);
        EXPECT(gbc.readMem(0x8ea3), 0xb);
        // CB 0B 02C1
        gbc.setState(0x5c52, 0xa242, 0x1cf0, 0xa893, 0x7903, 0xc1b8, 0x1, 0x0);
        gbc.writeMem(0x5c52, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xa242);
        EXPECT(gbc.pc(), 0x5c54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02C2
        gbc.setState(0x90ca, 0xe56e, 0x9f70, 0x1d02, 0xdb1e, 0x3d50, 0x1, 0x0);
        gbc.writeMem(0x90ca, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0xe56e);
        EXPECT(gbc.pc(), 0x90cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90ca), 0xcb);
        EXPECT(gbc.readMem(0x90cb), 0xb);
        // CB 0B 02C3
        gbc.setState(0xcc71, 0x7116, 0xa410, 0xdd9a, 0x72c9, 0x1b6f, 0x1, 0x1);
        gbc.writeMem(0xcc71, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x7116);
        EXPECT(gbc.pc(), 0xcc73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc71), 0xcb);
        EXPECT(gbc.readMem(0xcc72), 0xb);
        // CB 0B 02C4
        gbc.setState(0x5b5b, 0x44be, 0x95d0, 0x1280, 0xc9a2, 0xd8ca, 0x0, 0x0);
        gbc.writeMem(0x5b5b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x44be);
        EXPECT(gbc.pc(), 0x5b5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02C5
        gbc.setState(0xca, 0x7fc2, 0xc9a0, 0xb34, 0x1d99, 0xf750, 0x1, 0x1);
        gbc.writeMem(0xca, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x7fc2);
        EXPECT(gbc.pc(), 0xcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02C6
        gbc.setState(0x4e02, 0xc28c, 0x3f00, 0xedbb, 0x7d55, 0x5b16, 0x1, 0x0);
        gbc.writeMem(0x4e02, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xc28c);
        EXPECT(gbc.pc(), 0x4e04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02C7
        gbc.setState(0x94c3, 0xb247, 0xe90, 0x5f66, 0xd1d6, 0xb5ca, 0x0, 0x0);
        gbc.writeMem(0x94c3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xb247);
        EXPECT(gbc.pc(), 0x94c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94c3), 0xcb);
        EXPECT(gbc.readMem(0x94c4), 0xb);
        // CB 0B 02C8
        gbc.setState(0x7bb2, 0xfa82, 0xaec0, 0xedb7, 0x61d2, 0x9097, 0x0, 0x0);
        gbc.writeMem(0x7bb2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xfa82);
        EXPECT(gbc.pc(), 0x7bb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02C9
        gbc.setState(0x5379, 0xa77b, 0xbe20, 0xd797, 0x9f97, 0xb741, 0x0, 0x1);
        gbc.writeMem(0x5379, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xa77b);
        EXPECT(gbc.pc(), 0x537b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02CA
        gbc.setState(0x6a9e, 0x4f36, 0x9d50, 0xbcdf, 0x4dab, 0x37e9, 0x0, 0x1);
        gbc.writeMem(0x6a9e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x4f36);
        EXPECT(gbc.pc(), 0x6aa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02CB
        gbc.setState(0xa327, 0x9039, 0xb2c0, 0x20c4, 0x3503, 0xa1ae, 0x1, 0x1);
        gbc.writeMem(0xa327, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x9039);
        EXPECT(gbc.pc(), 0xa329);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa327), 0xcb);
        EXPECT(gbc.readMem(0xa328), 0xb);
        // CB 0B 02CC
        gbc.setState(0x8685, 0xe990, 0xd320, 0xb394, 0x4ac7, 0x4ec3, 0x1, 0x1);
        gbc.writeMem(0x8685, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xe990);
        EXPECT(gbc.pc(), 0x8687);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8685), 0xcb);
        EXPECT(gbc.readMem(0x8686), 0xb);
        // CB 0B 02CD
        gbc.setState(0x51b3, 0x65f, 0x3530, 0xc206, 0xbd2f, 0x79ce, 0x0, 0x1);
        gbc.writeMem(0x51b3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x65f);
        EXPECT(gbc.pc(), 0x51b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02CE
        gbc.setState(0xd6cb, 0xcbf5, 0xf060, 0x81b9, 0xf57f, 0x99a1, 0x0, 0x1);
        gbc.writeMem(0xd6cb, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0xcbf5);
        EXPECT(gbc.pc(), 0xd6cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd6cb), 0xcb);
        EXPECT(gbc.readMem(0xd6cc), 0xb);
        // CB 0B 02CF
        gbc.setState(0x2a0, 0x2543, 0x4c80, 0x83de, 0xd7f2, 0xe478, 0x1, 0x1);
        gbc.writeMem(0x2a0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x2543);
        EXPECT(gbc.pc(), 0x2a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02D0
        gbc.setState(0x819d, 0xe8c2, 0x6a40, 0x71e4, 0xaec3, 0xc00c, 0x1, 0x0);
        gbc.writeMem(0x819d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xe8c2);
        EXPECT(gbc.pc(), 0x819f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x819d), 0xcb);
        EXPECT(gbc.readMem(0x819e), 0xb);
        // CB 0B 02D1
        gbc.setState(0x1f87, 0xa11f, 0xd430, 0xa7f, 0x5a2b, 0xa694, 0x1, 0x0);
        gbc.writeMem(0x1f87, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0xa11f);
        EXPECT(gbc.pc(), 0x1f89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02D2
        gbc.setState(0x2714, 0x15ad, 0x5850, 0x3c0c, 0x7b78, 0xcd49, 0x1, 0x1);
        gbc.writeMem(0x2714, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x15ad);
        EXPECT(gbc.pc(), 0x2716);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02D3
        gbc.setState(0x6865, 0x188d, 0x1220, 0x57ca, 0x7904, 0x37d5, 0x1, 0x1);
        gbc.writeMem(0x6865, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x188d);
        EXPECT(gbc.pc(), 0x6867);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02D4
        gbc.setState(0xa04e, 0xd2ba, 0x33d0, 0x17e9, 0xffab, 0x5afd, 0x0, 0x0);
        gbc.writeMem(0xa04e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xd2ba);
        EXPECT(gbc.pc(), 0xa050);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa04e), 0xcb);
        EXPECT(gbc.readMem(0xa04f), 0xb);
        // CB 0B 02D5
        gbc.setState(0x289e, 0x86df, 0x2030, 0x5f84, 0x580c, 0x72f7, 0x0, 0x0);
        gbc.writeMem(0x289e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x86df);
        EXPECT(gbc.pc(), 0x28a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02D6
        gbc.setState(0x47b2, 0xae20, 0x2be0, 0x7697, 0x2e4e, 0x29dd, 0x1, 0x1);
        gbc.writeMem(0x47b2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xae20);
        EXPECT(gbc.pc(), 0x47b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02D7
        gbc.setState(0x3b18, 0xf12e, 0x32b0, 0x907e, 0xa7c5, 0x5966, 0x1, 0x0);
        gbc.writeMem(0x3b18, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xf12e);
        EXPECT(gbc.pc(), 0x3b1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02D8
        gbc.setState(0xad8f, 0xf2af, 0x4520, 0x31bf, 0x7539, 0x5ffd, 0x1, 0x0);
        gbc.writeMem(0xad8f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xf2af);
        EXPECT(gbc.pc(), 0xad91);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xad8f), 0xcb);
        EXPECT(gbc.readMem(0xad90), 0xb);
        // CB 0B 02D9
        gbc.setState(0x1f9c, 0x1739, 0x50a0, 0xb79, 0x82f2, 0xf49d, 0x1, 0x1);
        gbc.writeMem(0x1f9c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x1739);
        EXPECT(gbc.pc(), 0x1f9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02DB
        gbc.setState(0x6e6c, 0xa9b8, 0xbe20, 0xec1c, 0x2175, 0x1e14, 0x1, 0x1);
        gbc.writeMem(0x6e6c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xa9b8);
        EXPECT(gbc.pc(), 0x6e6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02DC
        gbc.setState(0x8492, 0x5af0, 0x7bd0, 0x213d, 0x5cba, 0xcae7, 0x1, 0x1);
        gbc.writeMem(0x8492, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x5af0);
        EXPECT(gbc.pc(), 0x8494);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8492), 0xcb);
        EXPECT(gbc.readMem(0x8493), 0xb);
        // CB 0B 02DD
        gbc.setState(0x3055, 0x8b1f, 0xee90, 0x3d5b, 0x7e58, 0x103, 0x1, 0x0);
        gbc.writeMem(0x3055, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xee);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x8b1f);
        EXPECT(gbc.pc(), 0x3057);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02DE
        gbc.setState(0x5ae7, 0x9f36, 0x6b90, 0xe23f, 0xb2d9, 0xafc2, 0x1, 0x1);
        gbc.writeMem(0x5ae7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x9f36);
        EXPECT(gbc.pc(), 0x5ae9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02DF
        gbc.setState(0x4151, 0x4723, 0x8540, 0xb20e, 0xaec3, 0xe598, 0x0, 0x1);
        gbc.writeMem(0x4151, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x4723);
        EXPECT(gbc.pc(), 0x4153);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02E0
        gbc.setState(0x2a8b, 0x1821, 0x4e60, 0xd4a3, 0x87de, 0x4704, 0x0, 0x0);
        gbc.writeMem(0x2a8b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x1821);
        EXPECT(gbc.pc(), 0x2a8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02E1
        gbc.setState(0xd1e4, 0xcab2, 0x4280, 0xb84c, 0xfd93, 0xad89, 0x1, 0x0);
        gbc.writeMem(0xd1e4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xcab2);
        EXPECT(gbc.pc(), 0xd1e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1e4), 0xcb);
        EXPECT(gbc.readMem(0xd1e5), 0xb);
        // CB 0B 02E2
        gbc.setState(0x7f05, 0xe7ff, 0xf1b0, 0x446f, 0x40ae, 0x8d25, 0x1, 0x0);
        gbc.writeMem(0x7f05, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xe7ff);
        EXPECT(gbc.pc(), 0x7f07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02E3
        gbc.setState(0x245c, 0x503b, 0xf180, 0x80e8, 0x8d38, 0xc17, 0x1, 0x0);
        gbc.writeMem(0x245c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x503b);
        EXPECT(gbc.pc(), 0x245e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02E4
        gbc.setState(0x960f, 0xfebb, 0x7010, 0x9f6c, 0xdaa5, 0x8b2c, 0x1, 0x0);
        gbc.writeMem(0x960f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xfebb);
        EXPECT(gbc.pc(), 0x9611);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x960f), 0xcb);
        EXPECT(gbc.readMem(0x9610), 0xb);
        // CB 0B 02E5
        gbc.setState(0xe866, 0xef7e, 0x4ba0, 0x3db7, 0xa792, 0xb1f2, 0x0, 0x1);
        gbc.writeMem(0xe866, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xef7e);
        EXPECT(gbc.pc(), 0xe868);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe866), 0xcb);
        EXPECT(gbc.readMem(0xe867), 0xb);
        // CB 0B 02E6
        gbc.setState(0x9eb4, 0x643b, 0xa590, 0x48bc, 0x3046, 0x384a, 0x0, 0x1);
        gbc.writeMem(0x9eb4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x643b);
        EXPECT(gbc.pc(), 0x9eb6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eb4), 0xcb);
        EXPECT(gbc.readMem(0x9eb5), 0xb);
        // CB 0B 02E7
        gbc.setState(0x57ed, 0x2fa9, 0x10e0, 0x9042, 0xa0d2, 0xa676, 0x0, 0x0);
        gbc.writeMem(0x57ed, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x2fa9);
        EXPECT(gbc.pc(), 0x57ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02E8
        gbc.setState(0x8291, 0x9ece, 0xf750, 0x6fe5, 0x26f9, 0x12e1, 0x0, 0x0);
        gbc.writeMem(0x8291, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x9ece);
        EXPECT(gbc.pc(), 0x8293);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8291), 0xcb);
        EXPECT(gbc.readMem(0x8292), 0xb);
        // CB 0B 02E9
        gbc.setState(0x9372, 0x9a6, 0x1d80, 0xa7b7, 0x590e, 0x1a4b, 0x0, 0x0);
        gbc.writeMem(0x9372, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x9a6);
        EXPECT(gbc.pc(), 0x9374);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9372), 0xcb);
        EXPECT(gbc.readMem(0x9373), 0xb);
        // CB 0B 02EA
        gbc.setState(0x8fdd, 0x1d7e, 0x4c10, 0x1c5d, 0x7999, 0xe8ee, 0x0, 0x1);
        gbc.writeMem(0x8fdd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x1d7e);
        EXPECT(gbc.pc(), 0x8fdf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fdd), 0xcb);
        EXPECT(gbc.readMem(0x8fde), 0xb);
        // CB 0B 02EB
        gbc.setState(0x9900, 0x1a28, 0xfd20, 0xf411, 0xc7c4, 0x743d, 0x1, 0x1);
        gbc.writeMem(0x9900, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x1a28);
        EXPECT(gbc.pc(), 0x9902);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9900), 0xcb);
        EXPECT(gbc.readMem(0x9901), 0xb);
        // CB 0B 02EC
        gbc.setState(0xa8c1, 0xa8aa, 0x8470, 0x5a09, 0x533e, 0x135f, 0x0, 0x0);
        gbc.writeMem(0xa8c1, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xa8aa);
        EXPECT(gbc.pc(), 0xa8c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8c1), 0xcb);
        EXPECT(gbc.readMem(0xa8c2), 0xb);
        // CB 0B 02ED
        gbc.setState(0xda66, 0xef81, 0x5060, 0x7181, 0xecf7, 0x2fc1, 0x0, 0x1);
        gbc.writeMem(0xda66, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xef81);
        EXPECT(gbc.pc(), 0xda68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xda66), 0xcb);
        EXPECT(gbc.readMem(0xda67), 0xb);
        // CB 0B 02EE
        gbc.setState(0xe16d, 0xa3de, 0xc800, 0x7edb, 0x4025, 0x494e, 0x0, 0x0);
        gbc.writeMem(0xe16d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xa3de);
        EXPECT(gbc.pc(), 0xe16f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe16d), 0xcb);
        EXPECT(gbc.readMem(0xe16e), 0xb);
        // CB 0B 02EF
        gbc.setState(0x2436, 0xf193, 0xfd80, 0xedbf, 0xa3f6, 0x2526, 0x0, 0x0);
        gbc.writeMem(0x2436, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xf193);
        EXPECT(gbc.pc(), 0x2438);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02F0
        gbc.setState(0x590c, 0xc4e7, 0xdd90, 0x7cc4, 0xf02c, 0xec67, 0x0, 0x0);
        gbc.writeMem(0x590c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xc4e7);
        EXPECT(gbc.pc(), 0x590e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02F1
        gbc.setState(0xe8cd, 0xe215, 0x90f0, 0xb1c6, 0x1840, 0xbe1c, 0x0, 0x0);
        gbc.writeMem(0xe8cd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xe215);
        EXPECT(gbc.pc(), 0xe8cf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8cd), 0xcb);
        EXPECT(gbc.readMem(0xe8ce), 0xb);
        // CB 0B 02F2
        gbc.setState(0xcaf0, 0xc21f, 0xc80, 0x829a, 0x7b08, 0xb8af, 0x0, 0x0);
        gbc.writeMem(0xcaf0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xc21f);
        EXPECT(gbc.pc(), 0xcaf2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcaf0), 0xcb);
        EXPECT(gbc.readMem(0xcaf1), 0xb);
        // CB 0B 02F3
        gbc.setState(0x2bdc, 0x5487, 0x2390, 0xe444, 0x40b, 0x139, 0x1, 0x0);
        gbc.writeMem(0x2bdc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x5487);
        EXPECT(gbc.pc(), 0x2bde);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02F4
        gbc.setState(0x2e94, 0x70b6, 0x4bb0, 0xf93a, 0x104, 0xe823, 0x1, 0x0);
        gbc.writeMem(0x2e94, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x70b6);
        EXPECT(gbc.pc(), 0x2e96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02F5
        gbc.setState(0x6255, 0xb4ab, 0x1020, 0x8b98, 0xe4f1, 0x14c0, 0x1, 0x1);
        gbc.writeMem(0x6255, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xb4ab);
        EXPECT(gbc.pc(), 0x6257);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02F6
        gbc.setState(0x2af3, 0xcedf, 0x7980, 0xb3a, 0x225c, 0x4e70, 0x0, 0x1);
        gbc.writeMem(0x2af3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xcedf);
        EXPECT(gbc.pc(), 0x2af5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02F7
        gbc.setState(0xd66a, 0xc757, 0xf890, 0x19c7, 0x746f, 0x3a62, 0x0, 0x0);
        gbc.writeMem(0xd66a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xc757);
        EXPECT(gbc.pc(), 0xd66c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd66a), 0xcb);
        EXPECT(gbc.readMem(0xd66b), 0xb);
        // CB 0B 02F8
        gbc.setState(0x26d9, 0xcdb1, 0xff50, 0x35a0, 0xcc53, 0xac5, 0x1, 0x1);
        gbc.writeMem(0x26d9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0xcdb1);
        EXPECT(gbc.pc(), 0x26db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 02F9
        gbc.setState(0x5f3, 0xb1e5, 0x8e90, 0xbbdd, 0x3cfa, 0x3faa, 0x0, 0x1);
        gbc.writeMem(0x5f3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xb1e5);
        EXPECT(gbc.pc(), 0x5f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 02FA
        gbc.setState(0x9a50, 0xddc0, 0x2a0, 0x4e8b, 0x3c74, 0x9124, 0x0, 0x1);
        gbc.writeMem(0x9a50, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xddc0);
        EXPECT(gbc.pc(), 0x9a52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a50), 0xcb);
        EXPECT(gbc.readMem(0x9a51), 0xb);
        // CB 0B 02FB
        gbc.setState(0x8a99, 0x9eda, 0x96f0, 0xf2f7, 0x4f10, 0xcb6b, 0x0, 0x0);
        gbc.writeMem(0x8a99, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x9eda);
        EXPECT(gbc.pc(), 0x8a9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a99), 0xcb);
        EXPECT(gbc.readMem(0x8a9a), 0xb);
        // CB 0B 02FC
        gbc.setState(0xc393, 0x451e, 0xaf30, 0xabe4, 0xfa94, 0xc7cd, 0x1, 0x0);
        gbc.writeMem(0xc393, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x451e);
        EXPECT(gbc.pc(), 0xc395);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc393), 0xcb);
        EXPECT(gbc.readMem(0xc394), 0xb);
        // CB 0B 02FD
        gbc.setState(0xb10f, 0xf4f1, 0xfa60, 0xcc89, 0x4644, 0xa92c, 0x1, 0x0);
        gbc.writeMem(0xb10f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xf4f1);
        EXPECT(gbc.pc(), 0xb111);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb10f), 0xcb);
        EXPECT(gbc.readMem(0xb110), 0xb);
        // CB 0B 02FE
        gbc.setState(0xd7b9, 0x5f06, 0x5ad0, 0xea70, 0x345a, 0x6f6a, 0x0, 0x0);
        gbc.writeMem(0xd7b9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x5f06);
        EXPECT(gbc.pc(), 0xd7bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7b9), 0xcb);
        EXPECT(gbc.readMem(0xd7ba), 0xb);
        // CB 0B 02FF
        gbc.setState(0xe440, 0x81ff, 0x5520, 0x10ba, 0x638e, 0x3b3d, 0x1, 0x1);
        gbc.writeMem(0xe440, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x81ff);
        EXPECT(gbc.pc(), 0xe442);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe440), 0xcb);
        EXPECT(gbc.readMem(0xe441), 0xb);
        // CB 0B 0300
        gbc.setState(0x17a7, 0x9f92, 0xe370, 0xcf59, 0xac0f, 0xf1e0, 0x1, 0x0);
        gbc.writeMem(0x17a7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x9f92);
        EXPECT(gbc.pc(), 0x17a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0301
        gbc.setState(0x42ba, 0xe388, 0xbbf0, 0x40dd, 0x3f2e, 0xf083, 0x1, 0x1);
        gbc.writeMem(0x42ba, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xe388);
        EXPECT(gbc.pc(), 0x42bc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0302
        gbc.setState(0x25dd, 0x5e47, 0x6e40, 0x4ca9, 0x43ea, 0x41f, 0x1, 0x1);
        gbc.writeMem(0x25dd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x5e47);
        EXPECT(gbc.pc(), 0x25df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0303
        gbc.setState(0x1153, 0x3e81, 0x9980, 0x5d27, 0x1c57, 0x8b4c, 0x0, 0x0);
        gbc.writeMem(0x1153, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x3e81);
        EXPECT(gbc.pc(), 0x1155);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0304
        gbc.setState(0xc81d, 0x2de1, 0x8d20, 0xfce6, 0xcad2, 0xe9c8, 0x0, 0x1);
        gbc.writeMem(0xc81d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x2de1);
        EXPECT(gbc.pc(), 0xc81f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc81d), 0xcb);
        EXPECT(gbc.readMem(0xc81e), 0xb);
        // CB 0B 0305
        gbc.setState(0xa1db, 0xb3cb, 0x2150, 0x8ac4, 0xfc6e, 0xe04a, 0x1, 0x0);
        gbc.writeMem(0xa1db, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xb3cb);
        EXPECT(gbc.pc(), 0xa1dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1db), 0xcb);
        EXPECT(gbc.readMem(0xa1dc), 0xb);
        // CB 0B 0306
        gbc.setState(0x984c, 0xccac, 0xe370, 0xea5c, 0x662e, 0x5a1d, 0x1, 0x0);
        gbc.writeMem(0x984c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xccac);
        EXPECT(gbc.pc(), 0x984e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x984c), 0xcb);
        EXPECT(gbc.readMem(0x984d), 0xb);
        // CB 0B 0307
        gbc.setState(0x5d0, 0xa104, 0xc1f0, 0x25bb, 0xcd0c, 0x9125, 0x1, 0x1);
        gbc.writeMem(0x5d0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xa104);
        EXPECT(gbc.pc(), 0x5d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0308
        gbc.setState(0xa8ef, 0xdb53, 0x5230, 0x48de, 0x69f2, 0x1e09, 0x1, 0x1);
        gbc.writeMem(0xa8ef, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xdb53);
        EXPECT(gbc.pc(), 0xa8f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8ef), 0xcb);
        EXPECT(gbc.readMem(0xa8f0), 0xb);
        // CB 0B 0309
        gbc.setState(0x6082, 0xccbe, 0xb170, 0xff8, 0x95cd, 0x85ff, 0x0, 0x1);
        gbc.writeMem(0x6082, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xccbe);
        EXPECT(gbc.pc(), 0x6084);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 030A
        gbc.setState(0x4d36, 0x23ee, 0x95c0, 0x8c77, 0xac5b, 0xadbf, 0x1, 0x0);
        gbc.writeMem(0x4d36, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x23ee);
        EXPECT(gbc.pc(), 0x4d38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 030B
        gbc.setState(0x6737, 0x6a7e, 0xa0e0, 0x198a, 0xbfc2, 0xc8a8, 0x0, 0x0);
        gbc.writeMem(0x6737, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x6a7e);
        EXPECT(gbc.pc(), 0x6739);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 030C
        gbc.setState(0x9d4f, 0xeb3c, 0x80, 0xfbe3, 0xe266, 0x8aa6, 0x1, 0x1);
        gbc.writeMem(0x9d4f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xeb3c);
        EXPECT(gbc.pc(), 0x9d51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d4f), 0xcb);
        EXPECT(gbc.readMem(0x9d50), 0xb);
        // CB 0B 030D
        gbc.setState(0xd1d, 0x93c9, 0xe660, 0x2782, 0x2678, 0x3636, 0x0, 0x0);
        gbc.writeMem(0xd1d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x93c9);
        EXPECT(gbc.pc(), 0xd1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 030E
        gbc.setState(0xc455, 0x43d, 0x6740, 0xe29f, 0x7d46, 0x474a, 0x0, 0x1);
        gbc.writeMem(0xc455, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x43d);
        EXPECT(gbc.pc(), 0xc457);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc455), 0xcb);
        EXPECT(gbc.readMem(0xc456), 0xb);
        // CB 0B 030F
        gbc.setState(0x6792, 0x78b5, 0xd410, 0xd61c, 0x6a63, 0x5c78, 0x0, 0x0);
        gbc.writeMem(0x6792, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x78b5);
        EXPECT(gbc.pc(), 0x6794);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0310
        gbc.setState(0x52c, 0x9c68, 0xc4b0, 0x1f7c, 0x12ce, 0x33c1, 0x0, 0x0);
        gbc.writeMem(0x52c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x9c68);
        EXPECT(gbc.pc(), 0x52e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0311
        gbc.setState(0xa0c3, 0x1192, 0x2ec0, 0xade3, 0x9a7b, 0xad15, 0x1, 0x0);
        gbc.writeMem(0xa0c3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x1192);
        EXPECT(gbc.pc(), 0xa0c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0c3), 0xcb);
        EXPECT(gbc.readMem(0xa0c4), 0xb);
        // CB 0B 0312
        gbc.setState(0x73d8, 0x652a, 0xa810, 0xc386, 0xde82, 0x2e52, 0x0, 0x0);
        gbc.writeMem(0x73d8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x652a);
        EXPECT(gbc.pc(), 0x73da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0314
        gbc.setState(0xe6bf, 0xd6d6, 0x810, 0xdba2, 0xf310, 0x49c7, 0x1, 0x0);
        gbc.writeMem(0xe6bf, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xd6d6);
        EXPECT(gbc.pc(), 0xe6c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6bf), 0xcb);
        EXPECT(gbc.readMem(0xe6c0), 0xb);
        // CB 0B 0316
        gbc.setState(0xad38, 0xad0f, 0x20c0, 0x98c6, 0x89da, 0x9ab1, 0x1, 0x1);
        gbc.writeMem(0xad38, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xad0f);
        EXPECT(gbc.pc(), 0xad3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad38), 0xcb);
        EXPECT(gbc.readMem(0xad39), 0xb);
        // CB 0B 0317
        gbc.setState(0x77dc, 0x2b4e, 0x820, 0x3e41, 0xb922, 0xc59, 0x1, 0x0);
        gbc.writeMem(0x77dc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x2b4e);
        EXPECT(gbc.pc(), 0x77de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0319
        gbc.setState(0x1114, 0x26b7, 0x4750, 0xee6e, 0xe797, 0x1679, 0x1, 0x0);
        gbc.writeMem(0x1114, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xcb);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x26b7);
        EXPECT(gbc.pc(), 0x1116);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 031A
        gbc.setState(0x519d, 0x4a6e, 0xad50, 0x6db9, 0x5adc, 0x6abc, 0x1, 0x1);
        gbc.writeMem(0x519d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x4a6e);
        EXPECT(gbc.pc(), 0x519f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 031B
        gbc.setState(0x368d, 0xbc75, 0xdf60, 0xae63, 0xb437, 0x369c, 0x0, 0x0);
        gbc.writeMem(0x368d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xbc75);
        EXPECT(gbc.pc(), 0x368f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 031C
        gbc.setState(0xca79, 0x257d, 0x7d10, 0x2604, 0x7652, 0x8be2, 0x1, 0x1);
        gbc.writeMem(0xca79, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x257d);
        EXPECT(gbc.pc(), 0xca7b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca79), 0xcb);
        EXPECT(gbc.readMem(0xca7a), 0xb);
        // CB 0B 031D
        gbc.setState(0x4fc6, 0xff62, 0xde90, 0x7b2e, 0xe387, 0xe87c, 0x0, 0x0);
        gbc.writeMem(0x4fc6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xff62);
        EXPECT(gbc.pc(), 0x4fc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 031E
        gbc.setState(0x2411, 0xdb8a, 0xd840, 0xa393, 0x919, 0x6028, 0x1, 0x1);
        gbc.writeMem(0x2411, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xdb8a);
        EXPECT(gbc.pc(), 0x2413);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 031F
        gbc.setState(0x8696, 0x7651, 0xffa0, 0x7b9d, 0xe299, 0xb5a9, 0x1, 0x1);
        gbc.writeMem(0x8696, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x7651);
        EXPECT(gbc.pc(), 0x8698);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8696), 0xcb);
        EXPECT(gbc.readMem(0x8697), 0xb);
        // CB 0B 0320
        gbc.setState(0x116b, 0xd812, 0xd2b0, 0x73e7, 0x7bf2, 0xa6c0, 0x1, 0x1);
        gbc.writeMem(0x116b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xd812);
        EXPECT(gbc.pc(), 0x116d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0321
        gbc.setState(0x4aef, 0xe2e, 0x5330, 0x408b, 0x204a, 0x4e53, 0x1, 0x0);
        gbc.writeMem(0x4aef, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xe2e);
        EXPECT(gbc.pc(), 0x4af1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0322
        gbc.setState(0xb488, 0xa173, 0x3f80, 0xc833, 0x54a9, 0x3374, 0x1, 0x1);
        gbc.writeMem(0xb488, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xa173);
        EXPECT(gbc.pc(), 0xb48a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb488), 0xcb);
        EXPECT(gbc.readMem(0xb489), 0xb);
        // CB 0B 0323
        gbc.setState(0xbf92, 0xec54, 0xf6c0, 0x5b30, 0x90c3, 0x955f, 0x0, 0x0);
        gbc.writeMem(0xbf92, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xec54);
        EXPECT(gbc.pc(), 0xbf94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf92), 0xcb);
        EXPECT(gbc.readMem(0xbf93), 0xb);
        // CB 0B 0324
        gbc.setState(0x3a46, 0x3427, 0xd590, 0x624d, 0x57c3, 0x4181, 0x1, 0x1);
        gbc.writeMem(0x3a46, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x3427);
        EXPECT(gbc.pc(), 0x3a48);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0325
        gbc.setState(0xc4e9, 0xfc73, 0xc030, 0x21d6, 0xe091, 0x5017, 0x1, 0x1);
        gbc.writeMem(0xc4e9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xfc73);
        EXPECT(gbc.pc(), 0xc4eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc4e9), 0xcb);
        EXPECT(gbc.readMem(0xc4ea), 0xb);
        // CB 0B 0327
        gbc.setState(0x494b, 0xe681, 0x5d00, 0x553a, 0x7896, 0x37ae, 0x0, 0x1);
        gbc.writeMem(0x494b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xe681);
        EXPECT(gbc.pc(), 0x494d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0328
        gbc.setState(0xcbf9, 0xdccb, 0xff0, 0xd1af, 0xde54, 0x6f0f, 0x1, 0x0);
        gbc.writeMem(0xcbf9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xdccb);
        EXPECT(gbc.pc(), 0xcbfb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbf9), 0xcb);
        EXPECT(gbc.readMem(0xcbfa), 0xb);
        // CB 0B 0329
        gbc.setState(0x74c6, 0x880c, 0x9ac0, 0xf685, 0x5550, 0x4bb9, 0x0, 0x0);
        gbc.writeMem(0x74c6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x880c);
        EXPECT(gbc.pc(), 0x74c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 032A
        gbc.setState(0xc450, 0x6e26, 0xa3e0, 0xd515, 0xeffa, 0x4f5f, 0x1, 0x1);
        gbc.writeMem(0xc450, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x6e26);
        EXPECT(gbc.pc(), 0xc452);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc450), 0xcb);
        EXPECT(gbc.readMem(0xc451), 0xb);
        // CB 0B 032B
        gbc.setState(0x57be, 0xd806, 0x2a0, 0xed76, 0x9e46, 0x779f, 0x1, 0x0);
        gbc.writeMem(0x57be, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xd806);
        EXPECT(gbc.pc(), 0x57c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 032C
        gbc.setState(0x1420, 0xb80f, 0x4f80, 0x9956, 0x5c5a, 0x7e8c, 0x0, 0x0);
        gbc.writeMem(0x1420, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xb80f);
        EXPECT(gbc.pc(), 0x1422);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 032D
        gbc.setState(0xe929, 0x2b90, 0x6bf0, 0x1e04, 0xa90b, 0x4458, 0x0, 0x1);
        gbc.writeMem(0xe929, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x2b90);
        EXPECT(gbc.pc(), 0xe92b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe929), 0xcb);
        EXPECT(gbc.readMem(0xe92a), 0xb);
        // CB 0B 032E
        gbc.setState(0x9fe1, 0xd1, 0xb890, 0xaa0d, 0xc5fe, 0x9772, 0x0, 0x0);
        gbc.writeMem(0x9fe1, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xd1);
        EXPECT(gbc.pc(), 0x9fe3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fe1), 0xcb);
        EXPECT(gbc.readMem(0x9fe2), 0xb);
        // CB 0B 032F
        gbc.setState(0x9800, 0x30a8, 0x1b60, 0xe58b, 0xd6ad, 0xc5aa, 0x1, 0x0);
        gbc.writeMem(0x9800, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x30a8);
        EXPECT(gbc.pc(), 0x9802);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9800), 0xcb);
        EXPECT(gbc.readMem(0x9801), 0xb);
        // CB 0B 0330
        gbc.setState(0x29d4, 0xaec0, 0xc7f0, 0x129, 0x78c9, 0x5365, 0x1, 0x1);
        gbc.writeMem(0x29d4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xaec0);
        EXPECT(gbc.pc(), 0x29d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0331
        gbc.setState(0xd7d2, 0xede0, 0xb3c0, 0x7568, 0xcc84, 0x2a8c, 0x1, 0x1);
        gbc.writeMem(0xd7d2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xede0);
        EXPECT(gbc.pc(), 0xd7d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7d2), 0xcb);
        EXPECT(gbc.readMem(0xd7d3), 0xb);
        // CB 0B 0332
        gbc.setState(0x8df5, 0x3b17, 0x2510, 0x7faa, 0x9b3b, 0xec89, 0x1, 0x0);
        gbc.writeMem(0x8df5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x3b17);
        EXPECT(gbc.pc(), 0x8df7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8df5), 0xcb);
        EXPECT(gbc.readMem(0x8df6), 0xb);
        // CB 0B 0335
        gbc.setState(0x96, 0xf7b2, 0x1ac0, 0xcd99, 0xf32f, 0xc42, 0x0, 0x1);
        gbc.writeMem(0x96, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xf7b2);
        EXPECT(gbc.pc(), 0x98);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0336
        gbc.setState(0x9fd4, 0x2db9, 0x5fd0, 0x249d, 0x1782, 0xf968, 0x1, 0x1);
        gbc.writeMem(0x9fd4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x2db9);
        EXPECT(gbc.pc(), 0x9fd6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fd4), 0xcb);
        EXPECT(gbc.readMem(0x9fd5), 0xb);
        // CB 0B 0337
        gbc.setState(0x11, 0xb116, 0x7130, 0x2d55, 0xb9f1, 0x1823, 0x0, 0x0);
        gbc.writeMem(0x11, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xb116);
        EXPECT(gbc.pc(), 0x13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0338
        gbc.setState(0xdb02, 0x6b0b, 0x3ef0, 0x4df8, 0x7195, 0xbd1a, 0x1, 0x0);
        gbc.writeMem(0xdb02, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x6b0b);
        EXPECT(gbc.pc(), 0xdb04);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdb02), 0xcb);
        EXPECT(gbc.readMem(0xdb03), 0xb);
        // CB 0B 0339
        gbc.setState(0x2bb2, 0x460, 0xa470, 0xae2e, 0x6cbd, 0x9523, 0x0, 0x0);
        gbc.writeMem(0x2bb2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x460);
        EXPECT(gbc.pc(), 0x2bb4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 033A
        gbc.setState(0x507d, 0xbe02, 0x1120, 0xca04, 0xc400, 0x4c9e, 0x1, 0x0);
        gbc.writeMem(0x507d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xbe02);
        EXPECT(gbc.pc(), 0x507f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 033C
        gbc.setState(0x60cb, 0x115c, 0x1e0, 0xe445, 0x990a, 0x57b8, 0x1, 0x1);
        gbc.writeMem(0x60cb, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x115c);
        EXPECT(gbc.pc(), 0x60cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 033D
        gbc.setState(0x5fdb, 0xd34, 0x6a40, 0x9eda, 0xb979, 0x1fe4, 0x1, 0x1);
        gbc.writeMem(0x5fdb, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xd34);
        EXPECT(gbc.pc(), 0x5fdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 033E
        gbc.setState(0x8036, 0x7589, 0xfbe0, 0xe3bf, 0x66d, 0x3139, 0x0, 0x0);
        gbc.writeMem(0x8036, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x7589);
        EXPECT(gbc.pc(), 0x8038);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8036), 0xcb);
        EXPECT(gbc.readMem(0x8037), 0xb);
        // CB 0B 033F
        gbc.setState(0x41d9, 0x28ac, 0x59a0, 0xb610, 0x4ac3, 0xcede, 0x0, 0x0);
        gbc.writeMem(0x41d9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x28ac);
        EXPECT(gbc.pc(), 0x41db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0340
        gbc.setState(0x4210, 0x8bd6, 0x41a0, 0xf92d, 0x3a88, 0x4bdf, 0x0, 0x1);
        gbc.writeMem(0x4210, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x8bd6);
        EXPECT(gbc.pc(), 0x4212);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0341
        gbc.setState(0xef53, 0x4fc, 0xc900, 0x80a7, 0xff29, 0xd09a, 0x1, 0x0);
        gbc.writeMem(0xef53, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x4fc);
        EXPECT(gbc.pc(), 0xef55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xef53), 0xcb);
        EXPECT(gbc.readMem(0xef54), 0xb);
        // CB 0B 0342
        gbc.setState(0x5fea, 0xe419, 0x2d60, 0x54b4, 0x544a, 0x303, 0x0, 0x1);
        gbc.writeMem(0x5fea, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xe419);
        EXPECT(gbc.pc(), 0x5fec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0343
        gbc.setState(0xd4ff, 0x4b0c, 0x5e90, 0xa753, 0xe391, 0x3116, 0x1, 0x0);
        gbc.writeMem(0xd4ff, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x4b0c);
        EXPECT(gbc.pc(), 0xd501);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4ff), 0xcb);
        EXPECT(gbc.readMem(0xd500), 0xb);
        // CB 0B 0344
        gbc.setState(0x6edf, 0x1b83, 0x5090, 0x4dea, 0xd2c4, 0x401e, 0x1, 0x0);
        gbc.writeMem(0x6edf, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x1b83);
        EXPECT(gbc.pc(), 0x6ee1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0345
        gbc.setState(0xd679, 0x3ad8, 0x37d0, 0x69ee, 0x881b, 0x861e, 0x1, 0x0);
        gbc.writeMem(0xd679, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x3ad8);
        EXPECT(gbc.pc(), 0xd67b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd679), 0xcb);
        EXPECT(gbc.readMem(0xd67a), 0xb);
        // CB 0B 0346
        gbc.setState(0xcc8e, 0xf89d, 0x5eb0, 0xf8fd, 0x9935, 0xed64, 0x1, 0x1);
        gbc.writeMem(0xcc8e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xf89d);
        EXPECT(gbc.pc(), 0xcc90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc8e), 0xcb);
        EXPECT(gbc.readMem(0xcc8f), 0xb);
        // CB 0B 0347
        gbc.setState(0x1c35, 0x4a1f, 0xaea0, 0x8da9, 0xfdea, 0x7e2b, 0x0, 0x1);
        gbc.writeMem(0x1c35, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x4a1f);
        EXPECT(gbc.pc(), 0x1c37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0348
        gbc.setState(0x7e36, 0x1b5e, 0xa660, 0x5811, 0x56a9, 0x89c, 0x1, 0x1);
        gbc.writeMem(0x7e36, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x1b5e);
        EXPECT(gbc.pc(), 0x7e38);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0349
        gbc.setState(0xb263, 0xd655, 0x94e0, 0x361e, 0x5c5a, 0xff92, 0x0, 0x0);
        gbc.writeMem(0xb263, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xd655);
        EXPECT(gbc.pc(), 0xb265);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb263), 0xcb);
        EXPECT(gbc.readMem(0xb264), 0xb);
        // CB 0B 034A
        gbc.setState(0xcf90, 0x3e1c, 0xfe70, 0x280, 0xb539, 0x7181, 0x1, 0x0);
        gbc.writeMem(0xcf90, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x3e1c);
        EXPECT(gbc.pc(), 0xcf92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf90), 0xcb);
        EXPECT(gbc.readMem(0xcf91), 0xb);
        // CB 0B 034B
        gbc.setState(0x63a4, 0x480e, 0xa850, 0x66a4, 0xed1, 0x9504, 0x1, 0x1);
        gbc.writeMem(0x63a4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x480e);
        EXPECT(gbc.pc(), 0x63a6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 034C
        gbc.setState(0x78b3, 0x6815, 0x90a0, 0xc49, 0xa370, 0x630e, 0x1, 0x1);
        gbc.writeMem(0x78b3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x6815);
        EXPECT(gbc.pc(), 0x78b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 034D
        gbc.setState(0x3930, 0x79c8, 0x6600, 0xdce6, 0xcd99, 0xe960, 0x1, 0x1);
        gbc.writeMem(0x3930, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x79c8);
        EXPECT(gbc.pc(), 0x3932);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 034E
        gbc.setState(0x77c8, 0x79e8, 0xdb00, 0xf194, 0x1784, 0xf3fc, 0x0, 0x0);
        gbc.writeMem(0x77c8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x79e8);
        EXPECT(gbc.pc(), 0x77ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 034F
        gbc.setState(0xd5c6, 0x58da, 0x7270, 0x494e, 0xa4d3, 0x54a1, 0x0, 0x1);
        gbc.writeMem(0xd5c6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x58da);
        EXPECT(gbc.pc(), 0xd5c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd5c6), 0xcb);
        EXPECT(gbc.readMem(0xd5c7), 0xb);
        // CB 0B 0350
        gbc.setState(0xe34e, 0x6888, 0xd50, 0xfa0d, 0x684, 0xf980, 0x0, 0x0);
        gbc.writeMem(0xe34e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x6888);
        EXPECT(gbc.pc(), 0xe350);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe34e), 0xcb);
        EXPECT(gbc.readMem(0xe34f), 0xb);
        // CB 0B 0351
        gbc.setState(0xddb7, 0x208e, 0xbf80, 0xe71b, 0x380d, 0x3728, 0x1, 0x0);
        gbc.writeMem(0xddb7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x208e);
        EXPECT(gbc.pc(), 0xddb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddb7), 0xcb);
        EXPECT(gbc.readMem(0xddb8), 0xb);
        // CB 0B 0352
        gbc.setState(0x7b42, 0xa689, 0x8560, 0xbefc, 0x8f19, 0xe3ba, 0x0, 0x0);
        gbc.writeMem(0x7b42, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xa689);
        EXPECT(gbc.pc(), 0x7b44);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0353
        gbc.setState(0xbe91, 0xd248, 0x7e30, 0x52d3, 0x9e8f, 0x4bef, 0x1, 0x1);
        gbc.writeMem(0xbe91, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0xd248);
        EXPECT(gbc.pc(), 0xbe93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe91), 0xcb);
        EXPECT(gbc.readMem(0xbe92), 0xb);
        // CB 0B 0354
        gbc.setState(0xcd, 0x9c1f, 0xb5a0, 0x6aa1, 0xce41, 0xfcf2, 0x1, 0x0);
        gbc.writeMem(0xcd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x9c1f);
        EXPECT(gbc.pc(), 0xcf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0356
        gbc.setState(0xfbd, 0xcc15, 0x67e0, 0x81f5, 0x8714, 0xe1f6, 0x0, 0x0);
        gbc.writeMem(0xfbd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xcc15);
        EXPECT(gbc.pc(), 0xfbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0357
        gbc.setState(0x23dc, 0x7c9c, 0xe70, 0xd33d, 0x901b, 0xa08, 0x0, 0x1);
        gbc.writeMem(0x23dc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x7c9c);
        EXPECT(gbc.pc(), 0x23de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0358
        gbc.setState(0x2d74, 0xff1d, 0x10e0, 0x1f9c, 0x98a5, 0x26d6, 0x1, 0x1);
        gbc.writeMem(0x2d74, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0xff1d);
        EXPECT(gbc.pc(), 0x2d76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0359
        gbc.setState(0xd75b, 0x9d0e, 0xeba0, 0x2c84, 0x9cbc, 0x8a88, 0x1, 0x1);
        gbc.writeMem(0xd75b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x9d0e);
        EXPECT(gbc.pc(), 0xd75d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd75b), 0xcb);
        EXPECT(gbc.readMem(0xd75c), 0xb);
        // CB 0B 035A
        gbc.setState(0xe542, 0x7c05, 0x20e0, 0xcc0f, 0xbb5b, 0xa6c8, 0x1, 0x0);
        gbc.writeMem(0xe542, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x7c05);
        EXPECT(gbc.pc(), 0xe544);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe542), 0xcb);
        EXPECT(gbc.readMem(0xe543), 0xb);
        // CB 0B 035B
        gbc.setState(0x577c, 0x95e1, 0xe400, 0x1079, 0xb7db, 0x6d60, 0x1, 0x1);
        gbc.writeMem(0x577c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x95e1);
        EXPECT(gbc.pc(), 0x577e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 035C
        gbc.setState(0x5099, 0xe838, 0x2110, 0x8e47, 0x567d, 0x5fa5, 0x0, 0x1);
        gbc.writeMem(0x5099, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xe838);
        EXPECT(gbc.pc(), 0x509b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 035D
        gbc.setState(0xa0c0, 0xa7bc, 0x31c0, 0xc99f, 0x3a99, 0x8085, 0x0, 0x0);
        gbc.writeMem(0xa0c0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xa7bc);
        EXPECT(gbc.pc(), 0xa0c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0c0), 0xcb);
        EXPECT(gbc.readMem(0xa0c1), 0xb);
        // CB 0B 035E
        gbc.setState(0x2dd0, 0x8068, 0xcc20, 0xc21f, 0xa406, 0x5b42, 0x1, 0x1);
        gbc.writeMem(0x2dd0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x8068);
        EXPECT(gbc.pc(), 0x2dd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 035F
        gbc.setState(0xbc29, 0xf78d, 0x6650, 0xbcd6, 0xa818, 0x8c03, 0x1, 0x1);
        gbc.writeMem(0xbc29, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xf78d);
        EXPECT(gbc.pc(), 0xbc2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc29), 0xcb);
        EXPECT(gbc.readMem(0xbc2a), 0xb);
        // CB 0B 0360
        gbc.setState(0x40f, 0xf6b4, 0x8930, 0xe49a, 0x291b, 0xf09, 0x0, 0x0);
        gbc.writeMem(0x40f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xf6b4);
        EXPECT(gbc.pc(), 0x411);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0361
        gbc.setState(0x19b8, 0x6bc3, 0xa30, 0xed5d, 0x6fd2, 0xa8cb, 0x1, 0x0);
        gbc.writeMem(0x19b8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x6bc3);
        EXPECT(gbc.pc(), 0x19ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0362
        gbc.setState(0xb3f8, 0x9d3c, 0xc960, 0x5ca, 0x46c1, 0x7744, 0x0, 0x1);
        gbc.writeMem(0xb3f8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x9d3c);
        EXPECT(gbc.pc(), 0xb3fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3f8), 0xcb);
        EXPECT(gbc.readMem(0xb3f9), 0xb);
        // CB 0B 0363
        gbc.setState(0x1564, 0xd8e6, 0x60f0, 0x8033, 0x685f, 0x1290, 0x0, 0x1);
        gbc.writeMem(0x1564, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xd8e6);
        EXPECT(gbc.pc(), 0x1566);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0364
        gbc.setState(0xe7fe, 0x4566, 0x8af0, 0x4892, 0x10d3, 0xdd13, 0x1, 0x0);
        gbc.writeMem(0xe7fe, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x4566);
        EXPECT(gbc.pc(), 0xe800);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe7fe), 0xcb);
        EXPECT(gbc.readMem(0xe7ff), 0xb);
        // CB 0B 0365
        gbc.setState(0xba20, 0x431d, 0xa9c0, 0x9bc6, 0x9be0, 0x4b26, 0x1, 0x0);
        gbc.writeMem(0xba20, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x431d);
        EXPECT(gbc.pc(), 0xba22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba20), 0xcb);
        EXPECT(gbc.readMem(0xba21), 0xb);
        // CB 0B 0366
        gbc.setState(0xa771, 0x94de, 0xd3f0, 0xb028, 0xf7a5, 0xc716, 0x1, 0x0);
        gbc.writeMem(0xa771, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x94de);
        EXPECT(gbc.pc(), 0xa773);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa771), 0xcb);
        EXPECT(gbc.readMem(0xa772), 0xb);
        // CB 0B 0367
        gbc.setState(0x9c4, 0xfac6, 0x4c40, 0x3f8b, 0x5132, 0x5953, 0x0, 0x1);
        gbc.writeMem(0x9c4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xfac6);
        EXPECT(gbc.pc(), 0x9c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0369
        gbc.setState(0x486a, 0xc394, 0xd770, 0xe2b9, 0x3ad2, 0x5565, 0x0, 0x1);
        gbc.writeMem(0x486a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xc394);
        EXPECT(gbc.pc(), 0x486c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 036B
        gbc.setState(0x98c2, 0x1512, 0xff80, 0x682e, 0x3b12, 0x975d, 0x1, 0x0);
        gbc.writeMem(0x98c2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x1512);
        EXPECT(gbc.pc(), 0x98c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98c2), 0xcb);
        EXPECT(gbc.readMem(0x98c3), 0xb);
        // CB 0B 036C
        gbc.setState(0xbf62, 0xe2, 0x4fc0, 0xd2e1, 0x6a9, 0x6df3, 0x0, 0x1);
        gbc.writeMem(0xbf62, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xe2);
        EXPECT(gbc.pc(), 0xbf64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf62), 0xcb);
        EXPECT(gbc.readMem(0xbf63), 0xb);
        // CB 0B 036D
        gbc.setState(0xc699, 0xd91f, 0xc5a0, 0x408c, 0x798b, 0x16d3, 0x0, 0x1);
        gbc.writeMem(0xc699, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xd91f);
        EXPECT(gbc.pc(), 0xc69b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc699), 0xcb);
        EXPECT(gbc.readMem(0xc69a), 0xb);
        // CB 0B 036E
        gbc.setState(0xcd51, 0xb51c, 0x21b0, 0xfbfe, 0xe656, 0xa4f, 0x1, 0x1);
        gbc.writeMem(0xcd51, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xb51c);
        EXPECT(gbc.pc(), 0xcd53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd51), 0xcb);
        EXPECT(gbc.readMem(0xcd52), 0xb);
        // CB 0B 036F
        gbc.setState(0x6b06, 0x7682, 0xf680, 0xd2ee, 0x6419, 0xed45, 0x1, 0x0);
        gbc.writeMem(0x6b06, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x7682);
        EXPECT(gbc.pc(), 0x6b08);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0370
        gbc.setState(0xc01, 0xab57, 0xbd40, 0x2471, 0x513f, 0xc554, 0x0, 0x0);
        gbc.writeMem(0xc01, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xab57);
        EXPECT(gbc.pc(), 0xc03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0371
        gbc.setState(0x681a, 0x2b6a, 0x3d20, 0xad12, 0xd906, 0x5eaf, 0x1, 0x1);
        gbc.writeMem(0x681a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x2b6a);
        EXPECT(gbc.pc(), 0x681c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0372
        gbc.setState(0xc7b7, 0xad9, 0x9990, 0x6c6f, 0x38cf, 0x7010, 0x1, 0x1);
        gbc.writeMem(0xc7b7, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xad9);
        EXPECT(gbc.pc(), 0xc7b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc7b7), 0xcb);
        EXPECT(gbc.readMem(0xc7b8), 0xb);
        // CB 0B 0373
        gbc.setState(0xc080, 0xebd3, 0x3360, 0x39f9, 0x8455, 0xf62f, 0x0, 0x1);
        gbc.writeMem(0xc080, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xebd3);
        EXPECT(gbc.pc(), 0xc082);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc080), 0xcb);
        EXPECT(gbc.readMem(0xc081), 0xb);
        // CB 0B 0374
        gbc.setState(0x31bb, 0x2ba1, 0x5eb0, 0x293c, 0x3146, 0x61f8, 0x0, 0x0);
        gbc.writeMem(0x31bb, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x2ba1);
        EXPECT(gbc.pc(), 0x31bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0376
        gbc.setState(0x7236, 0x852e, 0xc5f0, 0x15b7, 0x53e, 0x4efd, 0x0, 0x0);
        gbc.writeMem(0x7236, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x852e);
        EXPECT(gbc.pc(), 0x7238);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0377
        gbc.setState(0x2dca, 0x867, 0x3370, 0x4406, 0xcd2e, 0x25fd, 0x1, 0x1);
        gbc.writeMem(0x2dca, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x867);
        EXPECT(gbc.pc(), 0x2dcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0378
        gbc.setState(0xe358, 0xa5e9, 0xc980, 0x2d06, 0x64ef, 0xa826, 0x1, 0x1);
        gbc.writeMem(0xe358, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xa5e9);
        EXPECT(gbc.pc(), 0xe35a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe358), 0xcb);
        EXPECT(gbc.readMem(0xe359), 0xb);
        // CB 0B 0379
        gbc.setState(0x6195, 0x53f8, 0x5270, 0xd142, 0x5ddc, 0xfd3b, 0x0, 0x1);
        gbc.writeMem(0x6195, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x53f8);
        EXPECT(gbc.pc(), 0x6197);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 037B
        gbc.setState(0xb983, 0xb158, 0xf6e0, 0xb013, 0xa17f, 0x66d3, 0x1, 0x1);
        gbc.writeMem(0xb983, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xb158);
        EXPECT(gbc.pc(), 0xb985);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb983), 0xcb);
        EXPECT(gbc.readMem(0xb984), 0xb);
        // CB 0B 037C
        gbc.setState(0x66cf, 0x4c8d, 0x78c0, 0xa4cf, 0x3547, 0x7ee, 0x1, 0x1);
        gbc.writeMem(0x66cf, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x7);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x4c8d);
        EXPECT(gbc.pc(), 0x66d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 037D
        gbc.setState(0x16b6, 0xacc1, 0xc510, 0x35ad, 0x1b39, 0x2387, 0x0, 0x1);
        gbc.writeMem(0x16b6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xacc1);
        EXPECT(gbc.pc(), 0x16b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 037E
        gbc.setState(0xd6f8, 0x823c, 0x8630, 0x7f4e, 0x552c, 0xac8f, 0x0, 0x0);
        gbc.writeMem(0xd6f8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x823c);
        EXPECT(gbc.pc(), 0xd6fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6f8), 0xcb);
        EXPECT(gbc.readMem(0xd6f9), 0xb);
        // CB 0B 037F
        gbc.setState(0xdd81, 0x3d9a, 0xb0b0, 0x8a10, 0x8079, 0xbfb5, 0x1, 0x1);
        gbc.writeMem(0xdd81, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x3d9a);
        EXPECT(gbc.pc(), 0xdd83);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd81), 0xcb);
        EXPECT(gbc.readMem(0xdd82), 0xb);
        // CB 0B 0380
        gbc.setState(0xe0fa, 0x65a1, 0x9f0, 0x360d, 0xf550, 0xea45, 0x0, 0x1);
        gbc.writeMem(0xe0fa, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x65a1);
        EXPECT(gbc.pc(), 0xe0fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0fa), 0xcb);
        EXPECT(gbc.readMem(0xe0fb), 0xb);
        // CB 0B 0381
        gbc.setState(0xdeb3, 0x5e6e, 0x2470, 0xeaa8, 0x78ae, 0x7997, 0x1, 0x1);
        gbc.writeMem(0xdeb3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x5e6e);
        EXPECT(gbc.pc(), 0xdeb5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdeb3), 0xcb);
        EXPECT(gbc.readMem(0xdeb4), 0xb);
        // CB 0B 0382
        gbc.setState(0x126a, 0xf261, 0xbb20, 0xc8c9, 0xc8a6, 0xd95a, 0x1, 0x0);
        gbc.writeMem(0x126a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xf261);
        EXPECT(gbc.pc(), 0x126c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0383
        gbc.setState(0x49be, 0x90ec, 0xb190, 0x7996, 0x1d1, 0x25d, 0x1, 0x0);
        gbc.writeMem(0x49be, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x90ec);
        EXPECT(gbc.pc(), 0x49c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0384
        gbc.setState(0x13c8, 0xbbad, 0xd690, 0xce69, 0x314d, 0xdd0d, 0x1, 0x0);
        gbc.writeMem(0x13c8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xbbad);
        EXPECT(gbc.pc(), 0x13ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0385
        gbc.setState(0x3cc3, 0x30d2, 0xfaa0, 0xa505, 0xe0cd, 0xa23, 0x1, 0x1);
        gbc.writeMem(0x3cc3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x30d2);
        EXPECT(gbc.pc(), 0x3cc5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0386
        gbc.setState(0xe0b5, 0x9152, 0xa350, 0x7e50, 0x9c21, 0xbc90, 0x0, 0x1);
        gbc.writeMem(0xe0b5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x9152);
        EXPECT(gbc.pc(), 0xe0b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0b5), 0xcb);
        EXPECT(gbc.readMem(0xe0b6), 0xb);
        // CB 0B 0387
        gbc.setState(0x37d2, 0xce0f, 0xafc0, 0x95b9, 0x3294, 0x4f08, 0x1, 0x1);
        gbc.writeMem(0x37d2, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0xce0f);
        EXPECT(gbc.pc(), 0x37d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0388
        gbc.setState(0x98d9, 0xdc33, 0x6620, 0x3bfd, 0x9bdd, 0x1f1f, 0x0, 0x0);
        gbc.writeMem(0x98d9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xdc33);
        EXPECT(gbc.pc(), 0x98db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x98d9), 0xcb);
        EXPECT(gbc.readMem(0x98da), 0xb);
        // CB 0B 0389
        gbc.setState(0xc409, 0x2ae0, 0xfe80, 0x3ca9, 0xd567, 0x2a39, 0x1, 0x0);
        gbc.writeMem(0xc409, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x2ae0);
        EXPECT(gbc.pc(), 0xc40b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc409), 0xcb);
        EXPECT(gbc.readMem(0xc40a), 0xb);
        // CB 0B 038A
        gbc.setState(0xa66b, 0xae49, 0x7c30, 0x4f5f, 0x2b37, 0xd73, 0x1, 0x0);
        gbc.writeMem(0xa66b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0xae49);
        EXPECT(gbc.pc(), 0xa66d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa66b), 0xcb);
        EXPECT(gbc.readMem(0xa66c), 0xb);
        // CB 0B 038B
        gbc.setState(0xd231, 0x3426, 0x85a0, 0x603b, 0xc859, 0xd3a5, 0x1, 0x0);
        gbc.writeMem(0xd231, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x3426);
        EXPECT(gbc.pc(), 0xd233);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd231), 0xcb);
        EXPECT(gbc.readMem(0xd232), 0xb);
        // CB 0B 038C
        gbc.setState(0xd130, 0x5925, 0xa9e0, 0xb522, 0x7925, 0x9d92, 0x0, 0x0);
        gbc.writeMem(0xd130, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x5925);
        EXPECT(gbc.pc(), 0xd132);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd130), 0xcb);
        EXPECT(gbc.readMem(0xd131), 0xb);
        // CB 0B 038D
        gbc.setState(0x15c4, 0xb5af, 0xea00, 0xd631, 0xed81, 0xb3de, 0x1, 0x0);
        gbc.writeMem(0x15c4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xb5af);
        EXPECT(gbc.pc(), 0x15c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 038E
        gbc.setState(0x9123, 0xcd0f, 0xb70, 0x94df, 0xdec5, 0xa3af, 0x1, 0x0);
        gbc.writeMem(0x9123, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xcd0f);
        EXPECT(gbc.pc(), 0x9125);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9123), 0xcb);
        EXPECT(gbc.readMem(0x9124), 0xb);
        // CB 0B 038F
        gbc.setState(0x69f4, 0xe942, 0x5980, 0x65f2, 0x8c18, 0x5e45, 0x0, 0x0);
        gbc.writeMem(0x69f4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xe942);
        EXPECT(gbc.pc(), 0x69f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 0390
        gbc.setState(0x2b59, 0xbc5, 0xcf70, 0xbbf4, 0x4d13, 0x4187, 0x0, 0x1);
        gbc.writeMem(0x2b59, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xbc5);
        EXPECT(gbc.pc(), 0x2b5b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0391
        gbc.setState(0xe56e, 0xea52, 0x8100, 0xd7fd, 0xa060, 0x4a86, 0x1, 0x0);
        gbc.writeMem(0xe56e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xea52);
        EXPECT(gbc.pc(), 0xe570);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe56e), 0xcb);
        EXPECT(gbc.readMem(0xe56f), 0xb);
        // CB 0B 0392
        gbc.setState(0x9580, 0xc99, 0xef60, 0x8b39, 0x8ce4, 0x87b2, 0x1, 0x0);
        gbc.writeMem(0x9580, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xc99);
        EXPECT(gbc.pc(), 0x9582);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9580), 0xcb);
        EXPECT(gbc.readMem(0x9581), 0xb);
        // CB 0B 0395
        gbc.setState(0x1e9, 0xbf04, 0xe9c0, 0x1759, 0x6aed, 0x6533, 0x1, 0x1);
        gbc.writeMem(0x1e9, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xbf04);
        EXPECT(gbc.pc(), 0x1eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0396
        gbc.setState(0xe4fe, 0x1d98, 0x1110, 0xf0d2, 0x1ad8, 0x628a, 0x0, 0x0);
        gbc.writeMem(0xe4fe, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x1d98);
        EXPECT(gbc.pc(), 0xe500);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4fe), 0xcb);
        EXPECT(gbc.readMem(0xe4ff), 0xb);
        // CB 0B 0397
        gbc.setState(0x7be3, 0x41f9, 0x8aa0, 0x8c47, 0x3a93, 0x864a, 0x1, 0x1);
        gbc.writeMem(0x7be3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x41f9);
        EXPECT(gbc.pc(), 0x7be5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 0398
        gbc.setState(0xa6ae, 0xe27, 0x3180, 0x13d, 0x532b, 0x6174, 0x1, 0x0);
        gbc.writeMem(0xa6ae, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xe27);
        EXPECT(gbc.pc(), 0xa6b0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6ae), 0xcb);
        EXPECT(gbc.readMem(0xa6af), 0xb);
        // CB 0B 0399
        gbc.setState(0x6a9e, 0xf45f, 0x7c0, 0xd427, 0xa723, 0xe01e, 0x0, 0x0);
        gbc.writeMem(0x6a9e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf45f);
        EXPECT(gbc.pc(), 0x6aa0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 039A
        gbc.setState(0x1d1f, 0xa766, 0xf1c0, 0xb960, 0x8275, 0x132f, 0x0, 0x1);
        gbc.writeMem(0x1d1f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xa766);
        EXPECT(gbc.pc(), 0x1d21);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 039B
        gbc.setState(0x8ef4, 0xd18b, 0x75c0, 0xb3a2, 0x4aa0, 0xcad1, 0x0, 0x0);
        gbc.writeMem(0x8ef4, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xd18b);
        EXPECT(gbc.pc(), 0x8ef6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ef4), 0xcb);
        EXPECT(gbc.readMem(0x8ef5), 0xb);
        // CB 0B 039C
        gbc.setState(0x77a3, 0x163c, 0xe970, 0xafc7, 0x935b, 0x3cd3, 0x0, 0x1);
        gbc.writeMem(0x77a3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x163c);
        EXPECT(gbc.pc(), 0x77a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 039D
        gbc.setState(0xb580, 0xfd10, 0xf1d0, 0x90a0, 0x87b3, 0xc5f8, 0x1, 0x0);
        gbc.writeMem(0xb580, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xfd10);
        EXPECT(gbc.pc(), 0xb582);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb580), 0xcb);
        EXPECT(gbc.readMem(0xb581), 0xb);
        // CB 0B 039E
        gbc.setState(0x355e, 0xc799, 0xb480, 0x818e, 0xc486, 0xb256, 0x1, 0x0);
        gbc.writeMem(0x355e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xc799);
        EXPECT(gbc.pc(), 0x3560);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 039F
        gbc.setState(0x70a0, 0x869e, 0xe510, 0x1dd3, 0x462b, 0x7512, 0x0, 0x0);
        gbc.writeMem(0x70a0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x869e);
        EXPECT(gbc.pc(), 0x70a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03A0
        gbc.setState(0x1c6a, 0x7de8, 0x4070, 0x11b3, 0xe31a, 0x3001, 0x1, 0x1);
        gbc.writeMem(0x1c6a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x7de8);
        EXPECT(gbc.pc(), 0x1c6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03A1
        gbc.setState(0x73b5, 0xa9a7, 0xe560, 0x90f, 0xa676, 0xce3d, 0x1, 0x1);
        gbc.writeMem(0x73b5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xa9a7);
        EXPECT(gbc.pc(), 0x73b7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03A2
        gbc.setState(0x207e, 0xe699, 0x7f60, 0x408f, 0x1e8b, 0x592f, 0x0, 0x1);
        gbc.writeMem(0x207e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xe699);
        EXPECT(gbc.pc(), 0x2080);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03A3
        gbc.setState(0x7899, 0x59c8, 0x7200, 0xf206, 0x8949, 0x8e07, 0x0, 0x0);
        gbc.writeMem(0x7899, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x59c8);
        EXPECT(gbc.pc(), 0x789b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03A4
        gbc.setState(0x45f8, 0x2254, 0x4ea0, 0xdf74, 0xe4fd, 0xda64, 0x0, 0x1);
        gbc.writeMem(0x45f8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x2254);
        EXPECT(gbc.pc(), 0x45fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03A5
        gbc.setState(0x17aa, 0x5f7, 0x9fa0, 0xc62a, 0x39e6, 0x6245, 0x0, 0x1);
        gbc.writeMem(0x17aa, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x5f7);
        EXPECT(gbc.pc(), 0x17ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03A6
        gbc.setState(0xf11, 0xffca, 0xcfb0, 0xe8f4, 0x5f33, 0xcdb3, 0x1, 0x0);
        gbc.writeMem(0xf11, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xffca);
        EXPECT(gbc.pc(), 0xf13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03A7
        gbc.setState(0x579a, 0x4322, 0x3ef0, 0x5fcb, 0x4a32, 0x28c6, 0x0, 0x1);
        gbc.writeMem(0x579a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x4322);
        EXPECT(gbc.pc(), 0x579c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03A8
        gbc.setState(0x66bd, 0xe450, 0x1d50, 0xed7d, 0x3a8a, 0xd940, 0x1, 0x0);
        gbc.writeMem(0x66bd, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xe450);
        EXPECT(gbc.pc(), 0x66bf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03A9
        gbc.setState(0x3d6a, 0x9c5a, 0xb9e0, 0xe9d5, 0x287e, 0x8400, 0x1, 0x0);
        gbc.writeMem(0x3d6a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb9);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x9c5a);
        EXPECT(gbc.pc(), 0x3d6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03AA
        gbc.setState(0xe3ce, 0x44ff, 0xbdf0, 0x6c58, 0xef95, 0xb5c8, 0x0, 0x1);
        gbc.writeMem(0xe3ce, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x44ff);
        EXPECT(gbc.pc(), 0xe3d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3ce), 0xcb);
        EXPECT(gbc.readMem(0xe3cf), 0xb);
        // CB 0B 03AB
        gbc.setState(0x261a, 0x1b30, 0x1650, 0x8341, 0x5d6f, 0x92c3, 0x0, 0x0);
        gbc.writeMem(0x261a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x1b30);
        EXPECT(gbc.pc(), 0x261c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03AC
        gbc.setState(0x8084, 0x7187, 0x9c90, 0xe8f3, 0x6a5c, 0x4e19, 0x1, 0x1);
        gbc.writeMem(0x8084, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x7187);
        EXPECT(gbc.pc(), 0x8086);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8084), 0xcb);
        EXPECT(gbc.readMem(0x8085), 0xb);
        // CB 0B 03AD
        gbc.setState(0xe347, 0x1972, 0x87b0, 0x67cc, 0x34de, 0xb776, 0x1, 0x1);
        gbc.writeMem(0xe347, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x1972);
        EXPECT(gbc.pc(), 0xe349);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe347), 0xcb);
        EXPECT(gbc.readMem(0xe348), 0xb);
        // CB 0B 03AE
        gbc.setState(0x4156, 0xd6c0, 0xad00, 0xf96e, 0x81da, 0x8159, 0x1, 0x0);
        gbc.writeMem(0x4156, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xd6c0);
        EXPECT(gbc.pc(), 0x4158);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03AF
        gbc.setState(0x4a7e, 0xd85, 0x2c60, 0xe82f, 0x917f, 0x1d67, 0x0, 0x0);
        gbc.writeMem(0x4a7e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xd85);
        EXPECT(gbc.pc(), 0x4a80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03B1
        gbc.setState(0x7c65, 0x92f5, 0xd610, 0x3951, 0xf7fb, 0x6c31, 0x1, 0x0);
        gbc.writeMem(0x7c65, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x92f5);
        EXPECT(gbc.pc(), 0x7c67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03B2
        gbc.setState(0x8a90, 0xc739, 0x7b40, 0xadd4, 0xf6fd, 0x6962, 0x1, 0x1);
        gbc.writeMem(0x8a90, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0xc739);
        EXPECT(gbc.pc(), 0x8a92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a90), 0xcb);
        EXPECT(gbc.readMem(0x8a91), 0xb);
        // CB 0B 03B3
        gbc.setState(0x649e, 0xd7bc, 0xf00, 0x1990, 0x2198, 0x5a0d, 0x1, 0x0);
        gbc.writeMem(0x649e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xd7bc);
        EXPECT(gbc.pc(), 0x64a0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03B4
        gbc.setState(0x9617, 0x4414, 0xd740, 0x4ed7, 0x3f4b, 0xfd22, 0x0, 0x0);
        gbc.writeMem(0x9617, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x4414);
        EXPECT(gbc.pc(), 0x9619);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9617), 0xcb);
        EXPECT(gbc.readMem(0x9618), 0xb);
        // CB 0B 03B5
        gbc.setState(0x278b, 0x68d2, 0x38a0, 0xb905, 0xf560, 0x6228, 0x1, 0x0);
        gbc.writeMem(0x278b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x68d2);
        EXPECT(gbc.pc(), 0x278d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03B6
        gbc.setState(0xd67e, 0x5ede, 0xafb0, 0x21b2, 0x3042, 0xa8e0, 0x0, 0x0);
        gbc.writeMem(0xd67e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x5ede);
        EXPECT(gbc.pc(), 0xd680);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd67e), 0xcb);
        EXPECT(gbc.readMem(0xd67f), 0xb);
        // CB 0B 03B7
        gbc.setState(0x4556, 0x2260, 0xea60, 0x1ead, 0x69eb, 0xfc8f, 0x0, 0x1);
        gbc.writeMem(0x4556, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x2260);
        EXPECT(gbc.pc(), 0x4558);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03B9
        gbc.setState(0x7a29, 0xa1bc, 0x6ab0, 0x4433, 0x5596, 0x4006, 0x0, 0x1);
        gbc.writeMem(0x7a29, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xa1bc);
        EXPECT(gbc.pc(), 0x7a2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03BA
        gbc.setState(0xb998, 0xf0e3, 0x4be0, 0xe1bf, 0x52bd, 0x3aa5, 0x0, 0x0);
        gbc.writeMem(0xb998, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xf0e3);
        EXPECT(gbc.pc(), 0xb99a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb998), 0xcb);
        EXPECT(gbc.readMem(0xb999), 0xb);
        // CB 0B 03BB
        gbc.setState(0xa64f, 0x5776, 0xc2a0, 0x9249, 0x1512, 0xd846, 0x1, 0x1);
        gbc.writeMem(0xa64f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x5776);
        EXPECT(gbc.pc(), 0xa651);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa64f), 0xcb);
        EXPECT(gbc.readMem(0xa650), 0xb);
        // CB 0B 03BC
        gbc.setState(0xdf33, 0x548a, 0x5ac0, 0x7d55, 0x2c6e, 0x9c24, 0x1, 0x1);
        gbc.writeMem(0xdf33, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x548a);
        EXPECT(gbc.pc(), 0xdf35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf33), 0xcb);
        EXPECT(gbc.readMem(0xdf34), 0xb);
        // CB 0B 03BD
        gbc.setState(0x6ab0, 0x1509, 0x19b0, 0xf0de, 0x2a57, 0xf894, 0x1, 0x0);
        gbc.writeMem(0x6ab0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x1509);
        EXPECT(gbc.pc(), 0x6ab2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03BE
        gbc.setState(0xb41f, 0xbebe, 0xaf20, 0xf4ca, 0xa9c3, 0xdcbd, 0x0, 0x1);
        gbc.writeMem(0xb41f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xbebe);
        EXPECT(gbc.pc(), 0xb421);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb41f), 0xcb);
        EXPECT(gbc.readMem(0xb420), 0xb);
        // CB 0B 03BF
        gbc.setState(0x6386, 0xac32, 0xe160, 0xaf2c, 0x3c7, 0x33b1, 0x1, 0x1);
        gbc.writeMem(0x6386, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xac32);
        EXPECT(gbc.pc(), 0x6388);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03C0
        gbc.setState(0x8bc0, 0xefa0, 0xb80, 0xb92d, 0x72e2, 0xe1b, 0x0, 0x0);
        gbc.writeMem(0x8bc0, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xefa0);
        EXPECT(gbc.pc(), 0x8bc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bc0), 0xcb);
        EXPECT(gbc.readMem(0x8bc1), 0xb);
        // CB 0B 03C2
        gbc.setState(0x74b, 0x3434, 0x4690, 0x53f9, 0x4190, 0x293d, 0x0, 0x1);
        gbc.writeMem(0x74b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x3434);
        EXPECT(gbc.pc(), 0x74d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03C3
        gbc.setState(0x5f17, 0xdf68, 0x90c0, 0x64d5, 0xc87c, 0xd454, 0x0, 0x0);
        gbc.writeMem(0x5f17, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xdf68);
        EXPECT(gbc.pc(), 0x5f19);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03C4
        gbc.setState(0x8b2b, 0x3918, 0xa690, 0xcb63, 0xc455, 0xdc96, 0x0, 0x1);
        gbc.writeMem(0x8b2b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3918);
        EXPECT(gbc.pc(), 0x8b2d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8b2b), 0xcb);
        EXPECT(gbc.readMem(0x8b2c), 0xb);
        // CB 0B 03C5
        gbc.setState(0xa6e5, 0xa5aa, 0x1230, 0x28b1, 0xd712, 0x6ad0, 0x0, 0x0);
        gbc.writeMem(0xa6e5, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xa5aa);
        EXPECT(gbc.pc(), 0xa6e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6e5), 0xcb);
        EXPECT(gbc.readMem(0xa6e6), 0xb);
        // CB 0B 03C6
        gbc.setState(0xce3, 0x5187, 0xe920, 0x2413, 0x8a65, 0xf557, 0x1, 0x1);
        gbc.writeMem(0xce3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x5187);
        EXPECT(gbc.pc(), 0xce5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03C7
        gbc.setState(0xc078, 0x4377, 0x700, 0x595f, 0xf836, 0x69d8, 0x0, 0x1);
        gbc.writeMem(0xc078, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x4377);
        EXPECT(gbc.pc(), 0xc07a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc078), 0xcb);
        EXPECT(gbc.readMem(0xc079), 0xb);
        // CB 0B 03CA
        gbc.setState(0x55ac, 0x8185, 0x1f60, 0x5996, 0xe333, 0xa2cb, 0x0, 0x1);
        gbc.writeMem(0x55ac, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x8185);
        EXPECT(gbc.pc(), 0x55ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03CB
        gbc.setState(0x5da6, 0xda89, 0x2df0, 0x9ee0, 0x5c98, 0x7489, 0x0, 0x1);
        gbc.writeMem(0x5da6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xda89);
        EXPECT(gbc.pc(), 0x5da8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03CC
        gbc.setState(0x9324, 0xb53c, 0x3430, 0x45d4, 0xccdb, 0x3b9, 0x1, 0x1);
        gbc.writeMem(0x9324, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xb53c);
        EXPECT(gbc.pc(), 0x9326);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9324), 0xcb);
        EXPECT(gbc.readMem(0x9325), 0xb);
        // CB 0B 03CD
        gbc.setState(0x9a46, 0xcece, 0xe310, 0x7f33, 0xf99a, 0x3b10, 0x0, 0x0);
        gbc.writeMem(0x9a46, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xcece);
        EXPECT(gbc.pc(), 0x9a48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a46), 0xcb);
        EXPECT(gbc.readMem(0x9a47), 0xb);
        // CB 0B 03CE
        gbc.setState(0x37be, 0xdd8, 0x8990, 0xa26c, 0x696d, 0xb2c0, 0x0, 0x0);
        gbc.writeMem(0x37be, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xdd8);
        EXPECT(gbc.pc(), 0x37c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03CF
        gbc.setState(0x7f1a, 0x2c21, 0xfde0, 0x6056, 0xc91a, 0xaa63, 0x1, 0x1);
        gbc.writeMem(0x7f1a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x2c21);
        EXPECT(gbc.pc(), 0x7f1c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03D0
        gbc.setState(0xc766, 0x92f6, 0x6340, 0x26a6, 0x7fb, 0x54a9, 0x1, 0x0);
        gbc.writeMem(0xc766, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x92f6);
        EXPECT(gbc.pc(), 0xc768);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc766), 0xcb);
        EXPECT(gbc.readMem(0xc767), 0xb);
        // CB 0B 03D1
        gbc.setState(0xa53a, 0x372c, 0x9f40, 0x9238, 0x6300, 0xc91d, 0x0, 0x1);
        gbc.writeMem(0xa53a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x372c);
        EXPECT(gbc.pc(), 0xa53c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa53a), 0xcb);
        EXPECT(gbc.readMem(0xa53b), 0xb);
        // CB 0B 03D2
        gbc.setState(0xca90, 0xb4cd, 0x6510, 0xcc0c, 0x3a5d, 0xcbab, 0x0, 0x0);
        gbc.writeMem(0xca90, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xb4cd);
        EXPECT(gbc.pc(), 0xca92);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca90), 0xcb);
        EXPECT(gbc.readMem(0xca91), 0xb);
        // CB 0B 03D3
        gbc.setState(0x285d, 0x388f, 0xd4e0, 0x9221, 0x2c4e, 0x3aec, 0x0, 0x1);
        gbc.writeMem(0x285d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x388f);
        EXPECT(gbc.pc(), 0x285f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03D4
        gbc.setState(0x1a2e, 0x7ab8, 0x9f80, 0x82a, 0x1515, 0xa04e, 0x0, 0x1);
        gbc.writeMem(0x1a2e, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x7ab8);
        EXPECT(gbc.pc(), 0x1a30);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03D5
        gbc.setState(0x4f4f, 0x58c4, 0x4990, 0x6661, 0xf73c, 0xcde7, 0x0, 0x1);
        gbc.writeMem(0x4f4f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x58c4);
        EXPECT(gbc.pc(), 0x4f51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03D6
        gbc.setState(0x82cb, 0x1847, 0x7590, 0x308c, 0x41aa, 0xb28c, 0x1, 0x0);
        gbc.writeMem(0x82cb, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x1847);
        EXPECT(gbc.pc(), 0x82cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82cb), 0xcb);
        EXPECT(gbc.readMem(0x82cc), 0xb);
        // CB 0B 03D7
        gbc.setState(0x9736, 0x2194, 0x9d00, 0x9a40, 0x7158, 0x6e70, 0x0, 0x0);
        gbc.writeMem(0x9736, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x2194);
        EXPECT(gbc.pc(), 0x9738);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9736), 0xcb);
        EXPECT(gbc.readMem(0x9737), 0xb);
        // CB 0B 03D8
        gbc.setState(0x9f91, 0xe544, 0xa2c0, 0x8d59, 0x3c5e, 0x74b8, 0x1, 0x0);
        gbc.writeMem(0x9f91, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xe544);
        EXPECT(gbc.pc(), 0x9f93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f91), 0xcb);
        EXPECT(gbc.readMem(0x9f92), 0xb);
        // CB 0B 03D9
        gbc.setState(0x596a, 0xc020, 0xb0d0, 0x8661, 0x76b, 0x3cfc, 0x0, 0x0);
        gbc.writeMem(0x596a, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xc020);
        EXPECT(gbc.pc(), 0x596c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03DA
        gbc.setState(0xe231, 0x303b, 0xc7b0, 0xb28a, 0x5bf0, 0x718f, 0x0, 0x0);
        gbc.writeMem(0xe231, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x303b);
        EXPECT(gbc.pc(), 0xe233);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe231), 0xcb);
        EXPECT(gbc.readMem(0xe232), 0xb);
        // CB 0B 03DB
        gbc.setState(0x8f6, 0x541c, 0xd0a0, 0x439f, 0x2b55, 0x466b, 0x0, 0x0);
        gbc.writeMem(0x8f6, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x541c);
        EXPECT(gbc.pc(), 0x8f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03DC
        gbc.setState(0x23dc, 0x866b, 0xe410, 0x228c, 0x4967, 0xc207, 0x0, 0x1);
        gbc.writeMem(0x23dc, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x866b);
        EXPECT(gbc.pc(), 0x23de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03DE
        gbc.setState(0x715c, 0xa24e, 0xfd0, 0x67c6, 0xcc5f, 0xc346, 0x1, 0x1);
        gbc.writeMem(0x715c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xa24e);
        EXPECT(gbc.pc(), 0x715e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03DF
        gbc.setState(0x957f, 0xa838, 0xc5e0, 0x5b89, 0x2995, 0xeb8a, 0x1, 0x1);
        gbc.writeMem(0x957f, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xa838);
        EXPECT(gbc.pc(), 0x9581);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x957f), 0xcb);
        EXPECT(gbc.readMem(0x9580), 0xb);
        // CB 0B 03E0
        gbc.setState(0x9301, 0x1790, 0x3cc0, 0x13ed, 0x7fca, 0xeb36, 0x1, 0x0);
        gbc.writeMem(0x9301, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x1790);
        EXPECT(gbc.pc(), 0x9303);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9301), 0xcb);
        EXPECT(gbc.readMem(0x9302), 0xb);
        // CB 0B 03E1
        gbc.setState(0xbed8, 0xc1d, 0x1b50, 0x38ed, 0xa35a, 0xe630, 0x0, 0x1);
        gbc.writeMem(0xbed8, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xc1d);
        EXPECT(gbc.pc(), 0xbeda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbed8), 0xcb);
        EXPECT(gbc.readMem(0xbed9), 0xb);
        // CB 0B 03E2
        gbc.setState(0x1330, 0x9ff3, 0x3f60, 0xe71, 0x68cb, 0x210d, 0x1, 0x0);
        gbc.writeMem(0x1330, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x9ff3);
        EXPECT(gbc.pc(), 0x1332);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03E3
        gbc.setState(0x632c, 0xd6bf, 0x96a0, 0xb4, 0xd6e8, 0xd810, 0x1, 0x0);
        gbc.writeMem(0x632c, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xd6bf);
        EXPECT(gbc.pc(), 0x632e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03E4
        gbc.setState(0x266b, 0xf650, 0xa180, 0x299d, 0xb602, 0xd561, 0x0, 0x0);
        gbc.writeMem(0x266b, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xf650);
        EXPECT(gbc.pc(), 0x266d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // CB 0B 03E5
        gbc.setState(0x7fca, 0x202a, 0x4660, 0x3c6a, 0x638d, 0x55c5, 0x1, 0x0);
        gbc.writeMem(0x7fca, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x202a);
        EXPECT(gbc.pc(), 0x7fcc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // CB 0B 03E6
        gbc.setState(0x845d, 0x25bf, 0x9db0, 0x8167, 0xfad0, 0x33ef, 0x0, 0x0);
        gbc.writeMem(0x845d, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x25bf);
        EXPECT(gbc.pc(), 0x845f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x845d), 0xcb);
        EXPECT(gbc.readMem(0x845e), 0xb);
        // CB 0B 03E7
        gbc.setState(0xb5a3, 0x90ca, 0xd390, 0xac24, 0xa14a, 0x80e7, 0x1, 0x1);
        gbc.writeMem(0xb5a3, { 0xcb, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x90ca);
        EXPECT(gbc.pc(), 0xb5a5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5a3), 0xcb);
        EXPECT(gbc.readMem(0xb5a4), 0xb);
    }
