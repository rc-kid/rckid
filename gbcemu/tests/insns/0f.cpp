#include "../gbctests_insns.h"
#if (defined GBCEMU_INSNS_TESTS_ALL) || (defined GBCEMU_INSNS_TESTS_0f)
#include "../gbctests.h"

namespace rckid::gbcemu {

    TEST(gbcemu, opcode_0f) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 0F 0000
        gbc.setState(0xd304, 0xa4aa, 0x3420, 0xdce1, 0xc2fc, 0x589d, 0x1, 0x1);
        gbc.writeMem(0xd304, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xa4aa);
        EXPECT(gbc.pc(), 0xd305);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd304), 0xf);
        // 0F 0001
        gbc.setState(0x4145, 0x5e93, 0x4770, 0xb61f, 0x15b7, 0x5599, 0x1, 0x0);
        gbc.writeMem(0x4145, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x5e93);
        EXPECT(gbc.pc(), 0x4146);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0002
        gbc.setState(0x9fab, 0x8eb7, 0xfa80, 0xa4c1, 0xe777, 0xe304, 0x1, 0x1);
        gbc.writeMem(0x9fab, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x8eb7);
        EXPECT(gbc.pc(), 0x9fac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fab), 0xf);
        // 0F 0003
        gbc.setState(0xa0c6, 0xb346, 0x8680, 0x733d, 0xe3ee, 0xc1ee, 0x1, 0x0);
        gbc.writeMem(0xa0c6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xb346);
        EXPECT(gbc.pc(), 0xa0c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0c6), 0xf);
        // 0F 0004
        gbc.setState(0xd8e2, 0x4f16, 0xed60, 0x6e9b, 0x7e43, 0xb3c9, 0x0, 0x0);
        gbc.writeMem(0xd8e2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x4f16);
        EXPECT(gbc.pc(), 0xd8e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8e2), 0xf);
        // 0F 0005
        gbc.setState(0xb3f5, 0x3d95, 0x3380, 0x7ebe, 0xb979, 0xc090, 0x1, 0x0);
        gbc.writeMem(0xb3f5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x3d95);
        EXPECT(gbc.pc(), 0xb3f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3f5), 0xf);
        // 0F 0007
        gbc.setState(0x964f, 0xc4, 0x4040, 0x60e, 0x7095, 0x12, 0x0, 0x1);
        gbc.writeMem(0x964f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xc4);
        EXPECT(gbc.pc(), 0x9650);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x964f), 0xf);
        // 0F 0008
        gbc.setState(0x7410, 0x6f8, 0xec30, 0xe736, 0x132f, 0xd5da, 0x1, 0x1);
        gbc.writeMem(0x7410, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x6f8);
        EXPECT(gbc.pc(), 0x7411);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0009
        gbc.setState(0xd4f0, 0xb234, 0x8590, 0xba5c, 0x14d9, 0x19c2, 0x0, 0x0);
        gbc.writeMem(0xd4f0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xb234);
        EXPECT(gbc.pc(), 0xd4f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd4f0), 0xf);
        // 0F 000A
        gbc.setState(0x3590, 0x1468, 0x11c0, 0x3af4, 0x600f, 0xb676, 0x1, 0x0);
        gbc.writeMem(0x3590, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x1468);
        EXPECT(gbc.pc(), 0x3591);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 000B
        gbc.setState(0x6dd7, 0xe43c, 0x1da0, 0x13b4, 0xcb17, 0xbd28, 0x0, 0x1);
        gbc.writeMem(0x6dd7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xe43c);
        EXPECT(gbc.pc(), 0x6dd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 000C
        gbc.setState(0xbad, 0x1ed8, 0xef90, 0x535b, 0xad32, 0x67bc, 0x0, 0x0);
        gbc.writeMem(0xbad, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x1ed8);
        EXPECT(gbc.pc(), 0xbae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 000D
        gbc.setState(0xe3d1, 0x3c55, 0x3840, 0x207a, 0xb07d, 0x833, 0x1, 0x1);
        gbc.writeMem(0xe3d1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x3c55);
        EXPECT(gbc.pc(), 0xe3d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe3d1), 0xf);
        // 0F 000E
        gbc.setState(0xa49c, 0x97ca, 0xc150, 0x6806, 0x3bd3, 0xbcbb, 0x1, 0x0);
        gbc.writeMem(0xa49c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x97ca);
        EXPECT(gbc.pc(), 0xa49d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa49c), 0xf);
        // 0F 000F
        gbc.setState(0xe0b9, 0xa12b, 0x47c0, 0xedd, 0x8bf6, 0x1209, 0x0, 0x0);
        gbc.writeMem(0xe0b9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xa12b);
        EXPECT(gbc.pc(), 0xe0ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe0b9), 0xf);
        // 0F 0010
        gbc.setState(0x2130, 0xa069, 0x1dc0, 0xdc1d, 0xe383, 0xb3f8, 0x0, 0x1);
        gbc.writeMem(0x2130, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xa069);
        EXPECT(gbc.pc(), 0x2131);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0011
        gbc.setState(0x3dad, 0x5dae, 0xadf0, 0x3b75, 0xed69, 0x4248, 0x0, 0x1);
        gbc.writeMem(0x3dad, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x5dae);
        EXPECT(gbc.pc(), 0x3dae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0012
        gbc.setState(0xa488, 0x75ff, 0x6060, 0x774a, 0x4779, 0x9481, 0x0, 0x0);
        gbc.writeMem(0xa488, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x75ff);
        EXPECT(gbc.pc(), 0xa489);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa488), 0xf);
        // 0F 0014
        gbc.setState(0x8d7c, 0x339d, 0x5030, 0xdd84, 0x817e, 0xe3a, 0x0, 0x0);
        gbc.writeMem(0x8d7c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x339d);
        EXPECT(gbc.pc(), 0x8d7d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d7c), 0xf);
        // 0F 0015
        gbc.setState(0xde49, 0xcde3, 0xe3d0, 0x358b, 0x262e, 0x757a, 0x0, 0x0);
        gbc.writeMem(0xde49, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xcde3);
        EXPECT(gbc.pc(), 0xde4a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde49), 0xf);
        // 0F 0016
        gbc.setState(0x547b, 0x4b1d, 0x22d0, 0x2d1e, 0x5be9, 0x9f3a, 0x1, 0x0);
        gbc.writeMem(0x547b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x4b1d);
        EXPECT(gbc.pc(), 0x547c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0017
        gbc.setState(0x42a6, 0xfaf2, 0x3390, 0xdd2, 0x6244, 0x30e1, 0x1, 0x1);
        gbc.writeMem(0x42a6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xfaf2);
        EXPECT(gbc.pc(), 0x42a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0018
        gbc.setState(0xb4f7, 0xcb57, 0x9920, 0x1e96, 0xbcf8, 0x4db2, 0x1, 0x0);
        gbc.writeMem(0xb4f7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xcb57);
        EXPECT(gbc.pc(), 0xb4f8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4f7), 0xf);
        // 0F 0019
        gbc.setState(0x8c50, 0x54f4, 0xb690, 0xae3c, 0x1c76, 0xd13e, 0x0, 0x1);
        gbc.writeMem(0x8c50, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x54f4);
        EXPECT(gbc.pc(), 0x8c51);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c50), 0xf);
        // 0F 001A
        gbc.setState(0x2644, 0x3b86, 0x97b0, 0xe277, 0x2ceb, 0xdc26, 0x1, 0x1);
        gbc.writeMem(0x2644, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x3b86);
        EXPECT(gbc.pc(), 0x2645);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 001B
        gbc.setState(0xd66f, 0xf4d8, 0x78c0, 0x3fdf, 0x4e4d, 0x4092, 0x1, 0x0);
        gbc.writeMem(0xd66f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xf4d8);
        EXPECT(gbc.pc(), 0xd670);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd66f), 0xf);
        // 0F 001C
        gbc.setState(0x7bbe, 0xb838, 0xaad0, 0x86fe, 0xb7c2, 0xddf3, 0x0, 0x1);
        gbc.writeMem(0x7bbe, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xb838);
        EXPECT(gbc.pc(), 0x7bbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 001D
        gbc.setState(0xc2f9, 0x7449, 0x6f50, 0xc4dc, 0x3fa6, 0x8296, 0x1, 0x0);
        gbc.writeMem(0xc2f9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x7449);
        EXPECT(gbc.pc(), 0xc2fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc2f9), 0xf);
        // 0F 001E
        gbc.setState(0xe639, 0xf2ac, 0x8b90, 0x3f84, 0x9d12, 0x7127, 0x1, 0x0);
        gbc.writeMem(0xe639, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xf2ac);
        EXPECT(gbc.pc(), 0xe63a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe639), 0xf);
        // 0F 001F
        gbc.setState(0x1929, 0xabd4, 0x1600, 0xc4e8, 0xa596, 0x6d7d, 0x1, 0x1);
        gbc.writeMem(0x1929, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xabd4);
        EXPECT(gbc.pc(), 0x192a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0021
        gbc.setState(0xa1ea, 0x78f2, 0x6e10, 0x36b5, 0x39bf, 0xde14, 0x0, 0x0);
        gbc.writeMem(0xa1ea, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x78f2);
        EXPECT(gbc.pc(), 0xa1eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1ea), 0xf);
        // 0F 0022
        gbc.setState(0x5e98, 0x2f8c, 0xbca0, 0x83bf, 0x5f52, 0x4568, 0x0, 0x0);
        gbc.writeMem(0x5e98, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x2f8c);
        EXPECT(gbc.pc(), 0x5e99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0023
        gbc.setState(0x15ed, 0xcb28, 0x7810, 0x2582, 0x1fe1, 0x83c, 0x1, 0x0);
        gbc.writeMem(0x15ed, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xcb28);
        EXPECT(gbc.pc(), 0x15ee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0025
        gbc.setState(0xeba9, 0x7de2, 0x9ae0, 0x1d5d, 0xbeae, 0xf835, 0x0, 0x0);
        gbc.writeMem(0xeba9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x7de2);
        EXPECT(gbc.pc(), 0xebaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeba9), 0xf);
        // 0F 0026
        gbc.setState(0xebcd, 0xef46, 0xee20, 0xf4c5, 0xdffc, 0x9e71, 0x0, 0x0);
        gbc.writeMem(0xebcd, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x77);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xef46);
        EXPECT(gbc.pc(), 0xebce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xebcd), 0xf);
        // 0F 0027
        gbc.setState(0x1a6d, 0x1884, 0xfe70, 0x85a4, 0x6607, 0xf1b4, 0x0, 0x1);
        gbc.writeMem(0x1a6d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x1884);
        EXPECT(gbc.pc(), 0x1a6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0028
        gbc.setState(0xc00a, 0x12b5, 0xea70, 0x1dde, 0xee6d, 0x3a9, 0x0, 0x1);
        gbc.writeMem(0xc00a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x12b5);
        EXPECT(gbc.pc(), 0xc00b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc00a), 0xf);
        // 0F 0029
        gbc.setState(0x5fc0, 0xe4b4, 0x6d80, 0x89fe, 0xcc00, 0x5baf, 0x1, 0x0);
        gbc.writeMem(0x5fc0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xe4b4);
        EXPECT(gbc.pc(), 0x5fc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 002A
        gbc.setState(0x2fa, 0x53fa, 0xa620, 0x3cda, 0x2f84, 0x7fee, 0x0, 0x0);
        gbc.writeMem(0x2fa, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x53fa);
        EXPECT(gbc.pc(), 0x2fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 002B
        gbc.setState(0x6276, 0xb541, 0xca30, 0x1ac, 0x6e8f, 0xdea, 0x0, 0x0);
        gbc.writeMem(0x6276, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0xb541);
        EXPECT(gbc.pc(), 0x6277);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 002C
        gbc.setState(0x7839, 0x3588, 0x76e0, 0x8ff4, 0xcc62, 0x1793, 0x1, 0x0);
        gbc.writeMem(0x7839, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0x3588);
        EXPECT(gbc.pc(), 0x783a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 002D
        gbc.setState(0xe1a6, 0x7681, 0xd160, 0xfe55, 0xd6ef, 0xa838, 0x0, 0x1);
        gbc.writeMem(0xe1a6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x7681);
        EXPECT(gbc.pc(), 0xe1a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1a6), 0xf);
        // 0F 002E
        gbc.setState(0xc80d, 0x8113, 0x2290, 0x6523, 0xd2b7, 0xa90b, 0x1, 0x0);
        gbc.writeMem(0xc80d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x8113);
        EXPECT(gbc.pc(), 0xc80e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc80d), 0xf);
        // 0F 002F
        gbc.setState(0x71a5, 0x5610, 0x1b0, 0x5b74, 0x48c0, 0xabbb, 0x0, 0x0);
        gbc.writeMem(0x71a5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x5610);
        EXPECT(gbc.pc(), 0x71a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0030
        gbc.setState(0x6cff, 0x759, 0x2e00, 0x21ae, 0x25b, 0x5bfb, 0x0, 0x1);
        gbc.writeMem(0x6cff, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x759);
        EXPECT(gbc.pc(), 0x6d00);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0031
        gbc.setState(0x280b, 0xd3e0, 0x9fd0, 0xf21, 0x5ad6, 0xc233, 0x1, 0x0);
        gbc.writeMem(0x280b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xd3e0);
        EXPECT(gbc.pc(), 0x280c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0032
        gbc.setState(0x9b4d, 0xada4, 0x1790, 0x1ea1, 0xfe7c, 0x7381, 0x1, 0x0);
        gbc.writeMem(0x9b4d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0xada4);
        EXPECT(gbc.pc(), 0x9b4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9b4d), 0xf);
        // 0F 0034
        gbc.setState(0x7f43, 0xff82, 0xc20, 0x33dc, 0x937e, 0xaec4, 0x1, 0x0);
        gbc.writeMem(0x7f43, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xff82);
        EXPECT(gbc.pc(), 0x7f44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0035
        gbc.setState(0x356c, 0x75ac, 0xa400, 0xe0d3, 0x7126, 0x22ba, 0x0, 0x0);
        gbc.writeMem(0x356c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x75ac);
        EXPECT(gbc.pc(), 0x356d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0036
        gbc.setState(0xc39c, 0x187, 0x5730, 0x4347, 0x6ada, 0xcfea, 0x0, 0x0);
        gbc.writeMem(0xc39c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x187);
        EXPECT(gbc.pc(), 0xc39d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc39c), 0xf);
        // 0F 0037
        gbc.setState(0xa393, 0x94f, 0x8580, 0x6c2f, 0x2187, 0xe86a, 0x1, 0x1);
        gbc.writeMem(0xa393, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x94f);
        EXPECT(gbc.pc(), 0xa394);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa393), 0xf);
        // 0F 0038
        gbc.setState(0x8570, 0xf3f2, 0x5e0, 0xa577, 0xa9dc, 0x795b, 0x0, 0x0);
        gbc.writeMem(0x8570, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xf3f2);
        EXPECT(gbc.pc(), 0x8571);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8570), 0xf);
        // 0F 0039
        gbc.setState(0x477d, 0xeade, 0xac70, 0x255b, 0x2dc8, 0x3a77, 0x1, 0x0);
        gbc.writeMem(0x477d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xeade);
        EXPECT(gbc.pc(), 0x477e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 003A
        gbc.setState(0xb812, 0x4601, 0xeda0, 0xdc48, 0x8d20, 0x2ad0, 0x1, 0x1);
        gbc.writeMem(0xb812, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x4601);
        EXPECT(gbc.pc(), 0xb813);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb812), 0xf);
        // 0F 003B
        gbc.setState(0xdbe9, 0xbec, 0xf010, 0x91d, 0x5bc2, 0xe27, 0x0, 0x0);
        gbc.writeMem(0xdbe9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xbec);
        EXPECT(gbc.pc(), 0xdbea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbe9), 0xf);
        // 0F 003C
        gbc.setState(0x1714, 0xf29, 0x21a0, 0x623c, 0x9a5d, 0xcf4b, 0x1, 0x0);
        gbc.writeMem(0x1714, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xf29);
        EXPECT(gbc.pc(), 0x1715);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 003D
        gbc.setState(0xc9b4, 0x99bd, 0xda0, 0xe110, 0x3443, 0x6f78, 0x1, 0x0);
        gbc.writeMem(0xc9b4, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x99bd);
        EXPECT(gbc.pc(), 0xc9b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc9b4), 0xf);
        // 0F 003E
        gbc.setState(0x2f72, 0x1a55, 0xf8a0, 0x30d6, 0x33db, 0x37ba, 0x1, 0x0);
        gbc.writeMem(0x2f72, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x1a55);
        EXPECT(gbc.pc(), 0x2f73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 003F
        gbc.setState(0x8a27, 0x9972, 0x9d0, 0x223d, 0x2ff, 0xd303, 0x0, 0x0);
        gbc.writeMem(0x8a27, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x9972);
        EXPECT(gbc.pc(), 0x8a28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a27), 0xf);
        // 0F 0040
        gbc.setState(0x3749, 0x2345, 0x30f0, 0x78b, 0xce12, 0x6bf3, 0x1, 0x0);
        gbc.writeMem(0x3749, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x2345);
        EXPECT(gbc.pc(), 0x374a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0041
        gbc.setState(0xc375, 0x140, 0xe1f0, 0xdf07, 0x7ef9, 0xf727, 0x0, 0x1);
        gbc.writeMem(0xc375, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x140);
        EXPECT(gbc.pc(), 0xc376);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc375), 0xf);
        // 0F 0042
        gbc.setState(0x5af8, 0xed90, 0xfaa0, 0x2098, 0x73f1, 0xa98f, 0x1, 0x1);
        gbc.writeMem(0x5af8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xed90);
        EXPECT(gbc.pc(), 0x5af9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0043
        gbc.setState(0xe1f0, 0x7165, 0x7c90, 0xf3c4, 0x220d, 0x8710, 0x0, 0x1);
        gbc.writeMem(0xe1f0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x7165);
        EXPECT(gbc.pc(), 0xe1f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1f0), 0xf);
        // 0F 0044
        gbc.setState(0x686a, 0x45f1, 0xf3c0, 0x46a9, 0xd59, 0xeb8d, 0x0, 0x0);
        gbc.writeMem(0x686a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x45f1);
        EXPECT(gbc.pc(), 0x686b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0045
        gbc.setState(0xd2fa, 0xe880, 0xd480, 0xf330, 0x2713, 0xa2f2, 0x1, 0x1);
        gbc.writeMem(0xd2fa, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xe880);
        EXPECT(gbc.pc(), 0xd2fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2fa), 0xf);
        // 0F 0046
        gbc.setState(0x4dcc, 0x8a92, 0x36c0, 0xbbb7, 0x4807, 0x39d3, 0x1, 0x1);
        gbc.writeMem(0x4dcc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x8a92);
        EXPECT(gbc.pc(), 0x4dcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0047
        gbc.setState(0x78cc, 0x9340, 0x9ec0, 0x8f43, 0x7124, 0xcb9a, 0x1, 0x0);
        gbc.writeMem(0x78cc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x9340);
        EXPECT(gbc.pc(), 0x78cd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0048
        gbc.setState(0x88d9, 0x2f8e, 0x9750, 0xce90, 0x3513, 0xb24b, 0x1, 0x0);
        gbc.writeMem(0x88d9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x2f8e);
        EXPECT(gbc.pc(), 0x88da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x88d9), 0xf);
        // 0F 0049
        gbc.setState(0x414f, 0x3e9c, 0x8330, 0x5565, 0x581a, 0x931e, 0x0, 0x1);
        gbc.writeMem(0x414f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x3e9c);
        EXPECT(gbc.pc(), 0x4150);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 004A
        gbc.setState(0xaf70, 0x892c, 0xc6b0, 0xfe69, 0x299b, 0x5331, 0x0, 0x1);
        gbc.writeMem(0xaf70, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x892c);
        EXPECT(gbc.pc(), 0xaf71);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf70), 0xf);
        // 0F 004B
        gbc.setState(0x954b, 0xe8a, 0x5510, 0xf66d, 0x806f, 0x971d, 0x0, 0x0);
        gbc.writeMem(0x954b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xe8a);
        EXPECT(gbc.pc(), 0x954c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x954b), 0xf);
        // 0F 004C
        gbc.setState(0xd798, 0x1dab, 0x7450, 0xa69a, 0xd776, 0xee7d, 0x1, 0x0);
        gbc.writeMem(0xd798, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x1dab);
        EXPECT(gbc.pc(), 0xd799);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd798), 0xf);
        // 0F 004D
        gbc.setState(0x4f68, 0x7490, 0x7530, 0xc0a4, 0x4ef3, 0xbe95, 0x0, 0x0);
        gbc.writeMem(0x4f68, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x7490);
        EXPECT(gbc.pc(), 0x4f69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 004E
        gbc.setState(0x1a62, 0xf8ea, 0x8c70, 0xa51e, 0x7791, 0x453a, 0x0, 0x0);
        gbc.writeMem(0x1a62, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf8ea);
        EXPECT(gbc.pc(), 0x1a63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 004F
        gbc.setState(0xb990, 0xfe51, 0xbef0, 0x7835, 0x2544, 0xf4ba, 0x0, 0x1);
        gbc.writeMem(0xb990, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xfe51);
        EXPECT(gbc.pc(), 0xb991);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb990), 0xf);
        // 0F 0050
        gbc.setState(0x1d63, 0x2687, 0xac50, 0x44d1, 0x9454, 0x393b, 0x1, 0x1);
        gbc.writeMem(0x1d63, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x2687);
        EXPECT(gbc.pc(), 0x1d64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0051
        gbc.setState(0xa0df, 0x4a9a, 0xff40, 0xd05a, 0xcb2f, 0x302, 0x1, 0x0);
        gbc.writeMem(0xa0df, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x4a9a);
        EXPECT(gbc.pc(), 0xa0e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa0df), 0xf);
        // 0F 0052
        gbc.setState(0x7e71, 0xe196, 0x8cd0, 0x39a5, 0x4cdc, 0x6711, 0x1, 0x1);
        gbc.writeMem(0x7e71, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xe196);
        EXPECT(gbc.pc(), 0x7e72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0053
        gbc.setState(0x3878, 0x613a, 0xb8b0, 0x6017, 0x1dce, 0x5889, 0x1, 0x0);
        gbc.writeMem(0x3878, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x613a);
        EXPECT(gbc.pc(), 0x3879);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0054
        gbc.setState(0x80b5, 0x5fce, 0x6b50, 0xeefa, 0x1d94, 0x995b, 0x0, 0x0);
        gbc.writeMem(0x80b5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x5fce);
        EXPECT(gbc.pc(), 0x80b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x80b5), 0xf);
        // 0F 0055
        gbc.setState(0xdffa, 0xdd39, 0x7c10, 0xc3ca, 0x91de, 0xd1bf, 0x0, 0x1);
        gbc.writeMem(0xdffa, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xdd39);
        EXPECT(gbc.pc(), 0xdffb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdffa), 0xf);
        // 0F 0056
        gbc.setState(0x7ebc, 0x998e, 0xcc30, 0x7a01, 0xe183, 0x3284, 0x0, 0x0);
        gbc.writeMem(0x7ebc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x998e);
        EXPECT(gbc.pc(), 0x7ebd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0058
        gbc.setState(0xd96a, 0xe324, 0x4390, 0x4a1d, 0xd19, 0x7311, 0x0, 0x0);
        gbc.writeMem(0xd96a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xe324);
        EXPECT(gbc.pc(), 0xd96b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd96a), 0xf);
        // 0F 0059
        gbc.setState(0x5b8c, 0x6ce0, 0x1c50, 0xe50d, 0x8e6f, 0xe214, 0x1, 0x1);
        gbc.writeMem(0x5b8c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x6ce0);
        EXPECT(gbc.pc(), 0x5b8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 005A
        gbc.setState(0x24d8, 0x260b, 0xfc30, 0xbd0e, 0xb882, 0x48a, 0x1, 0x1);
        gbc.writeMem(0x24d8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x260b);
        EXPECT(gbc.pc(), 0x24d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 005B
        gbc.setState(0x2e3, 0x661, 0x5010, 0xdb92, 0xfb1e, 0xa791, 0x1, 0x1);
        gbc.writeMem(0x2e3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x661);
        EXPECT(gbc.pc(), 0x2e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 005C
        gbc.setState(0x4ef3, 0x49b4, 0x8a70, 0xa1b8, 0xb00f, 0xe0de, 0x0, 0x0);
        gbc.writeMem(0x4ef3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x49b4);
        EXPECT(gbc.pc(), 0x4ef4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 005D
        gbc.setState(0x43cb, 0x5cc9, 0x23a0, 0x1428, 0xe20e, 0xda67, 0x1, 0x0);
        gbc.writeMem(0x43cb, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x5cc9);
        EXPECT(gbc.pc(), 0x43cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 005E
        gbc.setState(0x5de0, 0x80c8, 0x3c70, 0x68b4, 0x181, 0x78f0, 0x0, 0x0);
        gbc.writeMem(0x5de0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x68);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x80c8);
        EXPECT(gbc.pc(), 0x5de1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 005F
        gbc.setState(0xc964, 0x5abd, 0xa690, 0x150d, 0x1543, 0xb673, 0x0, 0x1);
        gbc.writeMem(0xc964, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x5abd);
        EXPECT(gbc.pc(), 0xc965);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc964), 0xf);
        // 0F 0060
        gbc.setState(0x11cf, 0x6720, 0x89f0, 0xf027, 0x4a8f, 0x2663, 0x1, 0x1);
        gbc.writeMem(0x11cf, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x6720);
        EXPECT(gbc.pc(), 0x11d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0062
        gbc.setState(0x6e72, 0xa6b0, 0xa6f0, 0x596b, 0x48b7, 0x1d, 0x0, 0x0);
        gbc.writeMem(0x6e72, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xa6b0);
        EXPECT(gbc.pc(), 0x6e73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0063
        gbc.setState(0x7161, 0x1349, 0x94e0, 0xcc74, 0xb780, 0x8307, 0x0, 0x0);
        gbc.writeMem(0x7161, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x1349);
        EXPECT(gbc.pc(), 0x7162);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0064
        gbc.setState(0x437, 0xb421, 0xa4b0, 0x672c, 0xdd27, 0xcfe3, 0x0, 0x0);
        gbc.writeMem(0x437, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xb421);
        EXPECT(gbc.pc(), 0x438);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0065
        gbc.setState(0x6db, 0x8b01, 0x6260, 0x55a9, 0xed13, 0xf22b, 0x1, 0x0);
        gbc.writeMem(0x6db, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x8b01);
        EXPECT(gbc.pc(), 0x6dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0066
        gbc.setState(0x1211, 0x5dbb, 0x3e0, 0xd645, 0xb902, 0xa1bd, 0x0, 0x0);
        gbc.writeMem(0x1211, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x5dbb);
        EXPECT(gbc.pc(), 0x1212);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0067
        gbc.setState(0xedb6, 0xa9be, 0xd350, 0xeb16, 0x754c, 0xc93e, 0x1, 0x1);
        gbc.writeMem(0xedb6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xa9be);
        EXPECT(gbc.pc(), 0xedb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xedb6), 0xf);
        // 0F 0068
        gbc.setState(0x1c4, 0x9bc5, 0xc2e0, 0xfbdd, 0x2a2c, 0x8553, 0x0, 0x1);
        gbc.writeMem(0x1c4, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x9bc5);
        EXPECT(gbc.pc(), 0x1c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0069
        gbc.setState(0xe9e0, 0xe740, 0xf510, 0x9fb, 0x82ca, 0x8633, 0x0, 0x1);
        gbc.writeMem(0xe9e0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xe740);
        EXPECT(gbc.pc(), 0xe9e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe9e0), 0xf);
        // 0F 006A
        gbc.setState(0x7da7, 0xc51b, 0xb740, 0x4a34, 0x60eb, 0x4a3b, 0x1, 0x0);
        gbc.writeMem(0x7da7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xc51b);
        EXPECT(gbc.pc(), 0x7da8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 006B
        gbc.setState(0x9599, 0xcd75, 0x3840, 0x11da, 0x53e, 0x4144, 0x0, 0x0);
        gbc.writeMem(0x9599, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xcd75);
        EXPECT(gbc.pc(), 0x959a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9599), 0xf);
        // 0F 006C
        gbc.setState(0xb7bb, 0x4fdf, 0xf6a0, 0x2d27, 0xc7d1, 0x57a1, 0x0, 0x1);
        gbc.writeMem(0xb7bb, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x4fdf);
        EXPECT(gbc.pc(), 0xb7bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7bb), 0xf);
        // 0F 006D
        gbc.setState(0xc652, 0x25e6, 0xce50, 0xdf89, 0x3973, 0x83f5, 0x0, 0x1);
        gbc.writeMem(0xc652, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x25e6);
        EXPECT(gbc.pc(), 0xc653);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc652), 0xf);
        // 0F 006E
        gbc.setState(0x687, 0xe16c, 0x2d70, 0xacd0, 0x99b9, 0xaca4, 0x0, 0x0);
        gbc.writeMem(0x687, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xe16c);
        EXPECT(gbc.pc(), 0x688);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 006F
        gbc.setState(0x2507, 0xd160, 0x7190, 0x88ed, 0xb623, 0x6200, 0x1, 0x1);
        gbc.writeMem(0x2507, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xd160);
        EXPECT(gbc.pc(), 0x2508);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0070
        gbc.setState(0x6dff, 0x9aa9, 0xb0d0, 0xf305, 0x46fa, 0xdf15, 0x1, 0x0);
        gbc.writeMem(0x6dff, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x9aa9);
        EXPECT(gbc.pc(), 0x6e00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0071
        gbc.setState(0xb6e2, 0xa552, 0x83c0, 0x15d8, 0x5150, 0xde03, 0x0, 0x1);
        gbc.writeMem(0xb6e2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa552);
        EXPECT(gbc.pc(), 0xb6e3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb6e2), 0xf);
        // 0F 0072
        gbc.setState(0xcfe, 0x196, 0x2dd0, 0xe1df, 0xd24d, 0x48b2, 0x1, 0x1);
        gbc.writeMem(0xcfe, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0x196);
        EXPECT(gbc.pc(), 0xcff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0073
        gbc.setState(0x51fa, 0xe95d, 0xce40, 0xe5a4, 0x48f2, 0x1aa, 0x1, 0x0);
        gbc.writeMem(0x51fa, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xe95d);
        EXPECT(gbc.pc(), 0x51fb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0074
        gbc.setState(0x68c8, 0xe99d, 0x5550, 0xa2cb, 0x4365, 0xb41a, 0x1, 0x1);
        gbc.writeMem(0x68c8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xe99d);
        EXPECT(gbc.pc(), 0x68c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0075
        gbc.setState(0xb607, 0xf9b2, 0xd220, 0x9c1f, 0x876f, 0x4765, 0x1, 0x0);
        gbc.writeMem(0xb607, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xf9b2);
        EXPECT(gbc.pc(), 0xb608);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb607), 0xf);
        // 0F 0076
        gbc.setState(0x9794, 0x85ff, 0xc750, 0xb7e8, 0xf3b5, 0x6bb, 0x0, 0x1);
        gbc.writeMem(0x9794, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x85ff);
        EXPECT(gbc.pc(), 0x9795);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9794), 0xf);
        // 0F 0077
        gbc.setState(0x5109, 0x4d7f, 0x6820, 0x9c1d, 0x5057, 0xb060, 0x0, 0x0);
        gbc.writeMem(0x5109, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x4d7f);
        EXPECT(gbc.pc(), 0x510a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0078
        gbc.setState(0x4333, 0x2525, 0xb420, 0xb47f, 0xd343, 0x7c44, 0x1, 0x0);
        gbc.writeMem(0x4333, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x2525);
        EXPECT(gbc.pc(), 0x4334);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0079
        gbc.setState(0xc0e7, 0x57c1, 0xc1c0, 0xa5f, 0xfcd2, 0x5974, 0x1, 0x0);
        gbc.writeMem(0xc0e7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x57c1);
        EXPECT(gbc.pc(), 0xc0e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc0e7), 0xf);
        // 0F 007A
        gbc.setState(0x213c, 0x1b1f, 0x2ac0, 0x911c, 0x5bb9, 0x271f, 0x1, 0x0);
        gbc.writeMem(0x213c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x1b1f);
        EXPECT(gbc.pc(), 0x213d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 007B
        gbc.setState(0x14f9, 0x71bd, 0x8a0, 0xf65b, 0x2440, 0x1ccb, 0x0, 0x0);
        gbc.writeMem(0x14f9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x71bd);
        EXPECT(gbc.pc(), 0x14fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 007C
        gbc.setState(0x262f, 0xc672, 0x1510, 0x305a, 0x10a6, 0xa80f, 0x1, 0x1);
        gbc.writeMem(0x262f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc672);
        EXPECT(gbc.pc(), 0x2630);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 007D
        gbc.setState(0xe037, 0x9cfe, 0x9700, 0xd293, 0xd443, 0x772e, 0x0, 0x1);
        gbc.writeMem(0xe037, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x9cfe);
        EXPECT(gbc.pc(), 0xe038);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe037), 0xf);
        // 0F 007E
        gbc.setState(0x63c9, 0x8d86, 0xd70, 0xe3f7, 0xffd7, 0xde30, 0x1, 0x0);
        gbc.writeMem(0x63c9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x8d86);
        EXPECT(gbc.pc(), 0x63ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 007F
        gbc.setState(0x1aaf, 0xdd0, 0x7630, 0x77a1, 0x6fdd, 0x4224, 0x0, 0x1);
        gbc.writeMem(0x1aaf, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xdd0);
        EXPECT(gbc.pc(), 0x1ab0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0080
        gbc.setState(0xc587, 0xa405, 0x1110, 0x12c9, 0x2190, 0xea4f, 0x1, 0x0);
        gbc.writeMem(0xc587, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xa405);
        EXPECT(gbc.pc(), 0xc588);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc587), 0xf);
        // 0F 0081
        gbc.setState(0x868a, 0x65bb, 0x1bd0, 0xd29a, 0xabd5, 0x3d2a, 0x1, 0x0);
        gbc.writeMem(0x868a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x65bb);
        EXPECT(gbc.pc(), 0x868b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x868a), 0xf);
        // 0F 0082
        gbc.setState(0xc014, 0x3988, 0x4530, 0x1993, 0xfe91, 0x359c, 0x0, 0x1);
        gbc.writeMem(0xc014, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x3988);
        EXPECT(gbc.pc(), 0xc015);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc014), 0xf);
        // 0F 0083
        gbc.setState(0xbd68, 0xa97a, 0x5930, 0xe6b6, 0x1ee9, 0xa422, 0x1, 0x1);
        gbc.writeMem(0xbd68, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xa97a);
        EXPECT(gbc.pc(), 0xbd69);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd68), 0xf);
        // 0F 0084
        gbc.setState(0x32e0, 0xfdda, 0xa890, 0xef78, 0x73d2, 0x7654, 0x1, 0x1);
        gbc.writeMem(0x32e0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xfdda);
        EXPECT(gbc.pc(), 0x32e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0085
        gbc.setState(0x5598, 0x3cad, 0xbb60, 0x19ee, 0xbf6f, 0x2d68, 0x0, 0x1);
        gbc.writeMem(0x5598, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x3cad);
        EXPECT(gbc.pc(), 0x5599);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0086
        gbc.setState(0xdfe0, 0xe3ef, 0xcc30, 0xb0b3, 0x9f2c, 0x77d8, 0x1, 0x0);
        gbc.writeMem(0xdfe0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xe3ef);
        EXPECT(gbc.pc(), 0xdfe1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfe0), 0xf);
        // 0F 0087
        gbc.setState(0xbd44, 0xc1e4, 0xf2d0, 0xdb38, 0x9afb, 0xce56, 0x0, 0x1);
        gbc.writeMem(0xbd44, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xc1e4);
        EXPECT(gbc.pc(), 0xbd45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd44), 0xf);
        // 0F 0088
        gbc.setState(0x9828, 0x11ee, 0x8760, 0x63d1, 0x1621, 0x391f, 0x0, 0x1);
        gbc.writeMem(0x9828, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x11ee);
        EXPECT(gbc.pc(), 0x9829);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9828), 0xf);
        // 0F 0089
        gbc.setState(0x70f0, 0x112, 0x3d0, 0x2359, 0x76cc, 0x87b8, 0x0, 0x1);
        gbc.writeMem(0x70f0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x112);
        EXPECT(gbc.pc(), 0x70f1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 008A
        gbc.setState(0x9775, 0x2549, 0xc120, 0xba95, 0xa2c9, 0x306c, 0x0, 0x1);
        gbc.writeMem(0x9775, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x2549);
        EXPECT(gbc.pc(), 0x9776);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9775), 0xf);
        // 0F 008B
        gbc.setState(0x609d, 0x19da, 0xfe50, 0xe305, 0xed5d, 0xe381, 0x0, 0x1);
        gbc.writeMem(0x609d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x19da);
        EXPECT(gbc.pc(), 0x609e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 008C
        gbc.setState(0x3482, 0x1d6e, 0x9160, 0x934d, 0x5da3, 0xbc13, 0x0, 0x1);
        gbc.writeMem(0x3482, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x1d6e);
        EXPECT(gbc.pc(), 0x3483);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 008D
        gbc.setState(0x1ba8, 0x70f5, 0x9be0, 0x2989, 0xed94, 0x9e04, 0x1, 0x0);
        gbc.writeMem(0x1ba8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x70f5);
        EXPECT(gbc.pc(), 0x1ba9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 008E
        gbc.setState(0x9c62, 0xe618, 0x9590, 0x21de, 0x889, 0xbc26, 0x1, 0x1);
        gbc.writeMem(0x9c62, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xe618);
        EXPECT(gbc.pc(), 0x9c63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c62), 0xf);
        // 0F 008F
        gbc.setState(0xcc3f, 0x319d, 0xe430, 0x9a4a, 0x3ca6, 0xb8da, 0x1, 0x1);
        gbc.writeMem(0xcc3f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x319d);
        EXPECT(gbc.pc(), 0xcc40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc3f), 0xf);
        // 0F 0091
        gbc.setState(0xc262, 0x55f4, 0xe2d0, 0xc315, 0x329d, 0x3194, 0x1, 0x0);
        gbc.writeMem(0xc262, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x55f4);
        EXPECT(gbc.pc(), 0xc263);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc262), 0xf);
        // 0F 0092
        gbc.setState(0x8cb1, 0x636d, 0xaec0, 0x888c, 0xa92a, 0x6945, 0x1, 0x1);
        gbc.writeMem(0x8cb1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x636d);
        EXPECT(gbc.pc(), 0x8cb2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cb1), 0xf);
        // 0F 0093
        gbc.setState(0x474f, 0x5ba5, 0x4730, 0xe4fc, 0x2eaa, 0xa5e3, 0x0, 0x1);
        gbc.writeMem(0x474f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x5ba5);
        EXPECT(gbc.pc(), 0x4750);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0094
        gbc.setState(0xcdc6, 0x8ce8, 0xf5a0, 0x9880, 0x7028, 0x1a9c, 0x1, 0x0);
        gbc.writeMem(0xcdc6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x8ce8);
        EXPECT(gbc.pc(), 0xcdc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcdc6), 0xf);
        // 0F 0095
        gbc.setState(0x2d4d, 0xd3a0, 0x51b0, 0xed25, 0x9b19, 0xe55e, 0x0, 0x0);
        gbc.writeMem(0x2d4d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xd3a0);
        EXPECT(gbc.pc(), 0x2d4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0096
        gbc.setState(0x771f, 0xd147, 0x3430, 0x72b, 0x7e0e, 0x2d91, 0x0, 0x1);
        gbc.writeMem(0x771f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xd147);
        EXPECT(gbc.pc(), 0x7720);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0097
        gbc.setState(0xdd5b, 0xcf1a, 0x2bc0, 0xd2eb, 0xdfe9, 0xd2a9, 0x0, 0x1);
        gbc.writeMem(0xdd5b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xcf1a);
        EXPECT(gbc.pc(), 0xdd5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd5b), 0xf);
        // 0F 0098
        gbc.setState(0x4d49, 0xddb9, 0xf190, 0x16eb, 0x7965, 0xfd14, 0x1, 0x1);
        gbc.writeMem(0x4d49, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xddb9);
        EXPECT(gbc.pc(), 0x4d4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0099
        gbc.setState(0x2959, 0x3cee, 0x4d90, 0x617c, 0xeaa7, 0x3b83, 0x0, 0x1);
        gbc.writeMem(0x2959, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x3cee);
        EXPECT(gbc.pc(), 0x295a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 009A
        gbc.setState(0x5439, 0x6133, 0x2bf0, 0x56b9, 0x5c87, 0x4a91, 0x0, 0x0);
        gbc.writeMem(0x5439, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x6133);
        EXPECT(gbc.pc(), 0x543a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 009B
        gbc.setState(0xe05a, 0xfc1a, 0xc110, 0x1701, 0x23af, 0x51de, 0x0, 0x0);
        gbc.writeMem(0xe05a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xfc1a);
        EXPECT(gbc.pc(), 0xe05b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe05a), 0xf);
        // 0F 009C
        gbc.setState(0xa961, 0xb6a1, 0x5380, 0x2e0d, 0xd6b4, 0x58b3, 0x0, 0x0);
        gbc.writeMem(0xa961, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xb6a1);
        EXPECT(gbc.pc(), 0xa962);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa961), 0xf);
        // 0F 009D
        gbc.setState(0x940f, 0x1a32, 0xc260, 0xa87f, 0xcb84, 0xe0da, 0x1, 0x0);
        gbc.writeMem(0x940f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x1a32);
        EXPECT(gbc.pc(), 0x9410);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x940f), 0xf);
        // 0F 009E
        gbc.setState(0xde12, 0xb6f0, 0x4020, 0x12d6, 0x764d, 0x4376, 0x0, 0x1);
        gbc.writeMem(0xde12, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xb6f0);
        EXPECT(gbc.pc(), 0xde13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde12), 0xf);
        // 0F 009F
        gbc.setState(0xadc1, 0x5f2, 0x16b0, 0xaae2, 0x7b60, 0xed5c, 0x0, 0x1);
        gbc.writeMem(0xadc1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x5f2);
        EXPECT(gbc.pc(), 0xadc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadc1), 0xf);
        // 0F 00A0
        gbc.setState(0xaace, 0x398d, 0xd310, 0xe28b, 0xa460, 0x914e, 0x0, 0x0);
        gbc.writeMem(0xaace, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x398d);
        EXPECT(gbc.pc(), 0xaacf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaace), 0xf);
        // 0F 00A1
        gbc.setState(0x341, 0x9d62, 0xf0b0, 0xc922, 0x34f8, 0x4427, 0x1, 0x1);
        gbc.writeMem(0x341, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x9d62);
        EXPECT(gbc.pc(), 0x342);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00A2
        gbc.setState(0x32aa, 0x586a, 0x3590, 0x6098, 0x206d, 0x9069, 0x0, 0x0);
        gbc.writeMem(0x32aa, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x586a);
        EXPECT(gbc.pc(), 0x32ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00A3
        gbc.setState(0x5567, 0x8f5d, 0xfb70, 0xdbe9, 0xf507, 0x2380, 0x0, 0x0);
        gbc.writeMem(0x5567, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x8f5d);
        EXPECT(gbc.pc(), 0x5568);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00A4
        gbc.setState(0x115a, 0x1a7c, 0x17e0, 0x5a6a, 0x566a, 0x1a52, 0x1, 0x0);
        gbc.writeMem(0x115a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x1a7c);
        EXPECT(gbc.pc(), 0x115b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00A5
        gbc.setState(0xe7ef, 0xa186, 0xfaf0, 0xbb72, 0x658b, 0xfef9, 0x1, 0x1);
        gbc.writeMem(0xe7ef, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xa186);
        EXPECT(gbc.pc(), 0xe7f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7ef), 0xf);
        // 0F 00A6
        gbc.setState(0x7987, 0xc8d6, 0x8f20, 0x95b, 0xe026, 0xf658, 0x0, 0x0);
        gbc.writeMem(0x7987, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xc8d6);
        EXPECT(gbc.pc(), 0x7988);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00A7
        gbc.setState(0xd2a0, 0xf289, 0x2640, 0x6db5, 0xb097, 0xc0f1, 0x0, 0x1);
        gbc.writeMem(0xd2a0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xf289);
        EXPECT(gbc.pc(), 0xd2a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2a0), 0xf);
        // 0F 00A8
        gbc.setState(0xe6a5, 0x148f, 0x3300, 0x31fe, 0x2668, 0x5605, 0x0, 0x1);
        gbc.writeMem(0xe6a5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x148f);
        EXPECT(gbc.pc(), 0xe6a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6a5), 0xf);
        // 0F 00A9
        gbc.setState(0x3703, 0xd0f2, 0x52f0, 0xa12a, 0x233e, 0x1570, 0x0, 0x0);
        gbc.writeMem(0x3703, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xd0f2);
        EXPECT(gbc.pc(), 0x3704);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00AA
        gbc.setState(0x3163, 0x45d1, 0x3fa0, 0x12ae, 0xf6b8, 0x2eef, 0x0, 0x0);
        gbc.writeMem(0x3163, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x45d1);
        EXPECT(gbc.pc(), 0x3164);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00AB
        gbc.setState(0x14e8, 0x38ac, 0x87f0, 0x9a6f, 0xd1fc, 0xf36, 0x1, 0x1);
        gbc.writeMem(0x14e8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x38ac);
        EXPECT(gbc.pc(), 0x14e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00AC
        gbc.setState(0x256e, 0x40ab, 0xe660, 0x88f8, 0x8965, 0x49f9, 0x1, 0x0);
        gbc.writeMem(0x256e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x40ab);
        EXPECT(gbc.pc(), 0x256f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00AD
        gbc.setState(0xe65b, 0xd184, 0x6b50, 0x2876, 0x13a3, 0xde22, 0x1, 0x0);
        gbc.writeMem(0xe65b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xd184);
        EXPECT(gbc.pc(), 0xe65c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe65b), 0xf);
        // 0F 00AE
        gbc.setState(0x6b79, 0x6fcb, 0xd860, 0xa9e8, 0x7dc7, 0x3e58, 0x1, 0x1);
        gbc.writeMem(0x6b79, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x6fcb);
        EXPECT(gbc.pc(), 0x6b7a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00AF
        gbc.setState(0x46cd, 0xb45f, 0xc1e0, 0x8022, 0x80b0, 0xb6e, 0x0, 0x0);
        gbc.writeMem(0x46cd, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xb45f);
        EXPECT(gbc.pc(), 0x46ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00B0
        gbc.setState(0x8415, 0x113c, 0x2b0, 0x62f, 0xae72, 0x7c4f, 0x1, 0x0);
        gbc.writeMem(0x8415, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x113c);
        EXPECT(gbc.pc(), 0x8416);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8415), 0xf);
        // 0F 00B1
        gbc.setState(0x714e, 0xe23, 0x830, 0xd56e, 0x37bc, 0x3b43, 0x0, 0x0);
        gbc.writeMem(0x714e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xe23);
        EXPECT(gbc.pc(), 0x714f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00B2
        gbc.setState(0xe493, 0x82ea, 0xf0a0, 0x79a4, 0x1798, 0x76e0, 0x0, 0x0);
        gbc.writeMem(0xe493, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x82ea);
        EXPECT(gbc.pc(), 0xe494);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe493), 0xf);
        // 0F 00B3
        gbc.setState(0x1e5, 0x5117, 0x8560, 0x3cf0, 0xea9d, 0xe414, 0x1, 0x1);
        gbc.writeMem(0x1e5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x5117);
        EXPECT(gbc.pc(), 0x1e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00B4
        gbc.setState(0xbea6, 0xf32b, 0x3920, 0xc915, 0xe492, 0xc9ac, 0x0, 0x1);
        gbc.writeMem(0xbea6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xf32b);
        EXPECT(gbc.pc(), 0xbea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbea6), 0xf);
        // 0F 00B5
        gbc.setState(0xcd22, 0x4f8a, 0x35d0, 0x75d, 0xde8e, 0xfbc9, 0x1, 0x0);
        gbc.writeMem(0xcd22, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x4f8a);
        EXPECT(gbc.pc(), 0xcd23);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcd22), 0xf);
        // 0F 00B6
        gbc.setState(0x922b, 0x6330, 0x71c0, 0x9ce3, 0xbb, 0xed9f, 0x0, 0x0);
        gbc.writeMem(0x922b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x6330);
        EXPECT(gbc.pc(), 0x922c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x922b), 0xf);
        // 0F 00B7
        gbc.setState(0xd38, 0x2926, 0x6ca0, 0x360f, 0xb2e1, 0xf835, 0x0, 0x1);
        gbc.writeMem(0xd38, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x2926);
        EXPECT(gbc.pc(), 0xd39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00B8
        gbc.setState(0xc9ad, 0x81ba, 0x4c10, 0xc028, 0xb7fd, 0xf741, 0x1, 0x0);
        gbc.writeMem(0xc9ad, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x81ba);
        EXPECT(gbc.pc(), 0xc9ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc9ad), 0xf);
        // 0F 00B9
        gbc.setState(0xc87f, 0x6a97, 0x80f0, 0xaa2f, 0xc8e, 0x7518, 0x0, 0x1);
        gbc.writeMem(0xc87f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x6a97);
        EXPECT(gbc.pc(), 0xc880);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc87f), 0xf);
        // 0F 00BA
        gbc.setState(0xc7ac, 0x75ab, 0x8050, 0x57d0, 0xf3af, 0xd884, 0x1, 0x1);
        gbc.writeMem(0xc7ac, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x75ab);
        EXPECT(gbc.pc(), 0xc7ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7ac), 0xf);
        // 0F 00BB
        gbc.setState(0x99e6, 0x9df2, 0x6710, 0xb0e1, 0xa49b, 0x162c, 0x1, 0x0);
        gbc.writeMem(0x99e6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x9df2);
        EXPECT(gbc.pc(), 0x99e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99e6), 0xf);
        // 0F 00BC
        gbc.setState(0x3d63, 0x2e25, 0x52f0, 0xc1c8, 0x743b, 0x8287, 0x1, 0x0);
        gbc.writeMem(0x3d63, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x2e25);
        EXPECT(gbc.pc(), 0x3d64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00BD
        gbc.setState(0xbfde, 0xfd3a, 0x3950, 0xba9c, 0xdaa0, 0x3551, 0x1, 0x1);
        gbc.writeMem(0xbfde, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xfd3a);
        EXPECT(gbc.pc(), 0xbfdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfde), 0xf);
        // 0F 00BE
        gbc.setState(0xdc6c, 0xc262, 0x32e0, 0x17c4, 0xa46b, 0x256f, 0x1, 0x1);
        gbc.writeMem(0xdc6c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xc262);
        EXPECT(gbc.pc(), 0xdc6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc6c), 0xf);
        // 0F 00BF
        gbc.setState(0x565c, 0xdbaf, 0xe130, 0x9b53, 0x7cb4, 0x7f3a, 0x1, 0x0);
        gbc.writeMem(0x565c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xdbaf);
        EXPECT(gbc.pc(), 0x565d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00C0
        gbc.setState(0x4336, 0x6a64, 0xc970, 0x29e0, 0x8869, 0x9a51, 0x1, 0x1);
        gbc.writeMem(0x4336, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x6a64);
        EXPECT(gbc.pc(), 0x4337);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00C1
        gbc.setState(0x5d8, 0xf48b, 0xdc0, 0xc6e2, 0xa41b, 0xec37, 0x1, 0x1);
        gbc.writeMem(0x5d8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xf48b);
        EXPECT(gbc.pc(), 0x5d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00C2
        gbc.setState(0xe52d, 0x57ae, 0x7c80, 0xd315, 0x11ea, 0xce31, 0x0, 0x0);
        gbc.writeMem(0xe52d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x57ae);
        EXPECT(gbc.pc(), 0xe52e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe52d), 0xf);
        // 0F 00C3
        gbc.setState(0x27, 0x4160, 0x7a10, 0x1a83, 0x536c, 0x7148, 0x0, 0x0);
        gbc.writeMem(0x27, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x4160);
        EXPECT(gbc.pc(), 0x28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00C4
        gbc.setState(0x18d1, 0xe99e, 0xe020, 0x743f, 0x1eed, 0xd158, 0x0, 0x1);
        gbc.writeMem(0x18d1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xe99e);
        EXPECT(gbc.pc(), 0x18d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00C5
        gbc.setState(0x21a8, 0x5f78, 0xe220, 0x1478, 0x4c84, 0xe6, 0x1, 0x1);
        gbc.writeMem(0x21a8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x5f78);
        EXPECT(gbc.pc(), 0x21a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00C6
        gbc.setState(0x8f7b, 0x3deb, 0xa3e0, 0xf563, 0x430e, 0xf4c4, 0x1, 0x1);
        gbc.writeMem(0x8f7b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x3deb);
        EXPECT(gbc.pc(), 0x8f7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f7b), 0xf);
        // 0F 00C7
        gbc.setState(0x4572, 0x59f3, 0xbb00, 0xf265, 0x4f5d, 0x3a5d, 0x1, 0x0);
        gbc.writeMem(0x4572, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x59f3);
        EXPECT(gbc.pc(), 0x4573);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00C8
        gbc.setState(0x2cb1, 0x2b29, 0x5e40, 0x1215, 0xc6e9, 0x266f, 0x0, 0x0);
        gbc.writeMem(0x2cb1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x2b29);
        EXPECT(gbc.pc(), 0x2cb2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00C9
        gbc.setState(0xdc0a, 0xfb08, 0x7670, 0x2769, 0xf8c9, 0x4f36, 0x1, 0x1);
        gbc.writeMem(0xdc0a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xfb08);
        EXPECT(gbc.pc(), 0xdc0b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc0a), 0xf);
        // 0F 00CA
        gbc.setState(0x4d22, 0x5159, 0xcc00, 0x9de5, 0x369b, 0x14d0, 0x0, 0x1);
        gbc.writeMem(0x4d22, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x5159);
        EXPECT(gbc.pc(), 0x4d23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00CB
        gbc.setState(0xe39c, 0x9111, 0x6140, 0x8801, 0xe13c, 0x3123, 0x0, 0x0);
        gbc.writeMem(0xe39c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x9111);
        EXPECT(gbc.pc(), 0xe39d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe39c), 0xf);
        // 0F 00CC
        gbc.setState(0xd860, 0x4779, 0xe310, 0x4bfb, 0xeb2, 0xf766, 0x0, 0x0);
        gbc.writeMem(0xd860, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x4779);
        EXPECT(gbc.pc(), 0xd861);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd860), 0xf);
        // 0F 00CD
        gbc.setState(0xe64, 0xdcd5, 0x9ea0, 0xf24, 0xf2a7, 0xa4ec, 0x0, 0x0);
        gbc.writeMem(0xe64, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xdcd5);
        EXPECT(gbc.pc(), 0xe65);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00CE
        gbc.setState(0x5b06, 0x7bb6, 0xf080, 0x6dfa, 0x49dc, 0xe58c, 0x0, 0x1);
        gbc.writeMem(0x5b06, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x7bb6);
        EXPECT(gbc.pc(), 0x5b07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00CF
        gbc.setState(0xd3f2, 0xe600, 0xd650, 0xdb7e, 0x26f2, 0x8f65, 0x0, 0x1);
        gbc.writeMem(0xd3f2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6b);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xe600);
        EXPECT(gbc.pc(), 0xd3f3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3f2), 0xf);
        // 0F 00D1
        gbc.setState(0xb50b, 0xfa93, 0x9af0, 0xe6a7, 0xc532, 0x38dc, 0x0, 0x0);
        gbc.writeMem(0xb50b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xfa93);
        EXPECT(gbc.pc(), 0xb50c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb50b), 0xf);
        // 0F 00D2
        gbc.setState(0x9f86, 0x8ae4, 0x98f0, 0xdd37, 0x86d3, 0xa8b5, 0x0, 0x0);
        gbc.writeMem(0x9f86, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x8ae4);
        EXPECT(gbc.pc(), 0x9f87);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f86), 0xf);
        // 0F 00D3
        gbc.setState(0x9511, 0x3cf1, 0x750, 0xf5b5, 0x81, 0x1d1, 0x1, 0x0);
        gbc.writeMem(0x9511, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3cf1);
        EXPECT(gbc.pc(), 0x9512);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9511), 0xf);
        // 0F 00D4
        gbc.setState(0x613b, 0x9e01, 0xde20, 0xb0a3, 0x9c82, 0x519b, 0x1, 0x0);
        gbc.writeMem(0x613b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6f);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x9e01);
        EXPECT(gbc.pc(), 0x613c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00D5
        gbc.setState(0xb472, 0xdf9c, 0xb10, 0x167c, 0xe3b5, 0x8d66, 0x0, 0x1);
        gbc.writeMem(0xb472, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xdf9c);
        EXPECT(gbc.pc(), 0xb473);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb472), 0xf);
        // 0F 00D6
        gbc.setState(0xcee8, 0xf455, 0x74a0, 0xaa0b, 0x6444, 0xa7dd, 0x1, 0x1);
        gbc.writeMem(0xcee8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xf455);
        EXPECT(gbc.pc(), 0xcee9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcee8), 0xf);
        // 0F 00D7
        gbc.setState(0x186f, 0xeb74, 0xe710, 0x52ba, 0x2605, 0x24d, 0x1, 0x0);
        gbc.writeMem(0x186f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xeb74);
        EXPECT(gbc.pc(), 0x1870);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00D8
        gbc.setState(0xde4a, 0x21f3, 0xe330, 0x43d8, 0x5fad, 0x8902, 0x1, 0x1);
        gbc.writeMem(0xde4a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x21f3);
        EXPECT(gbc.pc(), 0xde4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde4a), 0xf);
        // 0F 00D9
        gbc.setState(0x70ff, 0x319b, 0x8f90, 0x4d4c, 0x260e, 0xb13d, 0x0, 0x1);
        gbc.writeMem(0x70ff, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x319b);
        EXPECT(gbc.pc(), 0x7100);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00DA
        gbc.setState(0x7fb8, 0x13d0, 0x27e0, 0xd35, 0x1315, 0x6a25, 0x1, 0x0);
        gbc.writeMem(0x7fb8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0x13d0);
        EXPECT(gbc.pc(), 0x7fb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00DB
        gbc.setState(0x1edc, 0xd5cb, 0x6070, 0x6e37, 0x5662, 0x8b76, 0x0, 0x0);
        gbc.writeMem(0x1edc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xd5cb);
        EXPECT(gbc.pc(), 0x1edd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00DC
        gbc.setState(0x34eb, 0x5fc3, 0x3810, 0x96af, 0x45d3, 0xe827, 0x0, 0x1);
        gbc.writeMem(0x34eb, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x5fc3);
        EXPECT(gbc.pc(), 0x34ec);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00DD
        gbc.setState(0xbad8, 0xd485, 0x3820, 0x64aa, 0x4670, 0xedb3, 0x0, 0x1);
        gbc.writeMem(0xbad8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xd485);
        EXPECT(gbc.pc(), 0xbad9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbad8), 0xf);
        // 0F 00DE
        gbc.setState(0xb268, 0xd8a8, 0xdb40, 0x3627, 0x5e06, 0x179c, 0x0, 0x1);
        gbc.writeMem(0xb268, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xd8a8);
        EXPECT(gbc.pc(), 0xb269);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb268), 0xf);
        // 0F 00E0
        gbc.setState(0xca36, 0x87ca, 0x2b20, 0x11b4, 0x72ef, 0xccc2, 0x1, 0x0);
        gbc.writeMem(0xca36, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x87ca);
        EXPECT(gbc.pc(), 0xca37);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xca36), 0xf);
        // 0F 00E1
        gbc.setState(0xb13e, 0x89b5, 0xa090, 0x2b1f, 0x1937, 0xfc79, 0x1, 0x0);
        gbc.writeMem(0xb13e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x89b5);
        EXPECT(gbc.pc(), 0xb13f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb13e), 0xf);
        // 0F 00E2
        gbc.setState(0xaa24, 0x8ece, 0xf00, 0xef90, 0x7736, 0xfd55, 0x1, 0x1);
        gbc.writeMem(0xaa24, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x8ece);
        EXPECT(gbc.pc(), 0xaa25);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa24), 0xf);
        // 0F 00E3
        gbc.setState(0x47a9, 0x2a8c, 0x7eb0, 0x70a5, 0xba5a, 0xe859, 0x0, 0x1);
        gbc.writeMem(0x47a9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x2a8c);
        EXPECT(gbc.pc(), 0x47aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00E4
        gbc.setState(0x954e, 0x9bda, 0x93a0, 0xf99a, 0x9b57, 0xbb0, 0x1, 0x0);
        gbc.writeMem(0x954e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x9bda);
        EXPECT(gbc.pc(), 0x954f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x954e), 0xf);
        // 0F 00E5
        gbc.setState(0x71ac, 0x335b, 0x3f90, 0x343d, 0x1837, 0xe439, 0x0, 0x0);
        gbc.writeMem(0x71ac, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x335b);
        EXPECT(gbc.pc(), 0x71ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00E6
        gbc.setState(0xbc0b, 0x6d4, 0x59a0, 0x20ec, 0xe830, 0x640b, 0x1, 0x0);
        gbc.writeMem(0xbc0b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x6d4);
        EXPECT(gbc.pc(), 0xbc0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc0b), 0xf);
        // 0F 00E7
        gbc.setState(0xa92b, 0x7ea9, 0x3e40, 0xbb83, 0x4db8, 0xb883, 0x0, 0x0);
        gbc.writeMem(0xa92b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x7ea9);
        EXPECT(gbc.pc(), 0xa92c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa92b), 0xf);
        // 0F 00E9
        gbc.setState(0x941b, 0x880, 0x7040, 0xc544, 0x2853, 0xe74b, 0x0, 0x0);
        gbc.writeMem(0x941b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x880);
        EXPECT(gbc.pc(), 0x941c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x941b), 0xf);
        // 0F 00EA
        gbc.setState(0xd62f, 0x81c0, 0x5f40, 0xcc59, 0xac83, 0x35a4, 0x1, 0x0);
        gbc.writeMem(0xd62f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xaf);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x81c0);
        EXPECT(gbc.pc(), 0xd630);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd62f), 0xf);
        // 0F 00EB
        gbc.setState(0xd666, 0xe37, 0x44c0, 0x129d, 0x624, 0x14a0, 0x1, 0x1);
        gbc.writeMem(0xd666, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xe37);
        EXPECT(gbc.pc(), 0xd667);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd666), 0xf);
        // 0F 00EC
        gbc.setState(0x43df, 0xcf41, 0x4290, 0xaa5c, 0x2653, 0x7abf, 0x1, 0x0);
        gbc.writeMem(0x43df, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xcf41);
        EXPECT(gbc.pc(), 0x43e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00ED
        gbc.setState(0xa98d, 0x178e, 0x5a20, 0x9e42, 0x3b9b, 0x5eb4, 0x0, 0x0);
        gbc.writeMem(0xa98d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x178e);
        EXPECT(gbc.pc(), 0xa98e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa98d), 0xf);
        // 0F 00EE
        gbc.setState(0xbc5b, 0x3684, 0xaf60, 0x4683, 0x8ef3, 0x10aa, 0x0, 0x1);
        gbc.writeMem(0xbc5b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x3684);
        EXPECT(gbc.pc(), 0xbc5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc5b), 0xf);
        // 0F 00EF
        gbc.setState(0x3ecf, 0x9b65, 0xfa80, 0xc848, 0xb213, 0x4742, 0x0, 0x0);
        gbc.writeMem(0x3ecf, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7d);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x9b65);
        EXPECT(gbc.pc(), 0x3ed0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00F0
        gbc.setState(0xc4ad, 0x7570, 0x2e10, 0xc7f7, 0x30b, 0x32fe, 0x1, 0x1);
        gbc.writeMem(0xc4ad, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x7570);
        EXPECT(gbc.pc(), 0xc4ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc4ad), 0xf);
        // 0F 00F1
        gbc.setState(0x5b4b, 0xc6e4, 0x3520, 0xe9c2, 0x580, 0xe15f, 0x1, 0x0);
        gbc.writeMem(0x5b4b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xc6e4);
        EXPECT(gbc.pc(), 0x5b4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00F2
        gbc.setState(0x5054, 0x972, 0x5410, 0x9e8a, 0x43f5, 0x4dd4, 0x0, 0x0);
        gbc.writeMem(0x5054, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x972);
        EXPECT(gbc.pc(), 0x5055);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00F3
        gbc.setState(0x7ffd, 0x8035, 0xe140, 0x5075, 0xb48c, 0xc88f, 0x1, 0x0);
        gbc.writeMem(0x7ffd, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x8035);
        EXPECT(gbc.pc(), 0x7ffe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00F4
        gbc.setState(0x2979, 0x4f25, 0x1c70, 0x3562, 0x319, 0xebee, 0x0, 0x1);
        gbc.writeMem(0x2979, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x4f25);
        EXPECT(gbc.pc(), 0x297a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00F5
        gbc.setState(0x4a39, 0x1e51, 0xf430, 0x394c, 0xa38f, 0x3290, 0x1, 0x0);
        gbc.writeMem(0x4a39, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x1e51);
        EXPECT(gbc.pc(), 0x4a3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00F6
        gbc.setState(0xdc0d, 0x3f09, 0x6d30, 0x96f4, 0xdee1, 0xdb32, 0x1, 0x0);
        gbc.writeMem(0xdc0d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x3f09);
        EXPECT(gbc.pc(), 0xdc0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdc0d), 0xf);
        // 0F 00F7
        gbc.setState(0x6bdc, 0x500, 0x190, 0xf97a, 0xf356, 0x25d7, 0x1, 0x0);
        gbc.writeMem(0x6bdc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x500);
        EXPECT(gbc.pc(), 0x6bdd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00F8
        gbc.setState(0x8182, 0x84be, 0xd800, 0xbabf, 0x21c3, 0xa576, 0x1, 0x1);
        gbc.writeMem(0x8182, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x84be);
        EXPECT(gbc.pc(), 0x8183);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8182), 0xf);
        // 0F 00F9
        gbc.setState(0x239, 0x9944, 0x8c90, 0x65da, 0x41ba, 0x3d38, 0x0, 0x1);
        gbc.writeMem(0x239, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x9944);
        EXPECT(gbc.pc(), 0x23a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00FA
        gbc.setState(0x4330, 0x9b3b, 0xa5f0, 0x9d92, 0x8d1b, 0x7fd0, 0x1, 0x1);
        gbc.writeMem(0x4330, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x9b3b);
        EXPECT(gbc.pc(), 0x4331);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00FB
        gbc.setState(0x12ec, 0x787b, 0x29c0, 0xccff, 0x40ef, 0xc6f4, 0x1, 0x1);
        gbc.writeMem(0x12ec, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x787b);
        EXPECT(gbc.pc(), 0x12ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 00FC
        gbc.setState(0xa69c, 0x1c6, 0xa880, 0x1a0e, 0xb11a, 0x1a22, 0x1, 0x0);
        gbc.writeMem(0xa69c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x1c6);
        EXPECT(gbc.pc(), 0xa69d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa69c), 0xf);
        // 0F 00FD
        gbc.setState(0x2018, 0xc37f, 0x5c90, 0xd20e, 0xe3d9, 0x2618, 0x0, 0x0);
        gbc.writeMem(0x2018, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xc37f);
        EXPECT(gbc.pc(), 0x2019);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 00FE
        gbc.setState(0xd6fc, 0x2686, 0xea20, 0xa8d8, 0x3bac, 0xcc3e, 0x1, 0x0);
        gbc.writeMem(0xd6fc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x2686);
        EXPECT(gbc.pc(), 0xd6fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd6fc), 0xf);
        // 0F 00FF
        gbc.setState(0x9047, 0xb096, 0x5790, 0x3fad, 0xa201, 0xcdfa, 0x0, 0x1);
        gbc.writeMem(0x9047, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xb096);
        EXPECT(gbc.pc(), 0x9048);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9047), 0xf);
        // 0F 0100
        gbc.setState(0x74ff, 0x3e34, 0xcb90, 0x20fc, 0xdbc1, 0xca60, 0x1, 0x1);
        gbc.writeMem(0x74ff, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x3e34);
        EXPECT(gbc.pc(), 0x7500);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0101
        gbc.setState(0xf29, 0xd0ad, 0x7810, 0xdffa, 0xd919, 0xab1a, 0x0, 0x1);
        gbc.writeMem(0xf29, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xd0ad);
        EXPECT(gbc.pc(), 0xf2a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0102
        gbc.setState(0x42de, 0xbc66, 0x8800, 0x9f76, 0x63ed, 0x9ec2, 0x1, 0x0);
        gbc.writeMem(0x42de, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xbc66);
        EXPECT(gbc.pc(), 0x42df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0103
        gbc.setState(0x23e8, 0xc53d, 0x6910, 0x9fd1, 0xd4da, 0xd19b, 0x1, 0x1);
        gbc.writeMem(0x23e8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xc53d);
        EXPECT(gbc.pc(), 0x23e9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0104
        gbc.setState(0xeddf, 0x56a1, 0xd290, 0x2d54, 0xe758, 0xf7f, 0x0, 0x0);
        gbc.writeMem(0xeddf, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x56a1);
        EXPECT(gbc.pc(), 0xede0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeddf), 0xf);
        // 0F 0105
        gbc.setState(0xe609, 0x1e7f, 0x53e0, 0x2e1f, 0x91d, 0x1261, 0x1, 0x0);
        gbc.writeMem(0xe609, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0x1e7f);
        EXPECT(gbc.pc(), 0xe60a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe609), 0xf);
        // 0F 0106
        gbc.setState(0x70d3, 0x2ffa, 0xfc60, 0x3ce5, 0x684b, 0x264b, 0x0, 0x0);
        gbc.writeMem(0x70d3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7e);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x2ffa);
        EXPECT(gbc.pc(), 0x70d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0107
        gbc.setState(0x3742, 0xe01f, 0xbf0, 0x534c, 0xfac6, 0x22bb, 0x1, 0x0);
        gbc.writeMem(0x3742, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xe01f);
        EXPECT(gbc.pc(), 0x3743);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0108
        gbc.setState(0x8374, 0xfa90, 0x28d0, 0xb63f, 0x2bf0, 0xbf52, 0x0, 0x1);
        gbc.writeMem(0x8374, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xfa90);
        EXPECT(gbc.pc(), 0x8375);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8374), 0xf);
        // 0F 0109
        gbc.setState(0x37f, 0x2b55, 0x4b90, 0x3d62, 0x9012, 0x9199, 0x0, 0x0);
        gbc.writeMem(0x37f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x2b55);
        EXPECT(gbc.pc(), 0x380);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 010A
        gbc.setState(0x261c, 0x744, 0xf9c0, 0x15f, 0x9f39, 0x1191, 0x1, 0x1);
        gbc.writeMem(0x261c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x744);
        EXPECT(gbc.pc(), 0x261d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 010B
        gbc.setState(0x522a, 0x23af, 0xd0c0, 0x989e, 0x1aeb, 0x6395, 0x1, 0x1);
        gbc.writeMem(0x522a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x1a);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x23af);
        EXPECT(gbc.pc(), 0x522b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 010C
        gbc.setState(0x5317, 0x464f, 0xb460, 0xc9d4, 0x4e5e, 0xffb4, 0x0, 0x0);
        gbc.writeMem(0x5317, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x464f);
        EXPECT(gbc.pc(), 0x5318);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 010D
        gbc.setState(0x9afc, 0xc324, 0xd4d0, 0x4149, 0x5164, 0x5f61, 0x0, 0x1);
        gbc.writeMem(0x9afc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xc324);
        EXPECT(gbc.pc(), 0x9afd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9afc), 0xf);
        // 0F 010E
        gbc.setState(0x28f3, 0xf0f4, 0xe970, 0x496c, 0x63b1, 0x1d7d, 0x0, 0x0);
        gbc.writeMem(0x28f3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xf0f4);
        EXPECT(gbc.pc(), 0x28f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 010F
        gbc.setState(0x1b09, 0x8249, 0x5100, 0xb26e, 0x99fb, 0x61bc, 0x1, 0x0);
        gbc.writeMem(0x1b09, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x8249);
        EXPECT(gbc.pc(), 0x1b0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0110
        gbc.setState(0x5d93, 0xe6c6, 0x5630, 0x725b, 0x7e5, 0xdc1, 0x1, 0x1);
        gbc.writeMem(0x5d93, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xe6c6);
        EXPECT(gbc.pc(), 0x5d94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0111
        gbc.setState(0x944e, 0x9663, 0x8ac0, 0x53f1, 0x2cb0, 0xc414, 0x1, 0x1);
        gbc.writeMem(0x944e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x9663);
        EXPECT(gbc.pc(), 0x944f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x944e), 0xf);
        // 0F 0112
        gbc.setState(0xd308, 0xc30d, 0xce40, 0xbf6c, 0x196a, 0x1ae4, 0x1, 0x1);
        gbc.writeMem(0xd308, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xc30d);
        EXPECT(gbc.pc(), 0xd309);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd308), 0xf);
        // 0F 0114
        gbc.setState(0x50c8, 0x3f8e, 0x64f0, 0x81a7, 0x893e, 0xe3a8, 0x1, 0x1);
        gbc.writeMem(0x50c8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x3f8e);
        EXPECT(gbc.pc(), 0x50c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0115
        gbc.setState(0x9115, 0x9748, 0x5a10, 0x9506, 0x294b, 0x504e, 0x1, 0x1);
        gbc.writeMem(0x9115, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x9748);
        EXPECT(gbc.pc(), 0x9116);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9115), 0xf);
        // 0F 0116
        gbc.setState(0x29aa, 0x5c10, 0xd780, 0x355f, 0x31f1, 0x2218, 0x1, 0x1);
        gbc.writeMem(0x29aa, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x5c10);
        EXPECT(gbc.pc(), 0x29ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0117
        gbc.setState(0x3482, 0x1691, 0xec80, 0x18c3, 0xc1a, 0x860d, 0x1, 0x1);
        gbc.writeMem(0x3482, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x1691);
        EXPECT(gbc.pc(), 0x3483);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0118
        gbc.setState(0xb555, 0x5319, 0x34c0, 0x56df, 0x9595, 0x5a4a, 0x0, 0x0);
        gbc.writeMem(0xb555, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x5319);
        EXPECT(gbc.pc(), 0xb556);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb555), 0xf);
        // 0F 0119
        gbc.setState(0x7750, 0x517b, 0x1f10, 0xc4f4, 0x58f6, 0xa0ec, 0x1, 0x1);
        gbc.writeMem(0x7750, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8f);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x517b);
        EXPECT(gbc.pc(), 0x7751);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 011A
        gbc.setState(0xb270, 0x12ba, 0x29e0, 0x7cf7, 0xd950, 0x6e42, 0x1, 0x0);
        gbc.writeMem(0xb270, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x12ba);
        EXPECT(gbc.pc(), 0xb271);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb270), 0xf);
        // 0F 011B
        gbc.setState(0x943a, 0xdf49, 0x8590, 0x59f3, 0x9bf0, 0xfd41, 0x1, 0x1);
        gbc.writeMem(0x943a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xdf49);
        EXPECT(gbc.pc(), 0x943b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x943a), 0xf);
        // 0F 011C
        gbc.setState(0xb019, 0x77d7, 0xdac0, 0xfb9, 0x70e4, 0x854f, 0x0, 0x1);
        gbc.writeMem(0xb019, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x77d7);
        EXPECT(gbc.pc(), 0xb01a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb019), 0xf);
        // 0F 011D
        gbc.setState(0xb1e7, 0xd872, 0x25b0, 0x61c8, 0x43e6, 0x53ec, 0x0, 0x0);
        gbc.writeMem(0xb1e7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xd872);
        EXPECT(gbc.pc(), 0xb1e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1e7), 0xf);
        // 0F 011E
        gbc.setState(0x74d6, 0x1782, 0x3390, 0x34cf, 0xf5fa, 0xf265, 0x1, 0x1);
        gbc.writeMem(0x74d6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x1782);
        EXPECT(gbc.pc(), 0x74d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 011F
        gbc.setState(0xc1c6, 0xc3e, 0x4ba0, 0x6a30, 0xb61b, 0xa711, 0x0, 0x1);
        gbc.writeMem(0xc1c6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa5);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xc3e);
        EXPECT(gbc.pc(), 0xc1c7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1c6), 0xf);
        // 0F 0120
        gbc.setState(0xb93d, 0x2d0e, 0xe6a0, 0x6a2d, 0xe961, 0x71fa, 0x0, 0x1);
        gbc.writeMem(0xb93d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x2d0e);
        EXPECT(gbc.pc(), 0xb93e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb93d), 0xf);
        // 0F 0121
        gbc.setState(0xcbc7, 0x7894, 0xee0, 0xc2d5, 0xb426, 0xfaf6, 0x0, 0x0);
        gbc.writeMem(0xcbc7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x7894);
        EXPECT(gbc.pc(), 0xcbc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbc7), 0xf);
        // 0F 0122
        gbc.setState(0x1237, 0xd96c, 0xeae0, 0x7750, 0xdac2, 0x5db4, 0x1, 0x0);
        gbc.writeMem(0x1237, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xd96c);
        EXPECT(gbc.pc(), 0x1238);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0123
        gbc.setState(0x79f7, 0x1f82, 0x6270, 0xc224, 0x209b, 0x7de3, 0x0, 0x0);
        gbc.writeMem(0x79f7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x1f82);
        EXPECT(gbc.pc(), 0x79f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0124
        gbc.setState(0xc438, 0x76bd, 0x5d40, 0xa62c, 0x126a, 0x71de, 0x0, 0x0);
        gbc.writeMem(0xc438, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x76bd);
        EXPECT(gbc.pc(), 0xc439);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc438), 0xf);
        // 0F 0125
        gbc.setState(0xd449, 0x7790, 0xe880, 0x8b77, 0x80d6, 0xa97, 0x0, 0x0);
        gbc.writeMem(0xd449, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x7790);
        EXPECT(gbc.pc(), 0xd44a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd449), 0xf);
        // 0F 0126
        gbc.setState(0x492, 0x118b, 0x44b0, 0x5822, 0xcca1, 0xd10a, 0x1, 0x0);
        gbc.writeMem(0x492, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x118b);
        EXPECT(gbc.pc(), 0x493);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0127
        gbc.setState(0xb893, 0x951d, 0x7270, 0xda94, 0xf99b, 0x2c22, 0x0, 0x0);
        gbc.writeMem(0xb893, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x951d);
        EXPECT(gbc.pc(), 0xb894);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb893), 0xf);
        // 0F 0128
        gbc.setState(0x9c26, 0xf2a6, 0x7ee0, 0x2145, 0xe915, 0xbdcc, 0x1, 0x1);
        gbc.writeMem(0x9c26, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xf2a6);
        EXPECT(gbc.pc(), 0x9c27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c26), 0xf);
        // 0F 0129
        gbc.setState(0xa904, 0x41b1, 0xb810, 0x9eda, 0x5a14, 0xf6b3, 0x0, 0x1);
        gbc.writeMem(0xa904, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x41b1);
        EXPECT(gbc.pc(), 0xa905);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa904), 0xf);
        // 0F 012A
        gbc.setState(0x3d90, 0xfc82, 0xadf0, 0xf9d, 0x9609, 0x2d15, 0x0, 0x0);
        gbc.writeMem(0x3d90, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xfc82);
        EXPECT(gbc.pc(), 0x3d91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 012B
        gbc.setState(0xd5f0, 0x1261, 0x2460, 0x8c53, 0x109b, 0x438a, 0x1, 0x1);
        gbc.writeMem(0xd5f0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x1261);
        EXPECT(gbc.pc(), 0xd5f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5f0), 0xf);
        // 0F 012C
        gbc.setState(0xe13d, 0x941, 0x71e0, 0xc1d6, 0x625b, 0x19b8, 0x0, 0x0);
        gbc.writeMem(0xe13d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x941);
        EXPECT(gbc.pc(), 0xe13e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe13d), 0xf);
        // 0F 012D
        gbc.setState(0x1de4, 0x899f, 0x47f0, 0xfd6a, 0x3a35, 0xc543, 0x1, 0x0);
        gbc.writeMem(0x1de4, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x899f);
        EXPECT(gbc.pc(), 0x1de5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 012E
        gbc.setState(0x7ee3, 0xce12, 0xd3a0, 0x5a88, 0xe2fa, 0x989c, 0x1, 0x1);
        gbc.writeMem(0x7ee3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xce12);
        EXPECT(gbc.pc(), 0x7ee4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 012F
        gbc.setState(0x95e, 0x3e22, 0xca90, 0x6bef, 0xfd75, 0x77c6, 0x1, 0x0);
        gbc.writeMem(0x95e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0x3e22);
        EXPECT(gbc.pc(), 0x95f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0130
        gbc.setState(0x13a5, 0x773, 0x21f0, 0xe192, 0x5190, 0xf426, 0x0, 0x1);
        gbc.writeMem(0x13a5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x773);
        EXPECT(gbc.pc(), 0x13a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0131
        gbc.setState(0x6ec, 0x8abe, 0xda50, 0x105e, 0xf4b1, 0x66eb, 0x1, 0x1);
        gbc.writeMem(0x6ec, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x8abe);
        EXPECT(gbc.pc(), 0x6ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0133
        gbc.setState(0x411e, 0xfd68, 0xce90, 0xd547, 0x435c, 0x2ce4, 0x0, 0x0);
        gbc.writeMem(0x411e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xfd68);
        EXPECT(gbc.pc(), 0x411f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0134
        gbc.setState(0x1832, 0xb7a1, 0xaa0, 0x23b9, 0x47f4, 0xc3fa, 0x0, 0x1);
        gbc.writeMem(0x1832, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xb7a1);
        EXPECT(gbc.pc(), 0x1833);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0135
        gbc.setState(0x4cc8, 0x3498, 0x8090, 0x7c7a, 0x898d, 0xc70f, 0x0, 0x0);
        gbc.writeMem(0x4cc8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x3498);
        EXPECT(gbc.pc(), 0x4cc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0136
        gbc.setState(0x5b6d, 0xbb73, 0xa6d0, 0x94e2, 0x8faa, 0x4745, 0x0, 0x1);
        gbc.writeMem(0x5b6d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xbb73);
        EXPECT(gbc.pc(), 0x5b6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0137
        gbc.setState(0x4574, 0xe377, 0xe940, 0xbf89, 0x7f46, 0x7a77, 0x0, 0x1);
        gbc.writeMem(0x4574, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xe377);
        EXPECT(gbc.pc(), 0x4575);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0138
        gbc.setState(0x71ce, 0x552d, 0xfdf0, 0xc090, 0x4cf1, 0xef44, 0x1, 0x1);
        gbc.writeMem(0x71ce, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x552d);
        EXPECT(gbc.pc(), 0x71cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0139
        gbc.setState(0x572e, 0x3c58, 0x8660, 0xe2a6, 0xaa24, 0xe194, 0x0, 0x0);
        gbc.writeMem(0x572e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x3c58);
        EXPECT(gbc.pc(), 0x572f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 013B
        gbc.setState(0xb438, 0x87fd, 0xe50, 0xeec0, 0x1bbf, 0x824, 0x1, 0x1);
        gbc.writeMem(0xb438, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x87fd);
        EXPECT(gbc.pc(), 0xb439);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb438), 0xf);
        // 0F 013C
        gbc.setState(0xb141, 0xe733, 0x6e60, 0x2ea6, 0x3f66, 0xbb84, 0x1, 0x0);
        gbc.writeMem(0xb141, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xe733);
        EXPECT(gbc.pc(), 0xb142);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb141), 0xf);
        // 0F 013D
        gbc.setState(0x7b4b, 0x7735, 0xf850, 0xdbd2, 0x799c, 0x5140, 0x0, 0x0);
        gbc.writeMem(0x7b4b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x7735);
        EXPECT(gbc.pc(), 0x7b4c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 013E
        gbc.setState(0xc117, 0xe44e, 0x6660, 0xda7a, 0x23fd, 0xe2da, 0x0, 0x1);
        gbc.writeMem(0xc117, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xe44e);
        EXPECT(gbc.pc(), 0xc118);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc117), 0xf);
        // 0F 013F
        gbc.setState(0x7c7, 0x97f, 0x4720, 0xd242, 0x46a7, 0xbc56, 0x1, 0x0);
        gbc.writeMem(0x7c7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x97f);
        EXPECT(gbc.pc(), 0x7c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0140
        gbc.setState(0x1d2a, 0xa6ce, 0xa0d0, 0xaf64, 0xe1f4, 0x22f, 0x1, 0x1);
        gbc.writeMem(0x1d2a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xa6ce);
        EXPECT(gbc.pc(), 0x1d2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0142
        gbc.setState(0x716d, 0xc276, 0x9880, 0xd5d8, 0x4b82, 0xb5c, 0x1, 0x1);
        gbc.writeMem(0x716d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xc276);
        EXPECT(gbc.pc(), 0x716e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0143
        gbc.setState(0xaecf, 0x3af4, 0x5840, 0x361a, 0x6b50, 0x3f85, 0x1, 0x1);
        gbc.writeMem(0xaecf, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x3af4);
        EXPECT(gbc.pc(), 0xaed0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaecf), 0xf);
        // 0F 0144
        gbc.setState(0xd49e, 0x528b, 0x6b00, 0xfd72, 0x8361, 0xc3fe, 0x0, 0x1);
        gbc.writeMem(0xd49e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x528b);
        EXPECT(gbc.pc(), 0xd49f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd49e), 0xf);
        // 0F 0145
        gbc.setState(0xdcd0, 0x944b, 0x28e0, 0x725, 0x29df, 0xeef, 0x1, 0x0);
        gbc.writeMem(0xdcd0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x944b);
        EXPECT(gbc.pc(), 0xdcd1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdcd0), 0xf);
        // 0F 0146
        gbc.setState(0xcf54, 0x6fcb, 0x7d00, 0xd23f, 0x4ab0, 0xce22, 0x1, 0x0);
        gbc.writeMem(0xcf54, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x6fcb);
        EXPECT(gbc.pc(), 0xcf55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf54), 0xf);
        // 0F 0147
        gbc.setState(0xdfe6, 0x6206, 0xf030, 0x84cc, 0xc251, 0x3885, 0x0, 0x0);
        gbc.writeMem(0xdfe6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x6206);
        EXPECT(gbc.pc(), 0xdfe7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdfe6), 0xf);
        // 0F 0148
        gbc.setState(0x6294, 0xd5e9, 0x9920, 0xcd6d, 0xaf39, 0xd0fd, 0x1, 0x0);
        gbc.writeMem(0x6294, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xd5e9);
        EXPECT(gbc.pc(), 0x6295);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0149
        gbc.setState(0x98dd, 0xc5f5, 0xcc80, 0x6244, 0xf07b, 0x3b63, 0x1, 0x0);
        gbc.writeMem(0x98dd, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xc5f5);
        EXPECT(gbc.pc(), 0x98de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98dd), 0xf);
        // 0F 014A
        gbc.setState(0x2c84, 0xdf26, 0xf8d0, 0x1565, 0xe550, 0x6add, 0x0, 0x0);
        gbc.writeMem(0x2c84, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xdf26);
        EXPECT(gbc.pc(), 0x2c85);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 014B
        gbc.setState(0x4eb5, 0x3b6e, 0xe9a0, 0x9f51, 0xf89e, 0xe60, 0x1, 0x0);
        gbc.writeMem(0x4eb5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x3b6e);
        EXPECT(gbc.pc(), 0x4eb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 014C
        gbc.setState(0xac48, 0xa7e8, 0xd710, 0x6e0e, 0x45ac, 0xee5a, 0x0, 0x1);
        gbc.writeMem(0xac48, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xa7e8);
        EXPECT(gbc.pc(), 0xac49);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac48), 0xf);
        // 0F 014D
        gbc.setState(0xc010, 0xb7e9, 0x1600, 0xfdbb, 0x6de6, 0x16d8, 0x1, 0x1);
        gbc.writeMem(0xc010, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xb7e9);
        EXPECT(gbc.pc(), 0xc011);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc010), 0xf);
        // 0F 014E
        gbc.setState(0x6833, 0x30dd, 0x1b80, 0xafb0, 0xd026, 0xaf87, 0x0, 0x0);
        gbc.writeMem(0x6833, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x30dd);
        EXPECT(gbc.pc(), 0x6834);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 014F
        gbc.setState(0x12d5, 0xea96, 0xdce0, 0x577a, 0x6271, 0xdde3, 0x1, 0x1);
        gbc.writeMem(0x12d5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xea96);
        EXPECT(gbc.pc(), 0x12d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0150
        gbc.setState(0x9684, 0x58d, 0xa120, 0xd8dc, 0x6422, 0x88e4, 0x1, 0x1);
        gbc.writeMem(0x9684, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x58d);
        EXPECT(gbc.pc(), 0x9685);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9684), 0xf);
        // 0F 0151
        gbc.setState(0x697c, 0x4727, 0xd5f0, 0x7608, 0xb77a, 0x4367, 0x0, 0x0);
        gbc.writeMem(0x697c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xea);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x4727);
        EXPECT(gbc.pc(), 0x697d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0152
        gbc.setState(0x6a5b, 0xaa0e, 0x4690, 0xdb13, 0x4078, 0x3b33, 0x0, 0x1);
        gbc.writeMem(0x6a5b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xaa0e);
        EXPECT(gbc.pc(), 0x6a5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0153
        gbc.setState(0xdd08, 0xe4ab, 0x2920, 0x3a38, 0xa86c, 0x3871, 0x0, 0x1);
        gbc.writeMem(0xdd08, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xe4ab);
        EXPECT(gbc.pc(), 0xdd09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd08), 0xf);
        // 0F 0154
        gbc.setState(0x8f36, 0x1aeb, 0x6b50, 0x9983, 0xb188, 0xa789, 0x0, 0x1);
        gbc.writeMem(0x8f36, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x1aeb);
        EXPECT(gbc.pc(), 0x8f37);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f36), 0xf);
        // 0F 0155
        gbc.setState(0xe8d1, 0xffff, 0xf090, 0x7043, 0xc05a, 0xc626, 0x1, 0x1);
        gbc.writeMem(0xe8d1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xffff);
        EXPECT(gbc.pc(), 0xe8d2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe8d1), 0xf);
        // 0F 0156
        gbc.setState(0xddd6, 0xe66a, 0x42f0, 0x23ad, 0x51df, 0x3ae4, 0x1, 0x0);
        gbc.writeMem(0xddd6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xe66a);
        EXPECT(gbc.pc(), 0xddd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddd6), 0xf);
        // 0F 0157
        gbc.setState(0x24ba, 0x91e4, 0xe090, 0xd09e, 0x652d, 0xc130, 0x1, 0x1);
        gbc.writeMem(0x24ba, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x91e4);
        EXPECT(gbc.pc(), 0x24bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0158
        gbc.setState(0x6246, 0x4ca7, 0x75b0, 0x5fbb, 0xad24, 0xaf8e, 0x0, 0x1);
        gbc.writeMem(0x6246, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x4ca7);
        EXPECT(gbc.pc(), 0x6247);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0159
        gbc.setState(0x383b, 0xf2c9, 0x3580, 0x2ff0, 0x5f95, 0x9ccd, 0x0, 0x0);
        gbc.writeMem(0x383b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xf2c9);
        EXPECT(gbc.pc(), 0x383c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 015A
        gbc.setState(0xcf65, 0x290e, 0x8de0, 0x75bc, 0x9c2c, 0x7b07, 0x0, 0x1);
        gbc.writeMem(0xcf65, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x290e);
        EXPECT(gbc.pc(), 0xcf66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcf65), 0xf);
        // 0F 015B
        gbc.setState(0x5c06, 0xece7, 0x8930, 0xafaf, 0x2eee, 0x7c48, 0x0, 0x1);
        gbc.writeMem(0x5c06, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0xece7);
        EXPECT(gbc.pc(), 0x5c07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 015C
        gbc.setState(0xa2c, 0xfa33, 0x23b0, 0x3a63, 0x47b3, 0xd646, 0x1, 0x1);
        gbc.writeMem(0xa2c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0xfa33);
        EXPECT(gbc.pc(), 0xa2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 015D
        gbc.setState(0x1d89, 0x6d0d, 0xbe20, 0xe2dd, 0x4aad, 0xdfe3, 0x0, 0x1);
        gbc.writeMem(0x1d89, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x6d0d);
        EXPECT(gbc.pc(), 0x1d8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 015E
        gbc.setState(0xe933, 0xab60, 0xe050, 0xb311, 0xaf74, 0x95c4, 0x0, 0x0);
        gbc.writeMem(0xe933, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xab60);
        EXPECT(gbc.pc(), 0xe934);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe933), 0xf);
        // 0F 015F
        gbc.setState(0xc01a, 0xb005, 0xe450, 0x40e8, 0x849c, 0x7ef2, 0x0, 0x1);
        gbc.writeMem(0xc01a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xb005);
        EXPECT(gbc.pc(), 0xc01b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc01a), 0xf);
        // 0F 0160
        gbc.setState(0x85d9, 0xd764, 0xd3c0, 0xcfad, 0x44c7, 0x792a, 0x1, 0x0);
        gbc.writeMem(0x85d9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe9);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xd764);
        EXPECT(gbc.pc(), 0x85da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x85d9), 0xf);
        // 0F 0161
        gbc.setState(0xa85a, 0x2779, 0xc480, 0x9110, 0x627, 0x7ab7, 0x1, 0x1);
        gbc.writeMem(0xa85a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x2779);
        EXPECT(gbc.pc(), 0xa85b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa85a), 0xf);
        // 0F 0162
        gbc.setState(0x4620, 0x5b11, 0xef0, 0x2c03, 0xe7bd, 0x980c, 0x1, 0x0);
        gbc.writeMem(0x4620, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x5b11);
        EXPECT(gbc.pc(), 0x4621);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0163
        gbc.setState(0xd27e, 0xa761, 0x60b0, 0x8ca7, 0x6daa, 0xf6e3, 0x1, 0x0);
        gbc.writeMem(0xd27e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xa761);
        EXPECT(gbc.pc(), 0xd27f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd27e), 0xf);
        // 0F 0164
        gbc.setState(0x5d9, 0x5288, 0x7950, 0x3bbc, 0x419e, 0x3674, 0x1, 0x0);
        gbc.writeMem(0x5d9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x5288);
        EXPECT(gbc.pc(), 0x5da);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0165
        gbc.setState(0xb94f, 0x998d, 0x5a10, 0xb441, 0x2014, 0x40f1, 0x1, 0x1);
        gbc.writeMem(0xb94f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x998d);
        EXPECT(gbc.pc(), 0xb950);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb94f), 0xf);
        // 0F 0166
        gbc.setState(0x6636, 0xd974, 0x43e0, 0xd347, 0xa489, 0x5356, 0x1, 0x1);
        gbc.writeMem(0x6636, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xd974);
        EXPECT(gbc.pc(), 0x6637);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0167
        gbc.setState(0x9092, 0x4e20, 0x2040, 0x2b48, 0xf6b2, 0xbcf6, 0x0, 0x0);
        gbc.writeMem(0x9092, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x4e20);
        EXPECT(gbc.pc(), 0x9093);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9092), 0xf);
        // 0F 0168
        gbc.setState(0xbe92, 0x3474, 0x8f00, 0x878d, 0xb454, 0xd2c1, 0x1, 0x0);
        gbc.writeMem(0xbe92, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x3474);
        EXPECT(gbc.pc(), 0xbe93);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe92), 0xf);
        // 0F 0169
        gbc.setState(0xef18, 0x2ccc, 0x78f0, 0xb161, 0x68d3, 0xd4fb, 0x1, 0x1);
        gbc.writeMem(0xef18, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x2ccc);
        EXPECT(gbc.pc(), 0xef19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef18), 0xf);
        // 0F 016A
        gbc.setState(0xbebc, 0xb1b4, 0x9610, 0x1849, 0x23be, 0x15c3, 0x0, 0x1);
        gbc.writeMem(0xbebc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xb1b4);
        EXPECT(gbc.pc(), 0xbebd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbebc), 0xf);
        // 0F 016B
        gbc.setState(0x32c1, 0xae72, 0x4a50, 0xed94, 0xbcd4, 0x7cec, 0x0, 0x1);
        gbc.writeMem(0x32c1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x25);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xae72);
        EXPECT(gbc.pc(), 0x32c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 016C
        gbc.setState(0x1420, 0xf14e, 0x5490, 0xf902, 0x4600, 0xbcc0, 0x0, 0x0);
        gbc.writeMem(0x1420, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xf14e);
        EXPECT(gbc.pc(), 0x1421);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 016D
        gbc.setState(0xcb55, 0xc09d, 0x7110, 0xb4a8, 0x1cae, 0x668c, 0x0, 0x0);
        gbc.writeMem(0xcb55, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xc09d);
        EXPECT(gbc.pc(), 0xcb56);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb55), 0xf);
        // 0F 016E
        gbc.setState(0x65de, 0xdc97, 0x2c40, 0xd079, 0xdfee, 0xfb3f, 0x0, 0x1);
        gbc.writeMem(0x65de, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xdc97);
        EXPECT(gbc.pc(), 0x65df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 016F
        gbc.setState(0x9a56, 0xa9c9, 0x9c20, 0x5e8d, 0x7347, 0x1ff3, 0x0, 0x1);
        gbc.writeMem(0x9a56, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xa9c9);
        EXPECT(gbc.pc(), 0x9a57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a56), 0xf);
        // 0F 0170
        gbc.setState(0x145b, 0x46bc, 0x9430, 0x2c97, 0xb69f, 0x25a8, 0x0, 0x1);
        gbc.writeMem(0x145b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x46bc);
        EXPECT(gbc.pc(), 0x145c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0171
        gbc.setState(0xc8c4, 0x518a, 0xc8c0, 0x7d32, 0x41c4, 0xc107, 0x1, 0x1);
        gbc.writeMem(0xc8c4, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x518a);
        EXPECT(gbc.pc(), 0xc8c5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8c4), 0xf);
        // 0F 0172
        gbc.setState(0x514f, 0xab5e, 0x530, 0x7642, 0x5c0, 0xba78, 0x0, 0x1);
        gbc.writeMem(0x514f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0xab5e);
        EXPECT(gbc.pc(), 0x5150);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0173
        gbc.setState(0xe76a, 0xf91e, 0x48b0, 0xeb8f, 0xf6e7, 0xe3e8, 0x1, 0x1);
        gbc.writeMem(0xe76a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xf91e);
        EXPECT(gbc.pc(), 0xe76b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe76a), 0xf);
        // 0F 0174
        gbc.setState(0x3656, 0xc374, 0x7540, 0xe547, 0x53d8, 0x3242, 0x1, 0x1);
        gbc.writeMem(0x3656, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xc374);
        EXPECT(gbc.pc(), 0x3657);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0175
        gbc.setState(0xa499, 0x1bce, 0xf360, 0x5491, 0x13c8, 0xdaef, 0x1, 0x1);
        gbc.writeMem(0xa499, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x1bce);
        EXPECT(gbc.pc(), 0xa49a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa499), 0xf);
        // 0F 0176
        gbc.setState(0xe7ea, 0xd3ba, 0x6eb0, 0xeafc, 0x482d, 0x58bc, 0x0, 0x0);
        gbc.writeMem(0xe7ea, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd3ba);
        EXPECT(gbc.pc(), 0xe7eb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7ea), 0xf);
        // 0F 0177
        gbc.setState(0x9744, 0x38c0, 0x53a0, 0x9a0a, 0xc967, 0xf9b4, 0x0, 0x0);
        gbc.writeMem(0x9744, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x38c0);
        EXPECT(gbc.pc(), 0x9745);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9744), 0xf);
        // 0F 0178
        gbc.setState(0x7ea2, 0x38f3, 0x9720, 0xc90e, 0xa699, 0xdeee, 0x0, 0x1);
        gbc.writeMem(0x7ea2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x38f3);
        EXPECT(gbc.pc(), 0x7ea3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 017B
        gbc.setState(0x97eb, 0x3d1, 0xe240, 0xd438, 0xee6, 0x623b, 0x1, 0x1);
        gbc.writeMem(0x97eb, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x3d1);
        EXPECT(gbc.pc(), 0x97ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97eb), 0xf);
        // 0F 017C
        gbc.setState(0x121e, 0xe36a, 0x9a0, 0xd7cb, 0x35f6, 0xa961, 0x0, 0x0);
        gbc.writeMem(0x121e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xe36a);
        EXPECT(gbc.pc(), 0x121f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 017D
        gbc.setState(0x537c, 0x1154, 0x8440, 0x86b1, 0x8d6e, 0xe100, 0x0, 0x0);
        gbc.writeMem(0x537c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x1154);
        EXPECT(gbc.pc(), 0x537d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 017E
        gbc.setState(0x839d, 0x21e1, 0xc350, 0xbc8e, 0x40f5, 0x4f55, 0x1, 0x1);
        gbc.writeMem(0x839d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x21e1);
        EXPECT(gbc.pc(), 0x839e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x839d), 0xf);
        // 0F 017F
        gbc.setState(0xc587, 0x968c, 0x16b0, 0xfeec, 0xc32c, 0xe919, 0x0, 0x1);
        gbc.writeMem(0xc587, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x968c);
        EXPECT(gbc.pc(), 0xc588);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc587), 0xf);
        // 0F 0180
        gbc.setState(0x634e, 0xe774, 0xe140, 0x1529, 0xaaf1, 0x5df9, 0x0, 0x0);
        gbc.writeMem(0x634e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xe774);
        EXPECT(gbc.pc(), 0x634f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0181
        gbc.setState(0x7f11, 0x1afe, 0x98d0, 0xe2ab, 0xcd96, 0x883a, 0x1, 0x1);
        gbc.writeMem(0x7f11, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x1afe);
        EXPECT(gbc.pc(), 0x7f12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0182
        gbc.setState(0x6e1, 0x1b79, 0xd240, 0xd67c, 0x4072, 0x6752, 0x1, 0x0);
        gbc.writeMem(0x6e1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x69);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x1b79);
        EXPECT(gbc.pc(), 0x6e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0183
        gbc.setState(0xd0fd, 0x688c, 0x2c0, 0xf983, 0x933, 0xbeac, 0x1, 0x1);
        gbc.writeMem(0xd0fd, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x688c);
        EXPECT(gbc.pc(), 0xd0fe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0fd), 0xf);
        // 0F 0184
        gbc.setState(0x893f, 0x833d, 0xa1b0, 0x3762, 0xd35a, 0x9d73, 0x1, 0x1);
        gbc.writeMem(0x893f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x833d);
        EXPECT(gbc.pc(), 0x8940);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x893f), 0xf);
        // 0F 0185
        gbc.setState(0x7fcc, 0x69ba, 0x9bb0, 0x6e57, 0x9dc4, 0x6f8b, 0x1, 0x0);
        gbc.writeMem(0x7fcc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x69ba);
        EXPECT(gbc.pc(), 0x7fcd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0186
        gbc.setState(0xd1e3, 0xe432, 0x69e0, 0xd4dd, 0xf78, 0xc81e, 0x0, 0x0);
        gbc.writeMem(0xd1e3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xe432);
        EXPECT(gbc.pc(), 0xd1e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1e3), 0xf);
        // 0F 0187
        gbc.setState(0x3b8f, 0xe1f8, 0xb790, 0xb2ac, 0x97d6, 0x7574, 0x0, 0x0);
        gbc.writeMem(0x3b8f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xe1f8);
        EXPECT(gbc.pc(), 0x3b90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0188
        gbc.setState(0x11e4, 0x242, 0xd60, 0x76f4, 0x97b, 0x991a, 0x1, 0x0);
        gbc.writeMem(0x11e4, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x242);
        EXPECT(gbc.pc(), 0x11e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0189
        gbc.setState(0xe1d0, 0xa00b, 0x4fd0, 0x810d, 0x9959, 0x2631, 0x0, 0x1);
        gbc.writeMem(0xe1d0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xa00b);
        EXPECT(gbc.pc(), 0xe1d1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1d0), 0xf);
        // 0F 018A
        gbc.setState(0x9735, 0x7745, 0xa4a0, 0xb991, 0xd2fc, 0x128c, 0x1, 0x0);
        gbc.writeMem(0x9735, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x7745);
        EXPECT(gbc.pc(), 0x9736);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9735), 0xf);
        // 0F 018B
        gbc.setState(0xac13, 0x2847, 0x8990, 0xa532, 0xf0a4, 0x64ef, 0x0, 0x1);
        gbc.writeMem(0xac13, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x2847);
        EXPECT(gbc.pc(), 0xac14);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac13), 0xf);
        // 0F 018C
        gbc.setState(0x887f, 0x272f, 0xdb10, 0xcf7c, 0x280a, 0x61f, 0x1, 0x0);
        gbc.writeMem(0x887f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x272f);
        EXPECT(gbc.pc(), 0x8880);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x887f), 0xf);
        // 0F 018E
        gbc.setState(0xe4ba, 0x2586, 0xc250, 0x24a0, 0x416b, 0xd024, 0x0, 0x1);
        gbc.writeMem(0xe4ba, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x2586);
        EXPECT(gbc.pc(), 0xe4bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4ba), 0xf);
        // 0F 018F
        gbc.setState(0x96ae, 0x937a, 0xbe40, 0x8345, 0xb96e, 0x48a0, 0x0, 0x1);
        gbc.writeMem(0x96ae, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x937a);
        EXPECT(gbc.pc(), 0x96af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96ae), 0xf);
        // 0F 0190
        gbc.setState(0x553b, 0x7368, 0x8d50, 0x9a72, 0x36f1, 0x9c69, 0x0, 0x1);
        gbc.writeMem(0x553b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0x7368);
        EXPECT(gbc.pc(), 0x553c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0191
        gbc.setState(0x8e3e, 0xbe1a, 0xd1e0, 0xf1b8, 0x3107, 0xf043, 0x0, 0x0);
        gbc.writeMem(0x8e3e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xbe1a);
        EXPECT(gbc.pc(), 0x8e3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e3e), 0xf);
        // 0F 0192
        gbc.setState(0xb15f, 0x3e3c, 0x9080, 0xead8, 0x977e, 0xfb40, 0x0, 0x0);
        gbc.writeMem(0xb15f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x3e3c);
        EXPECT(gbc.pc(), 0xb160);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb15f), 0xf);
        // 0F 0193
        gbc.setState(0x683f, 0xd53f, 0xa330, 0x256b, 0x17e2, 0xd406, 0x1, 0x1);
        gbc.writeMem(0x683f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xd53f);
        EXPECT(gbc.pc(), 0x6840);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0194
        gbc.setState(0x6153, 0xd65d, 0x1e50, 0x7445, 0x4e60, 0x63aa, 0x0, 0x0);
        gbc.writeMem(0x6153, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xd65d);
        EXPECT(gbc.pc(), 0x6154);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0195
        gbc.setState(0xb07, 0xd682, 0xa230, 0x4793, 0x5724, 0xe363, 0x0, 0x0);
        gbc.writeMem(0xb07, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xd682);
        EXPECT(gbc.pc(), 0xb08);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0196
        gbc.setState(0x3a2a, 0x1ee1, 0xe7f0, 0x5f24, 0x7d9d, 0x3a77, 0x0, 0x1);
        gbc.writeMem(0x3a2a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x1ee1);
        EXPECT(gbc.pc(), 0x3a2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0197
        gbc.setState(0x9474, 0x5c21, 0x5bb0, 0x6710, 0x979e, 0x544, 0x0, 0x1);
        gbc.writeMem(0x9474, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x5c21);
        EXPECT(gbc.pc(), 0x9475);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9474), 0xf);
        // 0F 0198
        gbc.setState(0x28a3, 0x5dd3, 0xae30, 0x64eb, 0x6581, 0x1adc, 0x1, 0x0);
        gbc.writeMem(0x28a3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x57);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0x5dd3);
        EXPECT(gbc.pc(), 0x28a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0199
        gbc.setState(0x1897, 0x3489, 0x3810, 0xcad0, 0x922, 0x6228, 0x1, 0x1);
        gbc.writeMem(0x1897, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x3489);
        EXPECT(gbc.pc(), 0x1898);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 019A
        gbc.setState(0x210e, 0xf643, 0xa840, 0x2b92, 0xca2d, 0x1dff, 0x1, 0x0);
        gbc.writeMem(0x210e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xf643);
        EXPECT(gbc.pc(), 0x210f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 019B
        gbc.setState(0xeb98, 0xb3c2, 0x9110, 0x3fa4, 0xa23b, 0x72a5, 0x0, 0x0);
        gbc.writeMem(0xeb98, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xb3c2);
        EXPECT(gbc.pc(), 0xeb99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb98), 0xf);
        // 0F 019C
        gbc.setState(0x8a65, 0xeed8, 0x1da0, 0x4085, 0xb8b6, 0xf443, 0x1, 0x0);
        gbc.writeMem(0x8a65, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xeed8);
        EXPECT(gbc.pc(), 0x8a66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8a65), 0xf);
        // 0F 019D
        gbc.setState(0x1aac, 0x900f, 0x5a0, 0xed76, 0x3d2, 0x4076, 0x0, 0x1);
        gbc.writeMem(0x1aac, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x900f);
        EXPECT(gbc.pc(), 0x1aad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 019E
        gbc.setState(0xd32, 0xbdc3, 0xe210, 0x161f, 0x1d36, 0x5f21, 0x0, 0x1);
        gbc.writeMem(0xd32, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xbdc3);
        EXPECT(gbc.pc(), 0xd33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 019F
        gbc.setState(0x5142, 0xf7fe, 0x44b0, 0x54da, 0x68ff, 0x901d, 0x0, 0x1);
        gbc.writeMem(0x5142, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xf7fe);
        EXPECT(gbc.pc(), 0x5143);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01A0
        gbc.setState(0xd788, 0x1dd7, 0x41c0, 0xcfcd, 0xcc1, 0x756d, 0x0, 0x0);
        gbc.writeMem(0xd788, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x1dd7);
        EXPECT(gbc.pc(), 0xd789);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd788), 0xf);
        // 0F 01A1
        gbc.setState(0xdb7, 0x5bb2, 0xc070, 0x72cf, 0xaaf4, 0xa03a, 0x1, 0x1);
        gbc.writeMem(0xdb7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x5bb2);
        EXPECT(gbc.pc(), 0xdb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01A2
        gbc.setState(0x8e1, 0xee51, 0x91a0, 0x9a3e, 0x2581, 0x9086, 0x0, 0x1);
        gbc.writeMem(0x8e1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xee51);
        EXPECT(gbc.pc(), 0x8e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01A3
        gbc.setState(0xa9f4, 0x2155, 0x7b90, 0xe515, 0x44b0, 0xd103, 0x0, 0x0);
        gbc.writeMem(0xa9f4, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x2155);
        EXPECT(gbc.pc(), 0xa9f5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa9f4), 0xf);
        // 0F 01A4
        gbc.setState(0x1367, 0xdff6, 0x7590, 0x7171, 0x2f55, 0xf285, 0x0, 0x1);
        gbc.writeMem(0x1367, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0xdff6);
        EXPECT(gbc.pc(), 0x1368);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01A5
        gbc.setState(0x7cb0, 0x114f, 0x2530, 0x6797, 0xa40e, 0xd6ca, 0x1, 0x1);
        gbc.writeMem(0x7cb0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x114f);
        EXPECT(gbc.pc(), 0x7cb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01A6
        gbc.setState(0x5c93, 0x3bfb, 0x7210, 0x9737, 0xd3a3, 0x1b8f, 0x1, 0x1);
        gbc.writeMem(0x5c93, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x3bfb);
        EXPECT(gbc.pc(), 0x5c94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01A7
        gbc.setState(0x1e5d, 0xa40f, 0x3630, 0x3a9, 0x15e6, 0x4418, 0x0, 0x0);
        gbc.writeMem(0x1e5d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xa40f);
        EXPECT(gbc.pc(), 0x1e5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01AB
        gbc.setState(0x9fb8, 0xaa56, 0xce20, 0xf78b, 0xfebd, 0x96f9, 0x1, 0x1);
        gbc.writeMem(0x9fb8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xaa56);
        EXPECT(gbc.pc(), 0x9fb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9fb8), 0xf);
        // 0F 01AC
        gbc.setState(0x7ee5, 0xc6d1, 0x2c00, 0x91ec, 0xc56a, 0xc35f, 0x0, 0x1);
        gbc.writeMem(0x7ee5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xc6d1);
        EXPECT(gbc.pc(), 0x7ee6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01AD
        gbc.setState(0x287b, 0x4256, 0xa70, 0x4418, 0xeb77, 0x37d9, 0x1, 0x1);
        gbc.writeMem(0x287b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x4256);
        EXPECT(gbc.pc(), 0x287c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01AE
        gbc.setState(0x4c67, 0x7a1, 0x74e0, 0xc23, 0x9db2, 0xd9a1, 0x1, 0x1);
        gbc.writeMem(0x4c67, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x7a1);
        EXPECT(gbc.pc(), 0x4c68);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01AF
        gbc.setState(0x8315, 0x281, 0x8430, 0xd773, 0x1f65, 0x16c4, 0x0, 0x0);
        gbc.writeMem(0x8315, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x281);
        EXPECT(gbc.pc(), 0x8316);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8315), 0xf);
        // 0F 01B0
        gbc.setState(0x7ed7, 0xa54, 0x30b0, 0xd9dc, 0x3a34, 0xa69b, 0x1, 0x0);
        gbc.writeMem(0x7ed7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xa54);
        EXPECT(gbc.pc(), 0x7ed8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01B1
        gbc.setState(0x8c38, 0x2c4e, 0xb350, 0x3d26, 0xa699, 0xa20c, 0x1, 0x1);
        gbc.writeMem(0x8c38, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x2c4e);
        EXPECT(gbc.pc(), 0x8c39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c38), 0xf);
        // 0F 01B2
        gbc.setState(0x5658, 0x234c, 0x7dd0, 0x5f91, 0x77b1, 0x7372, 0x1, 0x0);
        gbc.writeMem(0x5658, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbe);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x234c);
        EXPECT(gbc.pc(), 0x5659);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01B3
        gbc.setState(0x27aa, 0xf5b6, 0xadc0, 0xe801, 0x2dee, 0xf624, 0x0, 0x0);
        gbc.writeMem(0x27aa, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xf5b6);
        EXPECT(gbc.pc(), 0x27ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01B4
        gbc.setState(0x8123, 0x555d, 0xbdc0, 0xd88e, 0x53e, 0x1808, 0x0, 0x1);
        gbc.writeMem(0x8123, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x555d);
        EXPECT(gbc.pc(), 0x8124);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8123), 0xf);
        // 0F 01B5
        gbc.setState(0x75e3, 0x74d, 0x29e0, 0x1cef, 0xbe09, 0x7a5b, 0x1, 0x0);
        gbc.writeMem(0x75e3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x74d);
        EXPECT(gbc.pc(), 0x75e4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01B6
        gbc.setState(0x6c50, 0x7246, 0xa250, 0x644d, 0xdd8d, 0x17bb, 0x1, 0x1);
        gbc.writeMem(0x6c50, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x7246);
        EXPECT(gbc.pc(), 0x6c51);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01B7
        gbc.setState(0x69b, 0x7535, 0xab50, 0xd548, 0x7d9e, 0x7998, 0x1, 0x0);
        gbc.writeMem(0x69b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x7535);
        EXPECT(gbc.pc(), 0x69c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01B8
        gbc.setState(0x916e, 0x7a02, 0xcff0, 0xf681, 0xe72d, 0x3cc3, 0x1, 0x1);
        gbc.writeMem(0x916e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x7a02);
        EXPECT(gbc.pc(), 0x916f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x916e), 0xf);
        // 0F 01BA
        gbc.setState(0x83a9, 0xf46e, 0xd900, 0xeb9d, 0x9b0f, 0x2b8b, 0x0, 0x0);
        gbc.writeMem(0x83a9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xf46e);
        EXPECT(gbc.pc(), 0x83aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83a9), 0xf);
        // 0F 01BB
        gbc.setState(0xdb0b, 0x8651, 0xe060, 0xcfc2, 0x7ff2, 0x96af, 0x1, 0x0);
        gbc.writeMem(0xdb0b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x8651);
        EXPECT(gbc.pc(), 0xdb0c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb0b), 0xf);
        // 0F 01BC
        gbc.setState(0xaf3f, 0xd8f9, 0x250, 0x860d, 0x5736, 0xccdf, 0x1, 0x1);
        gbc.writeMem(0xaf3f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xd8f9);
        EXPECT(gbc.pc(), 0xaf40);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf3f), 0xf);
        // 0F 01BD
        gbc.setState(0xd9f8, 0x5ecb, 0x3900, 0x734d, 0xc61e, 0xaacd, 0x0, 0x0);
        gbc.writeMem(0xd9f8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x5ecb);
        EXPECT(gbc.pc(), 0xd9f9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9f8), 0xf);
        // 0F 01BE
        gbc.setState(0x6b24, 0x3b7c, 0x69e0, 0x4aec, 0x4413, 0xee85, 0x0, 0x1);
        gbc.writeMem(0x6b24, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x3b7c);
        EXPECT(gbc.pc(), 0x6b25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01BF
        gbc.setState(0x794b, 0x983a, 0xf3e0, 0xe73, 0x7984, 0x4719, 0x1, 0x1);
        gbc.writeMem(0x794b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x983a);
        EXPECT(gbc.pc(), 0x794c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01C0
        gbc.setState(0x8fa1, 0xb96b, 0x1b30, 0x16f2, 0xcc86, 0xbb3a, 0x1, 0x0);
        gbc.writeMem(0x8fa1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xb96b);
        EXPECT(gbc.pc(), 0x8fa2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8fa1), 0xf);
        // 0F 01C1
        gbc.setState(0x3b74, 0x1782, 0x3f00, 0x70fc, 0xe854, 0xa8d2, 0x0, 0x0);
        gbc.writeMem(0x3b74, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x1782);
        EXPECT(gbc.pc(), 0x3b75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01C2
        gbc.setState(0xe2c2, 0xd48b, 0xf700, 0xe9aa, 0x750d, 0xc996, 0x0, 0x1);
        gbc.writeMem(0xe2c2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xd48b);
        EXPECT(gbc.pc(), 0xe2c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe2c2), 0xf);
        // 0F 01C3
        gbc.setState(0xddb8, 0x4f79, 0x4cd0, 0x5caf, 0xd2f, 0x665e, 0x1, 0x0);
        gbc.writeMem(0xddb8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x4f79);
        EXPECT(gbc.pc(), 0xddb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xddb8), 0xf);
        // 0F 01C5
        gbc.setState(0x6199, 0x145f, 0x1210, 0xaf54, 0xd0c6, 0x2afe, 0x1, 0x1);
        gbc.writeMem(0x6199, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x145f);
        EXPECT(gbc.pc(), 0x619a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01C6
        gbc.setState(0x6c23, 0xc384, 0xe8a0, 0x89e3, 0x1f90, 0x1eb1, 0x1, 0x1);
        gbc.writeMem(0x6c23, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xc384);
        EXPECT(gbc.pc(), 0x6c24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01C8
        gbc.setState(0x9d33, 0x97aa, 0xc6d0, 0x568f, 0x169d, 0x71f6, 0x1, 0x0);
        gbc.writeMem(0x9d33, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x97aa);
        EXPECT(gbc.pc(), 0x9d34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d33), 0xf);
        // 0F 01C9
        gbc.setState(0x347d, 0x7680, 0xfd00, 0x8c64, 0x16df, 0x63a3, 0x0, 0x0);
        gbc.writeMem(0x347d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x7680);
        EXPECT(gbc.pc(), 0x347e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01CA
        gbc.setState(0xe828, 0x1131, 0x54a0, 0xc6d, 0x97d2, 0xc1d, 0x1, 0x1);
        gbc.writeMem(0xe828, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1131);
        EXPECT(gbc.pc(), 0xe829);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe828), 0xf);
        // 0F 01CB
        gbc.setState(0xc8ad, 0xc74, 0xc890, 0xa52c, 0xf4df, 0x786f, 0x0, 0x0);
        gbc.writeMem(0xc8ad, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0xc74);
        EXPECT(gbc.pc(), 0xc8ae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8ad), 0xf);
        // 0F 01CC
        gbc.setState(0x6c1a, 0x45ad, 0x5640, 0x9dea, 0x6917, 0x8ff4, 0x1, 0x0);
        gbc.writeMem(0x6c1a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x45ad);
        EXPECT(gbc.pc(), 0x6c1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01CD
        gbc.setState(0x8162, 0x49a4, 0xa150, 0x6fc1, 0x8750, 0x56f4, 0x0, 0x0);
        gbc.writeMem(0x8162, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x49a4);
        EXPECT(gbc.pc(), 0x8163);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8162), 0xf);
        // 0F 01CE
        gbc.setState(0xb2bc, 0x68f3, 0xe310, 0xe9a4, 0xb2d, 0x989f, 0x1, 0x1);
        gbc.writeMem(0xb2bc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x68f3);
        EXPECT(gbc.pc(), 0xb2bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb2bc), 0xf);
        // 0F 01CF
        gbc.setState(0x5e35, 0xd3dc, 0xb520, 0xa041, 0x80b4, 0xc6e0, 0x1, 0x0);
        gbc.writeMem(0x5e35, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xda);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xd3dc);
        EXPECT(gbc.pc(), 0x5e36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01D0
        gbc.setState(0x216, 0xe57f, 0x60b0, 0x72a, 0x75ad, 0xa14, 0x1, 0x1);
        gbc.writeMem(0x216, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xe57f);
        EXPECT(gbc.pc(), 0x217);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01D1
        gbc.setState(0x3137, 0xbca4, 0x230, 0xa321, 0x6c34, 0x68f7, 0x0, 0x1);
        gbc.writeMem(0x3137, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0xbca4);
        EXPECT(gbc.pc(), 0x3138);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01D2
        gbc.setState(0x2328, 0x3436, 0xe380, 0x4e6a, 0x8067, 0x162b, 0x1, 0x1);
        gbc.writeMem(0x2328, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3436);
        EXPECT(gbc.pc(), 0x2329);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01D3
        gbc.setState(0x8bc2, 0x3c71, 0xb0d0, 0xe198, 0x439f, 0xdf71, 0x0, 0x1);
        gbc.writeMem(0x8bc2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x3c71);
        EXPECT(gbc.pc(), 0x8bc3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bc2), 0xf);
        // 0F 01D4
        gbc.setState(0xe993, 0x2432, 0x3230, 0x7ea3, 0x86e6, 0x8704, 0x0, 0x1);
        gbc.writeMem(0xe993, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x2432);
        EXPECT(gbc.pc(), 0xe994);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe993), 0xf);
        // 0F 01D5
        gbc.setState(0x516c, 0x1719, 0x8360, 0x26d0, 0x7e0e, 0xb34f, 0x1, 0x1);
        gbc.writeMem(0x516c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x1719);
        EXPECT(gbc.pc(), 0x516d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01D6
        gbc.setState(0xec38, 0xc35a, 0xbdf0, 0xa627, 0xd83, 0xa64b, 0x0, 0x0);
        gbc.writeMem(0xec38, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xc35a);
        EXPECT(gbc.pc(), 0xec39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec38), 0xf);
        // 0F 01D7
        gbc.setState(0xbf23, 0xe7b6, 0x3560, 0x30a7, 0xf3cf, 0xeb3c, 0x1, 0x1);
        gbc.writeMem(0xbf23, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xe7b6);
        EXPECT(gbc.pc(), 0xbf24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbf23), 0xf);
        // 0F 01D8
        gbc.setState(0xbea1, 0xdcad, 0x870, 0xc07f, 0x7c84, 0x81dd, 0x0, 0x0);
        gbc.writeMem(0xbea1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xdcad);
        EXPECT(gbc.pc(), 0xbea2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbea1), 0xf);
        // 0F 01D9
        gbc.setState(0x9ead, 0xc619, 0xdbe0, 0x1e1b, 0xe3e6, 0xac51, 0x0, 0x0);
        gbc.writeMem(0x9ead, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xc619);
        EXPECT(gbc.pc(), 0x9eae);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9ead), 0xf);
        // 0F 01DA
        gbc.setState(0x8b1c, 0x9d95, 0x8a70, 0x2c49, 0xbc2c, 0xce1a, 0x0, 0x1);
        gbc.writeMem(0x8b1c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x9d95);
        EXPECT(gbc.pc(), 0x8b1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b1c), 0xf);
        // 0F 01DB
        gbc.setState(0x34ad, 0xd607, 0xdf30, 0x74b5, 0x8e08, 0xed3b, 0x1, 0x0);
        gbc.writeMem(0x34ad, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xd607);
        EXPECT(gbc.pc(), 0x34ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01DC
        gbc.setState(0x3b4, 0x8626, 0x2050, 0x8400, 0x9c69, 0x1bae, 0x0, 0x0);
        gbc.writeMem(0x3b4, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x8626);
        EXPECT(gbc.pc(), 0x3b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01DD
        gbc.setState(0x732e, 0xdac0, 0x8a30, 0x4942, 0x4ec, 0x2b9, 0x1, 0x1);
        gbc.writeMem(0x732e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xdac0);
        EXPECT(gbc.pc(), 0x732f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01DE
        gbc.setState(0x8054, 0xa4a, 0x6600, 0xdc53, 0xae28, 0xccde, 0x1, 0x0);
        gbc.writeMem(0x8054, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0xa4a);
        EXPECT(gbc.pc(), 0x8055);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8054), 0xf);
        // 0F 01E0
        gbc.setState(0xa134, 0x3395, 0xa830, 0x2d3d, 0xfad4, 0x3e74, 0x1, 0x0);
        gbc.writeMem(0xa134, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x3395);
        EXPECT(gbc.pc(), 0xa135);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa134), 0xf);
        // 0F 01E1
        gbc.setState(0xe239, 0x6ab4, 0xc3a0, 0x54da, 0x531b, 0xa34e, 0x1, 0x0);
        gbc.writeMem(0xe239, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x6ab4);
        EXPECT(gbc.pc(), 0xe23a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe239), 0xf);
        // 0F 01E2
        gbc.setState(0xb810, 0xb406, 0xc3a0, 0xae6a, 0xc65b, 0x8ba6, 0x0, 0x0);
        gbc.writeMem(0xb810, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xb406);
        EXPECT(gbc.pc(), 0xb811);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb810), 0xf);
        // 0F 01E3
        gbc.setState(0x71dc, 0xe61c, 0x8130, 0x4b57, 0x220d, 0xbf8b, 0x1, 0x0);
        gbc.writeMem(0x71dc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xe61c);
        EXPECT(gbc.pc(), 0x71dd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01E4
        gbc.setState(0x20e1, 0x1473, 0x4300, 0xce52, 0x1d8e, 0x8f8, 0x0, 0x0);
        gbc.writeMem(0x20e1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x1473);
        EXPECT(gbc.pc(), 0x20e2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01E5
        gbc.setState(0x112b, 0xc01d, 0x8320, 0xe689, 0xfec0, 0x7274, 0x0, 0x0);
        gbc.writeMem(0x112b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x72);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xc01d);
        EXPECT(gbc.pc(), 0x112c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01E6
        gbc.setState(0x3e95, 0x10aa, 0x340, 0x6aad, 0xb911, 0x24d1, 0x0, 0x0);
        gbc.writeMem(0x3e95, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x10aa);
        EXPECT(gbc.pc(), 0x3e96);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01E7
        gbc.setState(0x4416, 0xf968, 0x420, 0xefd7, 0xb2b3, 0x54cc, 0x1, 0x0);
        gbc.writeMem(0x4416, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xf968);
        EXPECT(gbc.pc(), 0x4417);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01E8
        gbc.setState(0x26f9, 0x2da2, 0x3cf0, 0x4aff, 0x42fa, 0x6fd2, 0x1, 0x0);
        gbc.writeMem(0x26f9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x2da2);
        EXPECT(gbc.pc(), 0x26fa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01E9
        gbc.setState(0x8784, 0xa766, 0xc610, 0xd2f9, 0xba3e, 0x124a, 0x1, 0x0);
        gbc.writeMem(0x8784, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xa766);
        EXPECT(gbc.pc(), 0x8785);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8784), 0xf);
        // 0F 01EA
        gbc.setState(0xa02f, 0xf80c, 0x1a20, 0xb710, 0x840b, 0xf8f9, 0x0, 0x1);
        gbc.writeMem(0xa02f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xf80c);
        EXPECT(gbc.pc(), 0xa030);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa02f), 0xf);
        // 0F 01EB
        gbc.setState(0xdf7b, 0xadf1, 0x3e10, 0x5841, 0xe86e, 0x3ab4, 0x0, 0x1);
        gbc.writeMem(0xdf7b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xadf1);
        EXPECT(gbc.pc(), 0xdf7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf7b), 0xf);
        // 0F 01EC
        gbc.setState(0xb330, 0xec26, 0x4e80, 0xd670, 0xb627, 0xfbe2, 0x1, 0x0);
        gbc.writeMem(0xb330, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xec26);
        EXPECT(gbc.pc(), 0xb331);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb330), 0xf);
        // 0F 01ED
        gbc.setState(0x5ce4, 0xc681, 0x9210, 0xe277, 0xe479, 0x36f4, 0x1, 0x1);
        gbc.writeMem(0x5ce4, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xc681);
        EXPECT(gbc.pc(), 0x5ce5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01EE
        gbc.setState(0x1a7b, 0x11c9, 0x4640, 0x3624, 0x1e3f, 0x879d, 0x1, 0x0);
        gbc.writeMem(0x1a7b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x11c9);
        EXPECT(gbc.pc(), 0x1a7c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01EF
        gbc.setState(0x8c01, 0x48ad, 0x9cc0, 0xa9ea, 0x7486, 0xaae2, 0x0, 0x0);
        gbc.writeMem(0x8c01, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x48ad);
        EXPECT(gbc.pc(), 0x8c02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8c01), 0xf);
        // 0F 01F0
        gbc.setState(0x47a8, 0xd8fc, 0xeb0, 0xde0b, 0x8e64, 0x8fcd, 0x1, 0x0);
        gbc.writeMem(0x47a8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xd8fc);
        EXPECT(gbc.pc(), 0x47a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01F1
        gbc.setState(0x80b5, 0xace4, 0x8ce0, 0xa1fb, 0xee51, 0x3fd9, 0x1, 0x1);
        gbc.writeMem(0x80b5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xace4);
        EXPECT(gbc.pc(), 0x80b6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80b5), 0xf);
        // 0F 01F2
        gbc.setState(0xb2a, 0xb06, 0x6790, 0x307a, 0x90f4, 0xecbc, 0x0, 0x1);
        gbc.writeMem(0xb2a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb06);
        EXPECT(gbc.pc(), 0xb2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 01F3
        gbc.setState(0xda9, 0x42d5, 0xe10, 0xfcc0, 0x5b1, 0x196c, 0x0, 0x1);
        gbc.writeMem(0xda9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x42d5);
        EXPECT(gbc.pc(), 0xdaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01F4
        gbc.setState(0xeb2e, 0x9ab, 0xb980, 0xbb9d, 0xaac2, 0x1d5d, 0x0, 0x1);
        gbc.writeMem(0xeb2e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x9ab);
        EXPECT(gbc.pc(), 0xeb2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeb2e), 0xf);
        // 0F 01F5
        gbc.setState(0xed5f, 0xf607, 0xe940, 0x8a4d, 0x24d5, 0x5ca0, 0x1, 0x1);
        gbc.writeMem(0xed5f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xf607);
        EXPECT(gbc.pc(), 0xed60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xed5f), 0xf);
        // 0F 01F6
        gbc.setState(0xec6b, 0xc4ef, 0x4770, 0x39f2, 0xff4e, 0x3b7f, 0x0, 0x1);
        gbc.writeMem(0xec6b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xc4ef);
        EXPECT(gbc.pc(), 0xec6c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xec6b), 0xf);
        // 0F 01F7
        gbc.setState(0xce9b, 0x6c13, 0xbfe0, 0x1435, 0x9d90, 0x5213, 0x0, 0x0);
        gbc.writeMem(0xce9b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdf);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x6c13);
        EXPECT(gbc.pc(), 0xce9c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xce9b), 0xf);
        // 0F 01F8
        gbc.setState(0x5386, 0x2acd, 0xc090, 0x9886, 0xf941, 0x95d0, 0x1, 0x1);
        gbc.writeMem(0x5386, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x2acd);
        EXPECT(gbc.pc(), 0x5387);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01F9
        gbc.setState(0xa936, 0x98c6, 0x8b80, 0x99f6, 0x97c1, 0x2fac, 0x1, 0x1);
        gbc.writeMem(0xa936, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x98c6);
        EXPECT(gbc.pc(), 0xa937);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa936), 0xf);
        // 0F 01FA
        gbc.setState(0x9645, 0x8389, 0xcc00, 0xe4ad, 0x2f4f, 0x19a2, 0x0, 0x0);
        gbc.writeMem(0x9645, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xe4);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x8389);
        EXPECT(gbc.pc(), 0x9646);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9645), 0xf);
        // 0F 01FB
        gbc.setState(0x50a1, 0x63fb, 0xc600, 0xc235, 0x5ed6, 0x68b7, 0x0, 0x1);
        gbc.writeMem(0x50a1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x63fb);
        EXPECT(gbc.pc(), 0x50a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 01FC
        gbc.setState(0xed85, 0x165d, 0x7e50, 0x53a1, 0x5f40, 0xa6f8, 0x0, 0x1);
        gbc.writeMem(0xed85, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x165d);
        EXPECT(gbc.pc(), 0xed86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed85), 0xf);
        // 0F 01FD
        gbc.setState(0xa6db, 0x4135, 0xf9f0, 0xb985, 0xaf53, 0xcc2e, 0x0, 0x0);
        gbc.writeMem(0xa6db, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x4135);
        EXPECT(gbc.pc(), 0xa6dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6db), 0xf);
        // 0F 01FE
        gbc.setState(0xbe6c, 0x82aa, 0x3180, 0xd16b, 0x5639, 0x5f7, 0x1, 0x0);
        gbc.writeMem(0xbe6c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x82aa);
        EXPECT(gbc.pc(), 0xbe6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbe6c), 0xf);
        // 0F 01FF
        gbc.setState(0xc503, 0x23b8, 0xf70, 0xe670, 0x21e, 0x3cd4, 0x1, 0x0);
        gbc.writeMem(0xc503, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x23b8);
        EXPECT(gbc.pc(), 0xc504);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc503), 0xf);
        // 0F 0200
        gbc.setState(0xeaa5, 0x227b, 0x5b90, 0x4aa9, 0x26a4, 0x146a, 0x0, 0x1);
        gbc.writeMem(0xeaa5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xad);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x227b);
        EXPECT(gbc.pc(), 0xeaa6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xeaa5), 0xf);
        // 0F 0201
        gbc.setState(0x62f8, 0xc1d, 0xf6c0, 0x89c9, 0x25f9, 0xe6c4, 0x1, 0x0);
        gbc.writeMem(0x62f8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xc1d);
        EXPECT(gbc.pc(), 0x62f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0202
        gbc.setState(0xca2a, 0xc98f, 0x7a00, 0xa601, 0xb237, 0xa8b8, 0x0, 0x0);
        gbc.writeMem(0xca2a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xc98f);
        EXPECT(gbc.pc(), 0xca2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca2a), 0xf);
        // 0F 0203
        gbc.setState(0x2576, 0x5cea, 0x6e00, 0x44ff, 0xbeea, 0x8737, 0x1, 0x1);
        gbc.writeMem(0x2576, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x37);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x5cea);
        EXPECT(gbc.pc(), 0x2577);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0204
        gbc.setState(0x7b93, 0x4c80, 0xc080, 0x8ba4, 0xae56, 0x475f, 0x0, 0x0);
        gbc.writeMem(0x7b93, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x4c80);
        EXPECT(gbc.pc(), 0x7b94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0205
        gbc.setState(0x106e, 0xd806, 0xb3f0, 0x42d5, 0x584, 0x6a9e, 0x0, 0x1);
        gbc.writeMem(0x106e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xd806);
        EXPECT(gbc.pc(), 0x106f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0207
        gbc.setState(0xee30, 0x1389, 0xe7a0, 0x8f93, 0x73fe, 0xed7d, 0x1, 0x0);
        gbc.writeMem(0xee30, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x1389);
        EXPECT(gbc.pc(), 0xee31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xee30), 0xf);
        // 0F 0208
        gbc.setState(0x6470, 0x8a82, 0x32f0, 0x5921, 0xfa5d, 0x67b7, 0x0, 0x1);
        gbc.writeMem(0x6470, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x8a82);
        EXPECT(gbc.pc(), 0x6471);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0209
        gbc.setState(0xda3, 0x17d6, 0xeb60, 0xa76, 0x8a52, 0x1c20, 0x1, 0x0);
        gbc.writeMem(0xda3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x17d6);
        EXPECT(gbc.pc(), 0xda4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 020A
        gbc.setState(0x7dd3, 0xc6bc, 0x68d0, 0x950a, 0xeb1, 0x1e1e, 0x1, 0x1);
        gbc.writeMem(0x7dd3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xc6bc);
        EXPECT(gbc.pc(), 0x7dd4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 020B
        gbc.setState(0xb145, 0x2185, 0xd490, 0x9296, 0x31, 0xad5, 0x0, 0x1);
        gbc.writeMem(0xb145, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x96);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x2185);
        EXPECT(gbc.pc(), 0xb146);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb145), 0xf);
        // 0F 020C
        gbc.setState(0x5374, 0xa9ea, 0xdf30, 0xc433, 0x4f38, 0xc9f1, 0x0, 0x0);
        gbc.writeMem(0x5374, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xa9ea);
        EXPECT(gbc.pc(), 0x5375);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 020D
        gbc.setState(0xaae, 0x9297, 0xabf0, 0x8131, 0x6bc1, 0x1c17, 0x0, 0x1);
        gbc.writeMem(0xaae, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x9297);
        EXPECT(gbc.pc(), 0xaaf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 020E
        gbc.setState(0x8818, 0x286f, 0x4530, 0x96b7, 0x8a1, 0xa8e4, 0x1, 0x0);
        gbc.writeMem(0x8818, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x286f);
        EXPECT(gbc.pc(), 0x8819);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8818), 0xf);
        // 0F 020F
        gbc.setState(0xcdd8, 0xaf5e, 0xc490, 0xf64d, 0x12a0, 0xfb0, 0x1, 0x1);
        gbc.writeMem(0xcdd8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xaf5e);
        EXPECT(gbc.pc(), 0xcdd9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcdd8), 0xf);
        // 0F 0210
        gbc.setState(0xe160, 0xcf9e, 0xc810, 0x32cf, 0x3f60, 0x16d1, 0x0, 0x1);
        gbc.writeMem(0xe160, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xcf9e);
        EXPECT(gbc.pc(), 0xe161);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe160), 0xf);
        // 0F 0211
        gbc.setState(0x8621, 0xad07, 0xf9f0, 0xf96f, 0xf66, 0x2d19, 0x0, 0x1);
        gbc.writeMem(0x8621, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xad07);
        EXPECT(gbc.pc(), 0x8622);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8621), 0xf);
        // 0F 0212
        gbc.setState(0x899b, 0xd5f, 0x91f0, 0x21c8, 0x5bdf, 0x5e96, 0x0, 0x1);
        gbc.writeMem(0x899b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xd5f);
        EXPECT(gbc.pc(), 0x899c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x899b), 0xf);
        // 0F 0213
        gbc.setState(0x3d10, 0x48dd, 0xb6b0, 0xf538, 0xb14f, 0x1f7, 0x0, 0x0);
        gbc.writeMem(0x3d10, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x48dd);
        EXPECT(gbc.pc(), 0x3d11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0214
        gbc.setState(0x8496, 0x1386, 0xc4c0, 0xc94e, 0x2820, 0x8cee, 0x1, 0x1);
        gbc.writeMem(0x8496, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x1386);
        EXPECT(gbc.pc(), 0x8497);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8496), 0xf);
        // 0F 0215
        gbc.setState(0xdfda, 0x9506, 0xdf00, 0xdf50, 0xb339, 0x6ce3, 0x0, 0x1);
        gbc.writeMem(0xdfda, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x9506);
        EXPECT(gbc.pc(), 0xdfdb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdfda), 0xf);
        // 0F 0216
        gbc.setState(0x25ad, 0x216d, 0x6c00, 0x707b, 0x14a7, 0x8b1, 0x1, 0x0);
        gbc.writeMem(0x25ad, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x216d);
        EXPECT(gbc.pc(), 0x25ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0217
        gbc.setState(0x78a7, 0x2470, 0xfb00, 0x6105, 0xe0be, 0xb93b, 0x0, 0x1);
        gbc.writeMem(0x78a7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x2470);
        EXPECT(gbc.pc(), 0x78a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0218
        gbc.setState(0x9f27, 0xc66f, 0x4ca0, 0x7567, 0xba27, 0x615e, 0x0, 0x1);
        gbc.writeMem(0x9f27, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xc66f);
        EXPECT(gbc.pc(), 0x9f28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f27), 0xf);
        // 0F 0219
        gbc.setState(0x523a, 0x63db, 0xb7c0, 0x6a99, 0x65a1, 0xf001, 0x0, 0x0);
        gbc.writeMem(0x523a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x63db);
        EXPECT(gbc.pc(), 0x523b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 021A
        gbc.setState(0xadbf, 0xa131, 0x7c90, 0x5038, 0xfaa3, 0xfe88, 0x0, 0x0);
        gbc.writeMem(0xadbf, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3e);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0xa131);
        EXPECT(gbc.pc(), 0xadc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xadbf), 0xf);
        // 0F 021B
        gbc.setState(0x609f, 0x89fe, 0x6980, 0xaafb, 0xa22, 0xda32, 0x0, 0x1);
        gbc.writeMem(0x609f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x89fe);
        EXPECT(gbc.pc(), 0x60a0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 021C
        gbc.setState(0x306f, 0xdd85, 0x2dc0, 0xd115, 0x85db, 0xa1d2, 0x1, 0x1);
        gbc.writeMem(0x306f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xdd85);
        EXPECT(gbc.pc(), 0x3070);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 021D
        gbc.setState(0x21d, 0xf444, 0xe140, 0xe114, 0x9654, 0xa5c, 0x0, 0x1);
        gbc.writeMem(0x21d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xf444);
        EXPECT(gbc.pc(), 0x21e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 021E
        gbc.setState(0xbacb, 0x81bd, 0x37b0, 0x2e0, 0x111c, 0x4139, 0x1, 0x0);
        gbc.writeMem(0xbacb, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x81bd);
        EXPECT(gbc.pc(), 0xbacc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbacb), 0xf);
        // 0F 021F
        gbc.setState(0x5153, 0x1ec2, 0x2a70, 0x2929, 0x5109, 0x5e40, 0x1, 0x1);
        gbc.writeMem(0x5153, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x1ec2);
        EXPECT(gbc.pc(), 0x5154);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0220
        gbc.setState(0x781f, 0xa2ff, 0x8e70, 0x73db, 0x532, 0xe1bd, 0x1, 0x0);
        gbc.writeMem(0x781f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xa2ff);
        EXPECT(gbc.pc(), 0x7820);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0221
        gbc.setState(0xd7b0, 0x76c6, 0x9990, 0x5fa, 0xc512, 0x9842, 0x0, 0x1);
        gbc.writeMem(0xd7b0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x76c6);
        EXPECT(gbc.pc(), 0xd7b1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd7b0), 0xf);
        // 0F 0222
        gbc.setState(0x482, 0xbc78, 0xce00, 0x4abf, 0x2eb1, 0xc1f8, 0x1, 0x0);
        gbc.writeMem(0x482, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0xbc78);
        EXPECT(gbc.pc(), 0x483);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0223
        gbc.setState(0x36ec, 0xa345, 0xab00, 0x202f, 0x3381, 0x58d, 0x0, 0x0);
        gbc.writeMem(0x36ec, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xa345);
        EXPECT(gbc.pc(), 0x36ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0224
        gbc.setState(0xb74a, 0x14f7, 0x8360, 0x75ef, 0xb645, 0xe2ff, 0x1, 0x0);
        gbc.writeMem(0xb74a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x75);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x14f7);
        EXPECT(gbc.pc(), 0xb74b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb74a), 0xf);
        // 0F 0225
        gbc.setState(0xa58d, 0x752d, 0x2a80, 0xef41, 0x1f5f, 0x1b57, 0x0, 0x1);
        gbc.writeMem(0xa58d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x752d);
        EXPECT(gbc.pc(), 0xa58e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa58d), 0xf);
        // 0F 0226
        gbc.setState(0xcc0c, 0x6656, 0x5ca0, 0xd22f, 0x29f8, 0x6a40, 0x1, 0x1);
        gbc.writeMem(0xcc0c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x6656);
        EXPECT(gbc.pc(), 0xcc0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc0c), 0xf);
        // 0F 0227
        gbc.setState(0xb57, 0x707c, 0x6310, 0x87fd, 0x9283, 0x90c2, 0x1, 0x1);
        gbc.writeMem(0xb57, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x707c);
        EXPECT(gbc.pc(), 0xb58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0228
        gbc.setState(0xcc49, 0xf3cc, 0x4390, 0xe174, 0x96b8, 0xda12, 0x1, 0x1);
        gbc.writeMem(0xcc49, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0xf3cc);
        EXPECT(gbc.pc(), 0xcc4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc49), 0xf);
        // 0F 0229
        gbc.setState(0x4b96, 0x1285, 0x3610, 0x4228, 0xb2f0, 0xa923, 0x1, 0x1);
        gbc.writeMem(0x4b96, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x1285);
        EXPECT(gbc.pc(), 0x4b97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 022A
        gbc.setState(0xe112, 0x40fb, 0xb170, 0xbcdf, 0x5a8, 0xb816, 0x0, 0x1);
        gbc.writeMem(0xe112, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x40fb);
        EXPECT(gbc.pc(), 0xe113);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe112), 0xf);
        // 0F 022B
        gbc.setState(0xb47b, 0xb9ac, 0xc710, 0x4a8f, 0x6906, 0x2779, 0x1, 0x1);
        gbc.writeMem(0xb47b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xb9ac);
        EXPECT(gbc.pc(), 0xb47c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb47b), 0xf);
        // 0F 022C
        gbc.setState(0xd258, 0x9ecc, 0xcbd0, 0xa331, 0xd06c, 0x1709, 0x1, 0x0);
        gbc.writeMem(0xd258, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x9ecc);
        EXPECT(gbc.pc(), 0xd259);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd258), 0xf);
        // 0F 022D
        gbc.setState(0xb037, 0x3b36, 0x720, 0xab68, 0xc569, 0xc4de, 0x1, 0x0);
        gbc.writeMem(0xb037, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x3b36);
        EXPECT(gbc.pc(), 0xb038);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb037), 0xf);
        // 0F 022F
        gbc.setState(0xba14, 0xa65f, 0xc700, 0xafe1, 0xdf1d, 0x9572, 0x1, 0x0);
        gbc.writeMem(0xba14, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xa65f);
        EXPECT(gbc.pc(), 0xba15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba14), 0xf);
        // 0F 0230
        gbc.setState(0x831f, 0x47df, 0xafa0, 0xcf20, 0x3a50, 0x4ff0, 0x0, 0x1);
        gbc.writeMem(0x831f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x47df);
        EXPECT(gbc.pc(), 0x8320);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x831f), 0xf);
        // 0F 0231
        gbc.setState(0x1789, 0xda0c, 0x8020, 0x2292, 0xc12c, 0xe745, 0x1, 0x1);
        gbc.writeMem(0x1789, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xda0c);
        EXPECT(gbc.pc(), 0x178a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0232
        gbc.setState(0x92f2, 0x119e, 0xe0e0, 0x7ca3, 0x3400, 0x5b34, 0x1, 0x1);
        gbc.writeMem(0x92f2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x119e);
        EXPECT(gbc.pc(), 0x92f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92f2), 0xf);
        // 0F 0233
        gbc.setState(0xa036, 0xaaa4, 0xf440, 0x3cc, 0x2879, 0x13b6, 0x1, 0x0);
        gbc.writeMem(0xa036, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xaaa4);
        EXPECT(gbc.pc(), 0xa037);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa036), 0xf);
        // 0F 0234
        gbc.setState(0xac1, 0x4f2a, 0x94f0, 0x5291, 0xf7ea, 0xfb95, 0x1, 0x1);
        gbc.writeMem(0xac1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x4f2a);
        EXPECT(gbc.pc(), 0xac2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0235
        gbc.setState(0xcc74, 0x5258, 0xa2d0, 0xe2bd, 0x7a6a, 0x92a2, 0x0, 0x1);
        gbc.writeMem(0xcc74, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x5258);
        EXPECT(gbc.pc(), 0xcc75);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc74), 0xf);
        // 0F 0236
        gbc.setState(0x665f, 0x71c1, 0x2b0, 0x9873, 0x9964, 0x3284, 0x0, 0x1);
        gbc.writeMem(0x665f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x71c1);
        EXPECT(gbc.pc(), 0x6660);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0239
        gbc.setState(0x808, 0x536c, 0x6460, 0xb9da, 0xb49c, 0x1fa1, 0x0, 0x1);
        gbc.writeMem(0x808, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x536c);
        EXPECT(gbc.pc(), 0x809);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 023A
        gbc.setState(0xd2a3, 0x7a3f, 0x98a0, 0x323a, 0x95fc, 0x15b8, 0x0, 0x0);
        gbc.writeMem(0xd2a3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x7a3f);
        EXPECT(gbc.pc(), 0xd2a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2a3), 0xf);
        // 0F 023B
        gbc.setState(0x48cd, 0xea3, 0x5380, 0x8b5a, 0x5c7d, 0x68ca, 0x0, 0x0);
        gbc.writeMem(0x48cd, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xea3);
        EXPECT(gbc.pc(), 0x48ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 023C
        gbc.setState(0x9007, 0x18d5, 0x84c0, 0xe93e, 0xba9c, 0xb0b5, 0x0, 0x0);
        gbc.writeMem(0x9007, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x18d5);
        EXPECT(gbc.pc(), 0x9008);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9007), 0xf);
        // 0F 023D
        gbc.setState(0x7c2d, 0x2a18, 0xf150, 0x1d7b, 0x77f0, 0x4004, 0x0, 0x0);
        gbc.writeMem(0x7c2d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x2a18);
        EXPECT(gbc.pc(), 0x7c2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 023E
        gbc.setState(0x5c43, 0xd10f, 0xa2d0, 0xa0fe, 0x7f2b, 0xa6f0, 0x1, 0x1);
        gbc.writeMem(0x5c43, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xd10f);
        EXPECT(gbc.pc(), 0x5c44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 023F
        gbc.setState(0x9df3, 0x5ef1, 0x3a50, 0x4857, 0xab53, 0x4578, 0x1, 0x1);
        gbc.writeMem(0x9df3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x5ef1);
        EXPECT(gbc.pc(), 0x9df4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9df3), 0xf);
        // 0F 0240
        gbc.setState(0x1c6b, 0xdbdf, 0x78c0, 0x420e, 0x71ce, 0xea5d, 0x1, 0x0);
        gbc.writeMem(0x1c6b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xdbdf);
        EXPECT(gbc.pc(), 0x1c6c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0241
        gbc.setState(0x1a, 0xcf52, 0x7e00, 0xa5bc, 0xa8fc, 0x5c10, 0x1, 0x1);
        gbc.writeMem(0x1a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xcf52);
        EXPECT(gbc.pc(), 0x1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0242
        gbc.setState(0xbfc5, 0xa54, 0xce90, 0x864a, 0x3a60, 0xb72f, 0x1, 0x0);
        gbc.writeMem(0xbfc5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x67);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xa54);
        EXPECT(gbc.pc(), 0xbfc6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfc5), 0xf);
        // 0F 0243
        gbc.setState(0x3b17, 0xcb30, 0x79c0, 0xf18a, 0xd4f2, 0x431f, 0x1, 0x1);
        gbc.writeMem(0x3b17, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xcb30);
        EXPECT(gbc.pc(), 0x3b18);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0244
        gbc.setState(0x46af, 0x40c, 0x4ce0, 0x8fc5, 0x5675, 0x2c24, 0x0, 0x1);
        gbc.writeMem(0x46af, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x40c);
        EXPECT(gbc.pc(), 0x46b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0245
        gbc.setState(0x7ed6, 0xbd35, 0xb4d0, 0x83a9, 0x864c, 0x3cd7, 0x0, 0x0);
        gbc.writeMem(0x7ed6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xbd35);
        EXPECT(gbc.pc(), 0x7ed7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0246
        gbc.setState(0x9881, 0x6839, 0x6d80, 0x5ed3, 0x1529, 0x7af6, 0x0, 0x1);
        gbc.writeMem(0x9881, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x6839);
        EXPECT(gbc.pc(), 0x9882);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9881), 0xf);
        // 0F 0247
        gbc.setState(0x6d79, 0x22d2, 0x76a0, 0x715d, 0x5b36, 0x9bcb, 0x0, 0x1);
        gbc.writeMem(0x6d79, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x22d2);
        EXPECT(gbc.pc(), 0x6d7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0248
        gbc.setState(0xc868, 0x5442, 0xbd20, 0x8951, 0xd6a0, 0x147b, 0x0, 0x1);
        gbc.writeMem(0xc868, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x5442);
        EXPECT(gbc.pc(), 0xc869);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc868), 0xf);
        // 0F 0249
        gbc.setState(0xbc56, 0x9ab8, 0x8ec0, 0x3113, 0xe4a3, 0x706c, 0x0, 0x0);
        gbc.writeMem(0xbc56, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x9ab8);
        EXPECT(gbc.pc(), 0xbc57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc56), 0xf);
        // 0F 024A
        gbc.setState(0x752f, 0xfe0, 0x8340, 0xd4f8, 0xd603, 0x1740, 0x1, 0x1);
        gbc.writeMem(0x752f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0xfe0);
        EXPECT(gbc.pc(), 0x7530);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 024B
        gbc.setState(0xe28b, 0x2538, 0x39b0, 0x7323, 0x52f5, 0xc849, 0x0, 0x0);
        gbc.writeMem(0xe28b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x2538);
        EXPECT(gbc.pc(), 0xe28c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe28b), 0xf);
        // 0F 024C
        gbc.setState(0x804e, 0xbd05, 0x5c30, 0xea80, 0x8369, 0x845f, 0x0, 0x0);
        gbc.writeMem(0x804e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xbd05);
        EXPECT(gbc.pc(), 0x804f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x804e), 0xf);
        // 0F 024D
        gbc.setState(0xe6f7, 0xa992, 0x67e0, 0xa40e, 0x67a4, 0x6b34, 0x0, 0x0);
        gbc.writeMem(0xe6f7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xa992);
        EXPECT(gbc.pc(), 0xe6f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6f7), 0xf);
        // 0F 024E
        gbc.setState(0x73d, 0x4076, 0x6c10, 0x5f74, 0xb2d7, 0xcdfc, 0x1, 0x1);
        gbc.writeMem(0x73d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x36);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x4076);
        EXPECT(gbc.pc(), 0x73e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 024F
        gbc.setState(0x78f7, 0xfb39, 0x5ab0, 0x28db, 0x6577, 0x7c45, 0x0, 0x1);
        gbc.writeMem(0x78f7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xfb39);
        EXPECT(gbc.pc(), 0x78f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0250
        gbc.setState(0x242d, 0xe552, 0xccd0, 0x90e1, 0x6933, 0x5c37, 0x1, 0x0);
        gbc.writeMem(0x242d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xe552);
        EXPECT(gbc.pc(), 0x242e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0251
        gbc.setState(0x1fd6, 0x2b8d, 0xede0, 0x747, 0xb40c, 0xe414, 0x1, 0x0);
        gbc.writeMem(0x1fd6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x2b8d);
        EXPECT(gbc.pc(), 0x1fd7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0252
        gbc.setState(0xdc83, 0x2f1, 0xd090, 0xa652, 0x7159, 0x4cda, 0x1, 0x0);
        gbc.writeMem(0xdc83, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x52);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x2f1);
        EXPECT(gbc.pc(), 0xdc84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc83), 0xf);
        // 0F 0253
        gbc.setState(0x5813, 0x7ac8, 0x45c0, 0x358c, 0x68da, 0x9b43, 0x0, 0x0);
        gbc.writeMem(0x5813, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x9b);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x7ac8);
        EXPECT(gbc.pc(), 0x5814);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0254
        gbc.setState(0xa53f, 0x19ac, 0x6200, 0x16de, 0x5831, 0x6ccb, 0x0, 0x1);
        gbc.writeMem(0xa53f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x19ac);
        EXPECT(gbc.pc(), 0xa540);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa53f), 0xf);
        // 0F 0255
        gbc.setState(0x3fc9, 0x9d75, 0xc560, 0xc114, 0x1b1b, 0x610d, 0x0, 0x0);
        gbc.writeMem(0x3fc9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x9d75);
        EXPECT(gbc.pc(), 0x3fca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0256
        gbc.setState(0x248e, 0x489d, 0x6290, 0xc06a, 0x6ae7, 0x8491, 0x0, 0x1);
        gbc.writeMem(0x248e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x489d);
        EXPECT(gbc.pc(), 0x248f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0257
        gbc.setState(0x50df, 0x2538, 0x79e0, 0x89f2, 0x585e, 0xcbe2, 0x1, 0x0);
        gbc.writeMem(0x50df, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x2538);
        EXPECT(gbc.pc(), 0x50e0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0258
        gbc.setState(0x63f1, 0xe29d, 0xa390, 0x3945, 0x28a0, 0x9f00, 0x1, 0x1);
        gbc.writeMem(0x63f1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0xe29d);
        EXPECT(gbc.pc(), 0x63f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0259
        gbc.setState(0x94fe, 0xb082, 0x4f50, 0x6c7f, 0xd628, 0xc98a, 0x1, 0x0);
        gbc.writeMem(0x94fe, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xb082);
        EXPECT(gbc.pc(), 0x94ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x94fe), 0xf);
        // 0F 025B
        gbc.setState(0xb65b, 0x3a2e, 0xd1e0, 0x516a, 0x9cb4, 0xb6bf, 0x1, 0x0);
        gbc.writeMem(0xb65b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x3a2e);
        EXPECT(gbc.pc(), 0xb65c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb65b), 0xf);
        // 0F 025C
        gbc.setState(0x7544, 0x9bd5, 0x8f40, 0xa398, 0xaec1, 0x1dbe, 0x0, 0x1);
        gbc.writeMem(0x7544, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x9bd5);
        EXPECT(gbc.pc(), 0x7545);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 025D
        gbc.setState(0x9281, 0x3918, 0xbb20, 0x58ae, 0x9b1f, 0x31ea, 0x1, 0x0);
        gbc.writeMem(0x9281, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x3918);
        EXPECT(gbc.pc(), 0x9282);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9281), 0xf);
        // 0F 025E
        gbc.setState(0x9141, 0x56ff, 0x26d0, 0x3228, 0xc072, 0x60a4, 0x0, 0x1);
        gbc.writeMem(0x9141, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x56ff);
        EXPECT(gbc.pc(), 0x9142);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9141), 0xf);
        // 0F 025F
        gbc.setState(0xdde, 0x6884, 0xe8b0, 0xdd41, 0x847c, 0xe8ef, 0x0, 0x0);
        gbc.writeMem(0xdde, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x6884);
        EXPECT(gbc.pc(), 0xddf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0260
        gbc.setState(0x5512, 0x7c00, 0x13f0, 0x9f60, 0xc10c, 0x785d, 0x1, 0x0);
        gbc.writeMem(0x5512, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x7c00);
        EXPECT(gbc.pc(), 0x5513);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0261
        gbc.setState(0x99f1, 0xf01f, 0x8160, 0xa4bb, 0xc4c2, 0xf0df, 0x1, 0x0);
        gbc.writeMem(0x99f1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xf01f);
        EXPECT(gbc.pc(), 0x99f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x99f1), 0xf);
        // 0F 0262
        gbc.setState(0x2338, 0x695d, 0x2c70, 0xab71, 0x8e88, 0x375, 0x0, 0x1);
        gbc.writeMem(0x2338, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x695d);
        EXPECT(gbc.pc(), 0x2339);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0263
        gbc.setState(0x6111, 0x3da8, 0x9880, 0x1c91, 0xe062, 0xa53, 0x1, 0x0);
        gbc.writeMem(0x6111, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x3da8);
        EXPECT(gbc.pc(), 0x6112);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0264
        gbc.setState(0x2dc0, 0xf2f9, 0x39b0, 0xa968, 0x3d49, 0x2441, 0x1, 0x1);
        gbc.writeMem(0x2dc0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xf2f9);
        EXPECT(gbc.pc(), 0x2dc1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0265
        gbc.setState(0x197f, 0x7f48, 0xd9e0, 0xc1a, 0xffbc, 0xce9, 0x1, 0x0);
        gbc.writeMem(0x197f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x7f48);
        EXPECT(gbc.pc(), 0x1980);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0266
        gbc.setState(0x22e5, 0xcd89, 0xfee0, 0xbabd, 0xcc6, 0xdae6, 0x0, 0x1);
        gbc.writeMem(0x22e5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xcd89);
        EXPECT(gbc.pc(), 0x22e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0267
        gbc.setState(0x1095, 0x641b, 0xfb60, 0xff17, 0x5505, 0xf46c, 0x0, 0x1);
        gbc.writeMem(0x1095, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x641b);
        EXPECT(gbc.pc(), 0x1096);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0268
        gbc.setState(0x6dae, 0x8296, 0x9160, 0xafb9, 0xaead, 0xded6, 0x0, 0x0);
        gbc.writeMem(0x6dae, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x8296);
        EXPECT(gbc.pc(), 0x6daf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 026A
        gbc.setState(0x9269, 0xe549, 0x150, 0xbbee, 0x7975, 0xeda0, 0x0, 0x1);
        gbc.writeMem(0x9269, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xe549);
        EXPECT(gbc.pc(), 0x926a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9269), 0xf);
        // 0F 026B
        gbc.setState(0xb3ac, 0xf76f, 0x8d00, 0x5e79, 0xc251, 0xc486, 0x0, 0x0);
        gbc.writeMem(0xb3ac, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0xf76f);
        EXPECT(gbc.pc(), 0xb3ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb3ac), 0xf);
        // 0F 026C
        gbc.setState(0xa379, 0xd684, 0x3c80, 0x1af0, 0xfc63, 0xa8cf, 0x1, 0x1);
        gbc.writeMem(0xa379, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xd684);
        EXPECT(gbc.pc(), 0xa37a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa379), 0xf);
        // 0F 026D
        gbc.setState(0x63b7, 0xf92a, 0xeaf0, 0x7732, 0x9311, 0x2ed1, 0x1, 0x0);
        gbc.writeMem(0x63b7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xf92a);
        EXPECT(gbc.pc(), 0x63b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 026F
        gbc.setState(0x8be2, 0x7c9, 0x5dd0, 0x6263, 0xcf8d, 0x67fa, 0x1, 0x0);
        gbc.writeMem(0x8be2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0x7c9);
        EXPECT(gbc.pc(), 0x8be3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8be2), 0xf);
        // 0F 0270
        gbc.setState(0x8783, 0xfe11, 0xb600, 0xd448, 0xa00f, 0xe24, 0x1, 0x0);
        gbc.writeMem(0x8783, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xfe11);
        EXPECT(gbc.pc(), 0x8784);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8783), 0xf);
        // 0F 0271
        gbc.setState(0x968e, 0x2a89, 0xf380, 0x55c1, 0x6c31, 0x6de1, 0x1, 0x1);
        gbc.writeMem(0x968e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x2a89);
        EXPECT(gbc.pc(), 0x968f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x968e), 0xf);
        // 0F 0272
        gbc.setState(0x8e0d, 0x927b, 0xca80, 0xffd9, 0x740a, 0x7860, 0x0, 0x1);
        gbc.writeMem(0x8e0d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x927b);
        EXPECT(gbc.pc(), 0x8e0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e0d), 0xf);
        // 0F 0273
        gbc.setState(0x3a8a, 0x82a5, 0xe710, 0x8536, 0xed8, 0xc25c, 0x0, 0x1);
        gbc.writeMem(0x3a8a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x82a5);
        EXPECT(gbc.pc(), 0x3a8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0274
        gbc.setState(0xa71e, 0x6cfd, 0x2c90, 0xba0a, 0x6465, 0x96a7, 0x1, 0x1);
        gbc.writeMem(0xa71e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x6cfd);
        EXPECT(gbc.pc(), 0xa71f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa71e), 0xf);
        // 0F 0275
        gbc.setState(0x84b4, 0x471b, 0x6d90, 0xb6fd, 0x6cc, 0xf5db, 0x1, 0x1);
        gbc.writeMem(0x84b4, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb6);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x471b);
        EXPECT(gbc.pc(), 0x84b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x84b4), 0xf);
        // 0F 0276
        gbc.setState(0x17ad, 0x43, 0xd7f0, 0x4c64, 0xbed0, 0x98da, 0x1, 0x0);
        gbc.writeMem(0x17ad, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x43);
        EXPECT(gbc.pc(), 0x17ae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0277
        gbc.setState(0x228d, 0x2905, 0x3d80, 0x3dcc, 0xfee2, 0xc72a, 0x0, 0x0);
        gbc.writeMem(0x228d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x2905);
        EXPECT(gbc.pc(), 0x228e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0278
        gbc.setState(0x8486, 0xe9ba, 0x7ec0, 0xa397, 0x4355, 0xa83b, 0x0, 0x0);
        gbc.writeMem(0x8486, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xe9ba);
        EXPECT(gbc.pc(), 0x8487);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8486), 0xf);
        // 0F 0279
        gbc.setState(0x630c, 0xe7db, 0x2f30, 0xcec9, 0x4842, 0xed75, 0x1, 0x0);
        gbc.writeMem(0x630c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0xe7db);
        EXPECT(gbc.pc(), 0x630d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 027A
        gbc.setState(0xc757, 0x87cd, 0xe370, 0x9e41, 0xad28, 0xe805, 0x0, 0x1);
        gbc.writeMem(0xc757, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf1);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x87cd);
        EXPECT(gbc.pc(), 0xc758);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc757), 0xf);
        // 0F 027B
        gbc.setState(0xbe6f, 0xa49d, 0xa810, 0x5d2c, 0xa5ed, 0xcf42, 0x0, 0x0);
        gbc.writeMem(0xbe6f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xa49d);
        EXPECT(gbc.pc(), 0xbe70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe6f), 0xf);
        // 0F 027D
        gbc.setState(0x640, 0xc414, 0x1cc0, 0xa2cf, 0x5a41, 0x5723, 0x0, 0x0);
        gbc.writeMem(0x640, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xc414);
        EXPECT(gbc.pc(), 0x641);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 027E
        gbc.setState(0x1b0c, 0x5e82, 0x2a00, 0x3c3f, 0xe1b2, 0xcc4c, 0x0, 0x0);
        gbc.writeMem(0x1b0c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x5e82);
        EXPECT(gbc.pc(), 0x1b0d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 027F
        gbc.setState(0x5a63, 0x8795, 0x5ea0, 0x33ce, 0x7b1, 0x5926, 0x1, 0x1);
        gbc.writeMem(0x5a63, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x8795);
        EXPECT(gbc.pc(), 0x5a64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0280
        gbc.setState(0x8e38, 0x9254, 0xaa80, 0x89dc, 0x1e2f, 0x6f17, 0x0, 0x1);
        gbc.writeMem(0x8e38, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x9254);
        EXPECT(gbc.pc(), 0x8e39);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e38), 0xf);
        // 0F 0281
        gbc.setState(0x90e7, 0xc8fe, 0xf2c0, 0x3cee, 0x94cc, 0xfb26, 0x1, 0x1);
        gbc.writeMem(0x90e7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x79);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x94);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xc8fe);
        EXPECT(gbc.pc(), 0x90e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x90e7), 0xf);
        // 0F 0282
        gbc.setState(0x6bf6, 0x4288, 0xd850, 0xeac2, 0x25a, 0x77e9, 0x0, 0x0);
        gbc.writeMem(0x6bf6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x4288);
        EXPECT(gbc.pc(), 0x6bf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0283
        gbc.setState(0xc67f, 0xbf7b, 0xa680, 0x8023, 0x5829, 0x2ef4, 0x0, 0x0);
        gbc.writeMem(0xc67f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xbf7b);
        EXPECT(gbc.pc(), 0xc680);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc67f), 0xf);
        // 0F 0284
        gbc.setState(0xa28e, 0x6933, 0x5710, 0x2f67, 0xb404, 0xd11, 0x0, 0x1);
        gbc.writeMem(0xa28e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x6933);
        EXPECT(gbc.pc(), 0xa28f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa28e), 0xf);
        // 0F 0285
        gbc.setState(0xc11d, 0x2d23, 0x4c0, 0x7a6d, 0xc557, 0xe059, 0x0, 0x0);
        gbc.writeMem(0xc11d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x2d23);
        EXPECT(gbc.pc(), 0xc11e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc11d), 0xf);
        // 0F 0286
        gbc.setState(0xcc83, 0x82dd, 0x23e0, 0x16f7, 0xcb6, 0x6666, 0x0, 0x0);
        gbc.writeMem(0xcc83, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x82dd);
        EXPECT(gbc.pc(), 0xcc84);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcc83), 0xf);
        // 0F 0287
        gbc.setState(0xa20f, 0xfdaf, 0x4080, 0xffd3, 0x89c6, 0xd29, 0x0, 0x1);
        gbc.writeMem(0xa20f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xfdaf);
        EXPECT(gbc.pc(), 0xa210);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa20f), 0xf);
        // 0F 0288
        gbc.setState(0x2760, 0x6fea, 0xbcf0, 0xf8ad, 0xe3f4, 0x9a99, 0x0, 0x0);
        gbc.writeMem(0x2760, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0x6fea);
        EXPECT(gbc.pc(), 0x2761);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0289
        gbc.setState(0xdb7b, 0x6c3e, 0x6430, 0x8964, 0x66fe, 0x43a0, 0x0, 0x0);
        gbc.writeMem(0xdb7b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x6c3e);
        EXPECT(gbc.pc(), 0xdb7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb7b), 0xf);
        // 0F 028A
        gbc.setState(0xba16, 0x5066, 0xfe40, 0x874c, 0x19c6, 0xcff8, 0x0, 0x0);
        gbc.writeMem(0xba16, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x5066);
        EXPECT(gbc.pc(), 0xba17);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba16), 0xf);
        // 0F 028B
        gbc.setState(0xbfe4, 0x5bd6, 0xcdc0, 0x5e83, 0xabf4, 0xc07c, 0x1, 0x0);
        gbc.writeMem(0xbfe4, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x5bd6);
        EXPECT(gbc.pc(), 0xbfe5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbfe4), 0xf);
        // 0F 028C
        gbc.setState(0x2d4a, 0x4b3, 0xfd30, 0xaeb0, 0x7c4e, 0xf081, 0x0, 0x1);
        gbc.writeMem(0x2d4a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x4b3);
        EXPECT(gbc.pc(), 0x2d4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 028D
        gbc.setState(0x22e5, 0x3b13, 0x7500, 0xd535, 0x988e, 0x60f0, 0x1, 0x0);
        gbc.writeMem(0x22e5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x3b13);
        EXPECT(gbc.pc(), 0x22e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 028F
        gbc.setState(0x8380, 0x6c41, 0xa2a0, 0xc956, 0x88c0, 0x14e0, 0x0, 0x0);
        gbc.writeMem(0x8380, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x6c41);
        EXPECT(gbc.pc(), 0x8381);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8380), 0xf);
        // 0F 0290
        gbc.setState(0x6cdb, 0xc08f, 0xc820, 0x9167, 0xe0e, 0x313c, 0x0, 0x1);
        gbc.writeMem(0x6cdb, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xc08f);
        EXPECT(gbc.pc(), 0x6cdc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0291
        gbc.setState(0xea46, 0xf78f, 0xc020, 0x45ef, 0x1d60, 0x3115, 0x1, 0x1);
        gbc.writeMem(0xea46, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xf78f);
        EXPECT(gbc.pc(), 0xea47);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea46), 0xf);
        // 0F 0292
        gbc.setState(0xd9ea, 0x584d, 0xbdd0, 0xdc95, 0xc4c3, 0xdf42, 0x1, 0x0);
        gbc.writeMem(0xd9ea, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x584d);
        EXPECT(gbc.pc(), 0xd9eb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9ea), 0xf);
        // 0F 0293
        gbc.setState(0xe1d5, 0xa100, 0xafb0, 0x1b50, 0xe31, 0xd282, 0x0, 0x0);
        gbc.writeMem(0xe1d5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xa100);
        EXPECT(gbc.pc(), 0xe1d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe1d5), 0xf);
        // 0F 0294
        gbc.setState(0x4782, 0xa7b, 0x3b80, 0xcd1e, 0x190d, 0xb0c8, 0x1, 0x0);
        gbc.writeMem(0x4782, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xa7b);
        EXPECT(gbc.pc(), 0x4783);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0295
        gbc.setState(0xde10, 0x36d2, 0xaf10, 0x86cd, 0xd90c, 0xa8d0, 0x0, 0x0);
        gbc.writeMem(0xde10, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x36d2);
        EXPECT(gbc.pc(), 0xde11);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xde10), 0xf);
        // 0F 0296
        gbc.setState(0x4e23, 0x6031, 0x3f80, 0xfb3d, 0xc8c5, 0xa049, 0x1, 0x0);
        gbc.writeMem(0x4e23, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x6031);
        EXPECT(gbc.pc(), 0x4e24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0297
        gbc.setState(0x5665, 0x6b46, 0x65d0, 0xd44c, 0x6654, 0x8a2f, 0x0, 0x0);
        gbc.writeMem(0x5665, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x6b46);
        EXPECT(gbc.pc(), 0x5666);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0298
        gbc.setState(0xaeee, 0x45f9, 0x2c90, 0x5716, 0xe487, 0xea52, 0x0, 0x1);
        gbc.writeMem(0xaeee, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0x45f9);
        EXPECT(gbc.pc(), 0xaeef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaeee), 0xf);
        // 0F 0299
        gbc.setState(0x924b, 0xfbba, 0xf8b0, 0x41b2, 0x1edd, 0x25ff, 0x1, 0x1);
        gbc.writeMem(0x924b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7c);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xfbba);
        EXPECT(gbc.pc(), 0x924c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x924b), 0xf);
        // 0F 029A
        gbc.setState(0xd618, 0xdd4e, 0x1c70, 0x91a3, 0x2e03, 0xbaa4, 0x0, 0x0);
        gbc.writeMem(0xd618, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xdd4e);
        EXPECT(gbc.pc(), 0xd619);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd618), 0xf);
        // 0F 029B
        gbc.setState(0x9d9e, 0xdf1b, 0x5100, 0x827d, 0xceef, 0x2d17, 0x1, 0x0);
        gbc.writeMem(0x9d9e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xdf1b);
        EXPECT(gbc.pc(), 0x9d9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d9e), 0xf);
        // 0F 029C
        gbc.setState(0xa4bf, 0xf334, 0xc4f0, 0x9c45, 0xd532, 0x58bd, 0x1, 0x1);
        gbc.writeMem(0xa4bf, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xf334);
        EXPECT(gbc.pc(), 0xa4c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4bf), 0xf);
        // 0F 029D
        gbc.setState(0x2b94, 0x47bd, 0x22f0, 0x4526, 0x1093, 0x1168, 0x0, 0x1);
        gbc.writeMem(0x2b94, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x47bd);
        EXPECT(gbc.pc(), 0x2b95);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 029E
        gbc.setState(0xe80f, 0x2343, 0xe850, 0x21e0, 0x6791, 0xc52f, 0x0, 0x1);
        gbc.writeMem(0xe80f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x2343);
        EXPECT(gbc.pc(), 0xe810);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe80f), 0xf);
        // 0F 029F
        gbc.setState(0x87d5, 0x3d80, 0xe720, 0xe201, 0x5ea8, 0x878c, 0x1, 0x0);
        gbc.writeMem(0x87d5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf3);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x3d80);
        EXPECT(gbc.pc(), 0x87d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x87d5), 0xf);
        // 0F 02A0
        gbc.setState(0x5fa1, 0x6b90, 0x7e70, 0xb7cb, 0xe801, 0x7744, 0x0, 0x0);
        gbc.writeMem(0x5fa1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x6b90);
        EXPECT(gbc.pc(), 0x5fa2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02A1
        gbc.setState(0xeda2, 0x6dc1, 0xd850, 0x58e9, 0x2273, 0x1720, 0x0, 0x0);
        gbc.writeMem(0xeda2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x6dc1);
        EXPECT(gbc.pc(), 0xeda3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeda2), 0xf);
        // 0F 02A2
        gbc.setState(0x611f, 0x57c9, 0x6650, 0x5686, 0x540d, 0xed30, 0x1, 0x1);
        gbc.writeMem(0x611f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x57c9);
        EXPECT(gbc.pc(), 0x6120);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02A3
        gbc.setState(0xc079, 0xf0a1, 0xfef0, 0xcae2, 0x5e4c, 0x91b6, 0x0, 0x0);
        gbc.writeMem(0xc079, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7f);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xf0a1);
        EXPECT(gbc.pc(), 0xc07a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc079), 0xf);
        // 0F 02A4
        gbc.setState(0x78e6, 0x770f, 0xcf00, 0xd7b5, 0x78d2, 0x7197, 0x0, 0x1);
        gbc.writeMem(0x78e6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe7);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x770f);
        EXPECT(gbc.pc(), 0x78e7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02A5
        gbc.setState(0xc6e7, 0x431f, 0x110, 0x6f0e, 0x3ebb, 0x1481, 0x0, 0x1);
        gbc.writeMem(0xc6e7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x431f);
        EXPECT(gbc.pc(), 0xc6e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc6e7), 0xf);
        // 0F 02A6
        gbc.setState(0x4fe3, 0x47f, 0xf450, 0x88d4, 0xc4d8, 0xed4b, 0x0, 0x0);
        gbc.writeMem(0x4fe3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x47f);
        EXPECT(gbc.pc(), 0x4fe4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02A7
        gbc.setState(0x33b7, 0x5de3, 0xc440, 0x9aa0, 0x3fe6, 0xf8d6, 0x1, 0x1);
        gbc.writeMem(0x33b7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xd6);
        EXPECT(gbc.sp(), 0x5de3);
        EXPECT(gbc.pc(), 0x33b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02A8
        gbc.setState(0xd11c, 0x8621, 0x7290, 0x2a1d, 0x88f6, 0xc3e3, 0x1, 0x0);
        gbc.writeMem(0xd11c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x8621);
        EXPECT(gbc.pc(), 0xd11d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd11c), 0xf);
        // 0F 02AA
        gbc.setState(0x2092, 0xfe18, 0x9930, 0xf0f8, 0x2b40, 0x91a, 0x0, 0x1);
        gbc.writeMem(0x2092, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0xfe18);
        EXPECT(gbc.pc(), 0x2093);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02AB
        gbc.setState(0x1244, 0x4c0e, 0x66e0, 0x5da9, 0xcc7, 0xf337, 0x0, 0x0);
        gbc.writeMem(0x1244, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x33);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x4c0e);
        EXPECT(gbc.pc(), 0x1245);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02AC
        gbc.setState(0x4ee5, 0x6d68, 0xbe30, 0xa5e0, 0xf9b2, 0x75bf, 0x1, 0x1);
        gbc.writeMem(0x4ee5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x6d68);
        EXPECT(gbc.pc(), 0x4ee6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02AD
        gbc.setState(0x9c2e, 0x6199, 0x77d0, 0xf4f6, 0x7c73, 0x461f, 0x0, 0x0);
        gbc.writeMem(0x9c2e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x6199);
        EXPECT(gbc.pc(), 0x9c2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c2e), 0xf);
        // 0F 02AE
        gbc.setState(0xd216, 0x4104, 0xe870, 0xe97d, 0x1c48, 0xb54d, 0x1, 0x0);
        gbc.writeMem(0xd216, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x4104);
        EXPECT(gbc.pc(), 0xd217);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd216), 0xf);
        // 0F 02AF
        gbc.setState(0x807a, 0xa36b, 0xcd90, 0x18e1, 0x5a10, 0x94df, 0x1, 0x1);
        gbc.writeMem(0x807a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xa36b);
        EXPECT(gbc.pc(), 0x807b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x807a), 0xf);
        // 0F 02B0
        gbc.setState(0xb7a2, 0x1603, 0x90a0, 0x2a59, 0x7ec2, 0x1fb, 0x1, 0x0);
        gbc.writeMem(0xb7a2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x7e);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x1603);
        EXPECT(gbc.pc(), 0xb7a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7a2), 0xf);
        // 0F 02B1
        gbc.setState(0x9aba, 0xea9b, 0xef50, 0xb8a9, 0x5403, 0xbced, 0x1, 0x0);
        gbc.writeMem(0x9aba, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf7);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xea9b);
        EXPECT(gbc.pc(), 0x9abb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9aba), 0xf);
        // 0F 02B2
        gbc.setState(0xd100, 0xf035, 0x2670, 0x2a0, 0xcf03, 0x6cdc, 0x1, 0x0);
        gbc.writeMem(0xd100, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xf035);
        EXPECT(gbc.pc(), 0xd101);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd100), 0xf);
        // 0F 02B3
        gbc.setState(0x4b2, 0x93cf, 0x3c0, 0x89de, 0x2820, 0x4f0c, 0x1, 0x1);
        gbc.writeMem(0x4b2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x93cf);
        EXPECT(gbc.pc(), 0x4b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02B4
        gbc.setState(0x83ac, 0x4c5d, 0xc640, 0x4d2a, 0xc6b0, 0x2ac0, 0x0, 0x1);
        gbc.writeMem(0x83ac, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4c5d);
        EXPECT(gbc.pc(), 0x83ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83ac), 0xf);
        // 0F 02B5
        gbc.setState(0x5dd7, 0x598a, 0xbe00, 0xec74, 0xcd10, 0xb59, 0x1, 0x0);
        gbc.writeMem(0x5dd7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5f);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x598a);
        EXPECT(gbc.pc(), 0x5dd8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02B6
        gbc.setState(0x9c38, 0xc931, 0x3fb0, 0xedba, 0x1f50, 0x83d, 0x1, 0x0);
        gbc.writeMem(0x9c38, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xc931);
        EXPECT(gbc.pc(), 0x9c39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9c38), 0xf);
        // 0F 02B7
        gbc.setState(0x6458, 0x6157, 0x9780, 0x2d82, 0xe25a, 0xf75b, 0x0, 0x0);
        gbc.writeMem(0x6458, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x6157);
        EXPECT(gbc.pc(), 0x6459);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02B8
        gbc.setState(0x4a1, 0xfeb4, 0x9f20, 0x3205, 0x2ed3, 0x6cac, 0x0, 0x1);
        gbc.writeMem(0x4a1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xfeb4);
        EXPECT(gbc.pc(), 0x4a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02B9
        gbc.setState(0x1437, 0xa41d, 0xd8f0, 0xce34, 0x780c, 0x5bfd, 0x1, 0x1);
        gbc.writeMem(0x1437, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0xa41d);
        EXPECT(gbc.pc(), 0x1438);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02BA
        gbc.setState(0x7d96, 0x663e, 0xe250, 0xc02f, 0x513c, 0x58ef, 0x0, 0x0);
        gbc.writeMem(0x7d96, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x663e);
        EXPECT(gbc.pc(), 0x7d97);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02BB
        gbc.setState(0xfec, 0xaca4, 0xc1d0, 0x74b7, 0x4596, 0x2110, 0x0, 0x0);
        gbc.writeMem(0xfec, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xaca4);
        EXPECT(gbc.pc(), 0xfed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02BC
        gbc.setState(0x647f, 0xb524, 0xfb70, 0x9f29, 0x263d, 0x5fdf, 0x0, 0x1);
        gbc.writeMem(0x647f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfd);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xb524);
        EXPECT(gbc.pc(), 0x6480);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02BD
        gbc.setState(0x3059, 0xe6b7, 0xb220, 0x74f4, 0xbbaf, 0x1721, 0x1, 0x1);
        gbc.writeMem(0x3059, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xe6b7);
        EXPECT(gbc.pc(), 0x305a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02BE
        gbc.setState(0xbad5, 0xec74, 0xe050, 0x298, 0xeaad, 0xaf18, 0x1, 0x1);
        gbc.writeMem(0xbad5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xec74);
        EXPECT(gbc.pc(), 0xbad6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbad5), 0xf);
        // 0F 02BF
        gbc.setState(0x61fc, 0x104e, 0x3070, 0x549e, 0x11b0, 0x1759, 0x1, 0x0);
        gbc.writeMem(0x61fc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x104e);
        EXPECT(gbc.pc(), 0x61fd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02C0
        gbc.setState(0xed9c, 0xcfeb, 0xe460, 0xe393, 0x5d85, 0xf69f, 0x1, 0x0);
        gbc.writeMem(0xed9c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xcfeb);
        EXPECT(gbc.pc(), 0xed9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed9c), 0xf);
        // 0F 02C1
        gbc.setState(0x36bc, 0xeaef, 0x3fa0, 0xcde3, 0x1f27, 0x42bf, 0x0, 0x1);
        gbc.writeMem(0x36bc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9f);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0xeaef);
        EXPECT(gbc.pc(), 0x36bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02C2
        gbc.setState(0x69fd, 0x210d, 0x7ba0, 0xf0a6, 0x3f85, 0x7b7b, 0x0, 0x0);
        gbc.writeMem(0x69fd, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x210d);
        EXPECT(gbc.pc(), 0x69fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02C3
        gbc.setState(0x7510, 0x418d, 0x60f0, 0xb571, 0x71d1, 0xa25a, 0x0, 0x1);
        gbc.writeMem(0x7510, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x418d);
        EXPECT(gbc.pc(), 0x7511);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02C4
        gbc.setState(0x5004, 0x79cd, 0xfd70, 0x212, 0x9a8e, 0xee5e, 0x0, 0x1);
        gbc.writeMem(0x5004, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x79cd);
        EXPECT(gbc.pc(), 0x5005);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02C5
        gbc.setState(0x7f41, 0x90f3, 0x7280, 0xded3, 0xb7d3, 0xafc3, 0x0, 0x1);
        gbc.writeMem(0x7f41, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0x90f3);
        EXPECT(gbc.pc(), 0x7f42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02C6
        gbc.setState(0xba8e, 0x835d, 0xe870, 0x8a07, 0x1270, 0xdbb, 0x0, 0x0);
        gbc.writeMem(0xba8e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x835d);
        EXPECT(gbc.pc(), 0xba8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba8e), 0xf);
        // 0F 02C7
        gbc.setState(0xd29a, 0xa37c, 0x3b40, 0xfcda, 0xebf9, 0xf76c, 0x1, 0x0);
        gbc.writeMem(0xd29a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9d);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xa37c);
        EXPECT(gbc.pc(), 0xd29b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd29a), 0xf);
        // 0F 02C8
        gbc.setState(0x76f1, 0xba0c, 0xaf70, 0x6422, 0xf588, 0xe5f9, 0x0, 0x0);
        gbc.writeMem(0x76f1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xe5);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xba0c);
        EXPECT(gbc.pc(), 0x76f2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02C9
        gbc.setState(0x853, 0x8fad, 0x9db0, 0xe2e, 0x72c6, 0xb217, 0x0, 0x0);
        gbc.writeMem(0x853, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x8fad);
        EXPECT(gbc.pc(), 0x854);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02CA
        gbc.setState(0x87a3, 0xc796, 0xb8c0, 0x8043, 0xf411, 0x83ff, 0x0, 0x1);
        gbc.writeMem(0x87a3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0xc796);
        EXPECT(gbc.pc(), 0x87a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87a3), 0xf);
        // 0F 02CB
        gbc.setState(0x2127, 0x1a0f, 0x69f0, 0x1998, 0x860a, 0xffe9, 0x1, 0x1);
        gbc.writeMem(0x2127, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x1a0f);
        EXPECT(gbc.pc(), 0x2128);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02CC
        gbc.setState(0xb814, 0x7b97, 0x5710, 0x5eb1, 0xee82, 0xef6e, 0x0, 0x0);
        gbc.writeMem(0xb814, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xab);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x7b97);
        EXPECT(gbc.pc(), 0xb815);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb814), 0xf);
        // 0F 02CD
        gbc.setState(0x6d88, 0xf78f, 0x3180, 0x7dc1, 0x3e50, 0x99, 0x1, 0x1);
        gbc.writeMem(0x6d88, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xf78f);
        EXPECT(gbc.pc(), 0x6d89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02CE
        gbc.setState(0x5a65, 0x56d6, 0x4010, 0x6368, 0xbce1, 0x7c73, 0x0, 0x0);
        gbc.writeMem(0x5a65, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x73);
        EXPECT(gbc.sp(), 0x56d6);
        EXPECT(gbc.pc(), 0x5a66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02CF
        gbc.setState(0x210b, 0xfdba, 0x8fc0, 0x5836, 0xad6e, 0xbd2e, 0x1, 0x1);
        gbc.writeMem(0x210b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0xfdba);
        EXPECT(gbc.pc(), 0x210c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02D0
        gbc.setState(0x2161, 0xc3a2, 0xdc60, 0xee82, 0x70f7, 0xc27f, 0x0, 0x0);
        gbc.writeMem(0x2161, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6e);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0xc3a2);
        EXPECT(gbc.pc(), 0x2162);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02D1
        gbc.setState(0xb4ca, 0xdcdf, 0x7c0, 0xb5dc, 0xbee0, 0x41e5, 0x1, 0x1);
        gbc.writeMem(0xb4ca, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xdcdf);
        EXPECT(gbc.pc(), 0xb4cb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb4ca), 0xf);
        // 0F 02D2
        gbc.setState(0x7701, 0x2819, 0x1730, 0xe583, 0x4fab, 0xc6d1, 0x0, 0x0);
        gbc.writeMem(0x7701, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8b);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x2819);
        EXPECT(gbc.pc(), 0x7702);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02D3
        gbc.setState(0xa01, 0x4258, 0x9350, 0xd2b4, 0x4182, 0xb797, 0x1, 0x1);
        gbc.writeMem(0xa01, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x4258);
        EXPECT(gbc.pc(), 0xa02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02D4
        gbc.setState(0x6aaa, 0x211e, 0x1670, 0xdd02, 0xfda5, 0x331e, 0x0, 0x1);
        gbc.writeMem(0x6aaa, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x211e);
        EXPECT(gbc.pc(), 0x6aab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02D5
        gbc.setState(0x93d6, 0x6782, 0x5270, 0x1dee, 0x357f, 0x577f, 0x1, 0x1);
        gbc.writeMem(0x93d6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x6782);
        EXPECT(gbc.pc(), 0x93d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x93d6), 0xf);
        // 0F 02D6
        gbc.setState(0x50c1, 0x2a31, 0x4780, 0x640a, 0xffbb, 0x980e, 0x0, 0x1);
        gbc.writeMem(0x50c1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x2a31);
        EXPECT(gbc.pc(), 0x50c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02D7
        gbc.setState(0x3560, 0x46fd, 0x4980, 0x9a1f, 0x974c, 0xf1b0, 0x0, 0x0);
        gbc.writeMem(0x3560, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x46fd);
        EXPECT(gbc.pc(), 0x3561);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02D8
        gbc.setState(0xac77, 0x20d2, 0xb3b0, 0x4ea2, 0xe419, 0x43a2, 0x0, 0x0);
        gbc.writeMem(0xac77, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x20d2);
        EXPECT(gbc.pc(), 0xac78);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xac77), 0xf);
        // 0F 02D9
        gbc.setState(0x36a3, 0xc660, 0xc510, 0x67ae, 0xbcd7, 0x74cc, 0x0, 0x0);
        gbc.writeMem(0x36a3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0xc660);
        EXPECT(gbc.pc(), 0x36a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02DA
        gbc.setState(0xcb09, 0x694b, 0xe580, 0x4fbd, 0x6d6b, 0x770f, 0x1, 0x1);
        gbc.writeMem(0xcb09, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x694b);
        EXPECT(gbc.pc(), 0xcb0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xcb09), 0xf);
        // 0F 02DB
        gbc.setState(0x3e51, 0xf1f4, 0xe580, 0x7ad0, 0xb3a6, 0xcaee, 0x1, 0x0);
        gbc.writeMem(0x3e51, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xf1f4);
        EXPECT(gbc.pc(), 0x3e52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02DC
        gbc.setState(0xe230, 0xb516, 0xa5f0, 0x1671, 0x2e58, 0x1459, 0x1, 0x1);
        gbc.writeMem(0xe230, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xb516);
        EXPECT(gbc.pc(), 0xe231);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe230), 0xf);
        // 0F 02DD
        gbc.setState(0x6a21, 0x44d2, 0xb9f0, 0x6aa6, 0xabb2, 0x201e, 0x0, 0x0);
        gbc.writeMem(0x6a21, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdc);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x44d2);
        EXPECT(gbc.pc(), 0x6a22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02DE
        gbc.setState(0xab3d, 0x3602, 0x690, 0x1a7f, 0xc888, 0xe8c0, 0x1, 0x1);
        gbc.writeMem(0xab3d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x3602);
        EXPECT(gbc.pc(), 0xab3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab3d), 0xf);
        // 0F 02DF
        gbc.setState(0x6006, 0xbba0, 0xc2a0, 0x18ac, 0x60df, 0xb310, 0x0, 0x1);
        gbc.writeMem(0x6006, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0xbba0);
        EXPECT(gbc.pc(), 0x6007);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02E0
        gbc.setState(0x8c42, 0xad1c, 0xcb80, 0x5c3e, 0x692b, 0xd09b, 0x0, 0x1);
        gbc.writeMem(0x8c42, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xad1c);
        EXPECT(gbc.pc(), 0x8c43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8c42), 0xf);
        // 0F 02E1
        gbc.setState(0x9e5, 0x1b4, 0xf7c0, 0xaf18, 0xa314, 0x921d, 0x1, 0x0);
        gbc.writeMem(0x9e5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfb);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0x1b4);
        EXPECT(gbc.pc(), 0x9e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02E2
        gbc.setState(0x84e, 0xd0d6, 0x8c40, 0xa25a, 0xef0a, 0x6c9d, 0x1, 0x1);
        gbc.writeMem(0x84e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0xd0d6);
        EXPECT(gbc.pc(), 0x84f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02E3
        gbc.setState(0x1e8, 0x2567, 0x4970, 0x947e, 0xf3f3, 0x89ae, 0x0, 0x0);
        gbc.writeMem(0x1e8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x2567);
        EXPECT(gbc.pc(), 0x1e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02E4
        gbc.setState(0x7994, 0x73da, 0x46c0, 0x5248, 0xa9eb, 0x945e, 0x0, 0x0);
        gbc.writeMem(0x7994, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x23);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x73da);
        EXPECT(gbc.pc(), 0x7995);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02E5
        gbc.setState(0x3cf3, 0x416, 0xac20, 0xd1d4, 0xf060, 0x465a, 0x1, 0x0);
        gbc.writeMem(0x3cf3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x416);
        EXPECT(gbc.pc(), 0x3cf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02E6
        gbc.setState(0xb02b, 0xa228, 0x9120, 0x6f2b, 0x606e, 0xe428, 0x0, 0x1);
        gbc.writeMem(0xb02b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xa228);
        EXPECT(gbc.pc(), 0xb02c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb02b), 0xf);
        // 0F 02E7
        gbc.setState(0xa150, 0x8d1d, 0xaab0, 0xfb0e, 0xb22b, 0xfe35, 0x0, 0x1);
        gbc.writeMem(0xa150, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x8d1d);
        EXPECT(gbc.pc(), 0xa151);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa150), 0xf);
        // 0F 02E8
        gbc.setState(0xb6ee, 0xe63b, 0xaa10, 0x7276, 0x62ff, 0x26be, 0x0, 0x0);
        gbc.writeMem(0xb6ee, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xe63b);
        EXPECT(gbc.pc(), 0xb6ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb6ee), 0xf);
        // 0F 02EA
        gbc.setState(0xabf6, 0x8a47, 0x3170, 0x832e, 0x2ee8, 0xd817, 0x1, 0x1);
        gbc.writeMem(0xabf6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x8a47);
        EXPECT(gbc.pc(), 0xabf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xabf6), 0xf);
        // 0F 02EB
        gbc.setState(0x216c, 0x44dd, 0xf6c0, 0xfa81, 0xd19, 0xfd3d, 0x1, 0x1);
        gbc.writeMem(0x216c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0x44dd);
        EXPECT(gbc.pc(), 0x216d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02EC
        gbc.setState(0x7da, 0x272d, 0xe20, 0xc8a5, 0x15a2, 0x4f7f, 0x1, 0x1);
        gbc.writeMem(0x7da, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x272d);
        EXPECT(gbc.pc(), 0x7db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02ED
        gbc.setState(0x783b, 0xe88c, 0x4870, 0xc095, 0x6eac, 0x5e7, 0x0, 0x1);
        gbc.writeMem(0x783b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xe88c);
        EXPECT(gbc.pc(), 0x783c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02EE
        gbc.setState(0xa6fc, 0x61d6, 0x25a0, 0xee63, 0x767c, 0x44c, 0x0, 0x1);
        gbc.writeMem(0xa6fc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x61d6);
        EXPECT(gbc.pc(), 0xa6fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa6fc), 0xf);
        // 0F 02EF
        gbc.setState(0x7db9, 0x38e1, 0xc7a0, 0x1871, 0xe4e4, 0xb7c5, 0x0, 0x0);
        gbc.writeMem(0x7db9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x38e1);
        EXPECT(gbc.pc(), 0x7dba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02F0
        gbc.setState(0x5398, 0xf704, 0x4e30, 0x1e94, 0x5ddd, 0xa38d, 0x1, 0x1);
        gbc.writeMem(0x5398, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0xf704);
        EXPECT(gbc.pc(), 0x5399);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02F1
        gbc.setState(0xa59b, 0x91c8, 0xd4f0, 0x451, 0xc388, 0xd243, 0x0, 0x1);
        gbc.writeMem(0xa59b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x91c8);
        EXPECT(gbc.pc(), 0xa59c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa59b), 0xf);
        // 0F 02F2
        gbc.setState(0x3ca5, 0xe2b8, 0x5360, 0x7eed, 0x23e3, 0x5296, 0x1, 0x1);
        gbc.writeMem(0x3ca5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa9);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xe2b8);
        EXPECT(gbc.pc(), 0x3ca6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02F3
        gbc.setState(0x3ffd, 0x7ec2, 0x3ea0, 0xc4dd, 0x44e5, 0x4ad9, 0x0, 0x1);
        gbc.writeMem(0x3ffd, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x7ec2);
        EXPECT(gbc.pc(), 0x3ffe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02F4
        gbc.setState(0xd450, 0x5a5e, 0xe910, 0xb6f8, 0xd51d, 0x4a5, 0x0, 0x1);
        gbc.writeMem(0xd450, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x5a5e);
        EXPECT(gbc.pc(), 0xd451);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd450), 0xf);
        // 0F 02F5
        gbc.setState(0x34d, 0x32d5, 0xb720, 0x3c1d, 0xe7d6, 0xf9e0, 0x1, 0x1);
        gbc.writeMem(0x34d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x32d5);
        EXPECT(gbc.pc(), 0x34e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02F6
        gbc.setState(0xb053, 0xa61, 0xbbf0, 0xa3b4, 0xa4f6, 0x5f97, 0x0, 0x0);
        gbc.writeMem(0xb053, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdd);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa61);
        EXPECT(gbc.pc(), 0xb054);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb053), 0xf);
        // 0F 02F7
        gbc.setState(0x9d1f, 0x5027, 0x2fd0, 0xabbf, 0x4036, 0x5058, 0x1, 0x0);
        gbc.writeMem(0x9d1f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x97);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x5027);
        EXPECT(gbc.pc(), 0x9d20);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d1f), 0xf);
        // 0F 02F8
        gbc.setState(0x277, 0xd519, 0x63d0, 0x45b3, 0xd6cc, 0x10d0, 0x1, 0x0);
        gbc.writeMem(0x277, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xd519);
        EXPECT(gbc.pc(), 0x278);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02F9
        gbc.setState(0x7c5b, 0x5e60, 0xe260, 0xdf53, 0xb951, 0x4b68, 0x1, 0x0);
        gbc.writeMem(0x7c5b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x5e60);
        EXPECT(gbc.pc(), 0x7c5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 02FA
        gbc.setState(0x3435, 0xe8f4, 0xe590, 0x635c, 0x34c8, 0x336a, 0x1, 0x0);
        gbc.writeMem(0x3435, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf2);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xe8f4);
        EXPECT(gbc.pc(), 0x3436);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02FB
        gbc.setState(0x2296, 0xbf47, 0xeb10, 0xab09, 0xd723, 0x9127, 0x0, 0x1);
        gbc.writeMem(0x2296, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xbf47);
        EXPECT(gbc.pc(), 0x2297);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 02FD
        gbc.setState(0xec53, 0x364f, 0xf630, 0xb3f0, 0xf1b4, 0xae1a, 0x0, 0x0);
        gbc.writeMem(0xec53, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7b);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x364f);
        EXPECT(gbc.pc(), 0xec54);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec53), 0xf);
        // 0F 02FE
        gbc.setState(0x8dbf, 0x4c16, 0x990, 0x4788, 0xbdd9, 0xaf84, 0x0, 0x1);
        gbc.writeMem(0x8dbf, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x4c16);
        EXPECT(gbc.pc(), 0x8dc0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8dbf), 0xf);
        // 0F 02FF
        gbc.setState(0xe160, 0xf038, 0xe290, 0xf216, 0x2f2, 0x6ac0, 0x0, 0x1);
        gbc.writeMem(0xe160, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xf038);
        EXPECT(gbc.pc(), 0xe161);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe160), 0xf);
        // 0F 0300
        gbc.setState(0x3b5b, 0xb86c, 0xafd0, 0x8e62, 0x1821, 0xfb95, 0x0, 0x1);
        gbc.writeMem(0x3b5b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xb86c);
        EXPECT(gbc.pc(), 0x3b5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0301
        gbc.setState(0x7c3d, 0xecef, 0x5dc0, 0x726f, 0x87c2, 0xfb74, 0x0, 0x0);
        gbc.writeMem(0x7c3d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xecef);
        EXPECT(gbc.pc(), 0x7c3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0302
        gbc.setState(0x3289, 0xa09e, 0x500, 0xfd47, 0x4114, 0xdb97, 0x0, 0x1);
        gbc.writeMem(0x3289, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xa09e);
        EXPECT(gbc.pc(), 0x328a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0304
        gbc.setState(0x5575, 0xcba, 0x8420, 0xc772, 0x9b03, 0x950b, 0x1, 0x1);
        gbc.writeMem(0x5575, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xcba);
        EXPECT(gbc.pc(), 0x5576);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0305
        gbc.setState(0x3fb3, 0xf227, 0x5eb0, 0xb402, 0x148, 0xd316, 0x1, 0x1);
        gbc.writeMem(0x3fb3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xf227);
        EXPECT(gbc.pc(), 0x3fb4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0306
        gbc.setState(0xb1c4, 0x54bd, 0x5690, 0x9cf8, 0x8b54, 0x5ccd, 0x0, 0x0);
        gbc.writeMem(0xb1c4, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x54bd);
        EXPECT(gbc.pc(), 0xb1c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb1c4), 0xf);
        // 0F 0308
        gbc.setState(0x3bf3, 0xfa39, 0xda90, 0x4b64, 0xd3c, 0xee3f, 0x1, 0x0);
        gbc.writeMem(0x3bf3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0xfa39);
        EXPECT(gbc.pc(), 0x3bf4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0309
        gbc.setState(0x5e8e, 0x6584, 0x4910, 0xfcf3, 0x262f, 0x930d, 0x0, 0x0);
        gbc.writeMem(0x5e8e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x6584);
        EXPECT(gbc.pc(), 0x5e8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 030B
        gbc.setState(0x2b4c, 0x42da, 0x15b0, 0x3805, 0xf73a, 0x9798, 0x1, 0x0);
        gbc.writeMem(0x2b4c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x42da);
        EXPECT(gbc.pc(), 0x2b4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 030C
        gbc.setState(0x72fc, 0x135c, 0x1590, 0x3864, 0xed58, 0x6216, 0x0, 0x0);
        gbc.writeMem(0x72fc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x135c);
        EXPECT(gbc.pc(), 0x72fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 030D
        gbc.setState(0x3f44, 0xd8e8, 0xfda0, 0x6630, 0x7128, 0xeeba, 0x0, 0x1);
        gbc.writeMem(0x3f44, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfe);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xd8e8);
        EXPECT(gbc.pc(), 0x3f45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 030E
        gbc.setState(0x3632, 0x73e7, 0x3850, 0x3268, 0x9588, 0x176e, 0x1, 0x1);
        gbc.writeMem(0x3632, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0x73e7);
        EXPECT(gbc.pc(), 0x3633);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 030F
        gbc.setState(0xe1f7, 0x80be, 0x8f0, 0x9d9b, 0xe6a2, 0x4eb0, 0x0, 0x0);
        gbc.writeMem(0xe1f7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x80be);
        EXPECT(gbc.pc(), 0xe1f8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1f7), 0xf);
        // 0F 0310
        gbc.setState(0x3fe, 0x17de, 0x92e0, 0xa4b8, 0x2b9d, 0x770b, 0x1, 0x1);
        gbc.writeMem(0x3fe, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x17de);
        EXPECT(gbc.pc(), 0x3ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0311
        gbc.setState(0x7c0d, 0x54ee, 0x4e00, 0x5d28, 0xa9ce, 0x38b4, 0x0, 0x0);
        gbc.writeMem(0x7c0d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x54ee);
        EXPECT(gbc.pc(), 0x7c0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0312
        gbc.setState(0xba2d, 0x69be, 0xadd0, 0x275f, 0x11e6, 0xbf, 0x0, 0x1);
        gbc.writeMem(0xba2d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x69be);
        EXPECT(gbc.pc(), 0xba2e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xba2d), 0xf);
        // 0F 0313
        gbc.setState(0x27b8, 0xc67b, 0xc720, 0x37dd, 0x971, 0xea97, 0x0, 0x0);
        gbc.writeMem(0x27b8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xc67b);
        EXPECT(gbc.pc(), 0x27b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0314
        gbc.setState(0xaa42, 0x29a2, 0x45f0, 0xba57, 0xe5cc, 0x1eea, 0x0, 0x0);
        gbc.writeMem(0xaa42, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x29a2);
        EXPECT(gbc.pc(), 0xaa43);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa42), 0xf);
        // 0F 0315
        gbc.setState(0x6b8, 0xe03a, 0x7170, 0x291c, 0x7074, 0x8763, 0x1, 0x1);
        gbc.writeMem(0x6b8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xe03a);
        EXPECT(gbc.pc(), 0x6b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0316
        gbc.setState(0x9d24, 0x9ff2, 0xc9e0, 0xb22d, 0x10f1, 0x815b, 0x0, 0x1);
        gbc.writeMem(0x9d24, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x9ff2);
        EXPECT(gbc.pc(), 0x9d25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9d24), 0xf);
        // 0F 0317
        gbc.setState(0x8118, 0x1034, 0x5030, 0xcdbf, 0x7a22, 0xbf6a, 0x0, 0x1);
        gbc.writeMem(0x8118, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x1034);
        EXPECT(gbc.pc(), 0x8119);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8118), 0xf);
        // 0F 0318
        gbc.setState(0x94dc, 0x4f36, 0x88a0, 0xce07, 0xcce9, 0x4958, 0x0, 0x1);
        gbc.writeMem(0x94dc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x4f36);
        EXPECT(gbc.pc(), 0x94dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x94dc), 0xf);
        // 0F 0319
        gbc.setState(0xe3d5, 0x8932, 0x300, 0xd444, 0x25e2, 0x8fc5, 0x0, 0x1);
        gbc.writeMem(0xe3d5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x8932);
        EXPECT(gbc.pc(), 0xe3d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe3d5), 0xf);
        // 0F 031A
        gbc.setState(0xcbfe, 0x9cb9, 0x2c10, 0x5a7e, 0xbd5d, 0xe0bd, 0x0, 0x1);
        gbc.writeMem(0xcbfe, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x9cb9);
        EXPECT(gbc.pc(), 0xcbff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbfe), 0xf);
        // 0F 031B
        gbc.setState(0x13b3, 0x88d8, 0x84a0, 0xa83b, 0x2c94, 0xcb84, 0x0, 0x0);
        gbc.writeMem(0x13b3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x88d8);
        EXPECT(gbc.pc(), 0x13b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 031C
        gbc.setState(0x1142, 0x53a, 0x2c40, 0x3dda, 0x4205, 0x27, 0x0, 0x0);
        gbc.writeMem(0x1142, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x53a);
        EXPECT(gbc.pc(), 0x1143);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 031D
        gbc.setState(0x2de1, 0xb84, 0xafe0, 0x3ab, 0x161c, 0x8754, 0x0, 0x1);
        gbc.writeMem(0x2de1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0xb84);
        EXPECT(gbc.pc(), 0x2de2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 031E
        gbc.setState(0xa98e, 0x37b3, 0xb20, 0xf770, 0xf01c, 0xdd31, 0x0, 0x1);
        gbc.writeMem(0xa98e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xf7);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x37b3);
        EXPECT(gbc.pc(), 0xa98f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa98e), 0xf);
        // 0F 031F
        gbc.setState(0x34f3, 0xf599, 0xc8e0, 0xa7a6, 0xfa1e, 0xf18f, 0x0, 0x1);
        gbc.writeMem(0x34f3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xf1);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf599);
        EXPECT(gbc.pc(), 0x34f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0320
        gbc.setState(0x1a69, 0xa26f, 0x4250, 0xbbc9, 0x44ba, 0x9dc, 0x0, 0x0);
        gbc.writeMem(0x1a69, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xdc);
        EXPECT(gbc.sp(), 0xa26f);
        EXPECT(gbc.pc(), 0x1a6a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0321
        gbc.setState(0x9fc4, 0xb695, 0xe940, 0x916e, 0xe62c, 0x7115, 0x0, 0x1);
        gbc.writeMem(0x9fc4, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xb695);
        EXPECT(gbc.pc(), 0x9fc5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9fc4), 0xf);
        // 0F 0322
        gbc.setState(0xa6d2, 0xe407, 0x9800, 0x1b67, 0xeca, 0xf5c, 0x0, 0x1);
        gbc.writeMem(0xa6d2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xe407);
        EXPECT(gbc.pc(), 0xa6d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa6d2), 0xf);
        // 0F 0323
        gbc.setState(0x133d, 0x2c13, 0xd930, 0xea86, 0x842b, 0xb338, 0x1, 0x0);
        gbc.writeMem(0x133d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x2b);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0x2c13);
        EXPECT(gbc.pc(), 0x133e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0324
        gbc.setState(0x5400, 0xf6dd, 0xc9f0, 0xc091, 0x5c2f, 0x64a0, 0x0, 0x1);
        gbc.writeMem(0x5400, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0xf6dd);
        EXPECT(gbc.pc(), 0x5401);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0325
        gbc.setState(0xdf2f, 0x48ad, 0x34c0, 0x6c89, 0xc401, 0x4276, 0x1, 0x1);
        gbc.writeMem(0xdf2f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x48ad);
        EXPECT(gbc.pc(), 0xdf30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf2f), 0xf);
        // 0F 0328
        gbc.setState(0xfc9, 0xb168, 0x1e50, 0x90e2, 0xd24a, 0xdd20, 0x0, 0x1);
        gbc.writeMem(0xfc9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xb168);
        EXPECT(gbc.pc(), 0xfca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 032A
        gbc.setState(0xb1c2, 0x4a81, 0x9b30, 0xaade, 0x1ccc, 0x208a, 0x0, 0x0);
        gbc.writeMem(0xb1c2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcd);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x4a81);
        EXPECT(gbc.pc(), 0xb1c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb1c2), 0xf);
        // 0F 032B
        gbc.setState(0x7d18, 0x8795, 0xb6a0, 0xbde5, 0xeaaa, 0x5775, 0x1, 0x0);
        gbc.writeMem(0x7d18, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5b);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x8795);
        EXPECT(gbc.pc(), 0x7d19);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 032C
        gbc.setState(0x789e, 0x62ac, 0x63e0, 0x5ee3, 0x9c1a, 0x9a6d, 0x1, 0x0);
        gbc.writeMem(0x789e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x62ac);
        EXPECT(gbc.pc(), 0x789f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 032D
        gbc.setState(0x1788, 0xc068, 0xca90, 0x1b6a, 0x2934, 0xf56b, 0x0, 0x0);
        gbc.writeMem(0x1788, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x65);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0xc068);
        EXPECT(gbc.pc(), 0x1789);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 032E
        gbc.setState(0x6fea, 0x6d2e, 0xf150, 0xfb6c, 0xd8f1, 0x6d81, 0x1, 0x0);
        gbc.writeMem(0x6fea, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf8);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x6d2e);
        EXPECT(gbc.pc(), 0x6feb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 032F
        gbc.setState(0xa3b8, 0x38cc, 0xd4c0, 0xbb8f, 0x2ce0, 0x6c74, 0x1, 0x0);
        gbc.writeMem(0xa3b8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6a);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x38cc);
        EXPECT(gbc.pc(), 0xa3b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa3b8), 0xf);
        // 0F 0330
        gbc.setState(0xe4bb, 0xb56a, 0x6380, 0x8c9b, 0x88b7, 0x6728, 0x0, 0x0);
        gbc.writeMem(0xe4bb, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xb56a);
        EXPECT(gbc.pc(), 0xe4bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe4bb), 0xf);
        // 0F 0331
        gbc.setState(0x91d1, 0xc4a7, 0x6130, 0x46ac, 0x795f, 0xc103, 0x0, 0x1);
        gbc.writeMem(0x91d1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xc4a7);
        EXPECT(gbc.pc(), 0x91d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x91d1), 0xf);
        // 0F 0332
        gbc.setState(0x8d63, 0xcd93, 0xb4a0, 0x3784, 0x3983, 0x7d6a, 0x1, 0x0);
        gbc.writeMem(0x8d63, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0x83);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0xcd93);
        EXPECT(gbc.pc(), 0x8d64);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d63), 0xf);
        // 0F 0333
        gbc.setState(0xa745, 0x27ad, 0x2900, 0x2d77, 0x54d1, 0xc591, 0x1, 0x0);
        gbc.writeMem(0xa745, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x27ad);
        EXPECT(gbc.pc(), 0xa746);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa745), 0xf);
        // 0F 0335
        gbc.setState(0x1649, 0x4136, 0xf590, 0x6f88, 0xa7b2, 0x481f, 0x0, 0x1);
        gbc.writeMem(0x1649, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfa);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x4136);
        EXPECT(gbc.pc(), 0x164a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0336
        gbc.setState(0xa5ae, 0x3d2e, 0xaaa0, 0xf9b1, 0x91c3, 0x7ae2, 0x0, 0x0);
        gbc.writeMem(0xa5ae, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x3d2e);
        EXPECT(gbc.pc(), 0xa5af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5ae), 0xf);
        // 0F 0337
        gbc.setState(0x43b1, 0x9b3b, 0x90b0, 0xc4b5, 0x8c3d, 0x3d63, 0x1, 0x0);
        gbc.writeMem(0x43b1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x9b3b);
        EXPECT(gbc.pc(), 0x43b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0338
        gbc.setState(0x6d0d, 0x8847, 0xdac0, 0x2809, 0x8238, 0x215, 0x0, 0x1);
        gbc.writeMem(0x6d0d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6d);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0x8847);
        EXPECT(gbc.pc(), 0x6d0e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0339
        gbc.setState(0x923, 0x456c, 0xd770, 0xfe10, 0x42ee, 0x35b1, 0x0, 0x1);
        gbc.writeMem(0x923, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xeb);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0x456c);
        EXPECT(gbc.pc(), 0x924);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 033A
        gbc.setState(0x72c8, 0xea81, 0x4e50, 0x1a15, 0x6858, 0x7ce7, 0x1, 0x1);
        gbc.writeMem(0x72c8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xea81);
        EXPECT(gbc.pc(), 0x72c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 033B
        gbc.setState(0xa7db, 0x2c04, 0x39c0, 0x2684, 0xa8b4, 0x5c7a, 0x1, 0x0);
        gbc.writeMem(0xa7db, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x2c04);
        EXPECT(gbc.pc(), 0xa7dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa7db), 0xf);
        // 0F 033C
        gbc.setState(0x1cbe, 0x1cc6, 0x3760, 0xfbb1, 0x134a, 0xde83, 0x0, 0x0);
        gbc.writeMem(0x1cbe, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9b);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x1cc6);
        EXPECT(gbc.pc(), 0x1cbf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 033D
        gbc.setState(0x85da, 0x8945, 0x7e10, 0x2311, 0xc36b, 0xa2ef, 0x1, 0x0);
        gbc.writeMem(0x85da, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x8945);
        EXPECT(gbc.pc(), 0x85db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85da), 0xf);
        // 0F 033E
        gbc.setState(0x8343, 0x2b67, 0xff80, 0xb355, 0x5440, 0x3eea, 0x1, 0x0);
        gbc.writeMem(0x8343, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xff);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x2b67);
        EXPECT(gbc.pc(), 0x8344);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8343), 0xf);
        // 0F 033F
        gbc.setState(0x1fb, 0xaf41, 0xba20, 0x74a, 0x5aab, 0xa2f0, 0x1, 0x0);
        gbc.writeMem(0x1fb, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5d);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xaf41);
        EXPECT(gbc.pc(), 0x1fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0340
        gbc.setState(0x7a0e, 0x556c, 0xadc0, 0x6b04, 0x549c, 0xc20e, 0x0, 0x0);
        gbc.writeMem(0x7a0e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x556c);
        EXPECT(gbc.pc(), 0x7a0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0341
        gbc.setState(0xfc3, 0x9370, 0x1a20, 0xc4c8, 0x2a50, 0x3282, 0x0, 0x0);
        gbc.writeMem(0xfc3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xc4);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x9370);
        EXPECT(gbc.pc(), 0xfc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0342
        gbc.setState(0x4d7a, 0xcfdd, 0x7660, 0x2d1, 0xec8d, 0xf451, 0x0, 0x1);
        gbc.writeMem(0x4d7a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3b);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xcfdd);
        EXPECT(gbc.pc(), 0x4d7b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0343
        gbc.setState(0x81dd, 0x4b20, 0x730, 0x6212, 0x767f, 0x80c0, 0x0, 0x1);
        gbc.writeMem(0x81dd, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x4b20);
        EXPECT(gbc.pc(), 0x81de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x81dd), 0xf);
        // 0F 0344
        gbc.setState(0xdd98, 0x9202, 0xb730, 0x4c61, 0x4d6f, 0x4900, 0x0, 0x1);
        gbc.writeMem(0xdd98, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x9202);
        EXPECT(gbc.pc(), 0xdd99);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd98), 0xf);
        // 0F 0345
        gbc.setState(0x40a, 0xd359, 0x5640, 0xf0bd, 0x962c, 0xce8e, 0x1, 0x1);
        gbc.writeMem(0x40a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x2c);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd359);
        EXPECT(gbc.pc(), 0x40b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0346
        gbc.setState(0xa680, 0xd7cd, 0x8920, 0xde93, 0x37a6, 0x8279, 0x0, 0x0);
        gbc.writeMem(0xa680, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xd7cd);
        EXPECT(gbc.pc(), 0xa681);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa680), 0xf);
        // 0F 0347
        gbc.setState(0x7d3b, 0xfca0, 0x7990, 0xb8c3, 0xac84, 0xb2f1, 0x0, 0x0);
        gbc.writeMem(0x7d3b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbc);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xfca0);
        EXPECT(gbc.pc(), 0x7d3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0349
        gbc.setState(0x2e01, 0x18e7, 0x20, 0x645a, 0x5547, 0x2a59, 0x0, 0x1);
        gbc.writeMem(0x2e01, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x18e7);
        EXPECT(gbc.pc(), 0x2e02);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 034A
        gbc.setState(0x6cc1, 0xda14, 0x50c0, 0x10ef, 0xe230, 0x5f5a, 0x0, 0x0);
        gbc.writeMem(0x6cc1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x30);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0xda14);
        EXPECT(gbc.pc(), 0x6cc2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 034B
        gbc.setState(0x5cb5, 0x6dac, 0xeb30, 0x2114, 0xc7b9, 0xc556, 0x1, 0x1);
        gbc.writeMem(0x5cb5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x6dac);
        EXPECT(gbc.pc(), 0x5cb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 034C
        gbc.setState(0xd4fc, 0xfc62, 0xb4e0, 0xa3cb, 0x754c, 0x54d7, 0x0, 0x1);
        gbc.writeMem(0xd4fc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5a);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xfc62);
        EXPECT(gbc.pc(), 0xd4fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4fc), 0xf);
        // 0F 034D
        gbc.setState(0x18b8, 0xb220, 0xd150, 0x11cb, 0x7fbd, 0x3da3, 0x0, 0x0);
        gbc.writeMem(0x18b8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xb220);
        EXPECT(gbc.pc(), 0x18b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 034E
        gbc.setState(0x14b7, 0xfae8, 0x1110, 0x8b6c, 0x5cd3, 0x9a80, 0x1, 0x1);
        gbc.writeMem(0x14b7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0xfae8);
        EXPECT(gbc.pc(), 0x14b8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 034F
        gbc.setState(0x9629, 0x5cf5, 0x7440, 0xc360, 0x448f, 0x932e, 0x0, 0x0);
        gbc.writeMem(0x9629, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0x2e);
        EXPECT(gbc.sp(), 0x5cf5);
        EXPECT(gbc.pc(), 0x962a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9629), 0xf);
        // 0F 0350
        gbc.setState(0x4ff7, 0xce7, 0x98a0, 0x2c56, 0x63cf, 0x6f92, 0x1, 0x0);
        gbc.writeMem(0x4ff7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xce7);
        EXPECT(gbc.pc(), 0x4ff8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0351
        gbc.setState(0x4d71, 0x35fc, 0x1bb0, 0x19ce, 0x17bd, 0x74ba, 0x1, 0x1);
        gbc.writeMem(0x4d71, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x35fc);
        EXPECT(gbc.pc(), 0x4d72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0352
        gbc.setState(0xddb0, 0xe261, 0x320, 0xc22c, 0x8219, 0x96e6, 0x1, 0x0);
        gbc.writeMem(0xddb0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xe261);
        EXPECT(gbc.pc(), 0xddb1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xddb0), 0xf);
        // 0F 0353
        gbc.setState(0x89c5, 0xfaab, 0xe8e0, 0x401, 0xe667, 0xbac1, 0x0, 0x0);
        gbc.writeMem(0x89c5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xfaab);
        EXPECT(gbc.pc(), 0x89c6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x89c5), 0xf);
        // 0F 0354
        gbc.setState(0xb571, 0x3390, 0x3cc0, 0xb9f9, 0xd5f8, 0x561a, 0x0, 0x0);
        gbc.writeMem(0xb571, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x3390);
        EXPECT(gbc.pc(), 0xb572);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb571), 0xf);
        // 0F 0355
        gbc.setState(0xeaca, 0x6910, 0x28f0, 0x3b98, 0xd257, 0x8abd, 0x0, 0x0);
        gbc.writeMem(0xeaca, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x6910);
        EXPECT(gbc.pc(), 0xeacb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeaca), 0xf);
        // 0F 0356
        gbc.setState(0xe0aa, 0x54c1, 0x4030, 0x4512, 0x90f7, 0xcd2c, 0x0, 0x1);
        gbc.writeMem(0xe0aa, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x54c1);
        EXPECT(gbc.pc(), 0xe0ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0aa), 0xf);
        // 0F 0358
        gbc.setState(0xaa61, 0x42a2, 0xbe0, 0xecd1, 0xe0ff, 0x9f3b, 0x1, 0x0);
        gbc.writeMem(0xaa61, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0x42a2);
        EXPECT(gbc.pc(), 0xaa62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xaa61), 0xf);
        // 0F 0359
        gbc.setState(0x65c5, 0x1102, 0x110, 0x9e18, 0x37, 0x3cc5, 0x1, 0x1);
        gbc.writeMem(0x65c5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x1102);
        EXPECT(gbc.pc(), 0x65c6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 035A
        gbc.setState(0xe88, 0x4963, 0x2d30, 0x9e03, 0x920f, 0x340, 0x0, 0x1);
        gbc.writeMem(0xe88, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x4963);
        EXPECT(gbc.pc(), 0xe89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 035B
        gbc.setState(0xb9ed, 0x6b1b, 0xa960, 0xecf8, 0xa533, 0xa701, 0x0, 0x0);
        gbc.writeMem(0xb9ed, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x6b1b);
        EXPECT(gbc.pc(), 0xb9ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb9ed), 0xf);
        // 0F 035C
        gbc.setState(0x83bc, 0x16a9, 0x9910, 0x7f24, 0x8b72, 0x6eeb, 0x1, 0x0);
        gbc.writeMem(0x83bc, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x16a9);
        EXPECT(gbc.pc(), 0x83bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x83bc), 0xf);
        // 0F 035D
        gbc.setState(0x8e96, 0xe6e2, 0x7580, 0x229c, 0x2779, 0xb456, 0x1, 0x1);
        gbc.writeMem(0x8e96, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xe6e2);
        EXPECT(gbc.pc(), 0x8e97);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8e96), 0xf);
        // 0F 035E
        gbc.setState(0xe704, 0x20f8, 0xd070, 0xb6cc, 0x7331, 0x22e4, 0x1, 0x0);
        gbc.writeMem(0xe704, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x20f8);
        EXPECT(gbc.pc(), 0xe705);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe704), 0xf);
        // 0F 035F
        gbc.setState(0x63d9, 0xb649, 0x8970, 0xb3ea, 0xfeee, 0x2dc6, 0x0, 0x1);
        gbc.writeMem(0x63d9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xb649);
        EXPECT(gbc.pc(), 0x63da);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0360
        gbc.setState(0xc566, 0x9ae9, 0x3310, 0xf490, 0x5902, 0xd522, 0x0, 0x1);
        gbc.writeMem(0xc566, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x9ae9);
        EXPECT(gbc.pc(), 0xc567);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc566), 0xf);
        // 0F 0361
        gbc.setState(0xe77d, 0xf331, 0xe9c0, 0x45f9, 0x641a, 0x353e, 0x1, 0x1);
        gbc.writeMem(0xe77d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xf331);
        EXPECT(gbc.pc(), 0xe77e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe77d), 0xf);
        // 0F 0362
        gbc.setState(0x3d9b, 0xafcc, 0x3940, 0x143c, 0x70b1, 0x3d03, 0x1, 0x1);
        gbc.writeMem(0x3d9b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xafcc);
        EXPECT(gbc.pc(), 0x3d9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0363
        gbc.setState(0xa30b, 0xc26d, 0x7ae0, 0xf4cd, 0xd211, 0x621c, 0x0, 0x0);
        gbc.writeMem(0xa30b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3d);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xc26d);
        EXPECT(gbc.pc(), 0xa30c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa30b), 0xf);
        // 0F 0364
        gbc.setState(0xa305, 0x989b, 0xb340, 0x2232, 0xbad7, 0xbd47, 0x0, 0x0);
        gbc.writeMem(0xa305, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x989b);
        EXPECT(gbc.pc(), 0xa306);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa305), 0xf);
        // 0F 0365
        gbc.setState(0x385, 0x75b4, 0x5420, 0xe0bf, 0x2c3, 0x945, 0x0, 0x1);
        gbc.writeMem(0x385, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x75b4);
        EXPECT(gbc.pc(), 0x386);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0366
        gbc.setState(0xa1b9, 0xbca7, 0xaaa0, 0xc2ed, 0xc9f2, 0xea2, 0x1, 0x0);
        gbc.writeMem(0xa1b9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xbca7);
        EXPECT(gbc.pc(), 0xa1ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1b9), 0xf);
        // 0F 0367
        gbc.setState(0xeadf, 0x9241, 0x2c20, 0xc890, 0x29f9, 0x55a2, 0x1, 0x1);
        gbc.writeMem(0xeadf, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0x9241);
        EXPECT(gbc.pc(), 0xeae0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeadf), 0xf);
        // 0F 0368
        gbc.setState(0x1dba, 0xd804, 0xa3b0, 0xa930, 0x521c, 0x1a66, 0x1, 0x1);
        gbc.writeMem(0x1dba, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x1a);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xd804);
        EXPECT(gbc.pc(), 0x1dbb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0369
        gbc.setState(0xb13d, 0xb952, 0x7ba0, 0xf830, 0xa4a3, 0x24c4, 0x1, 0x1);
        gbc.writeMem(0xb13d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xb952);
        EXPECT(gbc.pc(), 0xb13e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb13d), 0xf);
        // 0F 036A
        gbc.setState(0x8534, 0xc6c3, 0x6550, 0xda4f, 0xa922, 0x3aba, 0x1, 0x0);
        gbc.writeMem(0x8534, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xc6c3);
        EXPECT(gbc.pc(), 0x8535);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8534), 0xf);
        // 0F 036C
        gbc.setState(0x849a, 0x4f2, 0x7590, 0x7903, 0x65dd, 0x273e, 0x0, 0x0);
        gbc.writeMem(0x849a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xba);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x4f2);
        EXPECT(gbc.pc(), 0x849b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x849a), 0xf);
        // 0F 036D
        gbc.setState(0x6fcd, 0xe32f, 0x2490, 0x17bb, 0xb5a7, 0x7b1b, 0x0, 0x1);
        gbc.writeMem(0x6fcd, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0xe32f);
        EXPECT(gbc.pc(), 0x6fce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 036E
        gbc.setState(0x35e6, 0xdf82, 0x55e0, 0x5725, 0x9d2f, 0x1cd7, 0x1, 0x1);
        gbc.writeMem(0x35e6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xaa);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0xdf82);
        EXPECT(gbc.pc(), 0x35e7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 036F
        gbc.setState(0x632e, 0xc137, 0x9900, 0xb69b, 0x15d3, 0xd32f, 0x0, 0x1);
        gbc.writeMem(0x632e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xc137);
        EXPECT(gbc.pc(), 0x632f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0370
        gbc.setState(0x79a3, 0x4128, 0xf400, 0xb479, 0x60d5, 0x26b7, 0x0, 0x1);
        gbc.writeMem(0x79a3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x4128);
        EXPECT(gbc.pc(), 0x79a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0371
        gbc.setState(0x418c, 0xe855, 0x65a0, 0x1b37, 0x58b2, 0x8e82, 0x0, 0x0);
        gbc.writeMem(0x418c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xe855);
        EXPECT(gbc.pc(), 0x418d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0372
        gbc.setState(0x694c, 0x3f0b, 0x2c30, 0xa273, 0x6646, 0xda7f, 0x0, 0x0);
        gbc.writeMem(0x694c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x66);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x3f0b);
        EXPECT(gbc.pc(), 0x694d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0373
        gbc.setState(0xa8d8, 0x123c, 0xca0, 0x415d, 0xcace, 0xa10, 0x1, 0x0);
        gbc.writeMem(0xa8d8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x123c);
        EXPECT(gbc.pc(), 0xa8d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8d8), 0xf);
        // 0F 0374
        gbc.setState(0xdd9e, 0xdfeb, 0x7f30, 0x4913, 0x56f9, 0xc5db, 0x1, 0x0);
        gbc.writeMem(0xdd9e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xdfeb);
        EXPECT(gbc.pc(), 0xdd9f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdd9e), 0xf);
        // 0F 0375
        gbc.setState(0xd8d8, 0x2991, 0x13b0, 0x743e, 0xba5e, 0x7495, 0x1, 0x1);
        gbc.writeMem(0xd8d8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x2991);
        EXPECT(gbc.pc(), 0xd8d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8d8), 0xf);
        // 0F 0376
        gbc.setState(0x4efd, 0x9d7c, 0x1080, 0x9d5d, 0xcaf9, 0x3056, 0x1, 0x1);
        gbc.writeMem(0x4efd, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x9d7c);
        EXPECT(gbc.pc(), 0x4efe);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0377
        gbc.setState(0x996a, 0xccaa, 0x13a0, 0x4b07, 0x953, 0x65bd, 0x1, 0x0);
        gbc.writeMem(0x996a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xccaa);
        EXPECT(gbc.pc(), 0x996b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x996a), 0xf);
        // 0F 0378
        gbc.setState(0xbd5b, 0x61b8, 0xf960, 0x848b, 0x9f5f, 0x11eb, 0x1, 0x0);
        gbc.writeMem(0xbd5b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x61b8);
        EXPECT(gbc.pc(), 0xbd5c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbd5b), 0xf);
        // 0F 0379
        gbc.setState(0x334c, 0x92bd, 0xa1b0, 0xee53, 0xbce3, 0xc809, 0x0, 0x0);
        gbc.writeMem(0x334c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xc8);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x92bd);
        EXPECT(gbc.pc(), 0x334d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 037A
        gbc.setState(0xa86, 0x6d64, 0x7e80, 0x2466, 0xf9b7, 0x5f7c, 0x1, 0x1);
        gbc.writeMem(0xa86, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3f);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0x6d64);
        EXPECT(gbc.pc(), 0xa87);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 037C
        gbc.setState(0x7d06, 0xd7d5, 0x4300, 0x7813, 0x5bab, 0x2be0, 0x1, 0x0);
        gbc.writeMem(0x7d06, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0xd7d5);
        EXPECT(gbc.pc(), 0x7d07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 037D
        gbc.setState(0x7cf5, 0x1e24, 0xdfe0, 0x1985, 0x6a1f, 0x1489, 0x1, 0x1);
        gbc.writeMem(0x7cf5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xef);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x1e24);
        EXPECT(gbc.pc(), 0x7cf6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 037E
        gbc.setState(0x2c8, 0x386f, 0x95d0, 0x35e2, 0xa89c, 0xc78d, 0x0, 0x1);
        gbc.writeMem(0x2c8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xe2);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x8d);
        EXPECT(gbc.sp(), 0x386f);
        EXPECT(gbc.pc(), 0x2c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 037F
        gbc.setState(0x262a, 0x8dfe, 0x8570, 0x3b32, 0x44ff, 0x70ae, 0x1, 0x1);
        gbc.writeMem(0x262a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0x8dfe);
        EXPECT(gbc.pc(), 0x262b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0380
        gbc.setState(0xde95, 0xa427, 0xcc40, 0x3fdb, 0xccfa, 0x3326, 0x1, 0x0);
        gbc.writeMem(0xde95, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xa427);
        EXPECT(gbc.pc(), 0xde96);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde95), 0xf);
        // 0F 0381
        gbc.setState(0xa163, 0x4c78, 0xaa50, 0xb151, 0xf151, 0x684e, 0x0, 0x0);
        gbc.writeMem(0xa163, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x4c78);
        EXPECT(gbc.pc(), 0xa164);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa163), 0xf);
        // 0F 0383
        gbc.setState(0xc261, 0xc64f, 0xdb20, 0x4c3e, 0xa443, 0xfef2, 0x1, 0x1);
        gbc.writeMem(0xc261, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xed);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0xc64f);
        EXPECT(gbc.pc(), 0xc262);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc261), 0xf);
        // 0F 0384
        gbc.setState(0x80c2, 0x59b7, 0x4240, 0x7e82, 0x8b04, 0xace1, 0x0, 0x0);
        gbc.writeMem(0x80c2, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x59b7);
        EXPECT(gbc.pc(), 0x80c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80c2), 0xf);
        // 0F 0385
        gbc.setState(0xe23a, 0x122d, 0x3930, 0x1c9e, 0x3cef, 0xacfd, 0x0, 0x0);
        gbc.writeMem(0xe23a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9c);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x122d);
        EXPECT(gbc.pc(), 0xe23b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe23a), 0xf);
        // 0F 0387
        gbc.setState(0xced6, 0x366c, 0x2a20, 0x8015, 0x50fe, 0x335f, 0x1, 0x1);
        gbc.writeMem(0xced6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x366c);
        EXPECT(gbc.pc(), 0xced7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xced6), 0xf);
        // 0F 0389
        gbc.setState(0x3c68, 0xa6fb, 0xf970, 0x31a3, 0x5395, 0xebdf, 0x0, 0x0);
        gbc.writeMem(0x3c68, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xfc);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xa6fb);
        EXPECT(gbc.pc(), 0x3c69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 038B
        gbc.setState(0xd1cf, 0x4b9c, 0xe150, 0xbda, 0x5cab, 0x1bc7, 0x1, 0x0);
        gbc.writeMem(0xd1cf, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xda);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x4b9c);
        EXPECT(gbc.pc(), 0xd1d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd1cf), 0xf);
        // 0F 038C
        gbc.setState(0x9b76, 0x70fc, 0x5ca0, 0xf2bf, 0x10bd, 0x90ed, 0x0, 0x0);
        gbc.writeMem(0x9b76, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2e);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x70fc);
        EXPECT(gbc.pc(), 0x9b77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b76), 0xf);
        // 0F 038D
        gbc.setState(0xe8c3, 0x44bc, 0xd160, 0xed21, 0x13a7, 0x7af6, 0x0, 0x1);
        gbc.writeMem(0xe8c3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x44bc);
        EXPECT(gbc.pc(), 0xe8c4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe8c3), 0xf);
        // 0F 038E
        gbc.setState(0x4bb8, 0xdb36, 0x8d40, 0x2c04, 0x7125, 0x2d74, 0x0, 0x1);
        gbc.writeMem(0x4bb8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xdb36);
        EXPECT(gbc.pc(), 0x4bb9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 038F
        gbc.setState(0xe03c, 0xcb62, 0xc610, 0xc958, 0xb6d7, 0x47e6, 0x1, 0x0);
        gbc.writeMem(0xe03c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xcb62);
        EXPECT(gbc.pc(), 0xe03d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe03c), 0xf);
        // 0F 0390
        gbc.setState(0x2857, 0x3a04, 0xbda0, 0xc525, 0x8ce2, 0xfeef, 0x0, 0x1);
        gbc.writeMem(0x2857, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xde);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x3a04);
        EXPECT(gbc.pc(), 0x2858);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0391
        gbc.setState(0xc6d, 0xee1e, 0xe000, 0x8fd8, 0x3d0c, 0x8aad, 0x1, 0x1);
        gbc.writeMem(0xc6d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xee1e);
        EXPECT(gbc.pc(), 0xc6e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0393
        gbc.setState(0x7c0b, 0x46f7, 0x940, 0x65fa, 0x1ea5, 0x2dba, 0x0, 0x1);
        gbc.writeMem(0x7c0b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x46f7);
        EXPECT(gbc.pc(), 0x7c0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0394
        gbc.setState(0xab0b, 0x322a, 0x7700, 0x1ebf, 0x2f35, 0xcae3, 0x0, 0x1);
        gbc.writeMem(0xab0b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbb);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xbf);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x322a);
        EXPECT(gbc.pc(), 0xab0c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xab0b), 0xf);
        // 0F 0395
        gbc.setState(0x25d6, 0x4598, 0x9cf0, 0xe332, 0xdbf, 0x6dcd, 0x0, 0x1);
        gbc.writeMem(0x25d6, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4e);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x4598);
        EXPECT(gbc.pc(), 0x25d7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 0396
        gbc.setState(0xe6b0, 0xb832, 0x540, 0x19a1, 0xd526, 0x217, 0x1, 0x0);
        gbc.writeMem(0xe6b0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xb832);
        EXPECT(gbc.pc(), 0xe6b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6b0), 0xf);
        // 0F 0397
        gbc.setState(0x8f0e, 0x5e18, 0x4fd0, 0x4ea, 0x9894, 0x4f5a, 0x1, 0x1);
        gbc.writeMem(0x8f0e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x5a);
        EXPECT(gbc.sp(), 0x5e18);
        EXPECT(gbc.pc(), 0x8f0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x8f0e), 0xf);
        // 0F 0398
        gbc.setState(0x2d8e, 0x5a45, 0xed00, 0x997, 0x978d, 0xa2af, 0x0, 0x1);
        gbc.writeMem(0x2d8e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf6);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x5a45);
        EXPECT(gbc.pc(), 0x2d8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 0399
        gbc.setState(0xca0f, 0x3b4c, 0x96a0, 0x3af4, 0xb24, 0xb3bd, 0x1, 0x1);
        gbc.writeMem(0xca0f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x3b4c);
        EXPECT(gbc.pc(), 0xca10);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca0f), 0xf);
        // 0F 039A
        gbc.setState(0x5a27, 0xe6c3, 0x1ae0, 0x2ba1, 0xd31e, 0x5ebd, 0x1, 0x1);
        gbc.writeMem(0x5a27, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x5e);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xe6c3);
        EXPECT(gbc.pc(), 0x5a28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 039B
        gbc.setState(0x4b1e, 0x90c0, 0xc5c0, 0xb5ac, 0x9e27, 0xae27, 0x0, 0x1);
        gbc.writeMem(0x4b1e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x90c0);
        EXPECT(gbc.pc(), 0x4b1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 039C
        gbc.setState(0x1cde, 0xe515, 0x2c60, 0x3123, 0xe04c, 0x470f, 0x1, 0x0);
        gbc.writeMem(0x1cde, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x16);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xe515);
        EXPECT(gbc.pc(), 0x1cdf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 039D
        gbc.setState(0x9271, 0xde9e, 0x86d0, 0x9aa7, 0xeb7a, 0x344f, 0x1, 0x0);
        gbc.writeMem(0x9271, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xde9e);
        EXPECT(gbc.pc(), 0x9272);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9271), 0xf);
        // 0F 039E
        gbc.setState(0x3e9, 0x394e, 0x9f70, 0x9685, 0xf7a0, 0xb68a, 0x0, 0x1);
        gbc.writeMem(0x3e9, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcf);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x394e);
        EXPECT(gbc.pc(), 0x3ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 039F
        gbc.setState(0xa3f, 0x8061, 0xafc0, 0x7e71, 0x189f, 0x4384, 0x0, 0x1);
        gbc.writeMem(0xa3f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd7);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x8061);
        EXPECT(gbc.pc(), 0xa40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03A0
        gbc.setState(0x6951, 0xb489, 0x70, 0x4b87, 0x554b, 0x65dd, 0x0, 0x0);
        gbc.writeMem(0x6951, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xb489);
        EXPECT(gbc.pc(), 0x6952);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03A1
        gbc.setState(0x9296, 0xd8bc, 0x9e30, 0x85b9, 0xd36b, 0xc697, 0x0, 0x1);
        gbc.writeMem(0x9296, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4f);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x6b);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xd8bc);
        EXPECT(gbc.pc(), 0x9297);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9296), 0xf);
        // 0F 03A2
        gbc.setState(0x234a, 0x76a7, 0xc4f0, 0x41b2, 0xb33a, 0xdf4b, 0x1, 0x0);
        gbc.writeMem(0x234a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x76a7);
        EXPECT(gbc.pc(), 0x234b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03A3
        gbc.setState(0x2ef1, 0xfe07, 0x5a50, 0x1ac2, 0xb0ff, 0x138c, 0x0, 0x1);
        gbc.writeMem(0x2ef1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xfe07);
        EXPECT(gbc.pc(), 0x2ef2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03A4
        gbc.setState(0x1f4e, 0x9d97, 0x2b50, 0xd428, 0x30e1, 0x32ab, 0x0, 0x1);
        gbc.writeMem(0x1f4e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x9d97);
        EXPECT(gbc.pc(), 0x1f4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03A5
        gbc.setState(0x719e, 0xc64d, 0xa5c0, 0x7f30, 0xb336, 0xb34c, 0x1, 0x0);
        gbc.writeMem(0x719e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd2);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xc64d);
        EXPECT(gbc.pc(), 0x719f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03A6
        gbc.setState(0xa90f, 0x3f62, 0x4ff0, 0xc235, 0xb890, 0xfbd, 0x1, 0x0);
        gbc.writeMem(0xa90f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x3f62);
        EXPECT(gbc.pc(), 0xa910);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa90f), 0xf);
        // 0F 03A7
        gbc.setState(0xbfea, 0x5fd9, 0x1280, 0xe8d0, 0x59b5, 0xb1b4, 0x1, 0x1);
        gbc.writeMem(0xbfea, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0x5fd9);
        EXPECT(gbc.pc(), 0xbfeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfea), 0xf);
        // 0F 03A8
        gbc.setState(0x4957, 0x304, 0x6ff0, 0xe31, 0x41e4, 0x150, 0x1, 0x1);
        gbc.writeMem(0x4957, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb7);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x304);
        EXPECT(gbc.pc(), 0x4958);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03A9
        gbc.setState(0x3790, 0xd062, 0x5d30, 0x16c2, 0xd33d, 0xeec, 0x1, 0x0);
        gbc.writeMem(0x3790, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xae);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xd062);
        EXPECT(gbc.pc(), 0x3791);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03AA
        gbc.setState(0x3797, 0xe6b8, 0x20e0, 0xa78c, 0xfd08, 0xb156, 0x0, 0x0);
        gbc.writeMem(0x3797, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xe6b8);
        EXPECT(gbc.pc(), 0x3798);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03AB
        gbc.setState(0xa155, 0xd8e0, 0xad0, 0x8633, 0x1cb2, 0x9ef3, 0x0, 0x0);
        gbc.writeMem(0xa155, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xd8e0);
        EXPECT(gbc.pc(), 0xa156);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa155), 0xf);
        // 0F 03AC
        gbc.setState(0xc83, 0xa9ea, 0x2e20, 0xe312, 0x5869, 0xdd3b, 0x1, 0x0);
        gbc.writeMem(0xc83, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xa9ea);
        EXPECT(gbc.pc(), 0xc84);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03AD
        gbc.setState(0x47c0, 0xcde8, 0x1d10, 0xb59d, 0xea48, 0x2b4c, 0x1, 0x1);
        gbc.writeMem(0x47c0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xcde8);
        EXPECT(gbc.pc(), 0x47c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03AE
        gbc.setState(0xba7d, 0x8fa2, 0x90b0, 0x78ef, 0x7c11, 0xf265, 0x1, 0x0);
        gbc.writeMem(0xba7d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x8fa2);
        EXPECT(gbc.pc(), 0xba7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xba7d), 0xf);
        // 0F 03AF
        gbc.setState(0xa49a, 0x332f, 0x580, 0x5b45, 0xc8ac, 0x3409, 0x0, 0x0);
        gbc.writeMem(0xa49a, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x332f);
        EXPECT(gbc.pc(), 0xa49b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa49a), 0xf);
        // 0F 03B0
        gbc.setState(0x17ac, 0x6802, 0x8390, 0x6022, 0x6dc7, 0xca39, 0x1, 0x1);
        gbc.writeMem(0x17ac, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x6802);
        EXPECT(gbc.pc(), 0x17ad);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03B1
        gbc.setState(0x6c1e, 0x4eef, 0xc700, 0x7b20, 0xa718, 0x99f0, 0x0, 0x0);
        gbc.writeMem(0x6c1e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe3);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x4eef);
        EXPECT(gbc.pc(), 0x6c1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03B2
        gbc.setState(0x27b5, 0xec9a, 0x5ec0, 0x82e9, 0x17b, 0x2534, 0x0, 0x1);
        gbc.writeMem(0x27b5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xec9a);
        EXPECT(gbc.pc(), 0x27b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03B3
        gbc.setState(0x37c0, 0x4767, 0x4ef0, 0x6710, 0x9960, 0x7709, 0x1, 0x0);
        gbc.writeMem(0x37c0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x4767);
        EXPECT(gbc.pc(), 0x37c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03B4
        gbc.setState(0x1b78, 0x3fcb, 0x9680, 0x7b37, 0xd9f6, 0xfd59, 0x1, 0x1);
        gbc.writeMem(0x1b78, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x3fcb);
        EXPECT(gbc.pc(), 0x1b79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03B5
        gbc.setState(0xe1da, 0xe2a6, 0xad0, 0x81b7, 0x2fb1, 0x41ca, 0x1, 0x0);
        gbc.writeMem(0xe1da, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0xe2a6);
        EXPECT(gbc.pc(), 0xe1db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1da), 0xf);
        // 0F 03B6
        gbc.setState(0xdc7, 0xc684, 0x3ad0, 0xdf4b, 0x1191, 0x3e69, 0x1, 0x1);
        gbc.writeMem(0xdc7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xc684);
        EXPECT(gbc.pc(), 0xdc8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03B7
        gbc.setState(0x44a0, 0x7592, 0xb380, 0x7e0c, 0x42e9, 0xe3cc, 0x0, 0x0);
        gbc.writeMem(0x44a0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x7592);
        EXPECT(gbc.pc(), 0x44a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03B8
        gbc.setState(0x3912, 0xcd67, 0xcd60, 0x874f, 0x327, 0x8139, 0x0, 0x0);
        gbc.writeMem(0x3912, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x27);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xcd67);
        EXPECT(gbc.pc(), 0x3913);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03B9
        gbc.setState(0x7c8f, 0x2952, 0x60, 0xe5e9, 0xc1d7, 0xf90e, 0x0, 0x0);
        gbc.writeMem(0x7c8f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x2952);
        EXPECT(gbc.pc(), 0x7c90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03BA
        gbc.setState(0xdbb8, 0x6643, 0xcdb0, 0x924d, 0x7374, 0x3d53, 0x1, 0x0);
        gbc.writeMem(0xdbb8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x6643);
        EXPECT(gbc.pc(), 0xdbb9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xdbb8), 0xf);
        // 0F 03BC
        gbc.setState(0xe6c8, 0xac43, 0xade0, 0x423b, 0xb177, 0x34c2, 0x1, 0x0);
        gbc.writeMem(0xe6c8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xac43);
        EXPECT(gbc.pc(), 0xe6c9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe6c8), 0xf);
        // 0F 03BD
        gbc.setState(0x1f02, 0x61b5, 0x64e0, 0xf95b, 0x1dbe, 0x38b, 0x1, 0x1);
        gbc.writeMem(0x1f02, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x61b5);
        EXPECT(gbc.pc(), 0x1f03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03BE
        gbc.setState(0x29fe, 0x5b60, 0x3680, 0x8488, 0x6f9a, 0xe085, 0x1, 0x0);
        gbc.writeMem(0x29fe, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x5b60);
        EXPECT(gbc.pc(), 0x29ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03BF
        gbc.setState(0xef12, 0xdf6f, 0xa6e0, 0x6db5, 0x20af, 0xb54b, 0x1, 0x1);
        gbc.writeMem(0xef12, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x53);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xdf6f);
        EXPECT(gbc.pc(), 0xef13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef12), 0xf);
        // 0F 03C0
        gbc.setState(0x9cc3, 0x7aa2, 0x58f0, 0xd17c, 0x36a8, 0xcf87, 0x0, 0x0);
        gbc.writeMem(0x9cc3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0x7aa2);
        EXPECT(gbc.pc(), 0x9cc4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9cc3), 0xf);
        // 0F 03C1
        gbc.setState(0x95d5, 0xd05b, 0xc630, 0x7bf9, 0x3af4, 0x51c2, 0x0, 0x0);
        gbc.writeMem(0x95d5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xd05b);
        EXPECT(gbc.pc(), 0x95d6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95d5), 0xf);
        // 0F 03C2
        gbc.setState(0x57b8, 0x37db, 0xe900, 0x10ea, 0xd32f, 0x37a, 0x1, 0x0);
        gbc.writeMem(0x57b8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x37db);
        EXPECT(gbc.pc(), 0x57b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03C3
        gbc.setState(0x453, 0xc190, 0x2b60, 0xd142, 0x710c, 0xef4, 0x0, 0x0);
        gbc.writeMem(0x453, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xc190);
        EXPECT(gbc.pc(), 0x454);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03C4
        gbc.setState(0x3965, 0x35c5, 0xa7b0, 0x64d5, 0x1cb1, 0x9fad, 0x1, 0x0);
        gbc.writeMem(0x3965, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x35c5);
        EXPECT(gbc.pc(), 0x3966);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03C5
        gbc.setState(0x68dd, 0xd00b, 0x6410, 0x15a4, 0x376c, 0xb969, 0x1, 0x1);
        gbc.writeMem(0x68dd, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xd00b);
        EXPECT(gbc.pc(), 0x68de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03C6
        gbc.setState(0x2c01, 0x3802, 0xb770, 0x4534, 0x726c, 0xf449, 0x1, 0x0);
        gbc.writeMem(0x2c01, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xdb);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0x34);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x3802);
        EXPECT(gbc.pc(), 0x2c02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03C7
        gbc.setState(0xd14b, 0x57a7, 0x8a90, 0xcb7f, 0x63a9, 0xa9a1, 0x1, 0x0);
        gbc.writeMem(0xd14b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x57a7);
        EXPECT(gbc.pc(), 0xd14c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd14b), 0xf);
        // 0F 03C8
        gbc.setState(0xa474, 0xba54, 0x4a0, 0xb8c9, 0xa2a3, 0x8d03, 0x0, 0x1);
        gbc.writeMem(0xa474, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xba54);
        EXPECT(gbc.pc(), 0xa475);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa474), 0xf);
        // 0F 03C9
        gbc.setState(0xb45d, 0x6aeb, 0xcdb0, 0x1dc9, 0xe87a, 0x3d86, 0x1, 0x1);
        gbc.writeMem(0xb45d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x6aeb);
        EXPECT(gbc.pc(), 0xb45e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xb45d), 0xf);
        // 0F 03CA
        gbc.setState(0xd9aa, 0xe104, 0x5950, 0x57b5, 0x19b5, 0x9eab, 0x1, 0x0);
        gbc.writeMem(0xd9aa, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xe104);
        EXPECT(gbc.pc(), 0xd9ab);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd9aa), 0xf);
        // 0F 03CB
        gbc.setState(0xb35c, 0x2c76, 0xea90, 0x946f, 0xa1dc, 0xa590, 0x1, 0x0);
        gbc.writeMem(0xb35c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x75);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x2c76);
        EXPECT(gbc.pc(), 0xb35d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb35c), 0xf);
        // 0F 03CC
        gbc.setState(0x99b, 0xf86, 0x6c0, 0xcb6d, 0x620, 0x7dd8, 0x0, 0x0);
        gbc.writeMem(0x99b, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0xf86);
        EXPECT(gbc.pc(), 0x99c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03CD
        gbc.setState(0xc1a5, 0x17a5, 0x530, 0x322f, 0xafd6, 0xf5da, 0x0, 0x1);
        gbc.writeMem(0xc1a5, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x17a5);
        EXPECT(gbc.pc(), 0xc1a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc1a5), 0xf);
        // 0F 03CE
        gbc.setState(0xc872, 0x1a5f, 0x7f70, 0xf0ea, 0x68ce, 0x4e09, 0x1, 0x0);
        gbc.writeMem(0xc872, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbf);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x1a5f);
        EXPECT(gbc.pc(), 0xc873);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xc872), 0xf);
        // 0F 03CF
        gbc.setState(0x447d, 0xcb6b, 0xb1b0, 0xa044, 0x7158, 0xcd2c, 0x0, 0x1);
        gbc.writeMem(0x447d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xcb6b);
        EXPECT(gbc.pc(), 0x447e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03D0
        gbc.setState(0x48a0, 0x3396, 0xf360, 0x183d, 0x357c, 0x5b80, 0x0, 0x0);
        gbc.writeMem(0x48a0, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf9);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x3396);
        EXPECT(gbc.pc(), 0x48a1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03D1
        gbc.setState(0xe52e, 0x8f28, 0x65f0, 0x6ff, 0x21d6, 0xc432, 0x0, 0x1);
        gbc.writeMem(0xe52e, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x8f28);
        EXPECT(gbc.pc(), 0xe52f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xe52e), 0xf);
        // 0F 03D2
        gbc.setState(0x64a1, 0xa0dd, 0x2a90, 0x7845, 0x5c35, 0x7c5b, 0x1, 0x0);
        gbc.writeMem(0x64a1, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xa0dd);
        EXPECT(gbc.pc(), 0x64a2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03D3
        gbc.setState(0x3793, 0xb7c1, 0xd9b0, 0x83ca, 0x4e3d, 0xd4b1, 0x0, 0x0);
        gbc.writeMem(0x3793, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xec);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xb7c1);
        EXPECT(gbc.pc(), 0x3794);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03D4
        gbc.setState(0xd8c4, 0xf063, 0x41b0, 0x14ca, 0xcfc5, 0x843c, 0x0, 0x0);
        gbc.writeMem(0xd8c4, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xf063);
        EXPECT(gbc.pc(), 0xd8c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd8c4), 0xf);
        // 0F 03D5
        gbc.setState(0x481f, 0xc328, 0xe6b0, 0x92c, 0x8bf8, 0x984b, 0x1, 0x0);
        gbc.writeMem(0x481f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x73);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xc328);
        EXPECT(gbc.pc(), 0x4820);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03D6
        gbc.setState(0x53e7, 0x5ce1, 0x97a0, 0x6b01, 0x3864, 0xa45c, 0x0, 0x1);
        gbc.writeMem(0x53e7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0x5ce1);
        EXPECT(gbc.pc(), 0x53e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03D7
        gbc.setState(0x9aac, 0xc611, 0xd1a0, 0x6d93, 0xb4b3, 0x5fc0, 0x0, 0x1);
        gbc.writeMem(0x9aac, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xc611);
        EXPECT(gbc.pc(), 0x9aad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9aac), 0xf);
        // 0F 03D8
        gbc.setState(0x3e61, 0x7120, 0xc940, 0x2233, 0x8cce, 0x6695, 0x1, 0x0);
        gbc.writeMem(0x3e61, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xe4);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x7120);
        EXPECT(gbc.pc(), 0x3e62);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03D9
        gbc.setState(0x6b12, 0xf9c, 0x4410, 0x2e66, 0x72ea, 0xac4e, 0x0, 0x1);
        gbc.writeMem(0x6b12, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0xf9c);
        EXPECT(gbc.pc(), 0x6b13);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03DA
        gbc.setState(0x7250, 0xa559, 0xf50, 0x3fa4, 0xc535, 0x5307, 0x1, 0x0);
        gbc.writeMem(0x7250, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xa559);
        EXPECT(gbc.pc(), 0x7251);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03DB
        gbc.setState(0x18b3, 0xc573, 0xac10, 0x26f1, 0x5817, 0xc4a8, 0x1, 0x0);
        gbc.writeMem(0x18b3, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x56);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xc573);
        EXPECT(gbc.pc(), 0x18b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03DC
        gbc.setState(0x4172, 0x31f4, 0x7b10, 0xea56, 0x43d2, 0x3ad7, 0x0, 0x1);
        gbc.writeMem(0x4172, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xbd);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x31f4);
        EXPECT(gbc.pc(), 0x4173);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03DD
        gbc.setState(0xd23f, 0xdc08, 0x1820, 0x5149, 0xb612, 0x3f3, 0x0, 0x0);
        gbc.writeMem(0xd23f, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xdc08);
        EXPECT(gbc.pc(), 0xd240);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd23f), 0xf);
        // 0F 03DE
        gbc.setState(0xc5db, 0x9216, 0x8ee0, 0xce0, 0xb0da, 0x43c2, 0x1, 0x1);
        gbc.writeMem(0xc5db, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x9216);
        EXPECT(gbc.pc(), 0xc5dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5db), 0xf);
        // 0F 03DF
        gbc.setState(0xa4e7, 0x9247, 0x9d00, 0xfdb9, 0x9c36, 0x39e7, 0x1, 0x1);
        gbc.writeMem(0xa4e7, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xce);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x9247);
        EXPECT(gbc.pc(), 0xa4e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xa4e7), 0xf);
        // 0F 03E0
        gbc.setState(0xbc3c, 0xea4b, 0x4590, 0x6007, 0x60b2, 0xeffc, 0x1, 0x0);
        gbc.writeMem(0xbc3c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xea4b);
        EXPECT(gbc.pc(), 0xbc3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xbc3c), 0xf);
        // 0F 03E1
        gbc.setState(0xd2bf, 0xfd9c, 0xebc0, 0x981, 0xb867, 0xde53, 0x0, 0x1);
        gbc.writeMem(0xd2bf, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf5);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xfd9c);
        EXPECT(gbc.pc(), 0xd2c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0xd2bf), 0xf);
        // 0F 03E2
        gbc.setState(0xed38, 0x9282, 0x9690, 0x4e0e, 0x5c06, 0x6bf8, 0x1, 0x1);
        gbc.writeMem(0xed38, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x4b);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x9282);
        EXPECT(gbc.pc(), 0xed39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed38), 0xf);
        // 0F 03E3
        gbc.setState(0x8f8, 0x2a9d, 0x5970, 0x8e2f, 0x8335, 0x1f80, 0x1, 0x1);
        gbc.writeMem(0x8f8, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x2a9d);
        EXPECT(gbc.pc(), 0x8f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        // 0F 03E4
        gbc.setState(0x1c2d, 0xd35f, 0x68d0, 0x4e29, 0xdaf9, 0x4b37, 0x1, 0x0);
        gbc.writeMem(0x1c2d, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x4e);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xda);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xd35f);
        EXPECT(gbc.pc(), 0x1c2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        // 0F 03E5
        gbc.setState(0x9241, 0xc42b, 0xda0, 0xa55d, 0x9e82, 0xc3e4, 0x0, 0x1);
        gbc.writeMem(0x9241, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xc42b);
        EXPECT(gbc.pc(), 0x9242);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  true);
        EXPECT(gbc.readMem(0x9241), 0xf);
        // 0F 03E6
        gbc.setState(0x9ece, 0x5cfc, 0xc6c0, 0x5ff9, 0xf0c1, 0x486b, 0x0, 0x1);
        gbc.writeMem(0x9ece, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x5cfc);
        EXPECT(gbc.pc(), 0x9ecf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ece), 0xf);
        // 0F 03E7
        gbc.setState(0xa26c, 0x918c, 0x5e00, 0x258f, 0x6929, 0x4e6b, 0x1, 0x1);
        gbc.writeMem(0xa26c, { 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0x2f);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x918c);
        EXPECT(gbc.pc(), 0xa26d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  false);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa26c), 0xf);
    }
}
#endif
