    TEST(gbcemu, opcode_8e) {
        GBCEmu gbc{"", nullptr};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // 8E 0000
        gbc.setState(0x27e7, 0x9c5a, 0xc30, 0x59fa, 0x8, 0xc09e, 0x0, 0x1);
        gbc.writeMem(0x27e7, { 0x8e });
        gbc.writeMem(0xc09e, { 0xf6 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x9c5a, gbc.sp());
        EXPECT(0x27e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf6, gbc.readMem(0xc09e));
        // 8E 0002
        gbc.setState(0x1b2f, 0xa565, 0x3070, 0x8e2e, 0x24b9, 0x9ea4, 0x0, 0x0);
        gbc.writeMem(0x1b2f, { 0x8e });
        gbc.writeMem(0x9ea4, { 0xb5 });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xa565, gbc.sp());
        EXPECT(0x1b30, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb5, gbc.readMem(0x9ea4));
        // 8E 0003
        gbc.setState(0x7f31, 0x3a, 0x9a70, 0x4827, 0xb260, 0xd81b, 0x1, 0x0);
        gbc.writeMem(0x7f31, { 0x8e });
        gbc.writeMem(0xd81b, { 0x1 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x3a, gbc.sp());
        EXPECT(0x7f32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x1, gbc.readMem(0xd81b));
        // 8E 0004
        gbc.setState(0x1bf2, 0x16a9, 0x53e0, 0x5954, 0x23c0, 0x36e8, 0x1, 0x0);
        gbc.writeMem(0x1bf2, { 0x8e });
        gbc.writeMem(0x36e8, { 0x3b });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x16a9, gbc.sp());
        EXPECT(0x1bf3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0005
        gbc.setState(0xa670, 0x9df2, 0x9c60, 0xf7c7, 0xfbdb, 0x54ac, 0x1, 0x1);
        gbc.writeMem(0x54ac, { 0xbc });
        gbc.writeMem(0xa670, { 0x8e });
        gbc.step();
        EXPECT(0x58, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x9df2, gbc.sp());
        EXPECT(0xa671, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa670));
        // 8E 0006
        gbc.setState(0xcbf6, 0x90bd, 0x7de0, 0x54c1, 0xce18, 0xb6d2, 0x0, 0x1);
        gbc.writeMem(0xb6d2, { 0x36 });
        gbc.writeMem(0xcbf6, { 0x8e });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x18, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x90bd, gbc.sp());
        EXPECT(0xcbf7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x36, gbc.readMem(0xb6d2));
        EXPECT(0x8e, gbc.readMem(0xcbf6));
        // 8E 0007
        gbc.setState(0x819b, 0xef4d, 0xdda0, 0x9766, 0xa887, 0x3384, 0x0, 0x1);
        gbc.writeMem(0x3384, { 0x23 });
        gbc.writeMem(0x819b, { 0x8e });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x84, gbc.l());
        EXPECT(0xef4d, gbc.sp());
        EXPECT(0x819c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x819b));
        // 8E 0008
        gbc.setState(0x4749, 0xcbf1, 0x5710, 0x310d, 0x8907, 0x2acd, 0x0, 0x1);
        gbc.writeMem(0x2acd, { 0x20 });
        gbc.writeMem(0x4749, { 0x8e });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0xcbf1, gbc.sp());
        EXPECT(0x474a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0009
        gbc.setState(0x318a, 0xbce2, 0x2d60, 0xdb1b, 0xe10, 0x5533, 0x0, 0x1);
        gbc.writeMem(0x318a, { 0x8e });
        gbc.writeMem(0x5533, { 0x1d });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xbce2, gbc.sp());
        EXPECT(0x318b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 000A
        gbc.setState(0x9c98, 0x207e, 0xc820, 0x1cdc, 0xfa14, 0xe4db, 0x0, 0x1);
        gbc.writeMem(0x9c98, { 0x8e });
        gbc.writeMem(0xe4db, { 0xaa });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x207e, gbc.sp());
        EXPECT(0x9c99, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9c98));
        EXPECT(0xaa, gbc.readMem(0xe4db));
        // 8E 000B
        gbc.setState(0x9b6a, 0xff5b, 0xf530, 0x291d, 0x331e, 0xb1cc, 0x1, 0x1);
        gbc.writeMem(0x9b6a, { 0x8e });
        gbc.writeMem(0xb1cc, { 0xb1 });
        gbc.step();
        EXPECT(0xa7, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xff5b, gbc.sp());
        EXPECT(0x9b6b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9b6a));
        EXPECT(0xb1, gbc.readMem(0xb1cc));
        // 8E 000C
        gbc.setState(0xc733, 0x1aa6, 0x6310, 0x3ce6, 0xb3f, 0x7eba, 0x1, 0x0);
        gbc.writeMem(0x7eba, { 0xde });
        gbc.writeMem(0xc733, { 0x8e });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x3f, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x1aa6, gbc.sp());
        EXPECT(0xc734, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc733));
        // 8E 000D
        gbc.setState(0x22e7, 0x7453, 0xd90, 0x20f7, 0x93ee, 0xb52f, 0x1, 0x0);
        gbc.writeMem(0x22e7, { 0x8e });
        gbc.writeMem(0xb52f, { 0x77 });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xf7, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x7453, gbc.sp());
        EXPECT(0x22e8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x77, gbc.readMem(0xb52f));
        // 8E 000E
        gbc.setState(0xa3d6, 0x4631, 0x430, 0x41d3, 0x28ca, 0x4395, 0x1, 0x1);
        gbc.writeMem(0x4395, { 0xb1 });
        gbc.writeMem(0xa3d6, { 0x8e });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xd3, gbc.c());
        EXPECT(0x28, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0x4631, gbc.sp());
        EXPECT(0xa3d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa3d6));
        // 8E 000F
        gbc.setState(0xc1f, 0x7d66, 0x6210, 0xa368, 0xc07f, 0x50de, 0x1, 0x0);
        gbc.writeMem(0xc1f, { 0x8e });
        gbc.writeMem(0x50de, { 0x35 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x7d66, gbc.sp());
        EXPECT(0xc20, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0010
        gbc.setState(0x7f57, 0x9438, 0x2c10, 0x236, 0xdf42, 0xfcca, 0x0, 0x0);
        gbc.writeMem(0x7f57, { 0x8e });
        gbc.writeMem(0xfcca, { 0xa9 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x9438, gbc.sp());
        EXPECT(0x7f58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xfcca));
        // 8E 0011
        gbc.setState(0xa874, 0xff19, 0x8580, 0x7e9a, 0xa6cc, 0x4651, 0x0, 0x0);
        gbc.writeMem(0x4651, { 0x76 });
        gbc.writeMem(0xa874, { 0x8e });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0xff19, gbc.sp());
        EXPECT(0xa875, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa874));
        // 8E 0012
        gbc.setState(0x9ca, 0x70fb, 0xeac0, 0xff69, 0x46a4, 0x2797, 0x0, 0x0);
        gbc.writeMem(0x9ca, { 0x8e });
        gbc.writeMem(0x2797, { 0xf3 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x70fb, gbc.sp());
        EXPECT(0x9cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0013
        gbc.setState(0x1c4e, 0xa553, 0x1f70, 0x1881, 0xb3bb, 0xdc5c, 0x1, 0x0);
        gbc.writeMem(0x1c4e, { 0x8e });
        gbc.writeMem(0xdc5c, { 0x46 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0xdc, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xa553, gbc.sp());
        EXPECT(0x1c4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x46, gbc.readMem(0xdc5c));
        // 8E 0014
        gbc.setState(0xe7a3, 0xdbb0, 0xe4f0, 0x6041, 0x4936, 0x64ad, 0x0, 0x0);
        gbc.writeMem(0x64ad, { 0x1 });
        gbc.writeMem(0xe7a3, { 0x8e });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xdbb0, gbc.sp());
        EXPECT(0xe7a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe7a3));
        // 8E 0015
        gbc.setState(0xb5ba, 0x2015, 0xba90, 0xfae6, 0x6612, 0x24ba, 0x0, 0x1);
        gbc.writeMem(0x24ba, { 0x4a });
        gbc.writeMem(0xb5ba, { 0x8e });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x2015, gbc.sp());
        EXPECT(0xb5bb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb5ba));
        // 8E 0016
        gbc.setState(0x7353, 0xc8d2, 0xe4f0, 0x8951, 0x70fc, 0x66b8, 0x0, 0x0);
        gbc.writeMem(0x66b8, { 0xa0 });
        gbc.writeMem(0x7353, { 0x8e });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xc8d2, gbc.sp());
        EXPECT(0x7354, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0017
        gbc.setState(0xdf42, 0xddc6, 0xe10, 0xf379, 0xd8ac, 0x5222, 0x1, 0x0);
        gbc.writeMem(0x5222, { 0x2c });
        gbc.writeMem(0xdf42, { 0x8e });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xddc6, gbc.sp());
        EXPECT(0xdf43, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdf42));
        // 8E 0018
        gbc.setState(0xb676, 0xedb4, 0x34e0, 0xd56b, 0xbd3e, 0x851d, 0x1, 0x0);
        gbc.writeMem(0x851d, { 0xf6 });
        gbc.writeMem(0xb676, { 0x8e });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xedb4, gbc.sp());
        EXPECT(0xb677, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf6, gbc.readMem(0x851d));
        EXPECT(0x8e, gbc.readMem(0xb676));
        // 8E 001A
        gbc.setState(0xe5a9, 0xa29c, 0xd790, 0x6c0a, 0xe972, 0xc128, 0x0, 0x1);
        gbc.writeMem(0xc128, { 0xa0 });
        gbc.writeMem(0xe5a9, { 0x8e });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0xa29c, gbc.sp());
        EXPECT(0xe5aa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa0, gbc.readMem(0xc128));
        EXPECT(0x8e, gbc.readMem(0xe5a9));
        // 8E 001B
        gbc.setState(0x1e47, 0x6eb3, 0x77e0, 0x5312, 0x136d, 0x3730, 0x0, 0x1);
        gbc.writeMem(0x1e47, { 0x8e });
        gbc.writeMem(0x3730, { 0x93 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x6eb3, gbc.sp());
        EXPECT(0x1e48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 001C
        gbc.setState(0x5550, 0x5170, 0x2c90, 0x882b, 0x2bb1, 0x4620, 0x0, 0x1);
        gbc.writeMem(0x4620, { 0xcd });
        gbc.writeMem(0x5550, { 0x8e });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x5170, gbc.sp());
        EXPECT(0x5551, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 001D
        gbc.setState(0x8619, 0x1f44, 0x2bc0, 0xee16, 0x9dd3, 0x97d9, 0x0, 0x0);
        gbc.writeMem(0x8619, { 0x8e });
        gbc.writeMem(0x97d9, { 0x9d });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x1f44, gbc.sp());
        EXPECT(0x861a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8619));
        EXPECT(0x9d, gbc.readMem(0x97d9));
        // 8E 001E
        gbc.setState(0x3020, 0x8316, 0x8860, 0xd36, 0xad0b, 0x22bb, 0x1, 0x0);
        gbc.writeMem(0x22bb, { 0x28 });
        gbc.writeMem(0x3020, { 0x8e });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0x8316, gbc.sp());
        EXPECT(0x3021, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 001F
        gbc.setState(0x146b, 0xa225, 0x2000, 0x120d, 0xcee9, 0xca6, 0x1, 0x0);
        gbc.writeMem(0xca6, { 0x68 });
        gbc.writeMem(0x146b, { 0x8e });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xa225, gbc.sp());
        EXPECT(0x146c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0020
        gbc.setState(0x38c5, 0xf249, 0x3950, 0x831f, 0x7762, 0xf726, 0x0, 0x1);
        gbc.writeMem(0x38c5, { 0x8e });
        gbc.writeMem(0xf726, { 0x78 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0xf249, gbc.sp());
        EXPECT(0x38c6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x78, gbc.readMem(0xf726));
        // 8E 0021
        gbc.setState(0xc20e, 0x38fd, 0xd830, 0xcc91, 0xbe10, 0x270a, 0x0, 0x1);
        gbc.writeMem(0x270a, { 0xb8 });
        gbc.writeMem(0xc20e, { 0x8e });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0x38fd, gbc.sp());
        EXPECT(0xc20f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc20e));
        // 8E 0022
        gbc.setState(0x839e, 0xd8f2, 0x3190, 0x4480, 0x7644, 0xc4df, 0x1, 0x0);
        gbc.writeMem(0x839e, { 0x8e });
        gbc.writeMem(0xc4df, { 0x78 });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xd8f2, gbc.sp());
        EXPECT(0x839f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x839e));
        EXPECT(0x78, gbc.readMem(0xc4df));
        // 8E 0023
        gbc.setState(0x8c99, 0x3dc1, 0xf0a0, 0x5fb0, 0xd80f, 0x142d, 0x0, 0x0);
        gbc.writeMem(0x142d, { 0xd5 });
        gbc.writeMem(0x8c99, { 0x8e });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0x3dc1, gbc.sp());
        EXPECT(0x8c9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8c99));
        // 8E 0024
        gbc.setState(0xdae9, 0x5b21, 0xfc90, 0xc219, 0x2641, 0x1355, 0x0, 0x1);
        gbc.writeMem(0x1355, { 0x6d });
        gbc.writeMem(0xdae9, { 0x8e });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x13, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x5b21, gbc.sp());
        EXPECT(0xdaea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdae9));
        // 8E 0025
        gbc.setState(0xdc50, 0x58a9, 0x360, 0x5ceb, 0xa1d7, 0x725f, 0x0, 0x0);
        gbc.writeMem(0x725f, { 0x9e });
        gbc.writeMem(0xdc50, { 0x8e });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0x58a9, gbc.sp());
        EXPECT(0xdc51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdc50));
        // 8E 0026
        gbc.setState(0xcacb, 0x5505, 0xe350, 0x4ce, 0x4b94, 0xb005, 0x0, 0x0);
        gbc.writeMem(0xb005, { 0x67 });
        gbc.writeMem(0xcacb, { 0x8e });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x5505, gbc.sp());
        EXPECT(0xcacc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x67, gbc.readMem(0xb005));
        EXPECT(0x8e, gbc.readMem(0xcacb));
        // 8E 0027
        gbc.setState(0x4bfe, 0x3450, 0x5f10, 0x9008, 0x2ab3, 0xf667, 0x1, 0x1);
        gbc.writeMem(0x4bfe, { 0x8e });
        gbc.writeMem(0xf667, { 0x20 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0x3450, gbc.sp());
        EXPECT(0x4bff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x20, gbc.readMem(0xf667));
        // 8E 0028
        gbc.setState(0x7365, 0x48f9, 0xabc0, 0x5e9d, 0xa7d1, 0x4cb3, 0x1, 0x1);
        gbc.writeMem(0x4cb3, { 0xfb });
        gbc.writeMem(0x7365, { 0x8e });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xb3, gbc.l());
        EXPECT(0x48f9, gbc.sp());
        EXPECT(0x7366, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0029
        gbc.setState(0x596c, 0xebb5, 0xbc60, 0x96b4, 0xd029, 0x6f69, 0x0, 0x1);
        gbc.writeMem(0x596c, { 0x8e });
        gbc.writeMem(0x6f69, { 0xd2 });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xebb5, gbc.sp());
        EXPECT(0x596d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 002A
        gbc.setState(0x5e08, 0x547d, 0x3510, 0x78e1, 0x85ce, 0xd3f1, 0x1, 0x0);
        gbc.writeMem(0x5e08, { 0x8e });
        gbc.writeMem(0xd3f1, { 0x66 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x547d, gbc.sp());
        EXPECT(0x5e09, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x66, gbc.readMem(0xd3f1));
        // 8E 002B
        gbc.setState(0xabe2, 0x2d49, 0xcf80, 0xeac0, 0xfb54, 0xf7e9, 0x1, 0x1);
        gbc.writeMem(0xabe2, { 0x8e });
        gbc.writeMem(0xf7e9, { 0x5c });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xf7, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x2d49, gbc.sp());
        EXPECT(0xabe3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xabe2));
        EXPECT(0x5c, gbc.readMem(0xf7e9));
        // 8E 002C
        gbc.setState(0x876c, 0x76ef, 0x3ff0, 0x87cf, 0xdb7c, 0xbd82, 0x1, 0x0);
        gbc.writeMem(0x876c, { 0x8e });
        gbc.writeMem(0xbd82, { 0x3b });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x76ef, gbc.sp());
        EXPECT(0x876d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x876c));
        EXPECT(0x3b, gbc.readMem(0xbd82));
        // 8E 002D
        gbc.setState(0x4da7, 0x2230, 0xb390, 0x365f, 0x139e, 0xc165, 0x0, 0x0);
        gbc.writeMem(0x4da7, { 0x8e });
        gbc.writeMem(0xc165, { 0x69 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x2230, gbc.sp());
        EXPECT(0x4da8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x69, gbc.readMem(0xc165));
        // 8E 002E
        gbc.setState(0x9e82, 0xdfb8, 0xd6c0, 0x6b94, 0xc7b6, 0xc7f3, 0x1, 0x0);
        gbc.writeMem(0x9e82, { 0x8e });
        gbc.writeMem(0xc7f3, { 0xfc });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xdfb8, gbc.sp());
        EXPECT(0x9e83, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9e82));
        EXPECT(0xfc, gbc.readMem(0xc7f3));
        // 8E 002F
        gbc.setState(0xffa, 0x583d, 0xf0f0, 0x7887, 0xa807, 0x838b, 0x0, 0x1);
        gbc.writeMem(0xffa, { 0x8e });
        gbc.writeMem(0x838b, { 0xf0 });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x583d, gbc.sp());
        EXPECT(0xffb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf0, gbc.readMem(0x838b));
        // 8E 0030
        gbc.setState(0x4dda, 0x97a7, 0xdae0, 0xb673, 0x217d, 0xee8, 0x1, 0x0);
        gbc.writeMem(0xee8, { 0x1f });
        gbc.writeMem(0x4dda, { 0x8e });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x97a7, gbc.sp());
        EXPECT(0x4ddb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0032
        gbc.setState(0xcad0, 0xfeaa, 0x1b40, 0xba44, 0x71e, 0xe80a, 0x0, 0x0);
        gbc.writeMem(0xcad0, { 0x8e });
        gbc.writeMem(0xe80a, { 0xc7 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xba, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xfeaa, gbc.sp());
        EXPECT(0xcad1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xcad0));
        EXPECT(0xc7, gbc.readMem(0xe80a));
        // 8E 0033
        gbc.setState(0x4ae3, 0x4a62, 0x6f30, 0x4c12, 0xb4b2, 0xd320, 0x1, 0x1);
        gbc.writeMem(0x4ae3, { 0x8e });
        gbc.writeMem(0xd320, { 0xa });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x4a62, gbc.sp());
        EXPECT(0x4ae4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa, gbc.readMem(0xd320));
        // 8E 0034
        gbc.setState(0xbb4a, 0xd76, 0x4b20, 0xca12, 0xc894, 0x36e9, 0x1, 0x1);
        gbc.writeMem(0x36e9, { 0xf9 });
        gbc.writeMem(0xbb4a, { 0x8e });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0xd76, gbc.sp());
        EXPECT(0xbb4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xbb4a));
        // 8E 0035
        gbc.setState(0x76d4, 0x7555, 0x39a0, 0x751d, 0xf4c9, 0x889, 0x1, 0x1);
        gbc.writeMem(0x889, { 0x36 });
        gbc.writeMem(0x76d4, { 0x8e });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x89, gbc.l());
        EXPECT(0x7555, gbc.sp());
        EXPECT(0x76d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0036
        gbc.setState(0x22f1, 0xa3f8, 0x5e70, 0x63d8, 0xad4, 0xa830, 0x0, 0x1);
        gbc.writeMem(0x22f1, { 0x8e });
        gbc.writeMem(0xa830, { 0xa7 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xa3f8, gbc.sp());
        EXPECT(0x22f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa7, gbc.readMem(0xa830));
        // 8E 0037
        gbc.setState(0x1fe3, 0x54f7, 0x2d90, 0x603a, 0x2d81, 0xf15b, 0x0, 0x1);
        gbc.writeMem(0x1fe3, { 0x8e });
        gbc.writeMem(0xf15b, { 0xb7 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x54f7, gbc.sp());
        EXPECT(0x1fe4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb7, gbc.readMem(0xf15b));
        // 8E 0039
        gbc.setState(0x156e, 0x6c6c, 0x2600, 0xbe8f, 0x161, 0x38d3, 0x0, 0x1);
        gbc.writeMem(0x156e, { 0x8e });
        gbc.writeMem(0x38d3, { 0x86 });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x6c6c, gbc.sp());
        EXPECT(0x156f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 003A
        gbc.setState(0xd2d8, 0xaf56, 0x40, 0xd024, 0x99b0, 0xb5c0, 0x1, 0x1);
        gbc.writeMem(0xb5c0, { 0x94 });
        gbc.writeMem(0xd2d8, { 0x8e });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xaf56, gbc.sp());
        EXPECT(0xd2d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x94, gbc.readMem(0xb5c0));
        EXPECT(0x8e, gbc.readMem(0xd2d8));
        // 8E 003B
        gbc.setState(0x6b96, 0xa692, 0xab90, 0x8def, 0x4191, 0x703f, 0x1, 0x1);
        gbc.writeMem(0x6b96, { 0x8e });
        gbc.writeMem(0x703f, { 0x97 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x41, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xa692, gbc.sp());
        EXPECT(0x6b97, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 003C
        gbc.setState(0x62bf, 0x541f, 0x2af0, 0x657, 0x17ce, 0x1bf8, 0x1, 0x0);
        gbc.writeMem(0x1bf8, { 0x47 });
        gbc.writeMem(0x62bf, { 0x8e });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x541f, gbc.sp());
        EXPECT(0x62c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 003D
        gbc.setState(0xca06, 0xc454, 0x22c0, 0x2993, 0x3ad8, 0x9f01, 0x1, 0x1);
        gbc.writeMem(0x9f01, { 0xb2 });
        gbc.writeMem(0xca06, { 0x8e });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x1, gbc.l());
        EXPECT(0xc454, gbc.sp());
        EXPECT(0xca07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb2, gbc.readMem(0x9f01));
        EXPECT(0x8e, gbc.readMem(0xca06));
        // 8E 003E
        gbc.setState(0xa219, 0x16e2, 0xcc30, 0xe282, 0xd540, 0xca88, 0x1, 0x1);
        gbc.writeMem(0xa219, { 0x8e });
        gbc.writeMem(0xca88, { 0xb7 });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x16e2, gbc.sp());
        EXPECT(0xa21a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa219));
        EXPECT(0xb7, gbc.readMem(0xca88));
        // 8E 003F
        gbc.setState(0x2d86, 0x37c1, 0x7580, 0x4926, 0xe305, 0xe1fc, 0x1, 0x1);
        gbc.writeMem(0x2d86, { 0x8e });
        gbc.writeMem(0xe1fc, { 0x75 });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x37c1, gbc.sp());
        EXPECT(0x2d87, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x75, gbc.readMem(0xe1fc));
        // 8E 0040
        gbc.setState(0x4af, 0x96b1, 0xa0f0, 0x6163, 0x9a87, 0x12cc, 0x1, 0x0);
        gbc.writeMem(0x4af, { 0x8e });
        gbc.writeMem(0x12cc, { 0x75 });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x96b1, gbc.sp());
        EXPECT(0x4b0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0041
        gbc.setState(0xdc1e, 0x3580, 0x2500, 0xd22f, 0x725d, 0x45c1, 0x1, 0x1);
        gbc.writeMem(0x45c1, { 0xf2 });
        gbc.writeMem(0xdc1e, { 0x8e });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x3580, gbc.sp());
        EXPECT(0xdc1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdc1e));
        // 8E 0042
        gbc.setState(0xd670, 0xda4, 0xf480, 0x5fd, 0xf8c6, 0x6eab, 0x1, 0x0);
        gbc.writeMem(0x6eab, { 0xa9 });
        gbc.writeMem(0xd670, { 0x8e });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xfd, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xda4, gbc.sp());
        EXPECT(0xd671, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd670));
        // 8E 0043
        gbc.setState(0x44a5, 0x4cdb, 0x41e0, 0x94b4, 0x93b8, 0xd88c, 0x1, 0x1);
        gbc.writeMem(0x44a5, { 0x8e });
        gbc.writeMem(0xd88c, { 0x8f });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x4cdb, gbc.sp());
        EXPECT(0x44a6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8f, gbc.readMem(0xd88c));
        // 8E 0044
        gbc.setState(0xe79a, 0x1880, 0xee70, 0x32df, 0xef10, 0x293a, 0x0, 0x1);
        gbc.writeMem(0x293a, { 0xcf });
        gbc.writeMem(0xe79a, { 0x8e });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x1880, gbc.sp());
        EXPECT(0xe79b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe79a));
        // 8E 0045
        gbc.setState(0x84c9, 0x5c52, 0xd490, 0xec0e, 0xf8ea, 0x7117, 0x0, 0x1);
        gbc.writeMem(0x7117, { 0x56 });
        gbc.writeMem(0x84c9, { 0x8e });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x5c52, gbc.sp());
        EXPECT(0x84ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x84c9));
        // 8E 0046
        gbc.setState(0xdee, 0x4766, 0x6f10, 0xb8a, 0x1f8b, 0x8727, 0x1, 0x1);
        gbc.writeMem(0xdee, { 0x8e });
        gbc.writeMem(0x8727, { 0x11 });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x4766, gbc.sp());
        EXPECT(0xdef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x11, gbc.readMem(0x8727));
        // 8E 0047
        gbc.setState(0x9980, 0x6d47, 0xb010, 0xd15d, 0x8c9d, 0x96ce, 0x1, 0x1);
        gbc.writeMem(0x96ce, { 0x27 });
        gbc.writeMem(0x9980, { 0x8e });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x6d47, gbc.sp());
        EXPECT(0x9981, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x27, gbc.readMem(0x96ce));
        EXPECT(0x8e, gbc.readMem(0x9980));
        // 8E 0048
        gbc.setState(0x7d40, 0xfe73, 0x8220, 0xbdec, 0x1dbf, 0x4198, 0x1, 0x0);
        gbc.writeMem(0x4198, { 0xcf });
        gbc.writeMem(0x7d40, { 0x8e });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xfe73, gbc.sp());
        EXPECT(0x7d41, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 004A
        gbc.setState(0xd109, 0xfe8b, 0xd4f0, 0xb12, 0x379d, 0x3e8f, 0x1, 0x0);
        gbc.writeMem(0x3e8f, { 0x65 });
        gbc.writeMem(0xd109, { 0x8e });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xfe8b, gbc.sp());
        EXPECT(0xd10a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd109));
        // 8E 004B
        gbc.setState(0x2e9, 0xe6d2, 0x7de0, 0x1198, 0xa45f, 0x5555, 0x0, 0x1);
        gbc.writeMem(0x2e9, { 0x8e });
        gbc.writeMem(0x5555, { 0x6b });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xe6d2, gbc.sp());
        EXPECT(0x2ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 004C
        gbc.setState(0x669d, 0x4201, 0xa780, 0x3777, 0xec80, 0x476c, 0x1, 0x1);
        gbc.writeMem(0x476c, { 0x82 });
        gbc.writeMem(0x669d, { 0x8e });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x4201, gbc.sp());
        EXPECT(0x669e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 004D
        gbc.setState(0x519, 0x7212, 0x9a80, 0x9261, 0x1998, 0xdd08, 0x0, 0x1);
        gbc.writeMem(0x519, { 0x8e });
        gbc.writeMem(0xdd08, { 0x18 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x7212, gbc.sp());
        EXPECT(0x51a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x18, gbc.readMem(0xdd08));
        // 8E 004E
        gbc.setState(0xebc0, 0xa6e5, 0xdc60, 0xeab8, 0x76e1, 0x4c73, 0x1, 0x0);
        gbc.writeMem(0x4c73, { 0xbc });
        gbc.writeMem(0xebc0, { 0x8e });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xa6e5, gbc.sp());
        EXPECT(0xebc1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xebc0));
        // 8E 004F
        gbc.setState(0x17ea, 0xa957, 0xa610, 0x221a, 0xa813, 0x1e41, 0x1, 0x0);
        gbc.writeMem(0x17ea, { 0x8e });
        gbc.writeMem(0x1e41, { 0xf7 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0xa957, gbc.sp());
        EXPECT(0x17eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0050
        gbc.setState(0x9d58, 0x6487, 0x74a0, 0x22ad, 0x1633, 0x1720, 0x1, 0x1);
        gbc.writeMem(0x1720, { 0x68 });
        gbc.writeMem(0x9d58, { 0x8e });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x6487, gbc.sp());
        EXPECT(0x9d59, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9d58));
        // 8E 0051
        gbc.setState(0x1ef4, 0x4b33, 0x1180, 0x831, 0xf882, 0x34c0, 0x0, 0x1);
        gbc.writeMem(0x1ef4, { 0x8e });
        gbc.writeMem(0x34c0, { 0x66 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x4b33, gbc.sp());
        EXPECT(0x1ef5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0052
        gbc.setState(0xede3, 0x8678, 0xc270, 0x675d, 0xac1c, 0x98a8, 0x0, 0x0);
        gbc.writeMem(0x98a8, { 0x3c });
        gbc.writeMem(0xede3, { 0x8e });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x8678, gbc.sp());
        EXPECT(0xede4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3c, gbc.readMem(0x98a8));
        EXPECT(0x8e, gbc.readMem(0xede3));
        // 8E 0053
        gbc.setState(0x34b5, 0xd5ef, 0xc540, 0xbfe7, 0x6f41, 0x86ae, 0x0, 0x1);
        gbc.writeMem(0x34b5, { 0x8e });
        gbc.writeMem(0x86ae, { 0x76 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0xd5ef, gbc.sp());
        EXPECT(0x34b6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x76, gbc.readMem(0x86ae));
        // 8E 0054
        gbc.setState(0x51b3, 0x13c1, 0x9f80, 0x2476, 0xaaed, 0x7c51, 0x0, 0x1);
        gbc.writeMem(0x51b3, { 0x8e });
        gbc.writeMem(0x7c51, { 0xf });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x13c1, gbc.sp());
        EXPECT(0x51b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0055
        gbc.setState(0xe74f, 0x714d, 0x9920, 0x2e0d, 0xc12a, 0x6380, 0x1, 0x0);
        gbc.writeMem(0x6380, { 0xb8 });
        gbc.writeMem(0xe74f, { 0x8e });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x714d, gbc.sp());
        EXPECT(0xe750, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe74f));
        // 8E 0056
        gbc.setState(0xa479, 0x718d, 0x1250, 0x8ec, 0x2bc4, 0x8b54, 0x1, 0x0);
        gbc.writeMem(0x8b54, { 0xcb });
        gbc.writeMem(0xa479, { 0x8e });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x718d, gbc.sp());
        EXPECT(0xa47a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0x8b54));
        EXPECT(0x8e, gbc.readMem(0xa479));
        // 8E 0057
        gbc.setState(0xe876, 0xc708, 0xb2b0, 0x7dc4, 0x8fb6, 0x3b3b, 0x1, 0x1);
        gbc.writeMem(0x3b3b, { 0x2 });
        gbc.writeMem(0xe876, { 0x8e });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xc708, gbc.sp());
        EXPECT(0xe877, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe876));
        // 8E 0059
        gbc.setState(0x9366, 0x24eb, 0x970, 0xaeed, 0x86d7, 0xd631, 0x1, 0x0);
        gbc.writeMem(0x9366, { 0x8e });
        gbc.writeMem(0xd631, { 0x5d });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x24eb, gbc.sp());
        EXPECT(0x9367, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9366));
        EXPECT(0x5d, gbc.readMem(0xd631));
        // 8E 005A
        gbc.setState(0x7579, 0x6804, 0xec0, 0xfc23, 0x2e08, 0x32ad, 0x1, 0x0);
        gbc.writeMem(0x32ad, { 0x7 });
        gbc.writeMem(0x7579, { 0x8e });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x6804, gbc.sp());
        EXPECT(0x757a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 005B
        gbc.setState(0x131c, 0xd6f7, 0xff80, 0x51b6, 0xd553, 0x15, 0x1, 0x1);
        gbc.writeMem(0x15, { 0x33 });
        gbc.writeMem(0x131c, { 0x8e });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x51, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0xd6f7, gbc.sp());
        EXPECT(0x131d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 005C
        gbc.setState(0x5cb4, 0x2c93, 0xfee0, 0xd395, 0xefce, 0x9254, 0x0, 0x1);
        gbc.writeMem(0x5cb4, { 0x8e });
        gbc.writeMem(0x9254, { 0xb8 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x2c93, gbc.sp());
        EXPECT(0x5cb5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb8, gbc.readMem(0x9254));
        // 8E 005D
        gbc.setState(0xd1be, 0x2790, 0x7740, 0x393e, 0x7756, 0x6322, 0x1, 0x0);
        gbc.writeMem(0x6322, { 0x54 });
        gbc.writeMem(0xd1be, { 0x8e });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x3e, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x2790, gbc.sp());
        EXPECT(0xd1bf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd1be));
        // 8E 005E
        gbc.setState(0x2d69, 0x16f2, 0xc2e0, 0x761f, 0x928d, 0x58ab, 0x1, 0x0);
        gbc.writeMem(0x2d69, { 0x8e });
        gbc.writeMem(0x58ab, { 0x8c });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x16f2, gbc.sp());
        EXPECT(0x2d6a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 005F
        gbc.setState(0x2497, 0x7b5, 0xa810, 0x5fbe, 0x6917, 0x2b9a, 0x0, 0x1);
        gbc.writeMem(0x2497, { 0x8e });
        gbc.writeMem(0x2b9a, { 0x1a });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0x7b5, gbc.sp());
        EXPECT(0x2498, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0060
        gbc.setState(0x88f, 0xfdc8, 0x53c0, 0x7138, 0x1d4f, 0xa0e4, 0x1, 0x0);
        gbc.writeMem(0x88f, { 0x8e });
        gbc.writeMem(0xa0e4, { 0x13 });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xfdc8, gbc.sp());
        EXPECT(0x890, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x13, gbc.readMem(0xa0e4));
        // 8E 0061
        gbc.setState(0x4f10, 0xa143, 0xf2a0, 0x181c, 0xa400, 0x78fe, 0x0, 0x0);
        gbc.writeMem(0x4f10, { 0x8e });
        gbc.writeMem(0x78fe, { 0xe6 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0xa143, gbc.sp());
        EXPECT(0x4f11, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0062
        gbc.setState(0x87c0, 0xe7f, 0x41c0, 0xa00f, 0xe047, 0x885e, 0x0, 0x1);
        gbc.writeMem(0x87c0, { 0x8e });
        gbc.writeMem(0x885e, { 0x9 });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xe7f, gbc.sp());
        EXPECT(0x87c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x87c0));
        EXPECT(0x9, gbc.readMem(0x885e));
        // 8E 0063
        gbc.setState(0xb9ed, 0xb298, 0xf8c0, 0x678c, 0xa10c, 0x64c9, 0x0, 0x0);
        gbc.writeMem(0x64c9, { 0xad });
        gbc.writeMem(0xb9ed, { 0x8e });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0xb298, gbc.sp());
        EXPECT(0xb9ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb9ed));
        // 8E 0064
        gbc.setState(0x85c8, 0xc849, 0xf300, 0xed63, 0xcdd6, 0x7d2c, 0x0, 0x0);
        gbc.writeMem(0x7d2c, { 0x44 });
        gbc.writeMem(0x85c8, { 0x8e });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0xc849, gbc.sp());
        EXPECT(0x85c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x85c8));
        // 8E 0065
        gbc.setState(0x3a9f, 0xd774, 0x58d0, 0xab11, 0xd22f, 0x220f, 0x1, 0x0);
        gbc.writeMem(0x220f, { 0x29 });
        gbc.writeMem(0x3a9f, { 0x8e });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xd774, gbc.sp());
        EXPECT(0x3aa0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0066
        gbc.setState(0x4b04, 0xf0c1, 0xfef0, 0xd204, 0x89a, 0x6b85, 0x1, 0x0);
        gbc.writeMem(0x4b04, { 0x8e });
        gbc.writeMem(0x6b85, { 0x56 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xf0c1, gbc.sp());
        EXPECT(0x4b05, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0067
        gbc.setState(0x2570, 0x22a9, 0xf410, 0xbecb, 0x3acf, 0x371a, 0x0, 0x1);
        gbc.writeMem(0x2570, { 0x8e });
        gbc.writeMem(0x371a, { 0x78 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x22a9, gbc.sp());
        EXPECT(0x2571, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0068
        gbc.setState(0xd8df, 0xb38d, 0x6c70, 0x3e69, 0x9772, 0x4844, 0x0, 0x1);
        gbc.writeMem(0x4844, { 0x4 });
        gbc.writeMem(0xd8df, { 0x8e });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xb38d, gbc.sp());
        EXPECT(0xd8e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd8df));
        // 8E 0069
        gbc.setState(0x8b9d, 0x41d4, 0x5ca0, 0xd98a, 0xd47d, 0x46ca, 0x0, 0x1);
        gbc.writeMem(0x46ca, { 0x15 });
        gbc.writeMem(0x8b9d, { 0x8e });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x41d4, gbc.sp());
        EXPECT(0x8b9e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8b9d));
        // 8E 006A
        gbc.setState(0x1ac5, 0xba6a, 0xa9e0, 0xda4f, 0x2380, 0xb96d, 0x1, 0x1);
        gbc.writeMem(0x1ac5, { 0x8e });
        gbc.writeMem(0xb96d, { 0x8a });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0xba6a, gbc.sp());
        EXPECT(0x1ac6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8a, gbc.readMem(0xb96d));
        // 8E 006B
        gbc.setState(0xe169, 0xa1ae, 0xa1e0, 0xc468, 0xb5a3, 0xb0b2, 0x1, 0x1);
        gbc.writeMem(0xb0b2, { 0xb2 });
        gbc.writeMem(0xe169, { 0x8e });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xa1ae, gbc.sp());
        EXPECT(0xe16a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb2, gbc.readMem(0xb0b2));
        EXPECT(0x8e, gbc.readMem(0xe169));
        // 8E 006C
        gbc.setState(0x77c8, 0xd0a2, 0xf0d0, 0x6191, 0x6da1, 0x15f4, 0x0, 0x0);
        gbc.writeMem(0x15f4, { 0x4 });
        gbc.writeMem(0x77c8, { 0x8e });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xd0a2, gbc.sp());
        EXPECT(0x77c9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 006D
        gbc.setState(0x9e, 0x9f37, 0x8980, 0x3e83, 0x8c9, 0x208f, 0x1, 0x0);
        gbc.writeMem(0x9e, { 0x8e });
        gbc.writeMem(0x208f, { 0xbb });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x3e, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0x9f37, gbc.sp());
        EXPECT(0x9f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 006E
        gbc.setState(0x3a48, 0xfd2a, 0xbd40, 0xca7a, 0xf68, 0x73dd, 0x0, 0x0);
        gbc.writeMem(0x3a48, { 0x8e });
        gbc.writeMem(0x73dd, { 0xd4 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xfd2a, gbc.sp());
        EXPECT(0x3a49, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 006F
        gbc.setState(0x5303, 0x569e, 0xc630, 0x725d, 0x2bb0, 0x9607, 0x0, 0x1);
        gbc.writeMem(0x5303, { 0x8e });
        gbc.writeMem(0x9607, { 0x2a });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x569e, gbc.sp());
        EXPECT(0x5304, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x2a, gbc.readMem(0x9607));
        // 8E 0070
        gbc.setState(0x7bcf, 0xe5f2, 0xd10, 0x198e, 0xd638, 0xd978, 0x0, 0x0);
        gbc.writeMem(0x7bcf, { 0x8e });
        gbc.writeMem(0xd978, { 0x56 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0xe5f2, gbc.sp());
        EXPECT(0x7bd0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x56, gbc.readMem(0xd978));
        // 8E 0071
        gbc.setState(0x2333, 0x2535, 0xcac0, 0xefa4, 0x4c8a, 0x85aa, 0x0, 0x0);
        gbc.writeMem(0x2333, { 0x8e });
        gbc.writeMem(0x85aa, { 0x92 });
        gbc.step();
        EXPECT(0x5c, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0x2535, gbc.sp());
        EXPECT(0x2334, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x92, gbc.readMem(0x85aa));
        // 8E 0072
        gbc.setState(0xcaf7, 0x899d, 0x6930, 0x8b9d, 0xfaa4, 0xa908, 0x1, 0x0);
        gbc.writeMem(0xa908, { 0xb6 });
        gbc.writeMem(0xcaf7, { 0x8e });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x899d, gbc.sp());
        EXPECT(0xcaf8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb6, gbc.readMem(0xa908));
        EXPECT(0x8e, gbc.readMem(0xcaf7));
        // 8E 0073
        gbc.setState(0x75, 0x2d66, 0x30c0, 0x9dbf, 0xc7e7, 0x5a18, 0x0, 0x0);
        gbc.writeMem(0x75, { 0x8e });
        gbc.writeMem(0x5a18, { 0xbb });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x2d66, gbc.sp());
        EXPECT(0x76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0074
        gbc.setState(0x2b45, 0xd8a1, 0x2f20, 0x2b6c, 0xa4d9, 0xe248, 0x0, 0x0);
        gbc.writeMem(0x2b45, { 0x8e });
        gbc.writeMem(0xe248, { 0x7b });
        gbc.step();
        EXPECT(0xaa, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xd8a1, gbc.sp());
        EXPECT(0x2b46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x7b, gbc.readMem(0xe248));
        // 8E 0076
        gbc.setState(0x21cc, 0x759a, 0x3f50, 0x14a5, 0xdcaa, 0x46d6, 0x0, 0x1);
        gbc.writeMem(0x21cc, { 0x8e });
        gbc.writeMem(0x46d6, { 0x6d });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x759a, gbc.sp());
        EXPECT(0x21cd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0077
        gbc.setState(0x50e5, 0x2a4f, 0x17b0, 0x80b5, 0xbedb, 0xc8cd, 0x1, 0x0);
        gbc.writeMem(0x50e5, { 0x8e });
        gbc.writeMem(0xc8cd, { 0x64 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xb5, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x2a4f, gbc.sp());
        EXPECT(0x50e6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x64, gbc.readMem(0xc8cd));
        // 8E 0078
        gbc.setState(0xd886, 0x2c4b, 0x2af0, 0x37c0, 0x403, 0x27e2, 0x1, 0x0);
        gbc.writeMem(0x27e2, { 0x5e });
        gbc.writeMem(0xd886, { 0x8e });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xc0, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x2c4b, gbc.sp());
        EXPECT(0xd887, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd886));
        // 8E 0079
        gbc.setState(0x36a7, 0x2e90, 0xba0, 0xfbd2, 0x51b7, 0x67c8, 0x0, 0x1);
        gbc.writeMem(0x36a7, { 0x8e });
        gbc.writeMem(0x67c8, { 0x1e });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x2e90, gbc.sp());
        EXPECT(0x36a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 007A
        gbc.setState(0x9217, 0x200e, 0xaa90, 0x1cb0, 0x9c81, 0xda99, 0x0, 0x0);
        gbc.writeMem(0x9217, { 0x8e });
        gbc.writeMem(0xda99, { 0x0 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x99, gbc.l());
        EXPECT(0x200e, gbc.sp());
        EXPECT(0x9218, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9217));
        EXPECT(0x0, gbc.readMem(0xda99));
        // 8E 007B
        gbc.setState(0x4483, 0xeba6, 0x9b80, 0x3060, 0x148, 0xbca8, 0x0, 0x1);
        gbc.writeMem(0x4483, { 0x8e });
        gbc.writeMem(0xbca8, { 0xdf });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xeba6, gbc.sp());
        EXPECT(0x4484, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xdf, gbc.readMem(0xbca8));
        // 8E 007C
        gbc.setState(0x47c9, 0x5a51, 0x1470, 0x7bac, 0xbdbe, 0xb72a, 0x0, 0x1);
        gbc.writeMem(0x47c9, { 0x8e });
        gbc.writeMem(0xb72a, { 0x4a });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x5a51, gbc.sp());
        EXPECT(0x47ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x4a, gbc.readMem(0xb72a));
        // 8E 007D
        gbc.setState(0x2626, 0xdc2, 0x6090, 0x930c, 0x8240, 0xae31, 0x1, 0x0);
        gbc.writeMem(0x2626, { 0x8e });
        gbc.writeMem(0xae31, { 0xd0 });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0xdc2, gbc.sp());
        EXPECT(0x2627, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd0, gbc.readMem(0xae31));
        // 8E 007E
        gbc.setState(0x2175, 0x6158, 0x6070, 0x49ed, 0xb43c, 0x1e1d, 0x0, 0x1);
        gbc.writeMem(0x1e1d, { 0x4d });
        gbc.writeMem(0x2175, { 0x8e });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x6158, gbc.sp());
        EXPECT(0x2176, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 007F
        gbc.setState(0xa8ce, 0xecd4, 0xcc10, 0xcead, 0x7370, 0x369b, 0x1, 0x0);
        gbc.writeMem(0x369b, { 0xcd });
        gbc.writeMem(0xa8ce, { 0x8e });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xecd4, gbc.sp());
        EXPECT(0xa8cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa8ce));
        // 8E 0080
        gbc.setState(0x2230, 0xf458, 0x3900, 0x11b8, 0x7060, 0x66f0, 0x0, 0x1);
        gbc.writeMem(0x2230, { 0x8e });
        gbc.writeMem(0x66f0, { 0x16 });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xf458, gbc.sp());
        EXPECT(0x2231, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0081
        gbc.setState(0x22d8, 0xe598, 0x65d0, 0xc4c6, 0xf9c3, 0x4fe7, 0x1, 0x0);
        gbc.writeMem(0x22d8, { 0x8e });
        gbc.writeMem(0x4fe7, { 0x45 });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xe598, gbc.sp());
        EXPECT(0x22d9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0082
        gbc.setState(0xc43, 0xe926, 0xecd0, 0x18cd, 0x769e, 0x9180, 0x1, 0x1);
        gbc.writeMem(0xc43, { 0x8e });
        gbc.writeMem(0x9180, { 0x72 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xe926, gbc.sp());
        EXPECT(0xc44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x72, gbc.readMem(0x9180));
        // 8E 0083
        gbc.setState(0x42f1, 0xb47, 0xc8d0, 0xe286, 0x46c6, 0x8d87, 0x0, 0x0);
        gbc.writeMem(0x42f1, { 0x8e });
        gbc.writeMem(0x8d87, { 0xdc });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0xb47, gbc.sp());
        EXPECT(0x42f2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xdc, gbc.readMem(0x8d87));
        // 8E 0085
        gbc.setState(0x4507, 0x9519, 0xff90, 0x163a, 0xa67b, 0x548, 0x0, 0x0);
        gbc.writeMem(0x548, { 0x43 });
        gbc.writeMem(0x4507, { 0x8e });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0xa6, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x9519, gbc.sp());
        EXPECT(0x4508, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0086
        gbc.setState(0xd8, 0xd154, 0x7440, 0xb0c6, 0xfc3, 0xd798, 0x1, 0x0);
        gbc.writeMem(0xd8, { 0x8e });
        gbc.writeMem(0xd798, { 0x6a });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xd7, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xd154, gbc.sp());
        EXPECT(0xd9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6a, gbc.readMem(0xd798));
        // 8E 0087
        gbc.setState(0x27bf, 0xa7c1, 0x5350, 0xb893, 0x9988, 0x6b9d, 0x0, 0x0);
        gbc.writeMem(0x27bf, { 0x8e });
        gbc.writeMem(0x6b9d, { 0x9c });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0xa7c1, gbc.sp());
        EXPECT(0x27c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0088
        gbc.setState(0x9fef, 0x672f, 0x88b0, 0x4b98, 0x8d1f, 0x2d72, 0x1, 0x1);
        gbc.writeMem(0x2d72, { 0xc3 });
        gbc.writeMem(0x9fef, { 0x8e });
        gbc.step();
        EXPECT(0x4c, gbc.a());
        EXPECT(0x4b, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x8d, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x672f, gbc.sp());
        EXPECT(0x9ff0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9fef));
        // 8E 0089
        gbc.setState(0x4fdd, 0x2bee, 0x7060, 0x4389, 0x8b78, 0x213c, 0x1, 0x0);
        gbc.writeMem(0x213c, { 0xbc });
        gbc.writeMem(0x4fdd, { 0x8e });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x2bee, gbc.sp());
        EXPECT(0x4fde, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 008A
        gbc.setState(0xe327, 0xa07, 0xabe0, 0x580f, 0x60fc, 0x7a2e, 0x0, 0x1);
        gbc.writeMem(0x7a2e, { 0x2f });
        gbc.writeMem(0xe327, { 0x8e });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xa07, gbc.sp());
        EXPECT(0xe328, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe327));
        // 8E 008B
        gbc.setState(0x7d1e, 0x8a23, 0x2500, 0xa02b, 0xebdf, 0x7a5c, 0x1, 0x1);
        gbc.writeMem(0x7a5c, { 0x64 });
        gbc.writeMem(0x7d1e, { 0x8e });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x8a23, gbc.sp());
        EXPECT(0x7d1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 008C
        gbc.setState(0x7673, 0xf20e, 0xcd40, 0x63fa, 0xb11f, 0x632d, 0x0, 0x0);
        gbc.writeMem(0x632d, { 0xfc });
        gbc.writeMem(0x7673, { 0x8e });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x63, gbc.h());
        EXPECT(0x2d, gbc.l());
        EXPECT(0xf20e, gbc.sp());
        EXPECT(0x7674, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 008D
        gbc.setState(0x42, 0x5287, 0xbd90, 0x95bf, 0x3cdd, 0xe182, 0x0, 0x0);
        gbc.writeMem(0x42, { 0x8e });
        gbc.writeMem(0xe182, { 0x55 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x5287, gbc.sp());
        EXPECT(0x43, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x55, gbc.readMem(0xe182));
        // 8E 008E
        gbc.setState(0x3cf7, 0x382d, 0x2700, 0x1a19, 0xf259, 0x4c72, 0x1, 0x0);
        gbc.writeMem(0x3cf7, { 0x8e });
        gbc.writeMem(0x4c72, { 0xe4 });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x382d, gbc.sp());
        EXPECT(0x3cf8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 008F
        gbc.setState(0x5ab4, 0x936b, 0x3920, 0x7a8d, 0x43a5, 0xfe0c, 0x0, 0x0);
        gbc.writeMem(0x5ab4, { 0x8e });
        gbc.writeMem(0xfe0c, { 0x65 });
        gbc.step();
        EXPECT(0x9e, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x936b, gbc.sp());
        EXPECT(0x5ab5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x65, gbc.readMem(0xfe0c));
        // 8E 0090
        gbc.setState(0xdbde, 0x8461, 0xe120, 0x6be4, 0xbc47, 0x6772, 0x0, 0x1);
        gbc.writeMem(0x6772, { 0xa });
        gbc.writeMem(0xdbde, { 0x8e });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x8461, gbc.sp());
        EXPECT(0xdbdf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdbde));
        // 8E 0091
        gbc.setState(0x985e, 0xb7e3, 0x1730, 0x3cfe, 0xc576, 0x8a98, 0x1, 0x1);
        gbc.writeMem(0x8a98, { 0x91 });
        gbc.writeMem(0x985e, { 0x8e });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xb7e3, gbc.sp());
        EXPECT(0x985f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x91, gbc.readMem(0x8a98));
        EXPECT(0x8e, gbc.readMem(0x985e));
        // 8E 0092
        gbc.setState(0x37c8, 0xb12b, 0x5460, 0x36ef, 0xf21, 0x3e00, 0x1, 0x1);
        gbc.writeMem(0x37c8, { 0x8e });
        gbc.writeMem(0x3e00, { 0x43 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xb12b, gbc.sp());
        EXPECT(0x37c9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0093
        gbc.setState(0x2bce, 0x2dce, 0xf920, 0x8f15, 0x6810, 0x10d, 0x0, 0x1);
        gbc.writeMem(0x10d, { 0x6c });
        gbc.writeMem(0x2bce, { 0x8e });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x2dce, gbc.sp());
        EXPECT(0x2bcf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0094
        gbc.setState(0xcb92, 0x53d, 0x1170, 0xed6d, 0x605b, 0x4746, 0x1, 0x0);
        gbc.writeMem(0x4746, { 0x50 });
        gbc.writeMem(0xcb92, { 0x8e });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x53d, gbc.sp());
        EXPECT(0xcb93, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xcb92));
        // 8E 0095
        gbc.setState(0xaa8a, 0xc74a, 0x4ee0, 0x9b80, 0xa9f2, 0x37df, 0x0, 0x0);
        gbc.writeMem(0x37df, { 0x0 });
        gbc.writeMem(0xaa8a, { 0x8e });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xf2, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xc74a, gbc.sp());
        EXPECT(0xaa8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xaa8a));
        // 8E 0096
        gbc.setState(0x4e69, 0x1143, 0xbf0, 0xbbe7, 0x5025, 0x8726, 0x0, 0x1);
        gbc.writeMem(0x4e69, { 0x8e });
        gbc.writeMem(0x8726, { 0x99 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x1143, gbc.sp());
        EXPECT(0x4e6a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x99, gbc.readMem(0x8726));
        // 8E 0097
        gbc.setState(0x20da, 0xc8b, 0xc140, 0x54d6, 0x5b4e, 0xc6af, 0x1, 0x0);
        gbc.writeMem(0x20da, { 0x8e });
        gbc.writeMem(0xc6af, { 0x1f });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xc8b, gbc.sp());
        EXPECT(0x20db, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x1f, gbc.readMem(0xc6af));
        // 8E 0098
        gbc.setState(0x49d9, 0x6d3b, 0xb2a0, 0x459d, 0x829d, 0x7752, 0x0, 0x0);
        gbc.writeMem(0x49d9, { 0x8e });
        gbc.writeMem(0x7752, { 0x4c });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x6d3b, gbc.sp());
        EXPECT(0x49da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0099
        gbc.setState(0xc83f, 0x5d52, 0xd20, 0x145b, 0x7a88, 0xd396, 0x1, 0x0);
        gbc.writeMem(0xc83f, { 0x8e });
        gbc.writeMem(0xd396, { 0x84 });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x14, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x5d52, gbc.sp());
        EXPECT(0xc840, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc83f));
        EXPECT(0x84, gbc.readMem(0xd396));
        // 8E 009A
        gbc.setState(0x6919, 0xc853, 0x2110, 0x3a0c, 0xd4d8, 0x6daa, 0x0, 0x1);
        gbc.writeMem(0x6919, { 0x8e });
        gbc.writeMem(0x6daa, { 0x8d });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xc853, gbc.sp());
        EXPECT(0x691a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 009B
        gbc.setState(0xe283, 0x7660, 0xe630, 0xf026, 0xeae5, 0x7dc0, 0x1, 0x1);
        gbc.writeMem(0x7dc0, { 0x23 });
        gbc.writeMem(0xe283, { 0x8e });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x7660, gbc.sp());
        EXPECT(0xe284, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe283));
        // 8E 009C
        gbc.setState(0x41d3, 0x8c65, 0xe330, 0x5447, 0xf155, 0x243, 0x0, 0x1);
        gbc.writeMem(0x243, { 0x3a });
        gbc.writeMem(0x41d3, { 0x8e });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x47, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x8c65, gbc.sp());
        EXPECT(0x41d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 009D
        gbc.setState(0x6b5b, 0xb895, 0xd280, 0x8361, 0x67c5, 0x9108, 0x1, 0x1);
        gbc.writeMem(0x6b5b, { 0x8e });
        gbc.writeMem(0x9108, { 0xd7 });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0xb895, gbc.sp());
        EXPECT(0x6b5c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd7, gbc.readMem(0x9108));
        // 8E 009E
        gbc.setState(0xe9a6, 0xf639, 0xdba0, 0xc8c6, 0x9afa, 0xaeb2, 0x0, 0x1);
        gbc.writeMem(0xaeb2, { 0x8 });
        gbc.writeMem(0xe9a6, { 0x8e });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xf639, gbc.sp());
        EXPECT(0xe9a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8, gbc.readMem(0xaeb2));
        EXPECT(0x8e, gbc.readMem(0xe9a6));
        // 8E 009F
        gbc.setState(0x4788, 0x3ea, 0x9ae0, 0xe61b, 0xd944, 0xf93c, 0x0, 0x0);
        gbc.writeMem(0x4788, { 0x8e });
        gbc.writeMem(0xf93c, { 0x4a });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x3ea, gbc.sp());
        EXPECT(0x4789, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x4a, gbc.readMem(0xf93c));
        // 8E 00A0
        gbc.setState(0x9a7a, 0x7fea, 0xbc20, 0xada7, 0xa1da, 0x30ba, 0x0, 0x0);
        gbc.writeMem(0x30ba, { 0xe6 });
        gbc.writeMem(0x9a7a, { 0x8e });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0x7fea, gbc.sp());
        EXPECT(0x9a7b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9a7a));
        // 8E 00A1
        gbc.setState(0x369c, 0xe8ef, 0x2850, 0xc033, 0xa87a, 0xd1d, 0x0, 0x0);
        gbc.writeMem(0xd1d, { 0xf2 });
        gbc.writeMem(0x369c, { 0x8e });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0xe8ef, gbc.sp());
        EXPECT(0x369d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 00A2
        gbc.setState(0xac26, 0x4b0b, 0xf8f0, 0x1b12, 0x13c7, 0x573, 0x1, 0x0);
        gbc.writeMem(0x573, { 0x5d });
        gbc.writeMem(0xac26, { 0x8e });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x13, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x4b0b, gbc.sp());
        EXPECT(0xac27, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xac26));
        // 8E 00A3
        gbc.setState(0xd788, 0x8400, 0x2820, 0xa405, 0x4f13, 0x171c, 0x0, 0x1);
        gbc.writeMem(0x171c, { 0xcf });
        gbc.writeMem(0xd788, { 0x8e });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x17, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x8400, gbc.sp());
        EXPECT(0xd789, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd788));
        // 8E 00A4
        gbc.setState(0xa63b, 0xabd3, 0x6120, 0x1626, 0x4c56, 0x32f4, 0x1, 0x0);
        gbc.writeMem(0x32f4, { 0xc4 });
        gbc.writeMem(0xa63b, { 0x8e });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xabd3, gbc.sp());
        EXPECT(0xa63c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa63b));
        // 8E 00A5
        gbc.setState(0x5628, 0x4baf, 0x5650, 0x6db7, 0xf716, 0x14a, 0x1, 0x0);
        gbc.writeMem(0x14a, { 0x7e });
        gbc.writeMem(0x5628, { 0x8e });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x6d, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x4baf, gbc.sp());
        EXPECT(0x5629, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 00A6
        gbc.setState(0x9616, 0xe842, 0x1b0, 0xebd7, 0x7cb2, 0xfe7f, 0x1, 0x0);
        gbc.writeMem(0x9616, { 0x8e });
        gbc.writeMem(0xfe7f, { 0x34 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xe842, gbc.sp());
        EXPECT(0x9617, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9616));
        EXPECT(0x34, gbc.readMem(0xfe7f));
        // 8E 00A7
        gbc.setState(0x5f03, 0x59e4, 0x33b0, 0xf973, 0x8940, 0x66ff, 0x1, 0x0);
        gbc.writeMem(0x5f03, { 0x8e });
        gbc.writeMem(0x66ff, { 0x3 });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0x59e4, gbc.sp());
        EXPECT(0x5f04, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 00A8
        gbc.setState(0x7488, 0x5f03, 0x1f40, 0x3b6e, 0xd6c6, 0x6b4d, 0x1, 0x1);
        gbc.writeMem(0x6b4d, { 0xb9 });
        gbc.writeMem(0x7488, { 0x8e });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x5f03, gbc.sp());
        EXPECT(0x7489, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 00A9
        gbc.setState(0xdfe2, 0xc603, 0x59f0, 0xa359, 0x12c9, 0xc4c7, 0x0, 0x0);
        gbc.writeMem(0xc4c7, { 0xea });
        gbc.writeMem(0xdfe2, { 0x8e });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x59, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xc603, gbc.sp());
        EXPECT(0xdfe3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xea, gbc.readMem(0xc4c7));
        EXPECT(0x8e, gbc.readMem(0xdfe2));
        // 8E 00AA
        gbc.setState(0xb2e6, 0xe8b3, 0xae00, 0xee87, 0xeea8, 0x5f10, 0x0, 0x0);
        gbc.writeMem(0x5f10, { 0x3c });
        gbc.writeMem(0xb2e6, { 0x8e });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xe8b3, gbc.sp());
        EXPECT(0xb2e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb2e6));
        // 8E 00AB
        gbc.setState(0x8699, 0xf0ae, 0x8110, 0xb812, 0x6154, 0xebd2, 0x1, 0x1);
        gbc.writeMem(0x8699, { 0x8e });
        gbc.writeMem(0xebd2, { 0x5b });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xf0ae, gbc.sp());
        EXPECT(0x869a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8699));
        EXPECT(0x5b, gbc.readMem(0xebd2));
        // 8E 00AC
        gbc.setState(0x8fce, 0x3cdc, 0xa580, 0x78a6, 0xe0fb, 0xacd0, 0x1, 0x1);
        gbc.writeMem(0x8fce, { 0x8e });
        gbc.writeMem(0xacd0, { 0x88 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0xfb, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x3cdc, gbc.sp());
        EXPECT(0x8fcf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8fce));
        EXPECT(0x88, gbc.readMem(0xacd0));
        // 8E 00AD
        gbc.setState(0xe14, 0xbb38, 0xe190, 0xf48f, 0x54db, 0x7303, 0x1, 0x0);
        gbc.writeMem(0xe14, { 0x8e });
        gbc.writeMem(0x7303, { 0x4b });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x54, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xbb38, gbc.sp());
        EXPECT(0xe15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 00AE
        gbc.setState(0xac5a, 0x47a2, 0x2100, 0x487b, 0x1cd6, 0x3680, 0x1, 0x1);
        gbc.writeMem(0x3680, { 0x42 });
        gbc.writeMem(0xac5a, { 0x8e });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x47a2, gbc.sp());
        EXPECT(0xac5b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xac5a));
        // 8E 00AF
        gbc.setState(0x2d87, 0xab58, 0xf9a0, 0x220, 0x15f7, 0xe285, 0x1, 0x0);
        gbc.writeMem(0x2d87, { 0x8e });
        gbc.writeMem(0xe285, { 0x8b });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xab58, gbc.sp());
        EXPECT(0x2d88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8b, gbc.readMem(0xe285));
        // 8E 00B0
        gbc.setState(0x3cbd, 0x6e38, 0x51e0, 0x7760, 0x3cdb, 0x37fd, 0x1, 0x1);
        gbc.writeMem(0x37fd, { 0x20 });
        gbc.writeMem(0x3cbd, { 0x8e });
        gbc.step();
        EXPECT(0x71, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xfd, gbc.l());
        EXPECT(0x6e38, gbc.sp());
        EXPECT(0x3cbe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 00B1
        gbc.setState(0x3d3b, 0x31a8, 0xf4c0, 0x81ab, 0x24dc, 0xc8d3, 0x0, 0x1);
        gbc.writeMem(0x3d3b, { 0x8e });
        gbc.writeMem(0xc8d3, { 0x54 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x31a8, gbc.sp());
        EXPECT(0x3d3c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x54, gbc.readMem(0xc8d3));
        // 8E 00B2
        gbc.setState(0x6425, 0x8121, 0x65d0, 0x15a1, 0xf429, 0x9310, 0x0, 0x0);
        gbc.writeMem(0x6425, { 0x8e });
        gbc.writeMem(0x9310, { 0x75 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x8121, gbc.sp());
        EXPECT(0x6426, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x75, gbc.readMem(0x9310));
        // 8E 00B3
        gbc.setState(0xb4a8, 0xb961, 0x6200, 0x82e7, 0xcd80, 0x7229, 0x0, 0x1);
        gbc.writeMem(0x7229, { 0x8 });
        gbc.writeMem(0xb4a8, { 0x8e });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xb961, gbc.sp());
        EXPECT(0xb4a9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb4a8));
        // 8E 00B4
        gbc.setState(0xb4b, 0x407b, 0x6bf0, 0x2245, 0xff97, 0x4f42, 0x0, 0x0);
        gbc.writeMem(0xb4b, { 0x8e });
        gbc.writeMem(0x4f42, { 0x94 });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x407b, gbc.sp());
        EXPECT(0xb4c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 00B5
        gbc.setState(0x52f0, 0x394e, 0x6940, 0x551a, 0xd2c9, 0x766b, 0x0, 0x0);
        gbc.writeMem(0x52f0, { 0x8e });
        gbc.writeMem(0x766b, { 0x29 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x394e, gbc.sp());
        EXPECT(0x52f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 00B6
        gbc.setState(0xa665, 0x6e96, 0x8d80, 0xf726, 0x4e8a, 0xcb73, 0x1, 0x1);
        gbc.writeMem(0xa665, { 0x8e });
        gbc.writeMem(0xcb73, { 0x77 });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x6e96, gbc.sp());
        EXPECT(0xa666, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa665));
        EXPECT(0x77, gbc.readMem(0xcb73));
        // 8E 00B7
        gbc.setState(0x311e, 0xd05f, 0x88c0, 0x5b1, 0x1e45, 0xb736, 0x1, 0x0);
        gbc.writeMem(0x311e, { 0x8e });
        gbc.writeMem(0xb736, { 0x95 });
        gbc.step();
        EXPECT(0x1d, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xd05f, gbc.sp());
        EXPECT(0x311f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x95, gbc.readMem(0xb736));
        // 8E 00B8
        gbc.setState(0xeec7, 0xe475, 0xd1e0, 0xd193, 0x1652, 0xfbaf, 0x1, 0x0);
        gbc.writeMem(0xeec7, { 0x8e });
        gbc.writeMem(0xfbaf, { 0x44 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0xe475, gbc.sp());
        EXPECT(0xeec8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xeec7));
        EXPECT(0x44, gbc.readMem(0xfbaf));
        // 8E 00B9
        gbc.setState(0x47d4, 0x32c9, 0x20, 0x9a7c, 0xbb8c, 0x140, 0x1, 0x0);
        gbc.writeMem(0x140, { 0x17 });
        gbc.writeMem(0x47d4, { 0x8e });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x32c9, gbc.sp());
        EXPECT(0x47d5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 00BA
        gbc.setState(0xcd95, 0x6fd8, 0x1d00, 0xf068, 0xee36, 0xd086, 0x1, 0x1);
        gbc.writeMem(0xcd95, { 0x8e });
        gbc.writeMem(0xd086, { 0x4d });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x6fd8, gbc.sp());
        EXPECT(0xcd96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xcd95));
        EXPECT(0x4d, gbc.readMem(0xd086));
        // 8E 00BB
        gbc.setState(0xc986, 0xac3b, 0x2640, 0xfccd, 0xcb78, 0x1450, 0x0, 0x1);
        gbc.writeMem(0x1450, { 0xe2 });
        gbc.writeMem(0xc986, { 0x8e });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xac3b, gbc.sp());
        EXPECT(0xc987, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc986));
        // 8E 00BC
        gbc.setState(0x445b, 0x440a, 0xe570, 0x35d, 0x699c, 0x8d24, 0x0, 0x1);
        gbc.writeMem(0x445b, { 0x8e });
        gbc.writeMem(0x8d24, { 0xdd });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x8d, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x440a, gbc.sp());
        EXPECT(0x445c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xdd, gbc.readMem(0x8d24));
        // 8E 00BD
        gbc.setState(0x9403, 0x8725, 0xcd90, 0x8800, 0x55b5, 0xe333, 0x1, 0x0);
        gbc.writeMem(0x9403, { 0x8e });
        gbc.writeMem(0xe333, { 0xc7 });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x8725, gbc.sp());
        EXPECT(0x9404, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9403));
        EXPECT(0xc7, gbc.readMem(0xe333));
        // 8E 00BE
        gbc.setState(0x7aaf, 0x2830, 0xbae0, 0x2370, 0x8125, 0x8ca4, 0x1, 0x1);
        gbc.writeMem(0x7aaf, { 0x8e });
        gbc.writeMem(0x8ca4, { 0x32 });
        gbc.step();
        EXPECT(0xec, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x2830, gbc.sp());
        EXPECT(0x7ab0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x32, gbc.readMem(0x8ca4));
        // 8E 00BF
        gbc.setState(0x2917, 0x62d0, 0xbf20, 0x92f3, 0xb1a, 0x2972, 0x1, 0x0);
        gbc.writeMem(0x2917, { 0x8e });
        gbc.writeMem(0x2972, { 0x2 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x62d0, gbc.sp());
        EXPECT(0x2918, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 00C0
        gbc.setState(0x543d, 0xfaeb, 0x3390, 0x942f, 0xb44, 0xc1a6, 0x0, 0x1);
        gbc.writeMem(0x543d, { 0x8e });
        gbc.writeMem(0xc1a6, { 0xd4 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xfaeb, gbc.sp());
        EXPECT(0x543e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd4, gbc.readMem(0xc1a6));
        // 8E 00C1
        gbc.setState(0x56a1, 0x4a2, 0x4f10, 0xdd1b, 0x2e29, 0x22c7, 0x1, 0x0);
        gbc.writeMem(0x22c7, { 0x55 });
        gbc.writeMem(0x56a1, { 0x8e });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0x4a2, gbc.sp());
        EXPECT(0x56a2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 00C2
        gbc.setState(0xc82b, 0xb401, 0xbaf0, 0x380e, 0xacdc, 0x8eb1, 0x1, 0x1);
        gbc.writeMem(0x8eb1, { 0x4e });
        gbc.writeMem(0xc82b, { 0x8e });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0xb401, gbc.sp());
        EXPECT(0xc82c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x4e, gbc.readMem(0x8eb1));
        EXPECT(0x8e, gbc.readMem(0xc82b));
        // 8E 00C3
        gbc.setState(0x11ee, 0x6886, 0x75d0, 0x7fda, 0x3149, 0x738b, 0x0, 0x1);
        gbc.writeMem(0x11ee, { 0x8e });
        gbc.writeMem(0x738b, { 0xdf });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x6886, gbc.sp());
        EXPECT(0x11ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 00C4
        gbc.setState(0x37f7, 0x5c74, 0x85c0, 0xbbc, 0xdbab, 0xe917, 0x0, 0x1);
        gbc.writeMem(0x37f7, { 0x8e });
        gbc.writeMem(0xe917, { 0x53 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x5c74, gbc.sp());
        EXPECT(0x37f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x53, gbc.readMem(0xe917));
        // 8E 00C5
        gbc.setState(0xb75b, 0x8c49, 0x1320, 0xeeb1, 0x1628, 0xbd2e, 0x0, 0x0);
        gbc.writeMem(0xb75b, { 0x8e });
        gbc.writeMem(0xbd2e, { 0x7a });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x8c49, gbc.sp());
        EXPECT(0xb75c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb75b));
        EXPECT(0x7a, gbc.readMem(0xbd2e));
        // 8E 00C6
        gbc.setState(0x9d2a, 0x6209, 0x1660, 0x2aa5, 0xbd50, 0x6256, 0x0, 0x1);
        gbc.writeMem(0x6256, { 0xd2 });
        gbc.writeMem(0x9d2a, { 0x8e });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0x6209, gbc.sp());
        EXPECT(0x9d2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9d2a));
        // 8E 00C7
        gbc.setState(0xd821, 0x1d2, 0xaa60, 0xa78, 0x67d5, 0xf2ca, 0x1, 0x1);
        gbc.writeMem(0xd821, { 0x8e });
        gbc.writeMem(0xf2ca, { 0x7 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x1d2, gbc.sp());
        EXPECT(0xd822, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd821));
        EXPECT(0x7, gbc.readMem(0xf2ca));
        // 8E 00C8
        gbc.setState(0x108b, 0x5a39, 0x18d0, 0x801e, 0xdf61, 0x885c, 0x1, 0x1);
        gbc.writeMem(0x108b, { 0x8e });
        gbc.writeMem(0x885c, { 0x6 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0x5a39, gbc.sp());
        EXPECT(0x108c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6, gbc.readMem(0x885c));
        // 8E 00C9
        gbc.setState(0xb5be, 0x2475, 0xc570, 0x1776, 0xfda7, 0xdfcc, 0x0, 0x1);
        gbc.writeMem(0xb5be, { 0x8e });
        gbc.writeMem(0xdfcc, { 0xc6 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x76, gbc.c());
        EXPECT(0xfd, gbc.d());
        EXPECT(0xa7, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x2475, gbc.sp());
        EXPECT(0xb5bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb5be));
        EXPECT(0xc6, gbc.readMem(0xdfcc));
        // 8E 00CA
        gbc.setState(0xb089, 0x6aaa, 0x17b0, 0x639, 0x7445, 0x11ee, 0x1, 0x1);
        gbc.writeMem(0x11ee, { 0x2a });
        gbc.writeMem(0xb089, { 0x8e });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x6aaa, gbc.sp());
        EXPECT(0xb08a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb089));
        // 8E 00CB
        gbc.setState(0xa806, 0xcd6f, 0xf610, 0xb26f, 0xb480, 0xf5d2, 0x0, 0x0);
        gbc.writeMem(0xa806, { 0x8e });
        gbc.writeMem(0xf5d2, { 0x3f });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xcd6f, gbc.sp());
        EXPECT(0xa807, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa806));
        EXPECT(0x3f, gbc.readMem(0xf5d2));
        // 8E 00CC
        gbc.setState(0xbfa5, 0x4201, 0xc180, 0x719a, 0x3a5a, 0x8674, 0x0, 0x0);
        gbc.writeMem(0x8674, { 0x15 });
        gbc.writeMem(0xbfa5, { 0x8e });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x4201, gbc.sp());
        EXPECT(0xbfa6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x15, gbc.readMem(0x8674));
        EXPECT(0x8e, gbc.readMem(0xbfa5));
        // 8E 00CD
        gbc.setState(0x76bc, 0xf099, 0x4870, 0x9aaf, 0x345c, 0x3d9a, 0x1, 0x1);
        gbc.writeMem(0x3d9a, { 0xe1 });
        gbc.writeMem(0x76bc, { 0x8e });
        gbc.step();
        EXPECT(0x2a, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xf099, gbc.sp());
        EXPECT(0x76bd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 00CE
        gbc.setState(0xd166, 0xb8a6, 0x2d10, 0x8ce6, 0xd01f, 0x86b5, 0x1, 0x1);
        gbc.writeMem(0x86b5, { 0x46 });
        gbc.writeMem(0xd166, { 0x8e });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x86, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xb8a6, gbc.sp());
        EXPECT(0xd167, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x46, gbc.readMem(0x86b5));
        EXPECT(0x8e, gbc.readMem(0xd166));
        // 8E 00CF
        gbc.setState(0x3c75, 0x4672, 0x4450, 0x53e1, 0xd09b, 0x1ee6, 0x0, 0x1);
        gbc.writeMem(0x1ee6, { 0x3d });
        gbc.writeMem(0x3c75, { 0x8e });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x4672, gbc.sp());
        EXPECT(0x3c76, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 00D0
        gbc.setState(0xe68f, 0xa626, 0xac30, 0x10b6, 0xa98f, 0x7756, 0x1, 0x1);
        gbc.writeMem(0x7756, { 0xa3 });
        gbc.writeMem(0xe68f, { 0x8e });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x56, gbc.l());
        EXPECT(0xa626, gbc.sp());
        EXPECT(0xe690, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe68f));
        // 8E 00D1
        gbc.setState(0xa95, 0x881, 0x7650, 0x90, 0xea10, 0x7777, 0x1, 0x1);
        gbc.writeMem(0xa95, { 0x8e });
        gbc.writeMem(0x7777, { 0xe8 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x10, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x881, gbc.sp());
        EXPECT(0xa96, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 00D2
        gbc.setState(0x83db, 0x43ff, 0xefe0, 0xb7a8, 0xce0a, 0xe76f, 0x1, 0x1);
        gbc.writeMem(0x83db, { 0x8e });
        gbc.writeMem(0xe76f, { 0x7a });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x43ff, gbc.sp());
        EXPECT(0x83dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x83db));
        EXPECT(0x7a, gbc.readMem(0xe76f));
        // 8E 00D3
        gbc.setState(0xea48, 0x193d, 0x2610, 0xf501, 0x63c3, 0xeba8, 0x1, 0x1);
        gbc.writeMem(0xea48, { 0x8e });
        gbc.writeMem(0xeba8, { 0x45 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x193d, gbc.sp());
        EXPECT(0xea49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xea48));
        EXPECT(0x45, gbc.readMem(0xeba8));
        // 8E 00D4
        gbc.setState(0x34b, 0xfd81, 0xc80, 0x53b4, 0x5b23, 0x6838, 0x0, 0x0);
        gbc.writeMem(0x34b, { 0x8e });
        gbc.writeMem(0x6838, { 0x3f });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0xfd81, gbc.sp());
        EXPECT(0x34c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 00D5
        gbc.setState(0xe60, 0x76c8, 0x6e0, 0x2694, 0x5652, 0x6ec1, 0x1, 0x1);
        gbc.writeMem(0xe60, { 0x8e });
        gbc.writeMem(0x6ec1, { 0x3a });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x76c8, gbc.sp());
        EXPECT(0xe61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 00D6
        gbc.setState(0xb1ca, 0xdba2, 0x7bb0, 0x4c2a, 0xd327, 0x39d3, 0x0, 0x1);
        gbc.writeMem(0x39d3, { 0x6f });
        gbc.writeMem(0xb1ca, { 0x8e });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x39, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xdba2, gbc.sp());
        EXPECT(0xb1cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb1ca));
        // 8E 00D7
        gbc.setState(0x61bf, 0x3621, 0x9910, 0xe927, 0xb9ca, 0xca39, 0x1, 0x0);
        gbc.writeMem(0x61bf, { 0x8e });
        gbc.writeMem(0xca39, { 0x6 });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x3621, gbc.sp());
        EXPECT(0x61c0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6, gbc.readMem(0xca39));
        // 8E 00D8
        gbc.setState(0x5e8b, 0x7b01, 0x17d0, 0x7638, 0x9e8a, 0xe2de, 0x0, 0x0);
        gbc.writeMem(0x5e8b, { 0x8e });
        gbc.writeMem(0xe2de, { 0xc6 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x7b01, gbc.sp());
        EXPECT(0x5e8c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc6, gbc.readMem(0xe2de));
        // 8E 00D9
        gbc.setState(0xa851, 0x2286, 0xba60, 0xfc3, 0xb2ec, 0x65d3, 0x1, 0x1);
        gbc.writeMem(0x65d3, { 0xc });
        gbc.writeMem(0xa851, { 0x8e });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x2286, gbc.sp());
        EXPECT(0xa852, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa851));
        // 8E 00DA
        gbc.setState(0xc71c, 0x9a0c, 0x29e0, 0xfa0d, 0x6273, 0x9a94, 0x0, 0x0);
        gbc.writeMem(0x9a94, { 0xb0 });
        gbc.writeMem(0xc71c, { 0x8e });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x9a0c, gbc.sp());
        EXPECT(0xc71d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb0, gbc.readMem(0x9a94));
        EXPECT(0x8e, gbc.readMem(0xc71c));
        // 8E 00DB
        gbc.setState(0x939a, 0x47c9, 0xa010, 0xe9e5, 0x7c9e, 0xafec, 0x0, 0x1);
        gbc.writeMem(0x939a, { 0x8e });
        gbc.writeMem(0xafec, { 0xc8 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xe5, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x47c9, gbc.sp());
        EXPECT(0x939b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x939a));
        EXPECT(0xc8, gbc.readMem(0xafec));
        // 8E 00DC
        gbc.setState(0x92cb, 0xc072, 0x4bb0, 0x84d8, 0xee29, 0xcb4b, 0x1, 0x0);
        gbc.writeMem(0x92cb, { 0x8e });
        gbc.writeMem(0xcb4b, { 0x9a });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0xee, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x4b, gbc.l());
        EXPECT(0xc072, gbc.sp());
        EXPECT(0x92cc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x92cb));
        EXPECT(0x9a, gbc.readMem(0xcb4b));
        // 8E 00DD
        gbc.setState(0x7e14, 0x29ba, 0x50e0, 0xaf07, 0xf1a0, 0xb11f, 0x0, 0x0);
        gbc.writeMem(0x7e14, { 0x8e });
        gbc.writeMem(0xb11f, { 0xf });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0xa0, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x29ba, gbc.sp());
        EXPECT(0x7e15, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xf, gbc.readMem(0xb11f));
        // 8E 00DF
        gbc.setState(0xee80, 0xfa5d, 0xe980, 0x4906, 0x50c, 0x4d50, 0x0, 0x1);
        gbc.writeMem(0x4d50, { 0x42 });
        gbc.writeMem(0xee80, { 0x8e });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xfa5d, gbc.sp());
        EXPECT(0xee81, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xee80));
        // 8E 00E1
        gbc.setState(0x5582, 0x79dd, 0xf640, 0xaf31, 0x46fe, 0xadda, 0x1, 0x0);
        gbc.writeMem(0x5582, { 0x8e });
        gbc.writeMem(0xadda, { 0x73 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x79dd, gbc.sp());
        EXPECT(0x5583, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x73, gbc.readMem(0xadda));
        // 8E 00E2
        gbc.setState(0x30d5, 0xb4a0, 0xa110, 0x9839, 0xbed4, 0xe1a6, 0x1, 0x0);
        gbc.writeMem(0x30d5, { 0x8e });
        gbc.writeMem(0xe1a6, { 0x1a });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xb4a0, gbc.sp());
        EXPECT(0x30d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x1a, gbc.readMem(0xe1a6));
        // 8E 00E3
        gbc.setState(0x5136, 0xe2b6, 0x5ba0, 0x8f42, 0xa0aa, 0xa547, 0x1, 0x1);
        gbc.writeMem(0x5136, { 0x8e });
        gbc.writeMem(0xa547, { 0xcc });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0xe2b6, gbc.sp());
        EXPECT(0x5137, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcc, gbc.readMem(0xa547));
        // 8E 00E4
        gbc.setState(0xcc52, 0xa922, 0xdef0, 0xcc69, 0x6e98, 0xa275, 0x1, 0x1);
        gbc.writeMem(0xa275, { 0xf9 });
        gbc.writeMem(0xcc52, { 0x8e });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0xa922, gbc.sp());
        EXPECT(0xcc53, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf9, gbc.readMem(0xa275));
        EXPECT(0x8e, gbc.readMem(0xcc52));
        // 8E 00E5
        gbc.setState(0xeff7, 0xc895, 0x4620, 0x2ccb, 0xd303, 0x79ff, 0x1, 0x1);
        gbc.writeMem(0x79ff, { 0x17 });
        gbc.writeMem(0xeff7, { 0x8e });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xc895, gbc.sp());
        EXPECT(0xeff8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xeff7));
        // 8E 00E6
        gbc.setState(0x7e29, 0x8f42, 0xb870, 0xfe6c, 0x5a27, 0xd04e, 0x1, 0x0);
        gbc.writeMem(0x7e29, { 0x8e });
        gbc.writeMem(0xd04e, { 0xce });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xfe, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x8f42, gbc.sp());
        EXPECT(0x7e2a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xd04e));
        // 8E 00E7
        gbc.setState(0x16e, 0xecf9, 0x7790, 0x139, 0x15c5, 0xec, 0x1, 0x1);
        gbc.writeMem(0xec, { 0x97 });
        gbc.writeMem(0x16e, { 0x8e });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x15, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xecf9, gbc.sp());
        EXPECT(0x16f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 00E8
        gbc.setState(0x9aa7, 0xc232, 0xeb00, 0xeb51, 0x121c, 0x4466, 0x0, 0x0);
        gbc.writeMem(0x4466, { 0xd3 });
        gbc.writeMem(0x9aa7, { 0x8e });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xc232, gbc.sp());
        EXPECT(0x9aa8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9aa7));
        // 8E 00E9
        gbc.setState(0xb80d, 0x568b, 0x93b0, 0xdf0c, 0x43d8, 0x2fd5, 0x0, 0x1);
        gbc.writeMem(0x2fd5, { 0x1d });
        gbc.writeMem(0xb80d, { 0x8e });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xc, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x568b, gbc.sp());
        EXPECT(0xb80e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb80d));
        // 8E 00EA
        gbc.setState(0x467, 0x70fb, 0x2470, 0xcccf, 0xd1eb, 0xccc6, 0x1, 0x0);
        gbc.writeMem(0x467, { 0x8e });
        gbc.writeMem(0xccc6, { 0xc0 });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x70fb, gbc.sp());
        EXPECT(0x468, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc0, gbc.readMem(0xccc6));
        // 8E 00EB
        gbc.setState(0x2434, 0x8f56, 0xdb40, 0x7278, 0x84d3, 0x6eca, 0x1, 0x1);
        gbc.writeMem(0x2434, { 0x8e });
        gbc.writeMem(0x6eca, { 0xd8 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x6e, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x8f56, gbc.sp());
        EXPECT(0x2435, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 00EC
        gbc.setState(0x2ca9, 0x14b5, 0x5cc0, 0xdef4, 0x7aac, 0xe22a, 0x1, 0x1);
        gbc.writeMem(0x2ca9, { 0x8e });
        gbc.writeMem(0xe22a, { 0x97 });
        gbc.step();
        EXPECT(0xf3, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x14b5, gbc.sp());
        EXPECT(0x2caa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x97, gbc.readMem(0xe22a));
        // 8E 00ED
        gbc.setState(0xc515, 0xa248, 0xa3c0, 0xc7a7, 0x817d, 0xd05e, 0x1, 0x1);
        gbc.writeMem(0xc515, { 0x8e });
        gbc.writeMem(0xd05e, { 0xea });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xa248, gbc.sp());
        EXPECT(0xc516, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc515));
        EXPECT(0xea, gbc.readMem(0xd05e));
        // 8E 00EE
        gbc.setState(0xcdf, 0xc0e0, 0x3780, 0x9595, 0x5b08, 0x1de3, 0x0, 0x1);
        gbc.writeMem(0xcdf, { 0x8e });
        gbc.writeMem(0x1de3, { 0x9b });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x95, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xc0e0, gbc.sp());
        EXPECT(0xce0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 00EF
        gbc.setState(0x95fc, 0x26ee, 0x1260, 0x37b6, 0x83b3, 0x1f82, 0x0, 0x1);
        gbc.writeMem(0x1f82, { 0xcb });
        gbc.writeMem(0x95fc, { 0x8e });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0x82, gbc.l());
        EXPECT(0x26ee, gbc.sp());
        EXPECT(0x95fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x95fc));
        // 8E 00F0
        gbc.setState(0x82dc, 0xaf69, 0x5690, 0x990, 0x454, 0xd920, 0x1, 0x1);
        gbc.writeMem(0x82dc, { 0x8e });
        gbc.writeMem(0xd920, { 0x1d });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xaf69, gbc.sp());
        EXPECT(0x82dd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x82dc));
        EXPECT(0x1d, gbc.readMem(0xd920));
        // 8E 00F1
        gbc.setState(0x28a6, 0x2a41, 0xe8c0, 0x8b7b, 0x49d9, 0xb9f0, 0x1, 0x1);
        gbc.writeMem(0x28a6, { 0x8e });
        gbc.writeMem(0xb9f0, { 0x77 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x2a41, gbc.sp());
        EXPECT(0x28a7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x77, gbc.readMem(0xb9f0));
        // 8E 00F2
        gbc.setState(0x12a3, 0xde44, 0x21b0, 0x70fa, 0x2603, 0x295, 0x0, 0x0);
        gbc.writeMem(0x295, { 0x1 });
        gbc.writeMem(0x12a3, { 0x8e });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x95, gbc.l());
        EXPECT(0xde44, gbc.sp());
        EXPECT(0x12a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 00F3
        gbc.setState(0x685f, 0x2a30, 0x4920, 0x6f90, 0xa75f, 0xc674, 0x0, 0x1);
        gbc.writeMem(0x685f, { 0x8e });
        gbc.writeMem(0xc674, { 0xe5 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x6f, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x2a30, gbc.sp());
        EXPECT(0x6860, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe5, gbc.readMem(0xc674));
        // 8E 00F4
        gbc.setState(0xa1bb, 0x7528, 0x90a0, 0xd5ce, 0xb98c, 0xf9d5, 0x0, 0x1);
        gbc.writeMem(0xa1bb, { 0x8e });
        gbc.writeMem(0xf9d5, { 0x94 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xb9, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x7528, gbc.sp());
        EXPECT(0xa1bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa1bb));
        EXPECT(0x94, gbc.readMem(0xf9d5));
        // 8E 00F5
        gbc.setState(0xd6d6, 0x2a96, 0x17f0, 0x7e7, 0x818e, 0xb34f, 0x1, 0x0);
        gbc.writeMem(0xb34f, { 0x3c });
        gbc.writeMem(0xd6d6, { 0x8e });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x81, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x2a96, gbc.sp());
        EXPECT(0xd6d7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3c, gbc.readMem(0xb34f));
        EXPECT(0x8e, gbc.readMem(0xd6d6));
        // 8E 00F6
        gbc.setState(0x4043, 0x453e, 0x1c70, 0x303f, 0xb6c6, 0xfe24, 0x0, 0x1);
        gbc.writeMem(0x4043, { 0x8e });
        gbc.writeMem(0xfe24, { 0x7b });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x453e, gbc.sp());
        EXPECT(0x4044, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x7b, gbc.readMem(0xfe24));
        // 8E 00F7
        gbc.setState(0xe8f5, 0x9693, 0x24e0, 0xcea8, 0x2fc1, 0xbc59, 0x1, 0x0);
        gbc.writeMem(0xbc59, { 0x8c });
        gbc.writeMem(0xe8f5, { 0x8e });
        gbc.step();
        EXPECT(0xb0, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0x9693, gbc.sp());
        EXPECT(0xe8f6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8c, gbc.readMem(0xbc59));
        EXPECT(0x8e, gbc.readMem(0xe8f5));
        // 8E 00F8
        gbc.setState(0xd77c, 0x385f, 0x110, 0xe01c, 0xce24, 0x19a7, 0x1, 0x1);
        gbc.writeMem(0x19a7, { 0xf7 });
        gbc.writeMem(0xd77c, { 0x8e });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x385f, gbc.sp());
        EXPECT(0xd77d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd77c));
        // 8E 00F9
        gbc.setState(0x12eb, 0x15ab, 0xeba0, 0x2863, 0xabfa, 0x2ec5, 0x1, 0x1);
        gbc.writeMem(0x12eb, { 0x8e });
        gbc.writeMem(0x2ec5, { 0xf8 });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0x2e, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x15ab, gbc.sp());
        EXPECT(0x12ec, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 00FA
        gbc.setState(0x956f, 0x7bc8, 0x7a00, 0x49cb, 0x3505, 0x9790, 0x1, 0x1);
        gbc.writeMem(0x956f, { 0x8e });
        gbc.writeMem(0x9790, { 0x29 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x7bc8, gbc.sp());
        EXPECT(0x9570, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x956f));
        EXPECT(0x29, gbc.readMem(0x9790));
        // 8E 00FB
        gbc.setState(0x18ac, 0x9fd1, 0xac40, 0xc9c9, 0x87a1, 0x4e85, 0x0, 0x1);
        gbc.writeMem(0x18ac, { 0x8e });
        gbc.writeMem(0x4e85, { 0xec });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x9fd1, gbc.sp());
        EXPECT(0x18ad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 00FC
        gbc.setState(0xb620, 0x3169, 0x1690, 0x97b0, 0x79c2, 0xaee0, 0x1, 0x0);
        gbc.writeMem(0xaee0, { 0xd8 });
        gbc.writeMem(0xb620, { 0x8e });
        gbc.step();
        EXPECT(0xef, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x3169, gbc.sp());
        EXPECT(0xb621, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xd8, gbc.readMem(0xaee0));
        EXPECT(0x8e, gbc.readMem(0xb620));
        // 8E 00FD
        gbc.setState(0x9077, 0x2779, 0x3920, 0x1280, 0xf4b2, 0xc5e1, 0x0, 0x1);
        gbc.writeMem(0x9077, { 0x8e });
        gbc.writeMem(0xc5e1, { 0x87 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0x2779, gbc.sp());
        EXPECT(0x9078, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9077));
        EXPECT(0x87, gbc.readMem(0xc5e1));
        // 8E 00FE
        gbc.setState(0xc75c, 0xd6a7, 0x2c40, 0xa42c, 0x650d, 0x3dbb, 0x1, 0x1);
        gbc.writeMem(0x3dbb, { 0x2e });
        gbc.writeMem(0xc75c, { 0x8e });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0xa4, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xd6a7, gbc.sp());
        EXPECT(0xc75d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc75c));
        // 8E 00FF
        gbc.setState(0x1457, 0xd086, 0x6dd0, 0x938c, 0x6e60, 0xc6d2, 0x1, 0x0);
        gbc.writeMem(0x1457, { 0x8e });
        gbc.writeMem(0xc6d2, { 0xca });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xd086, gbc.sp());
        EXPECT(0x1458, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xca, gbc.readMem(0xc6d2));
        // 8E 0100
        gbc.setState(0xcca0, 0xf10, 0x6c30, 0x283f, 0x9923, 0xe3aa, 0x1, 0x1);
        gbc.writeMem(0xcca0, { 0x8e });
        gbc.writeMem(0xe3aa, { 0x38 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xf10, gbc.sp());
        EXPECT(0xcca1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xcca0));
        EXPECT(0x38, gbc.readMem(0xe3aa));
        // 8E 0103
        gbc.setState(0xcdfd, 0x4436, 0xb320, 0xd719, 0x496b, 0x967f, 0x1, 0x1);
        gbc.writeMem(0x967f, { 0x27 });
        gbc.writeMem(0xcdfd, { 0x8e });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x4436, gbc.sp());
        EXPECT(0xcdfe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x27, gbc.readMem(0x967f));
        EXPECT(0x8e, gbc.readMem(0xcdfd));
        // 8E 0104
        gbc.setState(0x51b3, 0xd447, 0xb4d0, 0xa354, 0x6f4e, 0xd11, 0x0, 0x1);
        gbc.writeMem(0xd11, { 0x21 });
        gbc.writeMem(0x51b3, { 0x8e });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0xd447, gbc.sp());
        EXPECT(0x51b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0105
        gbc.setState(0xcd65, 0xaec0, 0x6e10, 0xc80a, 0x484f, 0x470a, 0x0, 0x1);
        gbc.writeMem(0x470a, { 0xcd });
        gbc.writeMem(0xcd65, { 0x8e });
        gbc.step();
        EXPECT(0x3c, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xaec0, gbc.sp());
        EXPECT(0xcd66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xcd65));
        // 8E 0106
        gbc.setState(0x22c, 0x7480, 0xc200, 0x2bde, 0x9ba1, 0x2a30, 0x1, 0x0);
        gbc.writeMem(0x22c, { 0x8e });
        gbc.writeMem(0x2a30, { 0xb5 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x7480, gbc.sp());
        EXPECT(0x22d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0107
        gbc.setState(0xac5, 0x54ae, 0xfc0, 0x8046, 0x4cbb, 0x6908, 0x0, 0x0);
        gbc.writeMem(0xac5, { 0x8e });
        gbc.writeMem(0x6908, { 0x66 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x54ae, gbc.sp());
        EXPECT(0xac6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0108
        gbc.setState(0xb19b, 0x938c, 0x1970, 0x691d, 0xd177, 0x930d, 0x1, 0x0);
        gbc.writeMem(0x930d, { 0x5e });
        gbc.writeMem(0xb19b, { 0x8e });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x1d, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x938c, gbc.sp());
        EXPECT(0xb19c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x5e, gbc.readMem(0x930d));
        EXPECT(0x8e, gbc.readMem(0xb19b));
        // 8E 0109
        gbc.setState(0x297b, 0x8d8e, 0x2cd0, 0xf84, 0xefad, 0xb08e, 0x1, 0x0);
        gbc.writeMem(0x297b, { 0x8e });
        gbc.writeMem(0xb08e, { 0xb5 });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x8d8e, gbc.sp());
        EXPECT(0x297c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb5, gbc.readMem(0xb08e));
        // 8E 010A
        gbc.setState(0x2039, 0x52fe, 0x2600, 0xb62f, 0x842e, 0x386d, 0x0, 0x1);
        gbc.writeMem(0x2039, { 0x8e });
        gbc.writeMem(0x386d, { 0xaf });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x52fe, gbc.sp());
        EXPECT(0x203a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 010B
        gbc.setState(0xd024, 0xcaf7, 0x1820, 0x1e45, 0xd2dd, 0x98f5, 0x0, 0x0);
        gbc.writeMem(0x98f5, { 0x5c });
        gbc.writeMem(0xd024, { 0x8e });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xcaf7, gbc.sp());
        EXPECT(0xd025, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x5c, gbc.readMem(0x98f5));
        EXPECT(0x8e, gbc.readMem(0xd024));
        // 8E 010C
        gbc.setState(0x8de1, 0xc83b, 0x2b0, 0x71ad, 0x3904, 0xd02, 0x0, 0x0);
        gbc.writeMem(0xd02, { 0x43 });
        gbc.writeMem(0x8de1, { 0x8e });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0xc83b, gbc.sp());
        EXPECT(0x8de2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8de1));
        // 8E 010D
        gbc.setState(0x11a3, 0x47ba, 0xb100, 0x325b, 0x6360, 0x592f, 0x1, 0x1);
        gbc.writeMem(0x11a3, { 0x8e });
        gbc.writeMem(0x592f, { 0xac });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x47ba, gbc.sp());
        EXPECT(0x11a4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 010E
        gbc.setState(0x7117, 0x63b0, 0xe100, 0xe302, 0xf92b, 0xd58b, 0x0, 0x1);
        gbc.writeMem(0x7117, { 0x8e });
        gbc.writeMem(0xd58b, { 0x88 });
        gbc.step();
        EXPECT(0x69, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xf9, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x63b0, gbc.sp());
        EXPECT(0x7118, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x88, gbc.readMem(0xd58b));
        // 8E 010F
        gbc.setState(0x9b54, 0x18bd, 0x9750, 0xd3bf, 0xca17, 0x7aac, 0x1, 0x0);
        gbc.writeMem(0x7aac, { 0x8e });
        gbc.writeMem(0x9b54, { 0x8e });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xca, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x18bd, gbc.sp());
        EXPECT(0x9b55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9b54));
        // 8E 0110
        gbc.setState(0xebf0, 0x1ded, 0xbee0, 0x443, 0xce5e, 0xfdad, 0x1, 0x0);
        gbc.writeMem(0xebf0, { 0x8e });
        gbc.writeMem(0xfdad, { 0x4b });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x1ded, gbc.sp());
        EXPECT(0xebf1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xebf0));
        EXPECT(0x4b, gbc.readMem(0xfdad));
        // 8E 0112
        gbc.setState(0xc329, 0xfd29, 0x880, 0x8419, 0xbf01, 0xb029, 0x0, 0x0);
        gbc.writeMem(0xb029, { 0x73 });
        gbc.writeMem(0xc329, { 0x8e });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xfd29, gbc.sp());
        EXPECT(0xc32a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x73, gbc.readMem(0xb029));
        EXPECT(0x8e, gbc.readMem(0xc329));
        // 8E 0113
        gbc.setState(0xe31a, 0x43c, 0xc470, 0x284a, 0xd25e, 0x1531, 0x0, 0x0);
        gbc.writeMem(0x1531, { 0x7e });
        gbc.writeMem(0xe31a, { 0x8e });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x43c, gbc.sp());
        EXPECT(0xe31b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe31a));
        // 8E 0114
        gbc.setState(0xd558, 0x9b00, 0xe320, 0x2958, 0x44d, 0xd293, 0x1, 0x1);
        gbc.writeMem(0xd293, { 0xab });
        gbc.writeMem(0xd558, { 0x8e });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0x58, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x4d, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x9b00, gbc.sp());
        EXPECT(0xd559, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xab, gbc.readMem(0xd293));
        EXPECT(0x8e, gbc.readMem(0xd558));
        // 8E 0115
        gbc.setState(0x5f8c, 0xe57a, 0xf260, 0xc813, 0x89f6, 0x68bd, 0x0, 0x0);
        gbc.writeMem(0x5f8c, { 0x8e });
        gbc.writeMem(0x68bd, { 0x7a });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0xe57a, gbc.sp());
        EXPECT(0x5f8d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0116
        gbc.setState(0xa5b9, 0xb9b, 0x26d0, 0x3649, 0x6ad2, 0xf87d, 0x0, 0x1);
        gbc.writeMem(0xa5b9, { 0x8e });
        gbc.writeMem(0xf87d, { 0xa4 });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0x6a, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xb9b, gbc.sp());
        EXPECT(0xa5ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa5b9));
        EXPECT(0xa4, gbc.readMem(0xf87d));
        // 8E 0117
        gbc.setState(0x3146, 0x214d, 0x5700, 0x2cf3, 0x3e7b, 0x8973, 0x0, 0x0);
        gbc.writeMem(0x3146, { 0x8e });
        gbc.writeMem(0x8973, { 0xba });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0xf3, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x214d, gbc.sp());
        EXPECT(0x3147, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xba, gbc.readMem(0x8973));
        // 8E 0119
        gbc.setState(0x5c6c, 0x7a04, 0x9590, 0xedd9, 0x37c5, 0x3390, 0x0, 0x0);
        gbc.writeMem(0x3390, { 0x8d });
        gbc.writeMem(0x5c6c, { 0x8e });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x7a04, gbc.sp());
        EXPECT(0x5c6d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 011A
        gbc.setState(0x76ec, 0x48a1, 0xf5e0, 0xcca0, 0xf8cd, 0x709e, 0x0, 0x0);
        gbc.writeMem(0x709e, { 0x8 });
        gbc.writeMem(0x76ec, { 0x8e });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x48a1, gbc.sp());
        EXPECT(0x76ed, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 011B
        gbc.setState(0x3ad8, 0x9b56, 0x93b0, 0xf8a6, 0xd80d, 0x1b87, 0x1, 0x1);
        gbc.writeMem(0x1b87, { 0x90 });
        gbc.writeMem(0x3ad8, { 0x8e });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x87, gbc.l());
        EXPECT(0x9b56, gbc.sp());
        EXPECT(0x3ad9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 011C
        gbc.setState(0x27b3, 0x5c7f, 0x6e60, 0x7035, 0x866e, 0xb642, 0x0, 0x1);
        gbc.writeMem(0x27b3, { 0x8e });
        gbc.writeMem(0xb642, { 0x26 });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0x5c7f, gbc.sp());
        EXPECT(0x27b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x26, gbc.readMem(0xb642));
        // 8E 011D
        gbc.setState(0x7fa6, 0x81e6, 0x50e0, 0x76b3, 0xf3b3, 0xaf1a, 0x1, 0x1);
        gbc.writeMem(0x7fa6, { 0x8e });
        gbc.writeMem(0xaf1a, { 0x65 });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x81e6, gbc.sp());
        EXPECT(0x7fa7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x65, gbc.readMem(0xaf1a));
        // 8E 011F
        gbc.setState(0xe0a, 0x3210, 0xaff0, 0xc024, 0x8cab, 0x3a1f, 0x1, 0x0);
        gbc.writeMem(0xe0a, { 0x8e });
        gbc.writeMem(0x3a1f, { 0x23 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x1f, gbc.l());
        EXPECT(0x3210, gbc.sp());
        EXPECT(0xe0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0120
        gbc.setState(0xeca9, 0x7620, 0x6010, 0xd671, 0xe89e, 0x98e0, 0x0, 0x1);
        gbc.writeMem(0x98e0, { 0xd0 });
        gbc.writeMem(0xeca9, { 0x8e });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x7620, gbc.sp());
        EXPECT(0xecaa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd0, gbc.readMem(0x98e0));
        EXPECT(0x8e, gbc.readMem(0xeca9));
        // 8E 0121
        gbc.setState(0xb21f, 0xe6d, 0xd310, 0x7923, 0xf391, 0x596c, 0x0, 0x0);
        gbc.writeMem(0x596c, { 0x82 });
        gbc.writeMem(0xb21f, { 0x8e });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xe6d, gbc.sp());
        EXPECT(0xb220, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb21f));
        // 8E 0122
        gbc.setState(0x4251, 0x255f, 0x8c0, 0x21ac, 0x59e9, 0x326d, 0x0, 0x1);
        gbc.writeMem(0x326d, { 0x6f });
        gbc.writeMem(0x4251, { 0x8e });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x59, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x255f, gbc.sp());
        EXPECT(0x4252, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0123
        gbc.setState(0xddce, 0x6462, 0x2f20, 0xc4ab, 0xefe4, 0x9250, 0x0, 0x1);
        gbc.writeMem(0x9250, { 0x4a });
        gbc.writeMem(0xddce, { 0x8e });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x6462, gbc.sp());
        EXPECT(0xddcf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x4a, gbc.readMem(0x9250));
        EXPECT(0x8e, gbc.readMem(0xddce));
        // 8E 0124
        gbc.setState(0x44a6, 0xe30b, 0x3f40, 0xc801, 0x4fbf, 0x1fc4, 0x0, 0x0);
        gbc.writeMem(0x1fc4, { 0x35 });
        gbc.writeMem(0x44a6, { 0x8e });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0xe30b, gbc.sp());
        EXPECT(0x44a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0125
        gbc.setState(0x14d0, 0x2c03, 0xd6c0, 0xdcf, 0x51c3, 0xcdc1, 0x1, 0x0);
        gbc.writeMem(0x14d0, { 0x8e });
        gbc.writeMem(0xcdc1, { 0x89 });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x2c03, gbc.sp());
        EXPECT(0x14d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x89, gbc.readMem(0xcdc1));
        // 8E 0126
        gbc.setState(0x95aa, 0x1e74, 0x5680, 0xd083, 0xc714, 0xb59c, 0x1, 0x0);
        gbc.writeMem(0x95aa, { 0x8e });
        gbc.writeMem(0xb59c, { 0x28 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xd0, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x1e74, gbc.sp());
        EXPECT(0x95ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x95aa));
        EXPECT(0x28, gbc.readMem(0xb59c));
        // 8E 0127
        gbc.setState(0x1b35, 0x6b5a, 0xf7e0, 0xc4c, 0x9256, 0xc0d3, 0x1, 0x0);
        gbc.writeMem(0x1b35, { 0x8e });
        gbc.writeMem(0xc0d3, { 0x31 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x6b5a, gbc.sp());
        EXPECT(0x1b36, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x31, gbc.readMem(0xc0d3));
        // 8E 0128
        gbc.setState(0xdde, 0x3836, 0x5360, 0x6b9b, 0xc270, 0x4700, 0x0, 0x1);
        gbc.writeMem(0xdde, { 0x8e });
        gbc.writeMem(0x4700, { 0xbe });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x70, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0x3836, gbc.sp());
        EXPECT(0xddf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0129
        gbc.setState(0x847d, 0x35e9, 0x410, 0xe531, 0xa996, 0xd225, 0x1, 0x0);
        gbc.writeMem(0x847d, { 0x8e });
        gbc.writeMem(0xd225, { 0x83 });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x35e9, gbc.sp());
        EXPECT(0x847e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x847d));
        EXPECT(0x83, gbc.readMem(0xd225));
        // 8E 012A
        gbc.setState(0xdbb6, 0xf50b, 0x390, 0x4f93, 0xeda2, 0xff96, 0x1, 0x0);
        gbc.writeMem(0xdbb6, { 0x8e });
        gbc.writeMem(0xff96, { 0x72 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0xf50b, gbc.sp());
        EXPECT(0xdbb7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdbb6));
        EXPECT(0x72, gbc.readMem(0xff96));
        // 8E 012B
        gbc.setState(0x3, 0xb61f, 0xf950, 0x8f60, 0x4986, 0x9f0, 0x0, 0x1);
        gbc.writeMem(0x3, { 0x8e });
        gbc.writeMem(0x9f0, { 0xd9 });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0xb61f, gbc.sp());
        EXPECT(0x4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 012C
        gbc.setState(0xa912, 0x7c36, 0x510, 0xae19, 0x85d3, 0xe714, 0x0, 0x0);
        gbc.writeMem(0xa912, { 0x8e });
        gbc.writeMem(0xe714, { 0xa9 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x7c36, gbc.sp());
        EXPECT(0xa913, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa912));
        EXPECT(0xa9, gbc.readMem(0xe714));
        // 8E 012D
        gbc.setState(0xc1e4, 0x90f2, 0xecc0, 0xdf4d, 0xc8e, 0xe475, 0x1, 0x1);
        gbc.writeMem(0xc1e4, { 0x8e });
        gbc.writeMem(0xe475, { 0x11 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x90f2, gbc.sp());
        EXPECT(0xc1e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc1e4));
        EXPECT(0x11, gbc.readMem(0xe475));
        // 8E 012E
        gbc.setState(0x6a31, 0xbcbe, 0x1680, 0x7487, 0xe062, 0xb0c3, 0x0, 0x1);
        gbc.writeMem(0x6a31, { 0x8e });
        gbc.writeMem(0xb0c3, { 0x71 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xb0, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0xbcbe, gbc.sp());
        EXPECT(0x6a32, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x71, gbc.readMem(0xb0c3));
        // 8E 012F
        gbc.setState(0x266e, 0x921d, 0x3aa0, 0x617d, 0xa595, 0xa7f7, 0x0, 0x0);
        gbc.writeMem(0x266e, { 0x8e });
        gbc.writeMem(0xa7f7, { 0x4d });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x921d, gbc.sp());
        EXPECT(0x266f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x4d, gbc.readMem(0xa7f7));
        // 8E 0131
        gbc.setState(0xb19e, 0x660, 0x7c60, 0x70b2, 0x9abb, 0x6979, 0x0, 0x1);
        gbc.writeMem(0x6979, { 0xaf });
        gbc.writeMem(0xb19e, { 0x8e });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x69, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x660, gbc.sp());
        EXPECT(0xb19f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb19e));
        // 8E 0132
        gbc.setState(0x60ad, 0xa472, 0xbb90, 0x5ca9, 0x5efe, 0xeda2, 0x0, 0x0);
        gbc.writeMem(0x60ad, { 0x8e });
        gbc.writeMem(0xeda2, { 0xdd });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x5c, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0xa472, gbc.sp());
        EXPECT(0x60ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xdd, gbc.readMem(0xeda2));
        // 8E 0133
        gbc.setState(0x7472, 0x99b1, 0x5fc0, 0x5ee1, 0x4dd, 0x92e6, 0x0, 0x1);
        gbc.writeMem(0x7472, { 0x8e });
        gbc.writeMem(0x92e6, { 0xab });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x99b1, gbc.sp());
        EXPECT(0x7473, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xab, gbc.readMem(0x92e6));
        // 8E 0134
        gbc.setState(0x114, 0x7acf, 0xbc60, 0xdffe, 0x105c, 0x4974, 0x1, 0x1);
        gbc.writeMem(0x114, { 0x8e });
        gbc.writeMem(0x4974, { 0x39 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x10, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x7acf, gbc.sp());
        EXPECT(0x115, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0135
        gbc.setState(0xdba9, 0x81a6, 0xe0c0, 0xbdd0, 0x85ca, 0xd91a, 0x1, 0x1);
        gbc.writeMem(0xd91a, { 0xa4 });
        gbc.writeMem(0xdba9, { 0x8e });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x81a6, gbc.sp());
        EXPECT(0xdbaa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa4, gbc.readMem(0xd91a));
        EXPECT(0x8e, gbc.readMem(0xdba9));
        // 8E 0136
        gbc.setState(0x7c73, 0x6d41, 0x68c0, 0xbddc, 0x829e, 0x1ba1, 0x1, 0x0);
        gbc.writeMem(0x1ba1, { 0xf });
        gbc.writeMem(0x7c73, { 0x8e });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x6d41, gbc.sp());
        EXPECT(0x7c74, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0137
        gbc.setState(0xade8, 0x67dd, 0xb820, 0x6e48, 0x141c, 0xa9d3, 0x1, 0x0);
        gbc.writeMem(0xa9d3, { 0xcf });
        gbc.writeMem(0xade8, { 0x8e });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x67dd, gbc.sp());
        EXPECT(0xade9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcf, gbc.readMem(0xa9d3));
        EXPECT(0x8e, gbc.readMem(0xade8));
        // 8E 0138
        gbc.setState(0xc9d3, 0xa99, 0xe600, 0xd76f, 0x1432, 0x1e19, 0x0, 0x1);
        gbc.writeMem(0x1e19, { 0xef });
        gbc.writeMem(0xc9d3, { 0x8e });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0xa99, gbc.sp());
        EXPECT(0xc9d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc9d3));
        // 8E 0139
        gbc.setState(0x3101, 0x2c71, 0xd030, 0xf749, 0xc16e, 0x49f6, 0x1, 0x0);
        gbc.writeMem(0x3101, { 0x8e });
        gbc.writeMem(0x49f6, { 0x77 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x2c71, gbc.sp());
        EXPECT(0x3102, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 013A
        gbc.setState(0x8ec9, 0x7a63, 0x2ec0, 0x1286, 0xa7df, 0xddae, 0x0, 0x0);
        gbc.writeMem(0x8ec9, { 0x8e });
        gbc.writeMem(0xddae, { 0x89 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x7a63, gbc.sp());
        EXPECT(0x8eca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8ec9));
        EXPECT(0x89, gbc.readMem(0xddae));
        // 8E 013B
        gbc.setState(0xa101, 0x16c8, 0x6760, 0xdb19, 0xa0d5, 0x4562, 0x1, 0x0);
        gbc.writeMem(0x4562, { 0x78 });
        gbc.writeMem(0xa101, { 0x8e });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xdb, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x16c8, gbc.sp());
        EXPECT(0xa102, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa101));
        // 8E 013C
        gbc.setState(0x4885, 0xd06, 0x8d40, 0x7c60, 0xef5b, 0x4e40, 0x1, 0x1);
        gbc.writeMem(0x4885, { 0x8e });
        gbc.writeMem(0x4e40, { 0xc5 });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x5b, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xd06, gbc.sp());
        EXPECT(0x4886, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 013D
        gbc.setState(0xc654, 0x1c67, 0x1000, 0x868e, 0x2c74, 0xfb21, 0x0, 0x1);
        gbc.writeMem(0xc654, { 0x8e });
        gbc.writeMem(0xfb21, { 0x1e });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x86, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x1c67, gbc.sp());
        EXPECT(0xc655, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc654));
        EXPECT(0x1e, gbc.readMem(0xfb21));
        // 8E 013E
        gbc.setState(0x7162, 0x5f6d, 0xf470, 0xc1a2, 0xcdf3, 0x7d7b, 0x0, 0x1);
        gbc.writeMem(0x7162, { 0x8e });
        gbc.writeMem(0x7d7b, { 0x3d });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x5f6d, gbc.sp());
        EXPECT(0x7163, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 013F
        gbc.setState(0x80f3, 0xedf3, 0x2b50, 0x91a7, 0x58bf, 0x66c2, 0x1, 0x1);
        gbc.writeMem(0x66c2, { 0x71 });
        gbc.writeMem(0x80f3, { 0x8e });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xbf, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0xedf3, gbc.sp());
        EXPECT(0x80f4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x80f3));
        // 8E 0141
        gbc.setState(0xbe48, 0x83dd, 0x74f0, 0x78c9, 0x861d, 0x8a1e, 0x1, 0x1);
        gbc.writeMem(0x8a1e, { 0xe });
        gbc.writeMem(0xbe48, { 0x8e });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x83dd, gbc.sp());
        EXPECT(0xbe49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe, gbc.readMem(0x8a1e));
        EXPECT(0x8e, gbc.readMem(0xbe48));
        // 8E 0142
        gbc.setState(0x4184, 0xd627, 0xff10, 0xa792, 0x6d02, 0x623a, 0x0, 0x0);
        gbc.writeMem(0x4184, { 0x8e });
        gbc.writeMem(0x623a, { 0x35 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xd627, gbc.sp());
        EXPECT(0x4185, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0143
        gbc.setState(0xdc8, 0x15df, 0x170, 0x60e3, 0x51e0, 0xcc8c, 0x1, 0x0);
        gbc.writeMem(0xdc8, { 0x8e });
        gbc.writeMem(0xcc8c, { 0xcd });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x51, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x15df, gbc.sp());
        EXPECT(0xdc9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xcd, gbc.readMem(0xcc8c));
        // 8E 0144
        gbc.setState(0xbc76, 0x4bb1, 0x8c10, 0x6abe, 0xd7b8, 0x9323, 0x0, 0x1);
        gbc.writeMem(0x9323, { 0xa5 });
        gbc.writeMem(0xbc76, { 0x8e });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x4bb1, gbc.sp());
        EXPECT(0xbc77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa5, gbc.readMem(0x9323));
        EXPECT(0x8e, gbc.readMem(0xbc76));
        // 8E 0146
        gbc.setState(0xe32d, 0x597a, 0xd510, 0x527e, 0x2f58, 0xe9c6, 0x0, 0x0);
        gbc.writeMem(0xe32d, { 0x8e });
        gbc.writeMem(0xe9c6, { 0x42 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xe9, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x597a, gbc.sp());
        EXPECT(0xe32e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe32d));
        EXPECT(0x42, gbc.readMem(0xe9c6));
        // 8E 0147
        gbc.setState(0xc5ee, 0x3279, 0x670, 0x822d, 0x2f0a, 0xae25, 0x1, 0x1);
        gbc.writeMem(0xae25, { 0x71 });
        gbc.writeMem(0xc5ee, { 0x8e });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x3279, gbc.sp());
        EXPECT(0xc5ef, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x71, gbc.readMem(0xae25));
        EXPECT(0x8e, gbc.readMem(0xc5ee));
        // 8E 0148
        gbc.setState(0x88ff, 0x6680, 0x3ae0, 0x7590, 0x6874, 0x783e, 0x1, 0x0);
        gbc.writeMem(0x783e, { 0x5c });
        gbc.writeMem(0x88ff, { 0x8e });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x6680, gbc.sp());
        EXPECT(0x8900, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x88ff));
        // 8E 0149
        gbc.setState(0xa7bb, 0xf4f4, 0xdd40, 0x9fc1, 0x5f0c, 0x4149, 0x1, 0x0);
        gbc.writeMem(0x4149, { 0x45 });
        gbc.writeMem(0xa7bb, { 0x8e });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xc, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xf4f4, gbc.sp());
        EXPECT(0xa7bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa7bb));
        // 8E 014A
        gbc.setState(0xae8d, 0x4715, 0x4780, 0xbbe6, 0xec5c, 0x31d3, 0x1, 0x0);
        gbc.writeMem(0x31d3, { 0x99 });
        gbc.writeMem(0xae8d, { 0x8e });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0x4715, gbc.sp());
        EXPECT(0xae8e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xae8d));
        // 8E 014B
        gbc.setState(0x17b0, 0x7f6c, 0x5360, 0x9c95, 0xd7e1, 0x9807, 0x1, 0x0);
        gbc.writeMem(0x17b0, { 0x8e });
        gbc.writeMem(0x9807, { 0xc1 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x7f6c, gbc.sp());
        EXPECT(0x17b1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc1, gbc.readMem(0x9807));
        // 8E 014C
        gbc.setState(0x58b4, 0x1eb3, 0x63c0, 0xb298, 0x2389, 0xa460, 0x1, 0x1);
        gbc.writeMem(0x58b4, { 0x8e });
        gbc.writeMem(0xa460, { 0xb1 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x1eb3, gbc.sp());
        EXPECT(0x58b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb1, gbc.readMem(0xa460));
        // 8E 014D
        gbc.setState(0xd89f, 0xb5d8, 0xca90, 0xd784, 0x8a80, 0x309f, 0x0, 0x0);
        gbc.writeMem(0x309f, { 0xbc });
        gbc.writeMem(0xd89f, { 0x8e });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xd7, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0xb5d8, gbc.sp());
        EXPECT(0xd8a0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd89f));
        // 8E 014E
        gbc.setState(0x6134, 0xdf71, 0x4b30, 0x33c, 0x9078, 0xa2ea, 0x1, 0x0);
        gbc.writeMem(0x6134, { 0x8e });
        gbc.writeMem(0xa2ea, { 0x37 });
        gbc.step();
        EXPECT(0x83, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xdf71, gbc.sp());
        EXPECT(0x6135, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x37, gbc.readMem(0xa2ea));
        // 8E 014F
        gbc.setState(0x193, 0x9c5f, 0x89e0, 0xe101, 0xacd4, 0x79be, 0x0, 0x0);
        gbc.writeMem(0x193, { 0x8e });
        gbc.writeMem(0x79be, { 0x29 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0xe1, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x9c5f, gbc.sp());
        EXPECT(0x194, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0150
        gbc.setState(0xfd4, 0xec3, 0xd200, 0xbca, 0x163a, 0x5d06, 0x1, 0x0);
        gbc.writeMem(0xfd4, { 0x8e });
        gbc.writeMem(0x5d06, { 0x4d });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xec3, gbc.sp());
        EXPECT(0xfd5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0151
        gbc.setState(0x6a38, 0x1f07, 0xb830, 0xfd78, 0x4cb8, 0x51eb, 0x0, 0x1);
        gbc.writeMem(0x51eb, { 0xa4 });
        gbc.writeMem(0x6a38, { 0x8e });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xfd, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x1f07, gbc.sp());
        EXPECT(0x6a39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0152
        gbc.setState(0x2b38, 0x1ed0, 0x3350, 0x4dd4, 0x35df, 0xa5f5, 0x0, 0x0);
        gbc.writeMem(0x2b38, { 0x8e });
        gbc.writeMem(0xa5f5, { 0xbe });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x1ed0, gbc.sp());
        EXPECT(0x2b39, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xa5f5));
        // 8E 0153
        gbc.setState(0xd0e8, 0xc071, 0x4d0, 0xb60e, 0xdef6, 0x8043, 0x0, 0x0);
        gbc.writeMem(0x8043, { 0xb8 });
        gbc.writeMem(0xd0e8, { 0x8e });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0xc071, gbc.sp());
        EXPECT(0xd0e9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb8, gbc.readMem(0x8043));
        EXPECT(0x8e, gbc.readMem(0xd0e8));
        // 8E 0155
        gbc.setState(0x4f99, 0x2f7a, 0x8ce0, 0x6272, 0xa293, 0x3de2, 0x0, 0x1);
        gbc.writeMem(0x3de2, { 0x38 });
        gbc.writeMem(0x4f99, { 0x8e });
        gbc.step();
        EXPECT(0xc4, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x3d, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x2f7a, gbc.sp());
        EXPECT(0x4f9a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0157
        gbc.setState(0xa7ed, 0x915a, 0xc450, 0xf243, 0x6b30, 0xd4c0, 0x0, 0x0);
        gbc.writeMem(0xa7ed, { 0x8e });
        gbc.writeMem(0xd4c0, { 0xca });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0xf2, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x915a, gbc.sp());
        EXPECT(0xa7ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa7ed));
        EXPECT(0xca, gbc.readMem(0xd4c0));
        // 8E 0158
        gbc.setState(0xd9a5, 0x1875, 0x9f80, 0xc1d8, 0x84c8, 0xbf18, 0x0, 0x1);
        gbc.writeMem(0xbf18, { 0x56 });
        gbc.writeMem(0xd9a5, { 0x8e });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xd8, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xc8, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x1875, gbc.sp());
        EXPECT(0xd9a6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x56, gbc.readMem(0xbf18));
        EXPECT(0x8e, gbc.readMem(0xd9a5));
        // 8E 0159
        gbc.setState(0xc02, 0x1e0a, 0xf4b0, 0x34b4, 0x5f13, 0x92c, 0x0, 0x1);
        gbc.writeMem(0x92c, { 0x16 });
        gbc.writeMem(0xc02, { 0x8e });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xb4, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x2c, gbc.l());
        EXPECT(0x1e0a, gbc.sp());
        EXPECT(0xc03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 015A
        gbc.setState(0xb45b, 0x6f38, 0x84a0, 0x288a, 0x362e, 0xd883, 0x1, 0x0);
        gbc.writeMem(0xb45b, { 0x8e });
        gbc.writeMem(0xd883, { 0xa3 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x2e, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x6f38, gbc.sp());
        EXPECT(0xb45c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb45b));
        EXPECT(0xa3, gbc.readMem(0xd883));
        // 8E 015B
        gbc.setState(0x7a0, 0xe788, 0xd770, 0x7c1f, 0xe293, 0xfe7b, 0x1, 0x0);
        gbc.writeMem(0x7a0, { 0x8e });
        gbc.writeMem(0xfe7b, { 0x89 });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0xe788, gbc.sp());
        EXPECT(0x7a1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x89, gbc.readMem(0xfe7b));
        // 8E 015C
        gbc.setState(0xc06, 0x598e, 0x10b0, 0xea71, 0x482a, 0xe363, 0x0, 0x0);
        gbc.writeMem(0xc06, { 0x8e });
        gbc.writeMem(0xe363, { 0xc8 });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xe3, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x598e, gbc.sp());
        EXPECT(0xc07, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc8, gbc.readMem(0xe363));
        // 8E 015D
        gbc.setState(0x1515, 0x8294, 0x87b0, 0x9856, 0xa5b8, 0xe066, 0x1, 0x0);
        gbc.writeMem(0x1515, { 0x8e });
        gbc.writeMem(0xe066, { 0x4b });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x8294, gbc.sp());
        EXPECT(0x1516, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x4b, gbc.readMem(0xe066));
        // 8E 015E
        gbc.setState(0x7331, 0x8a21, 0x6f90, 0x2d72, 0x8bd3, 0xec46, 0x1, 0x0);
        gbc.writeMem(0x7331, { 0x8e });
        gbc.writeMem(0xec46, { 0xbe });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x8a21, gbc.sp());
        EXPECT(0x7332, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbe, gbc.readMem(0xec46));
        // 8E 015F
        gbc.setState(0x681d, 0xe06d, 0xf10, 0xf15a, 0xff6d, 0xbd8, 0x1, 0x1);
        gbc.writeMem(0xbd8, { 0xbf });
        gbc.writeMem(0x681d, { 0x8e });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xe06d, gbc.sp());
        EXPECT(0x681e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0160
        gbc.setState(0x434b, 0xbb96, 0x750, 0xf47a, 0xcce7, 0x3ad2, 0x0, 0x1);
        gbc.writeMem(0x3ad2, { 0xf });
        gbc.writeMem(0x434b, { 0x8e });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0xbb96, gbc.sp());
        EXPECT(0x434c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0162
        gbc.setState(0x5183, 0x42a6, 0xa3f0, 0x57f2, 0x678, 0x7c1a, 0x1, 0x0);
        gbc.writeMem(0x5183, { 0x8e });
        gbc.writeMem(0x7c1a, { 0x2f });
        gbc.step();
        EXPECT(0xd3, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xf2, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0x42a6, gbc.sp());
        EXPECT(0x5184, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0163
        gbc.setState(0x42ae, 0xd518, 0xd0b0, 0x936, 0x7093, 0xe172, 0x1, 0x1);
        gbc.writeMem(0x42ae, { 0x8e });
        gbc.writeMem(0xe172, { 0x93 });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x9, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0xd518, gbc.sp());
        EXPECT(0x42af, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x93, gbc.readMem(0xe172));
        // 8E 0164
        gbc.setState(0x2d8e, 0x7250, 0x3c00, 0x4417, 0x7066, 0x6b0b, 0x1, 0x1);
        gbc.writeMem(0x2d8e, { 0x8e });
        gbc.writeMem(0x6b0b, { 0x3a });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x44, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x66, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x7250, gbc.sp());
        EXPECT(0x2d8f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0165
        gbc.setState(0xa65b, 0x177f, 0x7130, 0xb8ef, 0xb8ae, 0x89e6, 0x1, 0x1);
        gbc.writeMem(0x89e6, { 0x8 });
        gbc.writeMem(0xa65b, { 0x8e });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x177f, gbc.sp());
        EXPECT(0xa65c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8, gbc.readMem(0x89e6));
        EXPECT(0x8e, gbc.readMem(0xa65b));
        // 8E 0166
        gbc.setState(0x6c2f, 0xaf51, 0x3500, 0xa094, 0xd863, 0xd962, 0x1, 0x0);
        gbc.writeMem(0x6c2f, { 0x8e });
        gbc.writeMem(0xd962, { 0x6a });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0xd9, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0xaf51, gbc.sp());
        EXPECT(0x6c30, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6a, gbc.readMem(0xd962));
        // 8E 0167
        gbc.setState(0x9295, 0x6aa4, 0x8fb0, 0xbbd5, 0x5881, 0x2930, 0x0, 0x1);
        gbc.writeMem(0x2930, { 0x40 });
        gbc.writeMem(0x9295, { 0x8e });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x6aa4, gbc.sp());
        EXPECT(0x9296, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9295));
        // 8E 0168
        gbc.setState(0x257e, 0x50e3, 0xf120, 0x5b51, 0x4c56, 0x32b5, 0x0, 0x1);
        gbc.writeMem(0x257e, { 0x8e });
        gbc.writeMem(0x32b5, { 0xd8 });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x50e3, gbc.sp());
        EXPECT(0x257f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0169
        gbc.setState(0x73e9, 0x8319, 0x2a00, 0xb9a8, 0xe01f, 0x887c, 0x1, 0x0);
        gbc.writeMem(0x73e9, { 0x8e });
        gbc.writeMem(0x887c, { 0xbb });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x8319, gbc.sp());
        EXPECT(0x73ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xbb, gbc.readMem(0x887c));
        // 8E 016A
        gbc.setState(0x11f4, 0xcc31, 0x8250, 0xd281, 0x48c7, 0x912f, 0x0, 0x0);
        gbc.writeMem(0x11f4, { 0x8e });
        gbc.writeMem(0x912f, { 0xd0 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x81, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xcc31, gbc.sp());
        EXPECT(0x11f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd0, gbc.readMem(0x912f));
        // 8E 016B
        gbc.setState(0xef56, 0x7114, 0x83f0, 0x34bb, 0xcf33, 0x5423, 0x0, 0x0);
        gbc.writeMem(0x5423, { 0x5e });
        gbc.writeMem(0xef56, { 0x8e });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x7114, gbc.sp());
        EXPECT(0xef57, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xef56));
        // 8E 016C
        gbc.setState(0x41c1, 0x1c15, 0x9f80, 0xcac7, 0x3ac2, 0x7e33, 0x1, 0x1);
        gbc.writeMem(0x41c1, { 0x8e });
        gbc.writeMem(0x7e33, { 0xe1 });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x1c15, gbc.sp());
        EXPECT(0x41c2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 016D
        gbc.setState(0x4838, 0xc42c, 0x980, 0xdc24, 0xb4c0, 0x1a7d, 0x1, 0x1);
        gbc.writeMem(0x1a7d, { 0x47 });
        gbc.writeMem(0x4838, { 0x8e });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xb4, gbc.d());
        EXPECT(0xc0, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xc42c, gbc.sp());
        EXPECT(0x4839, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 016E
        gbc.setState(0x199b, 0xd2c4, 0x5510, 0x6246, 0x454, 0x3a50, 0x1, 0x1);
        gbc.writeMem(0x199b, { 0x8e });
        gbc.writeMem(0x3a50, { 0xe7 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x3a, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xd2c4, gbc.sp());
        EXPECT(0x199c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 016F
        gbc.setState(0xf4a, 0x98ca, 0xc8b0, 0xfb86, 0x44a2, 0x2776, 0x1, 0x1);
        gbc.writeMem(0xf4a, { 0x8e });
        gbc.writeMem(0x2776, { 0x67 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x98ca, gbc.sp());
        EXPECT(0xf4b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0170
        gbc.setState(0xb0f0, 0xbb25, 0x81b0, 0x1a46, 0xf116, 0xe766, 0x1, 0x1);
        gbc.writeMem(0xb0f0, { 0x8e });
        gbc.writeMem(0xe766, { 0xf });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xbb25, gbc.sp());
        EXPECT(0xb0f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb0f0));
        EXPECT(0xf, gbc.readMem(0xe766));
        // 8E 0171
        gbc.setState(0xb216, 0x965c, 0x3040, 0x9d9c, 0x5cb1, 0x87ed, 0x1, 0x1);
        gbc.writeMem(0x87ed, { 0x8f });
        gbc.writeMem(0xb216, { 0x8e });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x965c, gbc.sp());
        EXPECT(0xb217, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8f, gbc.readMem(0x87ed));
        EXPECT(0x8e, gbc.readMem(0xb216));
        // 8E 0172
        gbc.setState(0xe915, 0x7198, 0x5bc0, 0xae28, 0x71c3, 0xbbbe, 0x1, 0x1);
        gbc.writeMem(0xbbbe, { 0x8f });
        gbc.writeMem(0xe915, { 0x8e });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x71, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x7198, gbc.sp());
        EXPECT(0xe916, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8f, gbc.readMem(0xbbbe));
        EXPECT(0x8e, gbc.readMem(0xe915));
        // 8E 0173
        gbc.setState(0xac54, 0xe592, 0x75e0, 0x91ff, 0x7e5f, 0x1434, 0x0, 0x1);
        gbc.writeMem(0x1434, { 0xc8 });
        gbc.writeMem(0xac54, { 0x8e });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xe592, gbc.sp());
        EXPECT(0xac55, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xac54));
        // 8E 0174
        gbc.setState(0x29d0, 0x5ed7, 0x1540, 0xab7a, 0xf41f, 0x3e55, 0x0, 0x0);
        gbc.writeMem(0x29d0, { 0x8e });
        gbc.writeMem(0x3e55, { 0x7f });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x5ed7, gbc.sp());
        EXPECT(0x29d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0175
        gbc.setState(0x422b, 0x7829, 0xa680, 0xa8df, 0x8233, 0x65da, 0x0, 0x1);
        gbc.writeMem(0x422b, { 0x8e });
        gbc.writeMem(0x65da, { 0x9 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x7829, gbc.sp());
        EXPECT(0x422c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0176
        gbc.setState(0x75f8, 0xa118, 0x8eb0, 0x64d6, 0x9064, 0x9bcb, 0x0, 0x1);
        gbc.writeMem(0x75f8, { 0x8e });
        gbc.writeMem(0x9bcb, { 0x74 });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xa118, gbc.sp());
        EXPECT(0x75f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x74, gbc.readMem(0x9bcb));
        // 8E 0177
        gbc.setState(0xe93, 0xc76a, 0xc690, 0x13a4, 0xa138, 0xc3b, 0x1, 0x0);
        gbc.writeMem(0xc3b, { 0xb3 });
        gbc.writeMem(0xe93, { 0x8e });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0xc76a, gbc.sp());
        EXPECT(0xe94, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0178
        gbc.setState(0xdb70, 0x3cf7, 0xc9f0, 0xdfcb, 0xc4ab, 0x278e, 0x1, 0x0);
        gbc.writeMem(0x278e, { 0x71 });
        gbc.writeMem(0xdb70, { 0x8e });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xab, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x8e, gbc.l());
        EXPECT(0x3cf7, gbc.sp());
        EXPECT(0xdb71, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdb70));
        // 8E 017A
        gbc.setState(0x4cef, 0x3465, 0xfc00, 0x4553, 0xe103, 0x9a3b, 0x1, 0x0);
        gbc.writeMem(0x4cef, { 0x8e });
        gbc.writeMem(0x9a3b, { 0x2a });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x53, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x3465, gbc.sp());
        EXPECT(0x4cf0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x2a, gbc.readMem(0x9a3b));
        // 8E 017B
        gbc.setState(0x4b87, 0x38f5, 0x5800, 0x347d, 0x44dd, 0xaf43, 0x1, 0x0);
        gbc.writeMem(0x4b87, { 0x8e });
        gbc.writeMem(0xaf43, { 0xb });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x43, gbc.l());
        EXPECT(0x38f5, gbc.sp());
        EXPECT(0x4b88, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb, gbc.readMem(0xaf43));
        // 8E 017C
        gbc.setState(0x1d52, 0x4644, 0x53d0, 0xd2b0, 0xbb48, 0x1ad6, 0x0, 0x1);
        gbc.writeMem(0x1ad6, { 0xa0 });
        gbc.writeMem(0x1d52, { 0x8e });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0x4644, gbc.sp());
        EXPECT(0x1d53, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 017D
        gbc.setState(0x2373, 0xa099, 0xdf90, 0xf905, 0x6076, 0x2bb5, 0x1, 0x0);
        gbc.writeMem(0x2373, { 0x8e });
        gbc.writeMem(0x2bb5, { 0x8f });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x2b, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0xa099, gbc.sp());
        EXPECT(0x2374, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 017E
        gbc.setState(0xa08d, 0xe52b, 0x1f10, 0x9a05, 0xe09a, 0x2a1a, 0x0, 0x0);
        gbc.writeMem(0x2a1a, { 0x46 });
        gbc.writeMem(0xa08d, { 0x8e });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0x2a, gbc.h());
        EXPECT(0x1a, gbc.l());
        EXPECT(0xe52b, gbc.sp());
        EXPECT(0xa08e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa08d));
        // 8E 017F
        gbc.setState(0x1fb2, 0x8cba, 0x7b0, 0x2b41, 0x4600, 0x9cf0, 0x1, 0x1);
        gbc.writeMem(0x1fb2, { 0x8e });
        gbc.writeMem(0x9cf0, { 0x94 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x46, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x8cba, gbc.sp());
        EXPECT(0x1fb3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x94, gbc.readMem(0x9cf0));
        // 8E 0180
        gbc.setState(0xcd03, 0x3832, 0xe010, 0x9668, 0x7bef, 0xe072, 0x0, 0x1);
        gbc.writeMem(0xcd03, { 0x8e });
        gbc.writeMem(0xe072, { 0x99 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x3832, gbc.sp());
        EXPECT(0xcd04, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xcd03));
        EXPECT(0x99, gbc.readMem(0xe072));
        // 8E 0181
        gbc.setState(0x24e7, 0x452f, 0x7370, 0x5de0, 0x373c, 0xc43a, 0x0, 0x1);
        gbc.writeMem(0x24e7, { 0x8e });
        gbc.writeMem(0xc43a, { 0x75 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x452f, gbc.sp());
        EXPECT(0x24e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x75, gbc.readMem(0xc43a));
        // 8E 0182
        gbc.setState(0x84b1, 0x25d7, 0xf560, 0xf9e6, 0x39f1, 0x91d0, 0x0, 0x0);
        gbc.writeMem(0x84b1, { 0x8e });
        gbc.writeMem(0x91d0, { 0x78 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0xe6, gbc.c());
        EXPECT(0x39, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0x25d7, gbc.sp());
        EXPECT(0x84b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x84b1));
        EXPECT(0x78, gbc.readMem(0x91d0));
        // 8E 0183
        gbc.setState(0x779b, 0xd38e, 0x5ed0, 0xb48e, 0x273d, 0x365f, 0x0, 0x1);
        gbc.writeMem(0x365f, { 0x44 });
        gbc.writeMem(0x779b, { 0x8e });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xd38e, gbc.sp());
        EXPECT(0x779c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0184
        gbc.setState(0x323, 0x580c, 0xff30, 0xe5c5, 0xdb35, 0x77d, 0x1, 0x0);
        gbc.writeMem(0x323, { 0x8e });
        gbc.writeMem(0x77d, { 0x2f });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0xe5, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x35, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x580c, gbc.sp());
        EXPECT(0x324, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0185
        gbc.setState(0xa6de, 0xbd91, 0x22c0, 0x9069, 0xf172, 0xd406, 0x1, 0x1);
        gbc.writeMem(0xa6de, { 0x8e });
        gbc.writeMem(0xd406, { 0x20 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xbd91, gbc.sp());
        EXPECT(0xa6df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa6de));
        EXPECT(0x20, gbc.readMem(0xd406));
        // 8E 0186
        gbc.setState(0x20b9, 0x174e, 0xc230, 0x3396, 0xad33, 0x1c02, 0x1, 0x0);
        gbc.writeMem(0x1c02, { 0xbc });
        gbc.writeMem(0x20b9, { 0x8e });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x174e, gbc.sp());
        EXPECT(0x20ba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0187
        gbc.setState(0xc2fd, 0x973b, 0xbf10, 0xb400, 0xf194, 0x5960, 0x1, 0x1);
        gbc.writeMem(0x5960, { 0x27 });
        gbc.writeMem(0xc2fd, { 0x8e });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xf1, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0x973b, gbc.sp());
        EXPECT(0xc2fe, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc2fd));
        // 8E 0189
        gbc.setState(0xa360, 0x3e04, 0x74e0, 0x5035, 0xe848, 0xe407, 0x0, 0x0);
        gbc.writeMem(0xa360, { 0x8e });
        gbc.writeMem(0xe407, { 0x9a });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x3e04, gbc.sp());
        EXPECT(0xa361, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa360));
        EXPECT(0x9a, gbc.readMem(0xe407));
        // 8E 018A
        gbc.setState(0xc4af, 0xefcc, 0x1850, 0xfce8, 0xab6a, 0x9598, 0x0, 0x1);
        gbc.writeMem(0x9598, { 0xe3 });
        gbc.writeMem(0xc4af, { 0x8e });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xefcc, gbc.sp());
        EXPECT(0xc4b0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xe3, gbc.readMem(0x9598));
        EXPECT(0x8e, gbc.readMem(0xc4af));
        // 8E 018B
        gbc.setState(0x14bb, 0x3fac, 0x3820, 0x5052, 0x6b6d, 0xa133, 0x0, 0x0);
        gbc.writeMem(0x14bb, { 0x8e });
        gbc.writeMem(0xa133, { 0xa2 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x6b, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x3fac, gbc.sp());
        EXPECT(0x14bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa2, gbc.readMem(0xa133));
        // 8E 018C
        gbc.setState(0x61d9, 0x13b1, 0x4000, 0xf99f, 0x9013, 0x35a4, 0x1, 0x0);
        gbc.writeMem(0x35a4, { 0xd6 });
        gbc.writeMem(0x61d9, { 0x8e });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0x13, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x13b1, gbc.sp());
        EXPECT(0x61da, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 018D
        gbc.setState(0x2a4d, 0x137b, 0xbd30, 0xf419, 0x40cd, 0x8b47, 0x0, 0x1);
        gbc.writeMem(0x2a4d, { 0x8e });
        gbc.writeMem(0x8b47, { 0x3 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xf4, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0x8b, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x137b, gbc.sp());
        EXPECT(0x2a4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3, gbc.readMem(0x8b47));
        // 8E 018E
        gbc.setState(0xbfdf, 0x3478, 0x86c0, 0x486a, 0xeb74, 0x5ef7, 0x1, 0x1);
        gbc.writeMem(0x5ef7, { 0xdb });
        gbc.writeMem(0xbfdf, { 0x8e });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x6a, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x3478, gbc.sp());
        EXPECT(0xbfe0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xbfdf));
        // 8E 018F
        gbc.setState(0x7a3, 0x4ad1, 0x79e0, 0x29e7, 0x4be8, 0x2429, 0x0, 0x1);
        gbc.writeMem(0x7a3, { 0x8e });
        gbc.writeMem(0x2429, { 0xcc });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x29, gbc.b());
        EXPECT(0xe7, gbc.c());
        EXPECT(0x4b, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x4ad1, gbc.sp());
        EXPECT(0x7a4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0190
        gbc.setState(0x5a5b, 0x1322, 0x5610, 0xe9c4, 0xafb0, 0x34e2, 0x1, 0x0);
        gbc.writeMem(0x34e2, { 0x13 });
        gbc.writeMem(0x5a5b, { 0x8e });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0xc4, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x1322, gbc.sp());
        EXPECT(0x5a5c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0191
        gbc.setState(0xe8e6, 0xc206, 0x3950, 0xb543, 0xf2e2, 0x4370, 0x1, 0x0);
        gbc.writeMem(0x4370, { 0x7b });
        gbc.writeMem(0xe8e6, { 0x8e });
        gbc.step();
        EXPECT(0xb5, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0xc206, gbc.sp());
        EXPECT(0xe8e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe8e6));
        // 8E 0192
        gbc.setState(0x87db, 0x2d4a, 0xac20, 0xc58b, 0xce15, 0x8f88, 0x1, 0x1);
        gbc.writeMem(0x87db, { 0x8e });
        gbc.writeMem(0x8f88, { 0x97 });
        gbc.step();
        EXPECT(0x43, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x8b, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x8f, gbc.h());
        EXPECT(0x88, gbc.l());
        EXPECT(0x2d4a, gbc.sp());
        EXPECT(0x87dc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x87db));
        EXPECT(0x97, gbc.readMem(0x8f88));
        // 8E 0193
        gbc.setState(0xe1bc, 0x8cfb, 0x6390, 0x8051, 0x5085, 0x3297, 0x0, 0x0);
        gbc.writeMem(0x3297, { 0xc9 });
        gbc.writeMem(0xe1bc, { 0x8e });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x51, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x97, gbc.l());
        EXPECT(0x8cfb, gbc.sp());
        EXPECT(0xe1bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe1bc));
        // 8E 0194
        gbc.setState(0x4906, 0x9c1d, 0xa040, 0xaf45, 0x80f5, 0x7bc1, 0x1, 0x0);
        gbc.writeMem(0x4906, { 0x8e });
        gbc.writeMem(0x7bc1, { 0x9d });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x9c1d, gbc.sp());
        EXPECT(0x4907, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0195
        gbc.setState(0xe37d, 0xed2a, 0x2090, 0xde21, 0xdf60, 0x1a74, 0x0, 0x0);
        gbc.writeMem(0x1a74, { 0xe4 });
        gbc.writeMem(0xe37d, { 0x8e });
        gbc.step();
        EXPECT(0x5, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0xed2a, gbc.sp());
        EXPECT(0xe37e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe37d));
        // 8E 0196
        gbc.setState(0x9ef7, 0x55e0, 0xf170, 0x2685, 0x6557, 0x2f7b, 0x1, 0x1);
        gbc.writeMem(0x2f7b, { 0xb1 });
        gbc.writeMem(0x9ef7, { 0x8e });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x7b, gbc.l());
        EXPECT(0x55e0, gbc.sp());
        EXPECT(0x9ef8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9ef7));
        // 8E 0197
        gbc.setState(0x735, 0x4ae8, 0x4b80, 0xc642, 0xffbb, 0x2d4a, 0x1, 0x0);
        gbc.writeMem(0x735, { 0x8e });
        gbc.writeMem(0x2d4a, { 0x7c });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x4ae8, gbc.sp());
        EXPECT(0x736, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0198
        gbc.setState(0x4291, 0x8995, 0x4cb0, 0xc609, 0xbde5, 0xde93, 0x1, 0x1);
        gbc.writeMem(0x4291, { 0x8e });
        gbc.writeMem(0xde93, { 0x3d });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x8995, gbc.sp());
        EXPECT(0x4292, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3d, gbc.readMem(0xde93));
        // 8E 0199
        gbc.setState(0x981e, 0x46a0, 0xaf10, 0x5412, 0xc3f5, 0x16c, 0x0, 0x0);
        gbc.writeMem(0x16c, { 0xde });
        gbc.writeMem(0x981e, { 0x8e });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x46a0, gbc.sp());
        EXPECT(0x981f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x981e));
        // 8E 019A
        gbc.setState(0xa5f2, 0x4cab, 0x1bd0, 0xfc1a, 0x7385, 0xdfb6, 0x0, 0x1);
        gbc.writeMem(0xa5f2, { 0x8e });
        gbc.writeMem(0xdfb6, { 0x8a });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x4cab, gbc.sp());
        EXPECT(0xa5f3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa5f2));
        EXPECT(0x8a, gbc.readMem(0xdfb6));
        // 8E 019B
        gbc.setState(0xc0b4, 0x2b09, 0xb7f0, 0x8cc3, 0xb6ee, 0x9596, 0x1, 0x0);
        gbc.writeMem(0x9596, { 0x38 });
        gbc.writeMem(0xc0b4, { 0x8e });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x96, gbc.l());
        EXPECT(0x2b09, gbc.sp());
        EXPECT(0xc0b5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x38, gbc.readMem(0x9596));
        EXPECT(0x8e, gbc.readMem(0xc0b4));
        // 8E 019C
        gbc.setState(0x6f48, 0xc814, 0x330, 0x6204, 0x16ea, 0x5a33, 0x1, 0x1);
        gbc.writeMem(0x5a33, { 0xce });
        gbc.writeMem(0x6f48, { 0x8e });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xc814, gbc.sp());
        EXPECT(0x6f49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 019D
        gbc.setState(0x7a8f, 0x535, 0xfcd0, 0xd1b3, 0x3d19, 0xda08, 0x1, 0x1);
        gbc.writeMem(0x7a8f, { 0x8e });
        gbc.writeMem(0xda08, { 0xcb });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x8, gbc.l());
        EXPECT(0x535, gbc.sp());
        EXPECT(0x7a90, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xcb, gbc.readMem(0xda08));
        // 8E 019E
        gbc.setState(0xbd14, 0x8639, 0xa2d0, 0xada1, 0xc3d1, 0x248a, 0x1, 0x0);
        gbc.writeMem(0x248a, { 0xa1 });
        gbc.writeMem(0xbd14, { 0x8e });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0x8639, gbc.sp());
        EXPECT(0xbd15, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xbd14));
        // 8E 019F
        gbc.setState(0x8c4d, 0x262a, 0x41f0, 0x40b, 0xe3d0, 0xfbe6, 0x1, 0x1);
        gbc.writeMem(0x8c4d, { 0x8e });
        gbc.writeMem(0xfbe6, { 0xd1 });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0xe3, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x262a, gbc.sp());
        EXPECT(0x8c4e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8c4d));
        EXPECT(0xd1, gbc.readMem(0xfbe6));
        // 8E 01A1
        gbc.setState(0x7694, 0x54e, 0x16e0, 0x1e4c, 0xa382, 0xaecb, 0x1, 0x1);
        gbc.writeMem(0x7694, { 0x8e });
        gbc.writeMem(0xaecb, { 0xa4 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x1e, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0x54e, gbc.sp());
        EXPECT(0x7695, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa4, gbc.readMem(0xaecb));
        // 8E 01A2
        gbc.setState(0x8b2d, 0x2268, 0xd7d0, 0x4cb6, 0xe2b2, 0xe5ed, 0x0, 0x1);
        gbc.writeMem(0x8b2d, { 0x8e });
        gbc.writeMem(0xe5ed, { 0xe5 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x2268, gbc.sp());
        EXPECT(0x8b2e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8b2d));
        EXPECT(0xe5, gbc.readMem(0xe5ed));
        // 8E 01A3
        gbc.setState(0xe6ac, 0xa208, 0x3ab0, 0x2e7c, 0xf353, 0xbf48, 0x1, 0x1);
        gbc.writeMem(0xbf48, { 0x6 });
        gbc.writeMem(0xe6ac, { 0x8e });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0xbf, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xa208, gbc.sp());
        EXPECT(0xe6ad, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6, gbc.readMem(0xbf48));
        EXPECT(0x8e, gbc.readMem(0xe6ac));
        // 8E 01A4
        gbc.setState(0x5363, 0x4b93, 0x1d40, 0x916b, 0xe407, 0xfb48, 0x1, 0x1);
        gbc.writeMem(0x5363, { 0x8e });
        gbc.writeMem(0xfb48, { 0x17 });
        gbc.step();
        EXPECT(0x34, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0x4b93, gbc.sp());
        EXPECT(0x5364, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x17, gbc.readMem(0xfb48));
        // 8E 01A5
        gbc.setState(0x9fce, 0xf7cb, 0x7b60, 0x9c2b, 0x1859, 0x38e0, 0x1, 0x1);
        gbc.writeMem(0x38e0, { 0x4f });
        gbc.writeMem(0x9fce, { 0x8e });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0x9c, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0xf7cb, gbc.sp());
        EXPECT(0x9fcf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9fce));
        // 8E 01A6
        gbc.setState(0xb614, 0x22b9, 0x9f80, 0x3b74, 0xcec3, 0x198c, 0x0, 0x0);
        gbc.writeMem(0x198c, { 0x83 });
        gbc.writeMem(0xb614, { 0x8e });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0x22b9, gbc.sp());
        EXPECT(0xb615, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb614));
        // 8E 01A7
        gbc.setState(0xc833, 0x169f, 0xc7d0, 0xdeba, 0x336, 0xbcea, 0x1, 0x1);
        gbc.writeMem(0xbcea, { 0xab });
        gbc.writeMem(0xc833, { 0x8e });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0x3, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x169f, gbc.sp());
        EXPECT(0xc834, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xab, gbc.readMem(0xbcea));
        EXPECT(0x8e, gbc.readMem(0xc833));
        // 8E 01A8
        gbc.setState(0x622, 0x8ec, 0x2b60, 0xa1e0, 0x2b7c, 0x70f1, 0x1, 0x1);
        gbc.writeMem(0x622, { 0x8e });
        gbc.writeMem(0x70f1, { 0x7a });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x70, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x8ec, gbc.sp());
        EXPECT(0x623, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 01A9
        gbc.setState(0x6f4d, 0x91fd, 0x2b0, 0x8467, 0x91e2, 0xf43e, 0x0, 0x1);
        gbc.writeMem(0x6f4d, { 0x8e });
        gbc.writeMem(0xf43e, { 0x86 });
        gbc.step();
        EXPECT(0x89, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x3e, gbc.l());
        EXPECT(0x91fd, gbc.sp());
        EXPECT(0x6f4e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x86, gbc.readMem(0xf43e));
        // 8E 01AA
        gbc.setState(0xb4e3, 0x3451, 0x57c0, 0xc2e, 0x3c07, 0x3b3f, 0x0, 0x0);
        gbc.writeMem(0x3b3f, { 0x58 });
        gbc.writeMem(0xb4e3, { 0x8e });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x3451, gbc.sp());
        EXPECT(0xb4e4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb4e3));
        // 8E 01AB
        gbc.setState(0xcb27, 0xc026, 0xc500, 0xab7e, 0xc588, 0x88f3, 0x0, 0x1);
        gbc.writeMem(0x88f3, { 0x6d });
        gbc.writeMem(0xcb27, { 0x8e });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x88, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xc026, gbc.sp());
        EXPECT(0xcb28, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x6d, gbc.readMem(0x88f3));
        EXPECT(0x8e, gbc.readMem(0xcb27));
        // 8E 01AC
        gbc.setState(0x605f, 0x4a00, 0xf380, 0x78b0, 0x6488, 0x9d22, 0x0, 0x1);
        gbc.writeMem(0x605f, { 0x8e });
        gbc.writeMem(0x9d22, { 0xa4 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xb0, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x4a00, gbc.sp());
        EXPECT(0x6060, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa4, gbc.readMem(0x9d22));
        // 8E 01AD
        gbc.setState(0x55b3, 0xd06c, 0xd230, 0x6c73, 0xc276, 0x30dc, 0x0, 0x1);
        gbc.writeMem(0x30dc, { 0x47 });
        gbc.writeMem(0x55b3, { 0x8e });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x76, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xd06c, gbc.sp());
        EXPECT(0x55b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 01AE
        gbc.setState(0xd1b8, 0x53f9, 0x3f00, 0xda61, 0xbbdd, 0x53b1, 0x1, 0x0);
        gbc.writeMem(0x53b1, { 0x9 });
        gbc.writeMem(0xd1b8, { 0x8e });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x53f9, gbc.sp());
        EXPECT(0xd1b9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd1b8));
        // 8E 01AF
        gbc.setState(0x3191, 0xc4a4, 0xb340, 0xf621, 0x87b1, 0xb106, 0x1, 0x1);
        gbc.writeMem(0x3191, { 0x8e });
        gbc.writeMem(0xb106, { 0xc4 });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xb1, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xc4a4, gbc.sp());
        EXPECT(0x3192, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0xb106));
        // 8E 01B0
        gbc.setState(0x7551, 0xb492, 0x8c60, 0x5dd4, 0x5a9f, 0xf80, 0x0, 0x0);
        gbc.writeMem(0xf80, { 0x8a });
        gbc.writeMem(0x7551, { 0x8e });
        gbc.step();
        EXPECT(0x16, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xd4, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xb492, gbc.sp());
        EXPECT(0x7552, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 01B1
        gbc.setState(0xb9f7, 0x22ed, 0xa730, 0xf044, 0xfb8, 0xf41b, 0x0, 0x0);
        gbc.writeMem(0xb9f7, { 0x8e });
        gbc.writeMem(0xf41b, { 0xd5 });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0x22ed, gbc.sp());
        EXPECT(0xb9f8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb9f7));
        EXPECT(0xd5, gbc.readMem(0xf41b));
        // 8E 01B2
        gbc.setState(0x169, 0x83ca, 0x3a80, 0xf350, 0x7a2a, 0x789f, 0x0, 0x0);
        gbc.writeMem(0x169, { 0x8e });
        gbc.writeMem(0x789f, { 0x2c });
        gbc.step();
        EXPECT(0x66, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x7a, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x83ca, gbc.sp());
        EXPECT(0x16a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 01B3
        gbc.setState(0x4cef, 0x828e, 0xc4b0, 0x9e44, 0xbc77, 0x51f0, 0x0, 0x0);
        gbc.writeMem(0x4cef, { 0x8e });
        gbc.writeMem(0x51f0, { 0xf2 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x77, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x828e, gbc.sp());
        EXPECT(0x4cf0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 01B5
        gbc.setState(0x5152, 0x54b3, 0xaf70, 0xf825, 0xc5d8, 0xe18b, 0x0, 0x1);
        gbc.writeMem(0x5152, { 0x8e });
        gbc.writeMem(0xe18b, { 0xd });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0xe1, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x54b3, gbc.sp());
        EXPECT(0x5153, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xd, gbc.readMem(0xe18b));
        // 8E 01B6
        gbc.setState(0x934d, 0x1aa7, 0xef80, 0xde8e, 0x5b53, 0x9014, 0x0, 0x0);
        gbc.writeMem(0x9014, { 0x26 });
        gbc.writeMem(0x934d, { 0x8e });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x5b, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x1aa7, gbc.sp());
        EXPECT(0x934e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x26, gbc.readMem(0x9014));
        EXPECT(0x8e, gbc.readMem(0x934d));
        // 8E 01B8
        gbc.setState(0x651, 0x1624, 0x4e00, 0x269f, 0xc841, 0xa728, 0x1, 0x0);
        gbc.writeMem(0x651, { 0x8e });
        gbc.writeMem(0xa728, { 0x5d });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0xc8, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x1624, gbc.sp());
        EXPECT(0x652, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x5d, gbc.readMem(0xa728));
        // 8E 01B9
        gbc.setState(0xebc8, 0x6b47, 0x1bf0, 0xabd5, 0x4245, 0x8eb0, 0x0, 0x1);
        gbc.writeMem(0x8eb0, { 0x12 });
        gbc.writeMem(0xebc8, { 0x8e });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x6b47, gbc.sp());
        EXPECT(0xebc9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x12, gbc.readMem(0x8eb0));
        EXPECT(0x8e, gbc.readMem(0xebc8));
        // 8E 01BA
        gbc.setState(0x4775, 0xee0d, 0x82e0, 0xf363, 0x5fd7, 0xeca3, 0x1, 0x0);
        gbc.writeMem(0x4775, { 0x8e });
        gbc.writeMem(0xeca3, { 0x98 });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xee0d, gbc.sp());
        EXPECT(0x4776, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x98, gbc.readMem(0xeca3));
        // 8E 01BC
        gbc.setState(0xcc6e, 0x53b4, 0x890, 0xcb6b, 0xbc8a, 0xca0c, 0x1, 0x1);
        gbc.writeMem(0xca0c, { 0xda });
        gbc.writeMem(0xcc6e, { 0x8e });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x53b4, gbc.sp());
        EXPECT(0xcc6f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xda, gbc.readMem(0xca0c));
        EXPECT(0x8e, gbc.readMem(0xcc6e));
        // 8E 01BD
        gbc.setState(0xafde, 0x5163, 0x9650, 0x6c98, 0x87fa, 0xb307, 0x0, 0x1);
        gbc.writeMem(0xafde, { 0x8e });
        gbc.writeMem(0xb307, { 0xe8 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xfa, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x7, gbc.l());
        EXPECT(0x5163, gbc.sp());
        EXPECT(0xafdf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xafde));
        EXPECT(0xe8, gbc.readMem(0xb307));
        // 8E 01BE
        gbc.setState(0xbc4c, 0xa065, 0x7850, 0x3a5e, 0xde7d, 0xf64c, 0x1, 0x0);
        gbc.writeMem(0xbc4c, { 0x8e });
        gbc.writeMem(0xf64c, { 0xce });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x3a, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xa065, gbc.sp());
        EXPECT(0xbc4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xbc4c));
        EXPECT(0xce, gbc.readMem(0xf64c));
        // 8E 01BF
        gbc.setState(0x35ca, 0x4a92, 0x2250, 0xceaf, 0xeb04, 0x2776, 0x0, 0x1);
        gbc.writeMem(0x2776, { 0x67 });
        gbc.writeMem(0x35ca, { 0x8e });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0xaf, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x27, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x4a92, gbc.sp());
        EXPECT(0x35cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 01C0
        gbc.setState(0xb9b5, 0x24d4, 0x5310, 0x3cfb, 0xabdd, 0x763, 0x1, 0x1);
        gbc.writeMem(0x763, { 0xb4 });
        gbc.writeMem(0xb9b5, { 0x8e });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xab, gbc.d());
        EXPECT(0xdd, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x24d4, gbc.sp());
        EXPECT(0xb9b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb9b5));
        // 8E 01C1
        gbc.setState(0x6e3a, 0x63cb, 0xcc30, 0x6573, 0xaffe, 0x4cd5, 0x0, 0x0);
        gbc.writeMem(0x4cd5, { 0x81 });
        gbc.writeMem(0x6e3a, { 0x8e });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x63cb, gbc.sp());
        EXPECT(0x6e3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 01C2
        gbc.setState(0x3b05, 0xee45, 0x2290, 0xc9b2, 0x4fea, 0x41d3, 0x1, 0x1);
        gbc.writeMem(0x3b05, { 0x8e });
        gbc.writeMem(0x41d3, { 0x69 });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xb2, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xd3, gbc.l());
        EXPECT(0xee45, gbc.sp());
        EXPECT(0x3b06, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 01C3
        gbc.setState(0x7d79, 0x329, 0x6ba0, 0x88a3, 0xd26c, 0xadab, 0x1, 0x0);
        gbc.writeMem(0x7d79, { 0x8e });
        gbc.writeMem(0xadab, { 0x4 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x6c, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x329, gbc.sp());
        EXPECT(0x7d7a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x4, gbc.readMem(0xadab));
        // 8E 01C4
        gbc.setState(0x4bb2, 0xd0a4, 0x38a0, 0x2813, 0x835c, 0xea6a, 0x1, 0x1);
        gbc.writeMem(0x4bb2, { 0x8e });
        gbc.writeMem(0xea6a, { 0xfa });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x28, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xd0a4, gbc.sp());
        EXPECT(0x4bb3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfa, gbc.readMem(0xea6a));
        // 8E 01C5
        gbc.setState(0xb8ae, 0x532e, 0x7c60, 0x262d, 0x8969, 0x9f1, 0x0, 0x0);
        gbc.writeMem(0x9f1, { 0x43 });
        gbc.writeMem(0xb8ae, { 0x8e });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0x26, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x89, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x532e, gbc.sp());
        EXPECT(0xb8af, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb8ae));
        // 8E 01C6
        gbc.setState(0x144e, 0xd0ba, 0x6510, 0xf066, 0xef42, 0x80f3, 0x0, 0x1);
        gbc.writeMem(0x144e, { 0x8e });
        gbc.writeMem(0x80f3, { 0x88 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0xd0ba, gbc.sp());
        EXPECT(0x144f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x88, gbc.readMem(0x80f3));
        // 8E 01C7
        gbc.setState(0x37bb, 0x39c4, 0x2540, 0x6545, 0x8254, 0xff20, 0x1, 0x0);
        gbc.writeMem(0x37bb, { 0x8e });
        gbc.writeMem(0xff20, { 0xec });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x39c4, gbc.sp());
        EXPECT(0x37bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xec, gbc.readMem(0xff20));
        // 8E 01C8
        gbc.setState(0x7bd4, 0xfb5a, 0xcd50, 0x1308, 0x67a9, 0x6a6a, 0x1, 0x0);
        gbc.writeMem(0x6a6a, { 0xa0 });
        gbc.writeMem(0x7bd4, { 0x8e });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xfb5a, gbc.sp());
        EXPECT(0x7bd5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 01C9
        gbc.setState(0x5c66, 0xb71, 0xb320, 0x89c5, 0x4ff3, 0xd57f, 0x0, 0x0);
        gbc.writeMem(0x5c66, { 0x8e });
        gbc.writeMem(0xd57f, { 0x36 });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xb71, gbc.sp());
        EXPECT(0x5c67, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x36, gbc.readMem(0xd57f));
        // 8E 01CA
        gbc.setState(0xbbfa, 0x2a2f, 0xb050, 0xd692, 0x5348, 0xc1ea, 0x1, 0x0);
        gbc.writeMem(0xbbfa, { 0x8e });
        gbc.writeMem(0xc1ea, { 0x57 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x2a2f, gbc.sp());
        EXPECT(0xbbfb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xbbfa));
        EXPECT(0x57, gbc.readMem(0xc1ea));
        // 8E 01CB
        gbc.setState(0x9576, 0xadf3, 0xc330, 0xe379, 0xe02c, 0xb60e, 0x0, 0x0);
        gbc.writeMem(0x9576, { 0x8e });
        gbc.writeMem(0xb60e, { 0xac });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0xadf3, gbc.sp());
        EXPECT(0x9577, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9576));
        EXPECT(0xac, gbc.readMem(0xb60e));
        // 8E 01CC
        gbc.setState(0x9e9e, 0xe1f0, 0x92e0, 0xb51a, 0xebf6, 0x9b52, 0x0, 0x0);
        gbc.writeMem(0x9b52, { 0xa1 });
        gbc.writeMem(0x9e9e, { 0x8e });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0xb5, gbc.b());
        EXPECT(0x1a, gbc.c());
        EXPECT(0xeb, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0xe1f0, gbc.sp());
        EXPECT(0x9e9f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa1, gbc.readMem(0x9b52));
        EXPECT(0x8e, gbc.readMem(0x9e9e));
        // 8E 01CD
        gbc.setState(0xb957, 0xb9f0, 0x1c0, 0x3b3b, 0x7b57, 0x470f, 0x0, 0x0);
        gbc.writeMem(0x470f, { 0x61 });
        gbc.writeMem(0xb957, { 0x8e });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x3b, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0xf, gbc.l());
        EXPECT(0xb9f0, gbc.sp());
        EXPECT(0xb958, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb957));
        // 8E 01CE
        gbc.setState(0x557a, 0x1075, 0xd880, 0xdc9b, 0xc37c, 0x46a9, 0x0, 0x0);
        gbc.writeMem(0x46a9, { 0x6f });
        gbc.writeMem(0x557a, { 0x8e });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x1075, gbc.sp());
        EXPECT(0x557b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 01CF
        gbc.setState(0x255c, 0x2325, 0xb430, 0xbea7, 0x290, 0xa8dc, 0x1, 0x0);
        gbc.writeMem(0x255c, { 0x8e });
        gbc.writeMem(0xa8dc, { 0x5c });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0x2, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0x2325, gbc.sp());
        EXPECT(0x255d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x5c, gbc.readMem(0xa8dc));
        // 8E 01D0
        gbc.setState(0x862f, 0xaf50, 0x8850, 0xa6e3, 0x6508, 0x2000, 0x0, 0x0);
        gbc.writeMem(0x2000, { 0xb1 });
        gbc.writeMem(0x862f, { 0x8e });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xaf50, gbc.sp());
        EXPECT(0x8630, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x862f));
        // 8E 01D1
        gbc.setState(0xbf85, 0x7777, 0x9a20, 0xd4c9, 0x8bee, 0x914c, 0x0, 0x0);
        gbc.writeMem(0x914c, { 0x3 });
        gbc.writeMem(0xbf85, { 0x8e });
        gbc.step();
        EXPECT(0x9d, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0xc9, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x91, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0x7777, gbc.sp());
        EXPECT(0xbf86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3, gbc.readMem(0x914c));
        EXPECT(0x8e, gbc.readMem(0xbf85));
        // 8E 01D2
        gbc.setState(0x24c5, 0x73bb, 0x6d50, 0x4aaa, 0x574f, 0x2164, 0x1, 0x0);
        gbc.writeMem(0x2164, { 0x50 });
        gbc.writeMem(0x24c5, { 0x8e });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x73bb, gbc.sp());
        EXPECT(0x24c6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 01D3
        gbc.setState(0x54e0, 0x19f8, 0xd390, 0x2c69, 0xba3, 0xf1a0, 0x0, 0x0);
        gbc.writeMem(0x54e0, { 0x8e });
        gbc.writeMem(0xf1a0, { 0x33 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x2c, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x19f8, gbc.sp());
        EXPECT(0x54e1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x33, gbc.readMem(0xf1a0));
        // 8E 01D4
        gbc.setState(0x76ef, 0x756, 0xfbc0, 0x3426, 0x2c4b, 0x114d, 0x0, 0x0);
        gbc.writeMem(0x114d, { 0x49 });
        gbc.writeMem(0x76ef, { 0x8e });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x4b, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x4d, gbc.l());
        EXPECT(0x756, gbc.sp());
        EXPECT(0x76f0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 01D5
        gbc.setState(0xb404, 0xbf73, 0x6a60, 0x1fb1, 0xde41, 0xabc7, 0x1, 0x0);
        gbc.writeMem(0xabc7, { 0xc8 });
        gbc.writeMem(0xb404, { 0x8e });
        gbc.step();
        EXPECT(0x32, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0x41, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xbf73, gbc.sp());
        EXPECT(0xb405, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc8, gbc.readMem(0xabc7));
        EXPECT(0x8e, gbc.readMem(0xb404));
        // 8E 01D6
        gbc.setState(0x16dd, 0x8a7c, 0x6780, 0x824c, 0xe7ef, 0x5ccd, 0x1, 0x0);
        gbc.writeMem(0x16dd, { 0x8e });
        gbc.writeMem(0x5ccd, { 0x4b });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x82, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x8a7c, gbc.sp());
        EXPECT(0x16de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 01D7
        gbc.setState(0x8183, 0x2648, 0x19b0, 0x7498, 0x7f17, 0x43e2, 0x0, 0x1);
        gbc.writeMem(0x43e2, { 0x27 });
        gbc.writeMem(0x8183, { 0x8e });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x7f, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x2648, gbc.sp());
        EXPECT(0x8184, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8183));
        // 8E 01D8
        gbc.setState(0xa01, 0xa2c, 0x7780, 0xae34, 0x44a5, 0x108d, 0x1, 0x0);
        gbc.writeMem(0xa01, { 0x8e });
        gbc.writeMem(0x108d, { 0xb9 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0xae, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x8d, gbc.l());
        EXPECT(0xa2c, gbc.sp());
        EXPECT(0xa02, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 01D9
        gbc.setState(0x2ad3, 0x134d, 0xd080, 0x87f9, 0x2ccf, 0x1a58, 0x0, 0x0);
        gbc.writeMem(0x1a58, { 0xaa });
        gbc.writeMem(0x2ad3, { 0x8e });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xcf, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x58, gbc.l());
        EXPECT(0x134d, gbc.sp());
        EXPECT(0x2ad4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 01DA
        gbc.setState(0x9031, 0x5b8d, 0x4220, 0xfa5e, 0xda5c, 0xff65, 0x0, 0x1);
        gbc.writeMem(0x9031, { 0x8e });
        gbc.writeMem(0xff65, { 0xae });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x5b8d, gbc.sp());
        EXPECT(0x9032, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9031));
        EXPECT(0xae, gbc.readMem(0xff65));
        // 8E 01DB
        gbc.setState(0xeb16, 0x7c83, 0xd4d0, 0x9935, 0x3a26, 0x672b, 0x0, 0x1);
        gbc.writeMem(0x672b, { 0xb0 });
        gbc.writeMem(0xeb16, { 0x8e });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x99, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x2b, gbc.l());
        EXPECT(0x7c83, gbc.sp());
        EXPECT(0xeb17, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xeb16));
        // 8E 01DC
        gbc.setState(0xc635, 0x88c6, 0x39e0, 0x9bc2, 0x8c15, 0x9e15, 0x1, 0x0);
        gbc.writeMem(0x9e15, { 0x60 });
        gbc.writeMem(0xc635, { 0x8e });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x88c6, gbc.sp());
        EXPECT(0xc636, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x60, gbc.readMem(0x9e15));
        EXPECT(0x8e, gbc.readMem(0xc635));
        // 8E 01DD
        gbc.setState(0xde2a, 0x33a6, 0xcb30, 0x6040, 0x90f5, 0x4912, 0x0, 0x0);
        gbc.writeMem(0x4912, { 0xad });
        gbc.writeMem(0xde2a, { 0x8e });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x33a6, gbc.sp());
        EXPECT(0xde2b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xde2a));
        // 8E 01DE
        gbc.setState(0x4336, 0x3171, 0xc630, 0x7046, 0x66e2, 0x18ef, 0x1, 0x0);
        gbc.writeMem(0x18ef, { 0x59 });
        gbc.writeMem(0x4336, { 0x8e });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0x3171, gbc.sp());
        EXPECT(0x4337, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 01E0
        gbc.setState(0x9134, 0x9aa7, 0xd2e0, 0xf08e, 0xd3a4, 0x4b6, 0x0, 0x0);
        gbc.writeMem(0x4b6, { 0xc8 });
        gbc.writeMem(0x9134, { 0x8e });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0xd3, gbc.d());
        EXPECT(0xa4, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x9aa7, gbc.sp());
        EXPECT(0x9135, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9134));
        // 8E 01E1
        gbc.setState(0xdc8e, 0x58b6, 0xbd30, 0xff74, 0x17b6, 0x1fd8, 0x0, 0x0);
        gbc.writeMem(0x1fd8, { 0xf5 });
        gbc.writeMem(0xdc8e, { 0x8e });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x58b6, gbc.sp());
        EXPECT(0xdc8f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdc8e));
        // 8E 01E2
        gbc.setState(0x5a33, 0x87ae, 0x45f0, 0xa344, 0xd87a, 0x589f, 0x0, 0x1);
        gbc.writeMem(0x589f, { 0x7b });
        gbc.writeMem(0x5a33, { 0x8e });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xd8, gbc.d());
        EXPECT(0x7a, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x87ae, gbc.sp());
        EXPECT(0x5a34, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 01E3
        gbc.setState(0xb1a6, 0x263f, 0xfd60, 0xecff, 0xdd61, 0xe7f2, 0x0, 0x1);
        gbc.writeMem(0xb1a6, { 0x8e });
        gbc.writeMem(0xe7f2, { 0xaf });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0xdd, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0xe7, gbc.h());
        EXPECT(0xf2, gbc.l());
        EXPECT(0x263f, gbc.sp());
        EXPECT(0xb1a7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb1a6));
        EXPECT(0xaf, gbc.readMem(0xe7f2));
        // 8E 01E4
        gbc.setState(0x7d4a, 0x1f48, 0x38c0, 0x30ff, 0x3539, 0xdfd2, 0x0, 0x1);
        gbc.writeMem(0x7d4a, { 0x8e });
        gbc.writeMem(0xdfd2, { 0x3 });
        gbc.step();
        EXPECT(0x3b, gbc.a());
        EXPECT(0x30, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x1f48, gbc.sp());
        EXPECT(0x7d4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3, gbc.readMem(0xdfd2));
        // 8E 01E5
        gbc.setState(0x3ec2, 0x4949, 0x9d0, 0xa1e0, 0x140b, 0xc33c, 0x1, 0x1);
        gbc.writeMem(0x3ec2, { 0x8e });
        gbc.writeMem(0xc33c, { 0xf2 });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0xe0, gbc.c());
        EXPECT(0x14, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0x4949, gbc.sp());
        EXPECT(0x3ec3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xf2, gbc.readMem(0xc33c));
        // 8E 01E6
        gbc.setState(0x93f8, 0xbe47, 0x6670, 0xc0d9, 0xda54, 0x22e4, 0x1, 0x0);
        gbc.writeMem(0x22e4, { 0xa7 });
        gbc.writeMem(0x93f8, { 0x8e });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0xc0, gbc.b());
        EXPECT(0xd9, gbc.c());
        EXPECT(0xda, gbc.d());
        EXPECT(0x54, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xbe47, gbc.sp());
        EXPECT(0x93f9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x93f8));
        // 8E 01E7
        gbc.setState(0x933f, 0x72d4, 0x6fa0, 0x7194, 0xa914, 0xcdbd, 0x0, 0x1);
        gbc.writeMem(0x933f, { 0x8e });
        gbc.writeMem(0xcdbd, { 0xaf });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x94, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xbd, gbc.l());
        EXPECT(0x72d4, gbc.sp());
        EXPECT(0x9340, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x933f));
        EXPECT(0xaf, gbc.readMem(0xcdbd));
        // 8E 01E8
        gbc.setState(0xd09a, 0x84ce, 0x6820, 0xfaef, 0xe168, 0x57d8, 0x1, 0x0);
        gbc.writeMem(0x57d8, { 0xa1 });
        gbc.writeMem(0xd09a, { 0x8e });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0x84ce, gbc.sp());
        EXPECT(0xd09b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd09a));
        // 8E 01E9
        gbc.setState(0xebe9, 0xd0d4, 0x8e90, 0xb440, 0x2900, 0xecdd, 0x1, 0x0);
        gbc.writeMem(0xebe9, { 0x8e });
        gbc.writeMem(0xecdd, { 0x32 });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0xdd, gbc.l());
        EXPECT(0xd0d4, gbc.sp());
        EXPECT(0xebea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xebe9));
        EXPECT(0x32, gbc.readMem(0xecdd));
        // 8E 01EA
        gbc.setState(0x4e1c, 0xed73, 0xe650, 0x7aec, 0x50ce, 0x982a, 0x0, 0x0);
        gbc.writeMem(0x4e1c, { 0x8e });
        gbc.writeMem(0x982a, { 0x20 });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x50, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xed73, gbc.sp());
        EXPECT(0x4e1d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x20, gbc.readMem(0x982a));
        // 8E 01EB
        gbc.setState(0x1a0b, 0x2268, 0xbb00, 0x6ce8, 0x610f, 0xe63f, 0x0, 0x0);
        gbc.writeMem(0x1a0b, { 0x8e });
        gbc.writeMem(0xe63f, { 0x6e });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0x61, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x2268, gbc.sp());
        EXPECT(0x1a0c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x6e, gbc.readMem(0xe63f));
        // 8E 01EC
        gbc.setState(0xb62e, 0xed2b, 0x34b0, 0xa799, 0x51, 0x9f8c, 0x1, 0x1);
        gbc.writeMem(0x9f8c, { 0x6d });
        gbc.writeMem(0xb62e, { 0x8e });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xa7, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xed2b, gbc.sp());
        EXPECT(0xb62f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6d, gbc.readMem(0x9f8c));
        EXPECT(0x8e, gbc.readMem(0xb62e));
        // 8E 01ED
        gbc.setState(0x49ec, 0x8622, 0xadb0, 0x8587, 0x806, 0x3305, 0x1, 0x0);
        gbc.writeMem(0x3305, { 0xd0 });
        gbc.writeMem(0x49ec, { 0x8e });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x33, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x8622, gbc.sp());
        EXPECT(0x49ed, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 01EE
        gbc.setState(0x16a4, 0x73da, 0x9e60, 0xfb5b, 0x2a5f, 0x37a4, 0x1, 0x0);
        gbc.writeMem(0x16a4, { 0x8e });
        gbc.writeMem(0x37a4, { 0xdf });
        gbc.step();
        EXPECT(0x7d, gbc.a());
        EXPECT(0xfb, gbc.b());
        EXPECT(0x5b, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x73da, gbc.sp());
        EXPECT(0x16a5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 01EF
        gbc.setState(0xb55e, 0x40c5, 0xe130, 0xea6e, 0x826f, 0xfbe8, 0x0, 0x0);
        gbc.writeMem(0xb55e, { 0x8e });
        gbc.writeMem(0xfbe8, { 0x37 });
        gbc.step();
        EXPECT(0x19, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x6f, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x40c5, gbc.sp());
        EXPECT(0xb55f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb55e));
        EXPECT(0x37, gbc.readMem(0xfbe8));
        // 8E 01F0
        gbc.setState(0x53b8, 0x814b, 0x4860, 0x399, 0x3ebe, 0x460e, 0x0, 0x1);
        gbc.writeMem(0x460e, { 0x3a });
        gbc.writeMem(0x53b8, { 0x8e });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x814b, gbc.sp());
        EXPECT(0x53b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 01F1
        gbc.setState(0x29e1, 0x963f, 0x19f0, 0x78b9, 0xecd7, 0xc140, 0x0, 0x0);
        gbc.writeMem(0x29e1, { 0x8e });
        gbc.writeMem(0xc140, { 0xf0 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0xd7, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x963f, gbc.sp());
        EXPECT(0x29e2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf0, gbc.readMem(0xc140));
        // 8E 01F2
        gbc.setState(0x4e6, 0xbfe4, 0x7000, 0xb3bd, 0x7029, 0xa514, 0x0, 0x1);
        gbc.writeMem(0x4e6, { 0x8e });
        gbc.writeMem(0xa514, { 0xdf });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0x70, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xbfe4, gbc.sp());
        EXPECT(0x4e7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xdf, gbc.readMem(0xa514));
        // 8E 01F3
        gbc.setState(0x4391, 0x284f, 0xfd40, 0x639, 0x1ca6, 0xbd18, 0x1, 0x0);
        gbc.writeMem(0x4391, { 0x8e });
        gbc.writeMem(0xbd18, { 0xbf });
        gbc.step();
        EXPECT(0xbc, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x39, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x284f, gbc.sp());
        EXPECT(0x4392, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbf, gbc.readMem(0xbd18));
        // 8E 01F4
        gbc.setState(0x52da, 0x94f9, 0xa10, 0x1b7b, 0x5d1b, 0xc48b, 0x0, 0x0);
        gbc.writeMem(0x52da, { 0x8e });
        gbc.writeMem(0xc48b, { 0x25 });
        gbc.step();
        EXPECT(0x30, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x94f9, gbc.sp());
        EXPECT(0x52db, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x25, gbc.readMem(0xc48b));
        // 8E 01F5
        gbc.setState(0xde4, 0xf5b1, 0xe70, 0xe792, 0xd772, 0xfe6c, 0x0, 0x0);
        gbc.writeMem(0xde4, { 0x8e });
        gbc.writeMem(0xfe6c, { 0x60 });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0xf5b1, gbc.sp());
        EXPECT(0xde5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x60, gbc.readMem(0xfe6c));
        // 8E 01F6
        gbc.setState(0x4ac0, 0xde20, 0x7810, 0xc592, 0xe5a8, 0x52e8, 0x0, 0x1);
        gbc.writeMem(0x4ac0, { 0x8e });
        gbc.writeMem(0x52e8, { 0xf3 });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xde20, gbc.sp());
        EXPECT(0x4ac1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 01F7
        gbc.setState(0x5953, 0x80c1, 0xb810, 0x1c0d, 0x4ae8, 0xf552, 0x0, 0x0);
        gbc.writeMem(0x5953, { 0x8e });
        gbc.writeMem(0xf552, { 0x40 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x80c1, gbc.sp());
        EXPECT(0x5954, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x40, gbc.readMem(0xf552));
        // 8E 01F9
        gbc.setState(0x7cfb, 0xc62c, 0xa50, 0x235d, 0x9ba5, 0x94aa, 0x0, 0x0);
        gbc.writeMem(0x7cfb, { 0x8e });
        gbc.writeMem(0x94aa, { 0x6f });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x23, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xaa, gbc.l());
        EXPECT(0xc62c, gbc.sp());
        EXPECT(0x7cfc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6f, gbc.readMem(0x94aa));
        // 8E 01FA
        gbc.setState(0xc6b3, 0xdf19, 0x5740, 0x31c8, 0xf6db, 0xe8ee, 0x0, 0x0);
        gbc.writeMem(0xc6b3, { 0x8e });
        gbc.writeMem(0xe8ee, { 0xe9 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x31, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xdb, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0xdf19, gbc.sp());
        EXPECT(0xc6b4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc6b3));
        EXPECT(0xe9, gbc.readMem(0xe8ee));
        // 8E 01FB
        gbc.setState(0x1349, 0x98c, 0x5ee0, 0x137d, 0x37a9, 0xf344, 0x1, 0x0);
        gbc.writeMem(0x1349, { 0x8e });
        gbc.writeMem(0xf344, { 0xce });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0xa9, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x98c, gbc.sp());
        EXPECT(0x134a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xf344));
        // 8E 01FD
        gbc.setState(0x9c76, 0xd489, 0xef60, 0xa9bf, 0x7286, 0x3454, 0x0, 0x1);
        gbc.writeMem(0x3454, { 0xa5 });
        gbc.writeMem(0x9c76, { 0x8e });
        gbc.step();
        EXPECT(0x94, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0xd489, gbc.sp());
        EXPECT(0x9c77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9c76));
        // 8E 01FE
        gbc.setState(0x154d, 0xc4e8, 0x47a0, 0x7916, 0xa244, 0x6d63, 0x1, 0x1);
        gbc.writeMem(0x154d, { 0x8e });
        gbc.writeMem(0x6d63, { 0x7c });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0xc4e8, gbc.sp());
        EXPECT(0x154e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 01FF
        gbc.setState(0x92c9, 0xd2c2, 0x10, 0x6b31, 0xfb0f, 0xfd77, 0x0, 0x0);
        gbc.writeMem(0x92c9, { 0x8e });
        gbc.writeMem(0xfd77, { 0x40 });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0xfd, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xd2c2, gbc.sp());
        EXPECT(0x92ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x92c9));
        EXPECT(0x40, gbc.readMem(0xfd77));
        // 8E 0200
        gbc.setState(0x843e, 0xb6dc, 0x1bd0, 0x3452, 0xd98b, 0xc592, 0x0, 0x0);
        gbc.writeMem(0x843e, { 0x8e });
        gbc.writeMem(0xc592, { 0x7c });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x8b, gbc.e());
        EXPECT(0xc5, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xb6dc, gbc.sp());
        EXPECT(0x843f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x843e));
        EXPECT(0x7c, gbc.readMem(0xc592));
        // 8E 0201
        gbc.setState(0xb86e, 0x571a, 0xc940, 0x1693, 0x2072, 0xec94, 0x0, 0x1);
        gbc.writeMem(0xb86e, { 0x8e });
        gbc.writeMem(0xec94, { 0x84 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xec, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x571a, gbc.sp());
        EXPECT(0xb86f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb86e));
        EXPECT(0x84, gbc.readMem(0xec94));
        // 8E 0202
        gbc.setState(0x7cae, 0x2589, 0xff10, 0xe2df, 0xc762, 0x31a4, 0x0, 0x0);
        gbc.writeMem(0x31a4, { 0xce });
        gbc.writeMem(0x7cae, { 0x8e });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x2589, gbc.sp());
        EXPECT(0x7caf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0203
        gbc.setState(0x715d, 0x520f, 0x440, 0xbb85, 0x4fe5, 0x7594, 0x0, 0x0);
        gbc.writeMem(0x715d, { 0x8e });
        gbc.writeMem(0x7594, { 0x22 });
        gbc.step();
        EXPECT(0x26, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x520f, gbc.sp());
        EXPECT(0x715e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0204
        gbc.setState(0xe5e9, 0x7df7, 0xb850, 0xac66, 0x29b5, 0xbbc5, 0x0, 0x1);
        gbc.writeMem(0xbbc5, { 0x34 });
        gbc.writeMem(0xe5e9, { 0x8e });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0xc5, gbc.l());
        EXPECT(0x7df7, gbc.sp());
        EXPECT(0xe5ea, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x34, gbc.readMem(0xbbc5));
        EXPECT(0x8e, gbc.readMem(0xe5e9));
        // 8E 0205
        gbc.setState(0x609a, 0x715b, 0x2820, 0x154d, 0xd4c7, 0x21c9, 0x0, 0x1);
        gbc.writeMem(0x21c9, { 0x37 });
        gbc.writeMem(0x609a, { 0x8e });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xd4, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0xc9, gbc.l());
        EXPECT(0x715b, gbc.sp());
        EXPECT(0x609b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0206
        gbc.setState(0x1a64, 0x30a4, 0x2990, 0x5a50, 0xdea6, 0x7d2e, 0x1, 0x0);
        gbc.writeMem(0x1a64, { 0x8e });
        gbc.writeMem(0x7d2e, { 0x85 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0x30a4, gbc.sp());
        EXPECT(0x1a65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0207
        gbc.setState(0xda00, 0xa9d8, 0x5190, 0x85a0, 0x470e, 0xf2ab, 0x1, 0x1);
        gbc.writeMem(0xda00, { 0x8e });
        gbc.writeMem(0xf2ab, { 0x9 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x47, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0xa9d8, gbc.sp());
        EXPECT(0xda01, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xda00));
        EXPECT(0x9, gbc.readMem(0xf2ab));
        // 8E 0208
        gbc.setState(0xce80, 0xf0b8, 0x13e0, 0x6552, 0x2184, 0xd8cc, 0x0, 0x1);
        gbc.writeMem(0xce80, { 0x8e });
        gbc.writeMem(0xd8cc, { 0xae });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x84, gbc.e());
        EXPECT(0xd8, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xf0b8, gbc.sp());
        EXPECT(0xce81, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xce80));
        EXPECT(0xae, gbc.readMem(0xd8cc));
        // 8E 0209
        gbc.setState(0x2e93, 0x644a, 0x7810, 0x85cb, 0xb774, 0x52a8, 0x0, 0x0);
        gbc.writeMem(0x2e93, { 0x8e });
        gbc.writeMem(0x52a8, { 0x47 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x644a, gbc.sp());
        EXPECT(0x2e94, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 020A
        gbc.setState(0x7d26, 0x47e6, 0x9f50, 0x8760, 0x2c2a, 0xbd80, 0x0, 0x1);
        gbc.writeMem(0x7d26, { 0x8e });
        gbc.writeMem(0xbd80, { 0xb9 });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xbd, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0x47e6, gbc.sp());
        EXPECT(0x7d27, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb9, gbc.readMem(0xbd80));
        // 8E 020C
        gbc.setState(0x3c0c, 0x7f46, 0xd0b0, 0x277d, 0x671b, 0x6777, 0x1, 0x0);
        gbc.writeMem(0x3c0c, { 0x8e });
        gbc.writeMem(0x6777, { 0xc2 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0x1b, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x7f46, gbc.sp());
        EXPECT(0x3c0d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 020E
        gbc.setState(0xb04b, 0xd4c0, 0x2460, 0x217, 0x8890, 0x2324, 0x0, 0x1);
        gbc.writeMem(0x2324, { 0x75 });
        gbc.writeMem(0xb04b, { 0x8e });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xd4c0, gbc.sp());
        EXPECT(0xb04c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb04b));
        // 8E 020F
        gbc.setState(0xf50, 0xcdf5, 0x9560, 0xdd15, 0xe556, 0x1e33, 0x0, 0x1);
        gbc.writeMem(0xf50, { 0x8e });
        gbc.writeMem(0x1e33, { 0x92 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xe5, gbc.d());
        EXPECT(0x56, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xcdf5, gbc.sp());
        EXPECT(0xf51, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0210
        gbc.setState(0xe75d, 0xb8d5, 0x860, 0x817b, 0x4420, 0xe8f8, 0x1, 0x0);
        gbc.writeMem(0xe75d, { 0x8e });
        gbc.writeMem(0xe8f8, { 0x0 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x7b, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x20, gbc.e());
        EXPECT(0xe8, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0xb8d5, gbc.sp());
        EXPECT(0xe75e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe75d));
        EXPECT(0x0, gbc.readMem(0xe8f8));
        // 8E 0211
        gbc.setState(0x64de, 0xbe39, 0xdea0, 0x5fcb, 0x3604, 0xe645, 0x1, 0x0);
        gbc.writeMem(0x64de, { 0x8e });
        gbc.writeMem(0xe645, { 0xa0 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x36, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xbe39, gbc.sp());
        EXPECT(0x64df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa0, gbc.readMem(0xe645));
        // 8E 0212
        gbc.setState(0x9dd4, 0x7aee, 0xffa0, 0x90df, 0x91c3, 0x36a9, 0x1, 0x0);
        gbc.writeMem(0x36a9, { 0xdb });
        gbc.writeMem(0x9dd4, { 0x8e });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x7aee, gbc.sp());
        EXPECT(0x9dd5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9dd4));
        // 8E 0213
        gbc.setState(0x6ac9, 0xfce7, 0x7c80, 0x9d02, 0x86d9, 0x3f27, 0x1, 0x0);
        gbc.writeMem(0x3f27, { 0x69 });
        gbc.writeMem(0x6ac9, { 0x8e });
        gbc.step();
        EXPECT(0xe5, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0xd9, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0xfce7, gbc.sp());
        EXPECT(0x6aca, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0214
        gbc.setState(0xda4a, 0x32f4, 0x8620, 0x7ef5, 0x92e2, 0x6aee, 0x0, 0x0);
        gbc.writeMem(0x6aee, { 0xd1 });
        gbc.writeMem(0xda4a, { 0x8e });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xf5, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0xee, gbc.l());
        EXPECT(0x32f4, gbc.sp());
        EXPECT(0xda4b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xda4a));
        // 8E 0215
        gbc.setState(0xb2d9, 0x4617, 0x29e0, 0x192f, 0xa701, 0x4b33, 0x0, 0x1);
        gbc.writeMem(0x4b33, { 0xc });
        gbc.writeMem(0xb2d9, { 0x8e });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0x4617, gbc.sp());
        EXPECT(0xb2da, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb2d9));
        // 8E 0216
        gbc.setState(0x1f48, 0x4e0a, 0xcfc0, 0xcd6b, 0x3ec7, 0x5563, 0x1, 0x0);
        gbc.writeMem(0x1f48, { 0x8e });
        gbc.writeMem(0x5563, { 0xe7 });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x4e0a, gbc.sp());
        EXPECT(0x1f49, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0217
        gbc.setState(0x2d36, 0x937f, 0x2050, 0xd31c, 0xc19c, 0x7c09, 0x1, 0x1);
        gbc.writeMem(0x2d36, { 0x8e });
        gbc.writeMem(0x7c09, { 0x54 });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x937f, gbc.sp());
        EXPECT(0x2d37, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0218
        gbc.setState(0x2f71, 0xac01, 0x5940, 0xcc9e, 0x8374, 0xc22, 0x1, 0x1);
        gbc.writeMem(0xc22, { 0x8e });
        gbc.writeMem(0x2f71, { 0x8e });
        gbc.step();
        EXPECT(0xe7, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0xac01, gbc.sp());
        EXPECT(0x2f72, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0219
        gbc.setState(0xcf54, 0x8ce6, 0xefc0, 0x172c, 0x2c62, 0xabca, 0x1, 0x0);
        gbc.writeMem(0xabca, { 0x93 });
        gbc.writeMem(0xcf54, { 0x8e });
        gbc.step();
        EXPECT(0x82, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x62, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x8ce6, gbc.sp());
        EXPECT(0xcf55, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x93, gbc.readMem(0xabca));
        EXPECT(0x8e, gbc.readMem(0xcf54));
        // 8E 021A
        gbc.setState(0x6555, 0x3707, 0x54e0, 0xc446, 0x4009, 0x1d3f, 0x0, 0x1);
        gbc.writeMem(0x1d3f, { 0xb3 });
        gbc.writeMem(0x6555, { 0x8e });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xc4, gbc.b());
        EXPECT(0x46, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0x3707, gbc.sp());
        EXPECT(0x6556, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 021B
        gbc.setState(0x5668, 0x9fcb, 0x7690, 0x90c8, 0x5d3e, 0xcaaf, 0x1, 0x1);
        gbc.writeMem(0x5668, { 0x8e });
        gbc.writeMem(0xcaaf, { 0x3 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0xc8, gbc.c());
        EXPECT(0x5d, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xaf, gbc.l());
        EXPECT(0x9fcb, gbc.sp());
        EXPECT(0x5669, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3, gbc.readMem(0xcaaf));
        // 8E 021C
        gbc.setState(0x9d9c, 0xf6f5, 0xe4a0, 0xd9ad, 0xa871, 0x37e4, 0x0, 0x0);
        gbc.writeMem(0x37e4, { 0x72 });
        gbc.writeMem(0x9d9c, { 0x8e });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xf6f5, gbc.sp());
        EXPECT(0x9d9d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9d9c));
        // 8E 021D
        gbc.setState(0x39e4, 0x281c, 0xcd70, 0x60be, 0xb0ad, 0x23b1, 0x1, 0x1);
        gbc.writeMem(0x23b1, { 0x35 });
        gbc.writeMem(0x39e4, { 0x8e });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x60, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xad, gbc.e());
        EXPECT(0x23, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x281c, gbc.sp());
        EXPECT(0x39e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 021E
        gbc.setState(0xe1db, 0x3f84, 0x3ec0, 0xff56, 0xba0b, 0x60ad, 0x0, 0x0);
        gbc.writeMem(0x60ad, { 0x82 });
        gbc.writeMem(0xe1db, { 0x8e });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x3f84, gbc.sp());
        EXPECT(0xe1dc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe1db));
        // 8E 021F
        gbc.setState(0x3c3a, 0xac4, 0xdfa0, 0x7bbf, 0x45b8, 0x782e, 0x1, 0x0);
        gbc.writeMem(0x3c3a, { 0x8e });
        gbc.writeMem(0x782e, { 0xdf });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xac4, gbc.sp());
        EXPECT(0x3c3b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0220
        gbc.setState(0x1836, 0x6a66, 0x5530, 0xf825, 0xc26e, 0x93f0, 0x0, 0x1);
        gbc.writeMem(0x1836, { 0x8e });
        gbc.writeMem(0x93f0, { 0x45 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0xc2, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xf0, gbc.l());
        EXPECT(0x6a66, gbc.sp());
        EXPECT(0x1837, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x45, gbc.readMem(0x93f0));
        // 8E 0221
        gbc.setState(0x505f, 0xc759, 0x42f0, 0xb2ba, 0xd24e, 0x9a7c, 0x1, 0x1);
        gbc.writeMem(0x505f, { 0x8e });
        gbc.writeMem(0x9a7c, { 0x92 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0xc759, gbc.sp());
        EXPECT(0x5060, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x92, gbc.readMem(0x9a7c));
        // 8E 0222
        gbc.setState(0x66ed, 0x3786, 0xd2c0, 0x431f, 0x1d01, 0x938b, 0x0, 0x0);
        gbc.writeMem(0x66ed, { 0x8e });
        gbc.writeMem(0x938b, { 0xe0 });
        gbc.step();
        EXPECT(0xb2, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x1, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0x3786, gbc.sp());
        EXPECT(0x66ee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe0, gbc.readMem(0x938b));
        // 8E 0223
        gbc.setState(0x1ab7, 0x1ca7, 0xf940, 0x4186, 0xfc47, 0xdbda, 0x1, 0x0);
        gbc.writeMem(0x1ab7, { 0x8e });
        gbc.writeMem(0xdbda, { 0x8b });
        gbc.step();
        EXPECT(0x84, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xdb, gbc.h());
        EXPECT(0xda, gbc.l());
        EXPECT(0x1ca7, gbc.sp());
        EXPECT(0x1ab8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8b, gbc.readMem(0xdbda));
        // 8E 0224
        gbc.setState(0x794c, 0x78b4, 0xd2e0, 0xed73, 0xeec, 0xc014, 0x0, 0x1);
        gbc.writeMem(0x794c, { 0x8e });
        gbc.writeMem(0xc014, { 0xa0 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x73, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x78b4, gbc.sp());
        EXPECT(0x794d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa0, gbc.readMem(0xc014));
        // 8E 0225
        gbc.setState(0x6ddf, 0xa504, 0xcc80, 0x456c, 0x35b4, 0xcdd6, 0x1, 0x0);
        gbc.writeMem(0x6ddf, { 0x8e });
        gbc.writeMem(0xcdd6, { 0x2f });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0x35, gbc.d());
        EXPECT(0xb4, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xd6, gbc.l());
        EXPECT(0xa504, gbc.sp());
        EXPECT(0x6de0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x2f, gbc.readMem(0xcdd6));
        // 8E 0226
        gbc.setState(0x4ecc, 0x7ad5, 0xb410, 0x624c, 0x228d, 0xcaf9, 0x0, 0x0);
        gbc.writeMem(0x4ecc, { 0x8e });
        gbc.writeMem(0xcaf9, { 0xbf });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xf9, gbc.l());
        EXPECT(0x7ad5, gbc.sp());
        EXPECT(0x4ecd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbf, gbc.readMem(0xcaf9));
        // 8E 0227
        gbc.setState(0x7424, 0xc1cc, 0xbf30, 0x7a75, 0xa20f, 0x6604, 0x0, 0x1);
        gbc.writeMem(0x6604, { 0x84 });
        gbc.writeMem(0x7424, { 0x8e });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x7a, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0xf, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0xc1cc, gbc.sp());
        EXPECT(0x7425, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0228
        gbc.setState(0xa868, 0x20d0, 0x6110, 0xd57, 0x94ae, 0x5e5b, 0x0, 0x0);
        gbc.writeMem(0x5e5b, { 0x13 });
        gbc.writeMem(0xa868, { 0x8e });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0x20d0, gbc.sp());
        EXPECT(0xa869, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa868));
        // 8E 0229
        gbc.setState(0xc763, 0x9e8f, 0x39e0, 0xbf84, 0xcc72, 0xff28, 0x1, 0x1);
        gbc.writeMem(0xc763, { 0x8e });
        gbc.writeMem(0xff28, { 0x95 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xbf, gbc.b());
        EXPECT(0x84, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x72, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x9e8f, gbc.sp());
        EXPECT(0xc764, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc763));
        EXPECT(0x95, gbc.readMem(0xff28));
        // 8E 022A
        gbc.setState(0x5caa, 0x6024, 0x7c80, 0x52fc, 0xfe00, 0xfe9, 0x1, 0x0);
        gbc.writeMem(0xfe9, { 0x3 });
        gbc.writeMem(0x5caa, { 0x8e });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x6024, gbc.sp());
        EXPECT(0x5cab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 022B
        gbc.setState(0x3d8a, 0x1573, 0x70d0, 0x5a60, 0x17eb, 0xb8d5, 0x0, 0x0);
        gbc.writeMem(0x3d8a, { 0x8e });
        gbc.writeMem(0xb8d5, { 0xa7 });
        gbc.step();
        EXPECT(0x18, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0x17, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0x1573, gbc.sp());
        EXPECT(0x3d8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa7, gbc.readMem(0xb8d5));
        // 8E 022C
        gbc.setState(0x493b, 0x9e09, 0x4c70, 0x877e, 0x8b2, 0x779b, 0x1, 0x0);
        gbc.writeMem(0x493b, { 0x8e });
        gbc.writeMem(0x779b, { 0x6 });
        gbc.step();
        EXPECT(0x53, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0x9e09, gbc.sp());
        EXPECT(0x493c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 022D
        gbc.setState(0xb420, 0xf056, 0xd3d0, 0x222a, 0x1bf7, 0xa714, 0x1, 0x1);
        gbc.writeMem(0xa714, { 0xa2 });
        gbc.writeMem(0xb420, { 0x8e });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0xf056, gbc.sp());
        EXPECT(0xb421, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa2, gbc.readMem(0xa714));
        EXPECT(0x8e, gbc.readMem(0xb420));
        // 8E 022E
        gbc.setState(0x6768, 0x3b56, 0x4e00, 0x72d1, 0x9e43, 0x76ec, 0x0, 0x0);
        gbc.writeMem(0x6768, { 0x8e });
        gbc.writeMem(0x76ec, { 0xcc });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x9e, gbc.d());
        EXPECT(0x43, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x3b56, gbc.sp());
        EXPECT(0x6769, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 022F
        gbc.setState(0x82e1, 0xa2ac, 0x7c10, 0xb74a, 0x1d69, 0x165a, 0x1, 0x1);
        gbc.writeMem(0x165a, { 0xf3 });
        gbc.writeMem(0x82e1, { 0x8e });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0xa2ac, gbc.sp());
        EXPECT(0x82e2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x82e1));
        // 8E 0230
        gbc.setState(0x21ff, 0x7092, 0x42f0, 0x9f11, 0xcd19, 0x7317, 0x0, 0x0);
        gbc.writeMem(0x21ff, { 0x8e });
        gbc.writeMem(0x7317, { 0x11 });
        gbc.step();
        EXPECT(0x54, gbc.a());
        EXPECT(0x9f, gbc.b());
        EXPECT(0x11, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x73, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x7092, gbc.sp());
        EXPECT(0x2200, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0231
        gbc.setState(0x75ea, 0x230e, 0x8df0, 0x299, 0xc308, 0x5d83, 0x1, 0x0);
        gbc.writeMem(0x5d83, { 0xd });
        gbc.writeMem(0x75ea, { 0x8e });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x230e, gbc.sp());
        EXPECT(0x75eb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0232
        gbc.setState(0x7dd7, 0x3dbe, 0x8f80, 0x53da, 0xc7a8, 0x8ed, 0x0, 0x0);
        gbc.writeMem(0x8ed, { 0x1a });
        gbc.writeMem(0x7dd7, { 0x8e });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x53, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0x3dbe, gbc.sp());
        EXPECT(0x7dd8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0233
        gbc.setState(0x9520, 0xe234, 0x6fc0, 0x13cd, 0xbfeb, 0x1a06, 0x1, 0x1);
        gbc.writeMem(0x1a06, { 0x3f });
        gbc.writeMem(0x9520, { 0x8e });
        gbc.step();
        EXPECT(0xae, gbc.a());
        EXPECT(0x13, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xe234, gbc.sp());
        EXPECT(0x9521, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9520));
        // 8E 0234
        gbc.setState(0xdd2c, 0xb6cd, 0xff50, 0x9bfb, 0xa9e5, 0x8261, 0x0, 0x1);
        gbc.writeMem(0x8261, { 0xad });
        gbc.writeMem(0xdd2c, { 0x8e });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xe5, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0xb6cd, gbc.sp());
        EXPECT(0xdd2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xad, gbc.readMem(0x8261));
        EXPECT(0x8e, gbc.readMem(0xdd2c));
        // 8E 0235
        gbc.setState(0x852a, 0x4e13, 0xd880, 0xc9b, 0xce05, 0xd179, 0x0, 0x1);
        gbc.writeMem(0x852a, { 0x8e });
        gbc.writeMem(0xd179, { 0x3b });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x4e13, gbc.sp());
        EXPECT(0x852b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x852a));
        EXPECT(0x3b, gbc.readMem(0xd179));
        // 8E 0236
        gbc.setState(0x94ca, 0x270f, 0x7bd0, 0x32ec, 0xc48a, 0x1ca0, 0x0, 0x0);
        gbc.writeMem(0x1ca0, { 0x75 });
        gbc.writeMem(0x94ca, { 0x8e });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x1c, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x270f, gbc.sp());
        EXPECT(0x94cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x94ca));
        // 8E 0237
        gbc.setState(0x8997, 0x7ee2, 0x1dd0, 0x433a, 0x3c37, 0xf99e, 0x0, 0x0);
        gbc.writeMem(0x8997, { 0x8e });
        gbc.writeMem(0xf99e, { 0x5b });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x37, gbc.e());
        EXPECT(0xf9, gbc.h());
        EXPECT(0x9e, gbc.l());
        EXPECT(0x7ee2, gbc.sp());
        EXPECT(0x8998, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8997));
        EXPECT(0x5b, gbc.readMem(0xf99e));
        // 8E 0238
        gbc.setState(0xbd63, 0x9fd8, 0x3d60, 0x11ff, 0x8e2b, 0x873a, 0x0, 0x1);
        gbc.writeMem(0x873a, { 0xd0 });
        gbc.writeMem(0xbd63, { 0x8e });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0x9fd8, gbc.sp());
        EXPECT(0xbd64, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd0, gbc.readMem(0x873a));
        EXPECT(0x8e, gbc.readMem(0xbd63));
        // 8E 0239
        gbc.setState(0xaec8, 0x76c8, 0xa190, 0xd9dd, 0xaa25, 0x49c4, 0x1, 0x1);
        gbc.writeMem(0x49c4, { 0x28 });
        gbc.writeMem(0xaec8, { 0x8e });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0x25, gbc.e());
        EXPECT(0x49, gbc.h());
        EXPECT(0xc4, gbc.l());
        EXPECT(0x76c8, gbc.sp());
        EXPECT(0xaec9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xaec8));
        // 8E 023A
        gbc.setState(0xb2e7, 0x6645, 0xc710, 0x2d97, 0xa3dc, 0x57b0, 0x0, 0x0);
        gbc.writeMem(0x57b0, { 0x1b });
        gbc.writeMem(0xb2e7, { 0x8e });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xdc, gbc.e());
        EXPECT(0x57, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x6645, gbc.sp());
        EXPECT(0xb2e8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb2e7));
        // 8E 023B
        gbc.setState(0x957b, 0xce2, 0x8e0, 0xeb4f, 0xb04a, 0xaa8a, 0x1, 0x1);
        gbc.writeMem(0x957b, { 0x8e });
        gbc.writeMem(0xaa8a, { 0x72 });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xce2, gbc.sp());
        EXPECT(0x957c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x957b));
        EXPECT(0x72, gbc.readMem(0xaa8a));
        // 8E 023C
        gbc.setState(0xedc8, 0x3397, 0x21b0, 0x7233, 0x293c, 0x79ea, 0x1, 0x0);
        gbc.writeMem(0x79ea, { 0xd7 });
        gbc.writeMem(0xedc8, { 0x8e });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x72, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x29, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0x3397, gbc.sp());
        EXPECT(0xedc9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xedc8));
        // 8E 023D
        gbc.setState(0xda1, 0xfede, 0x1f60, 0x6ce1, 0x806e, 0x688f, 0x1, 0x0);
        gbc.writeMem(0xda1, { 0x8e });
        gbc.writeMem(0x688f, { 0xb8 });
        gbc.step();
        EXPECT(0xd7, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x80, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xfede, gbc.sp());
        EXPECT(0xda2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 023E
        gbc.setState(0x123e, 0xb986, 0xdf40, 0xe96, 0xd178, 0x475e, 0x1, 0x1);
        gbc.writeMem(0x123e, { 0x8e });
        gbc.writeMem(0x475e, { 0xaf });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xe, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x47, gbc.h());
        EXPECT(0x5e, gbc.l());
        EXPECT(0xb986, gbc.sp());
        EXPECT(0x123f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 023F
        gbc.setState(0x9ac4, 0x537c, 0x6b30, 0x713c, 0x851a, 0x5150, 0x0, 0x0);
        gbc.writeMem(0x5150, { 0x3c });
        gbc.writeMem(0x9ac4, { 0x8e });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x537c, gbc.sp());
        EXPECT(0x9ac5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9ac4));
        // 8E 0240
        gbc.setState(0x2321, 0xa805, 0x6e50, 0xa924, 0xf329, 0xea80, 0x1, 0x0);
        gbc.writeMem(0x2321, { 0x8e });
        gbc.writeMem(0xea80, { 0x5f });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x24, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x80, gbc.l());
        EXPECT(0xa805, gbc.sp());
        EXPECT(0x2322, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x5f, gbc.readMem(0xea80));
        // 8E 0241
        gbc.setState(0x4301, 0x580c, 0x7340, 0x1635, 0xa01d, 0x41b2, 0x0, 0x0);
        gbc.writeMem(0x41b2, { 0x9b });
        gbc.writeMem(0x4301, { 0x8e });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x1d, gbc.e());
        EXPECT(0x41, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x580c, gbc.sp());
        EXPECT(0x4302, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0242
        gbc.setState(0xc9d0, 0x3c38, 0xec20, 0xc926, 0xf799, 0x3566, 0x0, 0x1);
        gbc.writeMem(0x3566, { 0x6 });
        gbc.writeMem(0xc9d0, { 0x8e });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0x3c38, gbc.sp());
        EXPECT(0xc9d1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc9d0));
        // 8E 0243
        gbc.setState(0x177a, 0x7be7, 0xe120, 0xd620, 0xb342, 0x252, 0x1, 0x1);
        gbc.writeMem(0x252, { 0x6e });
        gbc.writeMem(0x177a, { 0x8e });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x7be7, gbc.sp());
        EXPECT(0x177b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0245
        gbc.setState(0xa49e, 0xa337, 0xb30, 0x49e, 0x2346, 0x46ca, 0x1, 0x0);
        gbc.writeMem(0x46ca, { 0x15 });
        gbc.writeMem(0xa49e, { 0x8e });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x4, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0xa337, gbc.sp());
        EXPECT(0xa49f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa49e));
        // 8E 0246
        gbc.setState(0x680c, 0xe18e, 0x5430, 0xff6e, 0x5726, 0x3418, 0x1, 0x1);
        gbc.writeMem(0x3418, { 0xcd });
        gbc.writeMem(0x680c, { 0x8e });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0x6e, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0xe18e, gbc.sp());
        EXPECT(0x680d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0247
        gbc.setState(0xa666, 0xfaa7, 0x76e0, 0xacd5, 0x604f, 0x3b67, 0x0, 0x1);
        gbc.writeMem(0x3b67, { 0x5b });
        gbc.writeMem(0xa666, { 0x8e });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xac, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x4f, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x67, gbc.l());
        EXPECT(0xfaa7, gbc.sp());
        EXPECT(0xa667, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa666));
        // 8E 0248
        gbc.setState(0x20cd, 0x89b, 0x4b10, 0xc182, 0x4eee, 0xc8ae, 0x1, 0x1);
        gbc.writeMem(0x20cd, { 0x8e });
        gbc.writeMem(0xc8ae, { 0x33 });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0xc8, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x89b, gbc.sp());
        EXPECT(0x20ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x33, gbc.readMem(0xc8ae));
        // 8E 0249
        gbc.setState(0xe240, 0xb789, 0x9520, 0xa5ec, 0x7494, 0x368b, 0x0, 0x1);
        gbc.writeMem(0x368b, { 0xd5 });
        gbc.writeMem(0xe240, { 0x8e });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xb789, gbc.sp());
        EXPECT(0xe241, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe240));
        // 8E 024A
        gbc.setState(0x41ba, 0x9a60, 0x88b0, 0xc872, 0xf85, 0x7f78, 0x1, 0x0);
        gbc.writeMem(0x41ba, { 0x8e });
        gbc.writeMem(0x7f78, { 0x7d });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xc8, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x85, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x9a60, gbc.sp());
        EXPECT(0x41bb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 024B
        gbc.setState(0xebb, 0xbd57, 0xb7e0, 0x50cb, 0x7317, 0x1ae7, 0x0, 0x0);
        gbc.writeMem(0xebb, { 0x8e });
        gbc.writeMem(0x1ae7, { 0xbc });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0xbd57, gbc.sp());
        EXPECT(0xebc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 024D
        gbc.setState(0x7451, 0x76b0, 0xbfc0, 0x5087, 0xd17f, 0xe56f, 0x1, 0x1);
        gbc.writeMem(0x7451, { 0x8e });
        gbc.writeMem(0xe56f, { 0x1f });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x87, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x6f, gbc.l());
        EXPECT(0x76b0, gbc.sp());
        EXPECT(0x7452, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x1f, gbc.readMem(0xe56f));
        // 8E 024E
        gbc.setState(0x498, 0x96d7, 0x12b0, 0x56cd, 0x5649, 0x5350, 0x0, 0x1);
        gbc.writeMem(0x498, { 0x8e });
        gbc.writeMem(0x5350, { 0xf6 });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0x96d7, gbc.sp());
        EXPECT(0x499, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 024F
        gbc.setState(0x35de, 0x10ff, 0xdc0, 0xd667, 0xc05, 0xa09d, 0x1, 0x0);
        gbc.writeMem(0x35de, { 0x8e });
        gbc.writeMem(0xa09d, { 0xf });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xd6, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xa0, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x10ff, gbc.sp());
        EXPECT(0x35df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xf, gbc.readMem(0xa09d));
        // 8E 0250
        gbc.setState(0x4f5e, 0x106f, 0xb7c0, 0x4a8a, 0x56b3, 0xc164, 0x1, 0x1);
        gbc.writeMem(0x4f5e, { 0x8e });
        gbc.writeMem(0xc164, { 0x6 });
        gbc.step();
        EXPECT(0xbd, gbc.a());
        EXPECT(0x4a, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xb3, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x106f, gbc.sp());
        EXPECT(0x4f5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6, gbc.readMem(0xc164));
        // 8E 0251
        gbc.setState(0x9a81, 0xb49f, 0x6ec0, 0x58c5, 0xf27f, 0xc2b2, 0x0, 0x1);
        gbc.writeMem(0x9a81, { 0x8e });
        gbc.writeMem(0xc2b2, { 0x45 });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0xb49f, gbc.sp());
        EXPECT(0x9a82, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9a81));
        EXPECT(0x45, gbc.readMem(0xc2b2));
        // 8E 0252
        gbc.setState(0x976d, 0xc2e7, 0xfa20, 0x2d6b, 0x6d6, 0x9e94, 0x1, 0x1);
        gbc.writeMem(0x976d, { 0x8e });
        gbc.writeMem(0x9e94, { 0xdb });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x2d, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x9e, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0xc2e7, gbc.sp());
        EXPECT(0x976e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x976d));
        EXPECT(0xdb, gbc.readMem(0x9e94));
        // 8E 0253
        gbc.setState(0x1e, 0x4b4b, 0xc6a0, 0x503a, 0x75f4, 0xaab6, 0x1, 0x0);
        gbc.writeMem(0x1e, { 0x8e });
        gbc.writeMem(0xaab6, { 0x56 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0x50, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0xaa, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x4b4b, gbc.sp());
        EXPECT(0x1f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x56, gbc.readMem(0xaab6));
        // 8E 0254
        gbc.setState(0x6a2b, 0x4f03, 0x7680, 0x7edf, 0x5840, 0xf72, 0x0, 0x0);
        gbc.writeMem(0xf72, { 0x5c });
        gbc.writeMem(0x6a2b, { 0x8e });
        gbc.step();
        EXPECT(0xd2, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x72, gbc.l());
        EXPECT(0x4f03, gbc.sp());
        EXPECT(0x6a2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0255
        gbc.setState(0xa636, 0x1a9d, 0xdc30, 0x9ece, 0xe019, 0x3040, 0x0, 0x0);
        gbc.writeMem(0x3040, { 0xda });
        gbc.writeMem(0xa636, { 0x8e });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0xe0, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x1a9d, gbc.sp());
        EXPECT(0xa637, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa636));
        // 8E 0256
        gbc.setState(0x3dd, 0x3f90, 0xd640, 0x158c, 0xbfd3, 0x19f5, 0x0, 0x1);
        gbc.writeMem(0x3dd, { 0x8e });
        gbc.writeMem(0x19f5, { 0x45 });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x3f90, gbc.sp());
        EXPECT(0x3de, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0257
        gbc.setState(0xa64d, 0xa0a4, 0x6b00, 0xbb23, 0xe629, 0x3b81, 0x0, 0x0);
        gbc.writeMem(0x3b81, { 0x42 });
        gbc.writeMem(0xa64d, { 0x8e });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x29, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0x81, gbc.l());
        EXPECT(0xa0a4, gbc.sp());
        EXPECT(0xa64e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa64d));
        // 8E 0258
        gbc.setState(0xea0a, 0xf2ba, 0x2b60, 0x5236, 0x7728, 0xe53a, 0x0, 0x0);
        gbc.writeMem(0xe53a, { 0x25 });
        gbc.writeMem(0xea0a, { 0x8e });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xf2ba, gbc.sp());
        EXPECT(0xea0b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x25, gbc.readMem(0xe53a));
        EXPECT(0x8e, gbc.readMem(0xea0a));
        // 8E 0259
        gbc.setState(0x713e, 0x21ff, 0xb400, 0xd3a, 0x8b09, 0x3e78, 0x0, 0x1);
        gbc.writeMem(0x3e78, { 0x4b });
        gbc.writeMem(0x713e, { 0x8e });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xd, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0x9, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x21ff, gbc.sp());
        EXPECT(0x713f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 025A
        gbc.setState(0x1c0a, 0x38bf, 0x4d10, 0xbdd5, 0xaafd, 0x8c85, 0x1, 0x0);
        gbc.writeMem(0x1c0a, { 0x8e });
        gbc.writeMem(0x8c85, { 0xf9 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0xd5, gbc.c());
        EXPECT(0xaa, gbc.d());
        EXPECT(0xfd, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0x38bf, gbc.sp());
        EXPECT(0x1c0b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf9, gbc.readMem(0x8c85));
        // 8E 025D
        gbc.setState(0x998b, 0x9d91, 0xa480, 0x8c34, 0x6036, 0x94db, 0x0, 0x1);
        gbc.writeMem(0x94db, { 0x83 });
        gbc.writeMem(0x998b, { 0x8e });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x60, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0xdb, gbc.l());
        EXPECT(0x9d91, gbc.sp());
        EXPECT(0x998c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x83, gbc.readMem(0x94db));
        EXPECT(0x8e, gbc.readMem(0x998b));
        // 8E 025E
        gbc.setState(0x73f8, 0xee6e, 0xdf10, 0xcb4d, 0x8c36, 0xf8ea, 0x0, 0x1);
        gbc.writeMem(0x73f8, { 0x8e });
        gbc.writeMem(0xf8ea, { 0xa });
        gbc.step();
        EXPECT(0xea, gbc.a());
        EXPECT(0xcb, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x36, gbc.e());
        EXPECT(0xf8, gbc.h());
        EXPECT(0xea, gbc.l());
        EXPECT(0xee6e, gbc.sp());
        EXPECT(0x73f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa, gbc.readMem(0xf8ea));
        // 8E 025F
        gbc.setState(0xc121, 0x1ee4, 0xca00, 0x6544, 0x303d, 0x379c, 0x1, 0x1);
        gbc.writeMem(0x379c, { 0xa9 });
        gbc.writeMem(0xc121, { 0x8e });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x37, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x1ee4, gbc.sp());
        EXPECT(0xc122, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc121));
        // 8E 0260
        gbc.setState(0x3b30, 0x6b38, 0xb9c0, 0x6703, 0xf819, 0x9f70, 0x1, 0x1);
        gbc.writeMem(0x3b30, { 0x8e });
        gbc.writeMem(0x9f70, { 0x5a });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x3, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x70, gbc.l());
        EXPECT(0x6b38, gbc.sp());
        EXPECT(0x3b31, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x5a, gbc.readMem(0x9f70));
        // 8E 0261
        gbc.setState(0x6b, 0x6674, 0xd2e0, 0xaa48, 0xba8d, 0xb6ab, 0x0, 0x1);
        gbc.writeMem(0x6b, { 0x8e });
        gbc.writeMem(0xb6ab, { 0x25 });
        gbc.step();
        EXPECT(0xf7, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x48, gbc.c());
        EXPECT(0xba, gbc.d());
        EXPECT(0x8d, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x6674, gbc.sp());
        EXPECT(0x6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x25, gbc.readMem(0xb6ab));
        // 8E 0262
        gbc.setState(0xce6d, 0x83c5, 0xf980, 0x81e4, 0x85f, 0x9211, 0x1, 0x1);
        gbc.writeMem(0x9211, { 0x6f });
        gbc.writeMem(0xce6d, { 0x8e });
        gbc.step();
        EXPECT(0x68, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0x92, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x83c5, gbc.sp());
        EXPECT(0xce6e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x6f, gbc.readMem(0x9211));
        EXPECT(0x8e, gbc.readMem(0xce6d));
        // 8E 0263
        gbc.setState(0xcb7a, 0x198e, 0x7bf0, 0x71e9, 0xf4d6, 0xb6f8, 0x1, 0x0);
        gbc.writeMem(0xb6f8, { 0x8a });
        gbc.writeMem(0xcb7a, { 0x8e });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xe9, gbc.c());
        EXPECT(0xf4, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x198e, gbc.sp());
        EXPECT(0xcb7b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8a, gbc.readMem(0xb6f8));
        EXPECT(0x8e, gbc.readMem(0xcb7a));
        // 8E 0264
        gbc.setState(0x4061, 0x11b5, 0x83a0, 0x92f1, 0xb245, 0xeae9, 0x1, 0x1);
        gbc.writeMem(0x4061, { 0x8e });
        gbc.writeMem(0xeae9, { 0xae });
        gbc.step();
        EXPECT(0x31, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x11b5, gbc.sp());
        EXPECT(0x4062, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xae, gbc.readMem(0xeae9));
        // 8E 0265
        gbc.setState(0x2120, 0xf5a5, 0x69f0, 0x2569, 0x5e2c, 0x4434, 0x1, 0x0);
        gbc.writeMem(0x2120, { 0x8e });
        gbc.writeMem(0x4434, { 0xaa });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x69, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x2c, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x34, gbc.l());
        EXPECT(0xf5a5, gbc.sp());
        EXPECT(0x2121, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0266
        gbc.setState(0x5cb, 0x188e, 0x67a0, 0x7e41, 0xbf5a, 0x1086, 0x0, 0x0);
        gbc.writeMem(0x5cb, { 0x8e });
        gbc.writeMem(0x1086, { 0xcf });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x188e, gbc.sp());
        EXPECT(0x5cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0267
        gbc.setState(0xd751, 0x5794, 0x2100, 0xd144, 0xf268, 0x5557, 0x1, 0x0);
        gbc.writeMem(0x5557, { 0x79 });
        gbc.writeMem(0xd751, { 0x8e });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x44, gbc.c());
        EXPECT(0xf2, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x5794, gbc.sp());
        EXPECT(0xd752, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd751));
        // 8E 0268
        gbc.setState(0x4552, 0xc5b1, 0xa000, 0x2152, 0x9c97, 0xb9a8, 0x0, 0x0);
        gbc.writeMem(0x4552, { 0x8e });
        gbc.writeMem(0xb9a8, { 0x8e });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x21, gbc.b());
        EXPECT(0x52, gbc.c());
        EXPECT(0x9c, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0xc5b1, gbc.sp());
        EXPECT(0x4553, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb9a8));
        // 8E 0269
        gbc.setState(0xc50b, 0x116c, 0x5e60, 0x8777, 0x4c69, 0xd574, 0x1, 0x0);
        gbc.writeMem(0xc50b, { 0x8e });
        gbc.writeMem(0xd574, { 0xe4 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x69, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x116c, gbc.sp());
        EXPECT(0xc50c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc50b));
        EXPECT(0xe4, gbc.readMem(0xd574));
        // 8E 026A
        gbc.setState(0xd8bb, 0xc81d, 0x3820, 0xed64, 0x210d, 0xf2d7, 0x1, 0x1);
        gbc.writeMem(0xd8bb, { 0x8e });
        gbc.writeMem(0xf2d7, { 0x75 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xd, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0xc81d, gbc.sp());
        EXPECT(0xd8bc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd8bb));
        EXPECT(0x75, gbc.readMem(0xf2d7));
        // 8E 026B
        gbc.setState(0x7882, 0x66e6, 0x3e50, 0xfc7f, 0x1cb6, 0x947d, 0x1, 0x1);
        gbc.writeMem(0x7882, { 0x8e });
        gbc.writeMem(0x947d, { 0x64 });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0xfc, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0x94, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0x66e6, gbc.sp());
        EXPECT(0x7883, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x64, gbc.readMem(0x947d));
        // 8E 026C
        gbc.setState(0x95ea, 0x9863, 0xab20, 0xe399, 0x7b9, 0x8164, 0x0, 0x1);
        gbc.writeMem(0x8164, { 0x42 });
        gbc.writeMem(0x95ea, { 0x8e });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x99, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x81, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x9863, gbc.sp());
        EXPECT(0x95eb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x42, gbc.readMem(0x8164));
        EXPECT(0x8e, gbc.readMem(0x95ea));
        // 8E 026D
        gbc.setState(0xedc2, 0x463f, 0xbf20, 0xa94f, 0x2455, 0x9840, 0x0, 0x1);
        gbc.writeMem(0x9840, { 0x52 });
        gbc.writeMem(0xedc2, { 0x8e });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x463f, gbc.sp());
        EXPECT(0xedc3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x52, gbc.readMem(0x9840));
        EXPECT(0x8e, gbc.readMem(0xedc2));
        // 8E 026E
        gbc.setState(0xe24, 0x180c, 0x8b90, 0xccc2, 0x7e40, 0x9a03, 0x0, 0x0);
        gbc.writeMem(0xe24, { 0x8e });
        gbc.writeMem(0x9a03, { 0x7f });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x7e, gbc.d());
        EXPECT(0x40, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0x180c, gbc.sp());
        EXPECT(0xe25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x7f, gbc.readMem(0x9a03));
        // 8E 026F
        gbc.setState(0x2e6b, 0x68a, 0xd20, 0xb890, 0x2e98, 0x3ca2, 0x0, 0x1);
        gbc.writeMem(0x2e6b, { 0x8e });
        gbc.writeMem(0x3ca2, { 0x5d });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x68a, gbc.sp());
        EXPECT(0x2e6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0270
        gbc.setState(0x2492, 0xe42f, 0xd200, 0xb75c, 0x58bb, 0x34b8, 0x0, 0x0);
        gbc.writeMem(0x2492, { 0x8e });
        gbc.writeMem(0x34b8, { 0x2e });
        gbc.step();
        EXPECT(0x0, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xbb, gbc.e());
        EXPECT(0x34, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xe42f, gbc.sp());
        EXPECT(0x2493, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(true, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0271
        gbc.setState(0x81fc, 0x67b4, 0x6560, 0x6ebb, 0x50e, 0x9de7, 0x0, 0x1);
        gbc.writeMem(0x81fc, { 0x8e });
        gbc.writeMem(0x9de7, { 0x41 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x6e, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0x5, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x67b4, gbc.sp());
        EXPECT(0x81fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x81fc));
        EXPECT(0x41, gbc.readMem(0x9de7));
        // 8E 0272
        gbc.setState(0x7d36, 0x7629, 0x8c20, 0x3742, 0x1ee9, 0xea90, 0x0, 0x1);
        gbc.writeMem(0x7d36, { 0x8e });
        gbc.writeMem(0xea90, { 0x53 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x7629, gbc.sp());
        EXPECT(0x7d37, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x53, gbc.readMem(0xea90));
        // 8E 0273
        gbc.setState(0x84e, 0xa967, 0x6410, 0x2efe, 0x2c86, 0xa58b, 0x0, 0x0);
        gbc.writeMem(0x84e, { 0x8e });
        gbc.writeMem(0xa58b, { 0xf });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x2e, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x8b, gbc.l());
        EXPECT(0xa967, gbc.sp());
        EXPECT(0x84f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xf, gbc.readMem(0xa58b));
        // 8E 0275
        gbc.setState(0x9eed, 0x88c3, 0x86c0, 0x9ec3, 0x90b9, 0x6463, 0x0, 0x1);
        gbc.writeMem(0x6463, { 0xf0 });
        gbc.writeMem(0x9eed, { 0x8e });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0x90, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0x63, gbc.l());
        EXPECT(0x88c3, gbc.sp());
        EXPECT(0x9eee, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9eed));
        // 8E 0276
        gbc.setState(0x10f4, 0x794, 0xa4d0, 0x5c5, 0x8795, 0x1ff6, 0x0, 0x0);
        gbc.writeMem(0x10f4, { 0x8e });
        gbc.writeMem(0x1ff6, { 0x35 });
        gbc.step();
        EXPECT(0xda, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0x1f, gbc.h());
        EXPECT(0xf6, gbc.l());
        EXPECT(0x794, gbc.sp());
        EXPECT(0x10f5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0277
        gbc.setState(0x60ca, 0x52ba, 0x48a0, 0xd1be, 0x9612, 0xb99d, 0x0, 0x0);
        gbc.writeMem(0x60ca, { 0x8e });
        gbc.writeMem(0xb99d, { 0xc2 });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x52ba, gbc.sp());
        EXPECT(0x60cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc2, gbc.readMem(0xb99d));
        // 8E 0278
        gbc.setState(0x2ce4, 0x9fa8, 0x3550, 0xa333, 0x22cc, 0x1af3, 0x0, 0x1);
        gbc.writeMem(0x1af3, { 0x1f });
        gbc.writeMem(0x2ce4, { 0x8e });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x1a, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x9fa8, gbc.sp());
        EXPECT(0x2ce5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0279
        gbc.setState(0x8653, 0xa672, 0x49f0, 0x69b, 0x3af1, 0x4c7, 0x1, 0x0);
        gbc.writeMem(0x4c7, { 0xf0 });
        gbc.writeMem(0x8653, { 0x8e });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x3a, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x4, gbc.h());
        EXPECT(0xc7, gbc.l());
        EXPECT(0xa672, gbc.sp());
        EXPECT(0x8654, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8653));
        // 8E 027A
        gbc.setState(0x7c4b, 0x1d7b, 0xde20, 0x3f5a, 0x5390, 0x48ce, 0x0, 0x0);
        gbc.writeMem(0x48ce, { 0xd6 });
        gbc.writeMem(0x7c4b, { 0x8e });
        gbc.step();
        EXPECT(0xb4, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0x5a, gbc.c());
        EXPECT(0x53, gbc.d());
        EXPECT(0x90, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x1d7b, gbc.sp());
        EXPECT(0x7c4c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 027B
        gbc.setState(0x8bf0, 0x5b41, 0x15b0, 0x1a7a, 0x3123, 0x55a2, 0x1, 0x0);
        gbc.writeMem(0x55a2, { 0x27 });
        gbc.writeMem(0x8bf0, { 0x8e });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x1a, gbc.b());
        EXPECT(0x7a, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x55, gbc.h());
        EXPECT(0xa2, gbc.l());
        EXPECT(0x5b41, gbc.sp());
        EXPECT(0x8bf1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8bf0));
        // 8E 027C
        gbc.setState(0xa515, 0x4d55, 0xf140, 0x3457, 0xd1c5, 0xdf21, 0x0, 0x1);
        gbc.writeMem(0xa515, { 0x8e });
        gbc.writeMem(0xdf21, { 0x5e });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x4d55, gbc.sp());
        EXPECT(0xa516, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa515));
        EXPECT(0x5e, gbc.readMem(0xdf21));
        // 8E 027D
        gbc.setState(0xe8fb, 0x6716, 0xaf60, 0xdd2d, 0x9695, 0xfe91, 0x1, 0x0);
        gbc.writeMem(0xe8fb, { 0x8e });
        gbc.writeMem(0xfe91, { 0x10 });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xdd, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x96, gbc.d());
        EXPECT(0x95, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x91, gbc.l());
        EXPECT(0x6716, gbc.sp());
        EXPECT(0xe8fc, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe8fb));
        EXPECT(0x10, gbc.readMem(0xfe91));
        // 8E 027E
        gbc.setState(0x5bb1, 0x63b4, 0x3060, 0xd3ac, 0x31d0, 0x8adf, 0x1, 0x1);
        gbc.writeMem(0x5bb1, { 0x8e });
        gbc.writeMem(0x8adf, { 0x89 });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x63b4, gbc.sp());
        EXPECT(0x5bb2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x89, gbc.readMem(0x8adf));
        // 8E 027F
        gbc.setState(0xbb8f, 0xedb4, 0x6f00, 0x8ac7, 0x8247, 0x9500, 0x0, 0x1);
        gbc.writeMem(0x9500, { 0xea });
        gbc.writeMem(0xbb8f, { 0x8e });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xc7, gbc.c());
        EXPECT(0x82, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xedb4, gbc.sp());
        EXPECT(0xbb90, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xea, gbc.readMem(0x9500));
        EXPECT(0x8e, gbc.readMem(0xbb8f));
        // 8E 0280
        gbc.setState(0x4dea, 0x6534, 0x7410, 0x48fb, 0x4533, 0x9035, 0x1, 0x1);
        gbc.writeMem(0x4dea, { 0x8e });
        gbc.writeMem(0x9035, { 0xa0 });
        gbc.step();
        EXPECT(0x15, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0xfb, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x6534, gbc.sp());
        EXPECT(0x4deb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa0, gbc.readMem(0x9035));
        // 8E 0281
        gbc.setState(0x2bf, 0x6177, 0xfbc0, 0xfacc, 0xfed3, 0xe26c, 0x0, 0x0);
        gbc.writeMem(0x2bf, { 0x8e });
        gbc.writeMem(0xe26c, { 0x2 });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xfe, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x6177, gbc.sp());
        EXPECT(0x2c0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x2, gbc.readMem(0xe26c));
        // 8E 0282
        gbc.setState(0xd923, 0xd1ac, 0x2630, 0xc21e, 0xe4e4, 0x64d5, 0x1, 0x0);
        gbc.writeMem(0x64d5, { 0xa0 });
        gbc.writeMem(0xd923, { 0x8e });
        gbc.step();
        EXPECT(0xc7, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0x1e, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x64, gbc.h());
        EXPECT(0xd5, gbc.l());
        EXPECT(0xd1ac, gbc.sp());
        EXPECT(0xd924, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd923));
        // 8E 0283
        gbc.setState(0x2e6b, 0xd860, 0xc790, 0xc18e, 0x1ecb, 0xd6b6, 0x0, 0x1);
        gbc.writeMem(0x2e6b, { 0x8e });
        gbc.writeMem(0xd6b6, { 0xc3 });
        gbc.step();
        EXPECT(0x8b, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x1e, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xd860, gbc.sp());
        EXPECT(0x2e6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc3, gbc.readMem(0xd6b6));
        // 8E 0284
        gbc.setState(0x40c9, 0xe46c, 0x99b0, 0x52eb, 0x2ae3, 0xded4, 0x0, 0x1);
        gbc.writeMem(0x40c9, { 0x8e });
        gbc.writeMem(0xded4, { 0x44 });
        gbc.step();
        EXPECT(0xde, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xe46c, gbc.sp());
        EXPECT(0x40ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x44, gbc.readMem(0xded4));
        // 8E 0285
        gbc.setState(0xd7de, 0xaafe, 0x2310, 0xab56, 0xbf08, 0x435d, 0x0, 0x0);
        gbc.writeMem(0x435d, { 0xa2 });
        gbc.writeMem(0xd7de, { 0x8e });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xaafe, gbc.sp());
        EXPECT(0xd7df, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd7de));
        // 8E 0286
        gbc.setState(0x3ea9, 0x272f, 0x9f10, 0x94a5, 0xd26b, 0xbb44, 0x0, 0x1);
        gbc.writeMem(0x3ea9, { 0x8e });
        gbc.writeMem(0xbb44, { 0x6f });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x94, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x6b, gbc.e());
        EXPECT(0xbb, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0x272f, gbc.sp());
        EXPECT(0x3eaa, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x6f, gbc.readMem(0xbb44));
        // 8E 0287
        gbc.setState(0x6253, 0x9bd8, 0x8930, 0x5b34, 0xf006, 0x9bf3, 0x0, 0x0);
        gbc.writeMem(0x6253, { 0x8e });
        gbc.writeMem(0x9bf3, { 0x30 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0xf3, gbc.l());
        EXPECT(0x9bd8, gbc.sp());
        EXPECT(0x6254, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x30, gbc.readMem(0x9bf3));
        // 8E 0288
        gbc.setState(0xe3c, 0x9ca, 0x1e80, 0xb743, 0x95cd, 0xcca4, 0x0, 0x1);
        gbc.writeMem(0xe3c, { 0x8e });
        gbc.writeMem(0xcca4, { 0xb3 });
        gbc.step();
        EXPECT(0xd1, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0xcd, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0x9ca, gbc.sp());
        EXPECT(0xe3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb3, gbc.readMem(0xcca4));
        // 8E 0289
        gbc.setState(0x82d2, 0xc5ec, 0x13c0, 0x8d72, 0xec07, 0x22ba, 0x1, 0x1);
        gbc.writeMem(0x22ba, { 0x91 });
        gbc.writeMem(0x82d2, { 0x8e });
        gbc.step();
        EXPECT(0xa4, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x72, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x7, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0xba, gbc.l());
        EXPECT(0xc5ec, gbc.sp());
        EXPECT(0x82d3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x82d2));
        // 8E 028A
        gbc.setState(0x18f2, 0x72ef, 0x9150, 0xdcab, 0xd2b8, 0x4810, 0x1, 0x1);
        gbc.writeMem(0x18f2, { 0x8e });
        gbc.writeMem(0x4810, { 0x6b });
        gbc.step();
        EXPECT(0xfd, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0xb8, gbc.e());
        EXPECT(0x48, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x72ef, gbc.sp());
        EXPECT(0x18f3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 028B
        gbc.setState(0xafb9, 0x3aa3, 0xa290, 0x8d36, 0x524e, 0xc43b, 0x1, 0x1);
        gbc.writeMem(0xafb9, { 0x8e });
        gbc.writeMem(0xc43b, { 0xa3 });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x3aa3, gbc.sp());
        EXPECT(0xafba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xafb9));
        EXPECT(0xa3, gbc.readMem(0xc43b));
        // 8E 028C
        gbc.setState(0x7d02, 0x9bf5, 0x91d0, 0x2477, 0x4260, 0x844f, 0x0, 0x1);
        gbc.writeMem(0x7d02, { 0x8e });
        gbc.writeMem(0x844f, { 0x90 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x24, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x9bf5, gbc.sp());
        EXPECT(0x7d03, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0x844f));
        // 8E 028D
        gbc.setState(0x68de, 0x3a72, 0x2550, 0x8b13, 0x781f, 0xf94, 0x1, 0x1);
        gbc.writeMem(0xf94, { 0x46 });
        gbc.writeMem(0x68de, { 0x8e });
        gbc.step();
        EXPECT(0x6c, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0xf, gbc.h());
        EXPECT(0x94, gbc.l());
        EXPECT(0x3a72, gbc.sp());
        EXPECT(0x68df, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 028E
        gbc.setState(0x7815, 0xabb6, 0x1410, 0x1df0, 0x58f6, 0x28b6, 0x1, 0x0);
        gbc.writeMem(0x28b6, { 0xb7 });
        gbc.writeMem(0x7815, { 0x8e });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0x1d, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xabb6, gbc.sp());
        EXPECT(0x7816, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 028F
        gbc.setState(0xb4b5, 0x65a2, 0x26b0, 0xe45f, 0x8c89, 0xa504, 0x1, 0x0);
        gbc.writeMem(0xa504, { 0xda });
        gbc.writeMem(0xb4b5, { 0x8e });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x8c, gbc.d());
        EXPECT(0x89, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x4, gbc.l());
        EXPECT(0x65a2, gbc.sp());
        EXPECT(0xb4b6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xda, gbc.readMem(0xa504));
        EXPECT(0x8e, gbc.readMem(0xb4b5));
        // 8E 0290
        gbc.setState(0x904e, 0x114b, 0xce00, 0xda2a, 0x8fa6, 0x176, 0x0, 0x1);
        gbc.writeMem(0x176, { 0x44 });
        gbc.writeMem(0x904e, { 0x8e });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0x114b, gbc.sp());
        EXPECT(0x904f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x904e));
        // 8E 0291
        gbc.setState(0x7306, 0xbb56, 0x5d40, 0x3932, 0x7c57, 0x2f4, 0x1, 0x1);
        gbc.writeMem(0x2f4, { 0xdb });
        gbc.writeMem(0x7306, { 0x8e });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xf4, gbc.l());
        EXPECT(0xbb56, gbc.sp());
        EXPECT(0x7307, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0292
        gbc.setState(0x329a, 0xb41c, 0xa070, 0xb1f1, 0xe8e7, 0xabbc, 0x1, 0x0);
        gbc.writeMem(0x329a, { 0x8e });
        gbc.writeMem(0xabbc, { 0xce });
        gbc.step();
        EXPECT(0x6f, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xe8, gbc.d());
        EXPECT(0xe7, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0xbc, gbc.l());
        EXPECT(0xb41c, gbc.sp());
        EXPECT(0x329b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xce, gbc.readMem(0xabbc));
        // 8E 0293
        gbc.setState(0xdb2b, 0x8318, 0x6fa0, 0xd102, 0xb0ed, 0x1020, 0x0, 0x1);
        gbc.writeMem(0x1020, { 0xff });
        gbc.writeMem(0xdb2b, { 0x8e });
        gbc.step();
        EXPECT(0x6e, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x2, gbc.c());
        EXPECT(0xb0, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0x8318, gbc.sp());
        EXPECT(0xdb2c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdb2b));
        // 8E 0294
        gbc.setState(0xa102, 0xf886, 0x79f0, 0x9808, 0x9ad5, 0xf0ff, 0x1, 0x1);
        gbc.writeMem(0xa102, { 0x8e });
        gbc.writeMem(0xf0ff, { 0x62 });
        gbc.step();
        EXPECT(0xdc, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x8, gbc.c());
        EXPECT(0x9a, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0xf0, gbc.h());
        EXPECT(0xff, gbc.l());
        EXPECT(0xf886, gbc.sp());
        EXPECT(0xa103, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa102));
        EXPECT(0x62, gbc.readMem(0xf0ff));
        // 8E 0295
        gbc.setState(0x6178, 0x3ae8, 0xbb70, 0xad88, 0x4f74, 0xa945, 0x0, 0x0);
        gbc.writeMem(0x6178, { 0x8e });
        gbc.writeMem(0xa945, { 0xb4 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x88, gbc.c());
        EXPECT(0x4f, gbc.d());
        EXPECT(0x74, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x3ae8, gbc.sp());
        EXPECT(0x6179, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb4, gbc.readMem(0xa945));
        // 8E 0296
        gbc.setState(0x6361, 0x54f3, 0xbc80, 0xa357, 0x763b, 0xa819, 0x0, 0x0);
        gbc.writeMem(0x6361, { 0x8e });
        gbc.writeMem(0xa819, { 0xa1 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x57, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x54f3, gbc.sp());
        EXPECT(0x6362, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa1, gbc.readMem(0xa819));
        // 8E 0297
        gbc.setState(0xbb6c, 0xfebf, 0x1840, 0x63c1, 0xa144, 0xdf20, 0x1, 0x0);
        gbc.writeMem(0xbb6c, { 0x8e });
        gbc.writeMem(0xdf20, { 0xc7 });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0xc1, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0xdf, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xfebf, gbc.sp());
        EXPECT(0xbb6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xbb6c));
        EXPECT(0xc7, gbc.readMem(0xdf20));
        // 8E 0298
        gbc.setState(0xdad7, 0x4cfc, 0x3500, 0xd18c, 0xb660, 0xea55, 0x0, 0x1);
        gbc.writeMem(0xdad7, { 0x8e });
        gbc.writeMem(0xea55, { 0x1a });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0xd1, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0xea, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0x4cfc, gbc.sp());
        EXPECT(0xdad8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdad7));
        EXPECT(0x1a, gbc.readMem(0xea55));
        // 8E 0299
        gbc.setState(0x7073, 0xb1bc, 0xe910, 0x804, 0xc4e3, 0x7969, 0x1, 0x0);
        gbc.writeMem(0x7073, { 0x8e });
        gbc.writeMem(0x7969, { 0x22 });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x8, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0xb1bc, gbc.sp());
        EXPECT(0x7074, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 029A
        gbc.setState(0xe29c, 0xe07b, 0x28f0, 0xffb7, 0xc8e, 0xafec, 0x0, 0x0);
        gbc.writeMem(0xafec, { 0xc8 });
        gbc.writeMem(0xe29c, { 0x8e });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0xff, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xc, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0xe07b, gbc.sp());
        EXPECT(0xe29d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc8, gbc.readMem(0xafec));
        EXPECT(0x8e, gbc.readMem(0xe29c));
        // 8E 029B
        gbc.setState(0xe853, 0x8904, 0x7770, 0x5ffc, 0x6f7e, 0x2037, 0x1, 0x0);
        gbc.writeMem(0x2037, { 0x1d });
        gbc.writeMem(0xe853, { 0x8e });
        gbc.step();
        EXPECT(0x95, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xfc, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x7e, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x37, gbc.l());
        EXPECT(0x8904, gbc.sp());
        EXPECT(0xe854, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe853));
        // 8E 029C
        gbc.setState(0x2841, 0xb343, 0x19b0, 0xcd16, 0x67d5, 0x75a4, 0x1, 0x0);
        gbc.writeMem(0x2841, { 0x8e });
        gbc.writeMem(0x75a4, { 0x31 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xcd, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x67, gbc.d());
        EXPECT(0xd5, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0xa4, gbc.l());
        EXPECT(0xb343, gbc.sp());
        EXPECT(0x2842, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 029D
        gbc.setState(0xa554, 0x7bd9, 0xcf30, 0x17ae, 0x78f3, 0x4f79, 0x1, 0x1);
        gbc.writeMem(0x4f79, { 0x55 });
        gbc.writeMem(0xa554, { 0x8e });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x17, gbc.b());
        EXPECT(0xae, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x7bd9, gbc.sp());
        EXPECT(0xa555, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa554));
        // 8E 029E
        gbc.setState(0x2b8a, 0xae3f, 0xe200, 0xa4, 0x3c92, 0xe400, 0x0, 0x0);
        gbc.writeMem(0x2b8a, { 0x8e });
        gbc.writeMem(0xe400, { 0x5d });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xe4, gbc.h());
        EXPECT(0x0, gbc.l());
        EXPECT(0xae3f, gbc.sp());
        EXPECT(0x2b8b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x5d, gbc.readMem(0xe400));
        // 8E 029F
        gbc.setState(0x7153, 0xf628, 0xeea0, 0x9da4, 0xa571, 0xa92a, 0x1, 0x0);
        gbc.writeMem(0x7153, { 0x8e });
        gbc.writeMem(0xa92a, { 0xb8 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xa9, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xf628, gbc.sp());
        EXPECT(0x7154, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb8, gbc.readMem(0xa92a));
        // 8E 02A0
        gbc.setState(0xea21, 0x5c9b, 0x5a90, 0x7c0f, 0xfce8, 0x1e98, 0x0, 0x0);
        gbc.writeMem(0x1e98, { 0x1f });
        gbc.writeMem(0xea21, { 0x8e });
        gbc.step();
        EXPECT(0x7a, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xe8, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0x5c9b, gbc.sp());
        EXPECT(0xea22, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xea21));
        // 8E 02A1
        gbc.setState(0xd866, 0xd2ea, 0xc9c0, 0xf174, 0xaf55, 0x6273, 0x0, 0x0);
        gbc.writeMem(0x6273, { 0x76 });
        gbc.writeMem(0xd866, { 0x8e });
        gbc.step();
        EXPECT(0x3f, gbc.a());
        EXPECT(0xf1, gbc.b());
        EXPECT(0x74, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xd2ea, gbc.sp());
        EXPECT(0xd867, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd866));
        // 8E 02A2
        gbc.setState(0x9fce, 0xbd5d, 0x7e10, 0xc30, 0x227b, 0xfe23, 0x1, 0x0);
        gbc.writeMem(0x9fce, { 0x8e });
        gbc.writeMem(0xfe23, { 0x9f });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x30, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xbd5d, gbc.sp());
        EXPECT(0x9fcf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9fce));
        EXPECT(0x9f, gbc.readMem(0xfe23));
        // 8E 02A3
        gbc.setState(0x721b, 0x580a, 0x5010, 0x6a2b, 0x9403, 0xd124, 0x0, 0x1);
        gbc.writeMem(0x721b, { 0x8e });
        gbc.writeMem(0xd124, { 0x46 });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xd1, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0x580a, gbc.sp());
        EXPECT(0x721c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x46, gbc.readMem(0xd124));
        // 8E 02A4
        gbc.setState(0x90b9, 0xd79f, 0x2d0, 0x636c, 0xa39, 0xab40, 0x0, 0x0);
        gbc.writeMem(0x90b9, { 0x8e });
        gbc.writeMem(0xab40, { 0x35 });
        gbc.step();
        EXPECT(0x38, gbc.a());
        EXPECT(0x63, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0xab, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0xd79f, gbc.sp());
        EXPECT(0x90ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x90b9));
        EXPECT(0x35, gbc.readMem(0xab40));
        // 8E 02A6
        gbc.setState(0x9eba, 0xbb30, 0xca0, 0xb35, 0x6808, 0x791b, 0x0, 0x1);
        gbc.writeMem(0x791b, { 0x3e });
        gbc.writeMem(0x9eba, { 0x8e });
        gbc.step();
        EXPECT(0x4a, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x35, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0x1b, gbc.l());
        EXPECT(0xbb30, gbc.sp());
        EXPECT(0x9ebb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9eba));
        // 8E 02A8
        gbc.setState(0xa61c, 0x11cc, 0xdcb0, 0x7525, 0x9d03, 0xcec, 0x0, 0x0);
        gbc.writeMem(0xcec, { 0x6 });
        gbc.writeMem(0xa61c, { 0x8e });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x75, gbc.b());
        EXPECT(0x25, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xec, gbc.l());
        EXPECT(0x11cc, gbc.sp());
        EXPECT(0xa61d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa61c));
        // 8E 02A9
        gbc.setState(0xa982, 0x9de2, 0x4ad0, 0xe3f6, 0xc586, 0x12b1, 0x0, 0x0);
        gbc.writeMem(0x12b1, { 0x8d });
        gbc.writeMem(0xa982, { 0x8e });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xc5, gbc.d());
        EXPECT(0x86, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x9de2, gbc.sp());
        EXPECT(0xa983, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa982));
        // 8E 02AA
        gbc.setState(0x9336, 0x65fc, 0xcc60, 0x6506, 0xc458, 0xb14e, 0x1, 0x0);
        gbc.writeMem(0x9336, { 0x8e });
        gbc.writeMem(0xb14e, { 0x84 });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0x65fc, gbc.sp());
        EXPECT(0x9337, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9336));
        EXPECT(0x84, gbc.readMem(0xb14e));
        // 8E 02AC
        gbc.setState(0xc8d8, 0xbd53, 0xf060, 0xeead, 0x8f4a, 0x9de4, 0x0, 0x1);
        gbc.writeMem(0x9de4, { 0xc });
        gbc.writeMem(0xc8d8, { 0x8e });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xee, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0x9d, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xbd53, gbc.sp());
        EXPECT(0xc8d9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xc, gbc.readMem(0x9de4));
        EXPECT(0x8e, gbc.readMem(0xc8d8));
        // 8E 02AD
        gbc.setState(0x16b4, 0xe1c2, 0xedb0, 0x62cb, 0x3b2b, 0x50d4, 0x0, 0x1);
        gbc.writeMem(0x16b4, { 0x8e });
        gbc.writeMem(0x50d4, { 0x39 });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xcb, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xe1c2, gbc.sp());
        EXPECT(0x16b5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 02AE
        gbc.setState(0x443d, 0x4c78, 0x7160, 0x85b3, 0xe3a, 0x95e8, 0x0, 0x0);
        gbc.writeMem(0x443d, { 0x8e });
        gbc.writeMem(0x95e8, { 0xe9 });
        gbc.step();
        EXPECT(0x5a, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x4c78, gbc.sp());
        EXPECT(0x443e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe9, gbc.readMem(0x95e8));
        // 8E 02AF
        gbc.setState(0xa6aa, 0x5694, 0x5c60, 0xf7f9, 0x9119, 0xc3c1, 0x0, 0x0);
        gbc.writeMem(0xa6aa, { 0x8e });
        gbc.writeMem(0xc3c1, { 0xa2 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0xf9, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0x19, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xc1, gbc.l());
        EXPECT(0x5694, gbc.sp());
        EXPECT(0xa6ab, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa6aa));
        EXPECT(0xa2, gbc.readMem(0xc3c1));
        // 8E 02B0
        gbc.setState(0xd4fa, 0x1f37, 0xc810, 0x36a4, 0xa23c, 0x5d57, 0x0, 0x0);
        gbc.writeMem(0x5d57, { 0xe2 });
        gbc.writeMem(0xd4fa, { 0x8e });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x3c, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0x1f37, gbc.sp());
        EXPECT(0xd4fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd4fa));
        // 8E 02B1
        gbc.setState(0x43cd, 0xb5d6, 0x8200, 0x1254, 0x3d3d, 0x6560, 0x0, 0x0);
        gbc.writeMem(0x43cd, { 0x8e });
        gbc.writeMem(0x6560, { 0x24 });
        gbc.step();
        EXPECT(0xa6, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x60, gbc.l());
        EXPECT(0xb5d6, gbc.sp());
        EXPECT(0x43ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 02B2
        gbc.setState(0x285e, 0x4567, 0x970, 0x3280, 0xb33d, 0x3521, 0x0, 0x0);
        gbc.writeMem(0x285e, { 0x8e });
        gbc.writeMem(0x3521, { 0xb4 });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x4567, gbc.sp());
        EXPECT(0x285f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 02B3
        gbc.setState(0xb938, 0x2753, 0xe670, 0x7b4d, 0xfcda, 0x590e, 0x0, 0x1);
        gbc.writeMem(0x590e, { 0x66 });
        gbc.writeMem(0xb938, { 0x8e });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x7b, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xda, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x2753, gbc.sp());
        EXPECT(0xb939, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb938));
        // 8E 02B4
        gbc.setState(0x6d60, 0xe9ea, 0xf1d0, 0xc2be, 0xfa58, 0x3bb7, 0x0, 0x1);
        gbc.writeMem(0x3bb7, { 0xd7 });
        gbc.writeMem(0x6d60, { 0x8e });
        gbc.step();
        EXPECT(0xc9, gbc.a());
        EXPECT(0xc2, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xb7, gbc.l());
        EXPECT(0xe9ea, gbc.sp());
        EXPECT(0x6d61, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 02B5
        gbc.setState(0xec5d, 0x2011, 0xc740, 0x12d2, 0xa0b, 0xbb1, 0x1, 0x0);
        gbc.writeMem(0xbb1, { 0x1a });
        gbc.writeMem(0xec5d, { 0x8e });
        gbc.step();
        EXPECT(0xe1, gbc.a());
        EXPECT(0x12, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xa, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0xb1, gbc.l());
        EXPECT(0x2011, gbc.sp());
        EXPECT(0xec5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xec5d));
        // 8E 02B6
        gbc.setState(0x8f2a, 0x7784, 0x2020, 0xec5f, 0x8a3b, 0x9b9d, 0x1, 0x1);
        gbc.writeMem(0x8f2a, { 0x8e });
        gbc.writeMem(0x9b9d, { 0xe6 });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x7784, gbc.sp());
        EXPECT(0x8f2b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8f2a));
        EXPECT(0xe6, gbc.readMem(0x9b9d));
        // 8E 02B7
        gbc.setState(0x37fd, 0x5f3f, 0xfb70, 0x3468, 0x970b, 0x4454, 0x0, 0x1);
        gbc.writeMem(0x37fd, { 0x8e });
        gbc.writeMem(0x4454, { 0x3b });
        gbc.step();
        EXPECT(0x37, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0x68, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x44, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x5f3f, gbc.sp());
        EXPECT(0x37fe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 02B8
        gbc.setState(0x10bb, 0xa7d2, 0x3e40, 0x744c, 0x8645, 0xf224, 0x0, 0x1);
        gbc.writeMem(0x10bb, { 0x8e });
        gbc.writeMem(0xf224, { 0x2 });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x86, gbc.d());
        EXPECT(0x45, gbc.e());
        EXPECT(0xf2, gbc.h());
        EXPECT(0x24, gbc.l());
        EXPECT(0xa7d2, gbc.sp());
        EXPECT(0x10bc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x2, gbc.readMem(0xf224));
        // 8E 02B9
        gbc.setState(0xa149, 0x3839, 0x77e0, 0x7e7d, 0xa33e, 0x981d, 0x0, 0x1);
        gbc.writeMem(0x981d, { 0xc3 });
        gbc.writeMem(0xa149, { 0x8e });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0x7d, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x98, gbc.h());
        EXPECT(0x1d, gbc.l());
        EXPECT(0x3839, gbc.sp());
        EXPECT(0xa14a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc3, gbc.readMem(0x981d));
        EXPECT(0x8e, gbc.readMem(0xa149));
        // 8E 02BA
        gbc.setState(0x4088, 0xf737, 0xb6e0, 0xc7ee, 0x6382, 0xf54e, 0x1, 0x1);
        gbc.writeMem(0x4088, { 0x8e });
        gbc.writeMem(0xf54e, { 0xad });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x63, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xf5, gbc.h());
        EXPECT(0x4e, gbc.l());
        EXPECT(0xf737, gbc.sp());
        EXPECT(0x4089, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xad, gbc.readMem(0xf54e));
        // 8E 02BB
        gbc.setState(0x1f57, 0xb100, 0xed30, 0x765e, 0xa328, 0x144f, 0x1, 0x0);
        gbc.writeMem(0x144f, { 0xd });
        gbc.writeMem(0x1f57, { 0x8e });
        gbc.step();
        EXPECT(0xfb, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x5e, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0x28, gbc.e());
        EXPECT(0x14, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0xb100, gbc.sp());
        EXPECT(0x1f58, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 02BC
        gbc.setState(0x2cc6, 0x620b, 0x44f0, 0x4d01, 0xa10e, 0x6615, 0x1, 0x1);
        gbc.writeMem(0x2cc6, { 0x8e });
        gbc.writeMem(0x6615, { 0x42 });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x620b, gbc.sp());
        EXPECT(0x2cc7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 02BD
        gbc.setState(0x1cfd, 0x5e21, 0x69c0, 0x559d, 0xc727, 0xc17f, 0x0, 0x0);
        gbc.writeMem(0x1cfd, { 0x8e });
        gbc.writeMem(0xc17f, { 0x85 });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0x5e21, gbc.sp());
        EXPECT(0x1cfe, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x85, gbc.readMem(0xc17f));
        // 8E 02BE
        gbc.setState(0x30c9, 0x6e6b, 0x5930, 0xf5b8, 0x244e, 0xbafe, 0x0, 0x1);
        gbc.writeMem(0x30c9, { 0x8e });
        gbc.writeMem(0xbafe, { 0xa });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x24, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0xba, gbc.h());
        EXPECT(0xfe, gbc.l());
        EXPECT(0x6e6b, gbc.sp());
        EXPECT(0x30ca, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa, gbc.readMem(0xbafe));
        // 8E 02C0
        gbc.setState(0x691f, 0xdd57, 0xc3b0, 0x34d2, 0xbe15, 0x7ec6, 0x0, 0x0);
        gbc.writeMem(0x691f, { 0x8e });
        gbc.writeMem(0x7ec6, { 0x1f });
        gbc.step();
        EXPECT(0xe3, gbc.a());
        EXPECT(0x34, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xdd57, gbc.sp());
        EXPECT(0x6920, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 02C1
        gbc.setState(0xd6b, 0x5f74, 0x6060, 0x199d, 0x6d27, 0xdd38, 0x1, 0x1);
        gbc.writeMem(0xd6b, { 0x8e });
        gbc.writeMem(0xdd38, { 0xd });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x38, gbc.l());
        EXPECT(0x5f74, gbc.sp());
        EXPECT(0xd6c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xd, gbc.readMem(0xdd38));
        // 8E 02C2
        gbc.setState(0x1cc5, 0x2e2e, 0x2860, 0x9bc5, 0xa9e4, 0x71f1, 0x1, 0x1);
        gbc.writeMem(0x1cc5, { 0x8e });
        gbc.writeMem(0x71f1, { 0xd6 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0xc5, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xe4, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xf1, gbc.l());
        EXPECT(0x2e2e, gbc.sp());
        EXPECT(0x1cc6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 02C3
        gbc.setState(0xd21f, 0xca35, 0x73c0, 0x162c, 0x494e, 0x10c0, 0x0, 0x0);
        gbc.writeMem(0x10c0, { 0xb9 });
        gbc.writeMem(0xd21f, { 0x8e });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x49, gbc.d());
        EXPECT(0x4e, gbc.e());
        EXPECT(0x10, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0xca35, gbc.sp());
        EXPECT(0xd220, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd21f));
        // 8E 02C4
        gbc.setState(0x7deb, 0xed98, 0x61a0, 0xb896, 0x7302, 0xae0c, 0x0, 0x0);
        gbc.writeMem(0x7deb, { 0x8e });
        gbc.writeMem(0xae0c, { 0x11 });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xb8, gbc.b());
        EXPECT(0x96, gbc.c());
        EXPECT(0x73, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0xed98, gbc.sp());
        EXPECT(0x7dec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x11, gbc.readMem(0xae0c));
        // 8E 02C5
        gbc.setState(0xc97a, 0xb751, 0xa650, 0x5fcd, 0xdede, 0x68cb, 0x1, 0x0);
        gbc.writeMem(0x68cb, { 0x46 });
        gbc.writeMem(0xc97a, { 0x8e });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x68, gbc.h());
        EXPECT(0xcb, gbc.l());
        EXPECT(0xb751, gbc.sp());
        EXPECT(0xc97b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc97a));
        // 8E 02C6
        gbc.setState(0x1300, 0xceba, 0xea70, 0x8d0f, 0xc321, 0xcce3, 0x0, 0x1);
        gbc.writeMem(0x1300, { 0x8e });
        gbc.writeMem(0xcce3, { 0x23 });
        gbc.step();
        EXPECT(0xe, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0xc3, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xcc, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0xceba, gbc.sp());
        EXPECT(0x1301, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x23, gbc.readMem(0xcce3));
        // 8E 02C7
        gbc.setState(0x8823, 0x41af, 0x9e40, 0xe628, 0xd648, 0x56e, 0x1, 0x1);
        gbc.writeMem(0x56e, { 0x23 });
        gbc.writeMem(0x8823, { 0x8e });
        gbc.step();
        EXPECT(0xc1, gbc.a());
        EXPECT(0xe6, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0xd6, gbc.d());
        EXPECT(0x48, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x41af, gbc.sp());
        EXPECT(0x8824, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8823));
        // 8E 02C8
        gbc.setState(0xd745, 0xef4a, 0x2460, 0xb223, 0xa3c3, 0xdd68, 0x0, 0x1);
        gbc.writeMem(0xd745, { 0x8e });
        gbc.writeMem(0xdd68, { 0x74 });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xa3, gbc.d());
        EXPECT(0xc3, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x68, gbc.l());
        EXPECT(0xef4a, gbc.sp());
        EXPECT(0xd746, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd745));
        EXPECT(0x74, gbc.readMem(0xdd68));
        // 8E 02C9
        gbc.setState(0x13b6, 0xd8b9, 0x4620, 0xc9f8, 0xfa2, 0xe59c, 0x1, 0x1);
        gbc.writeMem(0x13b6, { 0x8e });
        gbc.writeMem(0xe59c, { 0x6d });
        gbc.step();
        EXPECT(0xb3, gbc.a());
        EXPECT(0xc9, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xd8b9, gbc.sp());
        EXPECT(0x13b7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6d, gbc.readMem(0xe59c));
        // 8E 02CA
        gbc.setState(0x946e, 0xc587, 0x6630, 0x6750, 0xf61a, 0x298a, 0x1, 0x0);
        gbc.writeMem(0x298a, { 0x5c });
        gbc.writeMem(0x946e, { 0x8e });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xc587, gbc.sp());
        EXPECT(0x946f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x946e));
        // 8E 02CB
        gbc.setState(0x2011, 0x759d, 0x6e80, 0x85da, 0x9339, 0x161, 0x1, 0x0);
        gbc.writeMem(0x161, { 0xe0 });
        gbc.writeMem(0x2011, { 0x8e });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x85, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x61, gbc.l());
        EXPECT(0x759d, gbc.sp());
        EXPECT(0x2012, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 02CC
        gbc.setState(0x1896, 0x64ed, 0x7f50, 0x6709, 0xd70a, 0xaee3, 0x1, 0x0);
        gbc.writeMem(0x1896, { 0x8e });
        gbc.writeMem(0xaee3, { 0x64 });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x67, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0xae, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x64ed, gbc.sp());
        EXPECT(0x1897, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x64, gbc.readMem(0xaee3));
        // 8E 02CD
        gbc.setState(0xa5b9, 0xafdc, 0xcae0, 0x5e36, 0xf308, 0xa366, 0x1, 0x0);
        gbc.writeMem(0xa366, { 0x42 });
        gbc.writeMem(0xa5b9, { 0x8e });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x36, gbc.c());
        EXPECT(0xf3, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xafdc, gbc.sp());
        EXPECT(0xa5ba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x42, gbc.readMem(0xa366));
        EXPECT(0x8e, gbc.readMem(0xa5b9));
        // 8E 02CE
        gbc.setState(0x6b51, 0x371e, 0xc690, 0xb61b, 0x6567, 0x5e9d, 0x1, 0x1);
        gbc.writeMem(0x5e9d, { 0xac });
        gbc.writeMem(0x6b51, { 0x8e });
        gbc.step();
        EXPECT(0x73, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0x65, gbc.d());
        EXPECT(0x67, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x371e, gbc.sp());
        EXPECT(0x6b52, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 02CF
        gbc.setState(0x2d2e, 0xf5ed, 0x4a30, 0xea0f, 0x3c2a, 0x7b44, 0x1, 0x0);
        gbc.writeMem(0x2d2e, { 0x8e });
        gbc.writeMem(0x7b44, { 0x12 });
        gbc.step();
        EXPECT(0x5d, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x3c, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xf5ed, gbc.sp());
        EXPECT(0x2d2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 02D0
        gbc.setState(0xd165, 0xf25d, 0xa660, 0x41d2, 0x3494, 0x67b6, 0x1, 0x1);
        gbc.writeMem(0x67b6, { 0xba });
        gbc.writeMem(0xd165, { 0x8e });
        gbc.step();
        EXPECT(0x60, gbc.a());
        EXPECT(0x41, gbc.b());
        EXPECT(0xd2, gbc.c());
        EXPECT(0x34, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0xf25d, gbc.sp());
        EXPECT(0xd166, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd165));
        // 8E 02D1
        gbc.setState(0x34b8, 0x759a, 0x70e0, 0x2ab, 0xb216, 0x174, 0x0, 0x0);
        gbc.writeMem(0x174, { 0x4a });
        gbc.writeMem(0x34b8, { 0x8e });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0xab, gbc.c());
        EXPECT(0xb2, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x1, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x759a, gbc.sp());
        EXPECT(0x34b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 02D2
        gbc.setState(0xb6c2, 0x9d09, 0x65b0, 0x18eb, 0x6fae, 0x4b26, 0x0, 0x0);
        gbc.writeMem(0x4b26, { 0xbf });
        gbc.writeMem(0xb6c2, { 0x8e });
        gbc.step();
        EXPECT(0x25, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0xae, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x9d09, gbc.sp());
        EXPECT(0xb6c3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb6c2));
        // 8E 02D3
        gbc.setState(0x3ede, 0xb194, 0x6340, 0x5be1, 0x1881, 0xcb3c, 0x0, 0x1);
        gbc.writeMem(0x3ede, { 0x8e });
        gbc.writeMem(0xcb3c, { 0x88 });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x5b, gbc.b());
        EXPECT(0xe1, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0xcb, gbc.h());
        EXPECT(0x3c, gbc.l());
        EXPECT(0xb194, gbc.sp());
        EXPECT(0x3edf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x88, gbc.readMem(0xcb3c));
        // 8E 02D4
        gbc.setState(0x5d55, 0x79e8, 0x9450, 0x47a5, 0x7f9, 0x851, 0x1, 0x0);
        gbc.writeMem(0x851, { 0xbd });
        gbc.writeMem(0x5d55, { 0x8e });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x51, gbc.l());
        EXPECT(0x79e8, gbc.sp());
        EXPECT(0x5d56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 02D5
        gbc.setState(0x4fb6, 0x8e2, 0x5f20, 0xd242, 0xea87, 0x221e, 0x0, 0x0);
        gbc.writeMem(0x221e, { 0xf7 });
        gbc.writeMem(0x4fb6, { 0x8e });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0xd2, gbc.b());
        EXPECT(0x42, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0x87, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x8e2, gbc.sp());
        EXPECT(0x4fb7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 02D6
        gbc.setState(0x4ff9, 0xa0fa, 0x9080, 0xce41, 0x414, 0x3642, 0x1, 0x1);
        gbc.writeMem(0x3642, { 0x90 });
        gbc.writeMem(0x4ff9, { 0x8e });
        gbc.step();
        EXPECT(0x20, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x41, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xa0fa, gbc.sp());
        EXPECT(0x4ffa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 02D7
        gbc.setState(0xc8f4, 0xf9ca, 0xc0c0, 0x1c8d, 0xec00, 0x8223, 0x1, 0x1);
        gbc.writeMem(0x8223, { 0x30 });
        gbc.writeMem(0xc8f4, { 0x8e });
        gbc.step();
        EXPECT(0xf0, gbc.a());
        EXPECT(0x1c, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xec, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xf9ca, gbc.sp());
        EXPECT(0xc8f5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x30, gbc.readMem(0x8223));
        EXPECT(0x8e, gbc.readMem(0xc8f4));
        // 8E 02D8
        gbc.setState(0xa1d, 0xb95b, 0x5c40, 0x80ac, 0xa8b5, 0xedf5, 0x1, 0x0);
        gbc.writeMem(0xa1d, { 0x8e });
        gbc.writeMem(0xedf5, { 0x11 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xb5, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0xb95b, gbc.sp());
        EXPECT(0xa1e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x11, gbc.readMem(0xedf5));
        // 8E 02D9
        gbc.setState(0x2765, 0x65b2, 0x7e20, 0xeaa7, 0xcce3, 0x1b7c, 0x0, 0x1);
        gbc.writeMem(0x1b7c, { 0x3a });
        gbc.writeMem(0x2765, { 0x8e });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xea, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x1b, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x65b2, gbc.sp());
        EXPECT(0x2766, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 02DA
        gbc.setState(0xe202, 0x9005, 0x61a0, 0xce8e, 0x7742, 0x8286, 0x1, 0x0);
        gbc.writeMem(0x8286, { 0x78 });
        gbc.writeMem(0xe202, { 0x8e });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x8e, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0x9005, gbc.sp());
        EXPECT(0xe203, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x78, gbc.readMem(0x8286));
        EXPECT(0x8e, gbc.readMem(0xe202));
        // 8E 02DB
        gbc.setState(0xd8d3, 0xe4de, 0xa630, 0x54a7, 0xd09e, 0x180b, 0x0, 0x0);
        gbc.writeMem(0x180b, { 0xe3 });
        gbc.writeMem(0xd8d3, { 0x8e });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0x54, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x18, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0xe4de, gbc.sp());
        EXPECT(0xd8d4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd8d3));
        // 8E 02DC
        gbc.setState(0x4e6c, 0x713c, 0x1520, 0xabed, 0xd0fe, 0x6f9d, 0x1, 0x0);
        gbc.writeMem(0x4e6c, { 0x8e });
        gbc.writeMem(0x6f9d, { 0xb7 });
        gbc.step();
        EXPECT(0xcc, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0xd0, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0x6f, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x713c, gbc.sp());
        EXPECT(0x4e6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 02DD
        gbc.setState(0x4a58, 0x8536, 0xf460, 0xaa38, 0x47f, 0xaf25, 0x1, 0x1);
        gbc.writeMem(0x4a58, { 0x8e });
        gbc.writeMem(0xaf25, { 0x28 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xaa, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x25, gbc.l());
        EXPECT(0x8536, gbc.sp());
        EXPECT(0x4a59, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x28, gbc.readMem(0xaf25));
        // 8E 02DE
        gbc.setState(0x3900, 0x6c6f, 0x56d0, 0x3797, 0x8416, 0x99d2, 0x1, 0x1);
        gbc.writeMem(0x3900, { 0x8e });
        gbc.writeMem(0x99d2, { 0x77 });
        gbc.step();
        EXPECT(0xce, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x97, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x99, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x6c6f, gbc.sp());
        EXPECT(0x3901, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x77, gbc.readMem(0x99d2));
        // 8E 02DF
        gbc.setState(0x965e, 0xeb8e, 0x83c0, 0x4c0f, 0x4497, 0x89e1, 0x0, 0x1);
        gbc.writeMem(0x89e1, { 0xd3 });
        gbc.writeMem(0x965e, { 0x8e });
        gbc.step();
        EXPECT(0x56, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x44, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x89, gbc.h());
        EXPECT(0xe1, gbc.l());
        EXPECT(0xeb8e, gbc.sp());
        EXPECT(0x965f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd3, gbc.readMem(0x89e1));
        EXPECT(0x8e, gbc.readMem(0x965e));
        // 8E 02E0
        gbc.setState(0xeeae, 0xf4e8, 0x640, 0xc67e, 0x2c75, 0x6533, 0x0, 0x1);
        gbc.writeMem(0x6533, { 0xb9 });
        gbc.writeMem(0xeeae, { 0x8e });
        gbc.step();
        EXPECT(0xbf, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x65, gbc.h());
        EXPECT(0x33, gbc.l());
        EXPECT(0xf4e8, gbc.sp());
        EXPECT(0xeeaf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xeeae));
        // 8E 02E1
        gbc.setState(0x8462, 0xc0c9, 0x1900, 0x4c6d, 0xce94, 0x6bdc, 0x1, 0x1);
        gbc.writeMem(0x6bdc, { 0xdb });
        gbc.writeMem(0x8462, { 0x8e });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0x4c, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x94, gbc.e());
        EXPECT(0x6b, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xc0c9, gbc.sp());
        EXPECT(0x8463, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8462));
        // 8E 02E3
        gbc.setState(0x4698, 0xb66d, 0xc730, 0x8ff0, 0x6400, 0x5e3a, 0x1, 0x1);
        gbc.writeMem(0x4698, { 0x8e });
        gbc.writeMem(0x5e3a, { 0x20 });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xb66d, gbc.sp());
        EXPECT(0x4699, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 02E4
        gbc.setState(0xcce1, 0x6ec0, 0x380, 0x1a7, 0xa8cb, 0xc114, 0x0, 0x0);
        gbc.writeMem(0xc114, { 0xf9 });
        gbc.writeMem(0xcce1, { 0x8e });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0x1, gbc.b());
        EXPECT(0xa7, gbc.c());
        EXPECT(0xa8, gbc.d());
        EXPECT(0xcb, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0x14, gbc.l());
        EXPECT(0x6ec0, gbc.sp());
        EXPECT(0xcce2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xf9, gbc.readMem(0xc114));
        EXPECT(0x8e, gbc.readMem(0xcce1));
        // 8E 02E5
        gbc.setState(0x8b72, 0x436d, 0xb780, 0x36a0, 0x48b7, 0xd431, 0x0, 0x1);
        gbc.writeMem(0x8b72, { 0x8e });
        gbc.writeMem(0xd431, { 0x86 });
        gbc.step();
        EXPECT(0x3d, gbc.a());
        EXPECT(0x36, gbc.b());
        EXPECT(0xa0, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0xb7, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x31, gbc.l());
        EXPECT(0x436d, gbc.sp());
        EXPECT(0x8b73, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8b72));
        EXPECT(0x86, gbc.readMem(0xd431));
        // 8E 02E6
        gbc.setState(0x422a, 0x1e29, 0x4160, 0xbd28, 0x6431, 0xdd73, 0x0, 0x1);
        gbc.writeMem(0x422a, { 0x8e });
        gbc.writeMem(0xdd73, { 0x49 });
        gbc.step();
        EXPECT(0x8a, gbc.a());
        EXPECT(0xbd, gbc.b());
        EXPECT(0x28, gbc.c());
        EXPECT(0x64, gbc.d());
        EXPECT(0x31, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0x1e29, gbc.sp());
        EXPECT(0x422b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x49, gbc.readMem(0xdd73));
        // 8E 02E7
        gbc.setState(0x3368, 0x3171, 0xbb00, 0xb0d, 0xdcbc, 0x8e19, 0x1, 0x0);
        gbc.writeMem(0x3368, { 0x8e });
        gbc.writeMem(0x8e19, { 0xfd });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xd, gbc.c());
        EXPECT(0xdc, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0x8e, gbc.h());
        EXPECT(0x19, gbc.l());
        EXPECT(0x3171, gbc.sp());
        EXPECT(0x3369, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfd, gbc.readMem(0x8e19));
        // 8E 02E8
        gbc.setState(0x4456, 0xa5ae, 0xd980, 0x7710, 0x669a, 0xdae8, 0x1, 0x1);
        gbc.writeMem(0x4456, { 0x8e });
        gbc.writeMem(0xdae8, { 0x60 });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x66, gbc.d());
        EXPECT(0x9a, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xa5ae, gbc.sp());
        EXPECT(0x4457, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x60, gbc.readMem(0xdae8));
        // 8E 02E9
        gbc.setState(0xb68c, 0xb56f, 0xaad0, 0x1b95, 0xf61a, 0x117f, 0x0, 0x0);
        gbc.writeMem(0x117f, { 0xd3 });
        gbc.writeMem(0xb68c, { 0x8e });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0x1a, gbc.e());
        EXPECT(0x11, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xb56f, gbc.sp());
        EXPECT(0xb68d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb68c));
        // 8E 02EA
        gbc.setState(0x6295, 0x671e, 0xe1b0, 0x9e38, 0x9b0b, 0x46ab, 0x0, 0x1);
        gbc.writeMem(0x46ab, { 0xba });
        gbc.writeMem(0x6295, { 0x8e });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0x9e, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x9b, gbc.d());
        EXPECT(0xb, gbc.e());
        EXPECT(0x46, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x671e, gbc.sp());
        EXPECT(0x6296, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 02EB
        gbc.setState(0x71e5, 0x6b11, 0xe6b0, 0xf345, 0x94e1, 0x5852, 0x0, 0x0);
        gbc.writeMem(0x5852, { 0x24 });
        gbc.writeMem(0x71e5, { 0x8e });
        gbc.step();
        EXPECT(0xb, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x45, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x52, gbc.l());
        EXPECT(0x6b11, gbc.sp());
        EXPECT(0x71e6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 02EC
        gbc.setState(0x941f, 0x33d5, 0xa150, 0xe0a3, 0xbd00, 0xc6e6, 0x1, 0x1);
        gbc.writeMem(0x941f, { 0x8e });
        gbc.writeMem(0xc6e6, { 0x5a });
        gbc.step();
        EXPECT(0xfc, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x33d5, gbc.sp());
        EXPECT(0x9420, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x941f));
        EXPECT(0x5a, gbc.readMem(0xc6e6));
        // 8E 02EE
        gbc.setState(0xcea9, 0x724b, 0x6eb0, 0xd46f, 0xa298, 0xb11, 0x1, 0x1);
        gbc.writeMem(0xb11, { 0x3e });
        gbc.writeMem(0xcea9, { 0x8e });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x6f, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0xb, gbc.h());
        EXPECT(0x11, gbc.l());
        EXPECT(0x724b, gbc.sp());
        EXPECT(0xceaa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xcea9));
        // 8E 02EF
        gbc.setState(0xb717, 0x3314, 0x7830, 0xbe3, 0x5530, 0x2427, 0x0, 0x1);
        gbc.writeMem(0x2427, { 0xf1 });
        gbc.writeMem(0xb717, { 0x8e });
        gbc.step();
        EXPECT(0x6a, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x55, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x27, gbc.l());
        EXPECT(0x3314, gbc.sp());
        EXPECT(0xb718, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb717));
        // 8E 02F0
        gbc.setState(0x2bac, 0x2c77, 0x2d00, 0xbb80, 0x93d, 0x1dc8, 0x0, 0x0);
        gbc.writeMem(0x1dc8, { 0x73 });
        gbc.writeMem(0x2bac, { 0x8e });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0x9, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x1d, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x2c77, gbc.sp());
        EXPECT(0x2bad, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 02F1
        gbc.setState(0xb71f, 0x99d3, 0x7a00, 0xd9fa, 0xc7de, 0xc8, 0x0, 0x1);
        gbc.writeMem(0xc8, { 0x2 });
        gbc.writeMem(0xb71f, { 0x8e });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0xfa, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xc8, gbc.l());
        EXPECT(0x99d3, gbc.sp());
        EXPECT(0xb720, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb71f));
        // 8E 02F2
        gbc.setState(0x9508, 0xec16, 0xea50, 0x4982, 0x6e30, 0xdd48, 0x0, 0x1);
        gbc.writeMem(0x9508, { 0x8e });
        gbc.writeMem(0xdd48, { 0x9c });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xdd, gbc.h());
        EXPECT(0x48, gbc.l());
        EXPECT(0xec16, gbc.sp());
        EXPECT(0x9509, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9508));
        EXPECT(0x9c, gbc.readMem(0xdd48));
        // 8E 02F3
        gbc.setState(0x482e, 0x33d6, 0x5c20, 0x793f, 0x9430, 0xc202, 0x1, 0x0);
        gbc.writeMem(0x482e, { 0x8e });
        gbc.writeMem(0xc202, { 0xb8 });
        gbc.step();
        EXPECT(0x14, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x94, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x2, gbc.l());
        EXPECT(0x33d6, gbc.sp());
        EXPECT(0x482f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xb8, gbc.readMem(0xc202));
        // 8E 02F5
        gbc.setState(0xdf35, 0xf38a, 0x2c40, 0x19da, 0xa161, 0x6777, 0x1, 0x1);
        gbc.writeMem(0x6777, { 0xc2 });
        gbc.writeMem(0xdf35, { 0x8e });
        gbc.step();
        EXPECT(0xee, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x61, gbc.e());
        EXPECT(0x67, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0xf38a, gbc.sp());
        EXPECT(0xdf36, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdf35));
        // 8E 02F6
        gbc.setState(0xaccf, 0xb748, 0xb210, 0x3b21, 0x4afc, 0xc94c, 0x1, 0x0);
        gbc.writeMem(0xaccf, { 0x8e });
        gbc.writeMem(0xc94c, { 0x92 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x4a, gbc.d());
        EXPECT(0xfc, gbc.e());
        EXPECT(0xc9, gbc.h());
        EXPECT(0x4c, gbc.l());
        EXPECT(0xb748, gbc.sp());
        EXPECT(0xacd0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xaccf));
        EXPECT(0x92, gbc.readMem(0xc94c));
        // 8E 02F7
        gbc.setState(0x84e0, 0x72f7, 0x8bb0, 0xf0f1, 0xd773, 0xde7e, 0x1, 0x0);
        gbc.writeMem(0x84e0, { 0x8e });
        gbc.writeMem(0xde7e, { 0x75 });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0xf0, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xd7, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xde, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x72f7, gbc.sp());
        EXPECT(0x84e1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x84e0));
        EXPECT(0x75, gbc.readMem(0xde7e));
        // 8E 02F8
        gbc.setState(0x2ebe, 0xa0f, 0xec50, 0x7626, 0x2c14, 0x969a, 0x0, 0x0);
        gbc.writeMem(0x2ebe, { 0x8e });
        gbc.writeMem(0x969a, { 0x48 });
        gbc.step();
        EXPECT(0x35, gbc.a());
        EXPECT(0x76, gbc.b());
        EXPECT(0x26, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x96, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xa0f, gbc.sp());
        EXPECT(0x2ebf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x48, gbc.readMem(0x969a));
        // 8E 02F9
        gbc.setState(0x8875, 0x5740, 0x4cf0, 0xb3d0, 0xc08e, 0xa20c, 0x0, 0x1);
        gbc.writeMem(0x8875, { 0x8e });
        gbc.writeMem(0xa20c, { 0xda });
        gbc.step();
        EXPECT(0x27, gbc.a());
        EXPECT(0xb3, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xc0, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x5740, gbc.sp());
        EXPECT(0x8876, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8875));
        EXPECT(0xda, gbc.readMem(0xa20c));
        // 8E 02FA
        gbc.setState(0x1ccc, 0xd44e, 0x2250, 0x83b1, 0xb793, 0xad16, 0x1, 0x1);
        gbc.writeMem(0x1ccc, { 0x8e });
        gbc.writeMem(0xad16, { 0x3f });
        gbc.step();
        EXPECT(0x62, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0xb1, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x16, gbc.l());
        EXPECT(0xd44e, gbc.sp());
        EXPECT(0x1ccd, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3f, gbc.readMem(0xad16));
        // 8E 02FB
        gbc.setState(0x729, 0xe7dd, 0x5260, 0xa09e, 0x842a, 0xd47f, 0x1, 0x0);
        gbc.writeMem(0x729, { 0x8e });
        gbc.writeMem(0xd47f, { 0xa2 });
        gbc.step();
        EXPECT(0xf4, gbc.a());
        EXPECT(0xa0, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xd4, gbc.h());
        EXPECT(0x7f, gbc.l());
        EXPECT(0xe7dd, gbc.sp());
        EXPECT(0x72a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xa2, gbc.readMem(0xd47f));
        // 8E 02FC
        gbc.setState(0xec33, 0xc716, 0xd010, 0x3d4d, 0xa0ec, 0x6230, 0x1, 0x0);
        gbc.writeMem(0x6230, { 0xc8 });
        gbc.writeMem(0xec33, { 0x8e });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xec, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xc716, gbc.sp());
        EXPECT(0xec34, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xec33));
        // 8E 02FD
        gbc.setState(0x1c35, 0x679d, 0xa870, 0x5e13, 0xfca5, 0x7547, 0x0, 0x1);
        gbc.writeMem(0x1c35, { 0x8e });
        gbc.writeMem(0x7547, { 0xed });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x5e, gbc.b());
        EXPECT(0x13, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0x75, gbc.h());
        EXPECT(0x47, gbc.l());
        EXPECT(0x679d, gbc.sp());
        EXPECT(0x1c36, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 02FE
        gbc.setState(0xdb09, 0xa016, 0x7cd0, 0x4fdb, 0x936a, 0x9fe6, 0x0, 0x1);
        gbc.writeMem(0x9fe6, { 0x74 });
        gbc.writeMem(0xdb09, { 0x8e });
        gbc.step();
        EXPECT(0xf1, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0xa016, gbc.sp());
        EXPECT(0xdb0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x74, gbc.readMem(0x9fe6));
        EXPECT(0x8e, gbc.readMem(0xdb09));
        // 8E 02FF
        gbc.setState(0x65ee, 0xe0ae, 0xee60, 0xbe91, 0x3b12, 0x8c64, 0x0, 0x1);
        gbc.writeMem(0x65ee, { 0x8e });
        gbc.writeMem(0x8c64, { 0x5d });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xbe, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0x8c, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0xe0ae, gbc.sp());
        EXPECT(0x65ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x5d, gbc.readMem(0x8c64));
        // 8E 0300
        gbc.setState(0x8385, 0x35be, 0x3ac0, 0x68aa, 0x5ca2, 0x4a6a, 0x0, 0x0);
        gbc.writeMem(0x4a6a, { 0xb1 });
        gbc.writeMem(0x8385, { 0x8e });
        gbc.step();
        EXPECT(0xeb, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xa2, gbc.e());
        EXPECT(0x4a, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x35be, gbc.sp());
        EXPECT(0x8386, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8385));
        // 8E 0301
        gbc.setState(0xd260, 0xbae9, 0xbaf0, 0x8d8a, 0xd5bc, 0xa33a, 0x0, 0x1);
        gbc.writeMem(0xa33a, { 0x8b });
        gbc.writeMem(0xd260, { 0x8e });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0x8a, gbc.c());
        EXPECT(0xd5, gbc.d());
        EXPECT(0xbc, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xbae9, gbc.sp());
        EXPECT(0xd261, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8b, gbc.readMem(0xa33a));
        EXPECT(0x8e, gbc.readMem(0xd260));
        // 8E 0302
        gbc.setState(0x519, 0x2af9, 0x2640, 0x66ff, 0x68cc, 0x69c, 0x0, 0x0);
        gbc.writeMem(0x519, { 0x8e });
        gbc.writeMem(0x69c, { 0x6a });
        gbc.step();
        EXPECT(0x90, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0xff, gbc.c());
        EXPECT(0x68, gbc.d());
        EXPECT(0xcc, gbc.e());
        EXPECT(0x6, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x2af9, gbc.sp());
        EXPECT(0x51a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0303
        gbc.setState(0x6983, 0x5011, 0x9410, 0x8db8, 0xadf9, 0x5669, 0x0, 0x1);
        gbc.writeMem(0x5669, { 0x86 });
        gbc.writeMem(0x6983, { 0x8e });
        gbc.step();
        EXPECT(0x1b, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0xad, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0x56, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x5011, gbc.sp());
        EXPECT(0x6984, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0304
        gbc.setState(0xd403, 0xe0a, 0xda90, 0x6c77, 0x759, 0x301e, 0x1, 0x1);
        gbc.writeMem(0x301e, { 0x5 });
        gbc.writeMem(0xd403, { 0x8e });
        gbc.step();
        EXPECT(0xe0, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x77, gbc.c());
        EXPECT(0x7, gbc.d());
        EXPECT(0x59, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0xe0a, gbc.sp());
        EXPECT(0xd404, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd403));
        // 8E 0305
        gbc.setState(0x4821, 0x399f, 0x46a0, 0x68bf, 0x93a8, 0xc0eb, 0x1, 0x0);
        gbc.writeMem(0x4821, { 0x8e });
        gbc.writeMem(0xc0eb, { 0xf8 });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0x93, gbc.d());
        EXPECT(0xa8, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x399f, gbc.sp());
        EXPECT(0x4822, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf8, gbc.readMem(0xc0eb));
        // 8E 0307
        gbc.setState(0xd6bc, 0x45c7, 0x1710, 0x55d1, 0x1115, 0xc4ab, 0x0, 0x0);
        gbc.writeMem(0xc4ab, { 0x6d });
        gbc.writeMem(0xd6bc, { 0x8e });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x55, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x11, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x45c7, gbc.sp());
        EXPECT(0xd6bd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6d, gbc.readMem(0xc4ab));
        EXPECT(0x8e, gbc.readMem(0xd6bc));
        // 8E 0308
        gbc.setState(0x7dc2, 0x260, 0x1ab0, 0x8d0f, 0x5fc7, 0xe0f5, 0x0, 0x1);
        gbc.writeMem(0x7dc2, { 0x8e });
        gbc.writeMem(0xe0f5, { 0xff });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x8d, gbc.b());
        EXPECT(0xf, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0xc7, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xf5, gbc.l());
        EXPECT(0x260, gbc.sp());
        EXPECT(0x7dc3, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xff, gbc.readMem(0xe0f5));
        // 8E 0309
        gbc.setState(0xbb90, 0x8483, 0x2c80, 0xc1e3, 0xdfd2, 0xfbbf, 0x0, 0x1);
        gbc.writeMem(0xbb90, { 0x8e });
        gbc.writeMem(0xfbbf, { 0x6b });
        gbc.step();
        EXPECT(0x97, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0xdf, gbc.d());
        EXPECT(0xd2, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xbf, gbc.l());
        EXPECT(0x8483, gbc.sp());
        EXPECT(0xbb91, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xbb90));
        EXPECT(0x6b, gbc.readMem(0xfbbf));
        // 8E 030A
        gbc.setState(0x7eb9, 0x6253, 0x7eb0, 0x5dc2, 0xef24, 0xc1e3, 0x1, 0x1);
        gbc.writeMem(0x7eb9, { 0x8e });
        gbc.writeMem(0xc1e3, { 0x89 });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x5d, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0xef, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0xc1, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x6253, gbc.sp());
        EXPECT(0x7eba, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x89, gbc.readMem(0xc1e3));
        // 8E 030B
        gbc.setState(0x52d5, 0xd290, 0x6010, 0xcaed, 0x27c9, 0x52ac, 0x0, 0x1);
        gbc.writeMem(0x52ac, { 0x47 });
        gbc.writeMem(0x52d5, { 0x8e });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0xed, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0xd290, gbc.sp());
        EXPECT(0x52d6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 030C
        gbc.setState(0x99ab, 0x4a82, 0x2000, 0xb209, 0x83ba, 0xc312, 0x0, 0x1);
        gbc.writeMem(0x99ab, { 0x8e });
        gbc.writeMem(0xc312, { 0x35 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xb2, gbc.b());
        EXPECT(0x9, gbc.c());
        EXPECT(0x83, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0x12, gbc.l());
        EXPECT(0x4a82, gbc.sp());
        EXPECT(0x99ac, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x99ab));
        EXPECT(0x35, gbc.readMem(0xc312));
        // 8E 030D
        gbc.setState(0x28dd, 0x1c04, 0xa30, 0x562d, 0x56a3, 0x247c, 0x1, 0x0);
        gbc.writeMem(0x247c, { 0x7d });
        gbc.writeMem(0x28dd, { 0x8e });
        gbc.step();
        EXPECT(0x88, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0x24, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x1c04, gbc.sp());
        EXPECT(0x28de, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 030E
        gbc.setState(0x454e, 0x4edd, 0x4070, 0xc362, 0xa0f5, 0x9039, 0x1, 0x0);
        gbc.writeMem(0x454e, { 0x8e });
        gbc.writeMem(0x9039, { 0xb4 });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0xc3, gbc.b());
        EXPECT(0x62, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xf5, gbc.e());
        EXPECT(0x90, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x4edd, gbc.sp());
        EXPECT(0x454f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xb4, gbc.readMem(0x9039));
        // 8E 030F
        gbc.setState(0x3ea7, 0x79d9, 0x28f0, 0x47b7, 0xb38c, 0xfa39, 0x1, 0x1);
        gbc.writeMem(0x3ea7, { 0x8e });
        gbc.writeMem(0xfa39, { 0xd0 });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xb7, gbc.c());
        EXPECT(0xb3, gbc.d());
        EXPECT(0x8c, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x79d9, gbc.sp());
        EXPECT(0x3ea8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xd0, gbc.readMem(0xfa39));
        // 8E 0310
        gbc.setState(0x8d63, 0x34f, 0xd780, 0x9b29, 0xc1be, 0x2265, 0x0, 0x0);
        gbc.writeMem(0x2265, { 0x2d });
        gbc.writeMem(0x8d63, { 0x8e });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0x9b, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x22, gbc.h());
        EXPECT(0x65, gbc.l());
        EXPECT(0x34f, gbc.sp());
        EXPECT(0x8d64, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8d63));
        // 8E 0311
        gbc.setState(0x2431, 0xb074, 0xcde0, 0xa6d6, 0xbc4a, 0xbc7e, 0x0, 0x1);
        gbc.writeMem(0x2431, { 0x8e });
        gbc.writeMem(0xbc7e, { 0x32 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0xb074, gbc.sp());
        EXPECT(0x2432, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x32, gbc.readMem(0xbc7e));
        // 8E 0312
        gbc.setState(0xe2f0, 0x459b, 0x3870, 0xd3a5, 0x1c52, 0x66e9, 0x1, 0x1);
        gbc.writeMem(0x66e9, { 0x68 });
        gbc.writeMem(0xe2f0, { 0x8e });
        gbc.step();
        EXPECT(0xa1, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0xa5, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x52, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x459b, gbc.sp());
        EXPECT(0xe2f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe2f0));
        // 8E 0313
        gbc.setState(0xd2e4, 0x7208, 0xe030, 0x43c6, 0x4aa, 0x50c, 0x1, 0x0);
        gbc.writeMem(0x50c, { 0xd0 });
        gbc.writeMem(0xd2e4, { 0x8e });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x43, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xc, gbc.l());
        EXPECT(0x7208, gbc.sp());
        EXPECT(0xd2e5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd2e4));
        // 8E 0314
        gbc.setState(0x5cf3, 0x619b, 0x8450, 0x7033, 0x72ee, 0x3b0d, 0x1, 0x0);
        gbc.writeMem(0x3b0d, { 0xbc });
        gbc.writeMem(0x5cf3, { 0x8e });
        gbc.step();
        EXPECT(0x41, gbc.a());
        EXPECT(0x70, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x72, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xd, gbc.l());
        EXPECT(0x619b, gbc.sp());
        EXPECT(0x5cf4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0315
        gbc.setState(0x6dfe, 0xc20d, 0xacd0, 0x251b, 0xcd53, 0x9536, 0x1, 0x1);
        gbc.writeMem(0x6dfe, { 0x8e });
        gbc.writeMem(0x9536, { 0x8c });
        gbc.step();
        EXPECT(0x39, gbc.a());
        EXPECT(0x25, gbc.b());
        EXPECT(0x1b, gbc.c());
        EXPECT(0xcd, gbc.d());
        EXPECT(0x53, gbc.e());
        EXPECT(0x95, gbc.h());
        EXPECT(0x36, gbc.l());
        EXPECT(0xc20d, gbc.sp());
        EXPECT(0x6dff, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8c, gbc.readMem(0x9536));
        // 8E 0317
        gbc.setState(0x4434, 0x5a61, 0xdca0, 0xa331, 0x4c81, 0x9ab5, 0x1, 0x0);
        gbc.writeMem(0x4434, { 0x8e });
        gbc.writeMem(0x9ab5, { 0x22 });
        gbc.step();
        EXPECT(0xfe, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x4c, gbc.d());
        EXPECT(0x81, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0xb5, gbc.l());
        EXPECT(0x5a61, gbc.sp());
        EXPECT(0x4435, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x22, gbc.readMem(0x9ab5));
        // 8E 0318
        gbc.setState(0x9b76, 0xbe2c, 0x8770, 0xcc80, 0xcf06, 0x502a, 0x0, 0x0);
        gbc.writeMem(0x502a, { 0x96 });
        gbc.writeMem(0x9b76, { 0x8e });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x80, gbc.c());
        EXPECT(0xcf, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x50, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0xbe2c, gbc.sp());
        EXPECT(0x9b77, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9b76));
        // 8E 0319
        gbc.setState(0x46b, 0xee84, 0x2b40, 0x8bfe, 0xcb16, 0x826a, 0x0, 0x0);
        gbc.writeMem(0x46b, { 0x8e });
        gbc.writeMem(0x826a, { 0x8b });
        gbc.step();
        EXPECT(0xb6, gbc.a());
        EXPECT(0x8b, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0xcb, gbc.d());
        EXPECT(0x16, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0xee84, gbc.sp());
        EXPECT(0x46c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8b, gbc.readMem(0x826a));
        // 8E 031B
        gbc.setState(0x8fcc, 0xf680, 0xad50, 0xd319, 0x951e, 0xa7fa, 0x0, 0x1);
        gbc.writeMem(0x8fcc, { 0x8e });
        gbc.writeMem(0xa7fa, { 0x63 });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x19, gbc.c());
        EXPECT(0x95, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xa7, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0xf680, gbc.sp());
        EXPECT(0x8fcd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8fcc));
        EXPECT(0x63, gbc.readMem(0xa7fa));
        // 8E 031C
        gbc.setState(0xc368, 0x168b, 0xc400, 0x4885, 0xb704, 0x930e, 0x1, 0x0);
        gbc.writeMem(0x930e, { 0xf6 });
        gbc.writeMem(0xc368, { 0x8e });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x85, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xe, gbc.l());
        EXPECT(0x168b, gbc.sp());
        EXPECT(0xc369, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xf6, gbc.readMem(0x930e));
        EXPECT(0x8e, gbc.readMem(0xc368));
        // 8E 031D
        gbc.setState(0x3a1b, 0xd3a4, 0x550, 0xb7cc, 0xbfac, 0xb513, 0x0, 0x1);
        gbc.writeMem(0x3a1b, { 0x8e });
        gbc.writeMem(0xb513, { 0x34 });
        gbc.step();
        EXPECT(0x3a, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xac, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xd3a4, gbc.sp());
        EXPECT(0x3a1c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x34, gbc.readMem(0xb513));
        // 8E 031E
        gbc.setState(0x8b31, 0xbe5c, 0xfd90, 0xc5de, 0x18e0, 0x7aad, 0x1, 0x1);
        gbc.writeMem(0x7aad, { 0xd1 });
        gbc.writeMem(0x8b31, { 0x8e });
        gbc.step();
        EXPECT(0xcf, gbc.a());
        EXPECT(0xc5, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xe0, gbc.e());
        EXPECT(0x7a, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0xbe5c, gbc.sp());
        EXPECT(0x8b32, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8b31));
        // 8E 031F
        gbc.setState(0x196d, 0xca38, 0x2850, 0xb01, 0x4534, 0xff83, 0x0, 0x0);
        gbc.writeMem(0x196d, { 0x8e });
        gbc.writeMem(0xff83, { 0x52 });
        gbc.step();
        EXPECT(0x7b, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x45, gbc.d());
        EXPECT(0x34, gbc.e());
        EXPECT(0xff, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0xca38, gbc.sp());
        EXPECT(0x196e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x52, gbc.readMem(0xff83));
        // 8E 0320
        gbc.setState(0x6c3c, 0x7656, 0x52c0, 0x91f6, 0x22ce, 0x28b6, 0x0, 0x1);
        gbc.writeMem(0x28b6, { 0xb7 });
        gbc.writeMem(0x6c3c, { 0x8e });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0x22, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0xb6, gbc.l());
        EXPECT(0x7656, gbc.sp());
        EXPECT(0x6c3d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0321
        gbc.setState(0x8ae4, 0xc2a9, 0x89b0, 0xe36d, 0xfc2a, 0xc0d1, 0x0, 0x0);
        gbc.writeMem(0x8ae4, { 0x8e });
        gbc.writeMem(0xc0d1, { 0xdd });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0x2a, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xd1, gbc.l());
        EXPECT(0xc2a9, gbc.sp());
        EXPECT(0x8ae5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8ae4));
        EXPECT(0xdd, gbc.readMem(0xc0d1));
        // 8E 0322
        gbc.setState(0x7675, 0xb0c1, 0x5a70, 0xebc6, 0x1f17, 0x9729, 0x1, 0x1);
        gbc.writeMem(0x7675, { 0x8e });
        gbc.writeMem(0x9729, { 0xc1 });
        gbc.step();
        EXPECT(0x1c, gbc.a());
        EXPECT(0xeb, gbc.b());
        EXPECT(0xc6, gbc.c());
        EXPECT(0x1f, gbc.d());
        EXPECT(0x17, gbc.e());
        EXPECT(0x97, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0xb0c1, gbc.sp());
        EXPECT(0x7676, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc1, gbc.readMem(0x9729));
        // 8E 0323
        gbc.setState(0x7d06, 0x778a, 0x5e10, 0x8c38, 0x8f6e, 0x262f, 0x1, 0x0);
        gbc.writeMem(0x262f, { 0xf1 });
        gbc.writeMem(0x7d06, { 0x8e });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x8c, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0x6e, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0x778a, gbc.sp());
        EXPECT(0x7d07, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0324
        gbc.setState(0x3648, 0x61bc, 0x9650, 0x3fea, 0x7402, 0x3017, 0x0, 0x1);
        gbc.writeMem(0x3017, { 0x14 });
        gbc.writeMem(0x3648, { 0x8e });
        gbc.step();
        EXPECT(0xab, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xea, gbc.c());
        EXPECT(0x74, gbc.d());
        EXPECT(0x2, gbc.e());
        EXPECT(0x30, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x61bc, gbc.sp());
        EXPECT(0x3649, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0325
        gbc.setState(0x1749, 0xfe8f, 0xd20, 0x8121, 0x5ce6, 0xf39b, 0x1, 0x0);
        gbc.writeMem(0x1749, { 0x8e });
        gbc.writeMem(0xf39b, { 0x63 });
        gbc.step();
        EXPECT(0x70, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0x9b, gbc.l());
        EXPECT(0xfe8f, gbc.sp());
        EXPECT(0x174a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x63, gbc.readMem(0xf39b));
        // 8E 0326
        gbc.setState(0x77d5, 0xdae3, 0xbc70, 0xdadb, 0x566a, 0x955, 0x1, 0x0);
        gbc.writeMem(0x955, { 0x47 });
        gbc.writeMem(0x77d5, { 0x8e });
        gbc.step();
        EXPECT(0x4, gbc.a());
        EXPECT(0xda, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0x56, gbc.d());
        EXPECT(0x6a, gbc.e());
        EXPECT(0x9, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xdae3, gbc.sp());
        EXPECT(0x77d6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0327
        gbc.setState(0x10e6, 0x31dc, 0xefe0, 0x8101, 0x5f7c, 0xd93, 0x1, 0x1);
        gbc.writeMem(0xd93, { 0x12 });
        gbc.writeMem(0x10e6, { 0x8e });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x1, gbc.c());
        EXPECT(0x5f, gbc.d());
        EXPECT(0x7c, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x93, gbc.l());
        EXPECT(0x31dc, gbc.sp());
        EXPECT(0x10e7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0328
        gbc.setState(0x8a9, 0x5b12, 0x8540, 0xd322, 0x7bc1, 0x284a, 0x1, 0x1);
        gbc.writeMem(0x8a9, { 0x8e });
        gbc.writeMem(0x284a, { 0x35 });
        gbc.step();
        EXPECT(0xba, gbc.a());
        EXPECT(0xd3, gbc.b());
        EXPECT(0x22, gbc.c());
        EXPECT(0x7b, gbc.d());
        EXPECT(0xc1, gbc.e());
        EXPECT(0x28, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0x5b12, gbc.sp());
        EXPECT(0x8aa, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0329
        gbc.setState(0xbd23, 0x9b75, 0xfde0, 0x7f2c, 0x2f5f, 0xb130, 0x0, 0x1);
        gbc.writeMem(0xb130, { 0xeb });
        gbc.writeMem(0xbd23, { 0x8e });
        gbc.step();
        EXPECT(0xe8, gbc.a());
        EXPECT(0x7f, gbc.b());
        EXPECT(0x2c, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x5f, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x9b75, gbc.sp());
        EXPECT(0xbd24, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xeb, gbc.readMem(0xb130));
        EXPECT(0x8e, gbc.readMem(0xbd23));
        // 8E 032A
        gbc.setState(0x9cc5, 0x6d97, 0x6990, 0x22eb, 0x773b, 0xb4d9, 0x0, 0x0);
        gbc.writeMem(0x9cc5, { 0x8e });
        gbc.writeMem(0xb4d9, { 0x7a });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0x22, gbc.b());
        EXPECT(0xeb, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xd9, gbc.l());
        EXPECT(0x6d97, gbc.sp());
        EXPECT(0x9cc6, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9cc5));
        EXPECT(0x7a, gbc.readMem(0xb4d9));
        // 8E 032B
        gbc.setState(0xa7f, 0x54ed, 0x4a50, 0x8118, 0x6c22, 0xeb90, 0x1, 0x0);
        gbc.writeMem(0xa7f, { 0x8e });
        gbc.writeMem(0xeb90, { 0x3a });
        gbc.step();
        EXPECT(0x85, gbc.a());
        EXPECT(0x81, gbc.b());
        EXPECT(0x18, gbc.c());
        EXPECT(0x6c, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0xeb, gbc.h());
        EXPECT(0x90, gbc.l());
        EXPECT(0x54ed, gbc.sp());
        EXPECT(0xa80, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3a, gbc.readMem(0xeb90));
        // 8E 032D
        gbc.setState(0x4f6b, 0x9b1f, 0x78f0, 0x971c, 0xce42, 0xe0c2, 0x0, 0x0);
        gbc.writeMem(0x4f6b, { 0x8e });
        gbc.writeMem(0xe0c2, { 0xea });
        gbc.step();
        EXPECT(0x63, gbc.a());
        EXPECT(0x97, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0xe0, gbc.h());
        EXPECT(0xc2, gbc.l());
        EXPECT(0x9b1f, gbc.sp());
        EXPECT(0x4f6c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xea, gbc.readMem(0xe0c2));
        // 8E 032F
        gbc.setState(0x7603, 0x286f, 0x82d0, 0x839d, 0x5755, 0x2dc0, 0x0, 0x0);
        gbc.writeMem(0x2dc0, { 0x3f });
        gbc.writeMem(0x7603, { 0x8e });
        gbc.step();
        EXPECT(0xc2, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x9d, gbc.c());
        EXPECT(0x57, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0xc0, gbc.l());
        EXPECT(0x286f, gbc.sp());
        EXPECT(0x7604, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0330
        gbc.setState(0x3b47, 0xd309, 0x69c0, 0xb471, 0x9722, 0x6cc6, 0x0, 0x0);
        gbc.writeMem(0x3b47, { 0x8e });
        gbc.writeMem(0x6cc6, { 0x72 });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xb4, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0xd309, gbc.sp());
        EXPECT(0x3b48, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0331
        gbc.setState(0x23e9, 0x109a, 0x1860, 0x5265, 0x400a, 0x4226, 0x1, 0x1);
        gbc.writeMem(0x23e9, { 0x8e });
        gbc.writeMem(0x4226, { 0xe7 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0x65, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xa, gbc.e());
        EXPECT(0x42, gbc.h());
        EXPECT(0x26, gbc.l());
        EXPECT(0x109a, gbc.sp());
        EXPECT(0x23ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0332
        gbc.setState(0xb97a, 0xa89e, 0x4fd0, 0xad8c, 0x2099, 0x7e86, 0x1, 0x1);
        gbc.writeMem(0x7e86, { 0x52 });
        gbc.writeMem(0xb97a, { 0x8e });
        gbc.step();
        EXPECT(0xa2, gbc.a());
        EXPECT(0xad, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x20, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0x86, gbc.l());
        EXPECT(0xa89e, gbc.sp());
        EXPECT(0xb97b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb97a));
        // 8E 0333
        gbc.setState(0x499d, 0xd48c, 0xbc10, 0xd47c, 0x7c06, 0xfbe4, 0x1, 0x0);
        gbc.writeMem(0x499d, { 0x8e });
        gbc.writeMem(0xfbe4, { 0xd6 });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0xd4, gbc.b());
        EXPECT(0x7c, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0xfb, gbc.h());
        EXPECT(0xe4, gbc.l());
        EXPECT(0xd48c, gbc.sp());
        EXPECT(0x499e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd6, gbc.readMem(0xfbe4));
        // 8E 0334
        gbc.setState(0xc176, 0x86b6, 0x21c0, 0x6921, 0xa5b2, 0x5acd, 0x0, 0x0);
        gbc.writeMem(0x5acd, { 0x1 });
        gbc.writeMem(0xc176, { 0x8e });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0x21, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xb2, gbc.e());
        EXPECT(0x5a, gbc.h());
        EXPECT(0xcd, gbc.l());
        EXPECT(0x86b6, gbc.sp());
        EXPECT(0xc177, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc176));
        // 8E 0336
        gbc.setState(0xa5aa, 0x7cba, 0xfdf0, 0x7734, 0xc104, 0x841c, 0x1, 0x1);
        gbc.writeMem(0x841c, { 0xa2 });
        gbc.writeMem(0xa5aa, { 0x8e });
        gbc.step();
        EXPECT(0xa0, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x1c, gbc.l());
        EXPECT(0x7cba, gbc.sp());
        EXPECT(0xa5ab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa2, gbc.readMem(0x841c));
        EXPECT(0x8e, gbc.readMem(0xa5aa));
        // 8E 0337
        gbc.setState(0x3c01, 0x83bc, 0xa1e0, 0xce63, 0x9703, 0x7cfc, 0x0, 0x1);
        gbc.writeMem(0x3c01, { 0x8e });
        gbc.writeMem(0x7cfc, { 0xfe });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xce, gbc.b());
        EXPECT(0x63, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x7c, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x83bc, gbc.sp());
        EXPECT(0x3c02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0338
        gbc.setState(0x481, 0xe36a, 0x4da0, 0xa86d, 0x7521, 0xcf44, 0x1, 0x0);
        gbc.writeMem(0x481, { 0x8e });
        gbc.writeMem(0xcf44, { 0x58 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0x6d, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0x44, gbc.l());
        EXPECT(0xe36a, gbc.sp());
        EXPECT(0x482, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x58, gbc.readMem(0xcf44));
        // 8E 0339
        gbc.setState(0x887, 0x2127, 0xb580, 0x613d, 0x2757, 0xac4f, 0x1, 0x0);
        gbc.writeMem(0x887, { 0x8e });
        gbc.writeMem(0xac4f, { 0x90 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x61, gbc.b());
        EXPECT(0x3d, gbc.c());
        EXPECT(0x27, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0xac, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x2127, gbc.sp());
        EXPECT(0x888, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x90, gbc.readMem(0xac4f));
        // 8E 033A
        gbc.setState(0x7c6c, 0xd6e0, 0xcb40, 0xccd7, 0x14a, 0xda55, 0x0, 0x0);
        gbc.writeMem(0x7c6c, { 0x8e });
        gbc.writeMem(0xda55, { 0x9c });
        gbc.step();
        EXPECT(0x67, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x1, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xd6e0, gbc.sp());
        EXPECT(0x7c6d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x9c, gbc.readMem(0xda55));
        // 8E 033B
        gbc.setState(0x4390, 0x4c9d, 0xaf60, 0x5954, 0xfb00, 0x7bca, 0x0, 0x1);
        gbc.writeMem(0x4390, { 0x8e });
        gbc.writeMem(0x7bca, { 0x8f });
        gbc.step();
        EXPECT(0x3e, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x54, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x0, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xca, gbc.l());
        EXPECT(0x4c9d, gbc.sp());
        EXPECT(0x4391, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 033C
        gbc.setState(0xcfe6, 0xdbfe, 0xd8a0, 0xe92b, 0xe414, 0x195d, 0x1, 0x0);
        gbc.writeMem(0x195d, { 0x54 });
        gbc.writeMem(0xcfe6, { 0x8e });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0xe4, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x19, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xdbfe, gbc.sp());
        EXPECT(0xcfe7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xcfe6));
        // 8E 033D
        gbc.setState(0x9920, 0xa47e, 0x2b0, 0xe404, 0x9df9, 0xce49, 0x1, 0x0);
        gbc.writeMem(0x9920, { 0x8e });
        gbc.writeMem(0xce49, { 0x99 });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xe4, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x9d, gbc.d());
        EXPECT(0xf9, gbc.e());
        EXPECT(0xce, gbc.h());
        EXPECT(0x49, gbc.l());
        EXPECT(0xa47e, gbc.sp());
        EXPECT(0x9921, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9920));
        EXPECT(0x99, gbc.readMem(0xce49));
        // 8E 033E
        gbc.setState(0x1a3a, 0x216b, 0xe220, 0x4dec, 0xaca5, 0xf177, 0x0, 0x0);
        gbc.writeMem(0x1a3a, { 0x8e });
        gbc.writeMem(0xf177, { 0x2d });
        gbc.step();
        EXPECT(0xf, gbc.a());
        EXPECT(0x4d, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0xac, gbc.d());
        EXPECT(0xa5, gbc.e());
        EXPECT(0xf1, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x216b, gbc.sp());
        EXPECT(0x1a3b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x2d, gbc.readMem(0xf177));
        // 8E 033F
        gbc.setState(0xd981, 0x6093, 0xe210, 0xb056, 0xa098, 0x8323, 0x0, 0x1);
        gbc.writeMem(0x8323, { 0x8f });
        gbc.writeMem(0xd981, { 0x8e });
        gbc.step();
        EXPECT(0x72, gbc.a());
        EXPECT(0xb0, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0x98, gbc.e());
        EXPECT(0x83, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0x6093, gbc.sp());
        EXPECT(0xd982, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8f, gbc.readMem(0x8323));
        EXPECT(0x8e, gbc.readMem(0xd981));
        // 8E 0340
        gbc.setState(0x478b, 0x858f, 0x32c0, 0x3543, 0xfcee, 0x35cc, 0x1, 0x0);
        gbc.writeMem(0x35cc, { 0xd4 });
        gbc.writeMem(0x478b, { 0x8e });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x35, gbc.b());
        EXPECT(0x43, gbc.c());
        EXPECT(0xfc, gbc.d());
        EXPECT(0xee, gbc.e());
        EXPECT(0x35, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0x858f, gbc.sp());
        EXPECT(0x478c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0341
        gbc.setState(0x3f78, 0xf962, 0x5740, 0xca75, 0xed15, 0xe5e5, 0x1, 0x0);
        gbc.writeMem(0x3f78, { 0x8e });
        gbc.writeMem(0xe5e5, { 0xee });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xca, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xe5, gbc.l());
        EXPECT(0xf962, gbc.sp());
        EXPECT(0x3f79, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xee, gbc.readMem(0xe5e5));
        // 8E 0342
        gbc.setState(0xd509, 0x9d7b, 0xb660, 0x4556, 0x2eb0, 0x79e0, 0x1, 0x1);
        gbc.writeMem(0x79e0, { 0xe3 });
        gbc.writeMem(0xd509, { 0x8e });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0x2e, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x79, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x9d7b, gbc.sp());
        EXPECT(0xd50a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd509));
        // 8E 0343
        gbc.setState(0x1ce3, 0x2830, 0xbea0, 0x6698, 0x3efe, 0xa4d2, 0x0, 0x1);
        gbc.writeMem(0x1ce3, { 0x8e });
        gbc.writeMem(0xa4d2, { 0xea });
        gbc.step();
        EXPECT(0xa8, gbc.a());
        EXPECT(0x66, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x3e, gbc.d());
        EXPECT(0xfe, gbc.e());
        EXPECT(0xa4, gbc.h());
        EXPECT(0xd2, gbc.l());
        EXPECT(0x2830, gbc.sp());
        EXPECT(0x1ce4, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xea, gbc.readMem(0xa4d2));
        // 8E 0344
        gbc.setState(0xbc1d, 0x85b3, 0x6130, 0xabd0, 0xf8e3, 0x3bac, 0x0, 0x0);
        gbc.writeMem(0x3bac, { 0x7d });
        gbc.writeMem(0xbc1d, { 0x8e });
        gbc.step();
        EXPECT(0xdf, gbc.a());
        EXPECT(0xab, gbc.b());
        EXPECT(0xd0, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xe3, gbc.e());
        EXPECT(0x3b, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x85b3, gbc.sp());
        EXPECT(0xbc1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xbc1d));
        // 8E 0345
        gbc.setState(0x756b, 0xeb7, 0x130, 0xf738, 0xdb9d, 0x4da0, 0x1, 0x0);
        gbc.writeMem(0x4da0, { 0x99 });
        gbc.writeMem(0x756b, { 0x8e });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x38, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x9d, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0xeb7, gbc.sp());
        EXPECT(0x756c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0346
        gbc.setState(0x96d3, 0x3786, 0x1150, 0xe7a6, 0x63, 0x829, 0x1, 0x1);
        gbc.writeMem(0x829, { 0xff });
        gbc.writeMem(0x96d3, { 0x8e });
        gbc.step();
        EXPECT(0x11, gbc.a());
        EXPECT(0xe7, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x63, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x29, gbc.l());
        EXPECT(0x3786, gbc.sp());
        EXPECT(0x96d4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x96d3));
        // 8E 0347
        gbc.setState(0x1d8c, 0x32d4, 0xb780, 0x20d7, 0x1e, 0xc477, 0x1, 0x1);
        gbc.writeMem(0x1d8c, { 0x8e });
        gbc.writeMem(0xc477, { 0xec });
        gbc.step();
        EXPECT(0xa3, gbc.a());
        EXPECT(0x20, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0x0, gbc.d());
        EXPECT(0x1e, gbc.e());
        EXPECT(0xc4, gbc.h());
        EXPECT(0x77, gbc.l());
        EXPECT(0x32d4, gbc.sp());
        EXPECT(0x1d8d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xec, gbc.readMem(0xc477));
        // 8E 0348
        gbc.setState(0x122d, 0x2b46, 0xc670, 0x6b93, 0xc106, 0x4fac, 0x1, 0x0);
        gbc.writeMem(0x122d, { 0x8e });
        gbc.writeMem(0x4fac, { 0xd3 });
        gbc.step();
        EXPECT(0x9a, gbc.a());
        EXPECT(0x6b, gbc.b());
        EXPECT(0x93, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x6, gbc.e());
        EXPECT(0x4f, gbc.h());
        EXPECT(0xac, gbc.l());
        EXPECT(0x2b46, gbc.sp());
        EXPECT(0x122e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 034A
        gbc.setState(0xce00, 0x8d7c, 0x2e20, 0x69cf, 0x1c80, 0xb8a7, 0x0, 0x0);
        gbc.writeMem(0xb8a7, { 0x7b });
        gbc.writeMem(0xce00, { 0x8e });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0x69, gbc.b());
        EXPECT(0xcf, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x80, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0xa7, gbc.l());
        EXPECT(0x8d7c, gbc.sp());
        EXPECT(0xce01, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x7b, gbc.readMem(0xb8a7));
        EXPECT(0x8e, gbc.readMem(0xce00));
        // 8E 034B
        gbc.setState(0x6094, 0xab60, 0x9e20, 0x695, 0xdbea, 0x2b8, 0x0, 0x1);
        gbc.writeMem(0x2b8, { 0x91 });
        gbc.writeMem(0x6094, { 0x8e });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x95, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x2, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0xab60, gbc.sp());
        EXPECT(0x6095, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 034C
        gbc.setState(0xef5a, 0xce8, 0x6bd0, 0xdf5d, 0x79ca, 0x4bdc, 0x1, 0x1);
        gbc.writeMem(0x4bdc, { 0xf2 });
        gbc.writeMem(0xef5a, { 0x8e });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x5d, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0xdc, gbc.l());
        EXPECT(0xce8, gbc.sp());
        EXPECT(0xef5b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xef5a));
        // 8E 034D
        gbc.setState(0x5067, 0x32e5, 0x1d60, 0x7705, 0x588e, 0xd41, 0x1, 0x0);
        gbc.writeMem(0xd41, { 0xdc });
        gbc.writeMem(0x5067, { 0x8e });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x77, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0x58, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0xd, gbc.h());
        EXPECT(0x41, gbc.l());
        EXPECT(0x32e5, gbc.sp());
        EXPECT(0x5068, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 034E
        gbc.setState(0xad2, 0x1db5, 0x4bf0, 0xd5cd, 0x9ff6, 0xc3a9, 0x1, 0x1);
        gbc.writeMem(0xad2, { 0x8e });
        gbc.writeMem(0xc3a9, { 0x12 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xcd, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xc3, gbc.h());
        EXPECT(0xa9, gbc.l());
        EXPECT(0x1db5, gbc.sp());
        EXPECT(0xad3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x12, gbc.readMem(0xc3a9));
        // 8E 034F
        gbc.setState(0xd8f8, 0x5fc1, 0xfa20, 0xdedf, 0xb7d6, 0xeb, 0x0, 0x1);
        gbc.writeMem(0xeb, { 0x58 });
        gbc.writeMem(0xd8f8, { 0x8e });
        gbc.step();
        EXPECT(0x52, gbc.a());
        EXPECT(0xde, gbc.b());
        EXPECT(0xdf, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0x0, gbc.h());
        EXPECT(0xeb, gbc.l());
        EXPECT(0x5fc1, gbc.sp());
        EXPECT(0xd8f9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd8f8));
        // 8E 0350
        gbc.setState(0xb520, 0x228b, 0x1ad0, 0xd5f4, 0x1c7b, 0x3269, 0x1, 0x1);
        gbc.writeMem(0x3269, { 0x8e });
        gbc.writeMem(0xb520, { 0x8e });
        gbc.step();
        EXPECT(0xa9, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0xf4, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x7b, gbc.e());
        EXPECT(0x32, gbc.h());
        EXPECT(0x69, gbc.l());
        EXPECT(0x228b, gbc.sp());
        EXPECT(0xb521, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb520));
        // 8E 0351
        gbc.setState(0x38c7, 0x66b1, 0x5560, 0xf6d1, 0x52c5, 0xb430, 0x0, 0x0);
        gbc.writeMem(0x38c7, { 0x8e });
        gbc.writeMem(0xb430, { 0x9 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x52, gbc.d());
        EXPECT(0xc5, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0x66b1, gbc.sp());
        EXPECT(0x38c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x9, gbc.readMem(0xb430));
        // 8E 0352
        gbc.setState(0xbfdd, 0xf7, 0x74a0, 0xf5e3, 0x78d0, 0x29bb, 0x1, 0x0);
        gbc.writeMem(0x29bb, { 0x59 });
        gbc.writeMem(0xbfdd, { 0x8e });
        gbc.step();
        EXPECT(0xcd, gbc.a());
        EXPECT(0xf5, gbc.b());
        EXPECT(0xe3, gbc.c());
        EXPECT(0x78, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0xbb, gbc.l());
        EXPECT(0xf7, gbc.sp());
        EXPECT(0xbfde, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xbfdd));
        // 8E 0353
        gbc.setState(0xae09, 0xe5cc, 0x1b00, 0x9a6c, 0xa175, 0xc730, 0x0, 0x1);
        gbc.writeMem(0xae09, { 0x8e });
        gbc.writeMem(0xc730, { 0x30 });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0x6c, gbc.c());
        EXPECT(0xa1, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0xc7, gbc.h());
        EXPECT(0x30, gbc.l());
        EXPECT(0xe5cc, gbc.sp());
        EXPECT(0xae0a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xae09));
        EXPECT(0x30, gbc.readMem(0xc730));
        // 8E 0354
        gbc.setState(0xde86, 0x96f4, 0xad10, 0x6a32, 0x3d71, 0xfcde, 0x0, 0x1);
        gbc.writeMem(0xde86, { 0x8e });
        gbc.writeMem(0xfcde, { 0xf7 });
        gbc.step();
        EXPECT(0xa5, gbc.a());
        EXPECT(0x6a, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x71, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0xde, gbc.l());
        EXPECT(0x96f4, gbc.sp());
        EXPECT(0xde87, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xde86));
        EXPECT(0xf7, gbc.readMem(0xfcde));
        // 8E 0355
        gbc.setState(0x36ee, 0xbf12, 0xedd0, 0x3da8, 0x23c9, 0xb9ce, 0x0, 0x1);
        gbc.writeMem(0x36ee, { 0x8e });
        gbc.writeMem(0xb9ce, { 0xc3 });
        gbc.step();
        EXPECT(0xb1, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0x23, gbc.d());
        EXPECT(0xc9, gbc.e());
        EXPECT(0xb9, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xbf12, gbc.sp());
        EXPECT(0x36ef, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc3, gbc.readMem(0xb9ce));
        // 8E 0356
        gbc.setState(0xdc85, 0x1e55, 0x7c30, 0x264, 0xb04, 0xab4, 0x0, 0x0);
        gbc.writeMem(0xab4, { 0x5c });
        gbc.writeMem(0xdc85, { 0x8e });
        gbc.step();
        EXPECT(0xd9, gbc.a());
        EXPECT(0x2, gbc.b());
        EXPECT(0x64, gbc.c());
        EXPECT(0xb, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0xa, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x1e55, gbc.sp());
        EXPECT(0xdc86, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdc85));
        // 8E 0357
        gbc.setState(0x6508, 0xcc9f, 0x9cb0, 0xf34, 0x2f5c, 0x559, 0x1, 0x0);
        gbc.writeMem(0x559, { 0xc2 });
        gbc.writeMem(0x6508, { 0x8e });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x5c, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0x59, gbc.l());
        EXPECT(0xcc9f, gbc.sp());
        EXPECT(0x6509, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0358
        gbc.setState(0xccda, 0xc863, 0xe020, 0xf740, 0x8feb, 0x6d21, 0x1, 0x0);
        gbc.writeMem(0x6d21, { 0xfd });
        gbc.writeMem(0xccda, { 0x8e });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0xf7, gbc.b());
        EXPECT(0x40, gbc.c());
        EXPECT(0x8f, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0x6d, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0xc863, gbc.sp());
        EXPECT(0xccdb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xccda));
        // 8E 035A
        gbc.setState(0x6b89, 0xfb13, 0x4d30, 0x47d7, 0xa0c6, 0x158f, 0x1, 0x1);
        gbc.writeMem(0x158f, { 0x6b });
        gbc.writeMem(0x6b89, { 0x8e });
        gbc.step();
        EXPECT(0xb9, gbc.a());
        EXPECT(0x47, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xc6, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xfb13, gbc.sp());
        EXPECT(0x6b8a, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 035B
        gbc.setState(0xaa61, 0x1781, 0x3330, 0x33be, 0x18aa, 0xf464, 0x0, 0x1);
        gbc.writeMem(0xaa61, { 0x8e });
        gbc.writeMem(0xf464, { 0xa9 });
        gbc.step();
        EXPECT(0xdd, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xbe, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xf4, gbc.h());
        EXPECT(0x64, gbc.l());
        EXPECT(0x1781, gbc.sp());
        EXPECT(0xaa62, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xaa61));
        EXPECT(0xa9, gbc.readMem(0xf464));
        // 8E 035C
        gbc.setState(0xaadf, 0xf9b2, 0x13d0, 0x1f92, 0x889e, 0x53d4, 0x1, 0x1);
        gbc.writeMem(0x53d4, { 0x14 });
        gbc.writeMem(0xaadf, { 0x8e });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0x1f, gbc.b());
        EXPECT(0x92, gbc.c());
        EXPECT(0x88, gbc.d());
        EXPECT(0x9e, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xf9b2, gbc.sp());
        EXPECT(0xaae0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xaadf));
        // 8E 035D
        gbc.setState(0x2bc8, 0x4b52, 0x9970, 0xa112, 0xe630, 0x87e8, 0x1, 0x1);
        gbc.writeMem(0x2bc8, { 0x8e });
        gbc.writeMem(0x87e8, { 0xc4 });
        gbc.step();
        EXPECT(0x5e, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x12, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x30, gbc.e());
        EXPECT(0x87, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0x4b52, gbc.sp());
        EXPECT(0x2bc9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x87e8));
        // 8E 035E
        gbc.setState(0x15, 0xc32c, 0xe180, 0xe37e, 0x878e, 0x857, 0x1, 0x0);
        gbc.writeMem(0x15, { 0x8e });
        gbc.writeMem(0x857, { 0xe7 });
        gbc.step();
        EXPECT(0xc8, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x7e, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x8, gbc.h());
        EXPECT(0x57, gbc.l());
        EXPECT(0xc32c, gbc.sp());
        EXPECT(0x16, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 035F
        gbc.setState(0x8ac3, 0x3f20, 0x6d40, 0x195f, 0x4ef3, 0x3ea0, 0x1, 0x1);
        gbc.writeMem(0x3ea0, { 0xc6 });
        gbc.writeMem(0x8ac3, { 0x8e });
        gbc.step();
        EXPECT(0x33, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xf3, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0xa0, gbc.l());
        EXPECT(0x3f20, gbc.sp());
        EXPECT(0x8ac4, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8ac3));
        // 8E 0360
        gbc.setState(0x5037, 0xaf21, 0xd340, 0xf982, 0xce5d, 0x8a10, 0x1, 0x1);
        gbc.writeMem(0x5037, { 0x8e });
        gbc.writeMem(0x8a10, { 0x75 });
        gbc.step();
        EXPECT(0x48, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x82, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0xaf21, gbc.sp());
        EXPECT(0x5038, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x75, gbc.readMem(0x8a10));
        // 8E 0361
        gbc.setState(0x2856, 0x5e02, 0x7c50, 0x4533, 0x3b33, 0xd5fa, 0x0, 0x1);
        gbc.writeMem(0x2856, { 0x8e });
        gbc.writeMem(0xd5fa, { 0x30 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x33, gbc.c());
        EXPECT(0x3b, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xd5, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x5e02, gbc.sp());
        EXPECT(0x2857, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x30, gbc.readMem(0xd5fa));
        // 8E 0362
        gbc.setState(0xc6ce, 0x6afd, 0x7c80, 0xdca3, 0x9f73, 0xe5b4, 0x1, 0x0);
        gbc.writeMem(0xc6ce, { 0x8e });
        gbc.writeMem(0xe5b4, { 0x1c });
        gbc.step();
        EXPECT(0x98, gbc.a());
        EXPECT(0xdc, gbc.b());
        EXPECT(0xa3, gbc.c());
        EXPECT(0x9f, gbc.d());
        EXPECT(0x73, gbc.e());
        EXPECT(0xe5, gbc.h());
        EXPECT(0xb4, gbc.l());
        EXPECT(0x6afd, gbc.sp());
        EXPECT(0xc6cf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc6ce));
        EXPECT(0x1c, gbc.readMem(0xe5b4));
        // 8E 0363
        gbc.setState(0x6f3f, 0x6137, 0x3700, 0x3c04, 0x1d24, 0x1e78, 0x0, 0x1);
        gbc.writeMem(0x1e78, { 0xd9 });
        gbc.writeMem(0x6f3f, { 0x8e });
        gbc.step();
        EXPECT(0x10, gbc.a());
        EXPECT(0x3c, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0x24, gbc.e());
        EXPECT(0x1e, gbc.h());
        EXPECT(0x78, gbc.l());
        EXPECT(0x6137, gbc.sp());
        EXPECT(0x6f40, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0364
        gbc.setState(0xbac7, 0x85cf, 0x8f00, 0x7c1f, 0x1933, 0xa3ab, 0x1, 0x1);
        gbc.writeMem(0xa3ab, { 0x7 });
        gbc.writeMem(0xbac7, { 0x8e });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0x1f, gbc.c());
        EXPECT(0x19, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0xa3, gbc.h());
        EXPECT(0xab, gbc.l());
        EXPECT(0x85cf, gbc.sp());
        EXPECT(0xbac8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x7, gbc.readMem(0xa3ab));
        EXPECT(0x8e, gbc.readMem(0xbac7));
        // 8E 0365
        gbc.setState(0x95d1, 0x229e, 0x1500, 0x9ab8, 0x3014, 0xadd7, 0x1, 0x1);
        gbc.writeMem(0x95d1, { 0x8e });
        gbc.writeMem(0xadd7, { 0x19 });
        gbc.step();
        EXPECT(0x2e, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xb8, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0xd7, gbc.l());
        EXPECT(0x229e, gbc.sp());
        EXPECT(0x95d2, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x95d1));
        EXPECT(0x19, gbc.readMem(0xadd7));
        // 8E 0366
        gbc.setState(0x1197, 0xc21c, 0xa2b0, 0xf4f, 0xa546, 0xe3a, 0x0, 0x0);
        gbc.writeMem(0xe3a, { 0x6a });
        gbc.writeMem(0x1197, { 0x8e });
        gbc.step();
        EXPECT(0xd, gbc.a());
        EXPECT(0xf, gbc.b());
        EXPECT(0x4f, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0xe, gbc.h());
        EXPECT(0x3a, gbc.l());
        EXPECT(0xc21c, gbc.sp());
        EXPECT(0x1198, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0367
        gbc.setState(0xa0d4, 0x15c6, 0x1b80, 0xaa1, 0xf0b0, 0x43f7, 0x0, 0x0);
        gbc.writeMem(0x43f7, { 0xab });
        gbc.writeMem(0xa0d4, { 0x8e });
        gbc.step();
        EXPECT(0xc6, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0xa1, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0xb0, gbc.e());
        EXPECT(0x43, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x15c6, gbc.sp());
        EXPECT(0xa0d5, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa0d4));
        // 8E 0368
        gbc.setState(0x6595, 0x9a29, 0x62e0, 0xe29f, 0x1c92, 0x60ce, 0x1, 0x1);
        gbc.writeMem(0x60ce, { 0x90 });
        gbc.writeMem(0x6595, { 0x8e });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0xe2, gbc.b());
        EXPECT(0x9f, gbc.c());
        EXPECT(0x1c, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0x9a29, gbc.sp());
        EXPECT(0x6596, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0369
        gbc.setState(0xaf44, 0xfc21, 0x9540, 0x4fc3, 0xfb3a, 0xb86b, 0x0, 0x1);
        gbc.writeMem(0xaf44, { 0x8e });
        gbc.writeMem(0xb86b, { 0x7e });
        gbc.step();
        EXPECT(0x13, gbc.a());
        EXPECT(0x4f, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x3a, gbc.e());
        EXPECT(0xb8, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0xfc21, gbc.sp());
        EXPECT(0xaf45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xaf44));
        EXPECT(0x7e, gbc.readMem(0xb86b));
        // 8E 036A
        gbc.setState(0x34fc, 0x20fa, 0xe380, 0x8f27, 0x77d1, 0x7fa, 0x0, 0x0);
        gbc.writeMem(0x7fa, { 0xac });
        gbc.writeMem(0x34fc, { 0x8e });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x8f, gbc.b());
        EXPECT(0x27, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xd1, gbc.e());
        EXPECT(0x7, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x20fa, gbc.sp());
        EXPECT(0x34fd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 036B
        gbc.setState(0xdc68, 0xff72, 0x8b00, 0x8367, 0x2532, 0xa17d, 0x0, 0x1);
        gbc.writeMem(0xa17d, { 0x62 });
        gbc.writeMem(0xdc68, { 0x8e });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0x83, gbc.b());
        EXPECT(0x67, gbc.c());
        EXPECT(0x25, gbc.d());
        EXPECT(0x32, gbc.e());
        EXPECT(0xa1, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xff72, gbc.sp());
        EXPECT(0xdc69, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x62, gbc.readMem(0xa17d));
        EXPECT(0x8e, gbc.readMem(0xdc68));
        // 8E 036C
        gbc.setState(0x5cc7, 0xad51, 0x9f90, 0xc790, 0xa5df, 0x2545, 0x1, 0x1);
        gbc.writeMem(0x2545, { 0x4d });
        gbc.writeMem(0x5cc7, { 0x8e });
        gbc.step();
        EXPECT(0xed, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0x90, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xdf, gbc.e());
        EXPECT(0x25, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0xad51, gbc.sp());
        EXPECT(0x5cc8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 036D
        gbc.setState(0x3b0, 0xfd92, 0xf150, 0xdf37, 0x1805, 0xb72f, 0x0, 0x1);
        gbc.writeMem(0x3b0, { 0x8e });
        gbc.writeMem(0xb72f, { 0xba });
        gbc.step();
        EXPECT(0xac, gbc.a());
        EXPECT(0xdf, gbc.b());
        EXPECT(0x37, gbc.c());
        EXPECT(0x18, gbc.d());
        EXPECT(0x5, gbc.e());
        EXPECT(0xb7, gbc.h());
        EXPECT(0x2f, gbc.l());
        EXPECT(0xfd92, gbc.sp());
        EXPECT(0x3b1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xba, gbc.readMem(0xb72f));
        // 8E 036E
        gbc.setState(0x56b9, 0xda6d, 0x10e0, 0xf34c, 0x833, 0x2c55, 0x0, 0x0);
        gbc.writeMem(0x2c55, { 0xf7 });
        gbc.writeMem(0x56b9, { 0x8e });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0xf3, gbc.b());
        EXPECT(0x4c, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x55, gbc.l());
        EXPECT(0xda6d, gbc.sp());
        EXPECT(0x56ba, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 036F
        gbc.setState(0xdb19, 0x162, 0xfb50, 0x7d1, 0x48a, 0x74fc, 0x0, 0x1);
        gbc.writeMem(0x74fc, { 0x91 });
        gbc.writeMem(0xdb19, { 0x8e });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xd1, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x162, gbc.sp());
        EXPECT(0xdb1a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdb19));
        // 8E 0370
        gbc.setState(0xbede, 0xcdbc, 0x33f0, 0x5bc, 0xf60e, 0xd620, 0x1, 0x1);
        gbc.writeMem(0xbede, { 0x8e });
        gbc.writeMem(0xd620, { 0x21 });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0x5, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xe, gbc.e());
        EXPECT(0xd6, gbc.h());
        EXPECT(0x20, gbc.l());
        EXPECT(0xcdbc, gbc.sp());
        EXPECT(0xbedf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xbede));
        EXPECT(0x21, gbc.readMem(0xd620));
        // 8E 0372
        gbc.setState(0x6b17, 0x2de9, 0x6d80, 0xb6db, 0xfb3b, 0x5e2, 0x1, 0x0);
        gbc.writeMem(0x5e2, { 0xe1 });
        gbc.writeMem(0x6b17, { 0x8e });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xdb, gbc.c());
        EXPECT(0xfb, gbc.d());
        EXPECT(0x3b, gbc.e());
        EXPECT(0x5, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x2de9, gbc.sp());
        EXPECT(0x6b18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0373
        gbc.setState(0x6e9f, 0x71c4, 0x1370, 0xbcbd, 0xc442, 0x6654, 0x1, 0x1);
        gbc.writeMem(0x6654, { 0x73 });
        gbc.writeMem(0x6e9f, { 0x8e });
        gbc.step();
        EXPECT(0x87, gbc.a());
        EXPECT(0xbc, gbc.b());
        EXPECT(0xbd, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0x42, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x54, gbc.l());
        EXPECT(0x71c4, gbc.sp());
        EXPECT(0x6ea0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0374
        gbc.setState(0xb501, 0xaf4b, 0xc2c0, 0x3d9b, 0x4ef4, 0x4ecc, 0x1, 0x0);
        gbc.writeMem(0x4ecc, { 0x61 });
        gbc.writeMem(0xb501, { 0x8e });
        gbc.step();
        EXPECT(0x23, gbc.a());
        EXPECT(0x3d, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x4e, gbc.d());
        EXPECT(0xf4, gbc.e());
        EXPECT(0x4e, gbc.h());
        EXPECT(0xcc, gbc.l());
        EXPECT(0xaf4b, gbc.sp());
        EXPECT(0xb502, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb501));
        // 8E 0375
        gbc.setState(0x964b, 0x788, 0x1030, 0x5fa6, 0xc15a, 0x85a1, 0x1, 0x0);
        gbc.writeMem(0x85a1, { 0x3f });
        gbc.writeMem(0x964b, { 0x8e });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x5f, gbc.b());
        EXPECT(0xa6, gbc.c());
        EXPECT(0xc1, gbc.d());
        EXPECT(0x5a, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x788, gbc.sp());
        EXPECT(0x964c, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x3f, gbc.readMem(0x85a1));
        EXPECT(0x8e, gbc.readMem(0x964b));
        // 8E 0376
        gbc.setState(0x92f0, 0x76ee, 0xcfc0, 0x743f, 0xf747, 0xb328, 0x0, 0x0);
        gbc.writeMem(0x92f0, { 0x8e });
        gbc.writeMem(0xb328, { 0x3d });
        gbc.step();
        EXPECT(0xc, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0xb3, gbc.h());
        EXPECT(0x28, gbc.l());
        EXPECT(0x76ee, gbc.sp());
        EXPECT(0x92f1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x92f0));
        EXPECT(0x3d, gbc.readMem(0xb328));
        // 8E 0377
        gbc.setState(0x67a1, 0xd7e8, 0x8300, 0x4531, 0x8bf0, 0x9b73, 0x0, 0x0);
        gbc.writeMem(0x67a1, { 0x8e });
        gbc.writeMem(0x9b73, { 0x16 });
        gbc.step();
        EXPECT(0x99, gbc.a());
        EXPECT(0x45, gbc.b());
        EXPECT(0x31, gbc.c());
        EXPECT(0x8b, gbc.d());
        EXPECT(0xf0, gbc.e());
        EXPECT(0x9b, gbc.h());
        EXPECT(0x73, gbc.l());
        EXPECT(0xd7e8, gbc.sp());
        EXPECT(0x67a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x16, gbc.readMem(0x9b73));
        // 8E 0379
        gbc.setState(0xda60, 0xdcfb, 0x37f0, 0x1949, 0xa4ed, 0x66ed, 0x1, 0x1);
        gbc.writeMem(0x66ed, { 0xb1 });
        gbc.writeMem(0xda60, { 0x8e });
        gbc.step();
        EXPECT(0xe9, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x49, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0xed, gbc.l());
        EXPECT(0xdcfb, gbc.sp());
        EXPECT(0xda61, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xda60));
        // 8E 037A
        gbc.setState(0x1102, 0xd079, 0x7490, 0x3b66, 0x7d08, 0x2ca3, 0x1, 0x0);
        gbc.writeMem(0x1102, { 0x8e });
        gbc.writeMem(0x2ca3, { 0xb8 });
        gbc.step();
        EXPECT(0x2d, gbc.a());
        EXPECT(0x3b, gbc.b());
        EXPECT(0x66, gbc.c());
        EXPECT(0x7d, gbc.d());
        EXPECT(0x8, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0xa3, gbc.l());
        EXPECT(0xd079, gbc.sp());
        EXPECT(0x1103, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 037B
        gbc.setState(0xe724, 0x208b, 0x1c20, 0x8ef1, 0x4eb, 0xbc6d, 0x1, 0x1);
        gbc.writeMem(0xbc6d, { 0xdd });
        gbc.writeMem(0xe724, { 0x8e });
        gbc.step();
        EXPECT(0xf9, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0x4, gbc.d());
        EXPECT(0xeb, gbc.e());
        EXPECT(0xbc, gbc.h());
        EXPECT(0x6d, gbc.l());
        EXPECT(0x208b, gbc.sp());
        EXPECT(0xe725, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0xdd, gbc.readMem(0xbc6d));
        EXPECT(0x8e, gbc.readMem(0xe724));
        // 8E 037C
        gbc.setState(0x2195, 0x1fc2, 0xc940, 0xfa20, 0x2cca, 0xda6e, 0x1, 0x1);
        gbc.writeMem(0x2195, { 0x8e });
        gbc.writeMem(0xda6e, { 0x7 });
        gbc.step();
        EXPECT(0xd0, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x20, gbc.c());
        EXPECT(0x2c, gbc.d());
        EXPECT(0xca, gbc.e());
        EXPECT(0xda, gbc.h());
        EXPECT(0x6e, gbc.l());
        EXPECT(0x1fc2, gbc.sp());
        EXPECT(0x2196, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x7, gbc.readMem(0xda6e));
        // 8E 037D
        gbc.setState(0x29f0, 0x24bf, 0xd930, 0x71f6, 0xe98a, 0xe2f7, 0x1, 0x0);
        gbc.writeMem(0x29f0, { 0x8e });
        gbc.writeMem(0xe2f7, { 0xfa });
        gbc.step();
        EXPECT(0xd4, gbc.a());
        EXPECT(0x71, gbc.b());
        EXPECT(0xf6, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x8a, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0x24bf, gbc.sp());
        EXPECT(0x29f1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfa, gbc.readMem(0xe2f7));
        // 8E 037E
        gbc.setState(0x545b, 0x202, 0x63b0, 0x78bb, 0xced6, 0xa5e0, 0x0, 0x1);
        gbc.writeMem(0x545b, { 0x8e });
        gbc.writeMem(0xa5e0, { 0x14 });
        gbc.step();
        EXPECT(0x78, gbc.a());
        EXPECT(0x78, gbc.b());
        EXPECT(0xbb, gbc.c());
        EXPECT(0xce, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0xe0, gbc.l());
        EXPECT(0x202, gbc.sp());
        EXPECT(0x545c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x14, gbc.readMem(0xa5e0));
        // 8E 037F
        gbc.setState(0x38fa, 0x52f3, 0x3460, 0x924a, 0xcc57, 0x5ec3, 0x0, 0x0);
        gbc.writeMem(0x38fa, { 0x8e });
        gbc.writeMem(0x5ec3, { 0xcf });
        gbc.step();
        EXPECT(0x3, gbc.a());
        EXPECT(0x92, gbc.b());
        EXPECT(0x4a, gbc.c());
        EXPECT(0xcc, gbc.d());
        EXPECT(0x57, gbc.e());
        EXPECT(0x5e, gbc.h());
        EXPECT(0xc3, gbc.l());
        EXPECT(0x52f3, gbc.sp());
        EXPECT(0x38fb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0380
        gbc.setState(0x9d6c, 0xea1f, 0x7aa0, 0x4, 0x759c, 0xd366, 0x1, 0x0);
        gbc.writeMem(0x9d6c, { 0x8e });
        gbc.writeMem(0xd366, { 0xa8 });
        gbc.step();
        EXPECT(0x22, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x4, gbc.c());
        EXPECT(0x75, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x66, gbc.l());
        EXPECT(0xea1f, gbc.sp());
        EXPECT(0x9d6d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9d6c));
        EXPECT(0xa8, gbc.readMem(0xd366));
        // 8E 0381
        gbc.setState(0xe8cd, 0x386f, 0x5780, 0x987f, 0x9278, 0x1605, 0x0, 0x0);
        gbc.writeMem(0x1605, { 0xf8 });
        gbc.writeMem(0xe8cd, { 0x8e });
        gbc.step();
        EXPECT(0x4f, gbc.a());
        EXPECT(0x98, gbc.b());
        EXPECT(0x7f, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x78, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x5, gbc.l());
        EXPECT(0x386f, gbc.sp());
        EXPECT(0xe8ce, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe8cd));
        // 8E 0382
        gbc.setState(0x783f, 0xa714, 0xc040, 0xe3a4, 0xd21f, 0x2c50, 0x0, 0x0);
        gbc.writeMem(0x2c50, { 0x49 });
        gbc.writeMem(0x783f, { 0x8e });
        gbc.step();
        EXPECT(0x9, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xa4, gbc.c());
        EXPECT(0xd2, gbc.d());
        EXPECT(0x1f, gbc.e());
        EXPECT(0x2c, gbc.h());
        EXPECT(0x50, gbc.l());
        EXPECT(0xa714, gbc.sp());
        EXPECT(0x7840, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0383
        gbc.setState(0x4742, 0xfb8b, 0x95f0, 0x3fa8, 0xdeba, 0x387d, 0x1, 0x0);
        gbc.writeMem(0x387d, { 0x96 });
        gbc.writeMem(0x4742, { 0x8e });
        gbc.step();
        EXPECT(0x2c, gbc.a());
        EXPECT(0x3f, gbc.b());
        EXPECT(0xa8, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x38, gbc.h());
        EXPECT(0x7d, gbc.l());
        EXPECT(0xfb8b, gbc.sp());
        EXPECT(0x4743, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0384
        gbc.setState(0xdba6, 0xcaf2, 0xdab0, 0xfa2d, 0x9204, 0x844a, 0x1, 0x1);
        gbc.writeMem(0x844a, { 0xc4 });
        gbc.writeMem(0xdba6, { 0x8e });
        gbc.step();
        EXPECT(0x9f, gbc.a());
        EXPECT(0xfa, gbc.b());
        EXPECT(0x2d, gbc.c());
        EXPECT(0x92, gbc.d());
        EXPECT(0x4, gbc.e());
        EXPECT(0x84, gbc.h());
        EXPECT(0x4a, gbc.l());
        EXPECT(0xcaf2, gbc.sp());
        EXPECT(0xdba7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xc4, gbc.readMem(0x844a));
        EXPECT(0x8e, gbc.readMem(0xdba6));
        // 8E 0386
        gbc.setState(0x8e55, 0xdcb4, 0xb950, 0x40de, 0x9951, 0xa642, 0x1, 0x1);
        gbc.writeMem(0x8e55, { 0x8e });
        gbc.writeMem(0xa642, { 0x93 });
        gbc.step();
        EXPECT(0x4d, gbc.a());
        EXPECT(0x40, gbc.b());
        EXPECT(0xde, gbc.c());
        EXPECT(0x99, gbc.d());
        EXPECT(0x51, gbc.e());
        EXPECT(0xa6, gbc.h());
        EXPECT(0x42, gbc.l());
        EXPECT(0xdcb4, gbc.sp());
        EXPECT(0x8e56, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8e55));
        EXPECT(0x93, gbc.readMem(0xa642));
        // 8E 0387
        gbc.setState(0x27c6, 0x207a, 0x3880, 0x322a, 0x3733, 0x52e6, 0x0, 0x0);
        gbc.writeMem(0x27c6, { 0x8e });
        gbc.writeMem(0x52e6, { 0xcf });
        gbc.step();
        EXPECT(0x7, gbc.a());
        EXPECT(0x32, gbc.b());
        EXPECT(0x2a, gbc.c());
        EXPECT(0x37, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0xe6, gbc.l());
        EXPECT(0x207a, gbc.sp());
        EXPECT(0x27c7, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 0388
        gbc.setState(0x67ad, 0x580c, 0xeb60, 0x192e, 0xb579, 0xb510, 0x0, 0x0);
        gbc.writeMem(0x67ad, { 0x8e });
        gbc.writeMem(0xb510, { 0xa4 });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x19, gbc.b());
        EXPECT(0x2e, gbc.c());
        EXPECT(0xb5, gbc.d());
        EXPECT(0x79, gbc.e());
        EXPECT(0xb5, gbc.h());
        EXPECT(0x10, gbc.l());
        EXPECT(0x580c, gbc.sp());
        EXPECT(0x67ae, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa4, gbc.readMem(0xb510));
        // 8E 0389
        gbc.setState(0x33ef, 0x751b, 0xf4a0, 0x56, 0xbdbe, 0x9f1e, 0x1, 0x0);
        gbc.writeMem(0x33ef, { 0x8e });
        gbc.writeMem(0x9f1e, { 0xbb });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x0, gbc.b());
        EXPECT(0x56, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x9f, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x751b, gbc.sp());
        EXPECT(0x33f0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xbb, gbc.readMem(0x9f1e));
        // 8E 038A
        gbc.setState(0x5ee0, 0x4843, 0x3980, 0x798f, 0x1a4a, 0xa84f, 0x0, 0x0);
        gbc.writeMem(0x5ee0, { 0x8e });
        gbc.writeMem(0xa84f, { 0x22 });
        gbc.step();
        EXPECT(0x5b, gbc.a());
        EXPECT(0x79, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x1a, gbc.d());
        EXPECT(0x4a, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0x4f, gbc.l());
        EXPECT(0x4843, gbc.sp());
        EXPECT(0x5ee1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x22, gbc.readMem(0xa84f));
        // 8E 038B
        gbc.setState(0x85b1, 0xd88f, 0xb410, 0x62ad, 0x383e, 0x8a9c, 0x0, 0x0);
        gbc.writeMem(0x85b1, { 0x8e });
        gbc.writeMem(0x8a9c, { 0x99 });
        gbc.step();
        EXPECT(0x4e, gbc.a());
        EXPECT(0x62, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x38, gbc.d());
        EXPECT(0x3e, gbc.e());
        EXPECT(0x8a, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0xd88f, gbc.sp());
        EXPECT(0x85b2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x85b1));
        EXPECT(0x99, gbc.readMem(0x8a9c));
        // 8E 038C
        gbc.setState(0x59df, 0xa435, 0x91b0, 0x9015, 0xa9ff, 0x7213, 0x0, 0x0);
        gbc.writeMem(0x59df, { 0x8e });
        gbc.writeMem(0x7213, { 0x9d });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x90, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0xa9, gbc.d());
        EXPECT(0xff, gbc.e());
        EXPECT(0x72, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0xa435, gbc.sp());
        EXPECT(0x59e0, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 038D
        gbc.setState(0x4d65, 0xfa4c, 0x10d0, 0x7ec2, 0x5a7d, 0xede2, 0x0, 0x0);
        gbc.writeMem(0x4d65, { 0x8e });
        gbc.writeMem(0xede2, { 0x33 });
        gbc.step();
        EXPECT(0x44, gbc.a());
        EXPECT(0x7e, gbc.b());
        EXPECT(0xc2, gbc.c());
        EXPECT(0x5a, gbc.d());
        EXPECT(0x7d, gbc.e());
        EXPECT(0xed, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xfa4c, gbc.sp());
        EXPECT(0x4d66, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x33, gbc.readMem(0xede2));
        // 8E 038E
        gbc.setState(0x7, 0xef6, 0xcc40, 0x88d6, 0xf775, 0x155d, 0x1, 0x1);
        gbc.writeMem(0x7, { 0x8e });
        gbc.writeMem(0x155d, { 0x9 });
        gbc.step();
        EXPECT(0xd5, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xd6, gbc.c());
        EXPECT(0xf7, gbc.d());
        EXPECT(0x75, gbc.e());
        EXPECT(0x15, gbc.h());
        EXPECT(0x5d, gbc.l());
        EXPECT(0xef6, gbc.sp());
        EXPECT(0x8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 038F
        gbc.setState(0x945b, 0xef26, 0xed90, 0x74bf, 0xf099, 0xf3a5, 0x0, 0x1);
        gbc.writeMem(0x945b, { 0x8e });
        gbc.writeMem(0xf3a5, { 0x11 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x74, gbc.b());
        EXPECT(0xbf, gbc.c());
        EXPECT(0xf0, gbc.d());
        EXPECT(0x99, gbc.e());
        EXPECT(0xf3, gbc.h());
        EXPECT(0xa5, gbc.l());
        EXPECT(0xef26, gbc.sp());
        EXPECT(0x945c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x945b));
        EXPECT(0x11, gbc.readMem(0xf3a5));
        // 8E 0390
        gbc.setState(0xa438, 0x78df, 0x12c0, 0xa610, 0x84f6, 0xb19f, 0x1, 0x0);
        gbc.writeMem(0xa438, { 0x8e });
        gbc.writeMem(0xb19f, { 0xb1 });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0xa6, gbc.b());
        EXPECT(0x10, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0xb1, gbc.h());
        EXPECT(0x9f, gbc.l());
        EXPECT(0x78df, gbc.sp());
        EXPECT(0xa439, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa438));
        EXPECT(0xb1, gbc.readMem(0xb19f));
        // 8E 0391
        gbc.setState(0x2cbf, 0x7926, 0x9ee0, 0x3305, 0xdee1, 0xcfb0, 0x1, 0x1);
        gbc.writeMem(0x2cbf, { 0x8e });
        gbc.writeMem(0xcfb0, { 0xa9 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0x5, gbc.c());
        EXPECT(0xde, gbc.d());
        EXPECT(0xe1, gbc.e());
        EXPECT(0xcf, gbc.h());
        EXPECT(0xb0, gbc.l());
        EXPECT(0x7926, gbc.sp());
        EXPECT(0x2cc0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xa9, gbc.readMem(0xcfb0));
        // 8E 0392
        gbc.setState(0x34c0, 0x5a5, 0x1570, 0xcc2b, 0x97f8, 0x45a6, 0x0, 0x0);
        gbc.writeMem(0x34c0, { 0x8e });
        gbc.writeMem(0x45a6, { 0x66 });
        gbc.step();
        EXPECT(0x7c, gbc.a());
        EXPECT(0xcc, gbc.b());
        EXPECT(0x2b, gbc.c());
        EXPECT(0x97, gbc.d());
        EXPECT(0xf8, gbc.e());
        EXPECT(0x45, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0x5a5, gbc.sp());
        EXPECT(0x34c1, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0393
        gbc.setState(0x6762, 0x29fa, 0x5c80, 0x2aaa, 0x768f, 0x1240, 0x0, 0x0);
        gbc.writeMem(0x1240, { 0x18 });
        gbc.writeMem(0x6762, { 0x8e });
        gbc.step();
        EXPECT(0x74, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0xaa, gbc.c());
        EXPECT(0x76, gbc.d());
        EXPECT(0x8f, gbc.e());
        EXPECT(0x12, gbc.h());
        EXPECT(0x40, gbc.l());
        EXPECT(0x29fa, gbc.sp());
        EXPECT(0x6763, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0394
        gbc.setState(0xcbaa, 0x4df4, 0x2030, 0xec32, 0xe18e, 0x5d17, 0x1, 0x0);
        gbc.writeMem(0x5d17, { 0x75 });
        gbc.writeMem(0xcbaa, { 0x8e });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0xec, gbc.b());
        EXPECT(0x32, gbc.c());
        EXPECT(0xe1, gbc.d());
        EXPECT(0x8e, gbc.e());
        EXPECT(0x5d, gbc.h());
        EXPECT(0x17, gbc.l());
        EXPECT(0x4df4, gbc.sp());
        EXPECT(0xcbab, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xcbaa));
        // 8E 0395
        gbc.setState(0xdc67, 0xfa21, 0x7330, 0x6c2f, 0x6ce, 0xcce, 0x0, 0x1);
        gbc.writeMem(0xcce, { 0x19 });
        gbc.writeMem(0xdc67, { 0x8e });
        gbc.step();
        EXPECT(0x8d, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0x6, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xc, gbc.h());
        EXPECT(0xce, gbc.l());
        EXPECT(0xfa21, gbc.sp());
        EXPECT(0xdc68, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdc67));
        // 8E 0396
        gbc.setState(0x3c43, 0x1283, 0x4160, 0xbb34, 0x482f, 0xcda8, 0x1, 0x0);
        gbc.writeMem(0x3c43, { 0x8e });
        gbc.writeMem(0xcda8, { 0xe3 });
        gbc.step();
        EXPECT(0x24, gbc.a());
        EXPECT(0xbb, gbc.b());
        EXPECT(0x34, gbc.c());
        EXPECT(0x48, gbc.d());
        EXPECT(0x2f, gbc.e());
        EXPECT(0xcd, gbc.h());
        EXPECT(0xa8, gbc.l());
        EXPECT(0x1283, gbc.sp());
        EXPECT(0x3c44, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xe3, gbc.readMem(0xcda8));
        // 8E 0397
        gbc.setState(0x4d17, 0xcdb3, 0x9710, 0x8aa2, 0x77f7, 0x7dd0, 0x1, 0x1);
        gbc.writeMem(0x4d17, { 0x8e });
        gbc.writeMem(0x7dd0, { 0x20 });
        gbc.step();
        EXPECT(0xb8, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x77, gbc.d());
        EXPECT(0xf7, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0xd0, gbc.l());
        EXPECT(0xcdb3, gbc.sp());
        EXPECT(0x4d18, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 0398
        gbc.setState(0x28cd, 0x93a2, 0xe5b0, 0x91ce, 0x3d12, 0xaf1e, 0x1, 0x1);
        gbc.writeMem(0x28cd, { 0x8e });
        gbc.writeMem(0xaf1e, { 0xd1 });
        gbc.step();
        EXPECT(0xb7, gbc.a());
        EXPECT(0x91, gbc.b());
        EXPECT(0xce, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0x12, gbc.e());
        EXPECT(0xaf, gbc.h());
        EXPECT(0x1e, gbc.l());
        EXPECT(0x93a2, gbc.sp());
        EXPECT(0x28ce, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd1, gbc.readMem(0xaf1e));
        // 8E 039A
        gbc.setState(0x94cb, 0x272f, 0x9c10, 0xe3bc, 0xf56d, 0x71ae, 0x0, 0x0);
        gbc.writeMem(0x71ae, { 0xbc });
        gbc.writeMem(0x94cb, { 0x8e });
        gbc.step();
        EXPECT(0x59, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0xbc, gbc.c());
        EXPECT(0xf5, gbc.d());
        EXPECT(0x6d, gbc.e());
        EXPECT(0x71, gbc.h());
        EXPECT(0xae, gbc.l());
        EXPECT(0x272f, gbc.sp());
        EXPECT(0x94cc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x94cb));
        // 8E 039B
        gbc.setState(0x7130, 0x5870, 0x1c00, 0x84ba, 0xbb14, 0x8075, 0x0, 0x1);
        gbc.writeMem(0x7130, { 0x8e });
        gbc.writeMem(0x8075, { 0x49 });
        gbc.step();
        EXPECT(0x65, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xba, gbc.c());
        EXPECT(0xbb, gbc.d());
        EXPECT(0x14, gbc.e());
        EXPECT(0x80, gbc.h());
        EXPECT(0x75, gbc.l());
        EXPECT(0x5870, gbc.sp());
        EXPECT(0x7131, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x49, gbc.readMem(0x8075));
        // 8E 039C
        gbc.setState(0xc46c, 0xb9fc, 0x65e0, 0xb9e, 0xc4c4, 0x59a6, 0x1, 0x0);
        gbc.writeMem(0x59a6, { 0xad });
        gbc.writeMem(0xc46c, { 0x8e });
        gbc.step();
        EXPECT(0x12, gbc.a());
        EXPECT(0xb, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xc4, gbc.d());
        EXPECT(0xc4, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xa6, gbc.l());
        EXPECT(0xb9fc, gbc.sp());
        EXPECT(0xc46d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xc46c));
        // 8E 039D
        gbc.setState(0xa3d0, 0x1aa0, 0xbf30, 0xa59e, 0xd1a3, 0xad13, 0x1, 0x0);
        gbc.writeMem(0xa3d0, { 0x8e });
        gbc.writeMem(0xad13, { 0xb6 });
        gbc.step();
        EXPECT(0x76, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x9e, gbc.c());
        EXPECT(0xd1, gbc.d());
        EXPECT(0xa3, gbc.e());
        EXPECT(0xad, gbc.h());
        EXPECT(0x13, gbc.l());
        EXPECT(0x1aa0, gbc.sp());
        EXPECT(0xa3d1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa3d0));
        EXPECT(0xb6, gbc.readMem(0xad13));
        // 8E 039E
        gbc.setState(0x3c59, 0xfe4a, 0x95c0, 0xf6d7, 0xe7ed, 0x7803, 0x0, 0x1);
        gbc.writeMem(0x3c59, { 0x8e });
        gbc.writeMem(0x7803, { 0x30 });
        gbc.step();
        EXPECT(0xc5, gbc.a());
        EXPECT(0xf6, gbc.b());
        EXPECT(0xd7, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0xed, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x3, gbc.l());
        EXPECT(0xfe4a, gbc.sp());
        EXPECT(0x3c5a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 039F
        gbc.setState(0xab4c, 0x803, 0x94c0, 0x880a, 0xeaf6, 0x7bf8, 0x1, 0x1);
        gbc.writeMem(0x7bf8, { 0xac });
        gbc.writeMem(0xab4c, { 0x8e });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x88, gbc.b());
        EXPECT(0xa, gbc.c());
        EXPECT(0xea, gbc.d());
        EXPECT(0xf6, gbc.e());
        EXPECT(0x7b, gbc.h());
        EXPECT(0xf8, gbc.l());
        EXPECT(0x803, gbc.sp());
        EXPECT(0xab4d, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xab4c));
        // 8E 03A0
        gbc.setState(0xdd5d, 0x5fe9, 0x3c0, 0x9aee, 0x849f, 0x26fa, 0x1, 0x0);
        gbc.writeMem(0x26fa, { 0x42 });
        gbc.writeMem(0xdd5d, { 0x8e });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x9a, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x84, gbc.d());
        EXPECT(0x9f, gbc.e());
        EXPECT(0x26, gbc.h());
        EXPECT(0xfa, gbc.l());
        EXPECT(0x5fe9, gbc.sp());
        EXPECT(0xdd5e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdd5d));
        // 8E 03A1
        gbc.setState(0xa112, 0x4da, 0x3110, 0xb1e4, 0xf6bd, 0xd0e9, 0x1, 0x1);
        gbc.writeMem(0xa112, { 0x8e });
        gbc.writeMem(0xd0e9, { 0x13 });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0xb1, gbc.b());
        EXPECT(0xe4, gbc.c());
        EXPECT(0xf6, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0xd0, gbc.h());
        EXPECT(0xe9, gbc.l());
        EXPECT(0x4da, gbc.sp());
        EXPECT(0xa113, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa112));
        EXPECT(0x13, gbc.readMem(0xd0e9));
        // 8E 03A2
        gbc.setState(0x3ffb, 0x63aa, 0x86c0, 0x2b8f, 0x6da6, 0x7ebe, 0x0, 0x1);
        gbc.writeMem(0x3ffb, { 0x8e });
        gbc.writeMem(0x7ebe, { 0x79 });
        gbc.step();
        EXPECT(0xff, gbc.a());
        EXPECT(0x2b, gbc.b());
        EXPECT(0x8f, gbc.c());
        EXPECT(0x6d, gbc.d());
        EXPECT(0xa6, gbc.e());
        EXPECT(0x7e, gbc.h());
        EXPECT(0xbe, gbc.l());
        EXPECT(0x63aa, gbc.sp());
        EXPECT(0x3ffc, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 03A3
        gbc.setState(0xbbc8, 0xc143, 0x2080, 0xb6e8, 0xc768, 0xf698, 0x1, 0x0);
        gbc.writeMem(0xbbc8, { 0x8e });
        gbc.writeMem(0xf698, { 0xa0 });
        gbc.step();
        EXPECT(0xc0, gbc.a());
        EXPECT(0xb6, gbc.b());
        EXPECT(0xe8, gbc.c());
        EXPECT(0xc7, gbc.d());
        EXPECT(0x68, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0x98, gbc.l());
        EXPECT(0xc143, gbc.sp());
        EXPECT(0xbbc9, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xbbc8));
        EXPECT(0xa0, gbc.readMem(0xf698));
        // 8E 03A4
        gbc.setState(0xd63a, 0x6e0d, 0xff40, 0x7cc, 0xe2d8, 0x2939, 0x0, 0x0);
        gbc.writeMem(0x2939, { 0x30 });
        gbc.writeMem(0xd63a, { 0x8e });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0xe2, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x39, gbc.l());
        EXPECT(0x6e0d, gbc.sp());
        EXPECT(0xd63b, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xd63a));
        // 8E 03A5
        gbc.setState(0x3653, 0x1fbf, 0x5bc0, 0x8a00, 0xb749, 0xa8e3, 0x0, 0x0);
        gbc.writeMem(0x3653, { 0x8e });
        gbc.writeMem(0xa8e3, { 0x12 });
        gbc.step();
        EXPECT(0x6d, gbc.a());
        EXPECT(0x8a, gbc.b());
        EXPECT(0x0, gbc.c());
        EXPECT(0xb7, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0xa8, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x1fbf, gbc.sp());
        EXPECT(0x3654, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x12, gbc.readMem(0xa8e3));
        // 8E 03A6
        gbc.setState(0x5c0, 0xec60, 0x78e0, 0x11dd, 0x6f88, 0x54d4, 0x1, 0x0);
        gbc.writeMem(0x5c0, { 0x8e });
        gbc.writeMem(0x54d4, { 0xcd });
        gbc.step();
        EXPECT(0x45, gbc.a());
        EXPECT(0x11, gbc.b());
        EXPECT(0xdd, gbc.c());
        EXPECT(0x6f, gbc.d());
        EXPECT(0x88, gbc.e());
        EXPECT(0x54, gbc.h());
        EXPECT(0xd4, gbc.l());
        EXPECT(0xec60, gbc.sp());
        EXPECT(0x5c1, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03A8
        gbc.setState(0xe5f, 0x41f9, 0xcb20, 0x7d0e, 0x1647, 0x2922, 0x0, 0x1);
        gbc.writeMem(0xe5f, { 0x8e });
        gbc.writeMem(0x2922, { 0xe2 });
        gbc.step();
        EXPECT(0xad, gbc.a());
        EXPECT(0x7d, gbc.b());
        EXPECT(0xe, gbc.c());
        EXPECT(0x16, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x29, gbc.h());
        EXPECT(0x22, gbc.l());
        EXPECT(0x41f9, gbc.sp());
        EXPECT(0xe60, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03A9
        gbc.setState(0x770b, 0xb5a3, 0x7670, 0xa9b, 0xe782, 0xa523, 0x0, 0x0);
        gbc.writeMem(0x770b, { 0x8e });
        gbc.writeMem(0xa523, { 0xda });
        gbc.step();
        EXPECT(0x51, gbc.a());
        EXPECT(0xa, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0xe7, gbc.d());
        EXPECT(0x82, gbc.e());
        EXPECT(0xa5, gbc.h());
        EXPECT(0x23, gbc.l());
        EXPECT(0xb5a3, gbc.sp());
        EXPECT(0x770c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xda, gbc.readMem(0xa523));
        // 8E 03AA
        gbc.setState(0xd803, 0xecdd, 0x1e0, 0x56ca, 0x315e, 0x9a92, 0x1, 0x0);
        gbc.writeMem(0x9a92, { 0x7 });
        gbc.writeMem(0xd803, { 0x8e });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x56, gbc.b());
        EXPECT(0xca, gbc.c());
        EXPECT(0x31, gbc.d());
        EXPECT(0x5e, gbc.e());
        EXPECT(0x9a, gbc.h());
        EXPECT(0x92, gbc.l());
        EXPECT(0xecdd, gbc.sp());
        EXPECT(0xd804, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x7, gbc.readMem(0x9a92));
        EXPECT(0x8e, gbc.readMem(0xd803));
        // 8E 03AB
        gbc.setState(0xe669, 0xdb6e, 0xef60, 0x1bec, 0x4215, 0x76f7, 0x0, 0x0);
        gbc.writeMem(0x76f7, { 0x6 });
        gbc.writeMem(0xe669, { 0x8e });
        gbc.step();
        EXPECT(0xf5, gbc.a());
        EXPECT(0x1b, gbc.b());
        EXPECT(0xec, gbc.c());
        EXPECT(0x42, gbc.d());
        EXPECT(0x15, gbc.e());
        EXPECT(0x76, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xdb6e, gbc.sp());
        EXPECT(0xe66a, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe669));
        // 8E 03AC
        gbc.setState(0x6e2e, 0x9430, 0x9170, 0x84ef, 0x5c03, 0x2f6c, 0x1, 0x1);
        gbc.writeMem(0x2f6c, { 0xd2 });
        gbc.writeMem(0x6e2e, { 0x8e });
        gbc.step();
        EXPECT(0x64, gbc.a());
        EXPECT(0x84, gbc.b());
        EXPECT(0xef, gbc.c());
        EXPECT(0x5c, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x9430, gbc.sp());
        EXPECT(0x6e2f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03AD
        gbc.setState(0x6f9d, 0x9a9c, 0x45e0, 0x5915, 0x7cd8, 0x7815, 0x1, 0x1);
        gbc.writeMem(0x6f9d, { 0x8e });
        gbc.writeMem(0x7815, { 0xea });
        gbc.step();
        EXPECT(0x2f, gbc.a());
        EXPECT(0x59, gbc.b());
        EXPECT(0x15, gbc.c());
        EXPECT(0x7c, gbc.d());
        EXPECT(0xd8, gbc.e());
        EXPECT(0x78, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x9a9c, gbc.sp());
        EXPECT(0x6f9e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03AE
        gbc.setState(0x7daf, 0x8bca, 0xb670, 0x878c, 0x33d0, 0x162a, 0x1, 0x0);
        gbc.writeMem(0x162a, { 0xd8 });
        gbc.writeMem(0x7daf, { 0x8e });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x87, gbc.b());
        EXPECT(0x8c, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0xd0, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0x2a, gbc.l());
        EXPECT(0x8bca, gbc.sp());
        EXPECT(0x7db0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03AF
        gbc.setState(0x9100, 0x19de, 0x2920, 0x7f0, 0xee9, 0xee35, 0x0, 0x1);
        gbc.writeMem(0x9100, { 0x8e });
        gbc.writeMem(0xee35, { 0x9a });
        gbc.step();
        EXPECT(0xc3, gbc.a());
        EXPECT(0x7, gbc.b());
        EXPECT(0xf0, gbc.c());
        EXPECT(0xe, gbc.d());
        EXPECT(0xe9, gbc.e());
        EXPECT(0xee, gbc.h());
        EXPECT(0x35, gbc.l());
        EXPECT(0x19de, gbc.sp());
        EXPECT(0x9101, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9100));
        EXPECT(0x9a, gbc.readMem(0xee35));
        // 8E 03B0
        gbc.setState(0xddeb, 0x70ce, 0x47b0, 0x38b9, 0x3dce, 0xe245, 0x0, 0x0);
        gbc.writeMem(0xddeb, { 0x8e });
        gbc.writeMem(0xe245, { 0x67 });
        gbc.step();
        EXPECT(0xaf, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0xb9, gbc.c());
        EXPECT(0x3d, gbc.d());
        EXPECT(0xce, gbc.e());
        EXPECT(0xe2, gbc.h());
        EXPECT(0x45, gbc.l());
        EXPECT(0x70ce, gbc.sp());
        EXPECT(0xddec, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xddeb));
        EXPECT(0x67, gbc.readMem(0xe245));
        // 8E 03B1
        gbc.setState(0x7617, 0xa491, 0x21e0, 0x3883, 0x219c, 0xd285, 0x0, 0x0);
        gbc.writeMem(0x7617, { 0x8e });
        gbc.writeMem(0xd285, { 0x6e });
        gbc.step();
        EXPECT(0x8f, gbc.a());
        EXPECT(0x38, gbc.b());
        EXPECT(0x83, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0x9c, gbc.e());
        EXPECT(0xd2, gbc.h());
        EXPECT(0x85, gbc.l());
        EXPECT(0xa491, gbc.sp());
        EXPECT(0x7618, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x6e, gbc.readMem(0xd285));
        // 8E 03B2
        gbc.setState(0x1c0f, 0xb147, 0x7a10, 0xedee, 0x87ea, 0xfc8f, 0x1, 0x1);
        gbc.writeMem(0x1c0f, { 0x8e });
        gbc.writeMem(0xfc8f, { 0xfe });
        gbc.step();
        EXPECT(0x79, gbc.a());
        EXPECT(0xed, gbc.b());
        EXPECT(0xee, gbc.c());
        EXPECT(0x87, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0xfc, gbc.h());
        EXPECT(0x8f, gbc.l());
        EXPECT(0xb147, gbc.sp());
        EXPECT(0x1c10, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xfe, gbc.readMem(0xfc8f));
        // 8E 03B3
        gbc.setState(0x6418, 0x654b, 0x18e0, 0x64f8, 0xbeea, 0x5c0b, 0x1, 0x0);
        gbc.writeMem(0x5c0b, { 0x11 });
        gbc.writeMem(0x6418, { 0x8e });
        gbc.step();
        EXPECT(0x29, gbc.a());
        EXPECT(0x64, gbc.b());
        EXPECT(0xf8, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xea, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xb, gbc.l());
        EXPECT(0x654b, gbc.sp());
        EXPECT(0x6419, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 03B4
        gbc.setState(0x43ca, 0x3b70, 0xec60, 0x1806, 0xb822, 0x3e6c, 0x0, 0x0);
        gbc.writeMem(0x3e6c, { 0xf6 });
        gbc.writeMem(0x43ca, { 0x8e });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0x6, gbc.c());
        EXPECT(0xb8, gbc.d());
        EXPECT(0x22, gbc.e());
        EXPECT(0x3e, gbc.h());
        EXPECT(0x6c, gbc.l());
        EXPECT(0x3b70, gbc.sp());
        EXPECT(0x43cb, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03B5
        gbc.setState(0xdd17, 0x26a6, 0x1070, 0x7ccc, 0x6e33, 0x587c, 0x0, 0x1);
        gbc.writeMem(0x587c, { 0x6f });
        gbc.writeMem(0xdd17, { 0x8e });
        gbc.step();
        EXPECT(0x80, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xcc, gbc.c());
        EXPECT(0x6e, gbc.d());
        EXPECT(0x33, gbc.e());
        EXPECT(0x58, gbc.h());
        EXPECT(0x7c, gbc.l());
        EXPECT(0x26a6, gbc.sp());
        EXPECT(0xdd18, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xdd17));
        // 8E 03B6
        gbc.setState(0x8fd7, 0x3487, 0xf1e0, 0x6c5f, 0xbcb6, 0xc26a, 0x1, 0x0);
        gbc.writeMem(0x8fd7, { 0x8e });
        gbc.writeMem(0xc26a, { 0xa1 });
        gbc.step();
        EXPECT(0x92, gbc.a());
        EXPECT(0x6c, gbc.b());
        EXPECT(0x5f, gbc.c());
        EXPECT(0xbc, gbc.d());
        EXPECT(0xb6, gbc.e());
        EXPECT(0xc2, gbc.h());
        EXPECT(0x6a, gbc.l());
        EXPECT(0x3487, gbc.sp());
        EXPECT(0x8fd8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8fd7));
        EXPECT(0xa1, gbc.readMem(0xc26a));
        // 8E 03B7
        gbc.setState(0x3da5, 0x5edb, 0x7900, 0x38d, 0xb144, 0x7d83, 0x1, 0x0);
        gbc.writeMem(0x3da5, { 0x8e });
        gbc.writeMem(0x7d83, { 0x8f });
        gbc.step();
        EXPECT(0x8, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x8d, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x44, gbc.e());
        EXPECT(0x7d, gbc.h());
        EXPECT(0x83, gbc.l());
        EXPECT(0x5edb, gbc.sp());
        EXPECT(0x3da6, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03B8
        gbc.setState(0x7cba, 0xb1a2, 0x46f0, 0xa8da, 0xd960, 0x775c, 0x1, 0x0);
        gbc.writeMem(0x775c, { 0x94 });
        gbc.writeMem(0x7cba, { 0x8e });
        gbc.step();
        EXPECT(0xdb, gbc.a());
        EXPECT(0xa8, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0xd9, gbc.d());
        EXPECT(0x60, gbc.e());
        EXPECT(0x77, gbc.h());
        EXPECT(0x5c, gbc.l());
        EXPECT(0xb1a2, gbc.sp());
        EXPECT(0x7cbb, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 03B9
        gbc.setState(0xbd2c, 0xb1cb, 0xedc0, 0x809c, 0xa5d3, 0x5f0a, 0x0, 0x1);
        gbc.writeMem(0x5f0a, { 0x1d });
        gbc.writeMem(0xbd2c, { 0x8e });
        gbc.step();
        EXPECT(0xa, gbc.a());
        EXPECT(0x80, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0xa5, gbc.d());
        EXPECT(0xd3, gbc.e());
        EXPECT(0x5f, gbc.h());
        EXPECT(0xa, gbc.l());
        EXPECT(0xb1cb, gbc.sp());
        EXPECT(0xbd2d, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xbd2c));
        // 8E 03BA
        gbc.setState(0x6ebe, 0x44b2, 0x12d0, 0x5891, 0xe927, 0x7f62, 0x1, 0x0);
        gbc.writeMem(0x6ebe, { 0x8e });
        gbc.writeMem(0x7f62, { 0x2d });
        gbc.step();
        EXPECT(0x40, gbc.a());
        EXPECT(0x58, gbc.b());
        EXPECT(0x91, gbc.c());
        EXPECT(0xe9, gbc.d());
        EXPECT(0x27, gbc.e());
        EXPECT(0x7f, gbc.h());
        EXPECT(0x62, gbc.l());
        EXPECT(0x44b2, gbc.sp());
        EXPECT(0x6ebf, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 03BB
        gbc.setState(0xafc, 0x7a39, 0x30d0, 0x69a, 0xed7f, 0x82cf, 0x0, 0x1);
        gbc.writeMem(0xafc, { 0x8e });
        gbc.writeMem(0x82cf, { 0x1f });
        gbc.step();
        EXPECT(0x50, gbc.a());
        EXPECT(0x6, gbc.b());
        EXPECT(0x9a, gbc.c());
        EXPECT(0xed, gbc.d());
        EXPECT(0x7f, gbc.e());
        EXPECT(0x82, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x7a39, gbc.sp());
        EXPECT(0xafd, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x1f, gbc.readMem(0x82cf));
        // 8E 03BC
        gbc.setState(0x14e2, 0x3365, 0xc290, 0x57f1, 0xe696, 0x61e2, 0x1, 0x1);
        gbc.writeMem(0x14e2, { 0x8e });
        gbc.writeMem(0x61e2, { 0x15 });
        gbc.step();
        EXPECT(0xd8, gbc.a());
        EXPECT(0x57, gbc.b());
        EXPECT(0xf1, gbc.c());
        EXPECT(0xe6, gbc.d());
        EXPECT(0x96, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0x3365, gbc.sp());
        EXPECT(0x14e3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 03BD
        gbc.setState(0x98a7, 0x6439, 0x4470, 0xd53f, 0xdb21, 0x4c5a, 0x0, 0x0);
        gbc.writeMem(0x4c5a, { 0x10 });
        gbc.writeMem(0x98a7, { 0x8e });
        gbc.step();
        EXPECT(0x55, gbc.a());
        EXPECT(0xd5, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0xdb, gbc.d());
        EXPECT(0x21, gbc.e());
        EXPECT(0x4c, gbc.h());
        EXPECT(0x5a, gbc.l());
        EXPECT(0x6439, gbc.sp());
        EXPECT(0x98a8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x98a7));
        // 8E 03BE
        gbc.setState(0x237b, 0xdd9c, 0xf7e0, 0x9607, 0xf8e6, 0x53df, 0x0, 0x1);
        gbc.writeMem(0x237b, { 0x8e });
        gbc.writeMem(0x53df, { 0xa4 });
        gbc.step();
        EXPECT(0x9b, gbc.a());
        EXPECT(0x96, gbc.b());
        EXPECT(0x7, gbc.c());
        EXPECT(0xf8, gbc.d());
        EXPECT(0xe6, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0xdd9c, gbc.sp());
        EXPECT(0x237c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03BF
        gbc.setState(0xb455, 0x27c7, 0x8780, 0xa375, 0x799b, 0x6218, 0x0, 0x0);
        gbc.writeMem(0x6218, { 0x15 });
        gbc.writeMem(0xb455, { 0x8e });
        gbc.step();
        EXPECT(0x9c, gbc.a());
        EXPECT(0xa3, gbc.b());
        EXPECT(0x75, gbc.c());
        EXPECT(0x79, gbc.d());
        EXPECT(0x9b, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x18, gbc.l());
        EXPECT(0x27c7, gbc.sp());
        EXPECT(0xb456, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb455));
        // 8E 03C0
        gbc.setState(0x21a, 0x2f87, 0x38e0, 0x8eac, 0x12e2, 0x6232, 0x1, 0x0);
        gbc.writeMem(0x21a, { 0x8e });
        gbc.writeMem(0x6232, { 0xe7 });
        gbc.step();
        EXPECT(0x1f, gbc.a());
        EXPECT(0x8e, gbc.b());
        EXPECT(0xac, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0xe2, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0x32, gbc.l());
        EXPECT(0x2f87, gbc.sp());
        EXPECT(0x21b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03C1
        gbc.setState(0x727a, 0xfc66, 0x76e0, 0x27b3, 0xfa11, 0x5cd8, 0x1, 0x0);
        gbc.writeMem(0x5cd8, { 0x90 });
        gbc.writeMem(0x727a, { 0x8e });
        gbc.step();
        EXPECT(0x6, gbc.a());
        EXPECT(0x27, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0xfa, gbc.d());
        EXPECT(0x11, gbc.e());
        EXPECT(0x5c, gbc.h());
        EXPECT(0xd8, gbc.l());
        EXPECT(0xfc66, gbc.sp());
        EXPECT(0x727b, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03C2
        gbc.setState(0xdddf, 0x7e28, 0x5d00, 0xc170, 0xb623, 0x9c15, 0x1, 0x0);
        gbc.writeMem(0x9c15, { 0x87 });
        gbc.writeMem(0xdddf, { 0x8e });
        gbc.step();
        EXPECT(0xe4, gbc.a());
        EXPECT(0xc1, gbc.b());
        EXPECT(0x70, gbc.c());
        EXPECT(0xb6, gbc.d());
        EXPECT(0x23, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x15, gbc.l());
        EXPECT(0x7e28, gbc.sp());
        EXPECT(0xdde0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x87, gbc.readMem(0x9c15));
        EXPECT(0x8e, gbc.readMem(0xdddf));
        // 8E 03C3
        gbc.setState(0x8e82, 0x7b28, 0x3d80, 0x52fe, 0x2f49, 0x59a1, 0x0, 0x0);
        gbc.writeMem(0x59a1, { 0x9 });
        gbc.writeMem(0x8e82, { 0x8e });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x52, gbc.b());
        EXPECT(0xfe, gbc.c());
        EXPECT(0x2f, gbc.d());
        EXPECT(0x49, gbc.e());
        EXPECT(0x59, gbc.h());
        EXPECT(0xa1, gbc.l());
        EXPECT(0x7b28, gbc.sp());
        EXPECT(0x8e83, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8e82));
        // 8E 03C4
        gbc.setState(0xa378, 0xc5f3, 0xfd40, 0x653c, 0xbda1, 0x3676, 0x1, 0x0);
        gbc.writeMem(0x3676, { 0x7a });
        gbc.writeMem(0xa378, { 0x8e });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x65, gbc.b());
        EXPECT(0x3c, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0xa1, gbc.e());
        EXPECT(0x36, gbc.h());
        EXPECT(0x76, gbc.l());
        EXPECT(0xc5f3, gbc.sp());
        EXPECT(0xa379, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa378));
        // 8E 03C5
        gbc.setState(0x9f0d, 0xc9c6, 0x3280, 0xf94d, 0xc691, 0x663f, 0x0, 0x1);
        gbc.writeMem(0x663f, { 0xb4 });
        gbc.writeMem(0x9f0d, { 0x8e });
        gbc.step();
        EXPECT(0xe6, gbc.a());
        EXPECT(0xf9, gbc.b());
        EXPECT(0x4d, gbc.c());
        EXPECT(0xc6, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x66, gbc.h());
        EXPECT(0x3f, gbc.l());
        EXPECT(0xc9c6, gbc.sp());
        EXPECT(0x9f0e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9f0d));
        // 8E 03C6
        gbc.setState(0xb01, 0x94c5, 0x4f60, 0xafad, 0x9892, 0xfac6, 0x0, 0x1);
        gbc.writeMem(0xb01, { 0x8e });
        gbc.writeMem(0xfac6, { 0xd9 });
        gbc.step();
        EXPECT(0x28, gbc.a());
        EXPECT(0xaf, gbc.b());
        EXPECT(0xad, gbc.c());
        EXPECT(0x98, gbc.d());
        EXPECT(0x92, gbc.e());
        EXPECT(0xfa, gbc.h());
        EXPECT(0xc6, gbc.l());
        EXPECT(0x94c5, gbc.sp());
        EXPECT(0xb02, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0xd9, gbc.readMem(0xfac6));
        // 8E 03C7
        gbc.setState(0x6f74, 0x2201, 0xf7d0, 0x4860, 0xb103, 0xb69d, 0x0, 0x0);
        gbc.writeMem(0x6f74, { 0x8e });
        gbc.writeMem(0xb69d, { 0x26 });
        gbc.step();
        EXPECT(0x1e, gbc.a());
        EXPECT(0x48, gbc.b());
        EXPECT(0x60, gbc.c());
        EXPECT(0xb1, gbc.d());
        EXPECT(0x3, gbc.e());
        EXPECT(0xb6, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x2201, gbc.sp());
        EXPECT(0x6f75, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x26, gbc.readMem(0xb69d));
        // 8E 03C8
        gbc.setState(0xe0b8, 0x5b2f, 0x16a0, 0x490b, 0x2bde, 0x31df, 0x0, 0x1);
        gbc.writeMem(0x31df, { 0xeb });
        gbc.writeMem(0xe0b8, { 0x8e });
        gbc.step();
        EXPECT(0x1, gbc.a());
        EXPECT(0x49, gbc.b());
        EXPECT(0xb, gbc.c());
        EXPECT(0x2b, gbc.d());
        EXPECT(0xde, gbc.e());
        EXPECT(0x31, gbc.h());
        EXPECT(0xdf, gbc.l());
        EXPECT(0x5b2f, gbc.sp());
        EXPECT(0xe0b9, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe0b8));
        // 8E 03C9
        gbc.setState(0x5a24, 0x5924, 0xf890, 0xefc3, 0xf5d, 0x16e3, 0x0, 0x0);
        gbc.writeMem(0x16e3, { 0xc5 });
        gbc.writeMem(0x5a24, { 0x8e });
        gbc.step();
        EXPECT(0xbe, gbc.a());
        EXPECT(0xef, gbc.b());
        EXPECT(0xc3, gbc.c());
        EXPECT(0xf, gbc.d());
        EXPECT(0x5d, gbc.e());
        EXPECT(0x16, gbc.h());
        EXPECT(0xe3, gbc.l());
        EXPECT(0x5924, gbc.sp());
        EXPECT(0x5a25, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03CA
        gbc.setState(0x999f, 0xff75, 0xc0a0, 0xa929, 0xa0d6, 0xcae8, 0x1, 0x1);
        gbc.writeMem(0x999f, { 0x8e });
        gbc.writeMem(0xcae8, { 0x87 });
        gbc.step();
        EXPECT(0x47, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x29, gbc.c());
        EXPECT(0xa0, gbc.d());
        EXPECT(0xd6, gbc.e());
        EXPECT(0xca, gbc.h());
        EXPECT(0xe8, gbc.l());
        EXPECT(0xff75, gbc.sp());
        EXPECT(0x99a0, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x999f));
        EXPECT(0x87, gbc.readMem(0xcae8));
        // 8E 03CB
        gbc.setState(0xaf5e, 0x570a, 0xcc20, 0xf817, 0xbeba, 0xb4e7, 0x1, 0x0);
        gbc.writeMem(0xaf5e, { 0x8e });
        gbc.writeMem(0xb4e7, { 0xfe });
        gbc.step();
        EXPECT(0xca, gbc.a());
        EXPECT(0xf8, gbc.b());
        EXPECT(0x17, gbc.c());
        EXPECT(0xbe, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xb4, gbc.h());
        EXPECT(0xe7, gbc.l());
        EXPECT(0x570a, gbc.sp());
        EXPECT(0xaf5f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xaf5e));
        EXPECT(0xfe, gbc.readMem(0xb4e7));
        // 8E 03CC
        gbc.setState(0xf57, 0x2cce, 0xbbb0, 0xd950, 0x40bd, 0x5274, 0x0, 0x1);
        gbc.writeMem(0xf57, { 0x8e });
        gbc.writeMem(0x5274, { 0xc2 });
        gbc.step();
        EXPECT(0x7e, gbc.a());
        EXPECT(0xd9, gbc.b());
        EXPECT(0x50, gbc.c());
        EXPECT(0x40, gbc.d());
        EXPECT(0xbd, gbc.e());
        EXPECT(0x52, gbc.h());
        EXPECT(0x74, gbc.l());
        EXPECT(0x2cce, gbc.sp());
        EXPECT(0xf58, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03CD
        gbc.setState(0xc504, 0x4a14, 0x3810, 0x33a9, 0x122b, 0x9c46, 0x0, 0x0);
        gbc.writeMem(0x9c46, { 0x46 });
        gbc.writeMem(0xc504, { 0x8e });
        gbc.step();
        EXPECT(0x7f, gbc.a());
        EXPECT(0x33, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x12, gbc.d());
        EXPECT(0x2b, gbc.e());
        EXPECT(0x9c, gbc.h());
        EXPECT(0x46, gbc.l());
        EXPECT(0x4a14, gbc.sp());
        EXPECT(0xc505, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x46, gbc.readMem(0x9c46));
        EXPECT(0x8e, gbc.readMem(0xc504));
        // 8E 03CE
        gbc.setState(0x1f44, 0x9144, 0x68a0, 0xe078, 0xaf93, 0x6a9d, 0x0, 0x1);
        gbc.writeMem(0x1f44, { 0x8e });
        gbc.writeMem(0x6a9d, { 0xd });
        gbc.step();
        EXPECT(0x75, gbc.a());
        EXPECT(0xe0, gbc.b());
        EXPECT(0x78, gbc.c());
        EXPECT(0xaf, gbc.d());
        EXPECT(0x93, gbc.e());
        EXPECT(0x6a, gbc.h());
        EXPECT(0x9d, gbc.l());
        EXPECT(0x9144, gbc.sp());
        EXPECT(0x1f45, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 03CF
        gbc.setState(0xb3be, 0xfa56, 0xb330, 0x9316, 0x8be, 0x2106, 0x0, 0x1);
        gbc.writeMem(0x2106, { 0x92 });
        gbc.writeMem(0xb3be, { 0x8e });
        gbc.step();
        EXPECT(0x46, gbc.a());
        EXPECT(0x93, gbc.b());
        EXPECT(0x16, gbc.c());
        EXPECT(0x8, gbc.d());
        EXPECT(0xbe, gbc.e());
        EXPECT(0x21, gbc.h());
        EXPECT(0x6, gbc.l());
        EXPECT(0xfa56, gbc.sp());
        EXPECT(0xb3bf, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb3be));
        // 8E 03D0
        gbc.setState(0x2d64, 0xe67e, 0x9320, 0xa19c, 0x30d4, 0xc0ef, 0x1, 0x1);
        gbc.writeMem(0x2d64, { 0x8e });
        gbc.writeMem(0xc0ef, { 0x4f });
        gbc.step();
        EXPECT(0xe2, gbc.a());
        EXPECT(0xa1, gbc.b());
        EXPECT(0x9c, gbc.c());
        EXPECT(0x30, gbc.d());
        EXPECT(0xd4, gbc.e());
        EXPECT(0xc0, gbc.h());
        EXPECT(0xef, gbc.l());
        EXPECT(0xe67e, gbc.sp());
        EXPECT(0x2d65, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x4f, gbc.readMem(0xc0ef));
        // 8E 03D1
        gbc.setState(0x9e1d, 0xc04c, 0xc2b0, 0xb7dc, 0xbff1, 0x93cf, 0x0, 0x1);
        gbc.writeMem(0x93cf, { 0x88 });
        gbc.writeMem(0x9e1d, { 0x8e });
        gbc.step();
        EXPECT(0x4b, gbc.a());
        EXPECT(0xb7, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xbf, gbc.d());
        EXPECT(0xf1, gbc.e());
        EXPECT(0x93, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0xc04c, gbc.sp());
        EXPECT(0x9e1e, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x88, gbc.readMem(0x93cf));
        EXPECT(0x8e, gbc.readMem(0x9e1d));
        // 8E 03D2
        gbc.setState(0xb674, 0x5c3d, 0xe690, 0x3761, 0x2d91, 0x53b2, 0x1, 0x0);
        gbc.writeMem(0x53b2, { 0xac });
        gbc.writeMem(0xb674, { 0x8e });
        gbc.step();
        EXPECT(0x93, gbc.a());
        EXPECT(0x37, gbc.b());
        EXPECT(0x61, gbc.c());
        EXPECT(0x2d, gbc.d());
        EXPECT(0x91, gbc.e());
        EXPECT(0x53, gbc.h());
        EXPECT(0xb2, gbc.l());
        EXPECT(0x5c3d, gbc.sp());
        EXPECT(0xb675, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb674));
        // 8E 03D4
        gbc.setState(0xa53d, 0x75ef, 0xce0, 0x2a1c, 0x91b9, 0x2079, 0x1, 0x1);
        gbc.writeMem(0x2079, { 0x6b });
        gbc.writeMem(0xa53d, { 0x8e });
        gbc.step();
        EXPECT(0x77, gbc.a());
        EXPECT(0x2a, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xb9, gbc.e());
        EXPECT(0x20, gbc.h());
        EXPECT(0x79, gbc.l());
        EXPECT(0x75ef, gbc.sp());
        EXPECT(0xa53e, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xa53d));
        // 8E 03D5
        gbc.setState(0x72c7, 0xd7fe, 0x76d0, 0x6879, 0xa726, 0x61e2, 0x0, 0x1);
        gbc.writeMem(0x61e2, { 0x15 });
        gbc.writeMem(0x72c7, { 0x8e });
        gbc.step();
        EXPECT(0x8c, gbc.a());
        EXPECT(0x68, gbc.b());
        EXPECT(0x79, gbc.c());
        EXPECT(0xa7, gbc.d());
        EXPECT(0x26, gbc.e());
        EXPECT(0x61, gbc.h());
        EXPECT(0xe2, gbc.l());
        EXPECT(0xd7fe, gbc.sp());
        EXPECT(0x72c8, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 03D6
        gbc.setState(0x227e, 0xf727, 0xdfc0, 0xa53a, 0x91aa, 0xa25f, 0x0, 0x0);
        gbc.writeMem(0x227e, { 0x8e });
        gbc.writeMem(0xa25f, { 0x57 });
        gbc.step();
        EXPECT(0x36, gbc.a());
        EXPECT(0xa5, gbc.b());
        EXPECT(0x3a, gbc.c());
        EXPECT(0x91, gbc.d());
        EXPECT(0xaa, gbc.e());
        EXPECT(0xa2, gbc.h());
        EXPECT(0x5f, gbc.l());
        EXPECT(0xf727, gbc.sp());
        EXPECT(0x227f, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x57, gbc.readMem(0xa25f));
        // 8E 03D7
        gbc.setState(0x69a1, 0xb85b, 0x6fd0, 0xc7da, 0x2a97, 0x2f2e, 0x0, 0x1);
        gbc.writeMem(0x2f2e, { 0x5b });
        gbc.writeMem(0x69a1, { 0x8e });
        gbc.step();
        EXPECT(0xcb, gbc.a());
        EXPECT(0xc7, gbc.b());
        EXPECT(0xda, gbc.c());
        EXPECT(0x2a, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0x2f, gbc.h());
        EXPECT(0x2e, gbc.l());
        EXPECT(0xb85b, gbc.sp());
        EXPECT(0x69a2, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 03D8
        gbc.setState(0x77d7, 0x5db8, 0x4b60, 0xb96b, 0x43ef, 0xd36b, 0x1, 0x0);
        gbc.writeMem(0x77d7, { 0x8e });
        gbc.writeMem(0xd36b, { 0x70 });
        gbc.step();
        EXPECT(0xbb, gbc.a());
        EXPECT(0xb9, gbc.b());
        EXPECT(0x6b, gbc.c());
        EXPECT(0x43, gbc.d());
        EXPECT(0xef, gbc.e());
        EXPECT(0xd3, gbc.h());
        EXPECT(0x6b, gbc.l());
        EXPECT(0x5db8, gbc.sp());
        EXPECT(0x77d8, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x70, gbc.readMem(0xd36b));
        // 8E 03D9
        gbc.setState(0x674f, 0x923c, 0xc120, 0x39a9, 0x21ba, 0x62b8, 0x0, 0x0);
        gbc.writeMem(0x62b8, { 0x59 });
        gbc.writeMem(0x674f, { 0x8e });
        gbc.step();
        EXPECT(0x1a, gbc.a());
        EXPECT(0x39, gbc.b());
        EXPECT(0xa9, gbc.c());
        EXPECT(0x21, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0x62, gbc.h());
        EXPECT(0xb8, gbc.l());
        EXPECT(0x923c, gbc.sp());
        EXPECT(0x6750, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03DA
        gbc.setState(0x184b, 0xef09, 0x1930, 0x89a2, 0x26c2, 0x605b, 0x0, 0x0);
        gbc.writeMem(0x184b, { 0x8e });
        gbc.writeMem(0x605b, { 0x3d });
        gbc.step();
        EXPECT(0x57, gbc.a());
        EXPECT(0x89, gbc.b());
        EXPECT(0xa2, gbc.c());
        EXPECT(0x26, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x60, gbc.h());
        EXPECT(0x5b, gbc.l());
        EXPECT(0xef09, gbc.sp());
        EXPECT(0x184c, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 03DB
        gbc.setState(0xef45, 0x16da, 0x4d60, 0x159b, 0x853d, 0x3f7e, 0x0, 0x0);
        gbc.writeMem(0x3f7e, { 0x34 });
        gbc.writeMem(0xef45, { 0x8e });
        gbc.step();
        EXPECT(0x81, gbc.a());
        EXPECT(0x15, gbc.b());
        EXPECT(0x9b, gbc.c());
        EXPECT(0x85, gbc.d());
        EXPECT(0x3d, gbc.e());
        EXPECT(0x3f, gbc.h());
        EXPECT(0x7e, gbc.l());
        EXPECT(0x16da, gbc.sp());
        EXPECT(0xef46, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xef45));
        // 8E 03DC
        gbc.setState(0x76e9, 0xd4f4, 0xf3f0, 0x5a2f, 0xa264, 0x518a, 0x1, 0x1);
        gbc.writeMem(0x518a, { 0x37 });
        gbc.writeMem(0x76e9, { 0x8e });
        gbc.step();
        EXPECT(0x2b, gbc.a());
        EXPECT(0x5a, gbc.b());
        EXPECT(0x2f, gbc.c());
        EXPECT(0xa2, gbc.d());
        EXPECT(0x64, gbc.e());
        EXPECT(0x51, gbc.h());
        EXPECT(0x8a, gbc.l());
        EXPECT(0xd4f4, gbc.sp());
        EXPECT(0x76ea, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03DD
        gbc.setState(0xeab4, 0x28b0, 0x8f20, 0x18b3, 0x1dc2, 0x2d21, 0x1, 0x1);
        gbc.writeMem(0x2d21, { 0x63 });
        gbc.writeMem(0xeab4, { 0x8e });
        gbc.step();
        EXPECT(0xf2, gbc.a());
        EXPECT(0x18, gbc.b());
        EXPECT(0xb3, gbc.c());
        EXPECT(0x1d, gbc.d());
        EXPECT(0xc2, gbc.e());
        EXPECT(0x2d, gbc.h());
        EXPECT(0x21, gbc.l());
        EXPECT(0x28b0, gbc.sp());
        EXPECT(0xeab5, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xeab4));
        // 8E 03DE
        gbc.setState(0x6147, 0x123f, 0xd660, 0xa971, 0xa439, 0x859c, 0x0, 0x1);
        gbc.writeMem(0x6147, { 0x8e });
        gbc.writeMem(0x859c, { 0x8b });
        gbc.step();
        EXPECT(0x61, gbc.a());
        EXPECT(0xa9, gbc.b());
        EXPECT(0x71, gbc.c());
        EXPECT(0xa4, gbc.d());
        EXPECT(0x39, gbc.e());
        EXPECT(0x85, gbc.h());
        EXPECT(0x9c, gbc.l());
        EXPECT(0x123f, gbc.sp());
        EXPECT(0x6148, gbc.pc());
        EXPECT(0x0, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8b, gbc.readMem(0x859c));
        // 8E 03DF
        gbc.setState(0x74f6, 0xe3d8, 0x1db0, 0x7cb6, 0x8e1c, 0x6c8c, 0x1, 0x0);
        gbc.writeMem(0x6c8c, { 0x41 });
        gbc.writeMem(0x74f6, { 0x8e });
        gbc.step();
        EXPECT(0x5f, gbc.a());
        EXPECT(0x7c, gbc.b());
        EXPECT(0xb6, gbc.c());
        EXPECT(0x8e, gbc.d());
        EXPECT(0x1c, gbc.e());
        EXPECT(0x6c, gbc.h());
        EXPECT(0x8c, gbc.l());
        EXPECT(0xe3d8, gbc.sp());
        EXPECT(0x74f7, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        // 8E 03E0
        gbc.setState(0xe595, 0x5f33, 0x85d0, 0xe33f, 0x5e46, 0x3c09, 0x1, 0x1);
        gbc.writeMem(0x3c09, { 0x8 });
        gbc.writeMem(0xe595, { 0x8e });
        gbc.step();
        EXPECT(0x8e, gbc.a());
        EXPECT(0xe3, gbc.b());
        EXPECT(0x3f, gbc.c());
        EXPECT(0x5e, gbc.d());
        EXPECT(0x46, gbc.e());
        EXPECT(0x3c, gbc.h());
        EXPECT(0x9, gbc.l());
        EXPECT(0x5f33, gbc.sp());
        EXPECT(0xe596, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xe595));
        // 8E 03E1
        gbc.setState(0x5000, 0xb68c, 0xf230, 0xc89, 0x1b38, 0xe6f7, 0x1, 0x0);
        gbc.writeMem(0x5000, { 0x8e });
        gbc.writeMem(0xe6f7, { 0x9e });
        gbc.step();
        EXPECT(0x91, gbc.a());
        EXPECT(0xc, gbc.b());
        EXPECT(0x89, gbc.c());
        EXPECT(0x1b, gbc.d());
        EXPECT(0x38, gbc.e());
        EXPECT(0xe6, gbc.h());
        EXPECT(0xf7, gbc.l());
        EXPECT(0xb68c, gbc.sp());
        EXPECT(0x5001, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x9e, gbc.readMem(0xe6f7));
        // 8E 03E2
        gbc.setState(0x2722, 0x53d5, 0x8980, 0x1686, 0x6947, 0x743b, 0x1, 0x0);
        gbc.writeMem(0x2722, { 0x8e });
        gbc.writeMem(0x743b, { 0x8e });
        gbc.step();
        EXPECT(0x17, gbc.a());
        EXPECT(0x16, gbc.b());
        EXPECT(0x86, gbc.c());
        EXPECT(0x69, gbc.d());
        EXPECT(0x47, gbc.e());
        EXPECT(0x74, gbc.h());
        EXPECT(0x3b, gbc.l());
        EXPECT(0x53d5, gbc.sp());
        EXPECT(0x2723, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        // 8E 03E3
        gbc.setState(0x6e4e, 0x66c2, 0xcef0, 0xc61c, 0x8aba, 0xfefc, 0x1, 0x1);
        gbc.writeMem(0x6e4e, { 0x8e });
        gbc.writeMem(0xfefc, { 0x73 });
        gbc.step();
        EXPECT(0x42, gbc.a());
        EXPECT(0xc6, gbc.b());
        EXPECT(0x1c, gbc.c());
        EXPECT(0x8a, gbc.d());
        EXPECT(0xba, gbc.e());
        EXPECT(0xfe, gbc.h());
        EXPECT(0xfc, gbc.l());
        EXPECT(0x66c2, gbc.sp());
        EXPECT(0x6e4f, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x73, gbc.readMem(0xfefc));
        // 8E 03E4
        gbc.setState(0x9d72, 0x36d7, 0x4670, 0x9d23, 0xff97, 0xf6cf, 0x1, 0x1);
        gbc.writeMem(0x9d72, { 0x8e });
        gbc.writeMem(0xf6cf, { 0x4f });
        gbc.step();
        EXPECT(0x96, gbc.a());
        EXPECT(0x9d, gbc.b());
        EXPECT(0x23, gbc.c());
        EXPECT(0xff, gbc.d());
        EXPECT(0x97, gbc.e());
        EXPECT(0xf6, gbc.h());
        EXPECT(0xcf, gbc.l());
        EXPECT(0x36d7, gbc.sp());
        EXPECT(0x9d73, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x9d72));
        EXPECT(0x4f, gbc.readMem(0xf6cf));
        // 8E 03E5
        gbc.setState(0x8978, 0x9b0a, 0x6580, 0x10dc, 0xbd58, 0x4dad, 0x1, 0x0);
        gbc.writeMem(0x4dad, { 0xbc });
        gbc.writeMem(0x8978, { 0x8e });
        gbc.step();
        EXPECT(0x21, gbc.a());
        EXPECT(0x10, gbc.b());
        EXPECT(0xdc, gbc.c());
        EXPECT(0xbd, gbc.d());
        EXPECT(0x58, gbc.e());
        EXPECT(0x4d, gbc.h());
        EXPECT(0xad, gbc.l());
        EXPECT(0x9b0a, gbc.sp());
        EXPECT(0x8979, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(true, gbc.flagH());
        EXPECT(true, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0x8978));
        // 8E 03E6
        gbc.setState(0xb527, 0x5d2c, 0x6360, 0x398, 0x6255, 0x4b71, 0x1, 0x0);
        gbc.writeMem(0x4b71, { 0x97 });
        gbc.writeMem(0xb527, { 0x8e });
        gbc.step();
        EXPECT(0xfa, gbc.a());
        EXPECT(0x3, gbc.b());
        EXPECT(0x98, gbc.c());
        EXPECT(0x62, gbc.d());
        EXPECT(0x55, gbc.e());
        EXPECT(0x4b, gbc.h());
        EXPECT(0x71, gbc.l());
        EXPECT(0x5d2c, gbc.sp());
        EXPECT(0xb528, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb527));
        // 8E 03E7
        gbc.setState(0xb6c2, 0xbda0, 0xb480, 0xe95c, 0x3350, 0xc69a, 0x1, 0x0);
        gbc.writeMem(0xb6c2, { 0x8e });
        gbc.writeMem(0xc69a, { 0x22 });
        gbc.step();
        EXPECT(0xd6, gbc.a());
        EXPECT(0xe9, gbc.b());
        EXPECT(0x5c, gbc.c());
        EXPECT(0x33, gbc.d());
        EXPECT(0x50, gbc.e());
        EXPECT(0xc6, gbc.h());
        EXPECT(0x9a, gbc.l());
        EXPECT(0xbda0, gbc.sp());
        EXPECT(0xb6c3, gbc.pc());
        EXPECT(0x1, gbc.ime());
        EXPECT(false, gbc.flagZ());
        EXPECT(false, gbc.flagN());
        EXPECT(false, gbc.flagH());
        EXPECT(false, gbc.flagC());
        EXPECT(0x8e, gbc.readMem(0xb6c2));
        EXPECT(0x22, gbc.readMem(0xc69a));
    }
