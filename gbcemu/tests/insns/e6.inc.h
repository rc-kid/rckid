    TEST(gbcemu, opcode_e6) {
        GBCEmu gbc{};
        uint8_t cartridge[0x8000];
        cartridge[0x149] = 0x02; // 8kb external RAM
        gbc.loadCartridge(new FlashGamePak(cartridge));
        // E6 0000
        gbc.setState(0x7f0e, 0x9cb9, 0x7870, 0x7d68, 0x3c6d, 0x12c7, 0x0, 0x1);
        gbc.writeMem(0x7f0e, { 0xe6, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x9cb9);
        EXPECT(gbc.pc(), 0x7f10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0001
        gbc.setState(0x8e43, 0x13c7, 0x67a0, 0x1173, 0x64cf, 0x7a83, 0x1, 0x1);
        gbc.writeMem(0x8e43, { 0xe6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x47);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x13c7);
        EXPECT(gbc.pc(), 0x8e45);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e43), 0xe6);
        EXPECT(gbc.readMem(0x8e44), 0xdf);
        // E6 0002
        gbc.setState(0x3ed9, 0x222a, 0x1f50, 0x6653, 0x6d08, 0xb05f, 0x0, 0x1);
        gbc.writeMem(0x3ed9, { 0xe6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0x222a);
        EXPECT(gbc.pc(), 0x3edb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0003
        gbc.setState(0x91a2, 0x92e7, 0x2930, 0x8402, 0xb870, 0xeaca, 0x0, 0x1);
        gbc.writeMem(0x91a2, { 0xe6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x92e7);
        EXPECT(gbc.pc(), 0x91a4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91a2), 0xe6);
        EXPECT(gbc.readMem(0x91a3), 0xd0);
        // E6 0004
        gbc.setState(0x34e7, 0xeac4, 0x33f0, 0x67e0, 0xe833, 0x2b44, 0x0, 0x1);
        gbc.writeMem(0x34e7, { 0xe6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xeac4);
        EXPECT(gbc.pc(), 0x34e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0005
        gbc.setState(0xc6ce, 0x24fc, 0x8ad0, 0x6da3, 0x878d, 0xb23f, 0x0, 0x0);
        gbc.writeMem(0xc6ce, { 0xe6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x24fc);
        EXPECT(gbc.pc(), 0xc6d0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6ce), 0xe6);
        EXPECT(gbc.readMem(0xc6cf), 0x4d);
        // E6 0006
        gbc.setState(0x1c2c, 0x23c3, 0xa910, 0xe30d, 0x2af9, 0x971, 0x1, 0x1);
        gbc.writeMem(0x1c2c, { 0xe6, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x23c3);
        EXPECT(gbc.pc(), 0x1c2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0007
        gbc.setState(0x503a, 0xd261, 0x6b10, 0x1553, 0x6e6f, 0xddda, 0x0, 0x1);
        gbc.writeMem(0x503a, { 0xe6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xd261);
        EXPECT(gbc.pc(), 0x503c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0009
        gbc.setState(0x142f, 0x89d5, 0x8250, 0x2d79, 0x1641, 0xf236, 0x1, 0x0);
        gbc.writeMem(0x142f, { 0xe6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x89d5);
        EXPECT(gbc.pc(), 0x1431);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 000A
        gbc.setState(0x85a2, 0xecf8, 0x4b60, 0x62c8, 0x8451, 0x196e, 0x1, 0x1);
        gbc.writeMem(0x85a2, { 0xe6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xecf8);
        EXPECT(gbc.pc(), 0x85a4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x85a2), 0xe6);
        EXPECT(gbc.readMem(0x85a3), 0x71);
        // E6 000C
        gbc.setState(0xad6e, 0x35ce, 0xa1e0, 0xa864, 0xab5, 0x26d8, 0x0, 0x1);
        gbc.writeMem(0xad6e, { 0xe6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xd8);
        EXPECT(gbc.sp(), 0x35ce);
        EXPECT(gbc.pc(), 0xad70);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad6e), 0xe6);
        EXPECT(gbc.readMem(0xad6f), 0x27);
        // E6 000D
        gbc.setState(0x41fa, 0xd068, 0xbc50, 0x6f45, 0x8810, 0xfbb, 0x0, 0x0);
        gbc.writeMem(0x41fa, { 0xe6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xd068);
        EXPECT(gbc.pc(), 0x41fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 000F
        gbc.setState(0xcf9b, 0xdd99, 0xa230, 0x194f, 0xbb84, 0x9d9f, 0x1, 0x0);
        gbc.writeMem(0xcf9b, { 0xe6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xdd99);
        EXPECT(gbc.pc(), 0xcf9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcf9b), 0xe6);
        EXPECT(gbc.readMem(0xcf9c), 0xa);
        // E6 0010
        gbc.setState(0x917c, 0x3f85, 0xdfe0, 0xcbfa, 0xc3ca, 0xc10f, 0x0, 0x1);
        gbc.writeMem(0x917c, { 0xe6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x3f85);
        EXPECT(gbc.pc(), 0x917e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x917c), 0xe6);
        EXPECT(gbc.readMem(0x917d), 0xe8);
        // E6 0011
        gbc.setState(0x9eb5, 0x4508, 0xd450, 0xbc5d, 0x388f, 0xef60, 0x1, 0x1);
        gbc.writeMem(0x9eb5, { 0xe6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x4508);
        EXPECT(gbc.pc(), 0x9eb7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eb5), 0xe6);
        EXPECT(gbc.readMem(0x9eb6), 0x47);
        // E6 0012
        gbc.setState(0xe718, 0xc2bd, 0x2980, 0xf19, 0xceb6, 0xe018, 0x0, 0x0);
        gbc.writeMem(0xe718, { 0xe6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xc2bd);
        EXPECT(gbc.pc(), 0xe71a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe718), 0xe6);
        EXPECT(gbc.readMem(0xe719), 0x81);
        // E6 0014
        gbc.setState(0xa53f, 0x4845, 0xae0, 0x5bf1, 0x9dc5, 0x7fd3, 0x0, 0x1);
        gbc.writeMem(0xa53f, { 0xe6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x4845);
        EXPECT(gbc.pc(), 0xa541);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa53f), 0xe6);
        EXPECT(gbc.readMem(0xa540), 0xd1);
        // E6 0015
        gbc.setState(0x5981, 0x34bb, 0xcfe0, 0x4dd9, 0xeac9, 0x2674, 0x1, 0x0);
        gbc.writeMem(0x5981, { 0xe6, 0xa7 });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x34bb);
        EXPECT(gbc.pc(), 0x5983);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0016
        gbc.setState(0x8f6b, 0xdf05, 0x1c10, 0xaec2, 0x9d09, 0x3b95, 0x0, 0x0);
        gbc.writeMem(0x8f6b, { 0xe6, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0xdf05);
        EXPECT(gbc.pc(), 0x8f6d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f6b), 0xe6);
        EXPECT(gbc.readMem(0x8f6c), 0x4e);
        // E6 0017
        gbc.setState(0x5e34, 0x68b5, 0xbbd0, 0xf91f, 0xcb63, 0x9490, 0x0, 0x0);
        gbc.writeMem(0x5e34, { 0xe6, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x68b5);
        EXPECT(gbc.pc(), 0x5e36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0018
        gbc.setState(0x2a6d, 0x3929, 0x7da0, 0x2c5c, 0x7ab3, 0xdb59, 0x1, 0x0);
        gbc.writeMem(0x2a6d, { 0xe6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xdb);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x3929);
        EXPECT(gbc.pc(), 0x2a6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0019
        gbc.setState(0xaa7d, 0x1c88, 0x6d50, 0xbfce, 0x9d5c, 0x6644, 0x0, 0x0);
        gbc.writeMem(0xaa7d, { 0xe6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x9d);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x1c88);
        EXPECT(gbc.pc(), 0xaa7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa7d), 0xe6);
        EXPECT(gbc.readMem(0xaa7e), 0x6e);
        // E6 001B
        gbc.setState(0xbf1d, 0x9763, 0x63c0, 0xd48c, 0xb197, 0x421b, 0x0, 0x0);
        gbc.writeMem(0xbf1d, { 0xe6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x9763);
        EXPECT(gbc.pc(), 0xbf1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf1d), 0xe6);
        EXPECT(gbc.readMem(0xbf1e), 0x63);
        // E6 001C
        gbc.setState(0x42b9, 0x8988, 0xc980, 0xf96a, 0xec5d, 0x3ff8, 0x1, 0x0);
        gbc.writeMem(0x42b9, { 0xe6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x8988);
        EXPECT(gbc.pc(), 0x42bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 001D
        gbc.setState(0x2ee2, 0x3557, 0xe020, 0x2c43, 0xf241, 0x6e1c, 0x1, 0x1);
        gbc.writeMem(0x2ee2, { 0xe6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x3557);
        EXPECT(gbc.pc(), 0x2ee4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 001E
        gbc.setState(0x2ac1, 0xb644, 0xfd60, 0x26fa, 0x1c40, 0xd35e, 0x0, 0x0);
        gbc.writeMem(0x2ac1, { 0xe6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xb644);
        EXPECT(gbc.pc(), 0x2ac3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 001F
        gbc.setState(0x3153, 0xe47e, 0x8b60, 0x43e9, 0x1e89, 0x7f2a, 0x1, 0x0);
        gbc.writeMem(0x3153, { 0xe6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0xe47e);
        EXPECT(gbc.pc(), 0x3155);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0020
        gbc.setState(0xb68b, 0xa54e, 0x8470, 0x6d23, 0x5e71, 0x1f8b, 0x1, 0x1);
        gbc.writeMem(0xb68b, { 0xe6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0xa54e);
        EXPECT(gbc.pc(), 0xb68d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb68b), 0xe6);
        EXPECT(gbc.readMem(0xb68c), 0xc0);
        // E6 0021
        gbc.setState(0x47a5, 0xbe97, 0x3820, 0x503a, 0x658d, 0xd179, 0x0, 0x1);
        gbc.writeMem(0x47a5, { 0xe6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0xbe97);
        EXPECT(gbc.pc(), 0x47a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0022
        gbc.setState(0x722e, 0x6d71, 0xcdc0, 0xe5db, 0x5950, 0x15ec, 0x1, 0x1);
        gbc.writeMem(0x722e, { 0xe6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x6d71);
        EXPECT(gbc.pc(), 0x7230);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0023
        gbc.setState(0x1952, 0x657f, 0xa1d0, 0xcd2c, 0xae08, 0x5a11, 0x0, 0x1);
        gbc.writeMem(0x1952, { 0xe6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x657f);
        EXPECT(gbc.pc(), 0x1954);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0024
        gbc.setState(0x6c65, 0x64b2, 0x1e80, 0xb5b2, 0x2a73, 0x5846, 0x0, 0x0);
        gbc.writeMem(0x6c65, { 0xe6, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x64b2);
        EXPECT(gbc.pc(), 0x6c67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0025
        gbc.setState(0x3f32, 0x833, 0x54d0, 0x13a3, 0x15d5, 0x1398, 0x0, 0x0);
        gbc.writeMem(0x3f32, { 0xe6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x833);
        EXPECT(gbc.pc(), 0x3f34);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0026
        gbc.setState(0x78ad, 0x9b12, 0xd330, 0xccfa, 0x25d2, 0x1519, 0x1, 0x0);
        gbc.writeMem(0x78ad, { 0xe6, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd3);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x9b12);
        EXPECT(gbc.pc(), 0x78af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0027
        gbc.setState(0x269b, 0xa3b4, 0x9420, 0xf495, 0xb223, 0x10a, 0x0, 0x1);
        gbc.writeMem(0x269b, { 0xe6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0xa3b4);
        EXPECT(gbc.pc(), 0x269d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0028
        gbc.setState(0x741d, 0x8bda, 0x32d0, 0xc332, 0x70ff, 0x684, 0x0, 0x1);
        gbc.writeMem(0x741d, { 0xe6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x8bda);
        EXPECT(gbc.pc(), 0x741f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0029
        gbc.setState(0x635e, 0x18b6, 0x9680, 0x52a5, 0x36c1, 0xf3c, 0x1, 0x1);
        gbc.writeMem(0x635e, { 0xe6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x18b6);
        EXPECT(gbc.pc(), 0x6360);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 002A
        gbc.setState(0xed8e, 0xe918, 0xb60, 0x30ee, 0x4a02, 0x14ab, 0x1, 0x0);
        gbc.writeMem(0xed8e, { 0xe6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xe918);
        EXPECT(gbc.pc(), 0xed90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed8e), 0xe6);
        EXPECT(gbc.readMem(0xed8f), 0xb0);
        // E6 002B
        gbc.setState(0xb0c7, 0x6fcf, 0xc130, 0x35d4, 0xf2, 0xcfd1, 0x0, 0x0);
        gbc.writeMem(0xb0c7, { 0xe6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xf2);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x6fcf);
        EXPECT(gbc.pc(), 0xb0c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0c7), 0xe6);
        EXPECT(gbc.readMem(0xb0c8), 0x43);
        // E6 002C
        gbc.setState(0x9d92, 0x9b75, 0x4540, 0xfc7, 0x749a, 0x7ee3, 0x0, 0x1);
        gbc.writeMem(0x9d92, { 0xe6, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x9b75);
        EXPECT(gbc.pc(), 0x9d94);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d92), 0xe6);
        EXPECT(gbc.readMem(0x9d93), 0x1d);
        // E6 002D
        gbc.setState(0x6186, 0x2582, 0xff90, 0x2f04, 0x3dc6, 0x344b, 0x1, 0x0);
        gbc.writeMem(0x6186, { 0xe6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x2582);
        EXPECT(gbc.pc(), 0x6188);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 002E
        gbc.setState(0x84c0, 0xb8a1, 0xe500, 0x29ea, 0xf022, 0x181f, 0x1, 0x0);
        gbc.writeMem(0x84c0, { 0xe6, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xb8a1);
        EXPECT(gbc.pc(), 0x84c2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84c0), 0xe6);
        EXPECT(gbc.readMem(0x84c1), 0xfb);
        // E6 002F
        gbc.setState(0x18f5, 0x580b, 0xb550, 0x5594, 0x8f60, 0x8ba9, 0x1, 0x0);
        gbc.writeMem(0x18f5, { 0xe6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x580b);
        EXPECT(gbc.pc(), 0x18f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0030
        gbc.setState(0x7ec0, 0xafa2, 0x3960, 0x2244, 0x25b0, 0xb8ad, 0x1, 0x1);
        gbc.writeMem(0x7ec0, { 0xe6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0xafa2);
        EXPECT(gbc.pc(), 0x7ec2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0031
        gbc.setState(0x1545, 0x34c4, 0xb780, 0x89ab, 0xd74, 0x44b5, 0x0, 0x1);
        gbc.writeMem(0x1545, { 0xe6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x34c4);
        EXPECT(gbc.pc(), 0x1547);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0032
        gbc.setState(0xb03b, 0xa41e, 0xda50, 0x4899, 0xf665, 0x230d, 0x1, 0x1);
        gbc.writeMem(0xb03b, { 0xe6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xa41e);
        EXPECT(gbc.pc(), 0xb03d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb03b), 0xe6);
        EXPECT(gbc.readMem(0xb03c), 0x6e);
        // E6 0033
        gbc.setState(0x19a8, 0x90e5, 0xa810, 0x558e, 0x8543, 0xd056, 0x1, 0x0);
        gbc.writeMem(0x19a8, { 0xe6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x90e5);
        EXPECT(gbc.pc(), 0x19aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0034
        gbc.setState(0x3ab3, 0x1ee2, 0xe220, 0x2690, 0x8404, 0x7cad, 0x1, 0x1);
        gbc.writeMem(0x3ab3, { 0xe6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x1ee2);
        EXPECT(gbc.pc(), 0x3ab5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0035
        gbc.setState(0xe9c9, 0xbaf8, 0xd810, 0x9849, 0x1955, 0x8c9e, 0x0, 0x1);
        gbc.writeMem(0xe9c9, { 0xe6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x8c);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xbaf8);
        EXPECT(gbc.pc(), 0xe9cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe9c9), 0xe6);
        EXPECT(gbc.readMem(0xe9ca), 0xa6);
        // E6 0036
        gbc.setState(0x8b3c, 0x7a35, 0x16d0, 0x7860, 0x7bff, 0x4f86, 0x1, 0x0);
        gbc.writeMem(0x8b3c, { 0xe6, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x7a35);
        EXPECT(gbc.pc(), 0x8b3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b3c), 0xe6);
        EXPECT(gbc.readMem(0x8b3d), 0x3b);
        // E6 0037
        gbc.setState(0x72a7, 0x6656, 0x6880, 0x7cdd, 0x387e, 0xf866, 0x1, 0x1);
        gbc.writeMem(0x72a7, { 0xe6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x7e);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x6656);
        EXPECT(gbc.pc(), 0x72a9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0038
        gbc.setState(0x173c, 0xa0c9, 0xb330, 0x785e, 0x934c, 0x9f9, 0x1, 0x0);
        gbc.writeMem(0x173c, { 0xe6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xa0c9);
        EXPECT(gbc.pc(), 0x173e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0039
        gbc.setState(0x6934, 0x5938, 0xe800, 0x7ec8, 0x1911, 0x70b0, 0x1, 0x1);
        gbc.writeMem(0x6934, { 0xe6, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x7e);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x5938);
        EXPECT(gbc.pc(), 0x6936);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 003A
        gbc.setState(0x5b9e, 0x4aee, 0xa680, 0x4cdd, 0x4eb0, 0x22f6, 0x1, 0x0);
        gbc.writeMem(0x5b9e, { 0xe6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x4aee);
        EXPECT(gbc.pc(), 0x5ba0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 003B
        gbc.setState(0xca9c, 0x30a0, 0x5f20, 0x2bad, 0x40c1, 0xe47f, 0x1, 0x1);
        gbc.writeMem(0xca9c, { 0xe6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x1b);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xe4);
        EXPECT(gbc.l(),  0x7f);
        EXPECT(gbc.sp(), 0x30a0);
        EXPECT(gbc.pc(), 0xca9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca9c), 0xe6);
        EXPECT(gbc.readMem(0xca9d), 0xbb);
        // E6 003C
        gbc.setState(0xf38, 0x1ae3, 0xbcd0, 0xa331, 0x510a, 0xb37b, 0x1, 0x1);
        gbc.writeMem(0xf38, { 0xe6, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0xb4);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xa);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x1ae3);
        EXPECT(gbc.pc(), 0xf3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 003D
        gbc.setState(0xab8c, 0x3975, 0xa460, 0x8645, 0xa301, 0x4d8f, 0x0, 0x0);
        gbc.writeMem(0xab8c, { 0xe6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x3975);
        EXPECT(gbc.pc(), 0xab8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab8c), 0xe6);
        EXPECT(gbc.readMem(0xab8d), 0xe9);
        // E6 003F
        gbc.setState(0x5f29, 0xe3f0, 0xa250, 0x101, 0x619e, 0xb77d, 0x0, 0x0);
        gbc.writeMem(0x5f29, { 0xe6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xe3f0);
        EXPECT(gbc.pc(), 0x5f2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0040
        gbc.setState(0x7612, 0xc9a6, 0xe270, 0xd455, 0x6e32, 0xcfb8, 0x0, 0x1);
        gbc.writeMem(0x7612, { 0xe6, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x55);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xc9a6);
        EXPECT(gbc.pc(), 0x7614);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0041
        gbc.setState(0x5e4e, 0x55ba, 0x1870, 0x3209, 0x6288, 0xa5a6, 0x1, 0x0);
        gbc.writeMem(0x5e4e, { 0xe6, 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x55ba);
        EXPECT(gbc.pc(), 0x5e50);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0042
        gbc.setState(0xc160, 0xee25, 0x3d20, 0xe969, 0xfb69, 0xd6e3, 0x0, 0x1);
        gbc.writeMem(0xc160, { 0xe6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xee25);
        EXPECT(gbc.pc(), 0xc162);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc160), 0xe6);
        EXPECT(gbc.readMem(0xc161), 0x8b);
        // E6 0043
        gbc.setState(0x758d, 0x7010, 0xe680, 0x4a80, 0x378, 0x512b, 0x0, 0x1);
        gbc.writeMem(0x758d, { 0xe6, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x7010);
        EXPECT(gbc.pc(), 0x758f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0044
        gbc.setState(0xe0bf, 0xe702, 0x5ea0, 0xeb75, 0x4c6f, 0xd3e7, 0x1, 0x1);
        gbc.writeMem(0xe0bf, { 0xe6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xe702);
        EXPECT(gbc.pc(), 0xe0c1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe0bf), 0xe6);
        EXPECT(gbc.readMem(0xe0c0), 0x44);
        // E6 0045
        gbc.setState(0xe008, 0x4f8e, 0x58b0, 0x948f, 0xeab8, 0x453, 0x0, 0x1);
        gbc.writeMem(0xe008, { 0xe6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x4f8e);
        EXPECT(gbc.pc(), 0xe00a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe008), 0xe6);
        EXPECT(gbc.readMem(0xe009), 0x61);
        // E6 0046
        gbc.setState(0x61ad, 0x36c7, 0xcc50, 0xa1b6, 0xe56e, 0xae7e, 0x1, 0x0);
        gbc.writeMem(0x61ad, { 0xe6, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x36c7);
        EXPECT(gbc.pc(), 0x61af);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0047
        gbc.setState(0xefa2, 0x276f, 0x99f0, 0xdd66, 0xd3f6, 0x8a09, 0x1, 0x0);
        gbc.writeMem(0xefa2, { 0xe6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x276f);
        EXPECT(gbc.pc(), 0xefa4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefa2), 0xe6);
        EXPECT(gbc.readMem(0xefa3), 0x38);
        // E6 0048
        gbc.setState(0x2e75, 0x7109, 0x7110, 0xebe6, 0x5fe4, 0x22b7, 0x1, 0x1);
        gbc.writeMem(0x2e75, { 0xe6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x7109);
        EXPECT(gbc.pc(), 0x2e77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0049
        gbc.setState(0x56b3, 0x95fa, 0xa310, 0x965a, 0xc6c2, 0xb17b, 0x0, 0x0);
        gbc.writeMem(0x56b3, { 0xe6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x95fa);
        EXPECT(gbc.pc(), 0x56b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 004A
        gbc.setState(0xac93, 0x2024, 0x8210, 0x4031, 0x3789, 0x3d54, 0x1, 0x1);
        gbc.writeMem(0xac93, { 0xe6, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x2024);
        EXPECT(gbc.pc(), 0xac95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac93), 0xe6);
        EXPECT(gbc.readMem(0xac94), 0x3d);
        // E6 004B
        gbc.setState(0xf00, 0x93db, 0x8290, 0xb5de, 0xfae5, 0xbc4e, 0x1, 0x1);
        gbc.writeMem(0xf00, { 0xe6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xe5);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x93db);
        EXPECT(gbc.pc(), 0xf02);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 004D
        gbc.setState(0xaf9a, 0x4a5c, 0x2e30, 0x820e, 0x3fbe, 0xaeaf, 0x1, 0x0);
        gbc.writeMem(0xaf9a, { 0xe6, 0x37 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x4a5c);
        EXPECT(gbc.pc(), 0xaf9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf9a), 0xe6);
        EXPECT(gbc.readMem(0xaf9b), 0x37);
        // E6 004F
        gbc.setState(0xc6a1, 0x3c4a, 0x65e0, 0x5d81, 0xd4d9, 0x7b39, 0x1, 0x1);
        gbc.writeMem(0xc6a1, { 0xe6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x3c4a);
        EXPECT(gbc.pc(), 0xc6a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6a1), 0xe6);
        EXPECT(gbc.readMem(0xc6a2), 0x88);
        // E6 0050
        gbc.setState(0x1e9f, 0xaef3, 0x44c0, 0x4120, 0x9a0f, 0x19b6, 0x0, 0x0);
        gbc.writeMem(0x1e9f, { 0xe6, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xaef3);
        EXPECT(gbc.pc(), 0x1ea1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0052
        gbc.setState(0xbe9, 0x5038, 0x36b0, 0x545b, 0x8e7a, 0x46c0, 0x1, 0x0);
        gbc.writeMem(0xbe9, { 0xe6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x5038);
        EXPECT(gbc.pc(), 0xbeb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0053
        gbc.setState(0xe1e7, 0xe5d8, 0xdb00, 0x6643, 0x31f, 0x3c84, 0x0, 0x1);
        gbc.writeMem(0xe1e7, { 0xe6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0xe5d8);
        EXPECT(gbc.pc(), 0xe1e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1e7), 0xe6);
        EXPECT(gbc.readMem(0xe1e8), 0xa4);
        // E6 0054
        gbc.setState(0xedb8, 0x4b4a, 0x3fc0, 0xb280, 0x871c, 0x8b4c, 0x1, 0x1);
        gbc.writeMem(0xedb8, { 0xe6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x4b4a);
        EXPECT(gbc.pc(), 0xedba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xedb8), 0xe6);
        EXPECT(gbc.readMem(0xedb9), 0x59);
        // E6 0055
        gbc.setState(0xbfc5, 0x7f3c, 0xae10, 0x7125, 0xe8f4, 0x6c68, 0x1, 0x0);
        gbc.writeMem(0xbfc5, { 0xe6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0xac);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x7f3c);
        EXPECT(gbc.pc(), 0xbfc7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfc5), 0xe6);
        EXPECT(gbc.readMem(0xbfc6), 0xac);
        // E6 0056
        gbc.setState(0xe921, 0xe723, 0xe4a0, 0x6fc, 0xb522, 0x3483, 0x0, 0x0);
        gbc.writeMem(0xe921, { 0xe6, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xe723);
        EXPECT(gbc.pc(), 0xe923);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe921), 0xe6);
        EXPECT(gbc.readMem(0xe922), 0x2b);
        // E6 0057
        gbc.setState(0x5f62, 0xcccf, 0x2830, 0x9364, 0xb1e1, 0x6471, 0x0, 0x1);
        gbc.writeMem(0x5f62, { 0xe6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xcccf);
        EXPECT(gbc.pc(), 0x5f64);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0059
        gbc.setState(0x8aaa, 0x5b35, 0xa210, 0x79db, 0xd694, 0x4cea, 0x1, 0x1);
        gbc.writeMem(0x8aaa, { 0xe6, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x5b35);
        EXPECT(gbc.pc(), 0x8aac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8aaa), 0xe6);
        EXPECT(gbc.readMem(0x8aab), 0x9e);
        // E6 005A
        gbc.setState(0x9070, 0x21ef, 0xf80, 0x5b51, 0x314e, 0xd5e1, 0x1, 0x0);
        gbc.writeMem(0x9070, { 0xe6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x21ef);
        EXPECT(gbc.pc(), 0x9072);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9070), 0xe6);
        EXPECT(gbc.readMem(0x9071), 0x6);
        // E6 005B
        gbc.setState(0xecfb, 0x9775, 0xf2e0, 0x2951, 0xcd85, 0xfe94, 0x1, 0x1);
        gbc.writeMem(0xecfb, { 0xe6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x9775);
        EXPECT(gbc.pc(), 0xecfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecfb), 0xe6);
        EXPECT(gbc.readMem(0xecfc), 0xea);
        // E6 005C
        gbc.setState(0x9930, 0xc191, 0x2930, 0x49b9, 0x991f, 0xcb70, 0x1, 0x1);
        gbc.writeMem(0x9930, { 0xe6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xc191);
        EXPECT(gbc.pc(), 0x9932);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9930), 0xe6);
        EXPECT(gbc.readMem(0x9931), 0xa2);
        // E6 005D
        gbc.setState(0x5d07, 0xdf7c, 0xd9a0, 0xb69f, 0xa203, 0x1e2, 0x0, 0x1);
        gbc.writeMem(0x5d07, { 0xe6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0xdf7c);
        EXPECT(gbc.pc(), 0x5d09);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 005F
        gbc.setState(0xccca, 0x1a12, 0xae80, 0x55cf, 0xdc09, 0x45a9, 0x0, 0x1);
        gbc.writeMem(0xccca, { 0xe6, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x1a12);
        EXPECT(gbc.pc(), 0xcccc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccca), 0xe6);
        EXPECT(gbc.readMem(0xcccb), 0x69);
        // E6 0060
        gbc.setState(0xb528, 0xe943, 0xf8a0, 0x6429, 0x4534, 0xd115, 0x0, 0x0);
        gbc.writeMem(0xb528, { 0xe6, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xd1);
        EXPECT(gbc.l(),  0x15);
        EXPECT(gbc.sp(), 0xe943);
        EXPECT(gbc.pc(), 0xb52a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb528), 0xe6);
        EXPECT(gbc.readMem(0xb529), 0xf4);
        // E6 0061
        gbc.setState(0xf56, 0xfbf2, 0xad00, 0xdfa3, 0xc55b, 0x6daa, 0x1, 0x1);
        gbc.writeMem(0xf56, { 0xe6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xfbf2);
        EXPECT(gbc.pc(), 0xf58);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0062
        gbc.setState(0x359, 0x1856, 0x83e0, 0x8031, 0xeff4, 0x3ba1, 0x1, 0x1);
        gbc.writeMem(0x359, { 0xe6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x1856);
        EXPECT(gbc.pc(), 0x35b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0063
        gbc.setState(0x19f9, 0x9d06, 0xee60, 0x3719, 0x6a5a, 0xda55, 0x0, 0x0);
        gbc.writeMem(0x19f9, { 0xe6, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x9d06);
        EXPECT(gbc.pc(), 0x19fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0064
        gbc.setState(0x11ec, 0xae18, 0x9360, 0x3fe8, 0x89db, 0xade8, 0x0, 0x0);
        gbc.writeMem(0x11ec, { 0xe6, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xae18);
        EXPECT(gbc.pc(), 0x11ee);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0066
        gbc.setState(0x388e, 0xf608, 0xf580, 0x4482, 0x9c45, 0x1629, 0x1, 0x0);
        gbc.writeMem(0x388e, { 0xe6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0xf608);
        EXPECT(gbc.pc(), 0x3890);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0067
        gbc.setState(0x7b88, 0x264c, 0x29a0, 0x774b, 0xd81, 0x5029, 0x0, 0x1);
        gbc.writeMem(0x7b88, { 0xe6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x264c);
        EXPECT(gbc.pc(), 0x7b8a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0068
        gbc.setState(0x3c0c, 0x7a72, 0xc200, 0x56f2, 0xc9af, 0xef32, 0x1, 0x1);
        gbc.writeMem(0x3c0c, { 0xe6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7a72);
        EXPECT(gbc.pc(), 0x3c0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0069
        gbc.setState(0x7e5b, 0x431b, 0x74e0, 0x529f, 0x35a5, 0x5fb6, 0x0, 0x1);
        gbc.writeMem(0x7e5b, { 0xe6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x431b);
        EXPECT(gbc.pc(), 0x7e5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 006A
        gbc.setState(0xb37b, 0x8383, 0xe690, 0x28ac, 0x9217, 0xd3b8, 0x1, 0x1);
        gbc.writeMem(0xb37b, { 0xe6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x8383);
        EXPECT(gbc.pc(), 0xb37d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb37b), 0xe6);
        EXPECT(gbc.readMem(0xb37c), 0x81);
        // E6 006B
        gbc.setState(0x8b7c, 0x3306, 0xef90, 0x69d6, 0xbcc6, 0x316c, 0x1, 0x1);
        gbc.writeMem(0x8b7c, { 0xe6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x3306);
        EXPECT(gbc.pc(), 0x8b7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8b7c), 0xe6);
        EXPECT(gbc.readMem(0x8b7d), 0x46);
        // E6 006C
        gbc.setState(0xdaf8, 0x874e, 0xa440, 0xdc0a, 0x2cc, 0x4ca3, 0x0, 0x0);
        gbc.writeMem(0xdaf8, { 0xe6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xdc);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x874e);
        EXPECT(gbc.pc(), 0xdafa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaf8), 0xe6);
        EXPECT(gbc.readMem(0xdaf9), 0x21);
        // E6 006D
        gbc.setState(0x773b, 0xbb69, 0xfe70, 0x3d75, 0xa4b1, 0x5d8a, 0x1, 0x1);
        gbc.writeMem(0x773b, { 0xe6, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xbb69);
        EXPECT(gbc.pc(), 0x773d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 006E
        gbc.setState(0x7984, 0x530b, 0x8d50, 0x3d97, 0xe22e, 0x88de, 0x0, 0x1);
        gbc.writeMem(0x7984, { 0xe6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x530b);
        EXPECT(gbc.pc(), 0x7986);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 006F
        gbc.setState(0x652d, 0x8342, 0xb6f0, 0xedf8, 0xd9a7, 0x940, 0x1, 0x1);
        gbc.writeMem(0x652d, { 0xe6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x8342);
        EXPECT(gbc.pc(), 0x652f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0070
        gbc.setState(0xa9a5, 0x7dce, 0x4190, 0xed64, 0x8a0d, 0x6ef5, 0x1, 0x1);
        gbc.writeMem(0xa9a5, { 0xe6, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x7dce);
        EXPECT(gbc.pc(), 0xa9a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa9a5), 0xe6);
        EXPECT(gbc.readMem(0xa9a6), 0xe);
        // E6 0071
        gbc.setState(0x19aa, 0x5cd0, 0xc690, 0x8ad5, 0x11bb, 0xd467, 0x1, 0x1);
        gbc.writeMem(0x19aa, { 0xe6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xc6);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x5cd0);
        EXPECT(gbc.pc(), 0x19ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0072
        gbc.setState(0x5577, 0x811b, 0xd420, 0xd0ed, 0xbf66, 0x61fd, 0x1, 0x1);
        gbc.writeMem(0x5577, { 0xe6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x811b);
        EXPECT(gbc.pc(), 0x5579);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0073
        gbc.setState(0xad2d, 0x7633, 0xd30, 0x19e7, 0x6e31, 0x3092, 0x0, 0x1);
        gbc.writeMem(0xad2d, { 0xe6, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x7633);
        EXPECT(gbc.pc(), 0xad2f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad2d), 0xe6);
        EXPECT(gbc.readMem(0xad2e), 0x3);
        // E6 0074
        gbc.setState(0x9c05, 0xd864, 0xe3b0, 0xbe5e, 0xbe87, 0xfcf1, 0x0, 0x1);
        gbc.writeMem(0x9c05, { 0xe6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0x63);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x87);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0xd864);
        EXPECT(gbc.pc(), 0x9c07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c05), 0xe6);
        EXPECT(gbc.readMem(0x9c06), 0x7b);
        // E6 0075
        gbc.setState(0xd638, 0x333f, 0xbf70, 0x9f10, 0xf7f5, 0xe094, 0x1, 0x1);
        gbc.writeMem(0xd638, { 0xe6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xe0);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x333f);
        EXPECT(gbc.pc(), 0xd63a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd638), 0xe6);
        EXPECT(gbc.readMem(0xd639), 0x8c);
        // E6 0077
        gbc.setState(0x4105, 0xc51, 0xeb40, 0x1b0f, 0xd93d, 0xaf5f, 0x0, 0x0);
        gbc.writeMem(0x4105, { 0xe6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x5f);
        EXPECT(gbc.sp(), 0xc51);
        EXPECT(gbc.pc(), 0x4107);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0078
        gbc.setState(0xe37f, 0x7ede, 0x7ed0, 0xa8b0, 0x909b, 0x3208, 0x0, 0x1);
        gbc.writeMem(0xe37f, { 0xe6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x7ede);
        EXPECT(gbc.pc(), 0xe381);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe37f), 0xe6);
        EXPECT(gbc.readMem(0xe380), 0x38);
        // E6 0079
        gbc.setState(0x5c37, 0x3171, 0xdc80, 0x7aa6, 0xa3c7, 0x3981, 0x1, 0x0);
        gbc.writeMem(0x5c37, { 0xe6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x3171);
        EXPECT(gbc.pc(), 0x5c39);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 007A
        gbc.setState(0xb232, 0x6b62, 0xd480, 0x50a6, 0x90e3, 0xe389, 0x1, 0x1);
        gbc.writeMem(0xb232, { 0xe6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x90);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x6b62);
        EXPECT(gbc.pc(), 0xb234);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb232), 0xe6);
        EXPECT(gbc.readMem(0xb233), 0x12);
        // E6 007B
        gbc.setState(0xd456, 0xf69a, 0x2680, 0x17fd, 0xe999, 0x5b07, 0x0, 0x0);
        gbc.writeMem(0xd456, { 0xe6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xf69a);
        EXPECT(gbc.pc(), 0xd458);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd456), 0xe6);
        EXPECT(gbc.readMem(0xd457), 0xb9);
        // E6 007C
        gbc.setState(0xa0e4, 0xeed7, 0x8f60, 0xfe41, 0xc67d, 0x3106, 0x1, 0x1);
        gbc.writeMem(0xa0e4, { 0xe6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xeed7);
        EXPECT(gbc.pc(), 0xa0e6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa0e4), 0xe6);
        EXPECT(gbc.readMem(0xa0e5), 0x33);
        // E6 007D
        gbc.setState(0x5161, 0x5d11, 0x11d0, 0x45db, 0x3610, 0x29cb, 0x0, 0x0);
        gbc.writeMem(0x5161, { 0xe6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x45);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x5d11);
        EXPECT(gbc.pc(), 0x5163);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 007E
        gbc.setState(0x203f, 0xdd27, 0x6050, 0x43ce, 0xbb35, 0x82a8, 0x0, 0x1);
        gbc.writeMem(0x203f, { 0xe6, 0x9c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x82);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0xdd27);
        EXPECT(gbc.pc(), 0x2041);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 007F
        gbc.setState(0xea55, 0x40e8, 0xadc0, 0x8e1, 0x56c9, 0x5c43, 0x0, 0x0);
        gbc.writeMem(0xea55, { 0xe6, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x40e8);
        EXPECT(gbc.pc(), 0xea57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea55), 0xe6);
        EXPECT(gbc.readMem(0xea56), 0x2b);
        // E6 0080
        gbc.setState(0xdbfb, 0xe652, 0xfe70, 0xb27d, 0x41e9, 0xa239, 0x1, 0x0);
        gbc.writeMem(0xdbfb, { 0xe6, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x72);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0xe652);
        EXPECT(gbc.pc(), 0xdbfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbfb), 0xe6);
        EXPECT(gbc.readMem(0xdbfc), 0x73);
        // E6 0081
        gbc.setState(0x7324, 0xfa6e, 0x1570, 0xdad9, 0xdf92, 0x3a0e, 0x1, 0x1);
        gbc.writeMem(0x7324, { 0xe6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0xfa6e);
        EXPECT(gbc.pc(), 0x7326);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0082
        gbc.setState(0xa25e, 0x29e2, 0x52f0, 0x63c4, 0xf2bd, 0x4efb, 0x0, 0x0);
        gbc.writeMem(0xa25e, { 0xe6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x52);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x29e2);
        EXPECT(gbc.pc(), 0xa260);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa25e), 0xe6);
        EXPECT(gbc.readMem(0xa25f), 0x57);
        // E6 0083
        gbc.setState(0xb53, 0xe7bf, 0x9f60, 0x406f, 0x5308, 0x676e, 0x0, 0x0);
        gbc.writeMem(0xb53, { 0xe6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xe7bf);
        EXPECT(gbc.pc(), 0xb55);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0084
        gbc.setState(0x2d13, 0x7901, 0x6610, 0xa17c, 0x6284, 0x812a, 0x1, 0x1);
        gbc.writeMem(0x2d13, { 0xe6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x66);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x7901);
        EXPECT(gbc.pc(), 0x2d15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0085
        gbc.setState(0x4345, 0xcb3a, 0xf240, 0xd4dc, 0xeb71, 0xa90c, 0x0, 0x1);
        gbc.writeMem(0x4345, { 0xe6, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xcb3a);
        EXPECT(gbc.pc(), 0x4347);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0086
        gbc.setState(0xe2a, 0x8d73, 0xcf0, 0x94e8, 0x47d0, 0x28d7, 0x1, 0x1);
        gbc.writeMem(0xe2a, { 0xe6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x8d73);
        EXPECT(gbc.pc(), 0xe2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0087
        gbc.setState(0xf4a, 0xcfa8, 0xfde0, 0x3f02, 0xedd1, 0xee2f, 0x1, 0x1);
        gbc.writeMem(0xf4a, { 0xe6, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xcfa8);
        EXPECT(gbc.pc(), 0xf4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0088
        gbc.setState(0xe6ab, 0xb2b2, 0xcad0, 0xfbaf, 0xb21a, 0xb47c, 0x0, 0x0);
        gbc.writeMem(0xe6ab, { 0xe6, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xaf);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xb2b2);
        EXPECT(gbc.pc(), 0xe6ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6ab), 0xe6);
        EXPECT(gbc.readMem(0xe6ac), 0xc9);
        // E6 0089
        gbc.setState(0xc8a7, 0x787, 0xb840, 0xc313, 0x2ef7, 0xd2db, 0x0, 0x1);
        gbc.writeMem(0xc8a7, { 0xe6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x2e);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x787);
        EXPECT(gbc.pc(), 0xc8a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8a7), 0xe6);
        EXPECT(gbc.readMem(0xc8a8), 0x7e);
        // E6 008A
        gbc.setState(0x7976, 0x41d8, 0xc0a0, 0xe80c, 0xa8e3, 0x2404, 0x0, 0x1);
        gbc.writeMem(0x7976, { 0xe6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x41d8);
        EXPECT(gbc.pc(), 0x7978);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 008B
        gbc.setState(0xd934, 0x1491, 0xf290, 0x6389, 0x7dea, 0x1e74, 0x1, 0x0);
        gbc.writeMem(0xd934, { 0xe6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x1491);
        EXPECT(gbc.pc(), 0xd936);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd934), 0xe6);
        EXPECT(gbc.readMem(0xd935), 0x6);
        // E6 008C
        gbc.setState(0x4f1f, 0xab71, 0x5690, 0xf863, 0x896a, 0x71a9, 0x1, 0x0);
        gbc.writeMem(0x4f1f, { 0xe6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xab71);
        EXPECT(gbc.pc(), 0x4f21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 008D
        gbc.setState(0xe1e8, 0xd9d6, 0x2ce0, 0x58e9, 0x10f1, 0x1720, 0x0, 0x1);
        gbc.writeMem(0xe1e8, { 0xe6, 0xa5 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xf1);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd9d6);
        EXPECT(gbc.pc(), 0xe1ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1e8), 0xe6);
        EXPECT(gbc.readMem(0xe1e9), 0xa5);
        // E6 008E
        gbc.setState(0xee5c, 0x797a, 0xaef0, 0xf42f, 0x9a5e, 0x546, 0x0, 0x0);
        gbc.writeMem(0xee5c, { 0xe6, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x797a);
        EXPECT(gbc.pc(), 0xee5e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee5c), 0xe6);
        EXPECT(gbc.readMem(0xee5d), 0x3c);
        // E6 008F
        gbc.setState(0xef7c, 0x8573, 0x5b60, 0x1839, 0xbc4b, 0x5120, 0x1, 0x0);
        gbc.writeMem(0xef7c, { 0xe6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0x8573);
        EXPECT(gbc.pc(), 0xef7e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef7c), 0xe6);
        EXPECT(gbc.readMem(0xef7d), 0x94);
        // E6 0090
        gbc.setState(0x3443, 0xc004, 0xd860, 0x179e, 0x47dc, 0x904, 0x1, 0x0);
        gbc.writeMem(0x3443, { 0xe6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x9);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0xc004);
        EXPECT(gbc.pc(), 0x3445);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0091
        gbc.setState(0x699a, 0x66f, 0x960, 0xca2d, 0x342a, 0xe6bf, 0x1, 0x0);
        gbc.writeMem(0x699a, { 0xe6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0xe6);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x66f);
        EXPECT(gbc.pc(), 0x699c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0092
        gbc.setState(0x5b22, 0x60fe, 0xc8c0, 0xc8d1, 0xc2c8, 0x5639, 0x1, 0x1);
        gbc.writeMem(0x5b22, { 0xe6, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x60fe);
        EXPECT(gbc.pc(), 0x5b24);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0093
        gbc.setState(0x52d3, 0x8e18, 0xd7b0, 0x3f87, 0x432d, 0x9189, 0x0, 0x1);
        gbc.writeMem(0x52d3, { 0xe6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x91);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x8e18);
        EXPECT(gbc.pc(), 0x52d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0094
        gbc.setState(0xbe01, 0x569b, 0xe220, 0x6916, 0xee10, 0xdc0b, 0x0, 0x1);
        gbc.writeMem(0xbe01, { 0xe6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x569b);
        EXPECT(gbc.pc(), 0xbe03);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe01), 0xe6);
        EXPECT(gbc.readMem(0xbe02), 0xb3);
        // E6 0095
        gbc.setState(0xc32b, 0xb87b, 0xa520, 0xa03f, 0x9882, 0xd926, 0x1, 0x1);
        gbc.writeMem(0xc32b, { 0xe6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xb87b);
        EXPECT(gbc.pc(), 0xc32d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc32b), 0xe6);
        EXPECT(gbc.readMem(0xc32c), 0x57);
        // E6 0096
        gbc.setState(0x8de2, 0xa2bb, 0x8bf0, 0x13b0, 0xbc04, 0xf8a5, 0x0, 0x0);
        gbc.writeMem(0x8de2, { 0xe6, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xa2bb);
        EXPECT(gbc.pc(), 0x8de4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8de2), 0xe6);
        EXPECT(gbc.readMem(0x8de3), 0x3);
        // E6 0097
        gbc.setState(0x95c1, 0x2396, 0xd050, 0x4d62, 0x3cd8, 0xfac4, 0x0, 0x0);
        gbc.writeMem(0x95c1, { 0xe6, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2396);
        EXPECT(gbc.pc(), 0x95c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95c1), 0xe6);
        EXPECT(gbc.readMem(0x95c2), 0xad);
        // E6 0098
        gbc.setState(0x92cf, 0xaedc, 0x1900, 0xe504, 0xcd26, 0x41b8, 0x1, 0x1);
        gbc.writeMem(0x92cf, { 0xe6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xaedc);
        EXPECT(gbc.pc(), 0x92d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x92cf), 0xe6);
        EXPECT(gbc.readMem(0x92d0), 0xf7);
        // E6 0099
        gbc.setState(0x6e03, 0xf3da, 0x3920, 0x9188, 0xa308, 0x7641, 0x0, 0x0);
        gbc.writeMem(0x6e03, { 0xe6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xf3da);
        EXPECT(gbc.pc(), 0x6e05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 009A
        gbc.setState(0xcc29, 0x7f34, 0x45f0, 0x7118, 0x6f16, 0xb872, 0x0, 0x0);
        gbc.writeMem(0xcc29, { 0xe6, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x71);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x7f34);
        EXPECT(gbc.pc(), 0xcc2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc29), 0xe6);
        EXPECT(gbc.readMem(0xcc2a), 0xfa);
        // E6 009B
        gbc.setState(0xcd60, 0x522f, 0xc0b0, 0xb2ca, 0x89b, 0x2a97, 0x0, 0x0);
        gbc.writeMem(0xcd60, { 0xe6, 0x7e });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xb2);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x2a);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x522f);
        EXPECT(gbc.pc(), 0xcd62);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd60), 0xe6);
        EXPECT(gbc.readMem(0xcd61), 0x7e);
        // E6 009C
        gbc.setState(0x204a, 0x29e4, 0xf490, 0x6e40, 0x95f5, 0xfb83, 0x0, 0x0);
        gbc.writeMem(0x204a, { 0xe6, 0x12 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x29e4);
        EXPECT(gbc.pc(), 0x204c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 009D
        gbc.setState(0x59dc, 0xa467, 0x86f0, 0x2982, 0xa4da, 0x8eec, 0x1, 0x1);
        gbc.writeMem(0x59dc, { 0xe6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xa467);
        EXPECT(gbc.pc(), 0x59de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 009E
        gbc.setState(0x88b8, 0xa62c, 0xcb20, 0xd466, 0x2706, 0xf925, 0x0, 0x0);
        gbc.writeMem(0x88b8, { 0xe6, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xa62c);
        EXPECT(gbc.pc(), 0x88ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88b8), 0xe6);
        EXPECT(gbc.readMem(0x88b9), 0x69);
        // E6 009F
        gbc.setState(0xa724, 0x4614, 0x9fc0, 0xef6e, 0x16e9, 0x8783, 0x0, 0x0);
        gbc.writeMem(0xa724, { 0xe6, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x16);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x4614);
        EXPECT(gbc.pc(), 0xa726);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa724), 0xe6);
        EXPECT(gbc.readMem(0xa725), 0xc);
        // E6 00A0
        gbc.setState(0xe501, 0x94f7, 0xda30, 0x505, 0x3f69, 0x98e9, 0x1, 0x0);
        gbc.writeMem(0xe501, { 0xe6, 0x29 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x94f7);
        EXPECT(gbc.pc(), 0xe503);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe501), 0xe6);
        EXPECT(gbc.readMem(0xe502), 0x29);
        // E6 00A1
        gbc.setState(0x27c7, 0xf77e, 0xfca0, 0xa23e, 0xdcd2, 0xa11e, 0x0, 0x0);
        gbc.writeMem(0x27c7, { 0xe6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0xd4);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xf77e);
        EXPECT(gbc.pc(), 0x27c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00A2
        gbc.setState(0x222d, 0x6040, 0x1400, 0x2e85, 0xc811, 0x8657, 0x0, 0x0);
        gbc.writeMem(0x222d, { 0xe6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0x6040);
        EXPECT(gbc.pc(), 0x222f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00A3
        gbc.setState(0xab8b, 0xdd34, 0xce40, 0x3856, 0xfe26, 0x8897, 0x0, 0x1);
        gbc.writeMem(0xab8b, { 0xe6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xdd34);
        EXPECT(gbc.pc(), 0xab8d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab8b), 0xe6);
        EXPECT(gbc.readMem(0xab8c), 0x71);
        // E6 00A4
        gbc.setState(0x9007, 0x9f22, 0x1050, 0x5e15, 0x2d6d, 0x4ea1, 0x1, 0x1);
        gbc.writeMem(0x9007, { 0xe6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x15);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x9f22);
        EXPECT(gbc.pc(), 0x9009);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9007), 0xe6);
        EXPECT(gbc.readMem(0x9008), 0xd8);
        // E6 00A5
        gbc.setState(0x3362, 0x7b3d, 0x3040, 0x1def, 0x6e6a, 0xe770, 0x1, 0x0);
        gbc.writeMem(0x3362, { 0xe6, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x6a);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x7b3d);
        EXPECT(gbc.pc(), 0x3364);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00A6
        gbc.setState(0xa12b, 0x2a24, 0x3070, 0xa300, 0xd218, 0x373a, 0x1, 0x1);
        gbc.writeMem(0xa12b, { 0xe6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x2a24);
        EXPECT(gbc.pc(), 0xa12d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa12b), 0xe6);
        EXPECT(gbc.readMem(0xa12c), 0x44);
        // E6 00A7
        gbc.setState(0xb393, 0xec2f, 0x15d0, 0x9a1b, 0x2623, 0x4fda, 0x1, 0x0);
        gbc.writeMem(0xb393, { 0xe6, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0xec2f);
        EXPECT(gbc.pc(), 0xb395);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb393), 0xe6);
        EXPECT(gbc.readMem(0xb394), 0xd6);
        // E6 00A8
        gbc.setState(0x33b3, 0xe23, 0xcb00, 0x289f, 0xeda3, 0xf757, 0x1, 0x0);
        gbc.writeMem(0x33b3, { 0xe6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xe23);
        EXPECT(gbc.pc(), 0x33b5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00A9
        gbc.setState(0x5d7e, 0xf614, 0xbff0, 0xf658, 0x23c0, 0x94e7, 0x0, 0x1);
        gbc.writeMem(0x5d7e, { 0xe6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0xb8);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xf614);
        EXPECT(gbc.pc(), 0x5d80);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00AA
        gbc.setState(0x7492, 0xc4d1, 0xd630, 0xfbb4, 0x3833, 0x740f, 0x0, 0x0);
        gbc.writeMem(0x7492, { 0xe6, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc4d1);
        EXPECT(gbc.pc(), 0x7494);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00AB
        gbc.setState(0x1629, 0x83f4, 0xe290, 0xfeaa, 0xc6e9, 0xb59f, 0x1, 0x1);
        gbc.writeMem(0x1629, { 0xe6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0x83f4);
        EXPECT(gbc.pc(), 0x162b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00AC
        gbc.setState(0x91ba, 0xe43f, 0xb740, 0x2149, 0x8d8e, 0xbb34, 0x0, 0x1);
        gbc.writeMem(0x91ba, { 0xe6, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xb3);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0xe43f);
        EXPECT(gbc.pc(), 0x91bc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91ba), 0xe6);
        EXPECT(gbc.readMem(0x91bb), 0xfb);
        // E6 00AD
        gbc.setState(0x2093, 0x4fda, 0x2ec0, 0x9e88, 0x3272, 0xc9d9, 0x1, 0x1);
        gbc.writeMem(0x2093, { 0xe6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x4fda);
        EXPECT(gbc.pc(), 0x2095);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00AE
        gbc.setState(0x4da9, 0xc1de, 0x9af0, 0x1364, 0x38ed, 0xe352, 0x0, 0x1);
        gbc.writeMem(0x4da9, { 0xe6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xc1de);
        EXPECT(gbc.pc(), 0x4dab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00AF
        gbc.setState(0x95a3, 0x1740, 0x3da0, 0x29fa, 0xe3e4, 0x20cb, 0x0, 0x0);
        gbc.writeMem(0x95a3, { 0xe6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x1740);
        EXPECT(gbc.pc(), 0x95a5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95a3), 0xe6);
        EXPECT(gbc.readMem(0x95a4), 0x10);
        // E6 00B0
        gbc.setState(0x586c, 0x51e4, 0xaed0, 0x38e, 0x511e, 0xa464, 0x0, 0x1);
        gbc.writeMem(0x586c, { 0xe6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x51e4);
        EXPECT(gbc.pc(), 0x586e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00B1
        gbc.setState(0x383c, 0xa00f, 0xbe80, 0x3347, 0x7ca1, 0x2603, 0x1, 0x0);
        gbc.writeMem(0x383c, { 0xe6, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xa00f);
        EXPECT(gbc.pc(), 0x383e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00B2
        gbc.setState(0x9b45, 0xd79c, 0xed50, 0xd5fa, 0x8832, 0x8520, 0x0, 0x0);
        gbc.writeMem(0x9b45, { 0xe6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe5);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xd79c);
        EXPECT(gbc.pc(), 0x9b47);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b45), 0xe6);
        EXPECT(gbc.readMem(0x9b46), 0xf5);
        // E6 00B3
        gbc.setState(0x3ea2, 0xa63e, 0xce70, 0xbc8b, 0xd333, 0x7dba, 0x0, 0x1);
        gbc.writeMem(0x3ea2, { 0xe6, 0x7b });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xa63e);
        EXPECT(gbc.pc(), 0x3ea4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00B4
        gbc.setState(0x9c8b, 0xde8, 0xccb0, 0x84b5, 0x8436, 0xab57, 0x1, 0x0);
        gbc.writeMem(0x9c8b, { 0xe6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xde8);
        EXPECT(gbc.pc(), 0x9c8d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c8b), 0xe6);
        EXPECT(gbc.readMem(0x9c8c), 0xd5);
        // E6 00B5
        gbc.setState(0x2472, 0x86ab, 0x240, 0xd327, 0xf385, 0xa792, 0x0, 0x1);
        gbc.writeMem(0x2472, { 0xe6, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x86ab);
        EXPECT(gbc.pc(), 0x2474);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00B6
        gbc.setState(0x334e, 0x249a, 0xb7c0, 0x24c3, 0xcf3f, 0xccb, 0x0, 0x0);
        gbc.writeMem(0x334e, { 0xe6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0x3f);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0xcb);
        EXPECT(gbc.sp(), 0x249a);
        EXPECT(gbc.pc(), 0x3350);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00B7
        gbc.setState(0x3650, 0x5bfa, 0xd4d0, 0xe6a2, 0x265e, 0xff03, 0x0, 0x0);
        gbc.writeMem(0x3650, { 0xe6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0x5bfa);
        EXPECT(gbc.pc(), 0x3652);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00B8
        gbc.setState(0x9137, 0x7194, 0x1210, 0x8f01, 0x91ab, 0x354, 0x1, 0x1);
        gbc.writeMem(0x9137, { 0xe6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0xab);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x7194);
        EXPECT(gbc.pc(), 0x9139);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9137), 0xe6);
        EXPECT(gbc.readMem(0x9138), 0x19);
        // E6 00B9
        gbc.setState(0x9755, 0xb479, 0xea40, 0x73bb, 0x204d, 0xfe9b, 0x1, 0x1);
        gbc.writeMem(0x9755, { 0xe6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xb479);
        EXPECT(gbc.pc(), 0x9757);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9755), 0xe6);
        EXPECT(gbc.readMem(0x9756), 0xf5);
        // E6 00BA
        gbc.setState(0xd43c, 0x4f4f, 0x52c0, 0xd449, 0x6e9c, 0xcd4f, 0x1, 0x1);
        gbc.writeMem(0xd43c, { 0xe6, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x6e);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0x4f4f);
        EXPECT(gbc.pc(), 0xd43e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd43c), 0xe6);
        EXPECT(gbc.readMem(0xd43d), 0xc4);
        // E6 00BB
        gbc.setState(0x52a8, 0xbc64, 0x5480, 0xf011, 0x7018, 0xa2b2, 0x0, 0x1);
        gbc.writeMem(0x52a8, { 0xe6, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0xb2);
        EXPECT(gbc.sp(), 0xbc64);
        EXPECT(gbc.pc(), 0x52aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00BC
        gbc.setState(0x982e, 0xf5a7, 0x6cf0, 0x9894, 0x9c60, 0xe25d, 0x0, 0x0);
        gbc.writeMem(0x982e, { 0xe6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0x9c);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0xf5a7);
        EXPECT(gbc.pc(), 0x9830);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x982e), 0xe6);
        EXPECT(gbc.readMem(0x982f), 0x61);
        // E6 00BD
        gbc.setState(0x6576, 0x32da, 0x7270, 0x873b, 0xf38e, 0xdcda, 0x1, 0x0);
        gbc.writeMem(0x6576, { 0xe6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xda);
        EXPECT(gbc.sp(), 0x32da);
        EXPECT(gbc.pc(), 0x6578);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00BE
        gbc.setState(0x7792, 0xf24b, 0x5e60, 0x693e, 0xe30f, 0x6f38, 0x0, 0x1);
        gbc.writeMem(0x7792, { 0xe6, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xf24b);
        EXPECT(gbc.pc(), 0x7794);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00BF
        gbc.setState(0x2b61, 0x9d52, 0x9980, 0x1a0, 0xdda2, 0x1b83, 0x0, 0x0);
        gbc.writeMem(0x2b61, { 0xe6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x9d52);
        EXPECT(gbc.pc(), 0x2b63);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00C0
        gbc.setState(0x6091, 0x2686, 0xa6f0, 0xa38c, 0x313c, 0x63ca, 0x1, 0x0);
        gbc.writeMem(0x6091, { 0xe6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x31);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xca);
        EXPECT(gbc.sp(), 0x2686);
        EXPECT(gbc.pc(), 0x6093);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00C1
        gbc.setState(0xeea, 0x2e71, 0x8f80, 0x740f, 0x2682, 0x7cbb, 0x1, 0x0);
        gbc.writeMem(0xeea, { 0xe6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2e71);
        EXPECT(gbc.pc(), 0xeec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00C2
        gbc.setState(0x3839, 0x3570, 0xc90, 0x5657, 0x32a1, 0x741a, 0x0, 0x1);
        gbc.writeMem(0x3839, { 0xe6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x3570);
        EXPECT(gbc.pc(), 0x383b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00C3
        gbc.setState(0xa192, 0x99cc, 0xc130, 0xd835, 0x2c55, 0x7bb0, 0x1, 0x1);
        gbc.writeMem(0xa192, { 0xe6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x99cc);
        EXPECT(gbc.pc(), 0xa194);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa192), 0xe6);
        EXPECT(gbc.readMem(0xa193), 0x1b);
        // E6 00C4
        gbc.setState(0x8555, 0xdbb7, 0xe400, 0x5845, 0x723, 0xdf66, 0x0, 0x0);
        gbc.writeMem(0x8555, { 0xe6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0xdbb7);
        EXPECT(gbc.pc(), 0x8557);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8555), 0xe6);
        EXPECT(gbc.readMem(0x8556), 0x22);
        // E6 00C5
        gbc.setState(0x6ed9, 0xf4f7, 0x39c0, 0xb34a, 0x47de, 0x61e5, 0x1, 0x1);
        gbc.writeMem(0x6ed9, { 0xe6, 0xec });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0xf4f7);
        EXPECT(gbc.pc(), 0x6edb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00C6
        gbc.setState(0x2d3f, 0x49f2, 0xbe10, 0x47f6, 0xfd81, 0x908f, 0x1, 0x1);
        gbc.writeMem(0x2d3f, { 0xe6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0x49f2);
        EXPECT(gbc.pc(), 0x2d41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00C7
        gbc.setState(0x9819, 0x3d93, 0x6ad0, 0x3337, 0x7f3, 0xe922, 0x0, 0x0);
        gbc.writeMem(0x9819, { 0xe6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x3d93);
        EXPECT(gbc.pc(), 0x981b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9819), 0xe6);
        EXPECT(gbc.readMem(0x981a), 0xd2);
        // E6 00C9
        gbc.setState(0x11d9, 0x7d2f, 0x6a40, 0xd456, 0xcde9, 0xd007, 0x0, 0x1);
        gbc.writeMem(0x11d9, { 0xe6, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x7d2f);
        EXPECT(gbc.pc(), 0x11db);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00CA
        gbc.setState(0x6cf2, 0xa04c, 0xc640, 0x97d3, 0x8ed9, 0xd726, 0x0, 0x0);
        gbc.writeMem(0x6cf2, { 0xe6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x97);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xa04c);
        EXPECT(gbc.pc(), 0x6cf4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00CB
        gbc.setState(0x2dd, 0x11e6, 0x3670, 0x4a5, 0xd3eb, 0x28b3, 0x0, 0x0);
        gbc.writeMem(0x2dd, { 0xe6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x4);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x11e6);
        EXPECT(gbc.pc(), 0x2df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00CC
        gbc.setState(0x2182, 0xede6, 0xcc70, 0xea1e, 0xe3ae, 0xd621, 0x0, 0x1);
        gbc.writeMem(0x2182, { 0xe6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xede6);
        EXPECT(gbc.pc(), 0x2184);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00CD
        gbc.setState(0x2058, 0x99d, 0xae50, 0x9f77, 0x12fb, 0x2ee9, 0x1, 0x0);
        gbc.writeMem(0x2058, { 0xe6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x99d);
        EXPECT(gbc.pc(), 0x205a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00CE
        gbc.setState(0x11c8, 0x2ff8, 0xe4d0, 0x3009, 0x2f0f, 0x7bb8, 0x0, 0x1);
        gbc.writeMem(0x11c8, { 0xe6, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x2ff8);
        EXPECT(gbc.pc(), 0x11ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00D0
        gbc.setState(0xb2d3, 0xe244, 0x4c40, 0x2424, 0x875a, 0x397d, 0x0, 0x0);
        gbc.writeMem(0xb2d3, { 0xe6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xe244);
        EXPECT(gbc.pc(), 0xb2d5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2d3), 0xe6);
        EXPECT(gbc.readMem(0xb2d4), 0x17);
        // E6 00D1
        gbc.setState(0x5322, 0x680d, 0x9ae0, 0x4387, 0xd255, 0xb6a8, 0x1, 0x1);
        gbc.writeMem(0x5322, { 0xe6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xd2);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x680d);
        EXPECT(gbc.pc(), 0x5324);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00D2
        gbc.setState(0x96b8, 0x2353, 0xf3f0, 0x4f14, 0xa07d, 0x2998, 0x1, 0x0);
        gbc.writeMem(0x96b8, { 0xe6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x14);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x2353);
        EXPECT(gbc.pc(), 0x96ba);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x96b8), 0xe6);
        EXPECT(gbc.readMem(0x96b9), 0x4f);
        // E6 00D4
        gbc.setState(0x3a69, 0x871a, 0xc7f0, 0x6c90, 0x4db8, 0x4bb, 0x1, 0x1);
        gbc.writeMem(0x3a69, { 0xe6, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x871a);
        EXPECT(gbc.pc(), 0x3a6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00D5
        gbc.setState(0xd2f5, 0xcc45, 0x5270, 0x20e9, 0xf489, 0xb1c2, 0x1, 0x1);
        gbc.writeMem(0xd2f5, { 0xe6, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xcc45);
        EXPECT(gbc.pc(), 0xd2f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2f5), 0xe6);
        EXPECT(gbc.readMem(0xd2f6), 0x78);
        // E6 00D6
        gbc.setState(0x5dc8, 0xf8a5, 0xb70, 0xe931, 0x9679, 0xfa8a, 0x1, 0x1);
        gbc.writeMem(0x5dc8, { 0xe6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0xf8a5);
        EXPECT(gbc.pc(), 0x5dca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00D8
        gbc.setState(0x2ae4, 0x7ee1, 0xd00, 0xca3e, 0xd7a5, 0x51cc, 0x0, 0x0);
        gbc.writeMem(0x2ae4, { 0xe6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x7ee1);
        EXPECT(gbc.pc(), 0x2ae6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00D9
        gbc.setState(0xccef, 0xb44f, 0x20b0, 0xed05, 0xb1a0, 0xd4a, 0x1, 0x1);
        gbc.writeMem(0xccef, { 0xe6, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xb44f);
        EXPECT(gbc.pc(), 0xccf1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xccef), 0xe6);
        EXPECT(gbc.readMem(0xccf0), 0xb2);
        // E6 00DA
        gbc.setState(0xaf7b, 0xbda2, 0xc40, 0x6dcb, 0x4ebe, 0x7d3b, 0x1, 0x1);
        gbc.writeMem(0xaf7b, { 0xe6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xbda2);
        EXPECT(gbc.pc(), 0xaf7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf7b), 0xe6);
        EXPECT(gbc.readMem(0xaf7c), 0x5f);
        // E6 00DB
        gbc.setState(0x9c22, 0x3901, 0x22f0, 0x4ac0, 0xf48c, 0xddab, 0x0, 0x1);
        gbc.writeMem(0x9c22, { 0xe6, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0x3901);
        EXPECT(gbc.pc(), 0x9c24);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c22), 0xe6);
        EXPECT(gbc.readMem(0x9c23), 0xd6);
        // E6 00DC
        gbc.setState(0x82a0, 0x6676, 0x6000, 0x346b, 0x559b, 0x87d1, 0x0, 0x0);
        gbc.writeMem(0x82a0, { 0xe6, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x6676);
        EXPECT(gbc.pc(), 0x82a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82a0), 0xe6);
        EXPECT(gbc.readMem(0x82a1), 0x7c);
        // E6 00DD
        gbc.setState(0x655b, 0xcaf1, 0x7570, 0x91c7, 0x31c, 0xd3ec, 0x1, 0x0);
        gbc.writeMem(0x655b, { 0xe6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xcaf1);
        EXPECT(gbc.pc(), 0x655d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00DE
        gbc.setState(0xb3af, 0xefb3, 0x6a00, 0xefbe, 0xb504, 0x9790, 0x1, 0x1);
        gbc.writeMem(0xb3af, { 0xe6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xef);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xefb3);
        EXPECT(gbc.pc(), 0xb3b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3af), 0xe6);
        EXPECT(gbc.readMem(0xb3b0), 0x3f);
        // E6 00DF
        gbc.setState(0x9809, 0x4a0a, 0xe520, 0x36e3, 0xf59e, 0x54d5, 0x0, 0x0);
        gbc.writeMem(0x9809, { 0xe6, 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0x9e);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x4a0a);
        EXPECT(gbc.pc(), 0x980b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9809), 0xe6);
        EXPECT(gbc.readMem(0x980a), 0x49);
        // E6 00E0
        gbc.setState(0xadd, 0x8e2e, 0x1780, 0xe7a7, 0x4ee4, 0xc95d, 0x1, 0x0);
        gbc.writeMem(0xadd, { 0xe6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x8e2e);
        EXPECT(gbc.pc(), 0xadf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00E1
        gbc.setState(0xc613, 0x5b3e, 0xc1e0, 0xb50, 0x4400, 0xb677, 0x0, 0x1);
        gbc.writeMem(0xc613, { 0xe6, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x44);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0xb6);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x5b3e);
        EXPECT(gbc.pc(), 0xc615);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc613), 0xe6);
        EXPECT(gbc.readMem(0xc614), 0x26);
        // E6 00E2
        gbc.setState(0x70f7, 0x9f57, 0xe950, 0x7c6e, 0x80ae, 0x6305, 0x1, 0x0);
        gbc.writeMem(0x70f7, { 0xe6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x9f57);
        EXPECT(gbc.pc(), 0x70f9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00E3
        gbc.setState(0x7790, 0x2cfc, 0x8880, 0xfc18, 0x5a33, 0xa1c4, 0x0, 0x1);
        gbc.writeMem(0x7790, { 0xe6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xfc);
        EXPECT(gbc.c(),  0x18);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x2cfc);
        EXPECT(gbc.pc(), 0x7792);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00E4
        gbc.setState(0xce3c, 0xa8ba, 0xd420, 0xb8b9, 0xfb64, 0x1f2b, 0x0, 0x0);
        gbc.writeMem(0xce3c, { 0xe6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xa8ba);
        EXPECT(gbc.pc(), 0xce3e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce3c), 0xe6);
        EXPECT(gbc.readMem(0xce3d), 0x90);
        // E6 00E5
        gbc.setState(0x78b7, 0xabc9, 0xbec0, 0x48bc, 0x4d0b, 0xc2e3, 0x1, 0x0);
        gbc.writeMem(0x78b7, { 0xe6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xabc9);
        EXPECT(gbc.pc(), 0x78b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00E6
        gbc.setState(0x50df, 0xda0d, 0x4dd0, 0x1458, 0x9a53, 0x16d4, 0x1, 0x1);
        gbc.writeMem(0x50df, { 0xe6, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0x4d);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xda0d);
        EXPECT(gbc.pc(), 0x50e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00E7
        gbc.setState(0xcb4b, 0xb17f, 0x95a0, 0xd026, 0xab0e, 0xff9f, 0x1, 0x1);
        gbc.writeMem(0xcb4b, { 0xe6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0x9f);
        EXPECT(gbc.sp(), 0xb17f);
        EXPECT(gbc.pc(), 0xcb4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb4b), 0xe6);
        EXPECT(gbc.readMem(0xcb4c), 0x2d);
        // E6 00E8
        gbc.setState(0xaaa, 0x1df6, 0x6120, 0x8c9e, 0x7268, 0x4e84, 0x0, 0x0);
        gbc.writeMem(0xaaa, { 0xe6, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x1df6);
        EXPECT(gbc.pc(), 0xaac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00E9
        gbc.setState(0xa826, 0x2261, 0xd780, 0x4044, 0x9377, 0xdfb3, 0x1, 0x1);
        gbc.writeMem(0xa826, { 0xe6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x2261);
        EXPECT(gbc.pc(), 0xa828);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa826), 0xe6);
        EXPECT(gbc.readMem(0xa827), 0xe3);
        // E6 00EA
        gbc.setState(0x4903, 0x8b55, 0x2340, 0xbbea, 0x67eb, 0x646, 0x0, 0x0);
        gbc.writeMem(0x4903, { 0xe6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x8b55);
        EXPECT(gbc.pc(), 0x4905);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00EB
        gbc.setState(0x7cbb, 0xdf6f, 0x3db0, 0xf39, 0x410b, 0x2c82, 0x1, 0x0);
        gbc.writeMem(0x7cbb, { 0xe6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xdf6f);
        EXPECT(gbc.pc(), 0x7cbd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00EC
        gbc.setState(0x1d57, 0x1e01, 0xc20, 0xb735, 0x9f52, 0xa572, 0x0, 0x1);
        gbc.writeMem(0x1d57, { 0xe6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x1e01);
        EXPECT(gbc.pc(), 0x1d59);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00ED
        gbc.setState(0xeacd, 0xe585, 0x4850, 0x83a7, 0x6f12, 0xaa3, 0x0, 0x0);
        gbc.writeMem(0xeacd, { 0xe6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xe585);
        EXPECT(gbc.pc(), 0xeacf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeacd), 0xe6);
        EXPECT(gbc.readMem(0xeace), 0x3f);
        // E6 00EE
        gbc.setState(0x6ddf, 0x5e0d, 0x840, 0x6695, 0x4f29, 0x40bc, 0x0, 0x1);
        gbc.writeMem(0x6ddf, { 0xe6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x5e0d);
        EXPECT(gbc.pc(), 0x6de1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00EF
        gbc.setState(0x532a, 0xb173, 0x8f70, 0x2184, 0x8a46, 0x162d, 0x1, 0x0);
        gbc.writeMem(0x532a, { 0xe6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xb173);
        EXPECT(gbc.pc(), 0x532c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00F0
        gbc.setState(0x5416, 0xcf9e, 0x8d40, 0x4de3, 0x2d05, 0xfe01, 0x0, 0x1);
        gbc.writeMem(0x5416, { 0xe6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0x4d);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xfe);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0xcf9e);
        EXPECT(gbc.pc(), 0x5418);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00F1
        gbc.setState(0x8db0, 0xfe54, 0xba00, 0xd9be, 0xf946, 0x762f, 0x1, 0x1);
        gbc.writeMem(0x8db0, { 0xe6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x9a);
        EXPECT(gbc.b(),  0xd9);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xfe54);
        EXPECT(gbc.pc(), 0x8db2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8db0), 0xe6);
        EXPECT(gbc.readMem(0x8db1), 0xde);
        // E6 00F2
        gbc.setState(0xbe1a, 0xc54d, 0x9b0, 0x8509, 0x5a62, 0x6fe4, 0x0, 0x0);
        gbc.writeMem(0xbe1a, { 0xe6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xc54d);
        EXPECT(gbc.pc(), 0xbe1c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe1a), 0xe6);
        EXPECT(gbc.readMem(0xbe1b), 0xed);
        // E6 00F3
        gbc.setState(0xa30b, 0x7f3d, 0xa730, 0xc347, 0xfde9, 0x3279, 0x0, 0x0);
        gbc.writeMem(0xa30b, { 0xe6, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x7f3d);
        EXPECT(gbc.pc(), 0xa30d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa30b), 0xe6);
        EXPECT(gbc.readMem(0xa30c), 0x1e);
        // E6 00F4
        gbc.setState(0xb983, 0x3b79, 0x8fa0, 0x9f83, 0xfaa5, 0x68d1, 0x0, 0x0);
        gbc.writeMem(0xb983, { 0xe6, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x3b79);
        EXPECT(gbc.pc(), 0xb985);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb983), 0xe6);
        EXPECT(gbc.readMem(0xb984), 0x1c);
        // E6 00F5
        gbc.setState(0x3d61, 0x77f1, 0xdc90, 0xd509, 0x8add, 0xcef4, 0x1, 0x0);
        gbc.writeMem(0x3d61, { 0xe6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0x77f1);
        EXPECT(gbc.pc(), 0x3d63);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00F6
        gbc.setState(0x1617, 0x1500, 0x4150, 0x18eb, 0x8593, 0x77c7, 0x0, 0x0);
        gbc.writeMem(0x1617, { 0xe6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x1500);
        EXPECT(gbc.pc(), 0x1619);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00F7
        gbc.setState(0x4cfc, 0x821, 0x4a10, 0xfc, 0x33ea, 0x57a5, 0x0, 0x1);
        gbc.writeMem(0x4cfc, { 0xe6, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0x821);
        EXPECT(gbc.pc(), 0x4cfe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00F8
        gbc.setState(0x9171, 0x9bb1, 0xefa0, 0x3bc3, 0xb747, 0x7b4d, 0x1, 0x0);
        gbc.writeMem(0x9171, { 0xe6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0x9bb1);
        EXPECT(gbc.pc(), 0x9173);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9171), 0xe6);
        EXPECT(gbc.readMem(0x9172), 0xd8);
        // E6 00F9
        gbc.setState(0x58a5, 0xf26f, 0xe150, 0x92d6, 0xca68, 0x673e, 0x1, 0x1);
        gbc.writeMem(0x58a5, { 0xe6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xf26f);
        EXPECT(gbc.pc(), 0x58a7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00FA
        gbc.setState(0x54c3, 0xa8a7, 0xcfe0, 0x8ac6, 0xee2, 0xcf4f, 0x0, 0x1);
        gbc.writeMem(0x54c3, { 0xe6, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0x4f);
        EXPECT(gbc.sp(), 0xa8a7);
        EXPECT(gbc.pc(), 0x54c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 00FB
        gbc.setState(0xb521, 0x5cac, 0x460, 0xfd26, 0x96f9, 0x692a, 0x0, 0x0);
        gbc.writeMem(0xb521, { 0xe6, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x2a);
        EXPECT(gbc.sp(), 0x5cac);
        EXPECT(gbc.pc(), 0xb523);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb521), 0xe6);
        EXPECT(gbc.readMem(0xb522), 0x4a);
        // E6 00FC
        gbc.setState(0xac42, 0x3f7c, 0x3a70, 0xba89, 0x4b36, 0x831b, 0x1, 0x0);
        gbc.writeMem(0xac42, { 0xe6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x3f7c);
        EXPECT(gbc.pc(), 0xac44);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac42), 0xe6);
        EXPECT(gbc.readMem(0xac43), 0xaa);
        // E6 00FD
        gbc.setState(0xabfe, 0x481d, 0xf40, 0xfed4, 0x57f4, 0xe84, 0x1, 0x0);
        gbc.writeMem(0xabfe, { 0xe6, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xfe);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x481d);
        EXPECT(gbc.pc(), 0xac00);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabfe), 0xe6);
        EXPECT(gbc.readMem(0xabff), 0x1c);
        // E6 00FE
        gbc.setState(0x1548, 0x1f74, 0x4520, 0x6c71, 0x117c, 0x88a, 0x0, 0x1);
        gbc.writeMem(0x1548, { 0xe6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x8);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x1f74);
        EXPECT(gbc.pc(), 0x154a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0100
        gbc.setState(0xec28, 0x3f54, 0xf210, 0x1884, 0x9f1a, 0x31b6, 0x1, 0x0);
        gbc.writeMem(0xec28, { 0xe6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x1a);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0x3f54);
        EXPECT(gbc.pc(), 0xec2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec28), 0xe6);
        EXPECT(gbc.readMem(0xec29), 0x66);
        // E6 0101
        gbc.setState(0xe61d, 0xbc1c, 0x77d0, 0xa270, 0xa579, 0xffed, 0x1, 0x0);
        gbc.writeMem(0xe61d, { 0xe6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x76);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0xbc1c);
        EXPECT(gbc.pc(), 0xe61f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe61d), 0xe6);
        EXPECT(gbc.readMem(0xe61e), 0x76);
        // E6 0102
        gbc.setState(0x1ab3, 0x684f, 0x9820, 0xbe4f, 0x3ef8, 0x8456, 0x1, 0x1);
        gbc.writeMem(0x1ab3, { 0xe6, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x684f);
        EXPECT(gbc.pc(), 0x1ab5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0103
        gbc.setState(0x9878, 0xbd4, 0x1d00, 0x8a4d, 0xfc22, 0xbb71, 0x0, 0x1);
        gbc.writeMem(0x9878, { 0xe6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xbd4);
        EXPECT(gbc.pc(), 0x987a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9878), 0xe6);
        EXPECT(gbc.readMem(0x9879), 0x2e);
        // E6 0104
        gbc.setState(0xae03, 0x8a11, 0x4850, 0xa91b, 0x43cd, 0x27b3, 0x0, 0x1);
        gbc.writeMem(0xae03, { 0xe6, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xcd);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0x8a11);
        EXPECT(gbc.pc(), 0xae05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae03), 0xe6);
        EXPECT(gbc.readMem(0xae04), 0x5);
        // E6 0105
        gbc.setState(0xe4f3, 0x75ec, 0x9f00, 0xb9d7, 0x4e64, 0x84f5, 0x1, 0x1);
        gbc.writeMem(0xe4f3, { 0xe6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x75ec);
        EXPECT(gbc.pc(), 0xe4f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe4f3), 0xe6);
        EXPECT(gbc.readMem(0xe4f4), 0x1f);
        // E6 0106
        gbc.setState(0xb7c2, 0x378c, 0xc100, 0x1b39, 0x4891, 0x995e, 0x1, 0x1);
        gbc.writeMem(0xb7c2, { 0xe6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x48);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0x378c);
        EXPECT(gbc.pc(), 0xb7c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7c2), 0xe6);
        EXPECT(gbc.readMem(0xb7c3), 0x71);
        // E6 0107
        gbc.setState(0xe533, 0x8e26, 0x51c0, 0xb053, 0x5a1d, 0xb832, 0x1, 0x0);
        gbc.writeMem(0xe533, { 0xe6, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x8e26);
        EXPECT(gbc.pc(), 0xe535);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe533), 0xe6);
        EXPECT(gbc.readMem(0xe534), 0xf3);
        // E6 0108
        gbc.setState(0xac8a, 0x53f2, 0xc480, 0xb9aa, 0x1141, 0x3708, 0x0, 0x0);
        gbc.writeMem(0xac8a, { 0xe6, 0xad });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xaa);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x53f2);
        EXPECT(gbc.pc(), 0xac8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac8a), 0xe6);
        EXPECT(gbc.readMem(0xac8b), 0xad);
        // E6 0109
        gbc.setState(0xaa0, 0x2014, 0xc0c0, 0xaa50, 0x672d, 0xbcbb, 0x0, 0x0);
        gbc.writeMem(0xaa0, { 0xe6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x2014);
        EXPECT(gbc.pc(), 0xaa2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 010A
        gbc.setState(0xaf5, 0x2ec5, 0xcb0, 0xd23c, 0x63a, 0x3ac2, 0x0, 0x0);
        gbc.writeMem(0xaf5, { 0xe6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x2ec5);
        EXPECT(gbc.pc(), 0xaf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 010B
        gbc.setState(0xb354, 0xcef8, 0xf150, 0xa3e, 0xcc35, 0x22e1, 0x0, 0x0);
        gbc.writeMem(0xb354, { 0xe6, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xcef8);
        EXPECT(gbc.pc(), 0xb356);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb354), 0xe6);
        EXPECT(gbc.readMem(0xb355), 0xeb);
        // E6 010C
        gbc.setState(0x16c1, 0xb48e, 0x1000, 0x3119, 0xedfc, 0x2655, 0x1, 0x1);
        gbc.writeMem(0x16c1, { 0xe6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0xb48e);
        EXPECT(gbc.pc(), 0x16c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 010D
        gbc.setState(0xc11f, 0x3037, 0x53e0, 0xb477, 0x3cf3, 0x751f, 0x0, 0x1);
        gbc.writeMem(0xc11f, { 0xe6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x3037);
        EXPECT(gbc.pc(), 0xc121);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc11f), 0xe6);
        EXPECT(gbc.readMem(0xc120), 0xe3);
        // E6 010E
        gbc.setState(0x33b, 0xb6b, 0x99e0, 0x3f8e, 0x2905, 0xbfa5, 0x1, 0x1);
        gbc.writeMem(0x33b, { 0xe6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xb6b);
        EXPECT(gbc.pc(), 0x33d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 010F
        gbc.setState(0x500b, 0x7671, 0x5050, 0x98c1, 0xf5b4, 0xdffd, 0x1, 0x1);
        gbc.writeMem(0x500b, { 0xe6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x7671);
        EXPECT(gbc.pc(), 0x500d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0110
        gbc.setState(0x9f24, 0x7c93, 0xd2e0, 0x2a87, 0xf66f, 0x5962, 0x0, 0x0);
        gbc.writeMem(0x9f24, { 0xe6, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x7c93);
        EXPECT(gbc.pc(), 0x9f26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f24), 0xe6);
        EXPECT(gbc.readMem(0x9f25), 0x3a);
        // E6 0111
        gbc.setState(0xd0fd, 0x6936, 0xbee0, 0x82d2, 0xfbdc, 0x1939, 0x1, 0x1);
        gbc.writeMem(0xd0fd, { 0xe6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x9e);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x6936);
        EXPECT(gbc.pc(), 0xd0ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0fd), 0xe6);
        EXPECT(gbc.readMem(0xd0fe), 0xde);
        // E6 0112
        gbc.setState(0xfc8, 0xd038, 0x28b0, 0xffde, 0x5cf, 0x5093, 0x1, 0x1);
        gbc.writeMem(0xfc8, { 0xe6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xd038);
        EXPECT(gbc.pc(), 0xfca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0113
        gbc.setState(0x3309, 0x83d3, 0x75f0, 0xe2a7, 0x1748, 0x13d1, 0x0, 0x0);
        gbc.writeMem(0x3309, { 0xe6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x48);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x83d3);
        EXPECT(gbc.pc(), 0x330b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0114
        gbc.setState(0x6855, 0xe744, 0xf4f0, 0xa766, 0x81a9, 0x615c, 0x1, 0x1);
        gbc.writeMem(0x6855, { 0xe6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0x66);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xe744);
        EXPECT(gbc.pc(), 0x6857);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0115
        gbc.setState(0x1144, 0x5c3f, 0x24d0, 0x96c5, 0xcc73, 0xf848, 0x1, 0x1);
        gbc.writeMem(0x1144, { 0xe6, 0x63 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x5c3f);
        EXPECT(gbc.pc(), 0x1146);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0116
        gbc.setState(0x5dad, 0xa1a7, 0xa980, 0xc975, 0x6737, 0x428e, 0x0, 0x1);
        gbc.writeMem(0x5dad, { 0xe6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0xc9);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xa1a7);
        EXPECT(gbc.pc(), 0x5daf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0118
        gbc.setState(0x5bf5, 0x8888, 0x8d80, 0xe526, 0x990f, 0xaece, 0x1, 0x1);
        gbc.writeMem(0x5bf5, { 0xe6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x8888);
        EXPECT(gbc.pc(), 0x5bf7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0119
        gbc.setState(0x7c92, 0x41c2, 0x8460, 0xa805, 0xc6c7, 0x5741, 0x1, 0x0);
        gbc.writeMem(0x7c92, { 0xe6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x41c2);
        EXPECT(gbc.pc(), 0x7c94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 011A
        gbc.setState(0xd70f, 0x347d, 0xc5c0, 0xbe26, 0xe88d, 0xad53, 0x1, 0x0);
        gbc.writeMem(0xd70f, { 0xe6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x347d);
        EXPECT(gbc.pc(), 0xd711);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd70f), 0xe6);
        EXPECT(gbc.readMem(0xd710), 0xa8);
        // E6 011C
        gbc.setState(0x27dd, 0xb2e6, 0xc850, 0x6b4e, 0x8182, 0xd77a, 0x0, 0x1);
        gbc.writeMem(0x27dd, { 0xe6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xb2e6);
        EXPECT(gbc.pc(), 0x27df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 011D
        gbc.setState(0x3ea8, 0x25c4, 0x7110, 0x22fe, 0x994a, 0x95e9, 0x0, 0x1);
        gbc.writeMem(0x3ea8, { 0xe6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x25c4);
        EXPECT(gbc.pc(), 0x3eaa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 011E
        gbc.setState(0x4b21, 0x36d5, 0xf930, 0xdeab, 0xd08b, 0x39d1, 0x0, 0x1);
        gbc.writeMem(0x4b21, { 0xe6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x36d5);
        EXPECT(gbc.pc(), 0x4b23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 011F
        gbc.setState(0x2169, 0xb381, 0x25e0, 0x1143, 0x6155, 0x4bc1, 0x0, 0x1);
        gbc.writeMem(0x2169, { 0xe6, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x4b);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xb381);
        EXPECT(gbc.pc(), 0x216b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0120
        gbc.setState(0x2506, 0x9fb8, 0xce70, 0x3b13, 0x2798, 0xf6f2, 0x1, 0x0);
        gbc.writeMem(0x2506, { 0xe6, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x9fb8);
        EXPECT(gbc.pc(), 0x2508);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0121
        gbc.setState(0x9af5, 0x3d7b, 0x8640, 0x499d, 0x6d5e, 0x894b, 0x0, 0x1);
        gbc.writeMem(0x9af5, { 0xe6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x3d7b);
        EXPECT(gbc.pc(), 0x9af7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9af5), 0xe6);
        EXPECT(gbc.readMem(0x9af6), 0x8e);
        // E6 0122
        gbc.setState(0x15fa, 0xb60f, 0x1480, 0xe64c, 0xf655, 0x6426, 0x1, 0x1);
        gbc.writeMem(0x15fa, { 0xe6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xb60f);
        EXPECT(gbc.pc(), 0x15fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0123
        gbc.setState(0xca8e, 0x42bd, 0x3990, 0x54fa, 0x70e1, 0xb3eb, 0x1, 0x0);
        gbc.writeMem(0xca8e, { 0xe6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x42bd);
        EXPECT(gbc.pc(), 0xca90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca8e), 0xe6);
        EXPECT(gbc.readMem(0xca8f), 0x85);
        // E6 0124
        gbc.setState(0x8a3e, 0x4a70, 0x55b0, 0x9a74, 0xdf86, 0xe41, 0x0, 0x0);
        gbc.writeMem(0x8a3e, { 0xe6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0x4a70);
        EXPECT(gbc.pc(), 0x8a40);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a3e), 0xe6);
        EXPECT(gbc.readMem(0x8a3f), 0x79);
        // E6 0125
        gbc.setState(0xef66, 0x9657, 0x8ec0, 0xb79, 0x2470, 0x81e0, 0x0, 0x0);
        gbc.writeMem(0xef66, { 0xe6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x9657);
        EXPECT(gbc.pc(), 0xef68);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef66), 0xe6);
        EXPECT(gbc.readMem(0xef67), 0x9);
        // E6 0126
        gbc.setState(0xe077, 0x8b85, 0x7800, 0x7630, 0x1e8a, 0xcee9, 0x0, 0x1);
        gbc.writeMem(0xe077, { 0xe6, 0x3a });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x8b85);
        EXPECT(gbc.pc(), 0xe079);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe077), 0xe6);
        EXPECT(gbc.readMem(0xe078), 0x3a);
        // E6 0127
        gbc.setState(0x622b, 0xb458, 0x4c00, 0x55f5, 0x85d1, 0x4893, 0x0, 0x0);
        gbc.writeMem(0x622b, { 0xe6, 0xc4 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x93);
        EXPECT(gbc.sp(), 0xb458);
        EXPECT(gbc.pc(), 0x622d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0128
        gbc.setState(0xc05e, 0x8a07, 0x1ab0, 0x995e, 0x5418, 0xdd82, 0x0, 0x0);
        gbc.writeMem(0xc05e, { 0xe6, 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x8a07);
        EXPECT(gbc.pc(), 0xc060);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc05e), 0xe6);
        EXPECT(gbc.readMem(0xc05f), 0x49);
        // E6 0129
        gbc.setState(0xb9eb, 0x598f, 0xf390, 0xba97, 0x3a62, 0xc68a, 0x1, 0x1);
        gbc.writeMem(0xb9eb, { 0xe6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x598f);
        EXPECT(gbc.pc(), 0xb9ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9eb), 0xe6);
        EXPECT(gbc.readMem(0xb9ec), 0x35);
        // E6 012A
        gbc.setState(0xbc4a, 0x9aac, 0x85a0, 0x561d, 0x4abb, 0xaf6f, 0x1, 0x1);
        gbc.writeMem(0xbc4a, { 0xe6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xaf);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x9aac);
        EXPECT(gbc.pc(), 0xbc4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbc4a), 0xe6);
        EXPECT(gbc.readMem(0xbc4b), 0x18);
        // E6 012B
        gbc.setState(0x3154, 0x8bab, 0x9880, 0xdf7e, 0x1747, 0x18c2, 0x0, 0x1);
        gbc.writeMem(0x3154, { 0xe6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x8bab);
        EXPECT(gbc.pc(), 0x3156);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 012C
        gbc.setState(0x3141, 0x114d, 0xd40, 0xdfe6, 0xb202, 0xa97b, 0x0, 0x1);
        gbc.writeMem(0x3141, { 0xe6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x114d);
        EXPECT(gbc.pc(), 0x3143);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 012D
        gbc.setState(0x9765, 0x7ed2, 0xe290, 0x29ab, 0xadcc, 0xfd26, 0x1, 0x1);
        gbc.writeMem(0x9765, { 0xe6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x7ed2);
        EXPECT(gbc.pc(), 0x9767);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9765), 0xe6);
        EXPECT(gbc.readMem(0x9766), 0x77);
        // E6 012E
        gbc.setState(0xaf70, 0x9d72, 0x25b0, 0xff6a, 0x92a1, 0xeaef, 0x0, 0x1);
        gbc.writeMem(0xaf70, { 0xe6, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x9d72);
        EXPECT(gbc.pc(), 0xaf72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf70), 0xe6);
        EXPECT(gbc.readMem(0xaf71), 0x4e);
        // E6 012F
        gbc.setState(0x9e67, 0xdb9a, 0x96f0, 0x4692, 0x57f0, 0x18a4, 0x0, 0x0);
        gbc.writeMem(0x9e67, { 0xe6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0xdb9a);
        EXPECT(gbc.pc(), 0x9e69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e67), 0xe6);
        EXPECT(gbc.readMem(0x9e68), 0x18);
        // E6 0130
        gbc.setState(0x84b8, 0x492, 0xcec0, 0xba69, 0xbd43, 0xa81e, 0x0, 0x1);
        gbc.writeMem(0x84b8, { 0xe6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xa8);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x492);
        EXPECT(gbc.pc(), 0x84ba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x84b8), 0xe6);
        EXPECT(gbc.readMem(0x84b9), 0x79);
        // E6 0131
        gbc.setState(0xd32d, 0xc79, 0x74f0, 0xe90d, 0xd367, 0x813c, 0x1, 0x1);
        gbc.writeMem(0xd32d, { 0xe6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x67);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xc79);
        EXPECT(gbc.pc(), 0xd32f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd32d), 0xe6);
        EXPECT(gbc.readMem(0xd32e), 0x6b);
        // E6 0132
        gbc.setState(0x75f4, 0x9e5e, 0xf260, 0xd11f, 0x686c, 0x4fd1, 0x0, 0x1);
        gbc.writeMem(0x75f4, { 0xe6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0x9e5e);
        EXPECT(gbc.pc(), 0x75f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0134
        gbc.setState(0x1674, 0xa85b, 0xdda0, 0xe806, 0x121, 0xb2e7, 0x1, 0x0);
        gbc.writeMem(0x1674, { 0xe6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x55);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0xa85b);
        EXPECT(gbc.pc(), 0x1676);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0135
        gbc.setState(0x994d, 0x116c, 0x4510, 0x3c53, 0xdce8, 0xf8f9, 0x1, 0x0);
        gbc.writeMem(0x994d, { 0xe6, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xe8);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x116c);
        EXPECT(gbc.pc(), 0x994f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x994d), 0xe6);
        EXPECT(gbc.readMem(0x994e), 0xb2);
        // E6 0136
        gbc.setState(0xc303, 0x3ec8, 0x870, 0x5ee, 0x8fb3, 0xd79b, 0x1, 0x0);
        gbc.writeMem(0xc303, { 0xe6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x5);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0x3ec8);
        EXPECT(gbc.pc(), 0xc305);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc303), 0xe6);
        EXPECT(gbc.readMem(0xc304), 0xd1);
        // E6 0137
        gbc.setState(0xbf93, 0xd043, 0x7ed0, 0xd76b, 0xe84b, 0xeadd, 0x1, 0x1);
        gbc.writeMem(0xbf93, { 0xe6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xdd);
        EXPECT(gbc.sp(), 0xd043);
        EXPECT(gbc.pc(), 0xbf95);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf93), 0xe6);
        EXPECT(gbc.readMem(0xbf94), 0xb9);
        // E6 0138
        gbc.setState(0xe16f, 0x5862, 0x95d0, 0x4f70, 0x4602, 0xed32, 0x0, 0x0);
        gbc.writeMem(0xe16f, { 0xe6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x70);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x5862);
        EXPECT(gbc.pc(), 0xe171);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe16f), 0xe6);
        EXPECT(gbc.readMem(0xe170), 0x50);
        // E6 0139
        gbc.setState(0x414f, 0x91d, 0x8f0, 0x8f33, 0x6af6, 0xea66, 0x1, 0x0);
        gbc.writeMem(0x414f, { 0xe6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0xf6);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x66);
        EXPECT(gbc.sp(), 0x91d);
        EXPECT(gbc.pc(), 0x4151);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 013A
        gbc.setState(0xa912, 0x6521, 0x6810, 0x477c, 0xfead, 0xae70, 0x0, 0x0);
        gbc.writeMem(0xa912, { 0xe6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x6521);
        EXPECT(gbc.pc(), 0xa914);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa912), 0xe6);
        EXPECT(gbc.readMem(0xa913), 0x28);
        // E6 013B
        gbc.setState(0x3a98, 0x4fba, 0x75e0, 0xd558, 0xc0e7, 0xcc3a, 0x0, 0x1);
        gbc.writeMem(0x3a98, { 0xe6, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0x4fba);
        EXPECT(gbc.pc(), 0x3a9a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 013C
        gbc.setState(0xacff, 0xdd5a, 0x12a0, 0xe69, 0x3e98, 0x8744, 0x1, 0x0);
        gbc.writeMem(0xacff, { 0xe6, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0xdd5a);
        EXPECT(gbc.pc(), 0xad01);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xacff), 0xe6);
        EXPECT(gbc.readMem(0xad00), 0xba);
        // E6 013D
        gbc.setState(0x4e02, 0x43b4, 0xac80, 0xeb7d, 0x6d12, 0x9202, 0x0, 0x1);
        gbc.writeMem(0x4e02, { 0xe6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x43b4);
        EXPECT(gbc.pc(), 0x4e04);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 013E
        gbc.setState(0x9130, 0xb4c1, 0x7690, 0x6c44, 0x9e60, 0xfd18, 0x0, 0x0);
        gbc.writeMem(0x9130, { 0xe6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xb4c1);
        EXPECT(gbc.pc(), 0x9132);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9130), 0xe6);
        EXPECT(gbc.readMem(0x9131), 0xfc);
        // E6 013F
        gbc.setState(0x21ed, 0x3e58, 0x2420, 0xbe4, 0xa13a, 0xb8e8, 0x1, 0x0);
        gbc.writeMem(0x21ed, { 0xe6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x3e58);
        EXPECT(gbc.pc(), 0x21ef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0140
        gbc.setState(0x65c7, 0x5896, 0x53a0, 0x3fe4, 0x9f7d, 0x992f, 0x0, 0x1);
        gbc.writeMem(0x65c7, { 0xe6, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0x5896);
        EXPECT(gbc.pc(), 0x65c9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0141
        gbc.setState(0x326d, 0xebf0, 0xf0f0, 0x9ea4, 0xc655, 0x39c8, 0x1, 0x1);
        gbc.writeMem(0x326d, { 0xe6, 0xc7 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0xebf0);
        EXPECT(gbc.pc(), 0x326f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0142
        gbc.setState(0x65cf, 0x3e0f, 0xbef0, 0xce78, 0x7f95, 0x6d0f, 0x1, 0x1);
        gbc.writeMem(0x65cf, { 0xe6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0x95);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x3e0f);
        EXPECT(gbc.pc(), 0x65d1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0143
        gbc.setState(0xa54c, 0xb77a, 0xdd10, 0x504c, 0x148f, 0xa54c, 0x0, 0x1);
        gbc.writeMem(0xa54c, { 0xe6, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xb77a);
        EXPECT(gbc.pc(), 0xa54e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa54c), 0xe6);
        EXPECT(gbc.readMem(0xa54d), 0xd3);
        // E6 0144
        gbc.setState(0xaf10, 0x88e9, 0xee00, 0x806, 0x11be, 0xef3e, 0x0, 0x1);
        gbc.writeMem(0xaf10, { 0xe6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x8e);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xbe);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x88e9);
        EXPECT(gbc.pc(), 0xaf12);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf10), 0xe6);
        EXPECT(gbc.readMem(0xaf11), 0x8e);
        // E6 0145
        gbc.setState(0x839b, 0x7eea, 0xc90, 0xc0b, 0x39b9, 0x46fd, 0x1, 0x1);
        gbc.writeMem(0x839b, { 0xe6, 0x40 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc);
        EXPECT(gbc.c(),  0xb);
        EXPECT(gbc.d(),  0x39);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x7eea);
        EXPECT(gbc.pc(), 0x839d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x839b), 0xe6);
        EXPECT(gbc.readMem(0x839c), 0x40);
        // E6 0146
        gbc.setState(0x9bee, 0xf95c, 0x490, 0x9d6f, 0xf3cf, 0x81c1, 0x1, 0x1);
        gbc.writeMem(0x9bee, { 0xe6, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xf95c);
        EXPECT(gbc.pc(), 0x9bf0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bee), 0xe6);
        EXPECT(gbc.readMem(0x9bef), 0x4e);
        // E6 0147
        gbc.setState(0x2d8c, 0x51ff, 0x75c0, 0xfd7d, 0x7d18, 0x531f, 0x0, 0x1);
        gbc.writeMem(0x2d8c, { 0xe6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x7d);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x51ff);
        EXPECT(gbc.pc(), 0x2d8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0148
        gbc.setState(0x1104, 0xe90c, 0x7cf0, 0x8451, 0x3215, 0xab3d, 0x0, 0x1);
        gbc.writeMem(0x1104, { 0xe6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x3d);
        EXPECT(gbc.sp(), 0xe90c);
        EXPECT(gbc.pc(), 0x1106);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0149
        gbc.setState(0x34a1, 0x35d7, 0xd0a0, 0x1a40, 0x5142, 0x2be0, 0x0, 0x1);
        gbc.writeMem(0x34a1, { 0xe6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x42);
        EXPECT(gbc.h(),  0x2b);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x35d7);
        EXPECT(gbc.pc(), 0x34a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 014A
        gbc.setState(0x4868, 0x1e0a, 0xeba0, 0xbadf, 0xa37b, 0x9e81, 0x0, 0x1);
        gbc.writeMem(0x4868, { 0xe6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x7b);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x1e0a);
        EXPECT(gbc.pc(), 0x486a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 014B
        gbc.setState(0x7854, 0xf01, 0xef20, 0x6ad7, 0xf12d, 0x4ab3, 0x0, 0x1);
        gbc.writeMem(0x7854, { 0xe6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x49);
        EXPECT(gbc.b(),  0x6a);
        EXPECT(gbc.c(),  0xd7);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0xb3);
        EXPECT(gbc.sp(), 0xf01);
        EXPECT(gbc.pc(), 0x7856);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 014C
        gbc.setState(0x2a88, 0xc7af, 0x2dc0, 0xb6db, 0xc85a, 0x5a4d, 0x1, 0x1);
        gbc.writeMem(0x2a88, { 0xe6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x4d);
        EXPECT(gbc.sp(), 0xc7af);
        EXPECT(gbc.pc(), 0x2a8a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 014D
        gbc.setState(0x8afa, 0x8f34, 0xa460, 0xa061, 0xf292, 0x3806, 0x1, 0x1);
        gbc.writeMem(0x8afa, { 0xe6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0x8f34);
        EXPECT(gbc.pc(), 0x8afc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8afa), 0xe6);
        EXPECT(gbc.readMem(0x8afb), 0xa);
        // E6 014E
        gbc.setState(0x1c9, 0xd51c, 0x5ff0, 0x84f7, 0x7139, 0xc37c, 0x0, 0x1);
        gbc.writeMem(0x1c9, { 0xe6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x7c);
        EXPECT(gbc.sp(), 0xd51c);
        EXPECT(gbc.pc(), 0x1cb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 014F
        gbc.setState(0x5673, 0x6afe, 0xd990, 0xbd5c, 0x5f0, 0x8ef8, 0x1, 0x0);
        gbc.writeMem(0x5673, { 0xe6, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x58);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x6afe);
        EXPECT(gbc.pc(), 0x5675);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0150
        gbc.setState(0xec7c, 0x2783, 0x3bc0, 0x56c3, 0x3fd0, 0xb51f, 0x0, 0x1);
        gbc.writeMem(0xec7c, { 0xe6, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x2783);
        EXPECT(gbc.pc(), 0xec7e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec7c), 0xe6);
        EXPECT(gbc.readMem(0xec7d), 0x7);
        // E6 0151
        gbc.setState(0x8673, 0xc66e, 0x7a70, 0xdf1b, 0x178c, 0xdda3, 0x0, 0x1);
        gbc.writeMem(0x8673, { 0xe6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0xc66e);
        EXPECT(gbc.pc(), 0x8675);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8673), 0xe6);
        EXPECT(gbc.readMem(0x8674), 0x15);
        // E6 0152
        gbc.setState(0x3cd0, 0xcef7, 0xb530, 0x15ea, 0x1ff8, 0x63c1, 0x1, 0x0);
        gbc.writeMem(0x3cd0, { 0xe6, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xcef7);
        EXPECT(gbc.pc(), 0x3cd2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0153
        gbc.setState(0x143b, 0x8a1f, 0x42d0, 0x56f1, 0x8cfc, 0x65e1, 0x0, 0x1);
        gbc.writeMem(0x143b, { 0xe6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x8c);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x8a1f);
        EXPECT(gbc.pc(), 0x143d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0154
        gbc.setState(0xa412, 0x4e8, 0x99c0, 0x83f2, 0xf5e3, 0x13fc, 0x0, 0x0);
        gbc.writeMem(0xa412, { 0xe6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xe3);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x4e8);
        EXPECT(gbc.pc(), 0xa414);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa412), 0xe6);
        EXPECT(gbc.readMem(0xa413), 0x82);
        // E6 0155
        gbc.setState(0x52a1, 0x3b0f, 0x5e90, 0x388d, 0x7840, 0x5609, 0x1, 0x0);
        gbc.writeMem(0x52a1, { 0xe6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x5e);
        EXPECT(gbc.b(),  0x38);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x3b0f);
        EXPECT(gbc.pc(), 0x52a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0156
        gbc.setState(0x8a55, 0x6c74, 0xb550, 0xee6a, 0xf09b, 0x66c5, 0x0, 0x0);
        gbc.writeMem(0x8a55, { 0xe6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xc5);
        EXPECT(gbc.sp(), 0x6c74);
        EXPECT(gbc.pc(), 0x8a57);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a55), 0xe6);
        EXPECT(gbc.readMem(0x8a56), 0x94);
        // E6 0157
        gbc.setState(0x3b31, 0x9be6, 0xa540, 0x5509, 0xc07c, 0x430e, 0x0, 0x1);
        gbc.writeMem(0x3b31, { 0xe6, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x9be6);
        EXPECT(gbc.pc(), 0x3b33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0158
        gbc.setState(0x4764, 0x2bb5, 0x39e0, 0x940e, 0x5a57, 0x838e, 0x0, 0x1);
        gbc.writeMem(0x4764, { 0xe6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x2bb5);
        EXPECT(gbc.pc(), 0x4766);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0159
        gbc.setState(0x10b7, 0xd356, 0x3150, 0x531e, 0x5c8c, 0xf671, 0x1, 0x0);
        gbc.writeMem(0x10b7, { 0xe6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0xd356);
        EXPECT(gbc.pc(), 0x10b9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 015A
        gbc.setState(0xe580, 0x1310, 0x6520, 0x6751, 0xde17, 0x832b, 0x1, 0x0);
        gbc.writeMem(0xe580, { 0xe6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xde);
        EXPECT(gbc.e(),  0x17);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x1310);
        EXPECT(gbc.pc(), 0xe582);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe580), 0xe6);
        EXPECT(gbc.readMem(0xe581), 0x22);
        // E6 015B
        gbc.setState(0x828a, 0x4029, 0xa10, 0xfd9c, 0x261e, 0x4e72, 0x0, 0x1);
        gbc.writeMem(0x828a, { 0xe6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x1e);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x4029);
        EXPECT(gbc.pc(), 0x828c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x828a), 0xe6);
        EXPECT(gbc.readMem(0x828b), 0xac);
        // E6 015C
        gbc.setState(0x50e8, 0x24ce, 0x6190, 0xccd0, 0x8b9f, 0xf316, 0x0, 0x0);
        gbc.writeMem(0x50e8, { 0xe6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x24ce);
        EXPECT(gbc.pc(), 0x50ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 015D
        gbc.setState(0x853d, 0xd2eb, 0xad00, 0x7df4, 0xedba, 0x7cbb, 0x0, 0x0);
        gbc.writeMem(0x853d, { 0xe6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xd2eb);
        EXPECT(gbc.pc(), 0x853f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x853d), 0xe6);
        EXPECT(gbc.readMem(0x853e), 0x30);
        // E6 015E
        gbc.setState(0x188b, 0x4141, 0x47b0, 0x8b6b, 0x6462, 0x4748, 0x0, 0x1);
        gbc.writeMem(0x188b, { 0xe6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x4141);
        EXPECT(gbc.pc(), 0x188d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 015F
        gbc.setState(0x2726, 0x55c3, 0xdfd0, 0xe9f5, 0xbf7c, 0x2477, 0x1, 0x1);
        gbc.writeMem(0x2726, { 0xe6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x55c3);
        EXPECT(gbc.pc(), 0x2728);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0160
        gbc.setState(0x8eb8, 0x5518, 0x7ca0, 0xd5b3, 0xc4a7, 0x6ec4, 0x0, 0x0);
        gbc.writeMem(0x8eb8, { 0xe6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x5518);
        EXPECT(gbc.pc(), 0x8eba);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8eb8), 0xe6);
        EXPECT(gbc.readMem(0x8eb9), 0xe9);
        // E6 0161
        gbc.setState(0x754f, 0xa99e, 0xe8e0, 0xf3f5, 0x47f8, 0xb5cd, 0x1, 0x0);
        gbc.writeMem(0x754f, { 0xe6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xa99e);
        EXPECT(gbc.pc(), 0x7551);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0162
        gbc.setState(0xb5e0, 0x657f, 0x1e50, 0xe8a0, 0x11b9, 0x56e0, 0x1, 0x1);
        gbc.writeMem(0xb5e0, { 0xe6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xa0);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x657f);
        EXPECT(gbc.pc(), 0xb5e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb5e0), 0xe6);
        EXPECT(gbc.readMem(0xb5e1), 0x5a);
        // E6 0163
        gbc.setState(0x5c18, 0x81b0, 0x6d90, 0xc0d2, 0xe9f3, 0x4805, 0x1, 0x0);
        gbc.writeMem(0x5c18, { 0xe6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x81b0);
        EXPECT(gbc.pc(), 0x5c1a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0164
        gbc.setState(0x57e4, 0xb67, 0x14b0, 0x467e, 0x6d97, 0xfcf4, 0x0, 0x1);
        gbc.writeMem(0x57e4, { 0xe6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xf4);
        EXPECT(gbc.sp(), 0xb67);
        EXPECT(gbc.pc(), 0x57e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0165
        gbc.setState(0xb12d, 0x91fd, 0x54d0, 0x93cd, 0x10a7, 0xf0b0, 0x0, 0x1);
        gbc.writeMem(0xb12d, { 0xe6, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0xcd);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xa7);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0x91fd);
        EXPECT(gbc.pc(), 0xb12f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb12d), 0xe6);
        EXPECT(gbc.readMem(0xb12e), 0xcb);
        // E6 0166
        gbc.setState(0x10f2, 0xf34c, 0x8bb0, 0x7c47, 0x65f4, 0x3027, 0x0, 0x1);
        gbc.writeMem(0x10f2, { 0xe6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xf34c);
        EXPECT(gbc.pc(), 0x10f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0167
        gbc.setState(0x7d03, 0xc48e, 0x3a90, 0xca08, 0x74a5, 0xc3ba, 0x0, 0x0);
        gbc.writeMem(0x7d03, { 0xe6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0xc48e);
        EXPECT(gbc.pc(), 0x7d05);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0168
        gbc.setState(0xe649, 0x421a, 0xb6d0, 0x16b8, 0xd699, 0x607d, 0x0, 0x0);
        gbc.writeMem(0xe649, { 0xe6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0x421a);
        EXPECT(gbc.pc(), 0xe64b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe649), 0xe6);
        EXPECT(gbc.readMem(0xe64a), 0xa4);
        // E6 0169
        gbc.setState(0x9313, 0x7796, 0xe1e0, 0x8328, 0x6918, 0x9512, 0x1, 0x0);
        gbc.writeMem(0x9313, { 0xe6, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x12);
        EXPECT(gbc.sp(), 0x7796);
        EXPECT(gbc.pc(), 0x9315);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9313), 0xe6);
        EXPECT(gbc.readMem(0x9314), 0x3b);
        // E6 016A
        gbc.setState(0x5ea7, 0x9e8b, 0x46c0, 0x27d2, 0x2b41, 0xbaf9, 0x0, 0x0);
        gbc.writeMem(0x5ea7, { 0xe6, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x27);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x9e8b);
        EXPECT(gbc.pc(), 0x5ea9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 016B
        gbc.setState(0x7be7, 0x485d, 0x6210, 0x6fc, 0xc24f, 0xc6f6, 0x0, 0x0);
        gbc.writeMem(0x7be7, { 0xe6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x485d);
        EXPECT(gbc.pc(), 0x7be9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 016C
        gbc.setState(0xc7d2, 0x16ce, 0xbde0, 0x33c7, 0x8254, 0xbe88, 0x0, 0x1);
        gbc.writeMem(0xc7d2, { 0xe6, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x88);
        EXPECT(gbc.sp(), 0x16ce);
        EXPECT(gbc.pc(), 0xc7d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc7d2), 0xe6);
        EXPECT(gbc.readMem(0xc7d3), 0xc);
        // E6 016D
        gbc.setState(0xe43e, 0xf042, 0xb4d0, 0xf90d, 0x4ca8, 0x358f, 0x0, 0x1);
        gbc.writeMem(0xe43e, { 0xe6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xf042);
        EXPECT(gbc.pc(), 0xe440);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe43e), 0xe6);
        EXPECT(gbc.readMem(0xe43f), 0x50);
        // E6 016E
        gbc.setState(0x83da, 0xf408, 0x9320, 0xbb37, 0x4ceb, 0xd045, 0x0, 0x0);
        gbc.writeMem(0x83da, { 0xe6, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xf408);
        EXPECT(gbc.pc(), 0x83dc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83da), 0xe6);
        EXPECT(gbc.readMem(0x83db), 0x3c);
        // E6 016F
        gbc.setState(0xef20, 0xd537, 0xed80, 0x8628, 0xbc0, 0xfb03, 0x1, 0x1);
        gbc.writeMem(0xef20, { 0xe6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x28);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xd537);
        EXPECT(gbc.pc(), 0xef22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef20), 0xe6);
        EXPECT(gbc.readMem(0xef21), 0xca);
        // E6 0170
        gbc.setState(0x555c, 0xfcb0, 0x1dc0, 0xb680, 0xa114, 0xbe23, 0x1, 0x0);
        gbc.writeMem(0x555c, { 0xe6, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xfcb0);
        EXPECT(gbc.pc(), 0x555e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0171
        gbc.setState(0xae64, 0x88c6, 0x2c0, 0xe254, 0xf5c3, 0xc119, 0x1, 0x1);
        gbc.writeMem(0xae64, { 0xe6, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xc3);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x88c6);
        EXPECT(gbc.pc(), 0xae66);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae64), 0xe6);
        EXPECT(gbc.readMem(0xae65), 0xc8);
        // E6 0172
        gbc.setState(0xa5b6, 0x9735, 0x7940, 0x30c, 0xb23e, 0x2ee8, 0x0, 0x0);
        gbc.writeMem(0xa5b6, { 0xe6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x9735);
        EXPECT(gbc.pc(), 0xa5b8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5b6), 0xe6);
        EXPECT(gbc.readMem(0xa5b7), 0x28);
        // E6 0173
        gbc.setState(0xa5c8, 0xcf0a, 0x1310, 0x47ef, 0x6b1, 0x15e9, 0x1, 0x0);
        gbc.writeMem(0xa5c8, { 0xe6, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0xcf0a);
        EXPECT(gbc.pc(), 0xa5ca);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa5c8), 0xe6);
        EXPECT(gbc.readMem(0xa5c9), 0x7c);
        // E6 0174
        gbc.setState(0x6192, 0xb3c1, 0xf9c0, 0x9f54, 0xb446, 0x2f77, 0x1, 0x0);
        gbc.writeMem(0x6192, { 0xe6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x2f);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xb3c1);
        EXPECT(gbc.pc(), 0x6194);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0175
        gbc.setState(0x4837, 0x8d60, 0xad10, 0xb397, 0x33e0, 0xcb37, 0x0, 0x0);
        gbc.writeMem(0x4837, { 0xe6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xb3);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0x8d60);
        EXPECT(gbc.pc(), 0x4839);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0176
        gbc.setState(0x19a4, 0xecd0, 0xc430, 0x7fc7, 0x9550, 0xc7e, 0x0, 0x1);
        gbc.writeMem(0x19a4, { 0xe6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xecd0);
        EXPECT(gbc.pc(), 0x19a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0177
        gbc.setState(0x1789, 0x3, 0x8510, 0x4189, 0xe18b, 0xa131, 0x1, 0x0);
        gbc.writeMem(0x1789, { 0xe6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x3);
        EXPECT(gbc.pc(), 0x178b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0178
        gbc.setState(0x8191, 0x30ac, 0xe270, 0xbf20, 0x3273, 0xbfbd, 0x1, 0x0);
        gbc.writeMem(0x8191, { 0xe6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x30ac);
        EXPECT(gbc.pc(), 0x8193);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8191), 0xe6);
        EXPECT(gbc.readMem(0x8192), 0x36);
        // E6 0179
        gbc.setState(0xd519, 0x7bfd, 0xea50, 0x81f7, 0x3c7d, 0x2142, 0x0, 0x0);
        gbc.writeMem(0xd519, { 0xe6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x7bfd);
        EXPECT(gbc.pc(), 0xd51b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd519), 0xe6);
        EXPECT(gbc.readMem(0xd51a), 0xb9);
        // E6 017B
        gbc.setState(0x53a8, 0x65f4, 0x7b10, 0x3525, 0xfaca, 0x25d2, 0x0, 0x0);
        gbc.writeMem(0x53a8, { 0xe6, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x68);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0x65f4);
        EXPECT(gbc.pc(), 0x53aa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 017C
        gbc.setState(0x4d89, 0xb1fd, 0xfff0, 0x4a86, 0x2599, 0x1bbb, 0x0, 0x0);
        gbc.writeMem(0x4d89, { 0xe6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xb1fd);
        EXPECT(gbc.pc(), 0x4d8b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 017D
        gbc.setState(0x64a7, 0xf7e9, 0xdd90, 0x6f61, 0xc3c6, 0x687d, 0x0, 0x0);
        gbc.writeMem(0x64a7, { 0xe6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x61);
        EXPECT(gbc.d(),  0xc3);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xf7e9);
        EXPECT(gbc.pc(), 0x64a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 017E
        gbc.setState(0x5867, 0x2489, 0x8de0, 0xd09c, 0x38e6, 0x2d4e, 0x0, 0x0);
        gbc.writeMem(0x5867, { 0xe6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x2489);
        EXPECT(gbc.pc(), 0x5869);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0180
        gbc.setState(0x82eb, 0x136, 0xbd70, 0x1b0a, 0xe29c, 0xaaf2, 0x1, 0x0);
        gbc.writeMem(0x82eb, { 0xe6, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x29);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xf2);
        EXPECT(gbc.sp(), 0x136);
        EXPECT(gbc.pc(), 0x82ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82eb), 0xe6);
        EXPECT(gbc.readMem(0x82ec), 0x69);
        // E6 0181
        gbc.setState(0x53bd, 0xf087, 0x6280, 0xa06e, 0x7515, 0x55d4, 0x0, 0x0);
        gbc.writeMem(0x53bd, { 0xe6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0xf087);
        EXPECT(gbc.pc(), 0x53bf);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0182
        gbc.setState(0x2c2b, 0x401b, 0xbae0, 0x10a1, 0xae13, 0x615b, 0x1, 0x1);
        gbc.writeMem(0x2c2b, { 0xe6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x401b);
        EXPECT(gbc.pc(), 0x2c2d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0183
        gbc.setState(0xc8e2, 0xfee1, 0xf7c0, 0x2fd8, 0x7261, 0x48a9, 0x0, 0x0);
        gbc.writeMem(0xc8e2, { 0xe6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0xa7);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0xd8);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xfee1);
        EXPECT(gbc.pc(), 0xc8e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc8e2), 0xe6);
        EXPECT(gbc.readMem(0xc8e3), 0xaf);
        // E6 0184
        gbc.setState(0xbb55, 0xdb2c, 0xa450, 0x3269, 0xc9ea, 0xbc19, 0x1, 0x1);
        gbc.writeMem(0xbb55, { 0xe6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x69);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0xbc);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0xdb2c);
        EXPECT(gbc.pc(), 0xbb57);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb55), 0xe6);
        EXPECT(gbc.readMem(0xbb56), 0xf6);
        // E6 0185
        gbc.setState(0x70f3, 0x9686, 0x3c0, 0xae7c, 0x838a, 0x1cc1, 0x1, 0x1);
        gbc.writeMem(0x70f3, { 0xe6, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x9686);
        EXPECT(gbc.pc(), 0x70f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0186
        gbc.setState(0xaf08, 0xef4, 0x3550, 0x8899, 0xf988, 0x957b, 0x1, 0x1);
        gbc.writeMem(0xaf08, { 0xe6, 0xe9 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x88);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0xf9);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0xef4);
        EXPECT(gbc.pc(), 0xaf0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf08), 0xe6);
        EXPECT(gbc.readMem(0xaf09), 0xe9);
        // E6 0187
        gbc.setState(0xbf27, 0xef1f, 0x6880, 0x398, 0xc73e, 0x24b, 0x1, 0x1);
        gbc.writeMem(0xbf27, { 0xe6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xef1f);
        EXPECT(gbc.pc(), 0xbf29);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf27), 0xe6);
        EXPECT(gbc.readMem(0xbf28), 0x13);
        // E6 0188
        gbc.setState(0x4eec, 0xa0ad, 0xf450, 0x1ede, 0xc85c, 0xb22d, 0x1, 0x0);
        gbc.writeMem(0x4eec, { 0xe6, 0xa4 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xa0ad);
        EXPECT(gbc.pc(), 0x4eee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0189
        gbc.setState(0x273, 0xe966, 0xd530, 0xafb3, 0xd1da, 0xeaaf, 0x0, 0x1);
        gbc.writeMem(0x273, { 0xe6, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0xe966);
        EXPECT(gbc.pc(), 0x275);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 018A
        gbc.setState(0x3573, 0x864a, 0x6b00, 0x8384, 0x798c, 0x42, 0x1, 0x0);
        gbc.writeMem(0x3573, { 0xe6, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x864a);
        EXPECT(gbc.pc(), 0x3575);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 018B
        gbc.setState(0x4ddf, 0xfabe, 0x2c00, 0x8c1e, 0x8616, 0x14ac, 0x1, 0x0);
        gbc.writeMem(0x4ddf, { 0xe6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xfabe);
        EXPECT(gbc.pc(), 0x4de1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 018C
        gbc.setState(0x1f29, 0xd434, 0x5c60, 0x7b07, 0x2496, 0x7bbc, 0x0, 0x0);
        gbc.writeMem(0x1f29, { 0xe6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0x96);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xd434);
        EXPECT(gbc.pc(), 0x1f2b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 018E
        gbc.setState(0x471d, 0x9f3d, 0x2ce0, 0x8417, 0xf703, 0x9f60, 0x0, 0x0);
        gbc.writeMem(0x471d, { 0xe6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x60);
        EXPECT(gbc.sp(), 0x9f3d);
        EXPECT(gbc.pc(), 0x471f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 018F
        gbc.setState(0x79bb, 0x1239, 0xaf10, 0x875e, 0x8b5b, 0xf263, 0x0, 0x0);
        gbc.writeMem(0x79bb, { 0xe6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x8b);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x1239);
        EXPECT(gbc.pc(), 0x79bd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0190
        gbc.setState(0x102c, 0x4ddc, 0x8980, 0x9f12, 0x2cac, 0x929a, 0x1, 0x0);
        gbc.writeMem(0x102c, { 0xe6, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xac);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x4ddc);
        EXPECT(gbc.pc(), 0x102e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0191
        gbc.setState(0x8080, 0x3ba2, 0x4c30, 0xf2ab, 0xa24a, 0x5424, 0x1, 0x0);
        gbc.writeMem(0x8080, { 0xe6, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0x3ba2);
        EXPECT(gbc.pc(), 0x8082);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8080), 0xe6);
        EXPECT(gbc.readMem(0x8081), 0x23);
        // E6 0192
        gbc.setState(0xd860, 0xafe1, 0x2260, 0xc1b5, 0x5ade, 0x6c45, 0x1, 0x0);
        gbc.writeMem(0xd860, { 0xe6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x6c);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xafe1);
        EXPECT(gbc.pc(), 0xd862);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd860), 0xe6);
        EXPECT(gbc.readMem(0xd861), 0x6b);
        // E6 0193
        gbc.setState(0x2054, 0xcf7e, 0x88f0, 0xbc80, 0x151, 0xbdbb, 0x1, 0x1);
        gbc.writeMem(0x2054, { 0xe6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xcf7e);
        EXPECT(gbc.pc(), 0x2056);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0194
        gbc.setState(0x2410, 0xb936, 0xbdd0, 0xb8, 0x42b2, 0xa0b5, 0x1, 0x1);
        gbc.writeMem(0x2410, { 0xe6, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xb936);
        EXPECT(gbc.pc(), 0x2412);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0195
        gbc.setState(0x8e4a, 0x4cb, 0xdfb0, 0xb67c, 0xca16, 0xec8e, 0x1, 0x0);
        gbc.writeMem(0x8e4a, { 0xe6, 0xf });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0x16);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x4cb);
        EXPECT(gbc.pc(), 0x8e4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e4a), 0xe6);
        EXPECT(gbc.readMem(0x8e4b), 0xf);
        // E6 0196
        gbc.setState(0xac13, 0xb294, 0x9da0, 0xcf4b, 0x264c, 0x1bbe, 0x1, 0x0);
        gbc.writeMem(0xac13, { 0xe6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xcf);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0xb294);
        EXPECT(gbc.pc(), 0xac15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac13), 0xe6);
        EXPECT(gbc.readMem(0xac14), 0x16);
        // E6 0197
        gbc.setState(0xa492, 0x353e, 0xe910, 0xcc11, 0x78b9, 0xfa3c, 0x0, 0x1);
        gbc.writeMem(0xa492, { 0xe6, 0x31 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x353e);
        EXPECT(gbc.pc(), 0xa494);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa492), 0xe6);
        EXPECT(gbc.readMem(0xa493), 0x31);
        // E6 0198
        gbc.setState(0xabb4, 0x1301, 0x1c50, 0xac0d, 0x69cc, 0xf790, 0x1, 0x0);
        gbc.writeMem(0xabb4, { 0xe6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x1301);
        EXPECT(gbc.pc(), 0xabb6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xabb4), 0xe6);
        EXPECT(gbc.readMem(0xabb5), 0xce);
        // E6 0199
        gbc.setState(0x8dce, 0x8b05, 0x9fb0, 0xf986, 0x92a2, 0x9aec, 0x1, 0x0);
        gbc.writeMem(0x8dce, { 0xe6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x8b05);
        EXPECT(gbc.pc(), 0x8dd0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8dce), 0xe6);
        EXPECT(gbc.readMem(0x8dcf), 0x64);
        // E6 019A
        gbc.setState(0x2a31, 0x14c1, 0x6260, 0xff01, 0x5603, 0xcca6, 0x0, 0x0);
        gbc.writeMem(0x2a31, { 0xe6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x14c1);
        EXPECT(gbc.pc(), 0x2a33);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 019B
        gbc.setState(0x4c26, 0xb51f, 0xf4e0, 0x2d47, 0x9543, 0x5136, 0x1, 0x1);
        gbc.writeMem(0x4c26, { 0xe6, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x95);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xb51f);
        EXPECT(gbc.pc(), 0x4c28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 019C
        gbc.setState(0xe1f9, 0x54d7, 0x15e0, 0x66bd, 0xaa45, 0x4d5d, 0x0, 0x1);
        gbc.writeMem(0xe1f9, { 0xe6, 0xa6 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x54d7);
        EXPECT(gbc.pc(), 0xe1fb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1f9), 0xe6);
        EXPECT(gbc.readMem(0xe1fa), 0xa6);
        // E6 019D
        gbc.setState(0x3190, 0x9467, 0x9890, 0x32d1, 0xe55b, 0x692d, 0x0, 0x1);
        gbc.writeMem(0x3190, { 0xe6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x9467);
        EXPECT(gbc.pc(), 0x3192);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 019E
        gbc.setState(0x8d54, 0x3d07, 0xe50, 0xfa94, 0xc473, 0x861a, 0x1, 0x1);
        gbc.writeMem(0x8d54, { 0xe6, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x94);
        EXPECT(gbc.d(),  0xc4);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x3d07);
        EXPECT(gbc.pc(), 0x8d56);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d54), 0xe6);
        EXPECT(gbc.readMem(0x8d55), 0x2b);
        // E6 019F
        gbc.setState(0x3bed, 0xe40a, 0x6340, 0xddc3, 0x5094, 0xf5b, 0x1, 0x1);
        gbc.writeMem(0x3bed, { 0xe6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0xdd);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xe40a);
        EXPECT(gbc.pc(), 0x3bef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01A1
        gbc.setState(0x4892, 0x2a47, 0x8540, 0x886, 0x97e0, 0xcff9, 0x0, 0x1);
        gbc.writeMem(0x4892, { 0xe6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0x2a47);
        EXPECT(gbc.pc(), 0x4894);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01A2
        gbc.setState(0x5672, 0x8ae0, 0x2c90, 0x22b7, 0xf854, 0x5131, 0x1, 0x1);
        gbc.writeMem(0x5672, { 0xe6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x8ae0);
        EXPECT(gbc.pc(), 0x5674);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01A3
        gbc.setState(0x1d0c, 0x40e4, 0xa780, 0x8bf0, 0x881, 0x4756, 0x1, 0x1);
        gbc.writeMem(0x1d0c, { 0xe6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x83);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x40e4);
        EXPECT(gbc.pc(), 0x1d0e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01A4
        gbc.setState(0x6a05, 0x3902, 0x7020, 0x8992, 0x7032, 0x711b, 0x0, 0x0);
        gbc.writeMem(0x6a05, { 0xe6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x32);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x1b);
        EXPECT(gbc.sp(), 0x3902);
        EXPECT(gbc.pc(), 0x6a07);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01A5
        gbc.setState(0x8fcf, 0xe2cb, 0xa4a0, 0x9f44, 0x13af, 0x39c0, 0x0, 0x1);
        gbc.writeMem(0x8fcf, { 0xe6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x39);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xe2cb);
        EXPECT(gbc.pc(), 0x8fd1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8fcf), 0xe6);
        EXPECT(gbc.readMem(0x8fd0), 0x8c);
        // E6 01A6
        gbc.setState(0xbab4, 0x6215, 0xbf30, 0xf1ba, 0xa99, 0x749c, 0x1, 0x1);
        gbc.writeMem(0xbab4, { 0xe6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xa);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x6215);
        EXPECT(gbc.pc(), 0xbab6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbab4), 0xe6);
        EXPECT(gbc.readMem(0xbab5), 0xc1);
        // E6 01A7
        gbc.setState(0x22a0, 0x991e, 0x3680, 0xf942, 0xd5a8, 0xae64, 0x0, 0x1);
        gbc.writeMem(0x22a0, { 0xe6, 0x74 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x991e);
        EXPECT(gbc.pc(), 0x22a2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01A8
        gbc.setState(0x4f5b, 0xf1b0, 0xacf0, 0xa5bd, 0x5afc, 0x8696, 0x0, 0x0);
        gbc.writeMem(0x4f5b, { 0xe6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xfc);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xf1b0);
        EXPECT(gbc.pc(), 0x4f5d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01A9
        gbc.setState(0xa7df, 0x2467, 0x94d0, 0x212a, 0x6b8d, 0x1527, 0x1, 0x0);
        gbc.writeMem(0xa7df, { 0xe6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x6b);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0x2467);
        EXPECT(gbc.pc(), 0xa7e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7df), 0xe6);
        EXPECT(gbc.readMem(0xa7e0), 0xce);
        // E6 01AA
        gbc.setState(0x8893, 0xd8b9, 0xfde0, 0xda8d, 0xf1ae, 0x7698, 0x0, 0x1);
        gbc.writeMem(0x8893, { 0xe6, 0x61 });
        gbc.step();
        EXPECT(gbc.a(),  0x61);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xd8b9);
        EXPECT(gbc.pc(), 0x8895);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8893), 0xe6);
        EXPECT(gbc.readMem(0x8894), 0x61);
        // E6 01AB
        gbc.setState(0x5946, 0xe460, 0x6440, 0xafb7, 0xb1c1, 0x5537, 0x1, 0x1);
        gbc.writeMem(0x5946, { 0xe6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x37);
        EXPECT(gbc.sp(), 0xe460);
        EXPECT(gbc.pc(), 0x5948);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01AC
        gbc.setState(0xa, 0x176c, 0x9ae0, 0x876c, 0x4c93, 0xd85d, 0x0, 0x0);
        gbc.writeMem(0xa, { 0xe6, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x4c);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x176c);
        EXPECT(gbc.pc(), 0xc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01AD
        gbc.setState(0x3e8e, 0xefbc, 0x11c0, 0xd7e5, 0xc7d4, 0x5a53, 0x1, 0x0);
        gbc.writeMem(0x3e8e, { 0xe6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xefbc);
        EXPECT(gbc.pc(), 0x3e90);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01AE
        gbc.setState(0xab7d, 0x1b24, 0x7400, 0x2435, 0x7394, 0x79b7, 0x1, 0x0);
        gbc.writeMem(0xab7d, { 0xe6, 0xe0 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xb7);
        EXPECT(gbc.sp(), 0x1b24);
        EXPECT(gbc.pc(), 0xab7f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab7d), 0xe6);
        EXPECT(gbc.readMem(0xab7e), 0xe0);
        // E6 01AF
        gbc.setState(0x3b18, 0x6f0c, 0x42c0, 0xd0f3, 0x4ab0, 0x353c, 0x0, 0x1);
        gbc.writeMem(0x3b18, { 0xe6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x6f0c);
        EXPECT(gbc.pc(), 0x3b1a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01B0
        gbc.setState(0x7deb, 0x3512, 0x4e50, 0x6ee3, 0xce65, 0x1d3f, 0x1, 0x1);
        gbc.writeMem(0x7deb, { 0xe6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xce);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x3512);
        EXPECT(gbc.pc(), 0x7ded);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01B1
        gbc.setState(0xcb33, 0xb972, 0x50e0, 0x3af1, 0x78e9, 0xd753, 0x1, 0x0);
        gbc.writeMem(0xcb33, { 0xe6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0xb972);
        EXPECT(gbc.pc(), 0xcb35);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb33), 0xe6);
        EXPECT(gbc.readMem(0xcb34), 0x51);
        // E6 01B2
        gbc.setState(0x97ee, 0xb6a7, 0xa9c0, 0x3cb8, 0xd70c, 0x13b6, 0x1, 0x1);
        gbc.writeMem(0x97ee, { 0xe6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xb8);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0xb6);
        EXPECT(gbc.sp(), 0xb6a7);
        EXPECT(gbc.pc(), 0x97f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97ee), 0xe6);
        EXPECT(gbc.readMem(0x97ef), 0x8);
        // E6 01B3
        gbc.setState(0xbe2e, 0xae42, 0xc890, 0xd25a, 0xf628, 0x6f7d, 0x1, 0x0);
        gbc.writeMem(0xbe2e, { 0xe6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xae42);
        EXPECT(gbc.pc(), 0xbe30);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe2e), 0xe6);
        EXPECT(gbc.readMem(0xbe2f), 0x75);
        // E6 01B4
        gbc.setState(0x454a, 0x7a7a, 0x99a0, 0xc244, 0x4b5c, 0x7113, 0x0, 0x0);
        gbc.writeMem(0x454a, { 0xe6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x4b);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x7a7a);
        EXPECT(gbc.pc(), 0x454c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01B5
        gbc.setState(0x9621, 0x8e70, 0x9a60, 0x5dd3, 0xb9aa, 0x2332, 0x1, 0x1);
        gbc.writeMem(0x9621, { 0xe6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x8e70);
        EXPECT(gbc.pc(), 0x9623);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9621), 0xe6);
        EXPECT(gbc.readMem(0x9622), 0xd4);
        // E6 01B6
        gbc.setState(0x4e36, 0xd18c, 0xb0b0, 0xeb1e, 0x334, 0x7517, 0x0, 0x0);
        gbc.writeMem(0x4e36, { 0xe6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x75);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0xd18c);
        EXPECT(gbc.pc(), 0x4e38);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01B7
        gbc.setState(0x9d6d, 0x360d, 0x3720, 0xd340, 0x2952, 0xe14b, 0x0, 0x0);
        gbc.writeMem(0x9d6d, { 0xe6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x360d);
        EXPECT(gbc.pc(), 0x9d6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d6d), 0xe6);
        EXPECT(gbc.readMem(0x9d6e), 0x21);
        // E6 01B8
        gbc.setState(0xa13b, 0x2f81, 0x5200, 0x70ee, 0xa5c4, 0x3dd3, 0x1, 0x0);
        gbc.writeMem(0xa13b, { 0xe6, 0x10 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xa5);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x2f81);
        EXPECT(gbc.pc(), 0xa13d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa13b), 0xe6);
        EXPECT(gbc.readMem(0xa13c), 0x10);
        // E6 01B9
        gbc.setState(0xbe4a, 0x68ec, 0xdc90, 0x2643, 0xa037, 0xd521, 0x1, 0x1);
        gbc.writeMem(0xbe4a, { 0xe6, 0xfa });
        gbc.step();
        EXPECT(gbc.a(),  0xd8);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x68ec);
        EXPECT(gbc.pc(), 0xbe4c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbe4a), 0xe6);
        EXPECT(gbc.readMem(0xbe4b), 0xfa);
        // E6 01BA
        gbc.setState(0x2883, 0x67a1, 0x13e0, 0x51c8, 0x8537, 0xc075, 0x1, 0x0);
        gbc.writeMem(0x2883, { 0xe6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x75);
        EXPECT(gbc.sp(), 0x67a1);
        EXPECT(gbc.pc(), 0x2885);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01BB
        gbc.setState(0xb0e0, 0x56fe, 0xefc0, 0x23ec, 0xc63e, 0x807b, 0x1, 0x0);
        gbc.writeMem(0xb0e0, { 0xe6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x3e);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x7b);
        EXPECT(gbc.sp(), 0x56fe);
        EXPECT(gbc.pc(), 0xb0e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb0e0), 0xe6);
        EXPECT(gbc.readMem(0xb0e1), 0x30);
        // E6 01BC
        gbc.setState(0x64, 0xdf04, 0xcf90, 0xd5d0, 0xe2a6, 0xfaa, 0x0, 0x0);
        gbc.writeMem(0x64, { 0xe6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0xf);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xdf04);
        EXPECT(gbc.pc(), 0x66);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01BE
        gbc.setState(0xc511, 0x763d, 0x5880, 0xa63f, 0x1576, 0xbd4, 0x0, 0x1);
        gbc.writeMem(0xc511, { 0xe6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x3f);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x763d);
        EXPECT(gbc.pc(), 0xc513);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc511), 0xe6);
        EXPECT(gbc.readMem(0xc512), 0x4d);
        // E6 01BF
        gbc.setState(0x443, 0x89f1, 0xe0b0, 0x1cde, 0xc69d, 0x53af, 0x0, 0x0);
        gbc.writeMem(0x443, { 0xe6, 0xc1 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0xaf);
        EXPECT(gbc.sp(), 0x89f1);
        EXPECT(gbc.pc(), 0x445);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01C0
        gbc.setState(0xa4c0, 0xe04b, 0x6570, 0x28e9, 0xba81, 0xf387, 0x0, 0x0);
        gbc.writeMem(0xa4c0, { 0xe6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xe04b);
        EXPECT(gbc.pc(), 0xa4c2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4c0), 0xe6);
        EXPECT(gbc.readMem(0xa4c1), 0x30);
        // E6 01C1
        gbc.setState(0x4c23, 0xd8d, 0x6e30, 0xd601, 0x2bd3, 0x983c, 0x0, 0x0);
        gbc.writeMem(0x4c23, { 0xe6, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xd8d);
        EXPECT(gbc.pc(), 0x4c25);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01C2
        gbc.setState(0x95dc, 0x5cd0, 0x2aa0, 0x64ec, 0x500c, 0xc2e3, 0x1, 0x1);
        gbc.writeMem(0x95dc, { 0xe6, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x5cd0);
        EXPECT(gbc.pc(), 0x95de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x95dc), 0xe6);
        EXPECT(gbc.readMem(0x95dd), 0x3e);
        // E6 01C3
        gbc.setState(0xdbae, 0x33c, 0x4460, 0x72bc, 0x12e2, 0x2480, 0x0, 0x1);
        gbc.writeMem(0xdbae, { 0xe6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x80);
        EXPECT(gbc.sp(), 0x33c);
        EXPECT(gbc.pc(), 0xdbb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbae), 0xe6);
        EXPECT(gbc.readMem(0xdbaf), 0x94);
        // E6 01C4
        gbc.setState(0x5490, 0x1775, 0x6bb0, 0xd67b, 0x749d, 0xa1c8, 0x0, 0x0);
        gbc.writeMem(0x5490, { 0xe6, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x1775);
        EXPECT(gbc.pc(), 0x5492);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01C5
        gbc.setState(0x9956, 0xc77d, 0x6d0, 0x159a, 0x6025, 0x5d51, 0x0, 0x1);
        gbc.writeMem(0x9956, { 0xe6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x15);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0xc77d);
        EXPECT(gbc.pc(), 0x9958);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9956), 0xe6);
        EXPECT(gbc.readMem(0x9957), 0x33);
        // E6 01C6
        gbc.setState(0xc160, 0x5828, 0x4850, 0x7d2f, 0xdf4c, 0xc53f, 0x0, 0x1);
        gbc.writeMem(0xc160, { 0xe6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x2f);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x3f);
        EXPECT(gbc.sp(), 0x5828);
        EXPECT(gbc.pc(), 0xc162);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc160), 0xe6);
        EXPECT(gbc.readMem(0xc161), 0x8b);
        // E6 01C7
        gbc.setState(0x16ca, 0x3a7b, 0xbaf0, 0x6fc1, 0x7c7, 0x1776, 0x1, 0x0);
        gbc.writeMem(0x16ca, { 0xe6, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x3a7b);
        EXPECT(gbc.pc(), 0x16cc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01C8
        gbc.setState(0xe347, 0xa890, 0x34d0, 0xb6a6, 0x70b0, 0x7890, 0x1, 0x0);
        gbc.writeMem(0xe347, { 0xe6, 0xc0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0xa890);
        EXPECT(gbc.pc(), 0xe349);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe347), 0xe6);
        EXPECT(gbc.readMem(0xe348), 0xc0);
        // E6 01C9
        gbc.setState(0x862e, 0x7a64, 0x9300, 0xe73c, 0xae19, 0xd3d9, 0x0, 0x1);
        gbc.writeMem(0x862e, { 0xe6, 0x7d });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x7a64);
        EXPECT(gbc.pc(), 0x8630);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x862e), 0xe6);
        EXPECT(gbc.readMem(0x862f), 0x7d);
        // E6 01CA
        gbc.setState(0x5f43, 0x3c83, 0x5970, 0x3cb6, 0x8fb3, 0x1b08, 0x0, 0x1);
        gbc.writeMem(0x5f43, { 0xe6, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x3c);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x3c83);
        EXPECT(gbc.pc(), 0x5f45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01CB
        gbc.setState(0x135f, 0x97f4, 0x77d0, 0x864b, 0xe1c, 0x3672, 0x1, 0x1);
        gbc.writeMem(0x135f, { 0xe6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x74);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x36);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x97f4);
        EXPECT(gbc.pc(), 0x1361);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01CC
        gbc.setState(0x9452, 0xd20f, 0x7050, 0x70b4, 0x43d3, 0x19c1, 0x1, 0x0);
        gbc.writeMem(0x9452, { 0xe6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0xb4);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0xd20f);
        EXPECT(gbc.pc(), 0x9454);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9452), 0xe6);
        EXPECT(gbc.readMem(0x9453), 0x2a);
        // E6 01CD
        gbc.setState(0x4453, 0xffc7, 0x750, 0xb088, 0xeb6c, 0x85b9, 0x1, 0x1);
        gbc.writeMem(0x4453, { 0xe6, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xb0);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xffc7);
        EXPECT(gbc.pc(), 0x4455);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01CE
        gbc.setState(0xa21f, 0x32c9, 0x6d70, 0x1297, 0x18c4, 0xab49, 0x1, 0x0);
        gbc.writeMem(0xa21f, { 0xe6, 0x45 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x32c9);
        EXPECT(gbc.pc(), 0xa221);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa21f), 0xe6);
        EXPECT(gbc.readMem(0xa220), 0x45);
        // E6 01CF
        gbc.setState(0x7920, 0x672f, 0x9520, 0xe6b5, 0xf4bc, 0xbb68, 0x1, 0x0);
        gbc.writeMem(0x7920, { 0xe6, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0xb5);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x672f);
        EXPECT(gbc.pc(), 0x7922);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01D0
        gbc.setState(0x3bbc, 0xee12, 0xc830, 0x2ed9, 0xebed, 0xe3d3, 0x0, 0x1);
        gbc.writeMem(0x3bbc, { 0xe6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xee12);
        EXPECT(gbc.pc(), 0x3bbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01D1
        gbc.setState(0x3573, 0x8312, 0x93d0, 0x1c4a, 0x7b62, 0xd6cc, 0x0, 0x0);
        gbc.writeMem(0x3573, { 0xe6, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x8312);
        EXPECT(gbc.pc(), 0x3575);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01D2
        gbc.setState(0x8f12, 0x86c1, 0x7100, 0x1fc8, 0x6f7d, 0x317a, 0x1, 0x0);
        gbc.writeMem(0x8f12, { 0xe6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x7d);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x86c1);
        EXPECT(gbc.pc(), 0x8f14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f12), 0xe6);
        EXPECT(gbc.readMem(0x8f13), 0x30);
        // E6 01D3
        gbc.setState(0xbed8, 0x5ad2, 0xc780, 0xe17f, 0x439, 0xcaf6, 0x0, 0x0);
        gbc.writeMem(0xbed8, { 0xe6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x5ad2);
        EXPECT(gbc.pc(), 0xbeda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbed8), 0xe6);
        EXPECT(gbc.readMem(0xbed9), 0x99);
        // E6 01D4
        gbc.setState(0xd9b2, 0x848b, 0xf1b0, 0x3491, 0xc1d6, 0xc300, 0x0, 0x1);
        gbc.writeMem(0xd9b2, { 0xe6, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xc1);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0x0);
        EXPECT(gbc.sp(), 0x848b);
        EXPECT(gbc.pc(), 0xd9b4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd9b2), 0xe6);
        EXPECT(gbc.readMem(0xd9b3), 0xee);
        // E6 01D5
        gbc.setState(0x9842, 0x101f, 0xc790, 0xa46b, 0xc23b, 0x7e, 0x0, 0x0);
        gbc.writeMem(0x9842, { 0xe6, 0xaa });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x3b);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x101f);
        EXPECT(gbc.pc(), 0x9844);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9842), 0xe6);
        EXPECT(gbc.readMem(0x9843), 0xaa);
        // E6 01D6
        gbc.setState(0xe08d, 0x1c99, 0xfd90, 0x7802, 0x8f57, 0xf031, 0x1, 0x1);
        gbc.writeMem(0xe08d, { 0xe6, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0xb5);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xf0);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0x1c99);
        EXPECT(gbc.pc(), 0xe08f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe08d), 0xe6);
        EXPECT(gbc.readMem(0xe08e), 0xb7);
        // E6 01D7
        gbc.setState(0x196d, 0x1007, 0x7580, 0xd580, 0x2214, 0x8d7e, 0x0, 0x0);
        gbc.writeMem(0x196d, { 0xe6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0xd5);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x1007);
        EXPECT(gbc.pc(), 0x196f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01D8
        gbc.setState(0xa76a, 0x18c6, 0x6070, 0xff30, 0x61e9, 0x9535, 0x0, 0x0);
        gbc.writeMem(0xa76a, { 0xe6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x18c6);
        EXPECT(gbc.pc(), 0xa76c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa76a), 0xe6);
        EXPECT(gbc.readMem(0xa76b), 0x88);
        // E6 01D9
        gbc.setState(0xcd20, 0x54b1, 0x4340, 0xca78, 0x63f4, 0x5f89, 0x1, 0x0);
        gbc.writeMem(0xcd20, { 0xe6, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x5f);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0x54b1);
        EXPECT(gbc.pc(), 0xcd22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcd20), 0xe6);
        EXPECT(gbc.readMem(0xcd21), 0xb6);
        // E6 01DA
        gbc.setState(0x7d26, 0x9509, 0x3a10, 0xa109, 0xe2b5, 0xcac4, 0x0, 0x0);
        gbc.writeMem(0x7d26, { 0xe6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xca);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0x9509);
        EXPECT(gbc.pc(), 0x7d28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01DB
        gbc.setState(0x71b7, 0x4282, 0xa970, 0x401b, 0x6c52, 0xabac, 0x0, 0x1);
        gbc.writeMem(0x71b7, { 0xe6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0x4282);
        EXPECT(gbc.pc(), 0x71b9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01DC
        gbc.setState(0xe64e, 0xb4fc, 0x4d30, 0xa7fb, 0xaf0c, 0x7bc2, 0x1, 0x0);
        gbc.writeMem(0xe64e, { 0xe6, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xa7);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0xb4fc);
        EXPECT(gbc.pc(), 0xe650);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe64e), 0xe6);
        EXPECT(gbc.readMem(0xe64f), 0xc8);
        // E6 01DD
        gbc.setState(0x3909, 0xa77c, 0x1c70, 0x2083, 0x7c62, 0x7cab, 0x1, 0x1);
        gbc.writeMem(0x3909, { 0xe6, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x1c);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xa77c);
        EXPECT(gbc.pc(), 0x390b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01DE
        gbc.setState(0x362e, 0xe661, 0xca70, 0xf2a6, 0x644e, 0x6b06, 0x0, 0x0);
        gbc.writeMem(0x362e, { 0xe6, 0x5f });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x6b);
        EXPECT(gbc.l(),  0x6);
        EXPECT(gbc.sp(), 0xe661);
        EXPECT(gbc.pc(), 0x3630);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01DF
        gbc.setState(0xb455, 0xa462, 0xd860, 0xc257, 0x5e4e, 0x2064, 0x1, 0x1);
        gbc.writeMem(0xb455, { 0xe6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x98);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x57);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xa462);
        EXPECT(gbc.pc(), 0xb457);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb455), 0xe6);
        EXPECT(gbc.readMem(0xb456), 0xbb);
        // E6 01E0
        gbc.setState(0xb974, 0x25f9, 0xfad0, 0x29e0, 0x102e, 0x7d97, 0x1, 0x1);
        gbc.writeMem(0xb974, { 0xe6, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x7d);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x25f9);
        EXPECT(gbc.pc(), 0xb976);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb974), 0xe6);
        EXPECT(gbc.readMem(0xb975), 0x1e);
        // E6 01E1
        gbc.setState(0x1ead, 0xf518, 0xc610, 0xf8c7, 0xeabd, 0xe202, 0x1, 0x1);
        gbc.writeMem(0x1ead, { 0xe6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0xf518);
        EXPECT(gbc.pc(), 0x1eaf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01E2
        gbc.setState(0x474b, 0x1a8d, 0x7050, 0x2c4, 0xfa64, 0x61bb, 0x1, 0x1);
        gbc.writeMem(0x474b, { 0xe6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0x1a8d);
        EXPECT(gbc.pc(), 0x474d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01E3
        gbc.setState(0xa1e3, 0x867e, 0x840, 0x7a3c, 0x2161, 0xc68e, 0x0, 0x0);
        gbc.writeMem(0xa1e3, { 0xe6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x7a);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x867e);
        EXPECT(gbc.pc(), 0xa1e5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa1e3), 0xe6);
        EXPECT(gbc.readMem(0xa1e4), 0xb4);
        // E6 01E4
        gbc.setState(0xd41c, 0x180, 0x70, 0xb1ec, 0x5f75, 0x44ba, 0x1, 0x0);
        gbc.writeMem(0xd41c, { 0xe6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xb1);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0xba);
        EXPECT(gbc.sp(), 0x180);
        EXPECT(gbc.pc(), 0xd41e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd41c), 0xe6);
        EXPECT(gbc.readMem(0xd41d), 0xa9);
        // E6 01E5
        gbc.setState(0x653c, 0x85d7, 0x4f30, 0xbc56, 0x8639, 0xf677, 0x0, 0x1);
        gbc.writeMem(0x653c, { 0xe6, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xbc);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0xf6);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0x85d7);
        EXPECT(gbc.pc(), 0x653e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01E6
        gbc.setState(0xed07, 0x66a3, 0xa7d0, 0x8a2b, 0x257c, 0xf383, 0x1, 0x1);
        gbc.writeMem(0xed07, { 0xe6, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0x66a3);
        EXPECT(gbc.pc(), 0xed09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed07), 0xe6);
        EXPECT(gbc.readMem(0xed08), 0x54);
        // E6 01E7
        gbc.setState(0x611a, 0xe3fc, 0xd210, 0x3d90, 0x42b2, 0x45ec, 0x0, 0x0);
        gbc.writeMem(0x611a, { 0xe6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0x90);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xb2);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0xe3fc);
        EXPECT(gbc.pc(), 0x611c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01E8
        gbc.setState(0x82b1, 0xb00d, 0x2540, 0x9c41, 0x560c, 0x94bc, 0x1, 0x1);
        gbc.writeMem(0x82b1, { 0xe6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0x56);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0xb00d);
        EXPECT(gbc.pc(), 0x82b3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82b1), 0xe6);
        EXPECT(gbc.readMem(0x82b2), 0xc5);
        // E6 01E9
        gbc.setState(0xaa4b, 0xe925, 0xd6e0, 0xce3d, 0xa8ae, 0x851c, 0x1, 0x0);
        gbc.writeMem(0xaa4b, { 0xe6, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0xe925);
        EXPECT(gbc.pc(), 0xaa4d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa4b), 0xe6);
        EXPECT(gbc.readMem(0xaa4c), 0x69);
        // E6 01EA
        gbc.setState(0xdf9b, 0x667c, 0x6e50, 0xc693, 0x1345, 0x9a07, 0x1, 0x0);
        gbc.writeMem(0xdf9b, { 0xe6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x9a);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0x667c);
        EXPECT(gbc.pc(), 0xdf9d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf9b), 0xe6);
        EXPECT(gbc.readMem(0xdf9c), 0x81);
        // E6 01ED
        gbc.setState(0x407b, 0xb8a2, 0x7c80, 0xa35f, 0xdd6c, 0x1b56, 0x1, 0x1);
        gbc.writeMem(0x407b, { 0xe6, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x3c);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0xb8a2);
        EXPECT(gbc.pc(), 0x407d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01EE
        gbc.setState(0x6405, 0xcc9b, 0x2af0, 0xf6b1, 0x7470, 0x67c9, 0x0, 0x1);
        gbc.writeMem(0x6405, { 0xe6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf6);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x74);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0xcc9b);
        EXPECT(gbc.pc(), 0x6407);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01EF
        gbc.setState(0xc0a6, 0xad8e, 0x5600, 0x92b2, 0xe30f, 0x64d9, 0x1, 0x1);
        gbc.writeMem(0xc0a6, { 0xe6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xad8e);
        EXPECT(gbc.pc(), 0xc0a8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0a6), 0xe6);
        EXPECT(gbc.readMem(0xc0a7), 0xe3);
        // E6 01F0
        gbc.setState(0xcd3, 0xe4a3, 0x7b50, 0x5ce9, 0x1252, 0x9f67, 0x1, 0x1);
        gbc.writeMem(0xcd3, { 0xe6, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x52);
        EXPECT(gbc.h(),  0x9f);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0xe4a3);
        EXPECT(gbc.pc(), 0xcd5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01F1
        gbc.setState(0x97dc, 0xdf96, 0x6710, 0xb53b, 0x7e9, 0x9297, 0x1, 0x1);
        gbc.writeMem(0x97dc, { 0xe6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xb5);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xdf96);
        EXPECT(gbc.pc(), 0x97de);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97dc), 0xe6);
        EXPECT(gbc.readMem(0x97dd), 0x30);
        // E6 01F2
        gbc.setState(0x11ce, 0x6004, 0x9b90, 0x588e, 0xea4d, 0xcc05, 0x1, 0x1);
        gbc.writeMem(0x11ce, { 0xe6, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x93);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x5);
        EXPECT(gbc.sp(), 0x6004);
        EXPECT(gbc.pc(), 0x11d0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01F3
        gbc.setState(0x12a1, 0x2883, 0xe600, 0x5533, 0xd669, 0x8bee, 0x0, 0x0);
        gbc.writeMem(0x12a1, { 0xe6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd6);
        EXPECT(gbc.e(),  0x69);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x2883);
        EXPECT(gbc.pc(), 0x12a3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01F4
        gbc.setState(0xafd1, 0x747, 0xbf40, 0xfabd, 0x5d05, 0x592d, 0x1, 0x1);
        gbc.writeMem(0xafd1, { 0xe6, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x38);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x747);
        EXPECT(gbc.pc(), 0xafd3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafd1), 0xe6);
        EXPECT(gbc.readMem(0xafd2), 0x78);
        // E6 01F5
        gbc.setState(0x364e, 0x28c1, 0x8ee0, 0xbda2, 0xad73, 0xc53c, 0x0, 0x0);
        gbc.writeMem(0x364e, { 0xe6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x86);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x28c1);
        EXPECT(gbc.pc(), 0x3650);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01F6
        gbc.setState(0x9d99, 0x12d2, 0xd440, 0x39be, 0xcc5f, 0x7349, 0x1, 0x0);
        gbc.writeMem(0x9d99, { 0xe6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0x73);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x12d2);
        EXPECT(gbc.pc(), 0x9d9b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d99), 0xe6);
        EXPECT(gbc.readMem(0x9d9a), 0x8c);
        // E6 01F7
        gbc.setState(0x6274, 0xabc3, 0xe8a0, 0x6525, 0xad94, 0x6d8f, 0x1, 0x0);
        gbc.writeMem(0x6274, { 0xe6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0xe8);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xad);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x8f);
        EXPECT(gbc.sp(), 0xabc3);
        EXPECT(gbc.pc(), 0x6276);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01F8
        gbc.setState(0xc025, 0xce0b, 0x88b0, 0xa051, 0xa02a, 0x4a57, 0x0, 0x1);
        gbc.writeMem(0xc025, { 0xe6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x2a);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x57);
        EXPECT(gbc.sp(), 0xce0b);
        EXPECT(gbc.pc(), 0xc027);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc025), 0xe6);
        EXPECT(gbc.readMem(0xc026), 0x72);
        // E6 01F9
        gbc.setState(0x67c6, 0x8d16, 0xd60, 0xd8f5, 0x3bdc, 0x844e, 0x0, 0x0);
        gbc.writeMem(0x67c6, { 0xe6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x8d16);
        EXPECT(gbc.pc(), 0x67c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01FA
        gbc.setState(0xc69, 0x97f5, 0x88e0, 0xd313, 0x3555, 0x620d, 0x1, 0x0);
        gbc.writeMem(0xc69, { 0xe6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x35);
        EXPECT(gbc.e(),  0x55);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x97f5);
        EXPECT(gbc.pc(), 0xc6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01FB
        gbc.setState(0xd7a8, 0x98aa, 0x2260, 0x3785, 0xbedf, 0x63c2, 0x1, 0x1);
        gbc.writeMem(0xd7a8, { 0xe6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x37);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xc2);
        EXPECT(gbc.sp(), 0x98aa);
        EXPECT(gbc.pc(), 0xd7aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd7a8), 0xe6);
        EXPECT(gbc.readMem(0xd7a9), 0xc2);
        // E6 01FC
        gbc.setState(0x99b9, 0x2575, 0xd490, 0xc8d2, 0xbf8c, 0x42f3, 0x0, 0x1);
        gbc.writeMem(0x99b9, { 0xe6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0x42);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x2575);
        EXPECT(gbc.pc(), 0x99bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99b9), 0xe6);
        EXPECT(gbc.readMem(0x99ba), 0xf0);
        // E6 01FD
        gbc.setState(0x2ff, 0x3887, 0x2000, 0xabd1, 0x30ad, 0xb45, 0x1, 0x1);
        gbc.writeMem(0x2ff, { 0xe6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x3887);
        EXPECT(gbc.pc(), 0x301);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01FE
        gbc.setState(0x2c75, 0x541f, 0x6a10, 0x5f0a, 0x134a, 0x8323, 0x0, 0x0);
        gbc.writeMem(0x2c75, { 0xe6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x5f);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x4a);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0x541f);
        EXPECT(gbc.pc(), 0x2c77);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 01FF
        gbc.setState(0xdb8f, 0x914b, 0x7170, 0x654e, 0xdfbc, 0xbb51, 0x0, 0x0);
        gbc.writeMem(0xdb8f, { 0xe6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0xbc);
        EXPECT(gbc.h(),  0xbb);
        EXPECT(gbc.l(),  0x51);
        EXPECT(gbc.sp(), 0x914b);
        EXPECT(gbc.pc(), 0xdb91);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb8f), 0xe6);
        EXPECT(gbc.readMem(0xdb90), 0x57);
        // E6 0200
        gbc.setState(0x2b6c, 0x21e3, 0xdf40, 0x798e, 0x3075, 0xb2e1, 0x0, 0x1);
        gbc.writeMem(0x2b6c, { 0xe6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x21e3);
        EXPECT(gbc.pc(), 0x2b6e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0201
        gbc.setState(0xe77, 0x8c7, 0x11a0, 0xa3c9, 0xc8cc, 0x85d7, 0x0, 0x0);
        gbc.writeMem(0xe77, { 0xe6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x8c7);
        EXPECT(gbc.pc(), 0xe79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0202
        gbc.setState(0x6c74, 0xeb8, 0xc030, 0x4f47, 0x49ff, 0x8f1e, 0x1, 0x1);
        gbc.writeMem(0x6c74, { 0xe6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0xeb8);
        EXPECT(gbc.pc(), 0x6c76);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0203
        gbc.setState(0x8ef4, 0x4853, 0x8490, 0x4bc8, 0x220, 0xa956, 0x1, 0x0);
        gbc.writeMem(0x8ef4, { 0xe6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0x20);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x4853);
        EXPECT(gbc.pc(), 0x8ef6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8ef4), 0xe6);
        EXPECT(gbc.readMem(0x8ef5), 0x88);
        // E6 0204
        gbc.setState(0xb2f0, 0x6f30, 0xeaa0, 0xea0f, 0xaed4, 0x66e0, 0x1, 0x1);
        gbc.writeMem(0xb2f0, { 0xe6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xf);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0xe0);
        EXPECT(gbc.sp(), 0x6f30);
        EXPECT(gbc.pc(), 0xb2f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2f0), 0xe6);
        EXPECT(gbc.readMem(0xb2f1), 0x18);
        // E6 0205
        gbc.setState(0x3f65, 0xcd03, 0xd70, 0x92b9, 0xd502, 0xc7d0, 0x1, 0x0);
        gbc.writeMem(0x3f65, { 0xe6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0xcd03);
        EXPECT(gbc.pc(), 0x3f67);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0206
        gbc.setState(0x4c69, 0xe17b, 0xd4f0, 0x2d5a, 0xcbcc, 0x4789, 0x1, 0x0);
        gbc.writeMem(0x4c69, { 0xe6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x89);
        EXPECT(gbc.sp(), 0xe17b);
        EXPECT(gbc.pc(), 0x4c6b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0208
        gbc.setState(0x15c5, 0x1002, 0xda90, 0x5b33, 0x5f63, 0xb9df, 0x1, 0x1);
        gbc.writeMem(0x15c5, { 0xe6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x5b);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x1002);
        EXPECT(gbc.pc(), 0x15c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0209
        gbc.setState(0x2838, 0xe298, 0x2110, 0x8b44, 0xfc35, 0x385c, 0x1, 0x0);
        gbc.writeMem(0x2838, { 0xe6, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xe298);
        EXPECT(gbc.pc(), 0x283a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 020A
        gbc.setState(0xe6a1, 0x2005, 0xfa80, 0xea79, 0xcb9a, 0x86ff, 0x1, 0x1);
        gbc.writeMem(0xe6a1, { 0xe6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x2005);
        EXPECT(gbc.pc(), 0xe6a3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6a1), 0xe6);
        EXPECT(gbc.readMem(0xe6a2), 0xce);
        // E6 020B
        gbc.setState(0x1834, 0x64ad, 0x70d0, 0x48db, 0x4757, 0xd043, 0x1, 0x1);
        gbc.writeMem(0x1834, { 0xe6, 0x0 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x64ad);
        EXPECT(gbc.pc(), 0x1836);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 020D
        gbc.setState(0xb565, 0xc892, 0x3d90, 0x1a33, 0xd07a, 0x658, 0x0, 0x1);
        gbc.writeMem(0xb565, { 0xe6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x7a);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xc892);
        EXPECT(gbc.pc(), 0xb567);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb565), 0xe6);
        EXPECT(gbc.readMem(0xb566), 0xdf);
        // E6 020E
        gbc.setState(0x308d, 0x2320, 0xc5d0, 0x7f47, 0xfd49, 0xc10e, 0x0, 0x1);
        gbc.writeMem(0x308d, { 0xe6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x47);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0xc1);
        EXPECT(gbc.l(),  0xe);
        EXPECT(gbc.sp(), 0x2320);
        EXPECT(gbc.pc(), 0x308f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 020F
        gbc.setState(0x1085, 0x9431, 0xfb70, 0x1f36, 0x3e91, 0xa235, 0x1, 0x0);
        gbc.writeMem(0x1085, { 0xe6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xcb);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xa2);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x9431);
        EXPECT(gbc.pc(), 0x1087);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0210
        gbc.setState(0xbdfb, 0xe29f, 0x9210, 0x9a3a, 0x3be0, 0x5330, 0x1, 0x0);
        gbc.writeMem(0xbdfb, { 0xe6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x53);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xe29f);
        EXPECT(gbc.pc(), 0xbdfd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdfb), 0xe6);
        EXPECT(gbc.readMem(0xbdfc), 0x59);
        // E6 0211
        gbc.setState(0x3496, 0x8aa9, 0xb110, 0x4745, 0xe306, 0xa363, 0x0, 0x1);
        gbc.writeMem(0x3496, { 0xe6, 0x5b });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x47);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0xe3);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x8aa9);
        EXPECT(gbc.pc(), 0x3498);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0212
        gbc.setState(0x485a, 0x40b3, 0xe090, 0x197f, 0x590f, 0xc948, 0x1, 0x1);
        gbc.writeMem(0x485a, { 0xe6, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x48);
        EXPECT(gbc.sp(), 0x40b3);
        EXPECT(gbc.pc(), 0x485c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0213
        gbc.setState(0x221b, 0xbf1, 0xf1a0, 0xf8a7, 0xd7ba, 0x16a2, 0x1, 0x1);
        gbc.writeMem(0x221b, { 0xe6, 0xab });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x16);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xbf1);
        EXPECT(gbc.pc(), 0x221d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0214
        gbc.setState(0xbbb5, 0x6ae, 0x7a0, 0x2207, 0xa6b1, 0x7176, 0x0, 0x0);
        gbc.writeMem(0xbbb5, { 0xe6, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x22);
        EXPECT(gbc.c(),  0x7);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xb1);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0x6ae);
        EXPECT(gbc.pc(), 0xbbb7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbbb5), 0xe6);
        EXPECT(gbc.readMem(0xbbb6), 0x3e);
        // E6 0215
        gbc.setState(0x587a, 0xdb44, 0xecd0, 0x98d6, 0xa82f, 0xbaaa, 0x0, 0x0);
        gbc.writeMem(0x587a, { 0xe6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0xa8);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xdb44);
        EXPECT(gbc.pc(), 0x587c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0216
        gbc.setState(0x406d, 0xbb1e, 0x66d0, 0x94a9, 0x7298, 0x5c0b, 0x1, 0x0);
        gbc.writeMem(0x406d, { 0xe6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x72);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0xbb1e);
        EXPECT(gbc.pc(), 0x406f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0217
        gbc.setState(0xd40e, 0x7b84, 0x19d0, 0x2123, 0x4ef4, 0xb535, 0x1, 0x1);
        gbc.writeMem(0xd40e, { 0xe6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0xb5);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x7b84);
        EXPECT(gbc.pc(), 0xd410);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd40e), 0xe6);
        EXPECT(gbc.readMem(0xd40f), 0xe8);
        // E6 0218
        gbc.setState(0x66ea, 0xd2c7, 0x99c0, 0x5760, 0x61e2, 0x1399, 0x1, 0x0);
        gbc.writeMem(0x66ea, { 0xe6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x57);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x99);
        EXPECT(gbc.sp(), 0xd2c7);
        EXPECT(gbc.pc(), 0x66ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0219
        gbc.setState(0xd3cc, 0xdf09, 0x94e0, 0xb74f, 0xcafa, 0xd4ab, 0x0, 0x1);
        gbc.writeMem(0xd3cc, { 0xe6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xd4);
        EXPECT(gbc.l(),  0xab);
        EXPECT(gbc.sp(), 0xdf09);
        EXPECT(gbc.pc(), 0xd3ce);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd3cc), 0xe6);
        EXPECT(gbc.readMem(0xd3cd), 0x81);
        // E6 021A
        gbc.setState(0x919a, 0xd740, 0x5be0, 0xe219, 0xd008, 0xe843, 0x1, 0x0);
        gbc.writeMem(0x919a, { 0xe6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x59);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0xd740);
        EXPECT(gbc.pc(), 0x919c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x919a), 0xe6);
        EXPECT(gbc.readMem(0x919b), 0x5d);
        // E6 021C
        gbc.setState(0x5120, 0x535c, 0x4ca0, 0xaa82, 0x3c99, 0x7153, 0x1, 0x0);
        gbc.writeMem(0x5120, { 0xe6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x71);
        EXPECT(gbc.l(),  0x53);
        EXPECT(gbc.sp(), 0x535c);
        EXPECT(gbc.pc(), 0x5122);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 021D
        gbc.setState(0xa564, 0x51c2, 0x1e30, 0x7759, 0x51c7, 0x7e4c, 0x1, 0x0);
        gbc.writeMem(0xa564, { 0xe6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x51c2);
        EXPECT(gbc.pc(), 0xa566);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa564), 0xe6);
        EXPECT(gbc.readMem(0xa565), 0xde);
        // E6 021E
        gbc.setState(0x9ef4, 0xaee0, 0xdfe0, 0x1740, 0xb05b, 0x56b4, 0x1, 0x1);
        gbc.writeMem(0x9ef4, { 0xe6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xb4);
        EXPECT(gbc.sp(), 0xaee0);
        EXPECT(gbc.pc(), 0x9ef6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ef4), 0xe6);
        EXPECT(gbc.readMem(0x9ef5), 0x51);
        // E6 021F
        gbc.setState(0x2550, 0x4092, 0xe810, 0xd0bb, 0x3c74, 0xf36f, 0x0, 0x1);
        gbc.writeMem(0x2550, { 0xe6, 0x44 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xbb);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x4092);
        EXPECT(gbc.pc(), 0x2552);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0220
        gbc.setState(0x30eb, 0xf5a3, 0xabd0, 0x5889, 0xe736, 0x9664, 0x0, 0x1);
        gbc.writeMem(0x30eb, { 0xe6, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xf5a3);
        EXPECT(gbc.pc(), 0x30ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0221
        gbc.setState(0x5f9c, 0xde83, 0x6f80, 0x4f3a, 0xe6ff, 0x6265, 0x0, 0x1);
        gbc.writeMem(0x5f9c, { 0xe6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xde83);
        EXPECT(gbc.pc(), 0x5f9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0222
        gbc.setState(0x7be9, 0x5c01, 0x9580, 0x5051, 0x30e6, 0x5d34, 0x0, 0x0);
        gbc.writeMem(0x7be9, { 0xe6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x51);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x5c01);
        EXPECT(gbc.pc(), 0x7beb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0223
        gbc.setState(0x2073, 0x3d61, 0xaff0, 0x241e, 0xcf0c, 0x442b, 0x0, 0x0);
        gbc.writeMem(0x2073, { 0xe6, 0x22 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x1e);
        EXPECT(gbc.d(),  0xcf);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x44);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x3d61);
        EXPECT(gbc.pc(), 0x2075);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0224
        gbc.setState(0x2433, 0x19ba, 0x24b0, 0x18ac, 0xe8f, 0xa40, 0x0, 0x0);
        gbc.writeMem(0x2433, { 0xe6, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xac);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x19ba);
        EXPECT(gbc.pc(), 0x2435);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0225
        gbc.setState(0xce83, 0x5f09, 0x1230, 0xfa84, 0xbc21, 0xbabf, 0x1, 0x1);
        gbc.writeMem(0xce83, { 0xe6, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xbf);
        EXPECT(gbc.sp(), 0x5f09);
        EXPECT(gbc.pc(), 0xce85);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce83), 0xe6);
        EXPECT(gbc.readMem(0xce84), 0xc);
        // E6 0226
        gbc.setState(0x49f8, 0x3236, 0xc960, 0xbd3b, 0x9ae4, 0x4798, 0x0, 0x1);
        gbc.writeMem(0x49f8, { 0xe6, 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0x3b);
        EXPECT(gbc.d(),  0x9a);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x3236);
        EXPECT(gbc.pc(), 0x49fa);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0227
        gbc.setState(0x474b, 0x9463, 0x4c40, 0x9203, 0x57fa, 0x6ace, 0x0, 0x0);
        gbc.writeMem(0x474b, { 0xe6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x92);
        EXPECT(gbc.c(),  0x3);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x9463);
        EXPECT(gbc.pc(), 0x474d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0228
        gbc.setState(0x3bfb, 0xfeb3, 0xc250, 0xbec8, 0x1501, 0x6636, 0x0, 0x0);
        gbc.writeMem(0x3bfb, { 0xe6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xfeb3);
        EXPECT(gbc.pc(), 0x3bfd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0229
        gbc.setState(0x2a80, 0xc3c4, 0x6680, 0x5841, 0xbcc4, 0xed26, 0x0, 0x1);
        gbc.writeMem(0x2a80, { 0xe6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0xc3c4);
        EXPECT(gbc.pc(), 0x2a82);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 022A
        gbc.setState(0x3dd8, 0xdf49, 0x9f30, 0xedc4, 0xe9db, 0x56ac, 0x0, 0x1);
        gbc.writeMem(0x3dd8, { 0xe6, 0x94 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xc4);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x56);
        EXPECT(gbc.l(),  0xac);
        EXPECT(gbc.sp(), 0xdf49);
        EXPECT(gbc.pc(), 0x3dda);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 022B
        gbc.setState(0x86fd, 0x8184, 0xa8e0, 0xa689, 0x4114, 0x2ef, 0x0, 0x0);
        gbc.writeMem(0x86fd, { 0xe6, 0xfc });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0x14);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xef);
        EXPECT(gbc.sp(), 0x8184);
        EXPECT(gbc.pc(), 0x86ff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x86fd), 0xe6);
        EXPECT(gbc.readMem(0x86fe), 0xfc);
        // E6 022C
        gbc.setState(0xbd1b, 0x473c, 0xb120, 0xa530, 0x2a57, 0x97a7, 0x0, 0x0);
        gbc.writeMem(0xbd1b, { 0xe6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x473c);
        EXPECT(gbc.pc(), 0xbd1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd1b), 0xe6);
        EXPECT(gbc.readMem(0xbd1c), 0xdf);
        // E6 022D
        gbc.setState(0x47b9, 0x6137, 0x4500, 0x5e13, 0x11c4, 0x59e1, 0x0, 0x1);
        gbc.writeMem(0x47b9, { 0xe6, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x5e);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0x6137);
        EXPECT(gbc.pc(), 0x47bb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 022E
        gbc.setState(0x6943, 0x47b1, 0x17f0, 0xbe11, 0x40b3, 0xbacc, 0x1, 0x1);
        gbc.writeMem(0x6943, { 0xe6, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0x11);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0xcc);
        EXPECT(gbc.sp(), 0x47b1);
        EXPECT(gbc.pc(), 0x6945);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 022F
        gbc.setState(0x4d11, 0x4f73, 0x1e70, 0x94bc, 0x23a9, 0xc954, 0x1, 0x1);
        gbc.writeMem(0x4d11, { 0xe6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0x54);
        EXPECT(gbc.sp(), 0x4f73);
        EXPECT(gbc.pc(), 0x4d13);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0230
        gbc.setState(0x55eb, 0x4fb7, 0x2c90, 0x5663, 0x46b6, 0x58e, 0x1, 0x1);
        gbc.writeMem(0x55eb, { 0xe6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x63);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x4fb7);
        EXPECT(gbc.pc(), 0x55ed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0231
        gbc.setState(0x9f2a, 0x2bbd, 0xd560, 0xe68a, 0x4d2f, 0x45b9, 0x1, 0x0);
        gbc.writeMem(0x9f2a, { 0xe6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x2f);
        EXPECT(gbc.h(),  0x45);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x2bbd);
        EXPECT(gbc.pc(), 0x9f2c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f2a), 0xe6);
        EXPECT(gbc.readMem(0x9f2b), 0xc2);
        // E6 0232
        gbc.setState(0x125d, 0x8c04, 0x9ca0, 0x6c74, 0xb209, 0xa47, 0x1, 0x1);
        gbc.writeMem(0x125d, { 0xe6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x8c04);
        EXPECT(gbc.pc(), 0x125f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0233
        gbc.setState(0xbb3d, 0x6f94, 0x3ae0, 0xd001, 0x7526, 0xea72, 0x0, 0x0);
        gbc.writeMem(0xbb3d, { 0xe6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x32);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0x75);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x6f94);
        EXPECT(gbc.pc(), 0xbb3f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb3d), 0xe6);
        EXPECT(gbc.readMem(0xbb3e), 0xf6);
        // E6 0234
        gbc.setState(0xb2b2, 0xaf38, 0x3720, 0xc272, 0x68d2, 0x96f0, 0x1, 0x0);
        gbc.writeMem(0xb2b2, { 0xe6, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x68);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x96);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0xaf38);
        EXPECT(gbc.pc(), 0xb2b4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2b2), 0xe6);
        EXPECT(gbc.readMem(0xb2b3), 0x5c);
        // E6 0236
        gbc.setState(0x519b, 0x5e8, 0x6ae0, 0x9cdb, 0xe972, 0x86ce, 0x1, 0x1);
        gbc.writeMem(0x519b, { 0xe6, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x9c);
        EXPECT(gbc.c(),  0xdb);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0x72);
        EXPECT(gbc.h(),  0x86);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0x5e8);
        EXPECT(gbc.pc(), 0x519d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0237
        gbc.setState(0x5996, 0xa9ce, 0xa780, 0x2462, 0x24b6, 0x4738, 0x1, 0x1);
        gbc.writeMem(0x5996, { 0xe6, 0xe2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x47);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xa9ce);
        EXPECT(gbc.pc(), 0x5998);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0238
        gbc.setState(0x2eed, 0xec28, 0x6040, 0xaef1, 0x5c09, 0xf552, 0x1, 0x1);
        gbc.writeMem(0x2eed, { 0xe6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xf5);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xec28);
        EXPECT(gbc.pc(), 0x2eef);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0239
        gbc.setState(0x4e16, 0xc609, 0x3c20, 0x7772, 0x1712, 0x98ae, 0x0, 0x0);
        gbc.writeMem(0x4e16, { 0xe6, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x12);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xc609);
        EXPECT(gbc.pc(), 0x4e18);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 023A
        gbc.setState(0x81fa, 0xa08e, 0x40f0, 0xd8b7, 0xef08, 0xf387, 0x1, 0x0);
        gbc.writeMem(0x81fa, { 0xe6, 0x67 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xa08e);
        EXPECT(gbc.pc(), 0x81fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x81fa), 0xe6);
        EXPECT(gbc.readMem(0x81fb), 0x67);
        // E6 023B
        gbc.setState(0xd148, 0xf072, 0xb500, 0x86c8, 0x1aa, 0x69b5, 0x0, 0x0);
        gbc.writeMem(0xd148, { 0xe6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x86);
        EXPECT(gbc.c(),  0xc8);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0xf072);
        EXPECT(gbc.pc(), 0xd14a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd148), 0xe6);
        EXPECT(gbc.readMem(0xd149), 0xde);
        // E6 023C
        gbc.setState(0x95a, 0xbbb7, 0xf0, 0x9de6, 0xc762, 0x387, 0x0, 0x0);
        gbc.writeMem(0x95a, { 0xe6, 0x59 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x9d);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xbbb7);
        EXPECT(gbc.pc(), 0x95c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 023D
        gbc.setState(0x752a, 0x5505, 0x2940, 0xfd36, 0x2ed, 0x1caa, 0x1, 0x0);
        gbc.writeMem(0x752a, { 0xe6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x2);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x5505);
        EXPECT(gbc.pc(), 0x752c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 023E
        gbc.setState(0x9bb9, 0xb93f, 0x6570, 0xa84c, 0xae85, 0x5d63, 0x0, 0x0);
        gbc.writeMem(0x9bb9, { 0xe6, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x4c);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xb93f);
        EXPECT(gbc.pc(), 0x9bbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bb9), 0xe6);
        EXPECT(gbc.readMem(0x9bba), 0xc9);
        // E6 0240
        gbc.setState(0x970f, 0xf2f0, 0xcca0, 0xe65f, 0xb146, 0x3af6, 0x0, 0x1);
        gbc.writeMem(0x970f, { 0xe6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0x46);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0xf2f0);
        EXPECT(gbc.pc(), 0x9711);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x970f), 0xe6);
        EXPECT(gbc.readMem(0x9710), 0xa9);
        // E6 0241
        gbc.setState(0xde34, 0x4575, 0x7730, 0x5123, 0xd071, 0x59bd, 0x1, 0x1);
        gbc.writeMem(0xde34, { 0xe6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x4575);
        EXPECT(gbc.pc(), 0xde36);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xde34), 0xe6);
        EXPECT(gbc.readMem(0xde35), 0x83);
        // E6 0242
        gbc.setState(0xee70, 0xa743, 0xcd20, 0x3fdc, 0x7c23, 0xf77a, 0x1, 0x0);
        gbc.writeMem(0xee70, { 0xe6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xa743);
        EXPECT(gbc.pc(), 0xee72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee70), 0xe6);
        EXPECT(gbc.readMem(0xee71), 0xa9);
        // E6 0244
        gbc.setState(0xdb77, 0x6854, 0x3fe0, 0x587e, 0xd023, 0x3872, 0x1, 0x1);
        gbc.writeMem(0xdb77, { 0xe6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0x6854);
        EXPECT(gbc.pc(), 0xdb79);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdb77), 0xe6);
        EXPECT(gbc.readMem(0xdb78), 0xe7);
        // E6 0245
        gbc.setState(0x7993, 0xf917, 0x48e0, 0xedcb, 0x8da3, 0xfa45, 0x0, 0x0);
        gbc.writeMem(0x7993, { 0xe6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x8d);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xf917);
        EXPECT(gbc.pc(), 0x7995);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0246
        gbc.setState(0x1779, 0xfa79, 0x1af0, 0xf0c0, 0xc7a2, 0xe333, 0x0, 0x1);
        gbc.writeMem(0x1779, { 0xe6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0xc0);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0xfa79);
        EXPECT(gbc.pc(), 0x177b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0247
        gbc.setState(0x5bc0, 0x8ab, 0xf1e0, 0x26fd, 0xe609, 0xf8e4, 0x1, 0x0);
        gbc.writeMem(0x5bc0, { 0xe6, 0xbd });
        gbc.step();
        EXPECT(gbc.a(),  0xb1);
        EXPECT(gbc.b(),  0x26);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0x8ab);
        EXPECT(gbc.pc(), 0x5bc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0248
        gbc.setState(0xdaa9, 0x5250, 0xb6d0, 0xa1f8, 0xd3aa, 0xead4, 0x0, 0x0);
        gbc.writeMem(0xdaa9, { 0xe6, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xaa);
        EXPECT(gbc.h(),  0xea);
        EXPECT(gbc.l(),  0xd4);
        EXPECT(gbc.sp(), 0x5250);
        EXPECT(gbc.pc(), 0xdaab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdaa9), 0xe6);
        EXPECT(gbc.readMem(0xdaaa), 0x1);
        // E6 0249
        gbc.setState(0x42aa, 0xf981, 0x9f00, 0xb8fb, 0xb79a, 0xfa8e, 0x1, 0x0);
        gbc.writeMem(0x42aa, { 0xe6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xfb);
        EXPECT(gbc.d(),  0xb7);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xf981);
        EXPECT(gbc.pc(), 0x42ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 024A
        gbc.setState(0xea07, 0xa7ba, 0x6af0, 0x8df4, 0x1f6f, 0x5cc6, 0x1, 0x1);
        gbc.writeMem(0xea07, { 0xe6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x8d);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x6f);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xa7ba);
        EXPECT(gbc.pc(), 0xea09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xea07), 0xe6);
        EXPECT(gbc.readMem(0xea08), 0x2a);
        // E6 024B
        gbc.setState(0x9b71, 0xf759, 0xa3a0, 0x929, 0xea5, 0xb965, 0x1, 0x1);
        gbc.writeMem(0x9b71, { 0xe6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x9);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xf759);
        EXPECT(gbc.pc(), 0x9b73);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b71), 0xe6);
        EXPECT(gbc.readMem(0x9b72), 0xda);
        // E6 024C
        gbc.setState(0xa7a, 0x9499, 0x3e10, 0x6d92, 0x89ec, 0x285d, 0x0, 0x1);
        gbc.writeMem(0xa7a, { 0xe6, 0x4f });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x92);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xec);
        EXPECT(gbc.h(),  0x28);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x9499);
        EXPECT(gbc.pc(), 0xa7c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 024D
        gbc.setState(0x2873, 0x217d, 0x6ca0, 0x19b6, 0xd5d0, 0x4d81, 0x0, 0x0);
        gbc.writeMem(0x2873, { 0xe6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0x81);
        EXPECT(gbc.sp(), 0x217d);
        EXPECT(gbc.pc(), 0x2875);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 024E
        gbc.setState(0xdc71, 0x1ad, 0xc8d0, 0xbb79, 0x61e4, 0xe135, 0x0, 0x1);
        gbc.writeMem(0xdc71, { 0xe6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0xe4);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x1ad);
        EXPECT(gbc.pc(), 0xdc73);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdc71), 0xe6);
        EXPECT(gbc.readMem(0xdc72), 0x75);
        // E6 024F
        gbc.setState(0xa849, 0xdcc3, 0xb770, 0x9eab, 0x8a7f, 0x8e24, 0x0, 0x0);
        gbc.writeMem(0xa849, { 0xe6, 0xb2 });
        gbc.step();
        EXPECT(gbc.a(),  0xb2);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0xab);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xdcc3);
        EXPECT(gbc.pc(), 0xa84b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa849), 0xe6);
        EXPECT(gbc.readMem(0xa84a), 0xb2);
        // E6 0250
        gbc.setState(0x801b, 0x2dfa, 0x3270, 0x798, 0xdced, 0x5491, 0x1, 0x1);
        gbc.writeMem(0x801b, { 0xe6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x7);
        EXPECT(gbc.c(),  0x98);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x2dfa);
        EXPECT(gbc.pc(), 0x801d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x801b), 0xe6);
        EXPECT(gbc.readMem(0x801c), 0x90);
        // E6 0251
        gbc.setState(0xd534, 0x2797, 0x1b90, 0xa6a3, 0x92e6, 0x6d94, 0x1, 0x0);
        gbc.writeMem(0xd534, { 0xe6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0xa3);
        EXPECT(gbc.d(),  0x92);
        EXPECT(gbc.e(),  0xe6);
        EXPECT(gbc.h(),  0x6d);
        EXPECT(gbc.l(),  0x94);
        EXPECT(gbc.sp(), 0x2797);
        EXPECT(gbc.pc(), 0xd536);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd534), 0xe6);
        EXPECT(gbc.readMem(0xd535), 0x72);
        // E6 0253
        gbc.setState(0x680c, 0xa301, 0xc430, 0x795d, 0xa0c2, 0xdec7, 0x1, 0x0);
        gbc.writeMem(0x680c, { 0xe6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x79);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xa301);
        EXPECT(gbc.pc(), 0x680e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0254
        gbc.setState(0xb8e6, 0x1884, 0x3780, 0xf442, 0x6950, 0x3ba9, 0x1, 0x0);
        gbc.writeMem(0xb8e6, { 0xe6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0x50);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x1884);
        EXPECT(gbc.pc(), 0xb8e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8e6), 0xe6);
        EXPECT(gbc.readMem(0xb8e7), 0x82);
        // E6 0255
        gbc.setState(0x8a67, 0x1327, 0x44d0, 0xc337, 0xf319, 0xef78, 0x0, 0x0);
        gbc.writeMem(0x8a67, { 0xe6, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc3);
        EXPECT(gbc.c(),  0x37);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0x78);
        EXPECT(gbc.sp(), 0x1327);
        EXPECT(gbc.pc(), 0x8a69);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a67), 0xe6);
        EXPECT(gbc.readMem(0x8a68), 0xf2);
        // E6 0256
        gbc.setState(0x8616, 0xe149, 0xdef0, 0xeb58, 0x643a, 0x2e7d, 0x0, 0x0);
        gbc.writeMem(0x8616, { 0xe6, 0xd7 });
        gbc.step();
        EXPECT(gbc.a(),  0xd6);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x58);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x2e);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xe149);
        EXPECT(gbc.pc(), 0x8618);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8616), 0xe6);
        EXPECT(gbc.readMem(0x8617), 0xd7);
        // E6 0257
        gbc.setState(0xd0eb, 0xcac8, 0xae10, 0x86d, 0xa708, 0x58a6, 0x0, 0x1);
        gbc.writeMem(0xd0eb, { 0xe6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x8);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0xcac8);
        EXPECT(gbc.pc(), 0xd0ed);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0eb), 0xe6);
        EXPECT(gbc.readMem(0xd0ec), 0xa0);
        // E6 0258
        gbc.setState(0x713, 0xfa97, 0x5b40, 0x2e49, 0x149d, 0x4cfe, 0x1, 0x0);
        gbc.writeMem(0x713, { 0xe6, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x9d);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xfa97);
        EXPECT(gbc.pc(), 0x715);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0259
        gbc.setState(0x5949, 0xa9b4, 0x3de0, 0xed48, 0xf360, 0x8d38, 0x1, 0x1);
        gbc.writeMem(0x5949, { 0xe6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x35);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x48);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x38);
        EXPECT(gbc.sp(), 0xa9b4);
        EXPECT(gbc.pc(), 0x594b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 025A
        gbc.setState(0x1712, 0x5f95, 0x6230, 0xda7f, 0x50c6, 0xffcd, 0x1, 0x1);
        gbc.writeMem(0x1712, { 0xe6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x7f);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xc6);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x5f95);
        EXPECT(gbc.pc(), 0x1714);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 025B
        gbc.setState(0x29c5, 0xbf7, 0xd6e0, 0x736c, 0x3b10, 0x6e45, 0x1, 0x1);
        gbc.writeMem(0x29c5, { 0xe6, 0x9 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x73);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xbf7);
        EXPECT(gbc.pc(), 0x29c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 025C
        gbc.setState(0xe910, 0xf705, 0x1730, 0xd8e, 0xfc2, 0xe292, 0x0, 0x1);
        gbc.writeMem(0xe910, { 0xe6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xc2);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xf705);
        EXPECT(gbc.pc(), 0xe912);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe910), 0xe6);
        EXPECT(gbc.readMem(0xe911), 0x5a);
        // E6 025F
        gbc.setState(0x7a92, 0xe1bb, 0xb6d0, 0x7453, 0x62f4, 0x48b9, 0x1, 0x0);
        gbc.writeMem(0x7a92, { 0xe6, 0xe4 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xe1bb);
        EXPECT(gbc.pc(), 0x7a94);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0260
        gbc.setState(0xce21, 0x965a, 0xd210, 0xb4f6, 0xd413, 0xa949, 0x0, 0x0);
        gbc.writeMem(0xce21, { 0xe6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0x13);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x965a);
        EXPECT(gbc.pc(), 0xce23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce21), 0xe6);
        EXPECT(gbc.readMem(0xce22), 0xbf);
        // E6 0261
        gbc.setState(0xcffe, 0xbb4d, 0x490, 0x4274, 0xa61c, 0xe777, 0x0, 0x1);
        gbc.writeMem(0xcffe, { 0xe6, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x74);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0xe7);
        EXPECT(gbc.l(),  0x77);
        EXPECT(gbc.sp(), 0xbb4d);
        EXPECT(gbc.pc(), 0xd000);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcffe), 0xe6);
        EXPECT(gbc.readMem(0xcfff), 0xc);
        // E6 0262
        gbc.setState(0x3d51, 0xfbae, 0xa550, 0x51d2, 0x42db, 0xb7e, 0x1, 0x0);
        gbc.writeMem(0x3d51, { 0xe6, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xfbae);
        EXPECT(gbc.pc(), 0x3d53);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0263
        gbc.setState(0x9425, 0xe85d, 0x1ea0, 0xadee, 0xacf8, 0xd9c, 0x1, 0x0);
        gbc.writeMem(0x9425, { 0xe6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0xad);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xe85d);
        EXPECT(gbc.pc(), 0x9427);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9425), 0xe6);
        EXPECT(gbc.readMem(0x9426), 0x1f);
        // E6 0264
        gbc.setState(0xed9c, 0x93f0, 0xd2e0, 0xb4b2, 0x911c, 0x9064, 0x1, 0x0);
        gbc.writeMem(0xed9c, { 0xe6, 0x49 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xb4);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x1c);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x93f0);
        EXPECT(gbc.pc(), 0xed9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xed9c), 0xe6);
        EXPECT(gbc.readMem(0xed9d), 0x49);
        // E6 0265
        gbc.setState(0xc43f, 0x89e6, 0x6a60, 0x24c3, 0xbe8b, 0xc9a7, 0x0, 0x1);
        gbc.writeMem(0xc43f, { 0xe6, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x24);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x8b);
        EXPECT(gbc.h(),  0xc9);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x89e6);
        EXPECT(gbc.pc(), 0xc441);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc43f), 0xe6);
        EXPECT(gbc.readMem(0xc440), 0x3c);
        // E6 0266
        gbc.setState(0x399a, 0x6ea4, 0xc4f0, 0x9920, 0xdc93, 0xcfa8, 0x0, 0x1);
        gbc.writeMem(0x399a, { 0xe6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0xcf);
        EXPECT(gbc.l(),  0xa8);
        EXPECT(gbc.sp(), 0x6ea4);
        EXPECT(gbc.pc(), 0x399c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0267
        gbc.setState(0xe1d4, 0x3efa, 0x89e0, 0x9922, 0xae11, 0x4655, 0x1, 0x0);
        gbc.writeMem(0xe1d4, { 0xe6, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x55);
        EXPECT(gbc.sp(), 0x3efa);
        EXPECT(gbc.pc(), 0xe1d6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe1d4), 0xe6);
        EXPECT(gbc.readMem(0xe1d5), 0xf4);
        // E6 0268
        gbc.setState(0x42f1, 0x6c0, 0x5590, 0xc706, 0x6d18, 0x907a, 0x1, 0x1);
        gbc.writeMem(0x42f1, { 0xe6, 0x70 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x6c0);
        EXPECT(gbc.pc(), 0x42f3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0269
        gbc.setState(0xc485, 0x94f3, 0x3eb0, 0x5960, 0x42b6, 0x4149, 0x0, 0x1);
        gbc.writeMem(0xc485, { 0xe6, 0x9e });
        gbc.step();
        EXPECT(gbc.a(),  0x1e);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0xb6);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x94f3);
        EXPECT(gbc.pc(), 0xc487);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc485), 0xe6);
        EXPECT(gbc.readMem(0xc486), 0x9e);
        // E6 026A
        gbc.setState(0x1d, 0x5776, 0x60e0, 0x9817, 0x3f40, 0x6ae9, 0x0, 0x0);
        gbc.writeMem(0x1d, { 0xe6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x98);
        EXPECT(gbc.c(),  0x17);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0xe9);
        EXPECT(gbc.sp(), 0x5776);
        EXPECT(gbc.pc(), 0x1f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 026B
        gbc.setState(0x7e8d, 0x2ab5, 0x5d00, 0xd6f7, 0x4a2e, 0x9c45, 0x1, 0x1);
        gbc.writeMem(0x7e8d, { 0xe6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0x9c);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0x2ab5);
        EXPECT(gbc.pc(), 0x7e8f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 026C
        gbc.setState(0x8cc0, 0x7792, 0x6df0, 0x1731, 0xfa8f, 0xe80d, 0x1, 0x0);
        gbc.writeMem(0x8cc0, { 0xe6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x31);
        EXPECT(gbc.d(),  0xfa);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0xe8);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x7792);
        EXPECT(gbc.pc(), 0x8cc2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8cc0), 0xe6);
        EXPECT(gbc.readMem(0x8cc1), 0xd5);
        // E6 026D
        gbc.setState(0x8d7, 0x46c4, 0x66a0, 0x48ba, 0x2531, 0x1f10, 0x1, 0x1);
        gbc.writeMem(0x8d7, { 0xe6, 0x42 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x48);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x1f);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x46c4);
        EXPECT(gbc.pc(), 0x8d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 026E
        gbc.setState(0xd6, 0xe7a3, 0x9150, 0x230e, 0x1dba, 0x46c6, 0x0, 0x1);
        gbc.writeMem(0xd6, { 0xe6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xe);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xe7a3);
        EXPECT(gbc.pc(), 0xd8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 026F
        gbc.setState(0x4068, 0x59d1, 0x3d10, 0x2827, 0x7c15, 0xb167, 0x1, 0x0);
        gbc.writeMem(0x4068, { 0xe6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x67);
        EXPECT(gbc.sp(), 0x59d1);
        EXPECT(gbc.pc(), 0x406a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0270
        gbc.setState(0xe856, 0xc01c, 0x4790, 0x31ed, 0x7d4, 0x23e4, 0x1, 0x1);
        gbc.writeMem(0xe856, { 0xe6, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x31);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0xe4);
        EXPECT(gbc.sp(), 0xc01c);
        EXPECT(gbc.pc(), 0xe858);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe856), 0xe6);
        EXPECT(gbc.readMem(0xe857), 0x56);
        // E6 0271
        gbc.setState(0xc1a5, 0x6d92, 0x8440, 0xe95f, 0x875b, 0xb721, 0x0, 0x1);
        gbc.writeMem(0xc1a5, { 0xe6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xe9);
        EXPECT(gbc.c(),  0x5f);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xb7);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0x6d92);
        EXPECT(gbc.pc(), 0xc1a7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1a5), 0xe6);
        EXPECT(gbc.readMem(0xc1a6), 0xd4);
        // E6 0272
        gbc.setState(0xef39, 0x9d3a, 0x34a0, 0xa08e, 0xfc5a, 0xa65d, 0x0, 0x0);
        gbc.writeMem(0xef39, { 0xe6, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x9d3a);
        EXPECT(gbc.pc(), 0xef3b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef39), 0xe6);
        EXPECT(gbc.readMem(0xef3a), 0x25);
        // E6 0273
        gbc.setState(0xb46f, 0x56ba, 0xfb80, 0x8c50, 0xd893, 0x6e0d, 0x1, 0x0);
        gbc.writeMem(0xb46f, { 0xe6, 0x99 });
        gbc.step();
        EXPECT(gbc.a(),  0x99);
        EXPECT(gbc.b(),  0x8c);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0x56ba);
        EXPECT(gbc.pc(), 0xb471);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb46f), 0xe6);
        EXPECT(gbc.readMem(0xb470), 0x99);
        // E6 0274
        gbc.setState(0x6c87, 0xfde7, 0x8e40, 0x1246, 0x9f06, 0x6316, 0x0, 0x0);
        gbc.writeMem(0x6c87, { 0xe6, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0xfde7);
        EXPECT(gbc.pc(), 0x6c89);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0276
        gbc.setState(0x8e87, 0xe520, 0xb680, 0x493c, 0x27ff, 0xc06c, 0x1, 0x1);
        gbc.writeMem(0x8e87, { 0xe6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xff);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0xe520);
        EXPECT(gbc.pc(), 0x8e89);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e87), 0xe6);
        EXPECT(gbc.readMem(0x8e88), 0xd1);
        // E6 0277
        gbc.setState(0xe2c8, 0x74bf, 0x3d20, 0x84f9, 0x3029, 0xf4a0, 0x0, 0x0);
        gbc.writeMem(0xe2c8, { 0xe6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x29);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x74bf);
        EXPECT(gbc.pc(), 0xe2ca);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe2c8), 0xe6);
        EXPECT(gbc.readMem(0xe2c9), 0x84);
        // E6 0278
        gbc.setState(0x9a1b, 0xe39d, 0xcdc0, 0x67f8, 0x5228, 0x502b, 0x0, 0x1);
        gbc.writeMem(0x9a1b, { 0xe6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x52);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0xe39d);
        EXPECT(gbc.pc(), 0x9a1d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a1b), 0xe6);
        EXPECT(gbc.readMem(0x9a1c), 0xe3);
        // E6 0279
        gbc.setState(0x9b03, 0x3bf1, 0xe990, 0x304, 0x6c93, 0x189e, 0x1, 0x1);
        gbc.writeMem(0x9b03, { 0xe6, 0xe7 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x3);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x18);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0x3bf1);
        EXPECT(gbc.pc(), 0x9b05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b03), 0xe6);
        EXPECT(gbc.readMem(0x9b04), 0xe7);
        // E6 027A
        gbc.setState(0xef3f, 0x7741, 0xc400, 0x1fd4, 0xb4f7, 0xb849, 0x1, 0x1);
        gbc.writeMem(0xef3f, { 0xe6, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xd4);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0x7741);
        EXPECT(gbc.pc(), 0xef41);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef3f), 0xe6);
        EXPECT(gbc.readMem(0xef40), 0xe1);
        // E6 027B
        gbc.setState(0xe6d7, 0x5b4e, 0xfdb0, 0xf184, 0xf409, 0x5b4c, 0x0, 0x0);
        gbc.writeMem(0xe6d7, { 0xe6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0xf1);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0xf4);
        EXPECT(gbc.e(),  0x9);
        EXPECT(gbc.h(),  0x5b);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x5b4e);
        EXPECT(gbc.pc(), 0xe6d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6d7), 0xe6);
        EXPECT(gbc.readMem(0xe6d8), 0x86);
        // E6 027C
        gbc.setState(0x9ec7, 0x90e0, 0xe110, 0x6783, 0xab8f, 0x4e3c, 0x1, 0x1);
        gbc.writeMem(0x9ec7, { 0xe6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x67);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0xab);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x4e);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0x90e0);
        EXPECT(gbc.pc(), 0x9ec9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9ec7), 0xe6);
        EXPECT(gbc.readMem(0x9ec8), 0x55);
        // E6 027D
        gbc.setState(0x40d1, 0x6c37, 0xa7e0, 0xf2dd, 0x344d, 0xaaeb, 0x1, 0x0);
        gbc.writeMem(0x40d1, { 0xe6, 0x77 });
        gbc.step();
        EXPECT(gbc.a(),  0x27);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x34);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xaa);
        EXPECT(gbc.l(),  0xeb);
        EXPECT(gbc.sp(), 0x6c37);
        EXPECT(gbc.pc(), 0x40d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 027E
        gbc.setState(0xae72, 0x619d, 0xe670, 0x2971, 0x4dc1, 0xb0be, 0x0, 0x1);
        gbc.writeMem(0xae72, { 0xe6, 0xbf });
        gbc.step();
        EXPECT(gbc.a(),  0xa6);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0xb0);
        EXPECT(gbc.l(),  0xbe);
        EXPECT(gbc.sp(), 0x619d);
        EXPECT(gbc.pc(), 0xae74);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xae72), 0xe6);
        EXPECT(gbc.readMem(0xae73), 0xbf);
        // E6 027F
        gbc.setState(0xa899, 0x99b0, 0xd640, 0xe1fa, 0x8f21, 0xadad, 0x0, 0x0);
        gbc.writeMem(0xa899, { 0xe6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xad);
        EXPECT(gbc.sp(), 0x99b0);
        EXPECT(gbc.pc(), 0xa89b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa899), 0xe6);
        EXPECT(gbc.readMem(0xa89a), 0x66);
        // E6 0280
        gbc.setState(0x8794, 0xa794, 0x6cd0, 0x283, 0x79c7, 0x64b9, 0x0, 0x0);
        gbc.writeMem(0x8794, { 0xe6, 0x3b });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0x83);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xa794);
        EXPECT(gbc.pc(), 0x8796);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8794), 0xe6);
        EXPECT(gbc.readMem(0x8795), 0x3b);
        // E6 0281
        gbc.setState(0x9855, 0xa06c, 0x1720, 0x4671, 0xf2c4, 0x1dc4, 0x0, 0x1);
        gbc.writeMem(0x9855, { 0xe6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xc4);
        EXPECT(gbc.sp(), 0xa06c);
        EXPECT(gbc.pc(), 0x9857);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9855), 0xe6);
        EXPECT(gbc.readMem(0x9856), 0x8f);
        // E6 0282
        gbc.setState(0xdce7, 0x244f, 0x1e90, 0x406f, 0xe19c, 0xdf65, 0x0, 0x1);
        gbc.writeMem(0xdce7, { 0xe6, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x40);
        EXPECT(gbc.c(),  0x6f);
        EXPECT(gbc.d(),  0xe1);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0x244f);
        EXPECT(gbc.pc(), 0xdce9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdce7), 0xe6);
        EXPECT(gbc.readMem(0xdce8), 0x69);
        // E6 0283
        gbc.setState(0x1f65, 0x14d7, 0x7150, 0xe145, 0x3a73, 0xfaec, 0x0, 0x0);
        gbc.writeMem(0x1f65, { 0xe6, 0xf4 });
        gbc.step();
        EXPECT(gbc.a(),  0x70);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0x45);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xfa);
        EXPECT(gbc.l(),  0xec);
        EXPECT(gbc.sp(), 0x14d7);
        EXPECT(gbc.pc(), 0x1f67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0284
        gbc.setState(0x5e4c, 0x6a09, 0x8c90, 0x132d, 0xac9a, 0x5034, 0x0, 0x0);
        gbc.writeMem(0x5e4c, { 0xe6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x13);
        EXPECT(gbc.c(),  0x2d);
        EXPECT(gbc.d(),  0xac);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x50);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x6a09);
        EXPECT(gbc.pc(), 0x5e4e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0285
        gbc.setState(0x2257, 0xde23, 0x8a10, 0x3df8, 0x2d81, 0x8d25, 0x0, 0x1);
        gbc.writeMem(0x2257, { 0xe6, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x81);
        EXPECT(gbc.h(),  0x8d);
        EXPECT(gbc.l(),  0x25);
        EXPECT(gbc.sp(), 0xde23);
        EXPECT(gbc.pc(), 0x2259);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0286
        gbc.setState(0x848e, 0x58be, 0xa650, 0x8f8d, 0x6443, 0xc090, 0x1, 0x1);
        gbc.writeMem(0x848e, { 0xe6, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x8f);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x64);
        EXPECT(gbc.e(),  0x43);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x90);
        EXPECT(gbc.sp(), 0x58be);
        EXPECT(gbc.pc(), 0x8490);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x848e), 0xe6);
        EXPECT(gbc.readMem(0x848f), 0x5c);
        // E6 0287
        gbc.setState(0x9f78, 0x31d6, 0xd050, 0x59b6, 0xc239, 0x4fd0, 0x0, 0x0);
        gbc.writeMem(0x9f78, { 0xe6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x4f);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x31d6);
        EXPECT(gbc.pc(), 0x9f7a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f78), 0xe6);
        EXPECT(gbc.readMem(0x9f79), 0xff);
        // E6 0288
        gbc.setState(0x89d, 0xfc4e, 0x8280, 0x613, 0xc55c, 0xd7a5, 0x0, 0x0);
        gbc.writeMem(0x89d, { 0xe6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0x13);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x5c);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xa5);
        EXPECT(gbc.sp(), 0xfc4e);
        EXPECT(gbc.pc(), 0x89f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0289
        gbc.setState(0xb49c, 0x1e42, 0x950, 0xedec, 0xaf7c, 0x3462, 0x0, 0x0);
        gbc.writeMem(0xb49c, { 0xe6, 0x16 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x34);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x1e42);
        EXPECT(gbc.pc(), 0xb49e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb49c), 0xe6);
        EXPECT(gbc.readMem(0xb49d), 0x16);
        // E6 028A
        gbc.setState(0xe27b, 0xb8c, 0x14f0, 0xfbba, 0xed6c, 0xeb03, 0x1, 0x0);
        gbc.writeMem(0xe27b, { 0xe6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xfb);
        EXPECT(gbc.c(),  0xba);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xb8c);
        EXPECT(gbc.pc(), 0xe27d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe27b), 0xe6);
        EXPECT(gbc.readMem(0xe27c), 0x76);
        // E6 028B
        gbc.setState(0xe562, 0x4fb0, 0xb70, 0x7d9f, 0xf010, 0xf811, 0x1, 0x1);
        gbc.writeMem(0xe562, { 0xe6, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x9f);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0x10);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0x4fb0);
        EXPECT(gbc.pc(), 0xe564);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe562), 0xe6);
        EXPECT(gbc.readMem(0xe563), 0x14);
        // E6 028C
        gbc.setState(0x9b28, 0x143c, 0x60c0, 0x95ef, 0x8fcc, 0x1ee7, 0x1, 0x1);
        gbc.writeMem(0x9b28, { 0xe6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xe7);
        EXPECT(gbc.sp(), 0x143c);
        EXPECT(gbc.pc(), 0x9b2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b28), 0xe6);
        EXPECT(gbc.readMem(0x9b29), 0x2e);
        // E6 028D
        gbc.setState(0xb40, 0x90e2, 0x4000, 0x629c, 0xf5c1, 0x3af8, 0x0, 0x0);
        gbc.writeMem(0xb40, { 0xe6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xf5);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0xf8);
        EXPECT(gbc.sp(), 0x90e2);
        EXPECT(gbc.pc(), 0xb42);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 028E
        gbc.setState(0x2895, 0x5f58, 0xe0, 0x9f3e, 0xeb4f, 0x290f, 0x1, 0x1);
        gbc.writeMem(0x2895, { 0xe6, 0x13 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x3e);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x4f);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0x5f58);
        EXPECT(gbc.pc(), 0x2897);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 028F
        gbc.setState(0xbfab, 0xaa2, 0x29a0, 0x20fd, 0x915d, 0xdaa, 0x0, 0x1);
        gbc.writeMem(0xbfab, { 0xe6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x5d);
        EXPECT(gbc.h(),  0xd);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xaa2);
        EXPECT(gbc.pc(), 0xbfad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbfab), 0xe6);
        EXPECT(gbc.readMem(0xbfac), 0x84);
        // E6 0290
        gbc.setState(0x8f8a, 0xf26, 0xaf10, 0x7041, 0xef68, 0x7bf3, 0x1, 0x0);
        gbc.writeMem(0x8f8a, { 0xe6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x70);
        EXPECT(gbc.c(),  0x41);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xf26);
        EXPECT(gbc.pc(), 0x8f8c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8f8a), 0xe6);
        EXPECT(gbc.readMem(0x8f8b), 0x80);
        // E6 0291
        gbc.setState(0x63c2, 0xded, 0xd2e0, 0x8bc2, 0x8353, 0xae21, 0x1, 0x0);
        gbc.writeMem(0x63c2, { 0xe6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x8b);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xded);
        EXPECT(gbc.pc(), 0x63c4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0292
        gbc.setState(0x903e, 0xd32d, 0x25d0, 0x9f67, 0x60c5, 0xe252, 0x1, 0x1);
        gbc.writeMem(0x903e, { 0xe6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x9f);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0xc5);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xd32d);
        EXPECT(gbc.pc(), 0x9040);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x903e), 0xe6);
        EXPECT(gbc.readMem(0x903f), 0x88);
        // E6 0293
        gbc.setState(0x506, 0x2cbb, 0xa180, 0x4f86, 0x24f0, 0xb83e, 0x1, 0x1);
        gbc.writeMem(0x506, { 0xe6, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0x4f);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x24);
        EXPECT(gbc.e(),  0xf0);
        EXPECT(gbc.h(),  0xb8);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0x2cbb);
        EXPECT(gbc.pc(), 0x508);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0294
        gbc.setState(0x847a, 0x5a0, 0xa0a0, 0xee, 0xffbb, 0xa00c, 0x0, 0x1);
        gbc.writeMem(0x847a, { 0xe6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x0);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x5a0);
        EXPECT(gbc.pc(), 0x847c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x847a), 0xe6);
        EXPECT(gbc.readMem(0x847b), 0x2f);
        // E6 0295
        gbc.setState(0x899c, 0x74ae, 0x8320, 0x17c3, 0x65b4, 0x7058, 0x1, 0x0);
        gbc.writeMem(0x899c, { 0xe6, 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x70);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0x74ae);
        EXPECT(gbc.pc(), 0x899e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x899c), 0xe6);
        EXPECT(gbc.readMem(0x899d), 0xd);
        // E6 0296
        gbc.setState(0x20c6, 0x8ed2, 0x260, 0x4b06, 0xdc73, 0xe142, 0x0, 0x0);
        gbc.writeMem(0x20c6, { 0xe6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x4b);
        EXPECT(gbc.c(),  0x6);
        EXPECT(gbc.d(),  0xdc);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0x8ed2);
        EXPECT(gbc.pc(), 0x20c8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0297
        gbc.setState(0xca6d, 0xf9ac, 0x38e0, 0xf886, 0xdc8, 0x983a, 0x0, 0x1);
        gbc.writeMem(0xca6d, { 0xe6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xf8);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0xc8);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x3a);
        EXPECT(gbc.sp(), 0xf9ac);
        EXPECT(gbc.pc(), 0xca6f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca6d), 0xe6);
        EXPECT(gbc.readMem(0xca6e), 0xda);
        // E6 0298
        gbc.setState(0x5edc, 0xd11d, 0xd230, 0x7723, 0x49d9, 0x79ae, 0x1, 0x0);
        gbc.writeMem(0x5edc, { 0xe6, 0xac });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x77);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x79);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xd11d);
        EXPECT(gbc.pc(), 0x5ede);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0299
        gbc.setState(0xd191, 0x32d7, 0x7370, 0x7bf7, 0xbac1, 0x7cfd, 0x0, 0x1);
        gbc.writeMem(0xd191, { 0xe6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x7b);
        EXPECT(gbc.c(),  0xf7);
        EXPECT(gbc.d(),  0xba);
        EXPECT(gbc.e(),  0xc1);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x32d7);
        EXPECT(gbc.pc(), 0xd193);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd191), 0xe6);
        EXPECT(gbc.readMem(0xd192), 0x47);
        // E6 029A
        gbc.setState(0xe800, 0x43be, 0xed90, 0x4a4b, 0xc508, 0x7f44, 0x1, 0x0);
        gbc.writeMem(0xe800, { 0xe6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0xc8);
        EXPECT(gbc.b(),  0x4a);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xc5);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x43be);
        EXPECT(gbc.pc(), 0xe802);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe800), 0xe6);
        EXPECT(gbc.readMem(0xe801), 0xca);
        // E6 029B
        gbc.setState(0x35df, 0xbde7, 0x22c0, 0x83a7, 0xbf1d, 0x355b, 0x0, 0x0);
        gbc.writeMem(0x35df, { 0xe6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x1d);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0xbde7);
        EXPECT(gbc.pc(), 0x35e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 029C
        gbc.setState(0x7a53, 0xd453, 0x3f0, 0xf96e, 0x4594, 0x770d, 0x1, 0x0);
        gbc.writeMem(0x7a53, { 0xe6, 0x97 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0x6e);
        EXPECT(gbc.d(),  0x45);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x77);
        EXPECT(gbc.l(),  0xd);
        EXPECT(gbc.sp(), 0xd453);
        EXPECT(gbc.pc(), 0x7a55);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 029D
        gbc.setState(0x7999, 0x9974, 0x47d0, 0x11d5, 0xdf26, 0x2cb9, 0x1, 0x0);
        gbc.writeMem(0x7999, { 0xe6, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x26);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0x9974);
        EXPECT(gbc.pc(), 0x799b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 029E
        gbc.setState(0x20a4, 0x9251, 0xeed0, 0xe3be, 0x15dd, 0x31a3, 0x0, 0x1);
        gbc.writeMem(0x20a4, { 0xe6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xbe);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xa3);
        EXPECT(gbc.sp(), 0x9251);
        EXPECT(gbc.pc(), 0x20a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 029F
        gbc.setState(0xb937, 0x8a52, 0xc520, 0x9409, 0xc202, 0xade3, 0x0, 0x1);
        gbc.writeMem(0xb937, { 0xe6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x94);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0xc2);
        EXPECT(gbc.e(),  0x2);
        EXPECT(gbc.h(),  0xad);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0x8a52);
        EXPECT(gbc.pc(), 0xb939);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb937), 0xe6);
        EXPECT(gbc.readMem(0xb938), 0x2e);
        // E6 02A0
        gbc.setState(0x903e, 0x8f6e, 0xcd0, 0x2b76, 0xfd1f, 0x6014, 0x1, 0x0);
        gbc.writeMem(0x903e, { 0xe6, 0x88 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0x8f6e);
        EXPECT(gbc.pc(), 0x9040);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x903e), 0xe6);
        EXPECT(gbc.readMem(0x903f), 0x88);
        // E6 02A1
        gbc.setState(0x9826, 0x6df2, 0xf720, 0x4c5b, 0xfea5, 0xa691, 0x1, 0x1);
        gbc.writeMem(0x9826, { 0xe6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x4c);
        EXPECT(gbc.c(),  0x5b);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x6df2);
        EXPECT(gbc.pc(), 0x9828);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9826), 0xe6);
        EXPECT(gbc.readMem(0x9827), 0x60);
        // E6 02A2
        gbc.setState(0xecb6, 0x8890, 0x7d50, 0x8e54, 0xfc76, 0xdd02, 0x1, 0x1);
        gbc.writeMem(0xecb6, { 0xe6, 0xb9 });
        gbc.step();
        EXPECT(gbc.a(),  0x39);
        EXPECT(gbc.b(),  0x8e);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x8890);
        EXPECT(gbc.pc(), 0xecb8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xecb6), 0xe6);
        EXPECT(gbc.readMem(0xecb7), 0xb9);
        // E6 02A3
        gbc.setState(0x788, 0xe6bb, 0x9b40, 0x3a09, 0x9eca, 0x21e3, 0x0, 0x0);
        gbc.writeMem(0x788, { 0xe6, 0x62 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0x9);
        EXPECT(gbc.d(),  0x9e);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xe6bb);
        EXPECT(gbc.pc(), 0x78a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02A4
        gbc.setState(0x9bdb, 0xbde, 0xc050, 0x6e7c, 0xf222, 0x174c, 0x0, 0x1);
        gbc.writeMem(0x9bdb, { 0xe6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x7c);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xbde);
        EXPECT(gbc.pc(), 0x9bdd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9bdb), 0xe6);
        EXPECT(gbc.readMem(0x9bdc), 0x43);
        // E6 02A5
        gbc.setState(0x854f, 0xabd4, 0xae80, 0xafef, 0x3acc, 0x3fdf, 0x1, 0x1);
        gbc.writeMem(0x854f, { 0xe6, 0x8d });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x3a);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xabd4);
        EXPECT(gbc.pc(), 0x8551);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x854f), 0xe6);
        EXPECT(gbc.readMem(0x8550), 0x8d);
        // E6 02A6
        gbc.setState(0x9d0d, 0xdd9, 0x58e0, 0x9391, 0x422, 0x8821, 0x1, 0x0);
        gbc.writeMem(0x9d0d, { 0xe6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x93);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xdd9);
        EXPECT(gbc.pc(), 0x9d0f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9d0d), 0xe6);
        EXPECT(gbc.readMem(0x9d0e), 0x51);
        // E6 02A7
        gbc.setState(0xd2dd, 0xccc6, 0xc600, 0xf033, 0x9188, 0xe141, 0x0, 0x1);
        gbc.writeMem(0xd2dd, { 0xe6, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x33);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xccc6);
        EXPECT(gbc.pc(), 0xd2df);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd2dd), 0xe6);
        EXPECT(gbc.readMem(0xd2de), 0xf3);
        // E6 02A8
        gbc.setState(0x7beb, 0x2e52, 0xc200, 0xc065, 0xb004, 0x9439, 0x1, 0x1);
        gbc.writeMem(0x7beb, { 0xe6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0xb0);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x39);
        EXPECT(gbc.sp(), 0x2e52);
        EXPECT(gbc.pc(), 0x7bed);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02A9
        gbc.setState(0x9429, 0xd45b, 0x7860, 0xa239, 0x700, 0x43df, 0x1, 0x1);
        gbc.writeMem(0x9429, { 0xe6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xa2);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xd45b);
        EXPECT(gbc.pc(), 0x942b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9429), 0xe6);
        EXPECT(gbc.readMem(0x942a), 0xb4);
        // E6 02AA
        gbc.setState(0xda8a, 0x23a4, 0xc860, 0xd7b6, 0x6d8d, 0x158c, 0x0, 0x0);
        gbc.writeMem(0xda8a, { 0xe6, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xd7);
        EXPECT(gbc.c(),  0xb6);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0x23a4);
        EXPECT(gbc.pc(), 0xda8c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xda8a), 0xe6);
        EXPECT(gbc.readMem(0xda8b), 0xe);
        // E6 02AB
        gbc.setState(0x82e, 0x1710, 0x5510, 0xb9f3, 0xfb0f, 0x20a1, 0x1, 0x0);
        gbc.writeMem(0x82e, { 0xe6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x45);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xf3);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x1710);
        EXPECT(gbc.pc(), 0x830);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02AC
        gbc.setState(0xe066, 0x1007, 0xa870, 0xb6a9, 0x8eb0, 0xfddf, 0x0, 0x0);
        gbc.writeMem(0xe066, { 0xe6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0xa9);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xb0);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0x1007);
        EXPECT(gbc.pc(), 0xe068);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe066), 0xe6);
        EXPECT(gbc.readMem(0xe067), 0x7a);
        // E6 02AD
        gbc.setState(0x3b12, 0x3b, 0x3770, 0x5d76, 0x8e93, 0x69fc, 0x1, 0x0);
        gbc.writeMem(0x3b12, { 0xe6, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x5d);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0x93);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x3b);
        EXPECT(gbc.pc(), 0x3b14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02AE
        gbc.setState(0x1d24, 0xea22, 0x1210, 0x619e, 0x7cba, 0xf258, 0x0, 0x0);
        gbc.writeMem(0x1d24, { 0xe6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x61);
        EXPECT(gbc.c(),  0x9e);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xea22);
        EXPECT(gbc.pc(), 0x1d26);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02AF
        gbc.setState(0xaeab, 0xdf8c, 0x5e00, 0xd100, 0x3892, 0x63e1, 0x0, 0x0);
        gbc.writeMem(0xaeab, { 0xe6, 0x92 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xd1);
        EXPECT(gbc.c(),  0x0);
        EXPECT(gbc.d(),  0x38);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xe1);
        EXPECT(gbc.sp(), 0xdf8c);
        EXPECT(gbc.pc(), 0xaead);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaeab), 0xe6);
        EXPECT(gbc.readMem(0xaeac), 0x92);
        // E6 02B0
        gbc.setState(0x555a, 0xa1d2, 0xe0c0, 0x64cc, 0x800e, 0xd7fa, 0x1, 0x1);
        gbc.writeMem(0x555a, { 0xe6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc0);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xa1d2);
        EXPECT(gbc.pc(), 0x555c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02B1
        gbc.setState(0x7f01, 0x97da, 0xd5d0, 0xd45d, 0x6f65, 0x882c, 0x1, 0x0);
        gbc.writeMem(0x7f01, { 0xe6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0x97da);
        EXPECT(gbc.pc(), 0x7f03);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02B3
        gbc.setState(0xe47b, 0xee3, 0x1f70, 0xb8a7, 0xaa8d, 0x5598, 0x1, 0x1);
        gbc.writeMem(0xe47b, { 0xe6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0xee3);
        EXPECT(gbc.pc(), 0xe47d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe47b), 0xe6);
        EXPECT(gbc.readMem(0xe47c), 0x72);
        // E6 02B4
        gbc.setState(0x64c5, 0x322f, 0x3830, 0x5099, 0x191b, 0x991c, 0x1, 0x0);
        gbc.writeMem(0x64c5, { 0xe6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x99);
        EXPECT(gbc.d(),  0x19);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x99);
        EXPECT(gbc.l(),  0x1c);
        EXPECT(gbc.sp(), 0x322f);
        EXPECT(gbc.pc(), 0x64c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02B5
        gbc.setState(0xb952, 0x4e0, 0x24f0, 0x662e, 0xc076, 0x7f0b, 0x0, 0x1);
        gbc.writeMem(0xb952, { 0xe6, 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xc0);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x4e0);
        EXPECT(gbc.pc(), 0xb954);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb952), 0xe6);
        EXPECT(gbc.readMem(0xb953), 0xd);
        // E6 02B7
        gbc.setState(0xb4e2, 0x3ab9, 0x2600, 0xb7b2, 0x6a68, 0xdfa4, 0x0, 0x0);
        gbc.writeMem(0xb4e2, { 0xe6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x68);
        EXPECT(gbc.h(),  0xdf);
        EXPECT(gbc.l(),  0xa4);
        EXPECT(gbc.sp(), 0x3ab9);
        EXPECT(gbc.pc(), 0xb4e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb4e2), 0xe6);
        EXPECT(gbc.readMem(0xb4e3), 0x82);
        // E6 02B8
        gbc.setState(0x3cc6, 0x4ae9, 0x25e0, 0x3e87, 0xd59b, 0x1347, 0x0, 0x1);
        gbc.writeMem(0x3cc6, { 0xe6, 0x50 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0x87);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0x13);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x4ae9);
        EXPECT(gbc.pc(), 0x3cc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02BA
        gbc.setState(0x31d7, 0x43a3, 0x59c0, 0xeb1, 0x22fa, 0x834a, 0x0, 0x1);
        gbc.writeMem(0x31d7, { 0xe6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xb1);
        EXPECT(gbc.d(),  0x22);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0x83);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0x43a3);
        EXPECT(gbc.pc(), 0x31d9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02BB
        gbc.setState(0x9487, 0x6f2, 0xe9b0, 0x595e, 0x5738, 0xc0a6, 0x1, 0x0);
        gbc.writeMem(0x9487, { 0xe6, 0xba });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0x57);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x6f2);
        EXPECT(gbc.pc(), 0x9489);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9487), 0xe6);
        EXPECT(gbc.readMem(0x9488), 0xba);
        // E6 02BC
        gbc.setState(0xee29, 0x4596, 0x4940, 0xa0e7, 0xd15b, 0xa036, 0x1, 0x1);
        gbc.writeMem(0xee29, { 0xe6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xd1);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0x4596);
        EXPECT(gbc.pc(), 0xee2b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xee29), 0xe6);
        EXPECT(gbc.readMem(0xee2a), 0x52);
        // E6 02BD
        gbc.setState(0xec5e, 0x37df, 0x6470, 0x416a, 0x18b4, 0x469d, 0x0, 0x0);
        gbc.writeMem(0xec5e, { 0xe6, 0x6a });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x6a);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x9d);
        EXPECT(gbc.sp(), 0x37df);
        EXPECT(gbc.pc(), 0xec60);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec5e), 0xe6);
        EXPECT(gbc.readMem(0xec5f), 0x6a);
        // E6 02BE
        gbc.setState(0xdbd4, 0x930c, 0x7ad0, 0xaf0, 0xf0ce, 0x24cd, 0x0, 0x1);
        gbc.writeMem(0xdbd4, { 0xe6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xce);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0x930c);
        EXPECT(gbc.pc(), 0xdbd6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbd4), 0xe6);
        EXPECT(gbc.readMem(0xdbd5), 0x19);
        // E6 02BF
        gbc.setState(0xefc9, 0x7953, 0xfa60, 0xd076, 0xf20f, 0x6a19, 0x1, 0x0);
        gbc.writeMem(0xefc9, { 0xe6, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0x76);
        EXPECT(gbc.d(),  0xf2);
        EXPECT(gbc.e(),  0xf);
        EXPECT(gbc.h(),  0x6a);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x7953);
        EXPECT(gbc.pc(), 0xefcb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefc9), 0xe6);
        EXPECT(gbc.readMem(0xefca), 0xe);
        // E6 02C0
        gbc.setState(0x4471, 0x9762, 0xed60, 0x336d, 0xe09c, 0x8ab8, 0x0, 0x1);
        gbc.writeMem(0x4471, { 0xe6, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0xc9);
        EXPECT(gbc.b(),  0x33);
        EXPECT(gbc.c(),  0x6d);
        EXPECT(gbc.d(),  0xe0);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x8a);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x9762);
        EXPECT(gbc.pc(), 0x4473);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02C1
        gbc.setState(0x27b5, 0x1de4, 0x95d0, 0x12f4, 0x77c, 0x226f, 0x0, 0x1);
        gbc.writeMem(0x27b5, { 0xe6, 0xdd });
        gbc.step();
        EXPECT(gbc.a(),  0x95);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x7c);
        EXPECT(gbc.h(),  0x22);
        EXPECT(gbc.l(),  0x6f);
        EXPECT(gbc.sp(), 0x1de4);
        EXPECT(gbc.pc(), 0x27b7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02C2
        gbc.setState(0x2374, 0x39f4, 0xa590, 0x3dec, 0x7f, 0x8991, 0x0, 0x1);
        gbc.writeMem(0x2374, { 0xe6, 0x5c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0x39f4);
        EXPECT(gbc.pc(), 0x2376);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02C3
        gbc.setState(0x209d, 0x80ec, 0xd580, 0x7d2e, 0xbb34, 0xf71a, 0x0, 0x0);
        gbc.writeMem(0x209d, { 0xe6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0xd0);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xbb);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x1a);
        EXPECT(gbc.sp(), 0x80ec);
        EXPECT(gbc.pc(), 0x209f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02C4
        gbc.setState(0x9c04, 0x1d60, 0x4570, 0xc52c, 0x54a5, 0xc84, 0x1, 0x0);
        gbc.writeMem(0x9c04, { 0xe6, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xc5);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x54);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0xc);
        EXPECT(gbc.l(),  0x84);
        EXPECT(gbc.sp(), 0x1d60);
        EXPECT(gbc.pc(), 0x9c06);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c04), 0xe6);
        EXPECT(gbc.readMem(0x9c05), 0x7c);
        // E6 02C5
        gbc.setState(0x5f13, 0x8d08, 0x6580, 0x624e, 0x2637, 0xa4ea, 0x0, 0x1);
        gbc.writeMem(0x5f13, { 0xe6, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x62);
        EXPECT(gbc.c(),  0x4e);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x37);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0xea);
        EXPECT(gbc.sp(), 0x8d08);
        EXPECT(gbc.pc(), 0x5f15);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02C6
        gbc.setState(0x3933, 0x3526, 0x5f0, 0x6924, 0xd74, 0xfcbd, 0x1, 0x1);
        gbc.writeMem(0x3933, { 0xe6, 0xed });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x69);
        EXPECT(gbc.c(),  0x24);
        EXPECT(gbc.d(),  0xd);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x3526);
        EXPECT(gbc.pc(), 0x3935);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02C8
        gbc.setState(0x6675, 0xd7be, 0x14a0, 0xa04, 0x4a1b, 0x3283, 0x1, 0x0);
        gbc.writeMem(0x6675, { 0xe6, 0x8b });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0x4a);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x32);
        EXPECT(gbc.l(),  0x83);
        EXPECT(gbc.sp(), 0xd7be);
        EXPECT(gbc.pc(), 0x6677);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02C9
        gbc.setState(0x9c0d, 0xd48b, 0x1230, 0xeedf, 0xa61f, 0xb330, 0x0, 0x1);
        gbc.writeMem(0x9c0d, { 0xe6, 0xa });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xdf);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xd48b);
        EXPECT(gbc.pc(), 0x9c0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c0d), 0xe6);
        EXPECT(gbc.readMem(0x9c0e), 0xa);
        // E6 02CA
        gbc.setState(0x1aaf, 0xdf5a, 0xa970, 0xccf9, 0xdb86, 0xd891, 0x1, 0x1);
        gbc.writeMem(0x1aaf, { 0xe6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0xf9);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xd8);
        EXPECT(gbc.l(),  0x91);
        EXPECT(gbc.sp(), 0xdf5a);
        EXPECT(gbc.pc(), 0x1ab1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02CB
        gbc.setState(0xa030, 0x489e, 0xea60, 0x95f2, 0x7374, 0xc0de, 0x0, 0x1);
        gbc.writeMem(0xa030, { 0xe6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0xca);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xf2);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x489e);
        EXPECT(gbc.pc(), 0xa032);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa030), 0xe6);
        EXPECT(gbc.readMem(0xa031), 0xdb);
        // E6 02CC
        gbc.setState(0x549f, 0x64da, 0x45a0, 0x1293, 0x2b64, 0x1259, 0x1, 0x0);
        gbc.writeMem(0x549f, { 0xe6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0x64);
        EXPECT(gbc.h(),  0x12);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0x64da);
        EXPECT(gbc.pc(), 0x54a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02CD
        gbc.setState(0x16ae, 0xb2b2, 0xcc0, 0x1f02, 0xec3d, 0x4a96, 0x0, 0x1);
        gbc.writeMem(0x16ae, { 0xe6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xec);
        EXPECT(gbc.e(),  0x3d);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0xb2b2);
        EXPECT(gbc.pc(), 0x16b0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02CE
        gbc.setState(0x5456, 0x6c37, 0x8e50, 0x3ad0, 0x29af, 0x85f0, 0x1, 0x1);
        gbc.writeMem(0x5456, { 0xe6, 0x7a });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0x3a);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x6c37);
        EXPECT(gbc.pc(), 0x5458);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02CF
        gbc.setState(0x7347, 0x1588, 0x3f80, 0x36b2, 0xa792, 0xba02, 0x0, 0x1);
        gbc.writeMem(0x7347, { 0xe6, 0xda });
        gbc.step();
        EXPECT(gbc.a(),  0x1a);
        EXPECT(gbc.b(),  0x36);
        EXPECT(gbc.c(),  0xb2);
        EXPECT(gbc.d(),  0xa7);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0xba);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x1588);
        EXPECT(gbc.pc(), 0x7349);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02D0
        gbc.setState(0xce49, 0x9881, 0xe670, 0x53d6, 0x23b8, 0xcd8e, 0x1, 0x0);
        gbc.writeMem(0xce49, { 0xe6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0xd6);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xb8);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0x9881);
        EXPECT(gbc.pc(), 0xce4b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xce49), 0xe6);
        EXPECT(gbc.readMem(0xce4a), 0x20);
        // E6 02D1
        gbc.setState(0x7979, 0xd6b1, 0xced0, 0x951a, 0xfc8d, 0xd211, 0x0, 0x1);
        gbc.writeMem(0x7979, { 0xe6, 0x21 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xd2);
        EXPECT(gbc.l(),  0x11);
        EXPECT(gbc.sp(), 0xd6b1);
        EXPECT(gbc.pc(), 0x797b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02D2
        gbc.setState(0x198b, 0x83ad, 0x22f0, 0x85d0, 0xa42d, 0x9743, 0x0, 0x1);
        gbc.writeMem(0x198b, { 0xe6, 0x83 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x85);
        EXPECT(gbc.c(),  0xd0);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x43);
        EXPECT(gbc.sp(), 0x83ad);
        EXPECT(gbc.pc(), 0x198d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02D3
        gbc.setState(0x241b, 0xf2d6, 0x35b0, 0xd695, 0xf8a1, 0x10d1, 0x1, 0x1);
        gbc.writeMem(0x241b, { 0xe6, 0xeb });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0xd6);
        EXPECT(gbc.c(),  0x95);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x10);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xf2d6);
        EXPECT(gbc.pc(), 0x241d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02D4
        gbc.setState(0x4703, 0x1da3, 0xa3f0, 0x5340, 0x6179, 0x607e, 0x1, 0x0);
        gbc.writeMem(0x4703, { 0xe6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0xa2);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0x1da3);
        EXPECT(gbc.pc(), 0x4705);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02D5
        gbc.setState(0x65ed, 0xb799, 0x9fc0, 0x91e3, 0xdf23, 0xc53b, 0x0, 0x0);
        gbc.writeMem(0x65ed, { 0xe6, 0x6f });
        gbc.step();
        EXPECT(gbc.a(),  0xf);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xe3);
        EXPECT(gbc.d(),  0xdf);
        EXPECT(gbc.e(),  0x23);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0x3b);
        EXPECT(gbc.sp(), 0xb799);
        EXPECT(gbc.pc(), 0x65ef);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02D6
        gbc.setState(0x6c52, 0x8775, 0x9700, 0xdb02, 0xa657, 0x14e2, 0x1, 0x0);
        gbc.writeMem(0x6c52, { 0xe6, 0xb6 });
        gbc.step();
        EXPECT(gbc.a(),  0x96);
        EXPECT(gbc.b(),  0xdb);
        EXPECT(gbc.c(),  0x2);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x14);
        EXPECT(gbc.l(),  0xe2);
        EXPECT(gbc.sp(), 0x8775);
        EXPECT(gbc.pc(), 0x6c54);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02D7
        gbc.setState(0xb8d6, 0x79de, 0x4400, 0x3b19, 0x7c74, 0xedc7, 0x0, 0x1);
        gbc.writeMem(0xb8d6, { 0xe6, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x74);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x79de);
        EXPECT(gbc.pc(), 0xb8d8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb8d6), 0xe6);
        EXPECT(gbc.readMem(0xb8d7), 0x7c);
        // E6 02D8
        gbc.setState(0x82b0, 0xa416, 0x1370, 0x46a8, 0x7045, 0x7622, 0x1, 0x0);
        gbc.writeMem(0x82b0, { 0xe6, 0x8e });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0xa8);
        EXPECT(gbc.d(),  0x70);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0x76);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xa416);
        EXPECT(gbc.pc(), 0x82b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82b0), 0xe6);
        EXPECT(gbc.readMem(0x82b1), 0x8e);
        // E6 02D9
        gbc.setState(0x26b3, 0x11b6, 0x9ce0, 0xa0ed, 0xa17f, 0xed46, 0x0, 0x1);
        gbc.writeMem(0x26b3, { 0xe6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xed);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0xed);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x11b6);
        EXPECT(gbc.pc(), 0x26b5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02DA
        gbc.setState(0xdd48, 0x6705, 0x4da0, 0x3ff0, 0x3b9f, 0xa15d, 0x1, 0x0);
        gbc.writeMem(0xdd48, { 0xe6, 0x98 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xf0);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x9f);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x6705);
        EXPECT(gbc.pc(), 0xdd4a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdd48), 0xe6);
        EXPECT(gbc.readMem(0xdd49), 0x98);
        // E6 02DB
        gbc.setState(0x753b, 0x269f, 0x4370, 0x446b, 0x1722, 0xf8fd, 0x0, 0x0);
        gbc.writeMem(0x753b, { 0xe6, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x269f);
        EXPECT(gbc.pc(), 0x753d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02DC
        gbc.setState(0x39fd, 0x211c, 0x23f0, 0x818e, 0xa041, 0x85a1, 0x1, 0x1);
        gbc.writeMem(0x39fd, { 0xe6, 0x18 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xa0);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0x85);
        EXPECT(gbc.l(),  0xa1);
        EXPECT(gbc.sp(), 0x211c);
        EXPECT(gbc.pc(), 0x39ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02DD
        gbc.setState(0xbf25, 0xbe20, 0x9650, 0xf3b3, 0x787f, 0x80d9, 0x1, 0x1);
        gbc.writeMem(0xbf25, { 0xe6, 0xd2 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0xbe20);
        EXPECT(gbc.pc(), 0xbf27);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbf25), 0xe6);
        EXPECT(gbc.readMem(0xbf26), 0xd2);
        // E6 02DE
        gbc.setState(0x177f, 0xdb65, 0x7a0, 0x124f, 0xa100, 0x3f45, 0x0, 0x0);
        gbc.writeMem(0x177f, { 0xe6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x12);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0xa1);
        EXPECT(gbc.e(),  0x0);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x45);
        EXPECT(gbc.sp(), 0xdb65);
        EXPECT(gbc.pc(), 0x1781);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02DF
        gbc.setState(0x8a32, 0x738, 0x4620, 0xe7a6, 0xb382, 0xdc1e, 0x1, 0x1);
        gbc.writeMem(0x8a32, { 0xe6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x738);
        EXPECT(gbc.pc(), 0x8a34);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8a32), 0xe6);
        EXPECT(gbc.readMem(0x8a33), 0xf8);
        // E6 02E0
        gbc.setState(0x97aa, 0xff5c, 0x3060, 0x9e91, 0xee8a, 0x67b9, 0x0, 0x0);
        gbc.writeMem(0x97aa, { 0xe6, 0x84 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x91);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xff5c);
        EXPECT(gbc.pc(), 0x97ac);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x97aa), 0xe6);
        EXPECT(gbc.readMem(0x97ab), 0x84);
        // E6 02E1
        gbc.setState(0x5c34, 0x1346, 0xe8b0, 0x4132, 0xbf8d, 0xffb8, 0x0, 0x1);
        gbc.writeMem(0x5c34, { 0xe6, 0x82 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xbf);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xff);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0x1346);
        EXPECT(gbc.pc(), 0x5c36);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02E3
        gbc.setState(0x8583, 0xe099, 0x2980, 0x3fe5, 0x4ed9, 0x1eb0, 0x0, 0x0);
        gbc.writeMem(0x8583, { 0xe6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x4e);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0x1e);
        EXPECT(gbc.l(),  0xb0);
        EXPECT(gbc.sp(), 0xe099);
        EXPECT(gbc.pc(), 0x8585);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8583), 0xe6);
        EXPECT(gbc.readMem(0x8584), 0xd4);
        // E6 02E5
        gbc.setState(0x6a70, 0x29ea, 0x4150, 0x1ae5, 0x7b2e, 0xf468, 0x0, 0x0);
        gbc.writeMem(0x6a70, { 0xe6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xe5);
        EXPECT(gbc.d(),  0x7b);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0x29ea);
        EXPECT(gbc.pc(), 0x6a72);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02E6
        gbc.setState(0x435b, 0x19d1, 0xf20, 0x81ca, 0x1492, 0x38f0, 0x0, 0x0);
        gbc.writeMem(0x435b, { 0xe6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x92);
        EXPECT(gbc.h(),  0x38);
        EXPECT(gbc.l(),  0xf0);
        EXPECT(gbc.sp(), 0x19d1);
        EXPECT(gbc.pc(), 0x435d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02E7
        gbc.setState(0xd08, 0xa124, 0x5e40, 0xe1d9, 0x67cc, 0xc768, 0x1, 0x0);
        gbc.writeMem(0xd08, { 0xe6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x5c);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x67);
        EXPECT(gbc.e(),  0xcc);
        EXPECT(gbc.h(),  0xc7);
        EXPECT(gbc.l(),  0x68);
        EXPECT(gbc.sp(), 0xa124);
        EXPECT(gbc.pc(), 0xd0a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02E8
        gbc.setState(0x35fd, 0x2edb, 0x9910, 0x9a4f, 0x40af, 0xcc5d, 0x1, 0x1);
        gbc.writeMem(0x35fd, { 0xe6, 0x32 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0x4f);
        EXPECT(gbc.d(),  0x40);
        EXPECT(gbc.e(),  0xaf);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x2edb);
        EXPECT(gbc.pc(), 0x35ff);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02E9
        gbc.setState(0xaa05, 0x833f, 0x7f20, 0xc635, 0x5891, 0x7fc7, 0x1, 0x1);
        gbc.writeMem(0xaa05, { 0xe6, 0x86 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xc6);
        EXPECT(gbc.c(),  0x35);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0x833f);
        EXPECT(gbc.pc(), 0xaa07);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa05), 0xe6);
        EXPECT(gbc.readMem(0xaa06), 0x86);
        // E6 02EA
        gbc.setState(0x1446, 0x889e, 0x8f00, 0xa164, 0xf853, 0x93cf, 0x1, 0x1);
        gbc.writeMem(0x1446, { 0xe6, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0x8d);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0xf8);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x93);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x889e);
        EXPECT(gbc.pc(), 0x1448);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02EB
        gbc.setState(0x4ecd, 0xe0bf, 0x2890, 0x6cb, 0x2ffb, 0x3ffa, 0x1, 0x0);
        gbc.writeMem(0x4ecd, { 0xe6, 0xf5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0xfa);
        EXPECT(gbc.sp(), 0xe0bf);
        EXPECT(gbc.pc(), 0x4ecf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02EC
        gbc.setState(0xe6ef, 0xd145, 0x6430, 0xacf4, 0x7f4, 0x234a, 0x1, 0x0);
        gbc.writeMem(0xe6ef, { 0xe6, 0x23 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xac);
        EXPECT(gbc.c(),  0xf4);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x23);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xd145);
        EXPECT(gbc.pc(), 0xe6f1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe6ef), 0xe6);
        EXPECT(gbc.readMem(0xe6f0), 0x23);
        // E6 02ED
        gbc.setState(0x26fa, 0xe8c5, 0x5540, 0x3f29, 0xedb9, 0x7a23, 0x1, 0x0);
        gbc.writeMem(0x26fa, { 0xe6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x3f);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xb9);
        EXPECT(gbc.h(),  0x7a);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xe8c5);
        EXPECT(gbc.pc(), 0x26fc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02EE
        gbc.setState(0xa3b, 0x3584, 0x1820, 0x3236, 0x433a, 0x5a10, 0x1, 0x1);
        gbc.writeMem(0xa3b, { 0xe6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x43);
        EXPECT(gbc.e(),  0x3a);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x10);
        EXPECT(gbc.sp(), 0x3584);
        EXPECT(gbc.pc(), 0xa3d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02EF
        gbc.setState(0xb588, 0xbb3, 0xd650, 0xbee, 0x5347, 0x19a2, 0x1, 0x1);
        gbc.writeMem(0xb588, { 0xe6, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x54);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xa2);
        EXPECT(gbc.sp(), 0xbb3);
        EXPECT(gbc.pc(), 0xb58a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb588), 0xe6);
        EXPECT(gbc.readMem(0xb589), 0x7c);
        // E6 02F0
        gbc.setState(0x65e4, 0x24cc, 0xa300, 0x255e, 0xb4a3, 0x15b, 0x0, 0x0);
        gbc.writeMem(0x65e4, { 0xe6, 0x4 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x5e);
        EXPECT(gbc.d(),  0xb4);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x24cc);
        EXPECT(gbc.pc(), 0x65e6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02F1
        gbc.setState(0x3551, 0xfd07, 0xb0b0, 0xba2c, 0x1278, 0x889e, 0x1, 0x0);
        gbc.writeMem(0x3551, { 0xe6, 0x71 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x2c);
        EXPECT(gbc.d(),  0x12);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x88);
        EXPECT(gbc.l(),  0x9e);
        EXPECT(gbc.sp(), 0xfd07);
        EXPECT(gbc.pc(), 0x3553);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02F2
        gbc.setState(0x9662, 0xac0, 0xa910, 0x6f1a, 0xc70e, 0x4ce6, 0x0, 0x1);
        gbc.writeMem(0x9662, { 0xe6, 0x26 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x1a);
        EXPECT(gbc.d(),  0xc7);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0xac0);
        EXPECT(gbc.pc(), 0x9664);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9662), 0xe6);
        EXPECT(gbc.readMem(0x9663), 0x26);
        // E6 02F3
        gbc.setState(0x7865, 0xb245, 0x5970, 0xf9ef, 0xaf11, 0x58fc, 0x1, 0x0);
        gbc.writeMem(0x7865, { 0xe6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0xf9);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0x11);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0xb245);
        EXPECT(gbc.pc(), 0x7867);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02F4
        gbc.setState(0x9c50, 0x157b, 0x960, 0xc83a, 0x7677, 0xdca9, 0x0, 0x0);
        gbc.writeMem(0x9c50, { 0xe6, 0x51 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xc8);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x76);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0x157b);
        EXPECT(gbc.pc(), 0x9c52);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c50), 0xe6);
        EXPECT(gbc.readMem(0x9c51), 0x51);
        // E6 02F5
        gbc.setState(0x3b65, 0x4aad, 0x8920, 0xeed1, 0xf58, 0x27d0, 0x0, 0x1);
        gbc.writeMem(0x3b65, { 0xe6, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xd1);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0xd0);
        EXPECT(gbc.sp(), 0x4aad);
        EXPECT(gbc.pc(), 0x3b67);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02F6
        gbc.setState(0xef46, 0xfc58, 0xa510, 0x20e4, 0x4288, 0x203e, 0x0, 0x0);
        gbc.writeMem(0xef46, { 0xe6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x42);
        EXPECT(gbc.e(),  0x88);
        EXPECT(gbc.h(),  0x20);
        EXPECT(gbc.l(),  0x3e);
        EXPECT(gbc.sp(), 0xfc58);
        EXPECT(gbc.pc(), 0xef48);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xef46), 0xe6);
        EXPECT(gbc.readMem(0xef47), 0x6b);
        // E6 02F7
        gbc.setState(0x12d2, 0xc388, 0xeed0, 0x1abd, 0x3d85, 0xee1d, 0x0, 0x0);
        gbc.writeMem(0x12d2, { 0xe6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x3d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xee);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xc388);
        EXPECT(gbc.pc(), 0x12d4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02F8
        gbc.setState(0xd5c1, 0x631, 0x1ce0, 0xcc93, 0xb5a0, 0x17f5, 0x0, 0x0);
        gbc.writeMem(0xd5c1, { 0xe6, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xcc);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0xa0);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x631);
        EXPECT(gbc.pc(), 0xd5c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5c1), 0xe6);
        EXPECT(gbc.readMem(0xd5c2), 0xcb);
        // E6 02F9
        gbc.setState(0x482d, 0xb392, 0xf230, 0xf5c3, 0x6f34, 0x2458, 0x1, 0x0);
        gbc.writeMem(0x482d, { 0xe6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xb392);
        EXPECT(gbc.pc(), 0x482f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02FA
        gbc.setState(0xc32a, 0x3275, 0x8ed0, 0xd371, 0xd304, 0xd582, 0x1, 0x1);
        gbc.writeMem(0xc32a, { 0xe6, 0x81 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xd3);
        EXPECT(gbc.c(),  0x71);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0x4);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0x3275);
        EXPECT(gbc.pc(), 0xc32c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc32a), 0xe6);
        EXPECT(gbc.readMem(0xc32b), 0x81);
        // E6 02FB
        gbc.setState(0x7c4d, 0xdc2, 0x61f0, 0xd27, 0xfe80, 0x1507, 0x0, 0x0);
        gbc.writeMem(0x7c4d, { 0xe6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0xd);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x80);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xdc2);
        EXPECT(gbc.pc(), 0x7c4f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02FC
        gbc.setState(0xb699, 0xaa57, 0x310, 0x43ca, 0xe89, 0x3c03, 0x1, 0x1);
        gbc.writeMem(0xb699, { 0xe6, 0x89 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x43);
        EXPECT(gbc.c(),  0xca);
        EXPECT(gbc.d(),  0xe);
        EXPECT(gbc.e(),  0x89);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x3);
        EXPECT(gbc.sp(), 0xaa57);
        EXPECT(gbc.pc(), 0xb69b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb699), 0xe6);
        EXPECT(gbc.readMem(0xb69a), 0x89);
        // E6 02FD
        gbc.setState(0x5308, 0x28c7, 0xcf70, 0xeb88, 0x9e1, 0xd5d5, 0x0, 0x1);
        gbc.writeMem(0x5308, { 0xe6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xeb);
        EXPECT(gbc.c(),  0x88);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0xe1);
        EXPECT(gbc.h(),  0xd5);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x28c7);
        EXPECT(gbc.pc(), 0x530a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02FE
        gbc.setState(0x1a3a, 0x2b1a, 0xb7b0, 0xbec5, 0x50a2, 0x2563, 0x0, 0x1);
        gbc.writeMem(0x1a3a, { 0xe6, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0xbe);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x50);
        EXPECT(gbc.e(),  0xa2);
        EXPECT(gbc.h(),  0x25);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0x2b1a);
        EXPECT(gbc.pc(), 0x1a3c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 02FF
        gbc.setState(0x8499, 0x3980, 0xd9a0, 0x7d1f, 0x447, 0x58f7, 0x1, 0x0);
        gbc.writeMem(0x8499, { 0xe6, 0x1d });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x47);
        EXPECT(gbc.h(),  0x58);
        EXPECT(gbc.l(),  0xf7);
        EXPECT(gbc.sp(), 0x3980);
        EXPECT(gbc.pc(), 0x849b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8499), 0xe6);
        EXPECT(gbc.readMem(0x849a), 0x1d);
        // E6 0300
        gbc.setState(0xb34e, 0xb783, 0x83a0, 0xe00d, 0x11d8, 0x665, 0x1, 0x0);
        gbc.writeMem(0xb34e, { 0xe6, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x11);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x6);
        EXPECT(gbc.l(),  0x65);
        EXPECT(gbc.sp(), 0xb783);
        EXPECT(gbc.pc(), 0xb350);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb34e), 0xe6);
        EXPECT(gbc.readMem(0xb34f), 0x3c);
        // E6 0301
        gbc.setState(0xb13, 0x99bf, 0xf400, 0xeef5, 0xc9a1, 0xa535, 0x1, 0x1);
        gbc.writeMem(0xb13, { 0xe6, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x34);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xf5);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0x99bf);
        EXPECT(gbc.pc(), 0xb15);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0302
        gbc.setState(0x77be, 0x681e, 0x2610, 0x288b, 0xe557, 0x54fc, 0x0, 0x1);
        gbc.writeMem(0x77be, { 0xe6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0x28);
        EXPECT(gbc.c(),  0x8b);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x54);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x681e);
        EXPECT(gbc.pc(), 0x77c0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0303
        gbc.setState(0xeadf, 0x83b1, 0x68a0, 0xdf8a, 0x9b8d, 0xcdd7, 0x1, 0x0);
        gbc.writeMem(0xeadf, { 0xe6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x8a);
        EXPECT(gbc.d(),  0x9b);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0xcd);
        EXPECT(gbc.l(),  0xd7);
        EXPECT(gbc.sp(), 0x83b1);
        EXPECT(gbc.pc(), 0xeae1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeadf), 0xe6);
        EXPECT(gbc.readMem(0xeae0), 0xde);
        // E6 0304
        gbc.setState(0xe90d, 0x7df3, 0x6210, 0x2cfc, 0x7356, 0xfc4c, 0x1, 0x0);
        gbc.writeMem(0xe90d, { 0xe6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x2c);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x73);
        EXPECT(gbc.e(),  0x56);
        EXPECT(gbc.h(),  0xfc);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x7df3);
        EXPECT(gbc.pc(), 0xe90f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe90d), 0xe6);
        EXPECT(gbc.readMem(0xe90e), 0xce);
        // E6 0305
        gbc.setState(0x8942, 0x3c4b, 0xd190, 0xbbf6, 0xaa5a, 0xb96, 0x1, 0x0);
        gbc.writeMem(0x8942, { 0xe6, 0x75 });
        gbc.step();
        EXPECT(gbc.a(),  0x51);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xf6);
        EXPECT(gbc.d(),  0xaa);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xb);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x3c4b);
        EXPECT(gbc.pc(), 0x8944);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8942), 0xe6);
        EXPECT(gbc.readMem(0x8943), 0x75);
        // E6 0306
        gbc.setState(0x29bb, 0x41a, 0xef90, 0x998c, 0x65d2, 0x2944, 0x1, 0x1);
        gbc.writeMem(0x29bb, { 0xe6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0xcc);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x8c);
        EXPECT(gbc.d(),  0x65);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x44);
        EXPECT(gbc.sp(), 0x41a);
        EXPECT(gbc.pc(), 0x29bd);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0307
        gbc.setState(0xa146, 0xb466, 0x5000, 0xed4b, 0xf31b, 0x1787, 0x1, 0x1);
        gbc.writeMem(0xa146, { 0xe6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xed);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x1b);
        EXPECT(gbc.h(),  0x17);
        EXPECT(gbc.l(),  0x87);
        EXPECT(gbc.sp(), 0xb466);
        EXPECT(gbc.pc(), 0xa148);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa146), 0xe6);
        EXPECT(gbc.readMem(0xa147), 0xf6);
        // E6 0308
        gbc.setState(0xc6ab, 0xeae7, 0x1cf0, 0xfa9a, 0x738, 0xfb69, 0x0, 0x1);
        gbc.writeMem(0xc6ab, { 0xe6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xfa);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x7);
        EXPECT(gbc.e(),  0x38);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0x69);
        EXPECT(gbc.sp(), 0xeae7);
        EXPECT(gbc.pc(), 0xc6ad);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6ab), 0xe6);
        EXPECT(gbc.readMem(0xc6ac), 0x43);
        // E6 0309
        gbc.setState(0x38a9, 0x7cec, 0xd340, 0xb932, 0xafe7, 0xc4b5, 0x0, 0x1);
        gbc.writeMem(0x38a9, { 0xe6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xaf);
        EXPECT(gbc.e(),  0xe7);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x7cec);
        EXPECT(gbc.pc(), 0x38ab);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 030A
        gbc.setState(0x2b73, 0xf9ce, 0xe020, 0x1967, 0xfcd7, 0xc5c7, 0x1, 0x1);
        gbc.writeMem(0x2b73, { 0xe6, 0x7c });
        gbc.step();
        EXPECT(gbc.a(),  0x60);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0xfc);
        EXPECT(gbc.e(),  0xd7);
        EXPECT(gbc.h(),  0xc5);
        EXPECT(gbc.l(),  0xc7);
        EXPECT(gbc.sp(), 0xf9ce);
        EXPECT(gbc.pc(), 0x2b75);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 030B
        gbc.setState(0xcef1, 0x6a76, 0x71e0, 0x2d7a, 0xe790, 0x9e62, 0x1, 0x1);
        gbc.writeMem(0xcef1, { 0xe6, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x7a);
        EXPECT(gbc.d(),  0xe7);
        EXPECT(gbc.e(),  0x90);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x62);
        EXPECT(gbc.sp(), 0x6a76);
        EXPECT(gbc.pc(), 0xcef3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcef1), 0xe6);
        EXPECT(gbc.readMem(0xcef2), 0x25);
        // E6 030C
        gbc.setState(0x6649, 0x45eb, 0xf7c0, 0xa5fe, 0x2935, 0x89e8, 0x0, 0x0);
        gbc.writeMem(0x6649, { 0xe6, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0xe6);
        EXPECT(gbc.b(),  0xa5);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x35);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x45eb);
        EXPECT(gbc.pc(), 0x664b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 030D
        gbc.setState(0x2fe6, 0x680, 0x1990, 0x1b23, 0xccca, 0xf826, 0x1, 0x1);
        gbc.writeMem(0x2fe6, { 0xe6, 0x85 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x1b);
        EXPECT(gbc.c(),  0x23);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x680);
        EXPECT(gbc.pc(), 0x2fe8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 030E
        gbc.setState(0x4671, 0xc12d, 0x290, 0xe3a2, 0x8fe9, 0xf8e3, 0x1, 0x0);
        gbc.writeMem(0x4671, { 0xe6, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0xe9);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xc12d);
        EXPECT(gbc.pc(), 0x4673);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 030F
        gbc.setState(0x5f1f, 0x43eb, 0x7980, 0x8138, 0x2c08, 0x31e6, 0x1, 0x0);
        gbc.writeMem(0x5f1f, { 0xe6, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x71);
        EXPECT(gbc.b(),  0x81);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xe6);
        EXPECT(gbc.sp(), 0x43eb);
        EXPECT(gbc.pc(), 0x5f21);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0310
        gbc.setState(0x559, 0xe456, 0xf210, 0x504a, 0x4f71, 0x5224, 0x0, 0x0);
        gbc.writeMem(0x559, { 0xe6, 0x4a });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0x50);
        EXPECT(gbc.c(),  0x4a);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x24);
        EXPECT(gbc.sp(), 0xe456);
        EXPECT(gbc.pc(), 0x55b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0311
        gbc.setState(0xe72b, 0x6f7b, 0x82f0, 0xeea, 0x69b4, 0x8f0b, 0x0, 0x0);
        gbc.writeMem(0xe72b, { 0xe6, 0xa3 });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0x69);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x6f7b);
        EXPECT(gbc.pc(), 0xe72d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe72b), 0xe6);
        EXPECT(gbc.readMem(0xe72c), 0xa3);
        // E6 0313
        gbc.setState(0x41f4, 0xbfcb, 0x20d0, 0x1d10, 0xd0c9, 0x354b, 0x0, 0x0);
        gbc.writeMem(0x41f4, { 0xe6, 0x41 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0xc9);
        EXPECT(gbc.h(),  0x35);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0xbfcb);
        EXPECT(gbc.pc(), 0x41f6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0314
        gbc.setState(0x5465, 0x17df, 0xf4f0, 0xca5a, 0x98de, 0x2c64, 0x0, 0x0);
        gbc.writeMem(0x5465, { 0xe6, 0xfd });
        gbc.step();
        EXPECT(gbc.a(),  0xf4);
        EXPECT(gbc.b(),  0xca);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x98);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0x17df);
        EXPECT(gbc.pc(), 0x5467);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0315
        gbc.setState(0x9e21, 0x84d5, 0xb4b0, 0x197e, 0x5a91, 0xd0bc, 0x0, 0x0);
        gbc.writeMem(0x9e21, { 0xe6, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0x94);
        EXPECT(gbc.b(),  0x19);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0x91);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xbc);
        EXPECT(gbc.sp(), 0x84d5);
        EXPECT(gbc.pc(), 0x9e23);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9e21), 0xe6);
        EXPECT(gbc.readMem(0x9e22), 0x96);
        // E6 0316
        gbc.setState(0x35a7, 0x8fea, 0x37b0, 0xe09d, 0xca8, 0xce02, 0x0, 0x0);
        gbc.writeMem(0x35a7, { 0xe6, 0xae });
        gbc.step();
        EXPECT(gbc.a(),  0x26);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0xce);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x8fea);
        EXPECT(gbc.pc(), 0x35a9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0317
        gbc.setState(0x387c, 0xf2e7, 0xad90, 0x17cf, 0xdb25, 0x4a7e, 0x1, 0x1);
        gbc.writeMem(0x387c, { 0xe6, 0x96 });
        gbc.step();
        EXPECT(gbc.a(),  0x84);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0xcf);
        EXPECT(gbc.d(),  0xdb);
        EXPECT(gbc.e(),  0x25);
        EXPECT(gbc.h(),  0x4a);
        EXPECT(gbc.l(),  0x7e);
        EXPECT(gbc.sp(), 0xf2e7);
        EXPECT(gbc.pc(), 0x387e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0318
        gbc.setState(0x1d2c, 0x1e0b, 0x5790, 0x6510, 0x7744, 0xbfee, 0x1, 0x0);
        gbc.writeMem(0x1d2c, { 0xe6, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0x1e0b);
        EXPECT(gbc.pc(), 0x1d2e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0319
        gbc.setState(0xaa7b, 0x3673, 0xdfb0, 0xd2c2, 0x3058, 0x3d0a, 0x1, 0x1);
        gbc.writeMem(0xaa7b, { 0xe6, 0x38 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x3d);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x3673);
        EXPECT(gbc.pc(), 0xaa7d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaa7b), 0xe6);
        EXPECT(gbc.readMem(0xaa7c), 0x38);
        // E6 031A
        gbc.setState(0xb7c1, 0x4e4d, 0xf2d0, 0x2aea, 0xfb5b, 0x4d0c, 0x1, 0x0);
        gbc.writeMem(0xb7c1, { 0xe6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0xea);
        EXPECT(gbc.d(),  0xfb);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0x4e4d);
        EXPECT(gbc.pc(), 0xb7c3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7c1), 0xe6);
        EXPECT(gbc.readMem(0xb7c2), 0x4d);
        // E6 031B
        gbc.setState(0x8e07, 0x96f5, 0xbe20, 0x25a1, 0x64d, 0x2c86, 0x1, 0x0);
        gbc.writeMem(0x8e07, { 0xe6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x8c);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0x6);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0x2c);
        EXPECT(gbc.l(),  0x86);
        EXPECT(gbc.sp(), 0x96f5);
        EXPECT(gbc.pc(), 0x8e09);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e07), 0xe6);
        EXPECT(gbc.readMem(0x8e08), 0xcd);
        // E6 031C
        gbc.setState(0x56e7, 0x24a0, 0x2a40, 0x65ee, 0xef98, 0x8713, 0x0, 0x1);
        gbc.writeMem(0x56e7, { 0xe6, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0xef);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x87);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x24a0);
        EXPECT(gbc.pc(), 0x56e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 031D
        gbc.setState(0x48dc, 0xcc39, 0x710, 0xe39d, 0xc65, 0x7ce3, 0x0, 0x0);
        gbc.writeMem(0x48dc, { 0xe6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0xe3);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0x65);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xe3);
        EXPECT(gbc.sp(), 0xcc39);
        EXPECT(gbc.pc(), 0x48de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 031E
        gbc.setState(0x892c, 0xb7bc, 0xe050, 0x1c73, 0x3b57, 0x94a9, 0x1, 0x1);
        gbc.writeMem(0x892c, { 0xe6, 0xe6 });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x1c);
        EXPECT(gbc.c(),  0x73);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0xa9);
        EXPECT(gbc.sp(), 0xb7bc);
        EXPECT(gbc.pc(), 0x892e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x892c), 0xe6);
        EXPECT(gbc.readMem(0x892d), 0xe6);
        // E6 031F
        gbc.setState(0xeb8e, 0x3da5, 0xfd30, 0x51c1, 0xea21, 0x7ffd, 0x0, 0x0);
        gbc.writeMem(0xeb8e, { 0xe6, 0xd5 });
        gbc.step();
        EXPECT(gbc.a(),  0xd5);
        EXPECT(gbc.b(),  0x51);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x21);
        EXPECT(gbc.h(),  0x7f);
        EXPECT(gbc.l(),  0xfd);
        EXPECT(gbc.sp(), 0x3da5);
        EXPECT(gbc.pc(), 0xeb90);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb8e), 0xe6);
        EXPECT(gbc.readMem(0xeb8f), 0xd5);
        // E6 0320
        gbc.setState(0xd981, 0x1623, 0xc760, 0x60c9, 0x1e0c, 0x8022, 0x0, 0x1);
        gbc.writeMem(0xd981, { 0xe6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0xc7);
        EXPECT(gbc.b(),  0x60);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x1e);
        EXPECT(gbc.e(),  0xc);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x1623);
        EXPECT(gbc.pc(), 0xd983);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd981), 0xe6);
        EXPECT(gbc.readMem(0xd982), 0xef);
        // E6 0321
        gbc.setState(0x414c, 0xac86, 0x8ab0, 0x72a5, 0xb858, 0xa22, 0x0, 0x0);
        gbc.writeMem(0x414c, { 0xe6, 0xf1 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x72);
        EXPECT(gbc.c(),  0xa5);
        EXPECT(gbc.d(),  0xb8);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0xac86);
        EXPECT(gbc.pc(), 0x414e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0322
        gbc.setState(0x6f9c, 0x39fe, 0x6cc0, 0xfa2, 0x6084, 0x63b5, 0x1, 0x1);
        gbc.writeMem(0x6f9c, { 0xe6, 0xb7 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xa2);
        EXPECT(gbc.d(),  0x60);
        EXPECT(gbc.e(),  0x84);
        EXPECT(gbc.h(),  0x63);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x39fe);
        EXPECT(gbc.pc(), 0x6f9e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0323
        gbc.setState(0x9c5a, 0x2343, 0x1a10, 0xc18e, 0xe2a4, 0x815b, 0x0, 0x0);
        gbc.writeMem(0x9c5a, { 0xe6, 0xe5 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xc1);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0xe2);
        EXPECT(gbc.e(),  0xa4);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x5b);
        EXPECT(gbc.sp(), 0x2343);
        EXPECT(gbc.pc(), 0x9c5c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c5a), 0xe6);
        EXPECT(gbc.readMem(0x9c5b), 0xe5);
        // E6 0324
        gbc.setState(0x2d26, 0x766a, 0xc560, 0xffe6, 0x2bde, 0xf930, 0x0, 0x0);
        gbc.writeMem(0x2d26, { 0xe6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xff);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0xf9);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0x766a);
        EXPECT(gbc.pc(), 0x2d28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0325
        gbc.setState(0xcddc, 0x81, 0x71a0, 0x6b2b, 0x175a, 0xe19c, 0x0, 0x1);
        gbc.writeMem(0xcddc, { 0xe6, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0x6b);
        EXPECT(gbc.c(),  0x2b);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x5a);
        EXPECT(gbc.h(),  0xe1);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0x81);
        EXPECT(gbc.pc(), 0xcdde);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcddc), 0xe6);
        EXPECT(gbc.readMem(0xcddd), 0xd6);
        // E6 0326
        gbc.setState(0x5f8d, 0x5cb7, 0x1f40, 0x3dfe, 0x170d, 0x8faa, 0x0, 0x1);
        gbc.writeMem(0x5f8d, { 0xe6, 0xf8 });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x3d);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0xd);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0x5cb7);
        EXPECT(gbc.pc(), 0x5f8f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0327
        gbc.setState(0x4d2a, 0x420f, 0xa2b0, 0xcb0a, 0x7ab5, 0x61d3, 0x0, 0x0);
        gbc.writeMem(0x4d2a, { 0xe6, 0x1 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xcb);
        EXPECT(gbc.c(),  0xa);
        EXPECT(gbc.d(),  0x7a);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0x61);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x420f);
        EXPECT(gbc.pc(), 0x4d2c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0328
        gbc.setState(0xa4f0, 0xc06d, 0x2b10, 0xf560, 0x1d5f, 0xbe97, 0x1, 0x1);
        gbc.writeMem(0xa4f0, { 0xe6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xf5);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x1d);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0xc06d);
        EXPECT(gbc.pc(), 0xa4f2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa4f0), 0xe6);
        EXPECT(gbc.readMem(0xa4f1), 0xc2);
        // E6 0329
        gbc.setState(0x4c3, 0xd6cd, 0xbc90, 0x345d, 0xf3ef, 0x1527, 0x0, 0x0);
        gbc.writeMem(0x4c3, { 0xe6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0xa8);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0x5d);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xd6cd);
        EXPECT(gbc.pc(), 0x4c5);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 032A
        gbc.setState(0x6912, 0x5ca7, 0x54f0, 0x7dfc, 0x2663, 0xbf92, 0x1, 0x0);
        gbc.writeMem(0x6912, { 0xe6, 0x27 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x7d);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x63);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x5ca7);
        EXPECT(gbc.pc(), 0x6914);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 032B
        gbc.setState(0x8873, 0x9861, 0x9290, 0x80fe, 0xd7d6, 0x26a7, 0x0, 0x0);
        gbc.writeMem(0x8873, { 0xe6, 0x1e });
        gbc.step();
        EXPECT(gbc.a(),  0x12);
        EXPECT(gbc.b(),  0x80);
        EXPECT(gbc.c(),  0xfe);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0xd6);
        EXPECT(gbc.h(),  0x26);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0x9861);
        EXPECT(gbc.pc(), 0x8875);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8873), 0xe6);
        EXPECT(gbc.readMem(0x8874), 0x1e);
        // E6 032D
        gbc.setState(0x6d10, 0xaa1e, 0x48a0, 0x4460, 0x878a, 0x31aa, 0x1, 0x0);
        gbc.writeMem(0x6d10, { 0xe6, 0x2e });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x60);
        EXPECT(gbc.d(),  0x87);
        EXPECT(gbc.e(),  0x8a);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0xaa);
        EXPECT(gbc.sp(), 0xaa1e);
        EXPECT(gbc.pc(), 0x6d12);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 032E
        gbc.setState(0x2558, 0x164c, 0xbd00, 0x6c50, 0x44e, 0xd66c, 0x0, 0x0);
        gbc.writeMem(0x2558, { 0xe6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xb0);
        EXPECT(gbc.b(),  0x6c);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x6c);
        EXPECT(gbc.sp(), 0x164c);
        EXPECT(gbc.pc(), 0x255a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 032F
        gbc.setState(0x9f6b, 0x71cc, 0xef40, 0x2146, 0xa46e, 0xe32b, 0x1, 0x1);
        gbc.writeMem(0x9f6b, { 0xe6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x6e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x2b);
        EXPECT(gbc.sp(), 0x71cc);
        EXPECT(gbc.pc(), 0x9f6d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f6b), 0xe6);
        EXPECT(gbc.readMem(0x9f6c), 0xb4);
        // E6 0330
        gbc.setState(0xc6df, 0x528b, 0xd7a0, 0x18b9, 0x8a15, 0x3b13, 0x1, 0x0);
        gbc.writeMem(0xc6df, { 0xe6, 0x8f });
        gbc.step();
        EXPECT(gbc.a(),  0x87);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x13);
        EXPECT(gbc.sp(), 0x528b);
        EXPECT(gbc.pc(), 0xc6e1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc6df), 0xe6);
        EXPECT(gbc.readMem(0xc6e0), 0x8f);
        // E6 0331
        gbc.setState(0x735, 0xe008, 0x5da0, 0xb79c, 0xbe66, 0xb230, 0x1, 0x1);
        gbc.writeMem(0x735, { 0xe6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xbe);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0xb2);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xe008);
        EXPECT(gbc.pc(), 0x737);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0332
        gbc.setState(0x14a4, 0x4b7b, 0x2330, 0x168d, 0x1f85, 0x7401, 0x0, 0x1);
        gbc.writeMem(0x14a4, { 0xe6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x16);
        EXPECT(gbc.c(),  0x8d);
        EXPECT(gbc.d(),  0x1f);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x74);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x4b7b);
        EXPECT(gbc.pc(), 0x14a6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0333
        gbc.setState(0x339d, 0x75e1, 0x7a20, 0x2959, 0xdd98, 0x608a, 0x1, 0x1);
        gbc.writeMem(0x339d, { 0xe6, 0x2a });
        gbc.step();
        EXPECT(gbc.a(),  0x2a);
        EXPECT(gbc.b(),  0x29);
        EXPECT(gbc.c(),  0x59);
        EXPECT(gbc.d(),  0xdd);
        EXPECT(gbc.e(),  0x98);
        EXPECT(gbc.h(),  0x60);
        EXPECT(gbc.l(),  0x8a);
        EXPECT(gbc.sp(), 0x75e1);
        EXPECT(gbc.pc(), 0x339f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0334
        gbc.setState(0x47e6, 0x7b94, 0xc3e0, 0xdee6, 0x6dda, 0x2932, 0x0, 0x0);
        gbc.writeMem(0x47e6, { 0xe6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0xc2);
        EXPECT(gbc.b(),  0xde);
        EXPECT(gbc.c(),  0xe6);
        EXPECT(gbc.d(),  0x6d);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x29);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x7b94);
        EXPECT(gbc.pc(), 0x47e8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0335
        gbc.setState(0xd025, 0xc5e1, 0x3d30, 0x5a0c, 0xf0b, 0x8b09, 0x0, 0x0);
        gbc.writeMem(0xd025, { 0xe6, 0xc });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xf);
        EXPECT(gbc.e(),  0xb);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0xc5e1);
        EXPECT(gbc.pc(), 0xd027);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd025), 0xe6);
        EXPECT(gbc.readMem(0xd026), 0xc);
        // E6 0336
        gbc.setState(0xcc4c, 0x644b, 0xeb60, 0xe665, 0x8205, 0x68c1, 0x1, 0x1);
        gbc.writeMem(0xcc4c, { 0xe6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xa1);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0x5);
        EXPECT(gbc.h(),  0x68);
        EXPECT(gbc.l(),  0xc1);
        EXPECT(gbc.sp(), 0x644b);
        EXPECT(gbc.pc(), 0xcc4e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcc4c), 0xe6);
        EXPECT(gbc.readMem(0xcc4d), 0xa1);
        // E6 0337
        gbc.setState(0x2ccd, 0xc515, 0x8970, 0x23d5, 0x27fd, 0xfbbb, 0x1, 0x1);
        gbc.writeMem(0x2ccd, { 0xe6, 0x5 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xc515);
        EXPECT(gbc.pc(), 0x2ccf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0338
        gbc.setState(0xb9d6, 0xb189, 0xf990, 0x877b, 0x6a82, 0xa452, 0x1, 0x0);
        gbc.writeMem(0xb9d6, { 0xe6, 0x24 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x6a);
        EXPECT(gbc.e(),  0x82);
        EXPECT(gbc.h(),  0xa4);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xb189);
        EXPECT(gbc.pc(), 0xb9d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb9d6), 0xe6);
        EXPECT(gbc.readMem(0xb9d7), 0x24);
        // E6 0339
        gbc.setState(0xd820, 0x5e06, 0x3450, 0x329d, 0x368c, 0xf70b, 0x1, 0x0);
        gbc.writeMem(0xd820, { 0xe6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x32);
        EXPECT(gbc.c(),  0x9d);
        EXPECT(gbc.d(),  0x36);
        EXPECT(gbc.e(),  0x8c);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0xb);
        EXPECT(gbc.sp(), 0x5e06);
        EXPECT(gbc.pc(), 0xd822);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd820), 0xe6);
        EXPECT(gbc.readMem(0xd821), 0xf0);
        // E6 033A
        gbc.setState(0xd1d5, 0x5ac4, 0xa210, 0x2d40, 0xd5fd, 0x5779, 0x1, 0x0);
        gbc.writeMem(0xd1d5, { 0xe6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x2d);
        EXPECT(gbc.c(),  0x40);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x57);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x5ac4);
        EXPECT(gbc.pc(), 0xd1d7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd1d5), 0xe6);
        EXPECT(gbc.readMem(0xd1d6), 0x3f);
        // E6 033B
        gbc.setState(0x67d2, 0x114b, 0xc100, 0xeac5, 0x1ba3, 0x25d, 0x1, 0x0);
        gbc.writeMem(0x67d2, { 0xe6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xc5);
        EXPECT(gbc.d(),  0x1b);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0x5d);
        EXPECT(gbc.sp(), 0x114b);
        EXPECT(gbc.pc(), 0x67d4);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 033C
        gbc.setState(0xe97b, 0x1b46, 0x7370, 0x6d64, 0x994e, 0x9547, 0x0, 0x1);
        gbc.writeMem(0xe97b, { 0xe6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x6d);
        EXPECT(gbc.c(),  0x64);
        EXPECT(gbc.d(),  0x99);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0x1b46);
        EXPECT(gbc.pc(), 0xe97d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe97b), 0xe6);
        EXPECT(gbc.readMem(0xe97c), 0xc3);
        // E6 033D
        gbc.setState(0x2a9f, 0x9fea, 0xaf40, 0xab22, 0x5bee, 0xe3c8, 0x1, 0x0);
        gbc.writeMem(0x2a9f, { 0xe6, 0xb0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x5b);
        EXPECT(gbc.e(),  0xee);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x9fea);
        EXPECT(gbc.pc(), 0x2aa1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 033E
        gbc.setState(0x8d99, 0x40d6, 0x1470, 0x1105, 0xe6fd, 0x9540, 0x0, 0x1);
        gbc.writeMem(0x8d99, { 0xe6, 0x76 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xfd);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x40d6);
        EXPECT(gbc.pc(), 0x8d9b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d99), 0xe6);
        EXPECT(gbc.readMem(0x8d9a), 0x76);
        // E6 033F
        gbc.setState(0x206d, 0x482c, 0xbdd0, 0x9982, 0x3eae, 0x2dc9, 0x0, 0x0);
        gbc.writeMem(0x206d, { 0xe6, 0x54 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x99);
        EXPECT(gbc.c(),  0x82);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0xae);
        EXPECT(gbc.h(),  0x2d);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x482c);
        EXPECT(gbc.pc(), 0x206f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0340
        gbc.setState(0xab20, 0xffe2, 0x6200, 0x630c, 0xe9d8, 0xd672, 0x1, 0x0);
        gbc.writeMem(0xab20, { 0xe6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x62);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xc);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0x72);
        EXPECT(gbc.sp(), 0xffe2);
        EXPECT(gbc.pc(), 0xab22);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xab20), 0xe6);
        EXPECT(gbc.readMem(0xab21), 0xf7);
        // E6 0341
        gbc.setState(0xa92b, 0xa76d, 0xb370, 0xf3de, 0x2786, 0xdcae, 0x0, 0x1);
        gbc.writeMem(0xa92b, { 0xe6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x86);
        EXPECT(gbc.h(),  0xdc);
        EXPECT(gbc.l(),  0xae);
        EXPECT(gbc.sp(), 0xa76d);
        EXPECT(gbc.pc(), 0xa92d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa92b), 0xe6);
        EXPECT(gbc.readMem(0xa92c), 0xc5);
        // E6 0342
        gbc.setState(0x8e9c, 0x6307, 0x25e0, 0x44cc, 0xa3fb, 0xc26b, 0x0, 0x0);
        gbc.writeMem(0x8e9c, { 0xe6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0xcc);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0xfb);
        EXPECT(gbc.h(),  0xc2);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x6307);
        EXPECT(gbc.pc(), 0x8e9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8e9c), 0xe6);
        EXPECT(gbc.readMem(0x8e9d), 0xd8);
        // E6 0343
        gbc.setState(0x1ada, 0x9735, 0xe120, 0x9672, 0x83b4, 0x4309, 0x1, 0x0);
        gbc.writeMem(0x1ada, { 0xe6, 0x47 });
        gbc.step();
        EXPECT(gbc.a(),  0x41);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0xb4);
        EXPECT(gbc.h(),  0x43);
        EXPECT(gbc.l(),  0x9);
        EXPECT(gbc.sp(), 0x9735);
        EXPECT(gbc.pc(), 0x1adc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0344
        gbc.setState(0x2cbc, 0xf718, 0x4740, 0x9e86, 0x2a78, 0xefc3, 0x0, 0x1);
        gbc.writeMem(0x2cbc, { 0xe6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0x2a);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0xef);
        EXPECT(gbc.l(),  0xc3);
        EXPECT(gbc.sp(), 0xf718);
        EXPECT(gbc.pc(), 0x2cbe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0345
        gbc.setState(0xdbc4, 0x2579, 0x8eb0, 0xa83a, 0xb1a6, 0x9d16, 0x0, 0x1);
        gbc.writeMem(0xdbc4, { 0xe6, 0x2 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0xb1);
        EXPECT(gbc.e(),  0xa6);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x2579);
        EXPECT(gbc.pc(), 0xdbc6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdbc4), 0xe6);
        EXPECT(gbc.readMem(0xdbc5), 0x2);
        // E6 0346
        gbc.setState(0xcb49, 0xe77c, 0x3f10, 0x461c, 0x2653, 0x6e07, 0x0, 0x1);
        gbc.writeMem(0xcb49, { 0xe6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x1c);
        EXPECT(gbc.d(),  0x26);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0x7);
        EXPECT(gbc.sp(), 0xe77c);
        EXPECT(gbc.pc(), 0xcb4b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcb49), 0xe6);
        EXPECT(gbc.readMem(0xcb4a), 0xcc);
        // E6 0348
        gbc.setState(0x9f19, 0x4145, 0x4fa0, 0xda08, 0xf0bd, 0x407a, 0x1, 0x0);
        gbc.writeMem(0x9f19, { 0xe6, 0x68 });
        gbc.step();
        EXPECT(gbc.a(),  0x48);
        EXPECT(gbc.b(),  0xda);
        EXPECT(gbc.c(),  0x8);
        EXPECT(gbc.d(),  0xf0);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0x40);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x4145);
        EXPECT(gbc.pc(), 0x9f1b);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9f19), 0xe6);
        EXPECT(gbc.readMem(0x9f1a), 0x68);
        // E6 0349
        gbc.setState(0x88cb, 0xff6f, 0x2cd0, 0xd893, 0xcdfe, 0x6f3c, 0x0, 0x1);
        gbc.writeMem(0x88cb, { 0xe6, 0x7 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xd8);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x6f);
        EXPECT(gbc.l(),  0x3c);
        EXPECT(gbc.sp(), 0xff6f);
        EXPECT(gbc.pc(), 0x88cd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x88cb), 0xe6);
        EXPECT(gbc.readMem(0x88cc), 0x7);
        // E6 034A
        gbc.setState(0xbebf, 0xfa53, 0x5d0, 0x1005, 0xcc77, 0x651d, 0x1, 0x0);
        gbc.writeMem(0xbebf, { 0xe6, 0xee });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x10);
        EXPECT(gbc.c(),  0x5);
        EXPECT(gbc.d(),  0xcc);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xfa53);
        EXPECT(gbc.pc(), 0xbec1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbebf), 0xe6);
        EXPECT(gbc.readMem(0xbec0), 0xee);
        // E6 034B
        gbc.setState(0xcec2, 0x8d14, 0xc4b0, 0x2b4d, 0x51f8, 0xefc, 0x0, 0x0);
        gbc.writeMem(0xcec2, { 0xe6, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0xf8);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x8d14);
        EXPECT(gbc.pc(), 0xcec4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcec2), 0xe6);
        EXPECT(gbc.readMem(0xcec3), 0x5e);
        // E6 034C
        gbc.setState(0x6113, 0x2d84, 0x410, 0xe516, 0xfff7, 0xe298, 0x1, 0x1);
        gbc.writeMem(0x6113, { 0xe6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0x16);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x2d84);
        EXPECT(gbc.pc(), 0x6115);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 034D
        gbc.setState(0xb3db, 0xb5e3, 0xa040, 0x11f1, 0x5dd0, 0xd035, 0x0, 0x1);
        gbc.writeMem(0xb3db, { 0xe6, 0xa1 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x11);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x5d);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0x35);
        EXPECT(gbc.sp(), 0xb5e3);
        EXPECT(gbc.pc(), 0xb3dd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3db), 0xe6);
        EXPECT(gbc.readMem(0xb3dc), 0xa1);
        // E6 034E
        gbc.setState(0xd721, 0xc7f8, 0xe2d0, 0x64b9, 0x80c7, 0x3b92, 0x1, 0x1);
        gbc.writeMem(0xd721, { 0xe6, 0xfe });
        gbc.step();
        EXPECT(gbc.a(),  0xe2);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0xc7f8);
        EXPECT(gbc.pc(), 0xd723);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd721), 0xe6);
        EXPECT(gbc.readMem(0xd722), 0xfe);
        // E6 034F
        gbc.setState(0x77d0, 0xc71b, 0x87d0, 0x9e1b, 0x836, 0x7c0f, 0x0, 0x0);
        gbc.writeMem(0x77d0, { 0xe6, 0xca });
        gbc.step();
        EXPECT(gbc.a(),  0x82);
        EXPECT(gbc.b(),  0x9e);
        EXPECT(gbc.c(),  0x1b);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x7c);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xc71b);
        EXPECT(gbc.pc(), 0x77d2);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0350
        gbc.setState(0x7186, 0x1bb5, 0xdd80, 0xeafa, 0xcd9a, 0x3b85, 0x0, 0x1);
        gbc.writeMem(0x7186, { 0xe6, 0xd3 });
        gbc.step();
        EXPECT(gbc.a(),  0xd1);
        EXPECT(gbc.b(),  0xea);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0xcd);
        EXPECT(gbc.e(),  0x9a);
        EXPECT(gbc.h(),  0x3b);
        EXPECT(gbc.l(),  0x85);
        EXPECT(gbc.sp(), 0x1bb5);
        EXPECT(gbc.pc(), 0x7188);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0351
        gbc.setState(0x933b, 0x772f, 0x1f80, 0xbbb9, 0xa2cf, 0x241e, 0x0, 0x0);
        gbc.writeMem(0x933b, { 0xe6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xbb);
        EXPECT(gbc.c(),  0xb9);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0x1e);
        EXPECT(gbc.sp(), 0x772f);
        EXPECT(gbc.pc(), 0x933d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x933b), 0xe6);
        EXPECT(gbc.readMem(0x933c), 0xa8);
        // E6 0352
        gbc.setState(0x2c43, 0x1247, 0xc550, 0xa697, 0x85ef, 0xdae8, 0x0, 0x1);
        gbc.writeMem(0x2c43, { 0xe6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xa6);
        EXPECT(gbc.c(),  0x97);
        EXPECT(gbc.d(),  0x85);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0x1247);
        EXPECT(gbc.pc(), 0x2c45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0353
        gbc.setState(0x757d, 0x6634, 0x4930, 0x23c1, 0xd078, 0x49cf, 0x0, 0x1);
        gbc.writeMem(0x757d, { 0xe6, 0xa2 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0xd0);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x49);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x6634);
        EXPECT(gbc.pc(), 0x757f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0355
        gbc.setState(0xaf2f, 0x76e4, 0xe3a0, 0xe612, 0xc919, 0x8971, 0x1, 0x0);
        gbc.writeMem(0xaf2f, { 0xe6, 0xd1 });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xe6);
        EXPECT(gbc.c(),  0x12);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x71);
        EXPECT(gbc.sp(), 0x76e4);
        EXPECT(gbc.pc(), 0xaf31);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xaf2f), 0xe6);
        EXPECT(gbc.readMem(0xaf30), 0xd1);
        // E6 0356
        gbc.setState(0xe38, 0x3ca4, 0x7c90, 0x837e, 0xeb71, 0xc017, 0x1, 0x1);
        gbc.writeMem(0xe38, { 0xe6, 0x66 });
        gbc.step();
        EXPECT(gbc.a(),  0x64);
        EXPECT(gbc.b(),  0x83);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0x71);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x17);
        EXPECT(gbc.sp(), 0x3ca4);
        EXPECT(gbc.pc(), 0xe3a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0357
        gbc.setState(0x91e6, 0xe04b, 0xab70, 0x41e9, 0xb2fe, 0x921f, 0x1, 0x0);
        gbc.writeMem(0x91e6, { 0xe6, 0x64 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0xb2);
        EXPECT(gbc.e(),  0xfe);
        EXPECT(gbc.h(),  0x92);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0xe04b);
        EXPECT(gbc.pc(), 0x91e8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x91e6), 0xe6);
        EXPECT(gbc.readMem(0x91e7), 0x64);
        // E6 0358
        gbc.setState(0x4aca, 0xbbd8, 0x95a0, 0xb867, 0x5d9, 0xa627, 0x1, 0x1);
        gbc.writeMem(0x4aca, { 0xe6, 0xa8 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x67);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0xd9);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x27);
        EXPECT(gbc.sp(), 0xbbd8);
        EXPECT(gbc.pc(), 0x4acc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0359
        gbc.setState(0x3fec, 0xc814, 0xf330, 0x64c6, 0xf32e, 0xa118, 0x1, 0x1);
        gbc.writeMem(0x3fec, { 0xe6, 0x80 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x64);
        EXPECT(gbc.c(),  0xc6);
        EXPECT(gbc.d(),  0xf3);
        EXPECT(gbc.e(),  0x2e);
        EXPECT(gbc.h(),  0xa1);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0xc814);
        EXPECT(gbc.pc(), 0x3fee);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 035A
        gbc.setState(0x266f, 0xdb5b, 0x2360, 0x6fa, 0x974c, 0x119c, 0x0, 0x1);
        gbc.writeMem(0x266f, { 0xe6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x6);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x97);
        EXPECT(gbc.e(),  0x4c);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x9c);
        EXPECT(gbc.sp(), 0xdb5b);
        EXPECT(gbc.pc(), 0x2671);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 035B
        gbc.setState(0xbaba, 0x2ecb, 0x12f0, 0x1825, 0xe807, 0xf4f3, 0x0, 0x0);
        gbc.writeMem(0xbaba, { 0xe6, 0x2d });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x25);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0x7);
        EXPECT(gbc.h(),  0xf4);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0x2ecb);
        EXPECT(gbc.pc(), 0xbabc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbaba), 0xe6);
        EXPECT(gbc.readMem(0xbabb), 0x2d);
        // E6 035C
        gbc.setState(0x8574, 0x5eab, 0x3560, 0x91cb, 0x5cd2, 0xc6d3, 0x1, 0x0);
        gbc.writeMem(0x8574, { 0xe6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0xc6);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0x5eab);
        EXPECT(gbc.pc(), 0x8576);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8574), 0xe6);
        EXPECT(gbc.readMem(0x8575), 0x4d);
        // E6 035E
        gbc.setState(0xe048, 0xfc49, 0xfc00, 0x3bd5, 0xf128, 0xd3c0, 0x0, 0x0);
        gbc.writeMem(0xe048, { 0xe6, 0x78 });
        gbc.step();
        EXPECT(gbc.a(),  0x78);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xd5);
        EXPECT(gbc.d(),  0xf1);
        EXPECT(gbc.e(),  0x28);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0xfc49);
        EXPECT(gbc.pc(), 0xe04a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe048), 0xe6);
        EXPECT(gbc.readMem(0xe049), 0x78);
        // E6 035F
        gbc.setState(0x29fc, 0x4d32, 0x4ce0, 0x5420, 0xa249, 0x9801, 0x0, 0x1);
        gbc.writeMem(0x29fc, { 0xe6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x54);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x49);
        EXPECT(gbc.h(),  0x98);
        EXPECT(gbc.l(),  0x1);
        EXPECT(gbc.sp(), 0x4d32);
        EXPECT(gbc.pc(), 0x29fe);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0360
        gbc.setState(0x877b, 0xe919, 0xf380, 0x9175, 0xe9d3, 0x812c, 0x1, 0x0);
        gbc.writeMem(0x877b, { 0xe6, 0x17 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x91);
        EXPECT(gbc.c(),  0x75);
        EXPECT(gbc.d(),  0xe9);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x81);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xe919);
        EXPECT(gbc.pc(), 0x877d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x877b), 0xe6);
        EXPECT(gbc.readMem(0x877c), 0x17);
        // E6 0361
        gbc.setState(0x11d1, 0xa0fc, 0xfa50, 0x219c, 0xf785, 0xaed1, 0x1, 0x0);
        gbc.writeMem(0x11d1, { 0xe6, 0x28 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xf7);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0xd1);
        EXPECT(gbc.sp(), 0xa0fc);
        EXPECT(gbc.pc(), 0x11d3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0362
        gbc.setState(0x727a, 0xa851, 0x7a10, 0x2f21, 0xff3c, 0x3a20, 0x1, 0x0);
        gbc.writeMem(0x727a, { 0xe6, 0xff });
        gbc.step();
        EXPECT(gbc.a(),  0x7a);
        EXPECT(gbc.b(),  0x2f);
        EXPECT(gbc.c(),  0x21);
        EXPECT(gbc.d(),  0xff);
        EXPECT(gbc.e(),  0x3c);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x20);
        EXPECT(gbc.sp(), 0xa851);
        EXPECT(gbc.pc(), 0x727c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0363
        gbc.setState(0xdee1, 0xc1d9, 0xc460, 0x3538, 0xd75f, 0xac1d, 0x0, 0x0);
        gbc.writeMem(0xdee1, { 0xe6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0xd7);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xac);
        EXPECT(gbc.l(),  0x1d);
        EXPECT(gbc.sp(), 0xc1d9);
        EXPECT(gbc.pc(), 0xdee3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdee1), 0xe6);
        EXPECT(gbc.readMem(0xdee2), 0x52);
        // E6 0364
        gbc.setState(0x7388, 0xac29, 0xc690, 0xe0ae, 0x71cf, 0x3a31, 0x0, 0x0);
        gbc.writeMem(0x7388, { 0xe6, 0x4d });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x71);
        EXPECT(gbc.e(),  0xcf);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xac29);
        EXPECT(gbc.pc(), 0x738a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0365
        gbc.setState(0xe320, 0xf533, 0x1da0, 0x2fa, 0x5833, 0x1c31, 0x1, 0x1);
        gbc.writeMem(0xe320, { 0xe6, 0x3d });
        gbc.step();
        EXPECT(gbc.a(),  0x1d);
        EXPECT(gbc.b(),  0x2);
        EXPECT(gbc.c(),  0xfa);
        EXPECT(gbc.d(),  0x58);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0x31);
        EXPECT(gbc.sp(), 0xf533);
        EXPECT(gbc.pc(), 0xe322);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe320), 0xe6);
        EXPECT(gbc.readMem(0xe321), 0x3d);
        // E6 0366
        gbc.setState(0x3c43, 0x318a, 0x8b20, 0x2ee1, 0x96bf, 0x8f29, 0x0, 0x0);
        gbc.writeMem(0x3c43, { 0xe6, 0x57 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x2e);
        EXPECT(gbc.c(),  0xe1);
        EXPECT(gbc.d(),  0x96);
        EXPECT(gbc.e(),  0xbf);
        EXPECT(gbc.h(),  0x8f);
        EXPECT(gbc.l(),  0x29);
        EXPECT(gbc.sp(), 0x318a);
        EXPECT(gbc.pc(), 0x3c45);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0367
        gbc.setState(0xb28c, 0x8d09, 0xfd50, 0x4453, 0xd4f3, 0xbfa0, 0x1, 0x0);
        gbc.writeMem(0xb28c, { 0xe6, 0xe1 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0x44);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0xd4);
        EXPECT(gbc.e(),  0xf3);
        EXPECT(gbc.h(),  0xbf);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x8d09);
        EXPECT(gbc.pc(), 0xb28e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb28c), 0xe6);
        EXPECT(gbc.readMem(0xb28d), 0xe1);
        // E6 0368
        gbc.setState(0xbdd8, 0xfa45, 0x30, 0xa35c, 0x15dd, 0x6961, 0x1, 0x1);
        gbc.writeMem(0xbdd8, { 0xe6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x5c);
        EXPECT(gbc.d(),  0x15);
        EXPECT(gbc.e(),  0xdd);
        EXPECT(gbc.h(),  0x69);
        EXPECT(gbc.l(),  0x61);
        EXPECT(gbc.sp(), 0xfa45);
        EXPECT(gbc.pc(), 0xbdda);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbdd8), 0xe6);
        EXPECT(gbc.readMem(0xbdd9), 0xf6);
        // E6 0369
        gbc.setState(0x19a6, 0x84d2, 0x3c0, 0x76e4, 0x8333, 0xb950, 0x0, 0x0);
        gbc.writeMem(0x19a6, { 0xe6, 0xf7 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x76);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x33);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x50);
        EXPECT(gbc.sp(), 0x84d2);
        EXPECT(gbc.pc(), 0x19a8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 036A
        gbc.setState(0x2679, 0xfbb9, 0x25e0, 0x463c, 0x6103, 0x2e8, 0x0, 0x1);
        gbc.writeMem(0x2679, { 0xe6, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x46);
        EXPECT(gbc.c(),  0x3c);
        EXPECT(gbc.d(),  0x61);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0x2);
        EXPECT(gbc.l(),  0xe8);
        EXPECT(gbc.sp(), 0xfbb9);
        EXPECT(gbc.pc(), 0x267b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 036B
        gbc.setState(0xbb1c, 0xf647, 0x8070, 0x2584, 0x82c7, 0x5123, 0x0, 0x1);
        gbc.writeMem(0xbb1c, { 0xe6, 0x11 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x25);
        EXPECT(gbc.c(),  0x84);
        EXPECT(gbc.d(),  0x82);
        EXPECT(gbc.e(),  0xc7);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xf647);
        EXPECT(gbc.pc(), 0xbb1e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbb1c), 0xe6);
        EXPECT(gbc.readMem(0xbb1d), 0x11);
        // E6 036C
        gbc.setState(0x52e7, 0x2484, 0x4230, 0xb2a, 0x4f06, 0x8497, 0x0, 0x0);
        gbc.writeMem(0x52e7, { 0xe6, 0xf3 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xb);
        EXPECT(gbc.c(),  0x2a);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0x6);
        EXPECT(gbc.h(),  0x84);
        EXPECT(gbc.l(),  0x97);
        EXPECT(gbc.sp(), 0x2484);
        EXPECT(gbc.pc(), 0x52e9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 036D
        gbc.setState(0x14d1, 0x16c9, 0x5c90, 0xc043, 0x3ff7, 0x5a9a, 0x0, 0x1);
        gbc.writeMem(0x14d1, { 0xe6, 0x35 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0xc0);
        EXPECT(gbc.c(),  0x43);
        EXPECT(gbc.d(),  0x3f);
        EXPECT(gbc.e(),  0xf7);
        EXPECT(gbc.h(),  0x5a);
        EXPECT(gbc.l(),  0x9a);
        EXPECT(gbc.sp(), 0x16c9);
        EXPECT(gbc.pc(), 0x14d3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 036E
        gbc.setState(0xb3fb, 0xb08f, 0x18b0, 0x559b, 0x53d5, 0xe63, 0x0, 0x1);
        gbc.writeMem(0xb3fb, { 0xe6, 0xe8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0x55);
        EXPECT(gbc.c(),  0x9b);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x63);
        EXPECT(gbc.sp(), 0xb08f);
        EXPECT(gbc.pc(), 0xb3fd);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb3fb), 0xe6);
        EXPECT(gbc.readMem(0xb3fc), 0xe8);
        // E6 036F
        gbc.setState(0x69fa, 0xa4c2, 0xa410, 0xd4ee, 0x7dfa, 0xf3f9, 0x0, 0x0);
        gbc.writeMem(0x69fa, { 0xe6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xd4);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x7d);
        EXPECT(gbc.e(),  0xfa);
        EXPECT(gbc.h(),  0xf3);
        EXPECT(gbc.l(),  0xf9);
        EXPECT(gbc.sp(), 0xa4c2);
        EXPECT(gbc.pc(), 0x69fc);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0370
        gbc.setState(0x7ea5, 0xddb6, 0x85d0, 0x6e22, 0x8339, 0x4a, 0x0, 0x1);
        gbc.writeMem(0x7ea5, { 0xe6, 0xdf });
        gbc.step();
        EXPECT(gbc.a(),  0x85);
        EXPECT(gbc.b(),  0x6e);
        EXPECT(gbc.c(),  0x22);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x39);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0x4a);
        EXPECT(gbc.sp(), 0xddb6);
        EXPECT(gbc.pc(), 0x7ea7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0371
        gbc.setState(0xd5ee, 0xfa66, 0x2020, 0x1e26, 0x5958, 0x557d, 0x1, 0x1);
        gbc.writeMem(0xd5ee, { 0xe6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0x26);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x58);
        EXPECT(gbc.h(),  0x55);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xfa66);
        EXPECT(gbc.pc(), 0xd5f0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd5ee), 0xe6);
        EXPECT(gbc.readMem(0xd5ef), 0x95);
        // E6 0372
        gbc.setState(0x6b5e, 0x34b0, 0x2690, 0x1a2e, 0xb3e2, 0xd6a6, 0x1, 0x1);
        gbc.writeMem(0x6b5e, { 0xe6, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x2e);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0xe2);
        EXPECT(gbc.h(),  0xd6);
        EXPECT(gbc.l(),  0xa6);
        EXPECT(gbc.sp(), 0x34b0);
        EXPECT(gbc.pc(), 0x6b60);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0373
        gbc.setState(0xe34e, 0x3636, 0x59a0, 0x668e, 0x4a5, 0x9504, 0x0, 0x0);
        gbc.writeMem(0xe34e, { 0xe6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x66);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x4);
        EXPECT(gbc.e(),  0xa5);
        EXPECT(gbc.h(),  0x95);
        EXPECT(gbc.l(),  0x4);
        EXPECT(gbc.sp(), 0x3636);
        EXPECT(gbc.pc(), 0xe350);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe34e), 0xe6);
        EXPECT(gbc.readMem(0xe34f), 0x2f);
        // E6 0374
        gbc.setState(0x6129, 0x12a4, 0x6440, 0x9b1d, 0xe478, 0x9046, 0x0, 0x1);
        gbc.writeMem(0x6129, { 0xe6, 0xc8 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xe4);
        EXPECT(gbc.e(),  0x78);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x46);
        EXPECT(gbc.sp(), 0x12a4);
        EXPECT(gbc.pc(), 0x612b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0375
        gbc.setState(0x7a1d, 0x498d, 0x8020, 0xa14b, 0xae94, 0x668b, 0x1, 0x1);
        gbc.writeMem(0x7a1d, { 0xe6, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xa1);
        EXPECT(gbc.c(),  0x4b);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x8b);
        EXPECT(gbc.sp(), 0x498d);
        EXPECT(gbc.pc(), 0x7a1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0376
        gbc.setState(0x1ef4, 0xf5a8, 0x6420, 0x8772, 0x7719, 0xbe6e, 0x0, 0x1);
        gbc.writeMem(0x1ef4, { 0xe6, 0x1c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x87);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x77);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x6e);
        EXPECT(gbc.sp(), 0xf5a8);
        EXPECT(gbc.pc(), 0x1ef6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0377
        gbc.setState(0x760f, 0x2a89, 0x35a0, 0x3530, 0xb324, 0xa528, 0x0, 0x0);
        gbc.writeMem(0x760f, { 0xe6, 0xde });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x30);
        EXPECT(gbc.d(),  0xb3);
        EXPECT(gbc.e(),  0x24);
        EXPECT(gbc.h(),  0xa5);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0x2a89);
        EXPECT(gbc.pc(), 0x7611);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0378
        gbc.setState(0x83dc, 0x5d09, 0x1bc0, 0xc26c, 0x63bb, 0xdade, 0x0, 0x1);
        gbc.writeMem(0x83dc, { 0xe6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0xb);
        EXPECT(gbc.b(),  0xc2);
        EXPECT(gbc.c(),  0x6c);
        EXPECT(gbc.d(),  0x63);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0xda);
        EXPECT(gbc.l(),  0xde);
        EXPECT(gbc.sp(), 0x5d09);
        EXPECT(gbc.pc(), 0x83de);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x83dc), 0xe6);
        EXPECT(gbc.readMem(0x83dd), 0xcf);
        // E6 0379
        gbc.setState(0xa8e0, 0xe5d1, 0x1490, 0xabc2, 0x23ad, 0xe90c, 0x1, 0x1);
        gbc.writeMem(0xa8e0, { 0xe6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xab);
        EXPECT(gbc.c(),  0xc2);
        EXPECT(gbc.d(),  0x23);
        EXPECT(gbc.e(),  0xad);
        EXPECT(gbc.h(),  0xe9);
        EXPECT(gbc.l(),  0xc);
        EXPECT(gbc.sp(), 0xe5d1);
        EXPECT(gbc.pc(), 0xa8e2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa8e0), 0xe6);
        EXPECT(gbc.readMem(0xa8e1), 0xce);
        // E6 037A
        gbc.setState(0x3753, 0xe879, 0x3760, 0x34a1, 0xa6dc, 0x6721, 0x0, 0x1);
        gbc.writeMem(0x3753, { 0xe6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x34);
        EXPECT(gbc.c(),  0xa1);
        EXPECT(gbc.d(),  0xa6);
        EXPECT(gbc.e(),  0xdc);
        EXPECT(gbc.h(),  0x67);
        EXPECT(gbc.l(),  0x21);
        EXPECT(gbc.sp(), 0xe879);
        EXPECT(gbc.pc(), 0x3755);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 037B
        gbc.setState(0x3401, 0xdf6d, 0x3740, 0x8a85, 0x8394, 0xebee, 0x1, 0x0);
        gbc.writeMem(0x3401, { 0xe6, 0xb1 });
        gbc.step();
        EXPECT(gbc.a(),  0x31);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x85);
        EXPECT(gbc.d(),  0x83);
        EXPECT(gbc.e(),  0x94);
        EXPECT(gbc.h(),  0xeb);
        EXPECT(gbc.l(),  0xee);
        EXPECT(gbc.sp(), 0xdf6d);
        EXPECT(gbc.pc(), 0x3403);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 037C
        gbc.setState(0x1c20, 0x8c63, 0x4cc0, 0xa472, 0x941, 0xcb92, 0x0, 0x0);
        gbc.writeMem(0x1c20, { 0xe6, 0x4e });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xa4);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0x9);
        EXPECT(gbc.e(),  0x41);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x8c63);
        EXPECT(gbc.pc(), 0x1c22);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 037D
        gbc.setState(0x9eea, 0xb3cf, 0x42f0, 0xee0d, 0xaea3, 0xcb52, 0x1, 0x0);
        gbc.writeMem(0x9eea, { 0xe6, 0x72 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0xae);
        EXPECT(gbc.e(),  0xa3);
        EXPECT(gbc.h(),  0xcb);
        EXPECT(gbc.l(),  0x52);
        EXPECT(gbc.sp(), 0xb3cf);
        EXPECT(gbc.pc(), 0x9eec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9eea), 0xe6);
        EXPECT(gbc.readMem(0x9eeb), 0x72);
        // E6 037F
        gbc.setState(0x747e, 0xd38c, 0xd580, 0x7436, 0x8a8e, 0x3e8e, 0x0, 0x0);
        gbc.writeMem(0x747e, { 0xe6, 0x14 });
        gbc.step();
        EXPECT(gbc.a(),  0x14);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x36);
        EXPECT(gbc.d(),  0x8a);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0x3e);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xd38c);
        EXPECT(gbc.pc(), 0x7480);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0380
        gbc.setState(0x9a9a, 0x5eb, 0xb7c0, 0xb668, 0x8453, 0xecfc, 0x1, 0x1);
        gbc.writeMem(0x9a9a, { 0xe6, 0x91 });
        gbc.step();
        EXPECT(gbc.a(),  0x91);
        EXPECT(gbc.b(),  0xb6);
        EXPECT(gbc.c(),  0x68);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0x53);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0xfc);
        EXPECT(gbc.sp(), 0x5eb);
        EXPECT(gbc.pc(), 0x9a9c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9a9a), 0xe6);
        EXPECT(gbc.readMem(0x9a9b), 0x91);
        // E6 0381
        gbc.setState(0x4d8c, 0xbf60, 0x1120, 0xd21f, 0x2573, 0xab47, 0x0, 0x1);
        gbc.writeMem(0x4d8c, { 0xe6, 0x36 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xd2);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x25);
        EXPECT(gbc.e(),  0x73);
        EXPECT(gbc.h(),  0xab);
        EXPECT(gbc.l(),  0x47);
        EXPECT(gbc.sp(), 0xbf60);
        EXPECT(gbc.pc(), 0x4d8e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0382
        gbc.setState(0xc5ad, 0x6a27, 0x4780, 0xaee, 0x2119, 0xbe4e, 0x0, 0x0);
        gbc.writeMem(0xc5ad, { 0xe6, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0xa);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x21);
        EXPECT(gbc.e(),  0x19);
        EXPECT(gbc.h(),  0xbe);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x6a27);
        EXPECT(gbc.pc(), 0xc5af);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5ad), 0xe6);
        EXPECT(gbc.readMem(0xc5ae), 0x3c);
        // E6 0383
        gbc.setState(0x598d, 0xa8cf, 0xff00, 0xeee8, 0xbd75, 0xa35c, 0x1, 0x0);
        gbc.writeMem(0x598d, { 0xe6, 0x6c });
        gbc.step();
        EXPECT(gbc.a(),  0x6c);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0xe8);
        EXPECT(gbc.d(),  0xbd);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0xa3);
        EXPECT(gbc.l(),  0x5c);
        EXPECT(gbc.sp(), 0xa8cf);
        EXPECT(gbc.pc(), 0x598f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0384
        gbc.setState(0x80d9, 0x24cc, 0x3040, 0x5cbd, 0x8022, 0x8019, 0x1, 0x1);
        gbc.writeMem(0x80d9, { 0xe6, 0x19 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x5c);
        EXPECT(gbc.c(),  0xbd);
        EXPECT(gbc.d(),  0x80);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x24cc);
        EXPECT(gbc.pc(), 0x80db);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80d9), 0xe6);
        EXPECT(gbc.readMem(0x80da), 0x19);
        // E6 0385
        gbc.setState(0x3540, 0xbafe, 0x80d0, 0xe1de, 0xd3db, 0x9723, 0x0, 0x1);
        gbc.writeMem(0x3540, { 0xe6, 0xb });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xde);
        EXPECT(gbc.d(),  0xd3);
        EXPECT(gbc.e(),  0xdb);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xbafe);
        EXPECT(gbc.pc(), 0x3542);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0386
        gbc.setState(0x8d84, 0xcd96, 0xe020, 0x2172, 0xa38f, 0x3c8c, 0x0, 0x1);
        gbc.writeMem(0x8d84, { 0xe6, 0x5d });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0x21);
        EXPECT(gbc.c(),  0x72);
        EXPECT(gbc.d(),  0xa3);
        EXPECT(gbc.e(),  0x8f);
        EXPECT(gbc.h(),  0x3c);
        EXPECT(gbc.l(),  0x8c);
        EXPECT(gbc.sp(), 0xcd96);
        EXPECT(gbc.pc(), 0x8d86);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8d84), 0xe6);
        EXPECT(gbc.readMem(0x8d85), 0x5d);
        // E6 0387
        gbc.setState(0xc0df, 0xf932, 0x4760, 0xe5d3, 0xd518, 0x19a7, 0x0, 0x0);
        gbc.writeMem(0xc0df, { 0xe6, 0x43 });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xe5);
        EXPECT(gbc.c(),  0xd3);
        EXPECT(gbc.d(),  0xd5);
        EXPECT(gbc.e(),  0x18);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xa7);
        EXPECT(gbc.sp(), 0xf932);
        EXPECT(gbc.pc(), 0xc0e1);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc0df), 0xe6);
        EXPECT(gbc.readMem(0xc0e0), 0x43);
        // E6 0389
        gbc.setState(0xd41a, 0xf601, 0x3740, 0x1ebc, 0x46f5, 0x24c6, 0x1, 0x0);
        gbc.writeMem(0xd41a, { 0xe6, 0x95 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xbc);
        EXPECT(gbc.d(),  0x46);
        EXPECT(gbc.e(),  0xf5);
        EXPECT(gbc.h(),  0x24);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xf601);
        EXPECT(gbc.pc(), 0xd41c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd41a), 0xe6);
        EXPECT(gbc.readMem(0xd41b), 0x95);
        // E6 038A
        gbc.setState(0x1b03, 0xaf4a, 0x2df0, 0x20a7, 0x47b5, 0xe70, 0x1, 0x1);
        gbc.writeMem(0x1b03, { 0xe6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x2d);
        EXPECT(gbc.b(),  0x20);
        EXPECT(gbc.c(),  0xa7);
        EXPECT(gbc.d(),  0x47);
        EXPECT(gbc.e(),  0xb5);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0xaf4a);
        EXPECT(gbc.pc(), 0x1b05);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 038B
        gbc.setState(0x6328, 0x714a, 0x4010, 0xe8c1, 0x1c59, 0xcced, 0x0, 0x1);
        gbc.writeMem(0x6328, { 0xe6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xe8);
        EXPECT(gbc.c(),  0xc1);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xcc);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x714a);
        EXPECT(gbc.pc(), 0x632a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 038C
        gbc.setState(0x6afd, 0x68e, 0xd3d0, 0x42b0, 0xee45, 0xd0fb, 0x0, 0x0);
        gbc.writeMem(0x6afd, { 0xe6, 0x90 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0xee);
        EXPECT(gbc.e(),  0x45);
        EXPECT(gbc.h(),  0xd0);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x68e);
        EXPECT(gbc.pc(), 0x6aff);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 038D
        gbc.setState(0xad26, 0x24a9, 0xe200, 0xd0c7, 0xfd36, 0x1cc9, 0x1, 0x1);
        gbc.writeMem(0xad26, { 0xe6, 0x56 });
        gbc.step();
        EXPECT(gbc.a(),  0x42);
        EXPECT(gbc.b(),  0xd0);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0xfd);
        EXPECT(gbc.e(),  0x36);
        EXPECT(gbc.h(),  0x1c);
        EXPECT(gbc.l(),  0xc9);
        EXPECT(gbc.sp(), 0x24a9);
        EXPECT(gbc.pc(), 0xad28);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xad26), 0xe6);
        EXPECT(gbc.readMem(0xad27), 0x56);
        // E6 038E
        gbc.setState(0x616a, 0xdbae, 0x1000, 0xa044, 0x8f22, 0x4c41, 0x1, 0x0);
        gbc.writeMem(0x616a, { 0xe6, 0x3c });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x8f);
        EXPECT(gbc.e(),  0x22);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0x41);
        EXPECT(gbc.sp(), 0xdbae);
        EXPECT(gbc.pc(), 0x616c);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 038F
        gbc.setState(0x49be, 0xdeb3, 0x3cf0, 0x7477, 0x79d4, 0x3db, 0x1, 0x1);
        gbc.writeMem(0x49be, { 0xe6, 0x20 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x74);
        EXPECT(gbc.c(),  0x77);
        EXPECT(gbc.d(),  0x79);
        EXPECT(gbc.e(),  0xd4);
        EXPECT(gbc.h(),  0x3);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0xdeb3);
        EXPECT(gbc.pc(), 0x49c0);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0390
        gbc.setState(0xa2da, 0xae41, 0x88d0, 0xa301, 0xd95e, 0xe364, 0x1, 0x1);
        gbc.writeMem(0xa2da, { 0xe6, 0x8a });
        gbc.step();
        EXPECT(gbc.a(),  0x88);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x1);
        EXPECT(gbc.d(),  0xd9);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0xe3);
        EXPECT(gbc.l(),  0x64);
        EXPECT(gbc.sp(), 0xae41);
        EXPECT(gbc.pc(), 0xa2dc);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa2da), 0xe6);
        EXPECT(gbc.readMem(0xa2db), 0x8a);
        // E6 0391
        gbc.setState(0x951a, 0xc73e, 0xe330, 0xf2ae, 0xe6d1, 0x1dbd, 0x0, 0x1);
        gbc.writeMem(0x951a, { 0xe6, 0xcd });
        gbc.step();
        EXPECT(gbc.a(),  0xc1);
        EXPECT(gbc.b(),  0xf2);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0xe6);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0xc73e);
        EXPECT(gbc.pc(), 0x951c);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x951a), 0xe6);
        EXPECT(gbc.readMem(0x951b), 0xcd);
        // E6 0392
        gbc.setState(0x7a1d, 0x7d1c, 0xf660, 0xbf39, 0x4d85, 0x7892, 0x1, 0x0);
        gbc.writeMem(0x7a1d, { 0xe6, 0x25 });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x39);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x78);
        EXPECT(gbc.l(),  0x92);
        EXPECT(gbc.sp(), 0x7d1c);
        EXPECT(gbc.pc(), 0x7a1f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0393
        gbc.setState(0x6298, 0xeefb, 0x3060, 0x789a, 0x1cc4, 0xfdce, 0x1, 0x1);
        gbc.writeMem(0x6298, { 0xe6, 0xcf });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x9a);
        EXPECT(gbc.d(),  0x1c);
        EXPECT(gbc.e(),  0xc4);
        EXPECT(gbc.h(),  0xfd);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xeefb);
        EXPECT(gbc.pc(), 0x629a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0394
        gbc.setState(0xd60b, 0x406a, 0xd210, 0x6580, 0xe54e, 0x5d18, 0x0, 0x0);
        gbc.writeMem(0xd60b, { 0xe6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x65);
        EXPECT(gbc.c(),  0x80);
        EXPECT(gbc.d(),  0xe5);
        EXPECT(gbc.e(),  0x4e);
        EXPECT(gbc.h(),  0x5d);
        EXPECT(gbc.l(),  0x18);
        EXPECT(gbc.sp(), 0x406a);
        EXPECT(gbc.pc(), 0xd60d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd60b), 0xe6);
        EXPECT(gbc.readMem(0xd60c), 0xa0);
        // E6 0395
        gbc.setState(0xefc6, 0xbad5, 0x4b90, 0x52c7, 0x33ba, 0xf72d, 0x0, 0x0);
        gbc.writeMem(0xefc6, { 0xe6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0x52);
        EXPECT(gbc.c(),  0xc7);
        EXPECT(gbc.d(),  0x33);
        EXPECT(gbc.e(),  0xba);
        EXPECT(gbc.h(),  0xf7);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0xbad5);
        EXPECT(gbc.pc(), 0xefc8);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xefc6), 0xe6);
        EXPECT(gbc.readMem(0xefc7), 0xb3);
        // E6 0396
        gbc.setState(0xd4d3, 0x2e8d, 0xa620, 0xa96b, 0xcb60, 0xc06a, 0x1, 0x0);
        gbc.writeMem(0xd4d3, { 0xe6, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xa9);
        EXPECT(gbc.c(),  0x6b);
        EXPECT(gbc.d(),  0xcb);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0x6a);
        EXPECT(gbc.sp(), 0x2e8d);
        EXPECT(gbc.pc(), 0xd4d5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd4d3), 0xe6);
        EXPECT(gbc.readMem(0xd4d4), 0x2b);
        // E6 0397
        gbc.setState(0xb7d6, 0x86d8, 0xc20, 0x357e, 0xef, 0x5cc8, 0x1, 0x1);
        gbc.writeMem(0xb7d6, { 0xe6, 0x30 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x0);
        EXPECT(gbc.e(),  0xef);
        EXPECT(gbc.h(),  0x5c);
        EXPECT(gbc.l(),  0xc8);
        EXPECT(gbc.sp(), 0x86d8);
        EXPECT(gbc.pc(), 0xb7d8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb7d6), 0xe6);
        EXPECT(gbc.readMem(0xb7d7), 0x30);
        // E6 0398
        gbc.setState(0x18d7, 0x2813, 0xf550, 0x14c9, 0x7c85, 0x6ec0, 0x1, 0x1);
        gbc.writeMem(0x18d7, { 0xe6, 0x15 });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xc9);
        EXPECT(gbc.d(),  0x7c);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x6e);
        EXPECT(gbc.l(),  0xc0);
        EXPECT(gbc.sp(), 0x2813);
        EXPECT(gbc.pc(), 0x18d9);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 0399
        gbc.setState(0xd918, 0x3cf1, 0xa400, 0x9681, 0x18de, 0x461f, 0x1, 0x0);
        gbc.writeMem(0xd918, { 0xe6, 0xf0 });
        gbc.step();
        EXPECT(gbc.a(),  0xa0);
        EXPECT(gbc.b(),  0x96);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0x1f);
        EXPECT(gbc.sp(), 0x3cf1);
        EXPECT(gbc.pc(), 0xd91a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd918), 0xe6);
        EXPECT(gbc.readMem(0xd919), 0xf0);
        // E6 039A
        gbc.setState(0xd0b0, 0xf92, 0xb1b0, 0xa804, 0xebbb, 0x277a, 0x1, 0x0);
        gbc.writeMem(0xd0b0, { 0xe6, 0xdc });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xa8);
        EXPECT(gbc.c(),  0x4);
        EXPECT(gbc.d(),  0xeb);
        EXPECT(gbc.e(),  0xbb);
        EXPECT(gbc.h(),  0x27);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0xf92);
        EXPECT(gbc.pc(), 0xd0b2);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0b0), 0xe6);
        EXPECT(gbc.readMem(0xd0b1), 0xdc);
        // E6 039B
        gbc.setState(0xe7c1, 0x16f4, 0x26b0, 0xae10, 0x5170, 0xe20a, 0x0, 0x0);
        gbc.writeMem(0xe7c1, { 0xe6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x22);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x10);
        EXPECT(gbc.d(),  0x51);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0xe2);
        EXPECT(gbc.l(),  0xa);
        EXPECT(gbc.sp(), 0x16f4);
        EXPECT(gbc.pc(), 0xe7c3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe7c1), 0xe6);
        EXPECT(gbc.readMem(0xe7c2), 0xbb);
        // E6 039C
        gbc.setState(0xa826, 0x4ea4, 0xed90, 0xcdeb, 0x2066, 0x114b, 0x0, 0x0);
        gbc.writeMem(0xa826, { 0xe6, 0xe3 });
        gbc.step();
        EXPECT(gbc.a(),  0xe1);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0xeb);
        EXPECT(gbc.d(),  0x20);
        EXPECT(gbc.e(),  0x66);
        EXPECT(gbc.h(),  0x11);
        EXPECT(gbc.l(),  0x4b);
        EXPECT(gbc.sp(), 0x4ea4);
        EXPECT(gbc.pc(), 0xa828);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa826), 0xe6);
        EXPECT(gbc.readMem(0xa827), 0xe3);
        // E6 039D
        gbc.setState(0xb92c, 0xbfb5, 0x3a20, 0x1db0, 0x6f99, 0x64b1, 0x1, 0x1);
        gbc.writeMem(0xb92c, { 0xe6, 0x69 });
        gbc.step();
        EXPECT(gbc.a(),  0x28);
        EXPECT(gbc.b(),  0x1d);
        EXPECT(gbc.c(),  0xb0);
        EXPECT(gbc.d(),  0x6f);
        EXPECT(gbc.e(),  0x99);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0xb1);
        EXPECT(gbc.sp(), 0xbfb5);
        EXPECT(gbc.pc(), 0xb92e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb92c), 0xe6);
        EXPECT(gbc.readMem(0xb92d), 0x69);
        // E6 039E
        gbc.setState(0x58c5, 0xe6d4, 0x1f80, 0xfde7, 0xfe54, 0xd7f5, 0x1, 0x1);
        gbc.writeMem(0x58c5, { 0xe6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0xd);
        EXPECT(gbc.b(),  0xfd);
        EXPECT(gbc.c(),  0xe7);
        EXPECT(gbc.d(),  0xfe);
        EXPECT(gbc.e(),  0x54);
        EXPECT(gbc.h(),  0xd7);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0xe6d4);
        EXPECT(gbc.pc(), 0x58c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 039F
        gbc.setState(0x4899, 0x562d, 0xaef0, 0xa0dc, 0x2977, 0xde56, 0x0, 0x0);
        gbc.writeMem(0x4899, { 0xe6, 0x4b });
        gbc.step();
        EXPECT(gbc.a(),  0xa);
        EXPECT(gbc.b(),  0xa0);
        EXPECT(gbc.c(),  0xdc);
        EXPECT(gbc.d(),  0x29);
        EXPECT(gbc.e(),  0x77);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x56);
        EXPECT(gbc.sp(), 0x562d);
        EXPECT(gbc.pc(), 0x489b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03A0
        gbc.setState(0x58dd, 0x8881, 0x5f70, 0xdf49, 0xcd1, 0x33ff, 0x1, 0x0);
        gbc.writeMem(0x58dd, { 0xe6, 0x8 });
        gbc.step();
        EXPECT(gbc.a(),  0x8);
        EXPECT(gbc.b(),  0xdf);
        EXPECT(gbc.c(),  0x49);
        EXPECT(gbc.d(),  0xc);
        EXPECT(gbc.e(),  0xd1);
        EXPECT(gbc.h(),  0x33);
        EXPECT(gbc.l(),  0xff);
        EXPECT(gbc.sp(), 0x8881);
        EXPECT(gbc.pc(), 0x58df);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03A1
        gbc.setState(0x1685, 0x3909, 0x2750, 0x178e, 0x8de, 0x1502, 0x1, 0x0);
        gbc.writeMem(0x1685, { 0xe6, 0x79 });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x17);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x8);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x15);
        EXPECT(gbc.l(),  0x2);
        EXPECT(gbc.sp(), 0x3909);
        EXPECT(gbc.pc(), 0x1687);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03A2
        gbc.setState(0x7b7d, 0xcca2, 0xbf00, 0x3bc3, 0x49c0, 0x6676, 0x0, 0x0);
        gbc.writeMem(0x7b7d, { 0xe6, 0x2c });
        gbc.step();
        EXPECT(gbc.a(),  0x2c);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0xc3);
        EXPECT(gbc.d(),  0x49);
        EXPECT(gbc.e(),  0xc0);
        EXPECT(gbc.h(),  0x66);
        EXPECT(gbc.l(),  0x76);
        EXPECT(gbc.sp(), 0xcca2);
        EXPECT(gbc.pc(), 0x7b7f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03A3
        gbc.setState(0xcbc7, 0x7fe6, 0x6c40, 0xf038, 0x41d5, 0xbd70, 0x0, 0x0);
        gbc.writeMem(0xcbc7, { 0xe6, 0x8c });
        gbc.step();
        EXPECT(gbc.a(),  0xc);
        EXPECT(gbc.b(),  0xf0);
        EXPECT(gbc.c(),  0x38);
        EXPECT(gbc.d(),  0x41);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xbd);
        EXPECT(gbc.l(),  0x70);
        EXPECT(gbc.sp(), 0x7fe6);
        EXPECT(gbc.pc(), 0xcbc9);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xcbc7), 0xe6);
        EXPECT(gbc.readMem(0xcbc8), 0x8c);
        // E6 03A4
        gbc.setState(0xbd0b, 0xe69, 0xff50, 0x2b79, 0x2df9, 0xb436, 0x1, 0x1);
        gbc.writeMem(0xbd0b, { 0xe6, 0x2b });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x2b);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0xf9);
        EXPECT(gbc.h(),  0xb4);
        EXPECT(gbc.l(),  0x36);
        EXPECT(gbc.sp(), 0xe69);
        EXPECT(gbc.pc(), 0xbd0d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xbd0b), 0xe6);
        EXPECT(gbc.readMem(0xbd0c), 0x2b);
        // E6 03A5
        gbc.setState(0xe65f, 0xd68e, 0x500, 0x5956, 0x814d, 0xddb9, 0x1, 0x1);
        gbc.writeMem(0xe65f, { 0xe6, 0xc2 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x59);
        EXPECT(gbc.c(),  0x56);
        EXPECT(gbc.d(),  0x81);
        EXPECT(gbc.e(),  0x4d);
        EXPECT(gbc.h(),  0xdd);
        EXPECT(gbc.l(),  0xb9);
        EXPECT(gbc.sp(), 0xd68e);
        EXPECT(gbc.pc(), 0xe661);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe65f), 0xe6);
        EXPECT(gbc.readMem(0xe660), 0xc2);
        // E6 03A6
        gbc.setState(0x82e3, 0xad0f, 0xf350, 0x4250, 0x301f, 0x648e, 0x1, 0x0);
        gbc.writeMem(0x82e3, { 0xe6, 0x1b });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0x30);
        EXPECT(gbc.e(),  0x1f);
        EXPECT(gbc.h(),  0x64);
        EXPECT(gbc.l(),  0x8e);
        EXPECT(gbc.sp(), 0xad0f);
        EXPECT(gbc.pc(), 0x82e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x82e3), 0xe6);
        EXPECT(gbc.readMem(0x82e4), 0x1b);
        // E6 03A7
        gbc.setState(0x8732, 0xfcbf, 0x91e0, 0x35fc, 0x3e60, 0xa74c, 0x0, 0x1);
        gbc.writeMem(0x8732, { 0xe6, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0x35);
        EXPECT(gbc.c(),  0xfc);
        EXPECT(gbc.d(),  0x3e);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa7);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0xfcbf);
        EXPECT(gbc.pc(), 0x8734);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8732), 0xe6);
        EXPECT(gbc.readMem(0x8733), 0x9a);
        // E6 03A8
        gbc.setState(0x36cd, 0xcad5, 0x5b90, 0x9bec, 0x59b, 0xf249, 0x1, 0x0);
        gbc.writeMem(0x36cd, { 0xe6, 0x33 });
        gbc.step();
        EXPECT(gbc.a(),  0x13);
        EXPECT(gbc.b(),  0x9b);
        EXPECT(gbc.c(),  0xec);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x49);
        EXPECT(gbc.sp(), 0xcad5);
        EXPECT(gbc.pc(), 0x36cf);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03A9
        gbc.setState(0x33e3, 0x1895, 0x8110, 0xecad, 0xa208, 0xa008, 0x1, 0x0);
        gbc.writeMem(0x33e3, { 0xe6, 0xc9 });
        gbc.step();
        EXPECT(gbc.a(),  0x81);
        EXPECT(gbc.b(),  0xec);
        EXPECT(gbc.c(),  0xad);
        EXPECT(gbc.d(),  0xa2);
        EXPECT(gbc.e(),  0x8);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x8);
        EXPECT(gbc.sp(), 0x1895);
        EXPECT(gbc.pc(), 0x33e5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03AA
        gbc.setState(0x6ae1, 0xdaf2, 0xa130, 0x1eae, 0x939c, 0x3a58, 0x1, 0x1);
        gbc.writeMem(0x6ae1, { 0xe6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0x1e);
        EXPECT(gbc.c(),  0xae);
        EXPECT(gbc.d(),  0x93);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x58);
        EXPECT(gbc.sp(), 0xdaf2);
        EXPECT(gbc.pc(), 0x6ae3);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03AB
        gbc.setState(0x8bf5, 0xa531, 0x3de0, 0x8446, 0x598d, 0x8eb8, 0x0, 0x1);
        gbc.writeMem(0x8bf5, { 0xe6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x4);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x46);
        EXPECT(gbc.d(),  0x59);
        EXPECT(gbc.e(),  0x8d);
        EXPECT(gbc.h(),  0x8e);
        EXPECT(gbc.l(),  0xb8);
        EXPECT(gbc.sp(), 0xa531);
        EXPECT(gbc.pc(), 0x8bf7);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x8bf5), 0xe6);
        EXPECT(gbc.readMem(0x8bf6), 0x6);
        // E6 03AC
        gbc.setState(0xc1c6, 0x710, 0xc320, 0x39ff, 0x324b, 0x5196, 0x1, 0x1);
        gbc.writeMem(0xc1c6, { 0xe6, 0xfb });
        gbc.step();
        EXPECT(gbc.a(),  0xc3);
        EXPECT(gbc.b(),  0x39);
        EXPECT(gbc.c(),  0xff);
        EXPECT(gbc.d(),  0x32);
        EXPECT(gbc.e(),  0x4b);
        EXPECT(gbc.h(),  0x51);
        EXPECT(gbc.l(),  0x96);
        EXPECT(gbc.sp(), 0x710);
        EXPECT(gbc.pc(), 0xc1c8);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc1c6), 0xe6);
        EXPECT(gbc.readMem(0xc1c7), 0xfb);
        // E6 03AD
        gbc.setState(0x35f5, 0x73ff, 0xff90, 0xb81f, 0x134, 0x3132, 0x1, 0x0);
        gbc.writeMem(0x35f5, { 0xe6, 0xd9 });
        gbc.step();
        EXPECT(gbc.a(),  0xd9);
        EXPECT(gbc.b(),  0xb8);
        EXPECT(gbc.c(),  0x1f);
        EXPECT(gbc.d(),  0x1);
        EXPECT(gbc.e(),  0x34);
        EXPECT(gbc.h(),  0x31);
        EXPECT(gbc.l(),  0x32);
        EXPECT(gbc.sp(), 0x73ff);
        EXPECT(gbc.pc(), 0x35f7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03AE
        gbc.setState(0x9c70, 0x2077, 0xa2a0, 0xba9c, 0xb6a8, 0x1b40, 0x1, 0x1);
        gbc.writeMem(0x9c70, { 0xe6, 0x4c });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0xba);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0xb6);
        EXPECT(gbc.e(),  0xa8);
        EXPECT(gbc.h(),  0x1b);
        EXPECT(gbc.l(),  0x40);
        EXPECT(gbc.sp(), 0x2077);
        EXPECT(gbc.pc(), 0x9c72);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9c70), 0xe6);
        EXPECT(gbc.readMem(0x9c71), 0x4c);
        // E6 03AF
        gbc.setState(0xca6e, 0xc741, 0xf050, 0x4181, 0x89a9, 0x46cd, 0x1, 0x0);
        gbc.writeMem(0xca6e, { 0xe6, 0xea });
        gbc.step();
        EXPECT(gbc.a(),  0xe0);
        EXPECT(gbc.b(),  0x41);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xa9);
        EXPECT(gbc.h(),  0x46);
        EXPECT(gbc.l(),  0xcd);
        EXPECT(gbc.sp(), 0xc741);
        EXPECT(gbc.pc(), 0xca70);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xca6e), 0xe6);
        EXPECT(gbc.readMem(0xca6f), 0xea);
        // E6 03B0
        gbc.setState(0xa7ea, 0x40ed, 0x7630, 0xcd79, 0xa979, 0x19d9, 0x1, 0x0);
        gbc.writeMem(0xa7ea, { 0xe6, 0xa0 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0xcd);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xa9);
        EXPECT(gbc.e(),  0x79);
        EXPECT(gbc.h(),  0x19);
        EXPECT(gbc.l(),  0xd9);
        EXPECT(gbc.sp(), 0x40ed);
        EXPECT(gbc.pc(), 0xa7ec);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa7ea), 0xe6);
        EXPECT(gbc.readMem(0xa7eb), 0xa0);
        // E6 03B1
        gbc.setState(0x80e2, 0x862a, 0xd6a0, 0x1ad2, 0x8640, 0xe19, 0x0, 0x1);
        gbc.writeMem(0x80e2, { 0xe6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0x92);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0xd2);
        EXPECT(gbc.d(),  0x86);
        EXPECT(gbc.e(),  0x40);
        EXPECT(gbc.h(),  0xe);
        EXPECT(gbc.l(),  0x19);
        EXPECT(gbc.sp(), 0x862a);
        EXPECT(gbc.pc(), 0x80e4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x80e2), 0xe6);
        EXPECT(gbc.readMem(0x80e3), 0xb3);
        // E6 03B2
        gbc.setState(0xeb90, 0x96f1, 0x600, 0x9ae9, 0x6c01, 0x1d6b, 0x1, 0x0);
        gbc.writeMem(0xeb90, { 0xe6, 0xce });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0x9a);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x6c);
        EXPECT(gbc.e(),  0x1);
        EXPECT(gbc.h(),  0x1d);
        EXPECT(gbc.l(),  0x6b);
        EXPECT(gbc.sp(), 0x96f1);
        EXPECT(gbc.pc(), 0xeb92);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeb90), 0xe6);
        EXPECT(gbc.readMem(0xeb91), 0xce);
        // E6 03B3
        gbc.setState(0xec47, 0xd1f1, 0x19e0, 0x4279, 0xe8f4, 0x412f, 0x1, 0x0);
        gbc.writeMem(0xec47, { 0xe6, 0x5a });
        gbc.step();
        EXPECT(gbc.a(),  0x18);
        EXPECT(gbc.b(),  0x42);
        EXPECT(gbc.c(),  0x79);
        EXPECT(gbc.d(),  0xe8);
        EXPECT(gbc.e(),  0xf4);
        EXPECT(gbc.h(),  0x41);
        EXPECT(gbc.l(),  0x2f);
        EXPECT(gbc.sp(), 0xd1f1);
        EXPECT(gbc.pc(), 0xec49);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xec47), 0xe6);
        EXPECT(gbc.readMem(0xec48), 0x5a);
        // E6 03B4
        gbc.setState(0xeeac, 0xc5f5, 0x15f0, 0x3edd, 0x7831, 0x3074, 0x1, 0x0);
        gbc.writeMem(0xeeac, { 0xe6, 0x3f });
        gbc.step();
        EXPECT(gbc.a(),  0x15);
        EXPECT(gbc.b(),  0x3e);
        EXPECT(gbc.c(),  0xdd);
        EXPECT(gbc.d(),  0x78);
        EXPECT(gbc.e(),  0x31);
        EXPECT(gbc.h(),  0x30);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0xc5f5);
        EXPECT(gbc.pc(), 0xeeae);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeeac), 0xe6);
        EXPECT(gbc.readMem(0xeead), 0x3f);
        // E6 03B5
        gbc.setState(0x7c77, 0xbba6, 0xfa20, 0x3b44, 0x8ebd, 0xae23, 0x0, 0x0);
        gbc.writeMem(0x7c77, { 0xe6, 0x3e });
        gbc.step();
        EXPECT(gbc.a(),  0x3a);
        EXPECT(gbc.b(),  0x3b);
        EXPECT(gbc.c(),  0x44);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xbd);
        EXPECT(gbc.h(),  0xae);
        EXPECT(gbc.l(),  0x23);
        EXPECT(gbc.sp(), 0xbba6);
        EXPECT(gbc.pc(), 0x7c79);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03B6
        gbc.setState(0xd0f2, 0xffa2, 0x87e0, 0xee7e, 0x37da, 0xec42, 0x0, 0x0);
        gbc.writeMem(0xd0f2, { 0xe6, 0x6 });
        gbc.step();
        EXPECT(gbc.a(),  0x6);
        EXPECT(gbc.b(),  0xee);
        EXPECT(gbc.c(),  0x7e);
        EXPECT(gbc.d(),  0x37);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0xec);
        EXPECT(gbc.l(),  0x42);
        EXPECT(gbc.sp(), 0xffa2);
        EXPECT(gbc.pc(), 0xd0f4);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd0f2), 0xe6);
        EXPECT(gbc.readMem(0xd0f3), 0x6);
        // E6 03B7
        gbc.setState(0x9131, 0xe2f3, 0x6f70, 0xb9f1, 0x2d62, 0x48cf, 0x1, 0x0);
        gbc.writeMem(0x9131, { 0xe6, 0xcc });
        gbc.step();
        EXPECT(gbc.a(),  0x4c);
        EXPECT(gbc.b(),  0xb9);
        EXPECT(gbc.c(),  0xf1);
        EXPECT(gbc.d(),  0x2d);
        EXPECT(gbc.e(),  0x62);
        EXPECT(gbc.h(),  0x48);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0xe2f3);
        EXPECT(gbc.pc(), 0x9133);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9131), 0xe6);
        EXPECT(gbc.readMem(0x9132), 0xcc);
        // E6 03B8
        gbc.setState(0xb2f4, 0xa842, 0x8770, 0x1fce, 0x4d61, 0xb12c, 0x1, 0x1);
        gbc.writeMem(0xb2f4, { 0xe6, 0x7f });
        gbc.step();
        EXPECT(gbc.a(),  0x7);
        EXPECT(gbc.b(),  0x1f);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x4d);
        EXPECT(gbc.e(),  0x61);
        EXPECT(gbc.h(),  0xb1);
        EXPECT(gbc.l(),  0x2c);
        EXPECT(gbc.sp(), 0xa842);
        EXPECT(gbc.pc(), 0xb2f6);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xb2f4), 0xe6);
        EXPECT(gbc.readMem(0xb2f5), 0x7f);
        // E6 03B9
        gbc.setState(0x3414, 0x8dd8, 0x6e0, 0x564d, 0x2757, 0xf233, 0x1, 0x1);
        gbc.writeMem(0x3414, { 0xe6, 0xd8 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x4d);
        EXPECT(gbc.d(),  0x27);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xf2);
        EXPECT(gbc.l(),  0x33);
        EXPECT(gbc.sp(), 0x8dd8);
        EXPECT(gbc.pc(), 0x3416);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03BA
        gbc.setState(0x1c0d, 0x579b, 0xc7c0, 0xf40d, 0x5e03, 0xc0a0, 0x0, 0x1);
        gbc.writeMem(0x1c0d, { 0xe6, 0x39 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xd);
        EXPECT(gbc.d(),  0x5e);
        EXPECT(gbc.e(),  0x3);
        EXPECT(gbc.h(),  0xc0);
        EXPECT(gbc.l(),  0xa0);
        EXPECT(gbc.sp(), 0x579b);
        EXPECT(gbc.pc(), 0x1c0f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03BB
        gbc.setState(0x7864, 0xdb0e, 0xb560, 0xf32, 0xa415, 0xc428, 0x1, 0x1);
        gbc.writeMem(0x7864, { 0xe6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x24);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0xa4);
        EXPECT(gbc.e(),  0x15);
        EXPECT(gbc.h(),  0xc4);
        EXPECT(gbc.l(),  0x28);
        EXPECT(gbc.sp(), 0xdb0e);
        EXPECT(gbc.pc(), 0x7866);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03BC
        gbc.setState(0x87b9, 0x741e, 0xeb00, 0x6f65, 0x625f, 0xd9fb, 0x1, 0x1);
        gbc.writeMem(0x87b9, { 0xe6, 0x9a });
        gbc.step();
        EXPECT(gbc.a(),  0x8a);
        EXPECT(gbc.b(),  0x6f);
        EXPECT(gbc.c(),  0x65);
        EXPECT(gbc.d(),  0x62);
        EXPECT(gbc.e(),  0x5f);
        EXPECT(gbc.h(),  0xd9);
        EXPECT(gbc.l(),  0xfb);
        EXPECT(gbc.sp(), 0x741e);
        EXPECT(gbc.pc(), 0x87bb);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x87b9), 0xe6);
        EXPECT(gbc.readMem(0x87ba), 0x9a);
        // E6 03BD
        gbc.setState(0x5e3c, 0xf955, 0x2840, 0x1820, 0xc857, 0xfbd2, 0x1, 0x1);
        gbc.writeMem(0x5e3c, { 0xe6, 0xb5 });
        gbc.step();
        EXPECT(gbc.a(),  0x20);
        EXPECT(gbc.b(),  0x18);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x57);
        EXPECT(gbc.h(),  0xfb);
        EXPECT(gbc.l(),  0xd2);
        EXPECT(gbc.sp(), 0xf955);
        EXPECT(gbc.pc(), 0x5e3e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03BE
        gbc.setState(0x1990, 0x1b9a, 0xc830, 0xe1d, 0xedde, 0x80b5, 0x1, 0x0);
        gbc.writeMem(0x1990, { 0xe6, 0xb4 });
        gbc.step();
        EXPECT(gbc.a(),  0x80);
        EXPECT(gbc.b(),  0xe);
        EXPECT(gbc.c(),  0x1d);
        EXPECT(gbc.d(),  0xed);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0xb5);
        EXPECT(gbc.sp(), 0x1b9a);
        EXPECT(gbc.pc(), 0x1992);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03BF
        gbc.setState(0x52b1, 0xe1c, 0x9240, 0x129, 0x5585, 0x8bfe, 0x0, 0x1);
        gbc.writeMem(0x52b1, { 0xe6, 0x6e });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x1);
        EXPECT(gbc.c(),  0x29);
        EXPECT(gbc.d(),  0x55);
        EXPECT(gbc.e(),  0x85);
        EXPECT(gbc.h(),  0x8b);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0xe1c);
        EXPECT(gbc.pc(), 0x52b3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03C0
        gbc.setState(0x73c5, 0x690f, 0x41b0, 0xa362, 0x1370, 0x37f6, 0x1, 0x1);
        gbc.writeMem(0x73c5, { 0xe6, 0xd4 });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xa3);
        EXPECT(gbc.c(),  0x62);
        EXPECT(gbc.d(),  0x13);
        EXPECT(gbc.e(),  0x70);
        EXPECT(gbc.h(),  0x37);
        EXPECT(gbc.l(),  0xf6);
        EXPECT(gbc.sp(), 0x690f);
        EXPECT(gbc.pc(), 0x73c7);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03C2
        gbc.setState(0xac28, 0x17e2, 0x5a00, 0xfee, 0x8860, 0x59db, 0x1, 0x0);
        gbc.writeMem(0xac28, { 0xe6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0xee);
        EXPECT(gbc.d(),  0x88);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0x59);
        EXPECT(gbc.l(),  0xdb);
        EXPECT(gbc.sp(), 0x17e2);
        EXPECT(gbc.pc(), 0xac2a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xac28), 0xe6);
        EXPECT(gbc.readMem(0xac29), 0x55);
        // E6 03C3
        gbc.setState(0x4b5c, 0xd0f, 0x590, 0xbdb3, 0x55e, 0x55e, 0x1, 0x1);
        gbc.writeMem(0x4b5c, { 0xe6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xbd);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0x5);
        EXPECT(gbc.e(),  0x5e);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0x5e);
        EXPECT(gbc.sp(), 0xd0f);
        EXPECT(gbc.pc(), 0x4b5e);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03C4
        gbc.setState(0x3bd1, 0x1b07, 0x1fd0, 0x30e0, 0xbcd0, 0x8079, 0x0, 0x1);
        gbc.writeMem(0x3bd1, { 0xe6, 0xe });
        gbc.step();
        EXPECT(gbc.a(),  0xe);
        EXPECT(gbc.b(),  0x30);
        EXPECT(gbc.c(),  0xe0);
        EXPECT(gbc.d(),  0xbc);
        EXPECT(gbc.e(),  0xd0);
        EXPECT(gbc.h(),  0x80);
        EXPECT(gbc.l(),  0x79);
        EXPECT(gbc.sp(), 0x1b07);
        EXPECT(gbc.pc(), 0x3bd3);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03C5
        gbc.setState(0x692c, 0xaf43, 0x4e70, 0xe220, 0xf6eb, 0x5df, 0x0, 0x1);
        gbc.writeMem(0x692c, { 0xe6, 0x65 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0xe2);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0xf6);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0x5);
        EXPECT(gbc.l(),  0xdf);
        EXPECT(gbc.sp(), 0xaf43);
        EXPECT(gbc.pc(), 0x692e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03C6
        gbc.setState(0x6b0e, 0x1d6, 0xc760, 0xaa54, 0x2b0e, 0x3a74, 0x0, 0x0);
        gbc.writeMem(0x6b0e, { 0xe6, 0x6b });
        gbc.step();
        EXPECT(gbc.a(),  0x43);
        EXPECT(gbc.b(),  0xaa);
        EXPECT(gbc.c(),  0x54);
        EXPECT(gbc.d(),  0x2b);
        EXPECT(gbc.e(),  0xe);
        EXPECT(gbc.h(),  0x3a);
        EXPECT(gbc.l(),  0x74);
        EXPECT(gbc.sp(), 0x1d6);
        EXPECT(gbc.pc(), 0x6b10);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03C7
        gbc.setState(0xeeae, 0x5a32, 0xccc0, 0x8a5a, 0x84eb, 0xf8f5, 0x0, 0x1);
        gbc.writeMem(0xeeae, { 0xe6, 0x46 });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x8a);
        EXPECT(gbc.c(),  0x5a);
        EXPECT(gbc.d(),  0x84);
        EXPECT(gbc.e(),  0xeb);
        EXPECT(gbc.h(),  0xf8);
        EXPECT(gbc.l(),  0xf5);
        EXPECT(gbc.sp(), 0x5a32);
        EXPECT(gbc.pc(), 0xeeb0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xeeae), 0xe6);
        EXPECT(gbc.readMem(0xeeaf), 0x46);
        // E6 03C8
        gbc.setState(0x6be3, 0x813d, 0xbd10, 0x5ae4, 0xb960, 0xa64c, 0x1, 0x0);
        gbc.writeMem(0x6be3, { 0xe6, 0x52 });
        gbc.step();
        EXPECT(gbc.a(),  0x10);
        EXPECT(gbc.b(),  0x5a);
        EXPECT(gbc.c(),  0xe4);
        EXPECT(gbc.d(),  0xb9);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xa6);
        EXPECT(gbc.l(),  0x4c);
        EXPECT(gbc.sp(), 0x813d);
        EXPECT(gbc.pc(), 0x6be5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03C9
        gbc.setState(0xe54d, 0x3d83, 0x42c0, 0x7c42, 0xd8d2, 0x9016, 0x0, 0x0);
        gbc.writeMem(0xe54d, { 0xe6, 0x3 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x7c);
        EXPECT(gbc.c(),  0x42);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0xd2);
        EXPECT(gbc.h(),  0x90);
        EXPECT(gbc.l(),  0x16);
        EXPECT(gbc.sp(), 0x3d83);
        EXPECT(gbc.pc(), 0xe54f);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xe54d), 0xe6);
        EXPECT(gbc.readMem(0xe54e), 0x3);
        // E6 03CB
        gbc.setState(0xc12, 0xab25, 0x5a60, 0xf3a, 0x10ed, 0x9430, 0x1, 0x1);
        gbc.writeMem(0xc12, { 0xe6, 0xef });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0xf);
        EXPECT(gbc.c(),  0x3a);
        EXPECT(gbc.d(),  0x10);
        EXPECT(gbc.e(),  0xed);
        EXPECT(gbc.h(),  0x94);
        EXPECT(gbc.l(),  0x30);
        EXPECT(gbc.sp(), 0xab25);
        EXPECT(gbc.pc(), 0xc14);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03CC
        gbc.setState(0x21aa, 0xebfe, 0xddf0, 0xb79c, 0x5aa1, 0x2159, 0x1, 0x0);
        gbc.writeMem(0x21aa, { 0xe6, 0xc5 });
        gbc.step();
        EXPECT(gbc.a(),  0xc5);
        EXPECT(gbc.b(),  0xb7);
        EXPECT(gbc.c(),  0x9c);
        EXPECT(gbc.d(),  0x5a);
        EXPECT(gbc.e(),  0xa1);
        EXPECT(gbc.h(),  0x21);
        EXPECT(gbc.l(),  0x59);
        EXPECT(gbc.sp(), 0xebfe);
        EXPECT(gbc.pc(), 0x21ac);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03CD
        gbc.setState(0x2509, 0x3c14, 0x1330, 0x14a4, 0x2f76, 0x89ed, 0x0, 0x0);
        gbc.writeMem(0x2509, { 0xe6, 0x55 });
        gbc.step();
        EXPECT(gbc.a(),  0x11);
        EXPECT(gbc.b(),  0x14);
        EXPECT(gbc.c(),  0xa4);
        EXPECT(gbc.d(),  0x2f);
        EXPECT(gbc.e(),  0x76);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0xed);
        EXPECT(gbc.sp(), 0x3c14);
        EXPECT(gbc.pc(), 0x250b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03CE
        gbc.setState(0x2348, 0x3267, 0xf820, 0xae8e, 0x3ce0, 0x4df1, 0x1, 0x1);
        gbc.writeMem(0x2348, { 0xe6, 0xf2 });
        gbc.step();
        EXPECT(gbc.a(),  0xf0);
        EXPECT(gbc.b(),  0xae);
        EXPECT(gbc.c(),  0x8e);
        EXPECT(gbc.d(),  0x3c);
        EXPECT(gbc.e(),  0xe0);
        EXPECT(gbc.h(),  0x4d);
        EXPECT(gbc.l(),  0xf1);
        EXPECT(gbc.sp(), 0x3267);
        EXPECT(gbc.pc(), 0x234a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03CF
        gbc.setState(0x47a8, 0xcc67, 0xa530, 0x588f, 0x9f97, 0x9df3, 0x1, 0x0);
        gbc.writeMem(0x47a8, { 0xe6, 0xbe });
        gbc.step();
        EXPECT(gbc.a(),  0xa4);
        EXPECT(gbc.b(),  0x58);
        EXPECT(gbc.c(),  0x8f);
        EXPECT(gbc.d(),  0x9f);
        EXPECT(gbc.e(),  0x97);
        EXPECT(gbc.h(),  0x9d);
        EXPECT(gbc.l(),  0xf3);
        EXPECT(gbc.sp(), 0xcc67);
        EXPECT(gbc.pc(), 0x47aa);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03D0
        gbc.setState(0x975b, 0x88d5, 0x39e0, 0xc7e9, 0x146d, 0xb998, 0x1, 0x1);
        gbc.writeMem(0x975b, { 0xe6, 0xc3 });
        gbc.step();
        EXPECT(gbc.a(),  0x1);
        EXPECT(gbc.b(),  0xc7);
        EXPECT(gbc.c(),  0xe9);
        EXPECT(gbc.d(),  0x14);
        EXPECT(gbc.e(),  0x6d);
        EXPECT(gbc.h(),  0xb9);
        EXPECT(gbc.l(),  0x98);
        EXPECT(gbc.sp(), 0x88d5);
        EXPECT(gbc.pc(), 0x975d);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x975b), 0xe6);
        EXPECT(gbc.readMem(0x975c), 0xc3);
        // E6 03D1
        gbc.setState(0x99bc, 0x7729, 0x8d70, 0xce27, 0x4fca, 0xc3fe, 0x1, 0x0);
        gbc.writeMem(0x99bc, { 0xe6, 0xa9 });
        gbc.step();
        EXPECT(gbc.a(),  0x89);
        EXPECT(gbc.b(),  0xce);
        EXPECT(gbc.c(),  0x27);
        EXPECT(gbc.d(),  0x4f);
        EXPECT(gbc.e(),  0xca);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xfe);
        EXPECT(gbc.sp(), 0x7729);
        EXPECT(gbc.pc(), 0x99be);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x99bc), 0xe6);
        EXPECT(gbc.readMem(0x99bd), 0xa9);
        // E6 03D2
        gbc.setState(0x3634, 0x732c, 0x4a60, 0x787b, 0x53d8, 0x624e, 0x0, 0x1);
        gbc.writeMem(0x3634, { 0xe6, 0xdb });
        gbc.step();
        EXPECT(gbc.a(),  0x4a);
        EXPECT(gbc.b(),  0x78);
        EXPECT(gbc.c(),  0x7b);
        EXPECT(gbc.d(),  0x53);
        EXPECT(gbc.e(),  0xd8);
        EXPECT(gbc.h(),  0x62);
        EXPECT(gbc.l(),  0x4e);
        EXPECT(gbc.sp(), 0x732c);
        EXPECT(gbc.pc(), 0x3636);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03D3
        gbc.setState(0xdf75, 0x35e0, 0x1b40, 0x8486, 0xc6da, 0x7bcf, 0x1, 0x1);
        gbc.writeMem(0xdf75, { 0xe6, 0x9d });
        gbc.step();
        EXPECT(gbc.a(),  0x19);
        EXPECT(gbc.b(),  0x84);
        EXPECT(gbc.c(),  0x86);
        EXPECT(gbc.d(),  0xc6);
        EXPECT(gbc.e(),  0xda);
        EXPECT(gbc.h(),  0x7b);
        EXPECT(gbc.l(),  0xcf);
        EXPECT(gbc.sp(), 0x35e0);
        EXPECT(gbc.pc(), 0xdf77);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xdf75), 0xe6);
        EXPECT(gbc.readMem(0xdf76), 0x9d);
        // E6 03D4
        gbc.setState(0x678, 0xd14b, 0xedd0, 0x8932, 0x89d5, 0xd30f, 0x0, 0x1);
        gbc.writeMem(0x678, { 0xe6, 0xc6 });
        gbc.step();
        EXPECT(gbc.a(),  0xc4);
        EXPECT(gbc.b(),  0x89);
        EXPECT(gbc.c(),  0x32);
        EXPECT(gbc.d(),  0x89);
        EXPECT(gbc.e(),  0xd5);
        EXPECT(gbc.h(),  0xd3);
        EXPECT(gbc.l(),  0xf);
        EXPECT(gbc.sp(), 0xd14b);
        EXPECT(gbc.pc(), 0x67a);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03D6
        gbc.setState(0x5904, 0x3fbb, 0x310, 0xe0b3, 0xd88e, 0xb36d, 0x1, 0x1);
        gbc.writeMem(0x5904, { 0xe6, 0xf6 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0xe0);
        EXPECT(gbc.c(),  0xb3);
        EXPECT(gbc.d(),  0xd8);
        EXPECT(gbc.e(),  0x8e);
        EXPECT(gbc.h(),  0xb3);
        EXPECT(gbc.l(),  0x6d);
        EXPECT(gbc.sp(), 0x3fbb);
        EXPECT(gbc.pc(), 0x5906);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03D7
        gbc.setState(0xd8af, 0x7449, 0x71c0, 0x49ef, 0x1844, 0xde26, 0x1, 0x1);
        gbc.writeMem(0xd8af, { 0xe6, 0xaf });
        gbc.step();
        EXPECT(gbc.a(),  0x21);
        EXPECT(gbc.b(),  0x49);
        EXPECT(gbc.c(),  0xef);
        EXPECT(gbc.d(),  0x18);
        EXPECT(gbc.e(),  0x44);
        EXPECT(gbc.h(),  0xde);
        EXPECT(gbc.l(),  0x26);
        EXPECT(gbc.sp(), 0x7449);
        EXPECT(gbc.pc(), 0xd8b1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xd8af), 0xe6);
        EXPECT(gbc.readMem(0xd8b0), 0xaf);
        // E6 03D8
        gbc.setState(0x905b, 0xbbf9, 0xd610, 0xf4cb, 0x359, 0xa07d, 0x0, 0x1);
        gbc.writeMem(0x905b, { 0xe6, 0xb8 });
        gbc.step();
        EXPECT(gbc.a(),  0x90);
        EXPECT(gbc.b(),  0xf4);
        EXPECT(gbc.c(),  0xcb);
        EXPECT(gbc.d(),  0x3);
        EXPECT(gbc.e(),  0x59);
        EXPECT(gbc.h(),  0xa0);
        EXPECT(gbc.l(),  0x7d);
        EXPECT(gbc.sp(), 0xbbf9);
        EXPECT(gbc.pc(), 0x905d);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x905b), 0xe6);
        EXPECT(gbc.readMem(0x905c), 0xb8);
        // E6 03D9
        gbc.setState(0xafdf, 0xbb9d, 0xe750, 0xbf3d, 0x7fde, 0x4d3, 0x1, 0x1);
        gbc.writeMem(0xafdf, { 0xe6, 0xb3 });
        gbc.step();
        EXPECT(gbc.a(),  0xa3);
        EXPECT(gbc.b(),  0xbf);
        EXPECT(gbc.c(),  0x3d);
        EXPECT(gbc.d(),  0x7f);
        EXPECT(gbc.e(),  0xde);
        EXPECT(gbc.h(),  0x4);
        EXPECT(gbc.l(),  0xd3);
        EXPECT(gbc.sp(), 0xbb9d);
        EXPECT(gbc.pc(), 0xafe1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xafdf), 0xe6);
        EXPECT(gbc.readMem(0xafe0), 0xb3);
        // E6 03DA
        gbc.setState(0x98b4, 0xb39d, 0x4e20, 0x7f50, 0xc851, 0x7e82, 0x0, 0x1);
        gbc.writeMem(0x98b4, { 0xe6, 0xd6 });
        gbc.step();
        EXPECT(gbc.a(),  0x46);
        EXPECT(gbc.b(),  0x7f);
        EXPECT(gbc.c(),  0x50);
        EXPECT(gbc.d(),  0xc8);
        EXPECT(gbc.e(),  0x51);
        EXPECT(gbc.h(),  0x7e);
        EXPECT(gbc.l(),  0x82);
        EXPECT(gbc.sp(), 0xb39d);
        EXPECT(gbc.pc(), 0x98b6);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x98b4), 0xe6);
        EXPECT(gbc.readMem(0x98b5), 0xd6);
        // E6 03DB
        gbc.setState(0x4d50, 0x96c7, 0x6f00, 0x8220, 0x179c, 0x9e34, 0x1, 0x0);
        gbc.writeMem(0x4d50, { 0xe6, 0xbb });
        gbc.step();
        EXPECT(gbc.a(),  0x2b);
        EXPECT(gbc.b(),  0x82);
        EXPECT(gbc.c(),  0x20);
        EXPECT(gbc.d(),  0x17);
        EXPECT(gbc.e(),  0x9c);
        EXPECT(gbc.h(),  0x9e);
        EXPECT(gbc.l(),  0x34);
        EXPECT(gbc.sp(), 0x96c7);
        EXPECT(gbc.pc(), 0x4d52);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03DC
        gbc.setState(0x4c9c, 0x6d74, 0x3760, 0xe789, 0xb575, 0x522d, 0x0, 0x0);
        gbc.writeMem(0x4c9c, { 0xe6, 0xcb });
        gbc.step();
        EXPECT(gbc.a(),  0x3);
        EXPECT(gbc.b(),  0xe7);
        EXPECT(gbc.c(),  0x89);
        EXPECT(gbc.d(),  0xb5);
        EXPECT(gbc.e(),  0x75);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0x2d);
        EXPECT(gbc.sp(), 0x6d74);
        EXPECT(gbc.pc(), 0x4c9e);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03DD
        gbc.setState(0x689f, 0xee95, 0x8280, 0x23a6, 0x2cea, 0x52c6, 0x1, 0x1);
        gbc.writeMem(0x689f, { 0xe6, 0x60 });
        gbc.step();
        EXPECT(gbc.a(),  0x0);
        EXPECT(gbc.b(),  0x23);
        EXPECT(gbc.c(),  0xa6);
        EXPECT(gbc.d(),  0x2c);
        EXPECT(gbc.e(),  0xea);
        EXPECT(gbc.h(),  0x52);
        EXPECT(gbc.l(),  0xc6);
        EXPECT(gbc.sp(), 0xee95);
        EXPECT(gbc.pc(), 0x68a1);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  true);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03DE
        gbc.setState(0x36f3, 0x523f, 0x44d0, 0x2a81, 0xb9b, 0xad5, 0x1, 0x1);
        gbc.writeMem(0x36f3, { 0xe6, 0x6d });
        gbc.step();
        EXPECT(gbc.a(),  0x44);
        EXPECT(gbc.b(),  0x2a);
        EXPECT(gbc.c(),  0x81);
        EXPECT(gbc.d(),  0xb);
        EXPECT(gbc.e(),  0x9b);
        EXPECT(gbc.h(),  0xa);
        EXPECT(gbc.l(),  0xd5);
        EXPECT(gbc.sp(), 0x523f);
        EXPECT(gbc.pc(), 0x36f5);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03DF
        gbc.setState(0x7119, 0x9270, 0xf210, 0x5393, 0x5f2d, 0x1e5, 0x0, 0x1);
        gbc.writeMem(0x7119, { 0xe6, 0x34 });
        gbc.step();
        EXPECT(gbc.a(),  0x30);
        EXPECT(gbc.b(),  0x53);
        EXPECT(gbc.c(),  0x93);
        EXPECT(gbc.d(),  0x5f);
        EXPECT(gbc.e(),  0x2d);
        EXPECT(gbc.h(),  0x1);
        EXPECT(gbc.l(),  0xe5);
        EXPECT(gbc.sp(), 0x9270);
        EXPECT(gbc.pc(), 0x711b);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03E0
        gbc.setState(0x4704, 0x1195, 0xffd0, 0xafd9, 0x9160, 0xc3bd, 0x0, 0x1);
        gbc.writeMem(0x4704, { 0xe6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x1f);
        EXPECT(gbc.b(),  0xaf);
        EXPECT(gbc.c(),  0xd9);
        EXPECT(gbc.d(),  0x91);
        EXPECT(gbc.e(),  0x60);
        EXPECT(gbc.h(),  0xc3);
        EXPECT(gbc.l(),  0xbd);
        EXPECT(gbc.sp(), 0x1195);
        EXPECT(gbc.pc(), 0x4706);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03E1
        gbc.setState(0xa958, 0x8e0, 0x5b30, 0x1a19, 0x8eb3, 0x8995, 0x1, 0x0);
        gbc.writeMem(0xa958, { 0xe6, 0xd });
        gbc.step();
        EXPECT(gbc.a(),  0x9);
        EXPECT(gbc.b(),  0x1a);
        EXPECT(gbc.c(),  0x19);
        EXPECT(gbc.d(),  0x8e);
        EXPECT(gbc.e(),  0xb3);
        EXPECT(gbc.h(),  0x89);
        EXPECT(gbc.l(),  0x95);
        EXPECT(gbc.sp(), 0x8e0);
        EXPECT(gbc.pc(), 0xa95a);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa958), 0xe6);
        EXPECT(gbc.readMem(0xa959), 0xd);
        // E6 03E2
        gbc.setState(0x5bb9, 0x4b65, 0xd730, 0x95ce, 0x5c7f, 0x9722, 0x0, 0x0);
        gbc.writeMem(0x5bb9, { 0xe6, 0x1f });
        gbc.step();
        EXPECT(gbc.a(),  0x17);
        EXPECT(gbc.b(),  0x95);
        EXPECT(gbc.c(),  0xce);
        EXPECT(gbc.d(),  0x5c);
        EXPECT(gbc.e(),  0x7f);
        EXPECT(gbc.h(),  0x97);
        EXPECT(gbc.l(),  0x22);
        EXPECT(gbc.sp(), 0x4b65);
        EXPECT(gbc.pc(), 0x5bbb);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03E3
        gbc.setState(0xc5ee, 0xc10, 0x9530, 0x63f8, 0xc96c, 0xa914, 0x0, 0x0);
        gbc.writeMem(0xc5ee, { 0xe6, 0x2f });
        gbc.step();
        EXPECT(gbc.a(),  0x5);
        EXPECT(gbc.b(),  0x63);
        EXPECT(gbc.c(),  0xf8);
        EXPECT(gbc.d(),  0xc9);
        EXPECT(gbc.e(),  0x6c);
        EXPECT(gbc.h(),  0xa9);
        EXPECT(gbc.l(),  0x14);
        EXPECT(gbc.sp(), 0xc10);
        EXPECT(gbc.pc(), 0xc5f0);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xc5ee), 0xe6);
        EXPECT(gbc.readMem(0xc5ef), 0x2f);
        // E6 03E4
        gbc.setState(0x6e6d, 0xbf24, 0x7320, 0xf3fd, 0xea5b, 0x659b, 0x1, 0x1);
        gbc.writeMem(0x6e6d, { 0xe6, 0xd0 });
        gbc.step();
        EXPECT(gbc.a(),  0x50);
        EXPECT(gbc.b(),  0xf3);
        EXPECT(gbc.c(),  0xfd);
        EXPECT(gbc.d(),  0xea);
        EXPECT(gbc.e(),  0x5b);
        EXPECT(gbc.h(),  0x65);
        EXPECT(gbc.l(),  0x9b);
        EXPECT(gbc.sp(), 0xbf24);
        EXPECT(gbc.pc(), 0x6e6f);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03E5
        gbc.setState(0xa112, 0xf902, 0x8e60, 0x5678, 0x28d3, 0x4cce, 0x1, 0x0);
        gbc.writeMem(0xa112, { 0xe6, 0x73 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x56);
        EXPECT(gbc.c(),  0x78);
        EXPECT(gbc.d(),  0x28);
        EXPECT(gbc.e(),  0xd3);
        EXPECT(gbc.h(),  0x4c);
        EXPECT(gbc.l(),  0xce);
        EXPECT(gbc.sp(), 0xf902);
        EXPECT(gbc.pc(), 0xa114);
        EXPECT(gbc.ime(), 0x1);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0xa112), 0xe6);
        EXPECT(gbc.readMem(0xa113), 0x73);
        // E6 03E6
        gbc.setState(0x3e8, 0xaa64, 0x6260, 0x9053, 0x3bb7, 0xbb, 0x0, 0x1);
        gbc.writeMem(0x3e8, { 0xe6, 0x93 });
        gbc.step();
        EXPECT(gbc.a(),  0x2);
        EXPECT(gbc.b(),  0x90);
        EXPECT(gbc.c(),  0x53);
        EXPECT(gbc.d(),  0x3b);
        EXPECT(gbc.e(),  0xb7);
        EXPECT(gbc.h(),  0x0);
        EXPECT(gbc.l(),  0xbb);
        EXPECT(gbc.sp(), 0xaa64);
        EXPECT(gbc.pc(), 0x3ea);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        // E6 03E7
        gbc.setState(0x9b26, 0x8dff, 0x4130, 0xe1b7, 0xcadf, 0x3f7a, 0x0, 0x1);
        gbc.writeMem(0x9b26, { 0xe6, 0x5e });
        gbc.step();
        EXPECT(gbc.a(),  0x40);
        EXPECT(gbc.b(),  0xe1);
        EXPECT(gbc.c(),  0xb7);
        EXPECT(gbc.d(),  0xca);
        EXPECT(gbc.e(),  0xdf);
        EXPECT(gbc.h(),  0x3f);
        EXPECT(gbc.l(),  0x7a);
        EXPECT(gbc.sp(), 0x8dff);
        EXPECT(gbc.pc(), 0x9b28);
        EXPECT(gbc.ime(), 0x0);
        EXPECT(gbc.flagZ(),  false);
        EXPECT(gbc.flagN(),  false);
        EXPECT(gbc.flagH(),  true);
        EXPECT(gbc.flagC(),  false);
        EXPECT(gbc.readMem(0x9b26), 0xe6);
        EXPECT(gbc.readMem(0x9b27), 0x5e);
    }
